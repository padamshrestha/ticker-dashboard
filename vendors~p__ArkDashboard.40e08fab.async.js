(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"+DwW":function(wr,Vt,z){"use strict";var lt=z("mrSG"),a=z("Mw2x"),M=function(t){Object(lt.b)(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.isGroup=function(){return!0},n.prototype.isEntityGroup=function(){return!1},n.prototype.clone=function(){for(var d=t.prototype.clone.call(this),S=this.getChildren(),b=0;b<S.length;b++){var h=S[b];d.add(h.clone())}return d},n}(a.a);Vt.a=M},"+Nd1":function(wr,Vt,z){"use strict";var lt=z("DdT1"),a=z("FPPI");Vt.a=function(){var M=1,t=1,n=0,d=!1;function S(h){var E=h.height+1;return h.x0=h.y0=n,h.x1=M,h.y1=t/E,h.eachBefore(b(t,E)),d&&h.eachBefore(lt.a),h}function b(h,E){return function(T){T.children&&Object(a.a)(T,T.x0,h*(T.depth+1)/E,T.x1,h*(T.depth+2)/E);var o=T.x0,s=T.y0,u=T.x1-n,v=T.y1-n;u<o&&(o=u=(o+u)/2),v<s&&(s=v=(s+v)/2),T.x0=o,T.y0=s,T.x1=u,T.y1=v}}return S.round=function(h){return arguments.length?(d=!!h,S):d},S.size=function(h){return arguments.length?(M=+h[0],t=+h[1],S):[M,t]},S.padding=function(h){return arguments.length?(n=+h,S):n},S}},"+Oe8":function(wr,Vt,z){"use strict";Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.getReplaceAttrs=Vt.getPolygonCentroid=Vt.getAngle=Vt.getArcPath=Vt.getSectorPath=Vt.polarToCartesian=void 0;var lt=z("iTfj");function a(h){if(lt.isEmpty(h))return null;var E=h[0].x,T=h[0].x,o=h[0].y,s=h[0].y;return lt.each(h,function(u){E=E>u.x?u.x:E,T=T<u.x?u.x:T,o=o>u.y?u.y:o,s=s<u.y?u.y:s}),{minX:E,maxX:T,minY:o,maxY:s,centerX:(E+T)/2,centerY:(o+s)/2}}function M(h,E,T,o){return{x:h+T*Math.cos(o),y:E+T*Math.sin(o)}}Vt.polarToCartesian=M;function t(h,E,T,o,s,u){u===void 0&&(u=0);var v=M(h,E,T,o),C=M(h,E,T,s),O=M(h,E,u,o),j=M(h,E,u,s);if(s-o==Math.PI*2){var p=M(h,E,T,o+Math.PI),x=M(h,E,u,o+Math.PI),A=[["M",v.x,v.y],["A",T,T,0,1,1,p.x,p.y],["A",T,T,0,1,1,C.x,C.y],["M",O.x,O.y]];return u&&(A.push(["A",u,u,0,1,0,x.x,x.y]),A.push(["A",u,u,0,1,0,j.x,j.y])),A.push(["M",v.x,v.y]),A.push(["Z"]),A}var k=s-o<=Math.PI?0:1,X=[["M",v.x,v.y],["A",T,T,0,k,1,C.x,C.y],["L",j.x,j.y]];return u&&X.push(["A",u,u,0,k,0,O.x,O.y]),X.push(["L",v.x,v.y]),X.push(["Z"]),X}Vt.getSectorPath=t;function n(h,E,T,o,s){var u=M(h,E,T,o),v=M(h,E,T,s);if(lt.isNumberEqual(s-o,Math.PI*2)){var C=M(h,E,T,o+Math.PI);return[["M",u.x,u.y],["A",T,T,0,1,1,C.x,C.y],["A",T,T,0,1,1,u.x,u.y],["A",T,T,0,1,0,C.x,C.y],["A",T,T,0,1,0,u.x,u.y],["Z"]]}var O=s-o<=Math.PI?0:1;return[["M",u.x,u.y],["A",T,T,0,O,1,v.x,v.y]]}Vt.getArcPath=n;function d(h,E){var T=h.points,o=a(T),s,u,v=E.startAngle,C=E.endAngle,O=C-v;return E.isTransposed?(s=o.maxY*O,u=o.minY*O):(s=o.maxX*O,u=o.minX*O),s+=v,u+=v,{startAngle:u,endAngle:s}}Vt.getAngle=d;function S(h,E){if(lt.isNumber(h)&&lt.isNumber(E))return[h,E];for(var T=-1,o=0,s=0,u,v=h.length-1,C,O=0;++T<h.length;)u=v,v=T,O+=C=h[u]*E[v]-h[v]*E[u],o+=(h[u]+h[v])*C,s+=(E[u]+E[v])*C;return O*=3,[o/O,s/O]}Vt.getPolygonCentroid=S;function b(h,E){var T=h.attr(),o=E.attr();return lt.each(T,function(s,u){o[u]===void 0&&(o[u]=void 0)}),o}Vt.getReplaceAttrs=b},"+wVF":function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return v});var lt=z("mrSG"),a=z("zJSt"),M=z("YuPD"),t=z("iTfj"),n=z("n/J0"),d=z("w02o");function S(C){var O=C.chart,j=C.options,p=j.data,x=j.type,A=j.reflect,k=j.xField,X=j.yField,et=j.colorField,tt=j.sizeField,ft=j.sizeRatio,st=j.shape,vt=j.color;O.data(p);var mt;x==="density"?mt=O.heatmap().position(k+"*"+X):mt=O.polygon().position(k+"*"+X),et&&mt.color(et,vt||n.b.GRADIENT.CONTINUOUS),A&&O.coordinate().reflect(A);var pt=1;if((ft||ft===0)&&(!st&&!tt?console.warn("sizeRatio is not in effect: Must define shape or sizeField first"):ft<0||ft>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):pt=ft),st&&(tt||mt.shape("",function(){return[st,1,pt]}),tt)){var rt=p.map(function(St){return St[tt]}),Bt=Math.min.apply(Math,rt),It=Math.max.apply(Math,rt);mt.shape(tt,function(St){return[st,(St-Bt)/(It-Bt),pt]})}return C}function b(C){var O,j=C.options,p=j.xAxis,x=j.yAxis,A=j.xField,k=j.yField;return Object(M.e)(Object(d.f)((O={},O[A]=p,O[k]=x,O)))(C)}function h(C){var O=C.chart,j=C.options,p=j.xAxis,x=j.yAxis,A=j.xField,k=j.yField;return p===!1?O.axis(A,!1):O.axis(A,p),x===!1?O.axis(k,!1):O.axis(k,x),C}function E(C){var O=C.chart,j=C.options,p=j.legend,x=j.colorField;return p?O.legend(x,p):O.legend(!1),C}function T(C){var O=C.chart,j=C.options,p=j.xField,x=j.yField,A=j.colorField,k=j.sizeField,X=j.heatmapStyle,et=O.geometries[0];return X&&et&&(Object(t.isFunction)(X)?et.style(p+"*"+x+"*"+A+"*"+k,X):Object(t.isObject)(X)&&et.style(X)),C}function o(C){var O=C.chart,j=C.options,p=j.label,x=j.colorField,A=j.type,k=Object(M.c)(O,A==="density"?"heatmap":"polygon");if(!p)k.label(!1);else if(x){var X=p.callback,et=Object(lt.c)(p,["callback"]);k.label({fields:[x],callback:X,cfg:Object(M.p)(et)})}return C}function s(C){return Object(M.e)(S,b,d.j,h,E,d.k,T,o,Object(d.b)(),d.c,d.a)(C)}var u=z("kXyF");Object(u.registerShape)("polygon","circle",{draw:function(O,j){var p,x,A=O.x,k=O.y,X=this.parsePoints(O.points),et=Math.abs(X[2].x-X[1].x),tt=Math.abs(X[1].y-X[0].y),ft=Math.min(et,tt)/2,st=Number(O.shape[1]),vt=Number(O.shape[2]),mt=Math.sqrt(vt),pt=ft*mt*Math.sqrt(st),rt=((p=O.style)===null||p===void 0?void 0:p.fill)||O.color||((x=O.defaultStyle)===null||x===void 0?void 0:x.fill),Bt=j.addShape("circle",{attrs:Object(lt.a)(Object(lt.a)(Object(lt.a)({x:A,y:k,r:pt},O.defaultStyle),O.style),{fill:rt})});return Bt}}),Object(u.registerShape)("polygon","square",{draw:function(O,j){var p,x,A=O.x,k=O.y,X=this.parsePoints(O.points),et=Math.abs(X[2].x-X[1].x),tt=Math.abs(X[1].y-X[0].y),ft=Math.min(et,tt),st=Number(O.shape[1]),vt=Number(O.shape[2]),mt=Math.sqrt(vt),pt=ft*mt*Math.sqrt(st),rt=((p=O.style)===null||p===void 0?void 0:p.fill)||O.color||((x=O.defaultStyle)===null||x===void 0?void 0:x.fill),Bt=j.addShape("rect",{attrs:Object(lt.a)(Object(lt.a)(Object(lt.a)({x:A-pt/2,y:k-pt/2,width:pt,height:pt},O.defaultStyle),O.style),{fill:rt})});return Bt}});var v=function(C){Object(lt.b)(O,C);function O(){var j=C!==null&&C.apply(this,arguments)||this;return j.type="heatmap",j}return O.prototype.getSchemaAdaptor=function(){return s},O.prototype.getDefaultOptions=function(){return Object(M.b)({},C.prototype.getDefaultOptions.call(this),{type:"polygon",legend:!1,xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}})},O}(a.a)},"/+3i":function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return x});var lt=z("mrSG"),a=z("YuPD"),M=z("zJSt"),t=z("iTfj"),n=z("w02o"),d=z("n/J0"),S="$$stock-range$$",b="trend",h="up",E="down",T=["#ef5350","#26a69a"],o={showTitle:!1,showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0},itemTpl:'<li class="g2-tooltip-list-item" data-index={index}><span style="background-color:{color};" class="g2-tooltip-marker"></span>{name}{value}</li>'};function s(A,k){return Object(t.map)(A,function(X){if(Object(t.isArray)(k)){var et=k[0],tt=k[1],ft=k[2],st=k[3];X[b]=X[et]<=X[tt]?h:E,X[S]=[X[et],X[tt],X[ft],X[st]]}return X})}function u(A){var k=A.chart,X=A.options,et=X.xField,tt=X.yField,ft=X.data;k.data(s(ft,tt));var st=k.schema().position(et+"*"+S).shape("candle");return st.color(b,T),A}function v(A){var k,X,et=A.chart,tt=A.options,ft=tt.meta,st=tt.xAxis,vt=tt.yAxis,mt=tt.xField,pt=(k={},k[mt]={type:"timeCat",tickCount:6},k[b]={values:[h,E]},k),rt=Object(a.b)(pt,ft,(X={},X[mt]=Object(a.l)(st,d.a),X[S]=Object(a.l)(vt,d.a),X));return et.scale(rt),A}function C(A){var k=A.chart,X=A.options,et=X.xAxis,tt=X.yAxis,ft=X.xField;return et===!1?k.axis(ft,!1):k.axis(ft,et),tt===!1?k.axis(S,!1):k.axis(S,tt),A}function O(A){var k=A.chart,X=A.options,et=X.xField,tt=X.yField,ft=X.meta,st=ft===void 0?{}:ft,vt=X.tooltip,mt=vt===void 0?{}:vt,pt=Object(a.c)(k,"schema"),rt=tt[0],Bt=tt[1],It=tt[2],St=tt[3],H=st[rt]&&st[rt].alias||rt,ot=st[Bt]?st[Bt].alias||rt:Bt,yt=st[It]&&st[It].alias||It,xt=st[St]&&st[St].alias||St,wt={fields:[et,rt,Bt,It,St],callback:function(U,D,W,P,m){var y={name:U,value:`
          <br><span data-label="`+H+'" style="padding-left: 16px">'+H+"\uFF1A"+D+`</span>
          <br><span data-label="`+ot+'" style="padding-left: 16px">'+ot+"\uFF1A"+W+`</span>
          <br><span data-label="`+yt+'" style="padding-left: 16px">'+yt+"\uFF1A"+P+`</span>
          <br><span data-label="`+xt+'" style="padding-left: 16px">'+xt+"\uFF1A"+m+`</span>
        `};return y}},Q={crosshairs:{text:function(U,D,W){var P={position:"end"};if(U==="x"){var m=W[0];P.content=m?m.data[et]:D}else P.content=D;return P}}};if(mt){if(Object(t.isObject)(mt)){var ct=Object(a.b)({},Q,mt);k.tooltip(ct),pt.tooltip(wt)}}else k.tooltip(!1);return A}function j(A){var k=A.chart,X=A.options,et=X.legend;return et?k.legend(b,et):et===!1&&k.legend(!1),A}function p(A){Object(a.e)(u,v,n.j,C,O,j,n.c,n.a)(A)}var x=function(A){Object(lt.b)(k,A);function k(){var X=A!==null&&A.apply(this,arguments)||this;return X.type="stock",X}return k.prototype.getDefaultOptions=function(){return Object(a.b)({},A.prototype.getDefaultOptions.call(this),{tooltip:o,interactions:[{type:"tooltip"}],legend:{position:"top-left"}})},k.prototype.getSchemaAdaptor=function(){return p},k.prototype.changeData=function(X){this.updateOption({data:X});var et=this.options.yField;this.chart.changeData(s(X,et))},k}(M.a)},"/3+T":function(wr,Vt,z){"use strict";z.r(Vt),z.d(Vt,"Line",function(){return E}),z.d(Vt,"Circle",function(){return o}),z.d(Vt,"Base",function(){return b}),z.d(Vt,"Html",function(){return A});var lt=z("mrSG"),a=z("5UbV"),M=z("iTfj"),t=z("MeYt"),n=z("jqgP"),d=z("L16w"),S=function(k){Object(lt.b)(X,k);function X(){return k!==null&&k.apply(this,arguments)||this}return X.prototype.getDefaultCfg=function(){var et=k.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},et),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:d.a.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:d.a.textColor,textAlign:"center",textBaseline:"middle",fontFamily:d.a.fontFamily}},textBackground:{padding:5,style:{stroke:d.a.lineColor}}}})},X.prototype.renderInner=function(et){this.get("line")&&this.renderLine(et),this.get("text")&&(this.renderText(et),this.renderBackground(et))},X.prototype.renderText=function(et){var tt=this.get("text"),ft=tt.style,st=tt.autoRotate,vt=tt.content;if(!Object(M.isNil)(vt)){var mt=this.getTextPoint(),pt=null;if(st){var rt=this.getRotateAngle();pt=Object(n.e)(mt,rt)}this.addShape(et,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:Object(lt.a)(Object(lt.a)(Object(lt.a)({},mt),{text:vt,matrix:pt}),ft)})}},X.prototype.renderLine=function(et){var tt=this.getLinePath(),ft=this.get("line"),st=ft.style;this.addShape(et,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:Object(lt.a)({path:tt},st)})},X.prototype.renderBackground=function(et){var tt=this.getElementId("text"),ft=et.findById(tt),st=this.get("textBackground");if(st&&ft){var vt=ft.getBBox(),mt=Object(a.c)(st.padding),pt=st.style,rt=this.addShape(et,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:Object(lt.a)({x:vt.x-mt[3],y:vt.y-mt[0],width:vt.width+mt[1]+mt[3],height:vt.height+mt[0]+mt[2],matrix:ft.attr("matrix")},pt)});rt.toBack()}},X}(t.a),b=S,h=function(k){Object(lt.b)(X,k);function X(){return k!==null&&k.apply(this,arguments)||this}return X.prototype.getDefaultCfg=function(){var et=k.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},et),{type:"line",locationType:"region",start:null,end:null})},X.prototype.getRotateAngle=function(){var et=this.getLocation(),tt=et.start,ft=et.end,st=this.get("text").position,vt=Math.atan2(ft.y-tt.y,ft.x-tt.x),mt=st==="start"?vt-Math.PI/2:vt+Math.PI/2;return mt},X.prototype.getTextPoint=function(){var et=this.getLocation(),tt=et.start,ft=et.end,st=this.get("text"),vt=st.position,mt=st.offset;return Object(a.f)(tt,ft,vt,mt)},X.prototype.getLinePath=function(){var et=this.getLocation(),tt=et.start,ft=et.end;return[["M",tt.x,tt.y],["L",ft.x,ft.y]]},X}(b),E=h,T=function(k){Object(lt.b)(X,k);function X(){return k!==null&&k.apply(this,arguments)||this}return X.prototype.getDefaultCfg=function(){var et=k.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},et),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},X.prototype.getRotateAngle=function(){var et=this.getLocation(),tt=et.startAngle,ft=et.endAngle,st=this.get("text").position,vt=st==="start"?tt+Math.PI/2:ft-Math.PI/2;return vt},X.prototype.getTextPoint=function(){var et=this.get("text"),tt=et.position,ft=et.offset,st=this.getLocation(),vt=st.center,mt=st.radius,pt=st.startAngle,rt=st.endAngle,Bt=tt==="start"?pt:rt,It=this.getRotateAngle()-Math.PI,St=Object(a.e)(vt,mt,Bt),H=Math.cos(It)*ft,ot=Math.sin(It)*ft;return{x:St.x+H,y:St.y+ot}},X.prototype.getLinePath=function(){var et=this.getLocation(),tt=et.center,ft=et.radius,st=et.startAngle,vt=et.endAngle,mt=null;if(vt-st==Math.PI*2){var pt=tt.x,rt=tt.y;mt=[["M",pt,rt-ft],["A",ft,ft,0,1,1,pt,rt+ft],["A",ft,ft,0,1,1,pt,rt-ft],["Z"]]}else{var Bt=Object(a.e)(tt,ft,st),It=Object(a.e)(tt,ft,vt),St=Math.abs(vt-st)>Math.PI?1:0,H=st>vt?0:1;mt=[["M",Bt.x,Bt.y],["A",ft,ft,0,St,H,It.x,It.y]]}return mt},X}(b),o=T,s=z("fIp6"),u=z("de35"),v="g2-crosshair",C=v+"-line",O=v+"-text",j,p=(j={},j[""+v]={position:"relative"},j[""+C]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},j[""+O]={position:"absolute",color:d.a.textColor,fontFamily:d.a.fontFamily},j),x=function(k){Object(lt.b)(X,k);function X(){return k!==null&&k.apply(this,arguments)||this}return X.prototype.getDefaultCfg=function(){var et=k.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},et),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+v+'"></div>',crosshairTpl:'<div class="'+C+'"></div>',textTpl:'<span class="'+O+'">{content}</span>',domStyles:null,containerClassName:v,defaultStyles:p,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},X.prototype.render=function(){this.resetText(),this.resetPosition()},X.prototype.initCrossHair=function(){var et=this.getContainer(),tt=this.get("crosshairTpl"),ft=Object(s.b)(tt);et.appendChild(ft),this.applyStyle(C,ft),this.set("crosshairEl",ft)},X.prototype.getTextPoint=function(){var et=this.getLocation(),tt=et.start,ft=et.end,st=this.get("text"),vt=st.position,mt=st.offset;return Object(a.f)(tt,ft,vt,mt)},X.prototype.resetText=function(){var et=this.get("text"),tt=this.get("textEl");if(et){var ft=et.content;if(!tt){var st=this.getContainer(),vt=Object(M.substitute)(this.get("textTpl"),et);tt=Object(s.b)(vt),st.appendChild(tt),this.applyStyle(O,tt),this.set("textEl",tt)}tt.innerHTML=ft}else tt&&tt.remove()},X.prototype.isVertical=function(et,tt){return et.x===tt.x},X.prototype.resetPosition=function(){var et=this.get("crosshairEl");et||(this.initCrossHair(),et=this.get("crosshairEl"));var tt=this.get("start"),ft=this.get("end"),st=Math.min(tt.x,ft.x),vt=Math.min(tt.y,ft.y);this.isVertical(tt,ft)?Object(s.e)(et,{width:"1px",height:Object(a.l)(Math.abs(ft.y-tt.y))}):Object(s.e)(et,{height:"1px",width:Object(a.l)(Math.abs(ft.x-tt.x))}),Object(s.e)(et,{top:Object(a.l)(vt),left:Object(a.l)(st)}),this.alignText()},X.prototype.alignText=function(){var et=this.get("textEl");if(et){var tt=this.get("text").align,ft=et.clientWidth,st=this.getTextPoint();switch(tt){case"center":st.x=st.x-ft/2;break;case"right":st.x=st.x-ft;case"left":break}Object(s.e)(et,{top:Object(a.l)(st.y),left:Object(a.l)(st.x)})}},X.prototype.updateInner=function(et){Object(M.hasKey)(et,"text")&&this.resetText(),k.prototype.updateInner.call(this,et)},X}(u.a),A=x},"027J":function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return s});var lt=z("mrSG"),a=z("zJSt"),M=z("lFe4"),t=z("w02o"),n=z("YuPD"),d=z("tKoa"),S=z("7cv3"),b=z("DyAw");function h(u){var v,C,O=u.chart,j=u.options,p=j.data,x=j.xAxis,A=j.yAxis,k=j.color,X=j.columnStyle,et=j.columnWidthRatio,tt=Object(M.a)(p);O.data(tt);var ft=Object(n.b)({},u,{options:{xField:S.b,yField:S.c,widthRatio:et,interval:{style:X,color:k}}});return Object(d.c)(ft),O.axis(!1),O.legend(!1),O.interaction("element-active"),Object(t.f)((v={},v[S.b]=x,v[S.c]=A,v),(C={},C[S.b]={type:"cat"},C[S.c]=Object(b.a)(tt,S.c),C))(u),u}function E(u){return Object(n.e)(h,t.k,t.j,t.a,Object(t.b)())(u)}var T=z("iTfj"),o={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(v,C){return""+Object(T.get)(C,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}},s=function(u){Object(lt.b)(v,u);function v(){var C=u!==null&&u.apply(this,arguments)||this;return C.type="tiny-column",C}return v.prototype.changeData=function(C){this.updateOption({data:C}),this.chart.changeData(Object(M.a)(C))},v.prototype.getDefaultOptions=function(){return{appendPadding:2,tooltip:Object(lt.a)({},o),animation:!0}},v.prototype.getSchemaAdaptor=function(){return E},v}(a.a)},"05BJ":function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return T});var lt=z("mrSG"),a=z("zJSt"),M=z("7cv3"),t=z("lFe4"),n=z("w02o"),d=z("YuPD"),S=z("tKoa"),b=z("DyAw");function h(o){var s,u,v=o.chart,C=o.options,O=C.data,j=C.xAxis,p=C.yAxis,x=C.color,A=C.areaStyle,k=C.point,X=C.line,et=Object(t.a)(O);v.data(et);var tt=Object(d.b)({},o,{options:{xField:M.b,yField:M.c,area:{color:x,style:A},line:X,point:k}}),ft=Object(d.b)({},tt,{options:{tooltip:!1}});return Object(S.a)(tt),Object(S.d)(ft),Object(S.e)(ft),v.axis(!1),v.legend(!1),Object(n.f)((s={},s[M.b]=j,s[M.c]=p,s),(u={},u[M.b]={type:"cat"},u[M.c]=Object(b.a)(et,M.c),u))(o),o}function E(o){return Object(d.e)(h,n.k,n.j,n.a,Object(n.b)())(o)}var T=function(o){Object(lt.b)(s,o);function s(){var u=o!==null&&o.apply(this,arguments)||this;return u.type="tiny-area",u}return s.prototype.changeData=function(u){this.updateOption({data:u}),this.chart.changeData(Object(t.a)(u))},s.prototype.getDefaultOptions=function(){return{appendPadding:2,tooltip:Object(lt.a)({},M.a),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:!0}},s.prototype.getSchemaAdaptor=function(){return E},s}(a.a)},"06Lf":function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return on}),z.d(Vt,"b",function(){return Xa});var lt=z("q1tI"),a=z.n(lt),M=z("ma/q"),t=z("iTfj"),n=function(Zt,Ae){var Ht={}.toString;return Ht.call(Zt)==="[object "+Ae+"]"},d=function(Zt){if(!Zt)return Zt;var Ae={};for(var Ht in Zt)Ae[Ht]=Zt[Ht];return Ae},S=function(Zt,Ae){for(var Ht=Zt,he=0;he<Ae.length;he++)if(Ht==null?void 0:Ht[Ae[he]])Ht=Ht[Ae[he]];else{Ht=void 0;break}return Ht},b=function(Zt,Ae,Ht){if(!Zt)return Zt;var he=Zt;return Ae.forEach(function(En,Qn){Qn<Ae.length-1?he=he[En]:he[En]=Ht}),Zt},h=function(Zt,Ae){!Zt||(Object(t.isFunction)(Zt)?Zt(Ae):Zt.current=Ae)},E={isType:n,clone:d,hasPath:S,setPath:b},T=z("i8i4"),o=z.n(T),s=function(Zt,Ae){var Ht=document.createElement("div");return Ae==="tooltip"&&(Ht.className="g2-tooltip"),o.a.render(Zt,Ht),Ht},u=s,v=function(){return v=Object.assign||function(Yt){for(var Zt,Ae=1,Ht=arguments.length;Ae<Ht;Ae++){Zt=arguments[Ae];for(var he in Zt)Object.prototype.hasOwnProperty.call(Zt,he)&&(Yt[he]=Zt[he])}return Yt},v.apply(this,arguments)},C=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae};function O(Yt,Zt){var Ae=Object(lt.useRef)(),Ht=Object(lt.useRef)(),he=Object(lt.useRef)(null),En=Zt.onReady,Qn=Zt.onEvent,fr=function(bt,ie){var Ee;return bt===void 0&&(bt="image/png"),(Ee=Ae.current)===null||Ee===void 0?void 0:Ee.chart.canvas.cfg.el.toDataURL(bt,ie)},ar=function(bt,ie,Ee){var te;bt===void 0&&(bt="download"),ie===void 0&&(ie="image/png");var pe=bt;bt.indexOf(".")===-1&&(pe=bt+"."+ie.split("/")[1]);var ve=(te=Ae.current)===null||te===void 0?void 0:te.chart.canvas.cfg.el.toDataURL(ie,Ee),de=document.createElement("a");return de.href=ve,de.download=pe,document.body.appendChild(de),de.click(),document.body.removeChild(de),de=null,pe},an=function(bt,ie,Ee){var te=E.hasPath,pe=E.setPath,ve=te(bt,ie);pe(bt,ie,function(){for(var de=[],Pe=0;Pe<arguments.length;Pe++)de[Pe]=arguments[Pe];var ze=E.isType(ve,"Function")?ve.apply(void 0,de):ve;return E.isType(ze,"String")||E.isType(ze,"Number")||E.isType(ze,"HTMLDivElement")?ze:u(ze,Ee)})},Re=function(){var bt=E.hasPath;bt(Zt,["statistic","content","customHtml"])&&an(Zt,["statistic","content","customHtml"]),bt(Zt,["statistic","title","customHtml"])&&an(Zt,["statistic","title","customHtml"]),typeof Zt.tooltip=="object"&&(bt(Zt,["tooltip","container"])&&an(Zt,["tooltip","container"],"tooltip"),bt(Zt,["tooltip","customContent"])&&an(Zt,["tooltip","customContent"],"tooltip"))};return Object(lt.useEffect)(function(){if(Ae.current&&!Object(t.isEqual)(Ht.current,Zt)){var L=!1;if(Ht.current){var bt=Ht.current,ie=bt.data,Ee=bt.value,te=bt.percent,pe=C(bt,["data","value","percent"]),ve=Zt.data,de=Zt.value,Pe=Zt.percent,ze=C(Zt,["data","value","percent"]);L=Object(t.isEqual)(pe,ze)}if(L){var Je="data",Ve=["percent"],cn=Object.keys(Zt);Ve.forEach(function(Be){cn.includes(Be)&&(Je=Be)}),Ae.current.changeData((Zt==null?void 0:Zt[Je])||[])}else Re(),Ae.current.update(Zt);Ht.current=Zt}},[Zt]),Object(lt.useEffect)(function(){if(!he.current)return function(){return null};Re();var L=new Yt(he.current,v({},Zt));L.__proto__.toDataURL=function(ie,Ee){return fr(ie,Ee)},L.__proto__.downloadImage=function(ie,Ee,te){return ar(ie,Ee,te)},L.render(),Ht.current||(Ht.current=Zt),Ae.current=E.clone(L),En&&En(L);var bt=function(Ee){Qn&&Qn(L,Ee)};return L.on("*",bt),function(){Ae.current&&(Ae.current.destroy(),Ae.current.off("*",bt),Ae.current=void 0)}},[]),{chart:Ae,container:he}}var j=function(){var Yt=function(Ae,Ht){return Yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(he,En){he.__proto__=En}||function(he,En){for(var Qn in En)Object.prototype.hasOwnProperty.call(En,Qn)&&(he[Qn]=En[Qn])},Yt(Ae,Ht)};return function(Zt,Ae){Yt(Zt,Ae);function Ht(){this.constructor=Zt}Zt.prototype=Ae===null?Object.create(Ae):(Ht.prototype=Ae.prototype,new Ht)}}(),p=function(Yt){j(Zt,Yt);function Zt(){var Ae=Yt!==null&&Yt.apply(this,arguments)||this;return Ae.state={hasError:!1},Ae.renderError=function(Ht){var he=Ae.props.errorTemplate;switch(Ht){default:return he&&typeof he=="function"?he(Ht):a.a.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",Ht.message)}},Ae}return Zt.getDerivedStateFromError=function(Ae){return{hasError:!0,error:Ae}},Zt.getDerivedStateFromProps=function(Ae,Ht){return Ht.children!==Ae.children?{children:Ae.children,hasError:!1,error:void 0}:null},Zt.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):a.a.createElement(lt.Fragment,null,this.props.children)},Zt}(a.a.Component),x=p;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var A=function(){return A=Object.assign||function(Ae){for(var Ht,he=1,En=arguments.length;he<En;he++){Ht=arguments[he];for(var Qn in Ht)Object.prototype.hasOwnProperty.call(Ht,Qn)&&(Ae[Qn]=Ht[Qn])}return Ae},A.apply(this,arguments)};function k(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae}var X=function(){return Math.random().toString(36).substring(6)},et=function(Zt){var Ae=Zt.animate,Ht=Zt.backgroundColor,he=Zt.backgroundOpacity,En=Zt.baseUrl,Qn=Zt.children,fr=Zt.foregroundColor,ar=Zt.foregroundOpacity,an=Zt.gradientRatio,Re=Zt.uniqueKey,L=Zt.interval,bt=Zt.rtl,ie=Zt.speed,Ee=Zt.style,te=Zt.title,pe=k(Zt,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title"]),ve=Re||X(),de=ve+"-diff",Pe=ve+"-animated-diff",ze=ve+"-aria",Je=bt?{transform:"scaleX(-1)"}:null,Ve="0; "+L+"; 1",cn=ie+"s";return Object(lt.createElement)("svg",A({"aria-labelledby":ze,role:"img",style:A(A({},Ee),Je)},pe),te?Object(lt.createElement)("title",{id:ze},te):null,Object(lt.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+En+"#"+de+")",style:{fill:"url("+En+"#"+Pe+")"}}),Object(lt.createElement)("defs",{role:"presentation"},Object(lt.createElement)("clipPath",{id:de},Qn),Object(lt.createElement)("linearGradient",{id:Pe},Object(lt.createElement)("stop",{offset:"0%",stopColor:Ht,stopOpacity:he},Ae&&Object(lt.createElement)("animate",{attributeName:"offset",values:-an+"; "+-an+"; 1",keyTimes:Ve,dur:cn,repeatCount:"indefinite"})),Object(lt.createElement)("stop",{offset:"50%",stopColor:fr,stopOpacity:ar},Ae&&Object(lt.createElement)("animate",{attributeName:"offset",values:-an/2+"; "+-an/2+"; "+(1+an/2),keyTimes:Ve,dur:cn,repeatCount:"indefinite"})),Object(lt.createElement)("stop",{offset:"100%",stopColor:Ht,stopOpacity:he},Ae&&Object(lt.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+an),keyTimes:Ve,dur:cn,repeatCount:"indefinite"})))))};et.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading..."};var tt=function(Zt){return Zt.children?Object(lt.createElement)(et,A({},Zt)):Object(lt.createElement)(ft,A({},Zt))},ft=function(Zt){return Object(lt.createElement)(tt,A({viewBox:"0 0 476 124"},Zt),Object(lt.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),Object(lt.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),Object(lt.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),Object(lt.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),Object(lt.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),Object(lt.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},st=function(Zt){return Object(lt.createElement)(tt,A({viewBox:"0 0 400 460"},Zt),Object(lt.createElement)("circle",{cx:"31",cy:"31",r:"15"}),Object(lt.createElement)("rect",{x:"58",y:"18",rx:"2",ry:"2",width:"140",height:"10"}),Object(lt.createElement)("rect",{x:"58",y:"34",rx:"2",ry:"2",width:"140",height:"10"}),Object(lt.createElement)("rect",{x:"0",y:"60",rx:"2",ry:"2",width:"400",height:"400"}))},vt=function(Zt){return Object(lt.createElement)(tt,A({viewBox:"0 0 340 84"},Zt),Object(lt.createElement)("rect",{x:"0",y:"0",width:"67",height:"11",rx:"3"}),Object(lt.createElement)("rect",{x:"76",y:"0",width:"140",height:"11",rx:"3"}),Object(lt.createElement)("rect",{x:"127",y:"48",width:"53",height:"11",rx:"3"}),Object(lt.createElement)("rect",{x:"187",y:"48",width:"72",height:"11",rx:"3"}),Object(lt.createElement)("rect",{x:"18",y:"48",width:"100",height:"11",rx:"3"}),Object(lt.createElement)("rect",{x:"0",y:"71",width:"37",height:"11",rx:"3"}),Object(lt.createElement)("rect",{x:"18",y:"23",width:"140",height:"11",rx:"3"}),Object(lt.createElement)("rect",{x:"166",y:"23",width:"173",height:"11",rx:"3"}))},mt=function(Zt){return Object(lt.createElement)(tt,A({viewBox:"0 0 400 110"},Zt),Object(lt.createElement)("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"}),Object(lt.createElement)("rect",{x:"20",y:"20",rx:"3",ry:"3",width:"220",height:"10"}),Object(lt.createElement)("rect",{x:"20",y:"40",rx:"3",ry:"3",width:"170",height:"10"}),Object(lt.createElement)("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"}),Object(lt.createElement)("rect",{x:"20",y:"80",rx:"3",ry:"3",width:"200",height:"10"}),Object(lt.createElement)("rect",{x:"20",y:"100",rx:"3",ry:"3",width:"80",height:"10"}))},pt=function(Zt){return Object(lt.createElement)(tt,A({viewBox:"0 0 245 125"},Zt),Object(lt.createElement)("circle",{cx:"10",cy:"20",r:"8"}),Object(lt.createElement)("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),Object(lt.createElement)("circle",{cx:"10",cy:"50",r:"8"}),Object(lt.createElement)("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),Object(lt.createElement)("circle",{cx:"10",cy:"80",r:"8"}),Object(lt.createElement)("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}),Object(lt.createElement)("circle",{cx:"10",cy:"110",r:"8"}),Object(lt.createElement)("rect",{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"}))},rt=tt,Bt=function(Zt){var Ae=Zt.loadingTemplate,Ht=function(){return Ae||a.a.createElement(rt,{viewBox:"0 0 400 180",width:200,height:90,speed:1},a.a.createElement("rect",{x:"20",y:"5",rx:"0",ry:"0",width:"1",height:"170"}),a.a.createElement("rect",{x:"20",y:"175",rx:"0",ry:"0",width:"360",height:"1"}),a.a.createElement("rect",{x:"40",y:"75",rx:"0",ry:"0",width:"35",height:"100"}),a.a.createElement("rect",{x:"80",y:"125",rx:"0",ry:"0",width:"35",height:"50"}),a.a.createElement("rect",{x:"120",y:"105",rx:"0",ry:"0",width:"35",height:"70"}),a.a.createElement("rect",{x:"160",y:"35",rx:"0",ry:"0",width:"35",height:"140"}),a.a.createElement("rect",{x:"200",y:"55",rx:"0",ry:"0",width:"35",height:"120"}),a.a.createElement("rect",{x:"240",y:"15",rx:"0",ry:"0",width:"35",height:"160"}),a.a.createElement("rect",{x:"280",y:"135",rx:"0",ry:"0",width:"35",height:"40"}),a.a.createElement("rect",{x:"320",y:"85",rx:"0",ry:"0",width:"35",height:"90"}))};return a.a.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:"#fff"}},Ht())},It=Bt,St=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},H=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=St(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.Area,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),ot=H,yt=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},xt=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=yt(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.Bar,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),wt=xt,Q=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},ct=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=Q(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.Bullet,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),it=ct,U=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},D=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=U(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.Column,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),W=D,P=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},m=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=P(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.Funnel,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),y=m,V=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},J=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=V(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.Histogram,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),ht=J,gt=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},Mt=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=gt(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.Line,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),Lt=Mt,At=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},Ct=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=At(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.Box,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),Ot=Ct,Dt=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},Ft=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=Dt(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.Liquid,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),Xt=Ft,Rt=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},Kt=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=Rt(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.Heatmap,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),$t=Kt,le=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},Me=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=le(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.Pie,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),on=Me,hn=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},Cn=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=hn(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.Gauge,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),He=Cn,mn=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},dn=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=mn(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.Progress,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),Un=dn,Xn=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},Hn=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=Xn(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.Radar,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),_n=Hn,$n=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},ir=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=$n(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.RingProgress,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),dr=ir,xr=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},Qr=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=xr(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.Rose,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),Mr=Qr,Er=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},Dr=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=Er(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.Scatter,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),hi=Dr,Wi=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},oa=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=Wi(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.TinyArea,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),Za=oa,ao=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},Ji=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=ao(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.TinyColumn,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),Ya=Ji,Ca=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},La=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=Ca(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.DualAxes,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),Ba=La,oo=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},Yr=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=oo(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.TinyLine,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),$a=Yr,Ma=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},to=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=Ma(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.Waterfall,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),Aa=to,Vr=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},Pi=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=Vr(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.WordCloud,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),wi=Pi,Ei=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},bi=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=Ei(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.Sunburst,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),Di=bi,Fi=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},Ni=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=Fi(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.Stock,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),ji=Ni,Xi=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},Ki=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=Xi(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.RadialBar,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),la=Ki,ta=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},ma=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=ta(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.Sankey,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),Oa=ma,uo=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},sa=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=uo(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.Treemap,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),Xa=sa,po=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},bo=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=po(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.MultiView,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),Mo=bo,Po=function(Yt,Zt){var Ae={};for(var Ht in Yt)Object.prototype.hasOwnProperty.call(Yt,Ht)&&Zt.indexOf(Ht)<0&&(Ae[Ht]=Yt[Ht]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ht=Object.getOwnPropertySymbols(Yt);he<Ht.length;he++)Zt.indexOf(Ht[he])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Ht[he])&&(Ae[Ht[he]]=Yt[Ht[he]]);return Ae},ue=Object(lt.forwardRef)(function(Yt,Zt){var Ae=Yt.chartRef,Ht=Yt.style,he=Ht===void 0?{height:"100%"}:Ht,En=Yt.className,Qn=Yt.loading,fr=Yt.loadingTemplate,ar=Yt.errorTemplate,an=Po(Yt,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Re=O(M.BidirectionalBar,an),L=Re.chart,bt=Re.container;return Object(lt.useEffect)(function(){h(Ae,L.current)},[L.current]),Object(lt.useImperativeHandle)(Zt,function(){return{getChart:function(){return L.current}}}),a.a.createElement(x,{errorTemplate:ar},Qn&&a.a.createElement(It,{loadingTemplate:fr}),a.a.createElement("div",{className:En,style:he,ref:bt}))}),Qt=ue,ne=z("fD4D"),Ce=function(){return Ce=Object.assign||function(Yt){for(var Zt,Ae=1,Ht=arguments.length;Ae<Ht;Ae++){Zt=arguments[Ae];for(var he in Zt)Object.prototype.hasOwnProperty.call(Zt,he)&&(Yt[he]=Zt[he])}return Yt},Ce.apply(this,arguments)};ne.default.registerNode("card-node",{draw:function(Zt,Ae){var Ht=Zt&&Zt.color?Zt.color:"#5B8FF9",he=Zt&&Zt.size?Zt.size:[100,30];typeof he=="number"&&(he=[he,he]);var En=Zt&&Zt.style?Zt.style:{};En=Object.assign({radius:2,fill:"#fff"},En),Ht=En.stroke||"#5B8FF9";var Qn=En.radius||0,fr=Ae.addShape("rect",{attrs:Ce({x:-he[0]/2,y:-he[1]/2,width:he[0],height:he[1],stroke:Ht},En),name:"main-box",draggable:!0}),ar=(Zt==null?void 0:Zt.title)||(Zt==null?void 0:Zt.label),an,Re=Zt&&Zt.labelCfg&&Zt.labelCfg.style?Zt.labelCfg.style:{};if(ar){var L=Object.assign({fill:"#fff"},Re);an=Ae.addShape("text",{attrs:Ce(Ce({textBaseline:"top",x:-he[0]/2+8,y:-he[1]/2+2,text:ar},L),{fill:"#fff"}),name:"title"})}var bt=an?an.getBBox():{height:he[1]/2},ie=Ae.addShape("rect",{attrs:{x:-he[0]/2,y:-he[1]/2,width:he[0],height:bt.height+4,fill:Ht,radius:[Qn,Qn,0,0]},name:"title-rect",draggable:!0});an&&an.toFront();var Ee;(Zt==null?void 0:Zt.children)&&(Ee=Ae.addShape("marker",{attrs:{x:he[0]/2,y:0,r:6,cursor:"pointer",symbol:Zt.collapsed?ne.default.Marker.expand:ne.default.Marker.collapse,stroke:Ht,lineWidth:1,fill:"#fff"},name:"collapse-icon"}));var te=Zt&&Zt.description?Zt.description:void 0,pe=ie.getBBox(),ve;if(te&&(ve=Ae.addShape("text",{attrs:Ce({textBaseline:"top",x:-he[0]/2+8,y:-he[1]/2+pe.height+8,text:te},Re),name:"description"})),ve){var de=ve.getBBox(),Pe=pe.height+16+de.height,ze=he[0]>de.width+16?he[0]:de.width+16;fr.attr({width:ze,height:Pe}),ie==null||ie.attr("width",ze),Ee==null||Ee.attr({x:ze-he[0]/2,y:Pe/2-he[1]/2})}return fr},update:void 0},"single-node"),ne.default.registerNode("round-rect",{drawShape:function(Zt,Ae){var Ht=Zt&&Zt.color?Zt.color:"#5B8FF9",he=Zt&&Zt.size?Zt.size:[100,30];typeof he=="number"&&(he=[he,he]);var En=Zt&&Zt.style?Zt.style:{};En.stroke&&(Ht=En.stroke);var Qn=En&&En.fill?En.fill:"#fff";En=Object.assign({width:he[0],height:he[1],radius:he[1]/2,fill:Qn,lineWidth:1.2,stroke:Ht},En);var fr=Ae.addShape("rect",{attrs:Ce({x:-he[0]/2,y:-he[1]/2},En),name:"rect-shape"});return Ae.addShape("circle",{attrs:{x:-he[0]/2,y:0,r:3,fill:En.stroke},name:"circle-shape"}),Ae.addShape("circle",{attrs:{x:he[0]/2,y:0,r:3,fill:En.stroke},name:"circle-shape2"}),fr},getAnchorPoints:function(){return[[0,.5],[1,.5]]},update:function(Zt,Ae){var Ht=Ae.getContainer(),he=Ht.get("children"),En=he[0],Qn=he[1],fr=he[2],ar=Zt.style&&Zt.style.stroke?Zt.style.stroke:"#5B8FF9";ar&&(En.attr("stroke",ar),Qn.attr("fill",ar),fr.attr("fill",ar))}},"single-node");var en=function(Zt){ne.default.registerNode("icon-node",{options:{size:[60,20],stroke:"#91d5ff",fill:"#91d5ff"},draw:function(Ht,he){var En=this.getShapeStyle(Ht),Qn=(Ht||{}).labelCfg,fr=Qn===void 0?{}:Qn,ar=he.addShape("rect",{attrs:Ce(Ce({},En),{x:0,y:0})}),an={fill:"#e6fffb"},Re="https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png";return(Ht==null?void 0:Ht.leftIcon)&&(an=Object.assign({},an,Ht.leftIcon.style),Re=Ht.leftIcon.img),he.addShape("rect",{attrs:Ce({x:1,y:1,width:38,height:En.height-2},an)}),he.addShape("image",{attrs:{x:8,y:8,width:24,height:24,img:Re},name:"image-shape"}),Zt.enableEdit&&(he.addShape("marker",{attrs:{x:En.width/3,y:En.height+6,r:6,stroke:"#73d13d",cursor:"pointer",symbol:ne.default.Marker.expand},name:"add-item"}),he.addShape("marker",{attrs:{x:En.width*2/3,y:En.height+6,r:6,stroke:"#ff4d4f",cursor:"pointer",symbol:ne.default.Marker.collapse},name:"remove-item"})),(Ht==null?void 0:Ht.label)&&he.addShape("text",{attrs:Ce(Ce({},fr.style),{text:Ht.label,x:En.width/2,y:En.height/1.5})}),ar}},"rect")};ne.default.registerEdge("fund-polyline",{draw:function(Zt,Ae){var Ht=Zt==null?void 0:Zt.startPoint,he=Zt==null?void 0:Zt.endPoint,En=he.y-Ht.y,Qn=En!==0?500/Math.abs(En):0,fr=16,ar=En<0?fr:-fr,an={x:Ht.x+Qn,y:he.y+ar},Re={x:an.x+fr,y:he.y},L={x:(an.x-Ht.x)*(he.y-Ht.y)/(an.y-Ht.y)+Ht.x,y:he.y},bt=[["M",Ht.x,Ht.y],["L",an.x,an.y],["Q",L.x,L.y,Re.x,Re.y],["L",he.x,he.y]];En===0&&(bt=[["M",Ht.x,Ht.y],["L",he.x,he.y]]);var ie=(Zt||{}).style,Ee=Ae.addShape("path",{attrs:{path:bt,stroke:ie.stroke||(Zt==null?void 0:Zt.colorMap)&&Zt.colorMap[Zt.dataType]?(Zt==null?void 0:Zt.colorMap)[Zt==null?void 0:Zt.dataType]:"#5B8FF9",lineWidth:ie.lineWidth||1.2,endArrow:!1},name:"path-shape"}),te=0,pe=8,ve;if((Zt==null?void 0:Zt.label)&&(ve=Ae.addShape("text",{attrs:{text:Zt.label,x:Re.x+te,y:he.y-pe-2,fontSize:14,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-label"})),Zt==null?void 0:Zt.dataType){var de=ve?ve.getBBox():{height:0};Ae.addShape("text",{attrs:{text:Zt.dataType,x:Re.x+te,y:he.y-pe-de.height-2,fontSize:10,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-type"})}return(Zt==null?void 0:Zt.subLabel)&&Ae.addShape("text",{attrs:{text:Zt.subLabel,x:Re.x+te,y:he.y+pe+4,fontSize:12,fontWeight:300,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-sub-label"}),Ee},update:void 0},"single-edge"),ne.default.registerEdge("flow-line",{draw:function(Zt,Ae){var Ht=Zt==null?void 0:Zt.startPoint,he=Zt==null?void 0:Zt.endPoint,En=(Zt||{}).style,Qn=En===void 0?{}:En,fr=Ae.addShape("path",{attrs:{stroke:Qn.stroke,endArrow:Qn.endArrow,path:[["M",Ht.x,Ht.y],["L",Ht.x,(Ht.y+he.y)/2],["L",he.x,(Ht.y+he.y)/2],["L",he.x,he.y]]}});return fr}});var kn=function(){return kn=Object.assign||function(Yt){for(var Zt,Ae=1,Ht=arguments.length;Ae<Ht;Ae++){Zt=arguments[Ae];for(var he in Zt)Object.prototype.hasOwnProperty.call(Zt,he)&&(Yt[he]=Zt[he])}return Yt},kn.apply(this,arguments)},sr={show:!1,size:[150,100],type:"keyShape"},pr=function(Zt,Ae,Ht){var he,En;return Ht&&Ht.current&&(he=Ht.current.offsetWidth,En=Ht.current.offsetHeight||500),!Zt&&!he||!Ae&&!En?(console.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[Zt||he||500,Ae||En||500]},ln=function(Zt,Ae){if(!(!Ae||Ae.destroyed)&&Zt&&Zt.show){var Ht=Object.assign(sr,Zt),he=new ne.default.Minimap(kn({},Ht));return Ae.addPlugin(he),he}};function vn(Yt,Zt,Ae){var Ht=Object(lt.useRef)(),he=Zt.data,En=Zt.nodeStyle,Qn=Zt.nodeAnchorPoints,fr=Zt.nodeType,ar=Zt.edgeType,an=Zt.edgeStyle,Re=Zt.width,L=Zt.height,bt=Zt.layout,ie=Zt.minimapCfg,Ee=Zt.behaviors,te=Zt.nodeLabelCfg,pe=Zt.edgeLabelCfg,ve;return Object(lt.useEffect)(function(){Yt&&!Yt.destroyed&&(Yt.changeData(he),Yt.layout())},[he]),Object(lt.useEffect)(function(){Yt&&!Yt.destroyed&&Yt.getNodes().forEach(function(de){Yt.updateItem(de,{type:fr,style:En,anchorPoints:Qn,labelCfg:te})})},[En,Qn,fr]),Object(lt.useEffect)(function(){Yt&&!Yt.destroyed&&Yt.getEdges().forEach(function(de){Yt.updateItem(de,{type:ar,style:an,labelCfg:pe})})},[an,ar]),Object(lt.useEffect)(function(){if(Yt&&!Yt.destroyed){var de=pr(Re,L,Ae);Yt.changeSize(de[0],de[1])}},[Ae,Re,L]),Object(lt.useEffect)(function(){Yt&&!Yt.destroyed&&Yt.updateLayout(bt)},[bt]),Object(lt.useEffect)(function(){if(!(!ie||!Yt||Yt.destroyed))if(ie.show)ve=ln(ie,Yt),ve&&ve.updateCanvas();else{var de=Yt.get("plugins")[0];de&&Yt.removePlugin(de)}},[ie]),Object(lt.useEffect)(function(){if(Yt&&!Yt.destroyed){var de=Yt.get("modes").default,Pe=[];de.forEach(function(ze){Object(t.isObject)(ze)?Pe.push(ze.type):Object(t.isString)(ze)&&Pe.push(ze)}),Yt.removeBehaviors(Pe,"default"),Yt.addBehaviors(Ee,"default")}},[Ee]),Object(lt.useEffect)(function(){if(Ht.current=Yt,Yt&&!Yt.destroyed)return function(){Yt.destroy(),Yt=void 0}},[]),{graphHook:Ht}}var xn={hover:{stroke:"#1890ff",lineWidth:2}},Or={fill:"#91d5ff",stroke:"#40a9ff",radius:5},Br={stroke:"#91d5ff",endArrow:{path:"M 0,0 L 12, 6 L 9,0 L 12, -6 Z",fill:"#91d5ff",d:-20}},Pr={type:"compactBox",direction:"TB",getId:function(Zt){return Zt.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},kr={style:{fill:"#000",fontSize:12}},mi=function(Zt){var Ae=Zt.data,Ht=Zt.className,he=Zt.style,En=Zt.width,Qn=Zt.height,fr=Zt.nodeType,ar=fr===void 0?"rect":fr,an=Zt.edgeType,Re=an===void 0?"flow-line":an,L=Zt.collapseExpand,bt=L===void 0?!1:L,ie=Zt.nodeSize,Ee=ie===void 0?[120,40]:ie,te=Zt.nodeLabelCfg,pe=te===void 0?kr:te,ve=Zt.edgeLabelCfg,de=ve===void 0?kr:ve,Pe=Zt.layout,ze=Pe===void 0?Pr:Pe,Je=Zt.enableEdit,Ve=Je===void 0?!1:Je,cn=Zt.minimapCfg,Be=Zt.nodeStyle,Mn=Be===void 0?Or:Be,On=Zt.edgeStyle,pn=On===void 0?Br:On,Sn=Zt.nodeStateStyles,Rn=Sn===void 0?xn:Sn,lr=Zt.edgeStateStyles,Fn=lr===void 0?xn:lr,tr=Zt.handleNodeClick,me=Zt.handleEdgeClick,Se=Zt.handleNodeHover,ke=Zt.handleNodeUnHover,we=Zt.handleEdgeHover,Ye=Zt.handleEdgeUnHover,un=Zt.handleCanvasClick,zn=Zt.graphRef,Nn,or={data:Ae,className:Ht,style:he,width:En,height:Qn,nodeType:ar,edgeType:Re,collapseExpand:bt,nodeSize:Ee,nodeLabelCfg:pe,edgeLabelCfg:de,layout:ze,enableEdit:Ve,minimapCfg:cn,nodeStyle:Mn,edgeStyle:pn,nodeStateStyles:Rn,edgeStateStyles:Fn,handleNodeClick:tr,handleEdgeClick:me,handleNodeHover:Se,handleNodeUnHover:ke,handleEdgeHover:we,handleEdgeUnHover:Ye,handleCanvasClick:un,graphRef:zn},Rr=a.a.useRef(null);return vn(Nn,or,Rr),Object(lt.useEffect)(function(){var xi=pr(En,Qn,Rr);return(!Nn||Nn.destroyed)&&(ar==="icon-node"&&en({enableEdit:Ve}),Nn=new ne.default.TreeGraph({container:Rr.current,width:xi[0],height:xi[1],linkCenter:!0,modes:{default:["drag-canvas","zoom-canvas"]},defaultNode:{type:ar,size:Ee,style:Mn,labelCfg:pe},defaultEdge:{type:Re,style:pn,labelCfg:de},nodeStateStyles:Rn,edgeStateStyles:Fn,layout:ze}),zn&&(zn.current=Nn)),ln(cn,Nn),Nn.data(Ae),Nn.render(),Nn.fitView(),bt&&Nn.addBehaviors({type:"collapse-expand"},"default"),Nn.on("node:mouseenter",function(pi){var Kr=pi.item;Nn.setItemState(Kr,"hover",!0),Se&&Se(Kr,Nn)}),Nn.on("node:mouseleave",function(pi){var Kr=pi.item;Nn.setItemState(Kr,"hover",!1),ke&&ke(Kr,Nn)}),Nn.on("node:click",function(pi){var Kr=pi.item,Ii=pi.target,Gi=Ii.get("type"),Si=Ii.get("name");if(Gi==="marker"){var aa=Kr.getModel();if(Si==="add-item"){aa.children||(aa.children=[]);var Xo=Math.random().toString(36).slice(-8);aa.children.push({id:Xo,label:Xo}),Nn.updateChild(aa,aa.id)}else Si==="remove-item"&&Nn.removeChild(aa.id)}tr&&tr(Kr,Nn)}),Nn.on("edge:mouseenter",function(pi){var Kr=pi.item;Nn.setItemState(Kr,"hover",!0),we&&we(Kr,Nn)}),Nn.on("edge:mouseleave",function(pi){var Kr=pi.item;Nn.setItemState(Kr,"hover",!1),Ye&&Ye(Kr,Nn)}),Nn.on("edge:click",function(pi){var Kr=pi.item;me&&me(Kr,Nn)}),Nn.on("canvas:click",function(pi){un&&un(Nn)}),function(){return Nn.destroy()}},[]),a.a.createElement(x,null,a.a.createElement("div",{className:Ht,style:he,ref:Rr}))},$r=mi,Xr={hover:{stroke:"#1890ff",lineWidth:2}},Nr=[120,40],Hr={stroke:"#40a9ff"},oi=[[.5,0],[.5,1]],yi={stroke:"#91d5ff",endArrow:{path:ne.default.Arrow.vee(10,10),fill:"#91d5ff"}},si={type:"dagre",rankdir:"TB",nodesepFunc:function(Zt){return 0},ranksepFunc:function(Zt){return 0},controlPoints:!0},ti={style:{fill:"#000",fontSize:12}},zi=function(Zt){var Ae=Zt.data,Ht=Zt.className,he=Zt.style,En=Zt.width,Qn=Zt.height,fr=Zt.nodeType,ar=fr===void 0?"modelRect":fr,an=Zt.edgeType,Re=an===void 0?"polyline":an,L=Zt.behaviors,bt=L===void 0?["zoom-canvas","drag-canvas"]:L,ie=Zt.nodeSize,Ee=ie===void 0?Nr:ie,te=Zt.nodeLabelCfg,pe=te===void 0?ti:te,ve=Zt.edgeLabelCfg,de=ve===void 0?ti:ve,Pe=Zt.nodeAnchorPoints,ze=Pe===void 0?oi:Pe,Je=Zt.layout,Ve=Je===void 0?si:Je,cn=Zt.minimapCfg,Be=Zt.nodeStyle,Mn=Be===void 0?Hr:Be,On=Zt.edgeStyle,pn=On===void 0?yi:On,Sn=Zt.nodeStateStyles,Rn=Sn===void 0?Xr:Sn,lr=Zt.edgeStateStyles,Fn=lr===void 0?Xr:lr,tr=Zt.handleEdgeClick,me=Zt.handleEdgeHover,Se=Zt.handleEdgeUnHover,ke=Zt.handleNodeClick,we=Zt.handleNodeHover,Ye=Zt.handleNodeUnHover,un=Zt.handleCanvasClick,zn=Zt.graphRef,Nn,or={data:Ae,className:Ht,style:he,width:En,height:Qn,nodeType:ar,edgeType:Re,behaviors:bt,nodeSize:Ee,nodeLabelCfg:pe,edgeLabelCfg:de,nodeAnchorPoints:ze,layout:Ve,minimapCfg:cn,nodeStyle:Mn,edgeStyle:pn,nodeStateStyles:Rn,edgeStateStyles:Fn,handleEdgeClick:tr,handleEdgeHover:me,handleEdgeUnHover:Se,handleNodeClick:ke,handleNodeHover:we,handleNodeUnHover:Ye,handleCanvasClick:un,graphRef:zn},Rr=a.a.useRef(null);return vn(Nn,or,Rr),Object(lt.useEffect)(function(){var xi=pr(En,Qn,Rr);return(!Nn||Nn.destroyed)&&(Nn=new ne.default.Graph({container:Rr.current,width:xi[0],height:xi[1],modes:{default:bt},defaultNode:{type:ar,size:Ee,style:Mn,anchorPoints:ze,labelCfg:pe},defaultEdge:{type:Re,style:pn,labelCfg:de},nodeStateStyles:Rn,edgeStateStyles:Fn,layout:Ve}),zn&&(zn.current=Nn)),ln(cn,Nn),Nn.data(Ae),Nn.render(),Nn.fitView(),Nn.on("edge:mouseenter",function(pi){var Kr=pi.item;Nn.setItemState(Kr,"hover",!0),me&&me(Kr,Nn)}),Nn.on("node:mouseenter",function(pi){var Kr=pi.item;Nn.setItemState(Kr,"hover",!1),we&&we(Kr,Nn)}),Nn.on("edge:mouseleave",function(pi){var Kr=pi.item;Nn.setItemState(Kr,"hover",!1),Se&&Se(Kr,Nn)}),Nn.on("node:mouseleave",function(pi){var Kr=pi.item;Nn.setItemState(Kr,"hover",!1),Ye&&Ye(Kr,Nn)}),Nn.on("edge:click",function(pi){var Kr=pi.item;tr&&tr(Kr,Nn)}),Nn.on("node:click",function(pi){var Kr=pi.item;ke&&ke(Kr,Nn)}),Nn.on("canvas:click",function(pi){un&&un(Nn)}),function(){return Nn.destroy()}},[]),a.a.createElement(x,null,a.a.createElement("div",{className:Ht,style:he,ref:Rr}))},qi=zi,Sa={hover:{stroke:"#1890ff",lineWidth:2}},ea=[150,30],Fa={stroke:"#72CC4A",fill:"#f00"},Ua=[[.5,0],[.5,1]],Na={stroke:"#91d5ff",endArrow:{path:ne.default.Arrow.vee(10,10),fill:"#91d5ff"}},va={type:"dagre",rankdir:"LR",nodesep:30,ranksep:50},ge={style:{fill:"#000000A6",fontSize:10}},F=function(Zt){var Ae=Zt.data,Ht=Zt.className,he=Zt.style,En=Zt.width,Qn=Zt.height,fr=Zt.nodeType,ar=fr===void 0?"round-rect":fr,an=Zt.edgeType,Re=an===void 0?"fund-polyline":an,L=Zt.behaviors,bt=L===void 0?["zoom-canvas","drag-canvas"]:L,ie=Zt.nodeSize,Ee=ie===void 0?ea:ie,te=Zt.nodeLabelCfg,pe=te===void 0?ge:te,ve=Zt.edgeLabelCfg,de=ve===void 0?ge:ve,Pe=Zt.nodeAnchorPoints,ze=Pe===void 0?Ua:Pe,Je=Zt.layout,Ve=Je===void 0?va:Je,cn=Zt.minimapCfg,Be=Zt.nodeStyle,Mn=Be===void 0?Fa:Be,On=Zt.edgeStyle,pn=On===void 0?Na:On,Sn=Zt.nodeStateStyles,Rn=Sn===void 0?Sa:Sn,lr=Zt.edgeStateStyles,Fn=lr===void 0?Sa:lr,tr=Zt.colorMap,me=tr===void 0?{}:tr,Se=Zt.handleEdgeClick,ke=Zt.handleEdgeHover,we=Zt.handleEdgeUnHover,Ye=Zt.handleNodeClick,un=Zt.handleNodeHover,zn=Zt.handleNodeUnHover,Nn=Zt.handleCanvasClick,or=Zt.graphRef,Rr,xi=a.a.useRef(null),pi={data:Ae,className:Ht,style:he,width:En,height:Qn,nodeType:ar,edgeType:Re,behaviors:bt,nodeSize:Ee,nodeLabelCfg:pe,edgeLabelCfg:de,nodeAnchorPoints:ze,layout:Ve,minimapCfg:cn,nodeStyle:Mn,edgeStyle:pn,nodeStateStyles:Rn,edgeStateStyles:Fn,colorMap:me,handleEdgeClick:Se,handleEdgeHover:ke,handleEdgeUnHover:we,handleNodeClick:Ye,handleNodeHover:un,handleNodeUnHover:zn,handleCanvasClick:Nn,graphRef:or};return vn(Rr,pi,xi),Object(lt.useEffect)(function(){var Kr=pr(En,Qn,xi);(!Rr||Rr.destroyed)&&(Rr=new ne.default.Graph({container:xi.current,width:Kr[0],height:Kr[1],modes:{default:bt},defaultNode:{type:ar,size:Ee,style:Mn,anchorPoints:ze,labelCfg:pe},defaultEdge:{type:Re,style:pn,colorMap:me,labelCfg:de},nodeStateStyles:Rn,edgeStateStyles:Fn,layout:Ve}),or&&(or.current=Rr)),ln(cn,Rr),Rr.data(Ae),Rr.render();var Ii=Rr.getEdges();return Ii.forEach(function(Gi){var Si=Gi.getKeyShape(),aa=Si.attr("stroke"),Xo=Gi.getTarget();Xo.update({style:{stroke:aa}})}),Rr.fitView(),Rr.on("edge:mouseenter",function(Gi){var Si=Gi.item;Rr.setItemState(Si,"hover",!0),ke&&ke(Si,Rr)}),Rr.on("edge:mouseleave",function(Gi){var Si=Gi.item;Rr.setItemState(Si,"hover",!1),we&&we(Si,Rr)}),Rr.on("edge:click",function(Gi){var Si=Gi.item;Se&&Se(Si,Rr)}),Rr.on("node:mouseenter",function(Gi){var Si=Gi.item;Rr.setItemState(Si,"hover",!1),un&&un(Si,Rr)}),Rr.on("node:mouseleave",function(Gi){var Si=Gi.item;Rr.setItemState(Si,"hover",!1),zn&&zn(Si,Rr)}),Rr.on("node:click",function(Gi){var Si=Gi.item;Ye&&Ye(Si,Rr)}),Rr.on("canvas:click",function(Gi){Nn&&Nn(Rr)}),function(){return Rr.destroy()}},[]),a.a.createElement(x,null,a.a.createElement("div",{className:Ht,style:he,ref:xi}))},_=F,$={hover:{stroke:"#1890ff",lineWidth:2}},dt=[120,40],Gt={stroke:"#40a9ff"},Jt=[[0,.5],[1,.5]],ce={stroke:"#ccc",endArrow:{path:ne.default.Arrow.vee(10,10),fill:"#ccc"}},fe={type:"indented",direction:"LR",dropCap:!1,indent:250,getHeight:function(){return 60},getWidth:function(Zt){return 100}},De={style:{fill:"#000",fontSize:12}},We=function(Zt){var Ae=Zt.data,Ht=Zt.className,he=Zt.style,En=Zt.width,Qn=Zt.height,fr=Zt.nodeType,ar=fr===void 0?"card-node":fr,an=Zt.edgeType,Re=an===void 0?"cubic-horizontal":an,L=Zt.behaviors,bt=L===void 0?["zoom-canvas","drag-canvas"]:L,ie=Zt.nodeSize,Ee=ie===void 0?dt:ie,te=Zt.nodeLabelCfg,pe=te===void 0?De:te,ve=Zt.nodeAnchorPoints,de=ve===void 0?Jt:ve,Pe=Zt.layout,ze=Pe===void 0?fe:Pe,Je=Zt.minimapCfg,Ve=Zt.nodeStyle,cn=Ve===void 0?Gt:Ve,Be=Zt.edgeStyle,Mn=Be===void 0?ce:Be,On=Zt.nodeStateStyles,pn=On===void 0?$:On,Sn=Zt.edgeStateStyles,Rn=Sn===void 0?$:Sn,lr=Zt.collapseExpand,Fn=lr===void 0?!0:lr,tr=Zt.handleEdgeClick,me=Zt.handleEdgeHover,Se=Zt.handleEdgeUnHover,ke=Zt.handleNodeClick,we=Zt.handleNodeHover,Ye=Zt.handleNodeUnHover,un=Zt.handleCanvasClick,zn=Zt.graphRef,Nn,or=a.a.useRef(null),Rr={data:Ae,className:Ht,style:he,width:En,height:Qn,nodeType:ar,edgeType:Re,behaviors:bt,nodeSize:Ee,nodeLabelCfg:pe,nodeAnchorPoints:de,layout:ze,minimapCfg:Je,nodeStyle:cn,edgeStyle:Mn,nodeStateStyles:pn,edgeStateStyles:Rn,collapseExpand:Fn,handleEdgeClick:tr,handleEdgeHover:me,handleEdgeUnHover:Se,handleNodeClick:ke,handleNodeHover:we,handleNodeUnHover:Ye,handleCanvasClick:un,graphRef:zn};return vn(Nn,Rr,or),Object(lt.useEffect)(function(){var xi=pr(En,Qn,or);if((!Nn||Nn.destroyed)&&(Nn=new ne.default.TreeGraph({container:or.current,width:xi[0],height:xi[1],modes:{default:bt},defaultNode:{type:ar,size:Ee,style:cn,anchorPoints:de,labelCfg:pe},defaultEdge:{type:Re,style:Mn},nodeStateStyles:pn,edgeStateStyles:Rn,layout:ze}),zn&&(zn.current=Nn)),ln(Je,Nn),Nn.data(Ae),Nn.render(),Nn.fitView(),Fn){var pi=function(Ii){var Gi=Ii.item;Ii.target.get("name")==="collapse-icon"?(Nn.updateItem(Gi,{collapsed:!Gi.getModel().collapsed}),Nn.layout()):ke&&ke(Gi,Nn)};Nn.on("node:click",function(Kr){pi(Kr)}),Nn.on("node:touchstart",function(Kr){pi(Kr)})}return Nn.on("edge:mouseenter",function(Kr){var Ii=Kr.item;Nn.setItemState(Ii,"hover",!0),me&&me(Ii,Nn)}),Nn.on("edge:mouseleave",function(Kr){var Ii=Kr.item;Nn.setItemState(Ii,"hover",!1),Se&&Se(Ii,Nn)}),Nn.on("edge:click",function(Kr){var Ii=Kr.item;tr&&tr(Ii,Nn)}),Nn.on("edge:touchstart",function(Kr){var Ii=Kr.item;tr&&tr(Ii,Nn)}),Nn.on("node:mouseenter",function(Kr){var Ii=Kr.item;Nn.setItemState(Ii,"hover",!1),we&&we(Ii,Nn)}),Nn.on("node:mouseleave",function(Kr){var Ii=Kr.item;Nn.setItemState(Ii,"hover",!1),Ye&&Ye(Ii,Nn)}),Nn.on("canvas:click",function(Kr){un&&un(Nn)}),Nn.on("canvas:touchstart",function(Kr){un&&un(Nn)}),function(){return Nn.destroy()}},[]),a.a.createElement(x,null,a.a.createElement("div",{className:Ht,style:he,ref:or}))},sn=We,Dn={Area:ot,Bar:wt,Box:Ot,Bullet:it,Column:W,Funnel:y,Histogram:ht,Line:Lt,Liquid:Xt,Heatmap:$t,Pie:on,Progress:Un,Radar:_n,RingProgress:dr,Rose:Mr,Scatter:hi,TinyArea:Za,TinyColumn:Ya,TinyLine:$a,Waterfall:Aa,WordCloud:wi,Sunburst:Di,DualAxes:Ba,Stock:ji,RadialBar:la,Gauge:He,Sankey:Oa,Treemap:Xa,MultiView:Mo,BidirectionalBar:Qt,OrganizationTreeGraph:$r,DagreGraph:qi,IndentedTree:sn,DagreFundFlowGraph:_,G2:M.G2}},"0Xep":function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return lt}),z.d(Vt,"d",function(){return a}),z.d(Vt,"b",function(){return M}),z.d(Vt,"c",function(){return t});var lt=0,a=1/2,M=1/2,t=.05},"1//c":function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return a});var lt=z("aFU3");function a(M,t,n){var d=new lt.Event(t,n);d.target=M,d.propagationPath.push(M),M.emitDelegation(t,d);for(var S=M.getParent();S;)S.emitDelegation(t,d),d.propagationPath.push(S),S=S.getParent()}},"14J3":function(wr,Vt,z){"use strict";var lt=z("cIOH"),a=z.n(lt),M=z("1GLa")},"17Tr":function(wr,Vt,z){"use strict";var lt=z("uCX8");z.d(Vt,"Annotation",function(){return lt});var a=z("fP0w");z.d(Vt,"Axis",function(){return a});var M=z("/3+T");z.d(Vt,"Crosshair",function(){return M});var t=z("x3EW");z.d(Vt,"Grid",function(){return t});var n=z("5bFI");z.d(Vt,"Legend",function(){return n});var d=z("Ch+T");z.d(Vt,"Tooltip",function(){return d});var S=z("NmWf"),b=z("MeYt"),h=z("de35"),E=z("fFDA");z.d(Vt,"Slider",function(){return E.a});var T=z("3u8d");z.d(Vt,"Scrollbar",function(){return T.a});var o=z("vk7d"),s=z.n(o),u=z("uzHj"),v=z.n(u),C=z("1//c");z.d(Vt,"propagationDelegate",function(){return C.a});var O=z("u60a");z.d(Vt,"TOOLTIP_CSS_CONST",function(){return O})},"1MZV":function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return M});var lt=new Map;function a(x,A){lt.set(x,A)}function M(x){return lt.get(x)}var t=function(x){var A=x.attr(),k=A.x,X=A.y,et=A.width,tt=A.height;return{x:k,y:X,width:et,height:tt}},n=function(x){var A=x.attr(),k=A.x,X=A.y,et=A.r;return{x:k-et,y:X-et,width:et*2,height:et*2}},d=z("EYNi");function S(x,A){return!x||!A?x||A:{minX:Math.min(x.minX,A.minX),minY:Math.min(x.minY,A.minY),maxX:Math.max(x.maxX,A.maxX),maxY:Math.max(x.maxY,A.maxY)}}function b(x,A){var k=x.get("startArrowShape"),X=x.get("endArrowShape"),et=null,tt=null;return k&&(et=k.getCanvasBBox(),A=S(A,et)),X&&(tt=X.getCanvasBBox(),A=S(A,tt)),A}var h=function(x){for(var A=x.attr(),k=A.points,X=[],et=[],tt=0;tt<k.length;tt++){var ft=k[tt];X.push(ft[0]),et.push(ft[1])}var st=d.f.getBBoxByArray(X,et),vt=st.x,mt=st.y,pt=st.width,rt=st.height,Bt={minX:vt,minY:mt,maxX:vt+pt,maxY:mt+rt};return Bt=b(x,Bt),{x:Bt.minX,y:Bt.minY,width:Bt.maxX-Bt.minX,height:Bt.maxY-Bt.minY}},E=function(x){for(var A=x.attr(),k=A.points,X=[],et=[],tt=0;tt<k.length;tt++){var ft=k[tt];X.push(ft[0]),et.push(ft[1])}return d.f.getBBoxByArray(X,et)},T=z("vIgC"),o=function(x){var A=x.attr(),k=A.x,X=A.y,et=A.text,tt=A.fontSize,ft=A.lineHeight,st=A.font;st||(st=Object(T.a)(A));var vt=Object(T.c)(et,st),mt;if(!vt)mt={x:k,y:X,width:0,height:0};else{var pt=A.textAlign,rt=A.textBaseline,Bt=Object(T.b)(et,tt,ft),It={x:k,y:X-Bt};pt&&(pt==="end"||pt==="right"?It.x-=vt:pt==="center"&&(It.x-=vt/2)),rt&&(rt==="top"?It.y+=Bt:rt==="middle"&&(It.y+=Bt/2)),mt={x:It.x,y:It.y,width:vt,height:Bt}}return mt},s=z("LvGN"),u=z("iTfj");function v(x,A){for(var k=[],X=[],et=[],tt=0;tt<x.length;tt++){var ft=x[tt],st=ft.currentPoint,vt=ft.params,mt=ft.prePoint,pt=void 0;switch(ft.command){case"Q":pt=d.e.box(mt[0],mt[1],vt[1],vt[2],vt[3],vt[4]);break;case"C":pt=d.b.box(mt[0],mt[1],vt[1],vt[2],vt[3],vt[4],vt[5],vt[6]);break;case"A":var rt=ft.arcParams;pt=d.a.box(rt.cx,rt.cy,rt.rx,rt.ry,rt.xRotation,rt.startAngle,rt.endAngle);break;default:k.push(st[0]),X.push(st[1]);break}pt&&(ft.box=pt,k.push(pt.x,pt.x+pt.width),X.push(pt.y,pt.y+pt.height)),A&&(ft.command==="L"||ft.command==="M")&&ft.prePoint&&ft.nextPoint&&et.push(ft)}k=k.filter(function(yt){return!Number.isNaN(yt)}),X=X.filter(function(yt){return!Number.isNaN(yt)});var Bt=Math.min.apply(null,k),It=Math.min.apply(null,X),St=Math.max.apply(null,k),H=Math.max.apply(null,X);if(et.length===0)return{x:Bt,y:It,width:St-Bt,height:H-It};for(var tt=0;tt<et.length;tt++){var ft=et[tt],st=ft.currentPoint,ot=void 0;st[0]===Bt?(ot=C(ft,A),Bt=Bt-ot.xExtra):st[0]===St&&(ot=C(ft,A),St=St+ot.xExtra),st[1]===It?(ot=C(ft,A),It=It-ot.yExtra):st[1]===H&&(ot=C(ft,A),H=H+ot.yExtra)}return{x:Bt,y:It,width:St-Bt,height:H-It}}function C(x,A){var k=x.prePoint,X=x.currentPoint,et=x.nextPoint,tt=Math.pow(X[0]-k[0],2)+Math.pow(X[1]-k[1],2),ft=Math.pow(X[0]-et[0],2)+Math.pow(X[1]-et[1],2),st=Math.pow(k[0]-et[0],2)+Math.pow(k[1]-et[1],2),vt=Math.acos((tt+ft-st)/(2*Math.sqrt(tt)*Math.sqrt(ft)));if(!vt||Math.sin(vt)===0||Object(u.isNumberEqual)(vt,0))return{xExtra:0,yExtra:0};var mt=Math.abs(Math.atan2(et[1]-X[1],et[0]-X[0])),pt=Math.abs(Math.atan2(et[0]-X[0],et[1]-X[1]));mt=mt>Math.PI/2?Math.PI-mt:mt,pt=pt>Math.PI/2?Math.PI-pt:pt;var rt={xExtra:Math.cos(vt/2-mt)*(A/2*(1/Math.sin(vt/2)))-A/2||0,yExtra:Math.cos(pt-vt/2)*(A/2*(1/Math.sin(vt/2)))-A/2||0};return rt}var O=function(x){var A=x.attr(),k=A.path,X=A.stroke,et=X?A.lineWidth:0,tt=x.get("segments")||Object(s.e)(k),ft=v(tt,et),st=ft.x,vt=ft.y,mt=ft.width,pt=ft.height,rt={minX:st,minY:vt,maxX:st+mt,maxY:vt+pt};return rt=b(x,rt),{x:rt.minX,y:rt.minY,width:rt.maxX-rt.minX,height:rt.maxY-rt.minY}},j=function(x){var A=x.attr(),k=A.x1,X=A.y1,et=A.x2,tt=A.y2,ft=Math.min(k,et),st=Math.max(k,et),vt=Math.min(X,tt),mt=Math.max(X,tt),pt={minX:ft,maxX:st,minY:vt,maxY:mt};return pt=b(x,pt),{x:pt.minX,y:pt.minY,width:pt.maxX-pt.minX,height:pt.maxY-pt.minY}},p=function(x){var A=x.attr(),k=A.x,X=A.y,et=A.rx,tt=A.ry;return{x:k-et,y:X-tt,width:et*2,height:tt*2}};a("rect",t),a("image",t),a("circle",n),a("marker",n),a("polyline",h),a("polygon",E),a("text",o),a("path",O),a("line",j),a("ellipse",p)},"24YM":function(wr,Vt,z){"use strict";Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.SensorTabIndex=Vt.SensorClassName=Vt.SizeSensorId=void 0;var lt="size-sensor-id";Vt.SizeSensorId=lt;var a="size-sensor-object";Vt.SensorClassName=a;var M="-1";Vt.SensorTabIndex=M},"3T7b":function(wr,Vt){},"3u8d":function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return S});var lt=z("mrSG"),a=z("fIp6"),M=z("iTfj"),t=z("MeYt"),n={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},d={default:n,hover:{thumbColor:"rgba(0,0,0,0.2)"}},S=function(b){Object(lt.b)(h,b);function h(){var E=b!==null&&b.apply(this,arguments)||this;return E.clearEvents=M.noop,E.onStartEvent=function(T){return function(o){E.isMobile=T,o.originalEvent.preventDefault();var s=T?Object(M.get)(o.originalEvent,"touches.0.clientX"):o.clientX,u=T?Object(M.get)(o.originalEvent,"touches.0.clientY"):o.clientY;E.startPos=E.cfg.isHorizontal?s:u,E.bindLaterEvent()}},E.bindLaterEvent=function(){var T=E.getContainerDOM(),o=[];E.isMobile?o=[Object(a.a)(T,"touchmove",E.onMouseMove),Object(a.a)(T,"touchend",E.onMouseUp),Object(a.a)(T,"touchcancel",E.onMouseUp)]:o=[Object(a.a)(T,"mousemove",E.onMouseMove),Object(a.a)(T,"mouseup",E.onMouseUp),Object(a.a)(T,"mouseleave",E.onMouseUp)],E.clearEvents=function(){o.forEach(function(s){s.remove()})}},E.onMouseMove=function(T){var o=E.cfg,s=o.isHorizontal,u=o.thumbOffset;T.preventDefault();var v=E.isMobile?Object(M.get)(T,"touches.0.clientX"):T.clientX,C=E.isMobile?Object(M.get)(T,"touches.0.clientY"):T.clientY,O=s?v:C,j=O-E.startPos;E.startPos=O,E.updateThumbOffset(u+j)},E.onMouseUp=function(T){T.preventDefault(),E.clearEvents()},E.onTrackClick=function(T){var o=E.cfg,s=o.isHorizontal,u=o.x,v=o.y,C=o.thumbLen,O=E.getContainerDOM(),j=O.getBoundingClientRect(),p=T.clientX,x=T.clientY,A=s?p-j.left-u-C/2:x-j.top-v-C/2,k=E.validateRange(A);E.updateThumbOffset(k)},E.onThumbMouseOver=function(){var T=E.cfg.theme.hover.thumbColor;E.getElementByLocalId("thumb").attr("stroke",T),E.draw()},E.onThumbMouseOut=function(){var T=E.cfg.theme.default.thumbColor;E.getElementByLocalId("thumb").attr("stroke",T),E.draw()},E}return h.prototype.setRange=function(E,T){this.set("minLimit",E),this.set("maxLimit",T);var o=this.getValue(),s=Object(M.clamp)(o,E,T);o!==s&&!this.get("isInit")&&this.setValue(s)},h.prototype.getRange=function(){var E=this.get("minLimit")||0,T=this.get("maxLimit")||1;return{min:E,max:T}},h.prototype.setValue=function(E){var T=this.getRange(),o=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*Object(M.clamp)(E,T.min,T.max)}),this.delegateEmit("valuechange",{originalValue:o,value:this.getValue()})},h.prototype.getValue=function(){return Object(M.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},h.prototype.getDefaultCfg=function(){var E=b.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},E),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:d})},h.prototype.renderInner=function(E){this.renderTrackShape(E),this.renderThumbShape(E)},h.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},h.prototype.initEvent=function(){this.bindEvents()},h.prototype.renderTrackShape=function(E){var T=this.cfg,o=T.trackLen,s=T.theme,u=s===void 0?{default:{}}:s,v=Object(M.deepMix)({},d,u).default,C=v.lineCap,O=v.trackColor,j=v.size,p=Object(M.get)(this.cfg,"size",j),x=this.get("isHorizontal")?{x1:0+p/2,y1:p/2,x2:o-p/2,y2:p/2,lineWidth:p,stroke:O,lineCap:C}:{x1:p/2,y1:0+p/2,x2:p/2,y2:o-p/2,lineWidth:p,stroke:O,lineCap:C};return this.addShape(E,{id:this.getElementId("track"),name:"track",type:"line",attrs:x})},h.prototype.renderThumbShape=function(E){var T=this.cfg,o=T.thumbOffset,s=T.thumbLen,u=T.theme,v=Object(M.deepMix)({},d,u).default,C=v.size,O=v.lineCap,j=v.thumbColor,p=Object(M.get)(this.cfg,"size",C),x=this.get("isHorizontal")?{x1:o+p/2,y1:p/2,x2:o+s-p/2,y2:p/2,lineWidth:p,stroke:j,lineCap:O,cursor:"default"}:{x1:p/2,y1:o+p/2,x2:p/2,y2:o+s-p/2,lineWidth:p,stroke:j,lineCap:O,cursor:"default"};return this.addShape(E,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:x})},h.prototype.bindEvents=function(){var E=this.get("group");E.on("mousedown",this.onStartEvent(!1)),E.on("mouseup",this.onMouseUp),E.on("touchstart",this.onStartEvent(!0)),E.on("touchend",this.onMouseUp);var T=E.findById(this.getElementId("track"));T.on("click",this.onTrackClick);var o=E.findById(this.getElementId("thumb"));o.on("mouseover",this.onThumbMouseOver),o.on("mouseout",this.onThumbMouseOut)},h.prototype.getContainerDOM=function(){var E=this.get("container"),T=E&&E.get("canvas");return T&&T.get("container")},h.prototype.validateRange=function(E){var T=this.cfg,o=T.thumbLen,s=T.trackLen,u=E;return E+o>s?u=s-o:E+o<o&&(u=0),u},h.prototype.draw=function(){var E=this.get("container"),T=E&&E.get("canvas");T&&T.draw()},h.prototype.updateThumbOffset=function(E){var T=this.cfg,o=T.thumbOffset,s=T.isHorizontal,u=T.thumbLen,v=T.size,C=this.validateRange(E);if(C!==o){var O=this.getElementByLocalId("thumb");s?O.attr({x1:C+v/2,x2:C+u-v/2}):O.attr({y1:C+v/2,y2:C+u-v/2}),this.emitOffsetChange(C)}},h.prototype.emitOffsetChange=function(E){var T=this.cfg,o=T.thumbOffset,s=T.trackLen,u=T.thumbLen;this.cfg.thumbOffset=E,this.emit("scrollchange",{thumbOffset:E,ratio:Object(M.clamp)(E/(s-u),0,1)}),this.delegateEmit("valuechange",{originalValue:o,value:E})},h}(t.a)},"46lQ":function(wr,Vt,z){"use strict";var lt=z("QG4C"),a;(function(n){n.DEV="DEV",n.BETA="BETA",n.STABLE="STABLE"})(a||(a={}));function M(n,d){console.warn(n===a.DEV?"Plot '"+d+"' is in DEV stage, just give us issues.":n===a.BETA?"Plot '"+d+"' is in BETA stage, DO NOT use it in production env.":n===a.STABLE?"Plot '"+d+`' is in STABLE stage, import it by "import { `+d+` } from '@antv/g2plot'".`:"invalid Stage type.")}var t=function(){function n(){}return Object.defineProperty(n,"MultiView",{get:function(){return M(a.STABLE,"MultiView"),lt.a},enumerable:!1,configurable:!0}),n}()},"4Olw":function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return lt});function lt(a,M){return a.views.find(function(t){return t.id===M})}},"4cbP":function(wr,Vt){},"5HRO":function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return a});var lt=z("iTfj");function a(M,t){if(M===!1)return{fields:!1};var n=Object(lt.get)(M,"fields"),d=Object(lt.get)(M,"formatter");return d&&!n&&(n=t),{fields:n,formatter:d}}},"5OoT":function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return a});var lt=z("iTfj");function a(M,t){return!Object(lt.isNumber)(M)||!Object(lt.isNumber)(t)?"-":M===t?"100%":M===0?"\u221E":t===0?"-\u221E":(100*t/M).toFixed(2)+"%"}},"5UbV":function(wr,Vt,z){"use strict";z.d(Vt,"c",function(){return a}),z.d(Vt,"a",function(){return M}),z.d(Vt,"h",function(){return t}),z.d(Vt,"k",function(){return n}),z.d(Vt,"j",function(){return d}),z.d(Vt,"b",function(){return S}),z.d(Vt,"g",function(){return b}),z.d(Vt,"e",function(){return h}),z.d(Vt,"i",function(){return o}),z.d(Vt,"d",function(){return v}),z.d(Vt,"m",function(){return C}),z.d(Vt,"l",function(){return O}),z.d(Vt,"f",function(){return j});var lt=z("iTfj");function a(p){var x=0,A=0,k=0,X=0;return Object(lt.isNumber)(p)?x=A=k=X=p:Object(lt.isArray)(p)&&(x=p[0],k=Object(lt.isNil)(p[1])?p[0]:p[1],X=Object(lt.isNil)(p[2])?p[0]:p[2],A=Object(lt.isNil)(p[3])?k:p[3]),[x,k,X,A]}function M(p){for(var x=p.childNodes,A=x.length,k=A-1;k>=0;k--)p.removeChild(x[k])}function t(p,x){return!!p.className.match(new RegExp("(\\s|^)"+x+"(\\s|$)"))}function n(p){var x=p.start,A=p.end,k=Math.min(x.x,A.x),X=Math.min(x.y,A.y),et=Math.max(x.x,A.x),tt=Math.max(x.y,A.y);return{x:k,y:X,minX:k,minY:X,maxX:et,maxY:tt,width:et-k,height:tt-X}}function d(p){var x=p.map(function(ft){return ft.x}),A=p.map(function(ft){return ft.y}),k=Math.min.apply(Math,x),X=Math.min.apply(Math,A),et=Math.max.apply(Math,x),tt=Math.max.apply(Math,A);return{x:k,y:X,minX:k,minY:X,maxX:et,maxY:tt,width:et-k,height:tt-X}}function S(p,x,A,k){var X=p+A,et=x+k;return{x:p,y:x,width:A,height:k,minX:p,minY:x,maxX:isNaN(X)?0:X,maxY:isNaN(et)?0:et}}function b(p,x,A){return(1-A)*p+x*A}function h(p,x,A){return{x:p.x+Math.cos(A)*x,y:p.y+Math.sin(A)*x}}function E(p,x){var A=x.x-p.x,k=x.y-p.y;return Math.sqrt(A*A+k*k)}var T=function(x){return new Promise(function(A){setTimeout(A,x)})},o=function(x,A,k){return k===void 0&&(k=Math.pow(Number.EPSILON,.5)),[x,A].includes(Infinity)?Math.abs(x)===Math.abs(A):Math.abs(x-A)<k};function s(p,x){var A=Math.max(p.minX,x.minX),k=Math.max(p.minY,x.minY),X=Math.min(p.maxX,x.maxX),et=Math.min(p.maxY,x.maxY);return S(A,k,X-A,et-k)}function u(p,x){var A=Math.min(p.minX,x.minX),k=Math.min(p.minY,x.minY),X=Math.max(p.maxX,x.maxX),et=Math.max(p.maxY,x.maxY);return S(A,k,X-A,et-k)}function v(p){var x=p.getClip(),A=x&&x.getBBox(),k;if(!p.isGroup())k=p.getBBox();else{var X=Infinity,et=-Infinity,tt=Infinity,ft=-Infinity,st=p.getChildren();st.length>0?Object(lt.each)(st,function(vt){if(vt.get("visible")){if(vt.isGroup()&&vt.get("children").length===0)return!0;var mt=v(vt),pt=vt.applyToMatrix([mt.minX,mt.minY,1]),rt=vt.applyToMatrix([mt.minX,mt.maxY,1]),Bt=vt.applyToMatrix([mt.maxX,mt.minY,1]),It=vt.applyToMatrix([mt.maxX,mt.maxY,1]),St=Math.min(pt[0],rt[0],Bt[0],It[0]),H=Math.max(pt[0],rt[0],Bt[0],It[0]),ot=Math.min(pt[1],rt[1],Bt[1],It[1]),yt=Math.max(pt[1],rt[1],Bt[1],It[1]);St<X&&(X=St),H>et&&(et=H),ot<tt&&(tt=ot),yt>ft&&(ft=yt)}}):(X=0,et=0,tt=0,ft=0),k=S(X,tt,et-X,ft-tt)}return A?s(k,A):k}function C(p,x){if(!(!p.getClip()&&!x.getClip())){var A=x.getClip();if(!A){p.setClip(null);return}var k={type:A.get("type"),attrs:A.attr()};p.setClip(k)}}function O(p){return p+"px"}function j(p,x,A,k){var X=E(p,x),et=k/X,tt=0;return A==="start"?tt=0-et:A==="end"&&(tt=1+et),{x:b(p.x,x.x,tt),y:b(p.y,x.y,tt)}}},"5bFI":function(wr,Vt,z){"use strict";z.r(Vt),z.d(Vt,"Category",function(){return o}),z.d(Vt,"Continuous",function(){return C}),z.d(Vt,"Base",function(){return E});var lt=z("mrSG"),a=z("iTfj"),M=z("BgvD"),t=z("jqgP"),n=z("l3hu"),d=z("L16w"),S=z("MeYt"),b=z("5UbV"),h=function(O){Object(lt.b)(j,O);function j(){return O!==null&&O.apply(this,arguments)||this}return j.prototype.getDefaultCfg=function(){var p=O.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},p),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},j.prototype.getLayoutBBox=function(){var p=O.prototype.getLayoutBBox.call(this),x=this.get("maxWidth"),A=this.get("maxHeight"),k=p.width,X=p.height;return x&&(k=Math.min(k,x)),A&&(X=Math.min(X,A)),Object(b.b)(p.minX,p.minY,k,X)},j.prototype.setLocation=function(p){this.set("x",p.x),this.set("y",p.y),this.resetLocation()},j.prototype.resetLocation=function(){var p=this.get("x"),x=this.get("y"),A=this.get("offsetX"),k=this.get("offsetY");this.moveElementTo(this.get("group"),{x:p+A,y:x+k})},j.prototype.applyOffset=function(){this.resetLocation()},j.prototype.getDrawPoint=function(){return this.get("currentPoint")},j.prototype.setDrawPoint=function(p){return this.set("currentPoint",p)},j.prototype.renderInner=function(p){this.resetDraw(),this.get("title")&&this.drawTitle(p),this.drawLegendContent(p),this.get("background")&&this.drawBackground(p)},j.prototype.drawBackground=function(p){var x=this.get("background"),A=p.getBBox(),k=Object(b.c)(x.padding),X=Object(lt.a)({x:0,y:0,width:A.width+k[1]+k[3],height:A.height+k[0]+k[2]},x.style),et=this.addShape(p,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:X});et.toBack()},j.prototype.drawTitle=function(p){var x=this.get("currentPoint"),A=this.get("title"),k=A.spacing,X=A.style,et=A.text,tt=this.addShape(p,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:Object(lt.a)({text:et,x:x.x,y:x.y},X)}),ft=tt.getBBox();this.set("currentPoint",{x:x.x,y:ft.maxY+k})},j.prototype.resetDraw=function(){var p=this.get("background"),x={x:0,y:0};if(p){var A=Object(b.c)(p.padding);x.x=A[3],x.y=A[0]}this.set("currentPoint",x)},j}(S.a),E=h,T=function(O){Object(lt.b)(j,O);function j(){var p=O!==null&&O.apply(this,arguments)||this;return p.currentPageIndex=1,p.totalPagesCnt=1,p.pageWidth=0,p.pageHeight=0,p.startX=0,p.startY=0,p.onNavigationBack=function(){var x=p.getElementByLocalId("item-group");if(p.currentPageIndex>1){p.currentPageIndex-=1,p.updateNavigation();var A=p.getCurrentNavigationMatrix();p.get("animate")?x.animate({matrix:A},100):x.attr({matrix:A})}},p.onNavigationAfter=function(){var x=p.getElementByLocalId("item-group");if(p.currentPageIndex<p.totalPagesCnt){p.currentPageIndex+=1,p.updateNavigation();var A=p.getCurrentNavigationMatrix();p.get("animate")?x.animate({matrix:A},100):x.attr({matrix:A})}},p}return j.prototype.getDefaultCfg=function(){var p=O.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},p),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},defaultCfg:{title:{spacing:5,style:{fill:d.a.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:d.a.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},itemName:{spacing:16,style:{fill:d.a.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:d.a.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:d.a.uncheckedColor},markerStyle:{fill:d.a.uncheckedColor,stroke:d.a.uncheckedColor}},inactive:{nameStyle:{fill:d.a.uncheckedColor},markerStyle:{opacity:.2}}}}})},j.prototype.isList=function(){return!0},j.prototype.getItems=function(){return this.get("items")},j.prototype.setItems=function(p){this.update({items:p})},j.prototype.updateItem=function(p,x){Object(a.mix)(p,x),this.clear(),this.render()},j.prototype.clearItems=function(){var p=this.getElementByLocalId("item-group");p&&p.clear()},j.prototype.setItemState=function(p,x,A){p[x]=A;var k=this.getElementByLocalId("item-"+p.id);if(k){var X=this.getItems(),et=X.indexOf(p),tt=this.createOffScreenGroup(),ft=this.drawItem(p,et,this.getItemHeight(),tt);this.updateElements(ft,k),this.clearUpdateStatus(k)}},j.prototype.hasState=function(p,x){return!!p[x]},j.prototype.getItemStates=function(p){var x=this.get("itemStates"),A=[];return Object(a.each)(x,function(k,X){p[X]&&A.push(X)}),A},j.prototype.clearItemsState=function(p){var x=this,A=this.getItemsByState(p);Object(a.each)(A,function(k){x.setItemState(k,p,!1)})},j.prototype.getItemsByState=function(p){var x=this,A=this.getItems();return Object(a.filter)(A,function(k){return x.hasState(k,p)})},j.prototype.drawLegendContent=function(p){this.processItems(),this.drawItems(p)},j.prototype.processItems=function(){var p=this.get("items");Object(a.each)(p,function(x){x.id||(x.id=x.name)})},j.prototype.drawItems=function(p){var x=this,A=this.addGroup(p,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),k=this.addGroup(A,{id:this.getElementId("item-group"),name:"legend-item-group"}),X=this.getItemHeight(),et=this.get("itemWidth"),tt=this.get("itemSpacing"),ft=this.get("itemMarginBottom"),st=this.get("currentPoint"),vt=st.x,mt=st.y,pt=this.get("layout"),rt=this.get("items"),Bt=!1,It=0,St=this.get("maxWidth"),H=this.get("maxHeight");Object(a.each)(rt,function(ot,yt){var xt=x.drawItem(ot,yt,X,k),wt=xt.getBBox(),Q=et||wt.width;Q>It&&(It=Q),pt==="horizontal"?(St&&St<st.x+Q-vt&&(Bt=!0,st.x=vt,st.y+=X+ft),x.moveElementTo(xt,st),st.x+=Q+tt):(H&&H<st.y+X+ft-mt&&(Bt=!0,st.x+=It+tt,st.y=mt,It=0),x.moveElementTo(xt,st),st.y+=X+ft)}),Bt&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=vt,this.startY=mt,this.adjustNavigation(p,k))},j.prototype.getItemHeight=function(){var p=this.get("itemHeight");if(!p){var x=this.get("itemName");x&&(p=x.style.fontSize)}return p},j.prototype.drawMarker=function(p,x,A,k){var X=Object(lt.a)(Object(lt.a)(Object(lt.a)({x:0,y:k/2},x.style),{symbol:Object(a.get)(A.marker,"symbol","circle")}),Object(a.get)(A.marker,"style",{})),et=this.addShape(p,{type:"marker",id:this.getElementId("item-"+A.id+"-marker"),name:"legend-item-marker",attrs:X}),tt=et.getBBox();et.attr("x",tt.width/2);var ft=et.attr(),st=ft.stroke,vt=ft.fill;return st&&et.set("isStroke",!0),vt&&et.set("isFill",!0),et},j.prototype.drawItemText=function(p,x,A,k,X,et,tt){var ft=A.formatter,st=Object(lt.a)({x:et,y:X/2,text:ft?ft(k[x],k,tt):k[x]},A.style);return this.addShape(p,{type:"text",id:this.getElementId("item-"+k.id+"-"+x),name:"legend-item-"+x,attrs:st})},j.prototype.drawItem=function(p,x,A,k){var X="item-"+p.id,et=this.addGroup(k,{name:"legend-item-container",id:this.getElementId("item-container-"+X),delegateObject:{item:p,index:x}}),tt=this.addGroup(et,{name:"legend-item",id:this.getElementId(X),delegateObject:{item:p,index:x}}),ft=this.get("marker"),st=this.get("itemName"),vt=this.get("itemValue"),mt=this.get("itemBackground"),pt=this.getLimitItemWidth(),rt=0;if(ft){var Bt=this.drawMarker(tt,ft,p,A);rt=Bt.getBBox().maxX+ft.spacing}if(st){var It=this.drawItemText(tt,"name",st,p,A,rt,x);pt&&Object(M.a)(!0,It,Object(a.clamp)(pt-rt,0,pt)),rt=It.getBBox().maxX+st.spacing}if(vt){var St=this.drawItemText(tt,"value",vt,p,A,rt,x);pt&&(vt.alignRight?(St.attr({textAlign:"right",x:pt}),Object(M.a)(!0,St,Object(a.clamp)(pt-rt,0,pt),"head")):Object(M.a)(!0,St,Object(a.clamp)(pt-rt,0,pt)))}if(mt){var H=tt.getBBox(),ot=this.addShape(tt,{type:"rect",name:"legend-item-background",id:this.getElementId(X+"-background"),attrs:Object(lt.a)({x:0,y:0,width:H.width,height:A},mt.style)});ot.toBack()}return this.applyItemStates(p,tt),tt},j.prototype.adjustNavigation=function(p,x){var A=this,k=this.startX,X=this.startY,et=this.get("layout"),tt=x.findAll(function(Q){return Q.get("name")==="legend-item"}),ft=this.get("maxWidth"),st=this.get("maxHeight"),vt=this.get("itemWidth"),mt=this.get("itemSpacing"),pt=this.getItemHeight(),rt=this.drawNavigation(p,et,"00/00",12),Bt=rt.getBBox(),It={x:k,y:X},St=1,H=0,ot=0,yt=0;if(et==="horizontal")this.pageHeight=pt,Object(a.each)(tt,function(Q){var ct=Q.getBBox(),it=vt||ct.width;(H&&H<It.x+it+mt||ft<It.x+it+mt+Bt.width)&&(St===1&&(H=It.x+mt,A.pageWidth=H,A.moveElementTo(rt,{x:ft-mt-Bt.width-Bt.minX,y:It.y+pt/2-Bt.height/2-Bt.minY})),St+=1,It.x=k,It.y+=pt),A.moveElementTo(Q,It),Q.getParent().setClip({type:"rect",attrs:{x:It.x,y:It.y,width:it+mt,height:pt}}),It.x+=it+mt});else{var xt=this.get("itemMarginBottom");Object(a.each)(tt,function(Q){var ct=Q.getBBox();ct.width>ot&&(ot=ct.width)}),yt=ot,ot+=mt,ft&&(ot=Math.min(ft,ot),yt=Math.min(ft,yt)),this.pageWidth=ot,this.pageHeight=st-Math.max(Bt.height,pt+xt);var wt=Math.floor(this.pageHeight/(pt+xt));Object(a.each)(tt,function(Q,ct){ct!==0&&ct%wt==0&&(St+=1,It.x+=ot,It.y=X),A.moveElementTo(Q,It),Q.getParent().setClip({type:"rect",attrs:{x:It.x,y:It.y,width:ot,height:pt}}),It.y+=pt+xt}),this.totalPagesCnt=St,this.moveElementTo(rt,{x:k+yt/2-Bt.width/2-Bt.minX,y:st-Bt.height-Bt.minY})}this.pageHeight&&this.pageWidth&&x.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=St,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(rt),x.attr("matrix",this.getCurrentNavigationMatrix())},j.prototype.drawNavigation=function(p,x,A,k){var X={x:0,y:0},et=this.addGroup(p,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),tt=this.drawArrow(et,X,"navigation-arrow-left",x==="horizontal"?"up":"left",k);tt.on("click",this.onNavigationBack);var ft=tt.getBBox();X.x+=ft.width+2;var st=this.addShape(et,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:{x:X.x,y:X.y+k/2,text:A,fontSize:12,fill:"#ccc",textBaseline:"middle"}}),vt=st.getBBox();X.x+=vt.width+2;var mt=this.drawArrow(et,X,"navigation-arrow-right",x==="horizontal"?"down":"right",k);return mt.on("click",this.onNavigationAfter),et},j.prototype.updateNavigation=function(p){var x=this.currentPageIndex+"/"+this.totalPagesCnt,A=p?p.getChildren()[1]:this.getElementByLocalId("navigation-text"),k=p?p.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),X=p?p.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),et=A.getBBox();A.attr("text",x);var tt=A.getBBox();A.attr("x",A.attr("x")-(tt.width-et.width)/2),k.attr("opacity",this.currentPageIndex===1?.45:1),k.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),X.attr("opacity",this.currentPageIndex===this.totalPagesCnt?.45:1),X.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},j.prototype.drawArrow=function(p,x,A,k,X){var et=x.x,tt=x.y,ft={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},st=this.addShape(p,{type:"path",id:this.getElementId(A),name:A,attrs:{path:[["M",et+X/2,tt],["L",et,tt+X],["L",et+X,tt+X],["Z"]],fill:"#000",cursor:"pointer"}});return st.attr("matrix",Object(t.e)({x:et+X/2,y:tt+X/2},ft[k])),st},j.prototype.getCurrentNavigationMatrix=function(){var p=this,x=p.currentPageIndex,A=p.pageWidth,k=p.pageHeight,X=this.get("layout"),et=X==="horizontal"?{x:0,y:k*(1-x)}:{x:A*(1-x),y:0};return Object(t.f)(et)},j.prototype.applyItemStates=function(p,x){var A=this.getItemStates(p),k=A.length>0;if(k){var X=x.getChildren(),et=this.get("itemStates");Object(a.each)(X,function(tt){var ft=tt.get("name"),st=ft.split("-")[2],vt=Object(n.a)(p,st,et);vt&&(tt.attr(vt),st==="marker"&&!(tt.get("isStroke")&&tt.get("isFill"))&&(tt.get("isStroke")&&tt.attr("fill",null),tt.get("isFill")&&tt.attr("stroke",null)))})}},j.prototype.getLimitItemWidth=function(){var p=this.get("itemWidth"),x=this.get("maxItemWidth");return x?p&&(x=p<=x?p:x):p&&(x=p),x},j}(E),o=T,s=1.4,u=.4,v=function(O){Object(lt.b)(j,O);function j(){return O!==null&&O.apply(this,arguments)||this}return j.prototype.getDefaultCfg=function(){var p=O.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},p),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:d.a.textColor,textBaseline:"middle",fontFamily:d.a.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:d.a.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},j.prototype.isSlider=function(){return!0},j.prototype.getValue=function(){return this.getCurrentValue()},j.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},j.prototype.setRange=function(p,x){this.update({min:p,max:x})},j.prototype.setValue=function(p){var x=this.getValue();this.set("value",p);var A=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(A),this.delegateEmit("valuechanged",{originValue:x,value:p})},j.prototype.initEvent=function(){var p=this.get("group");this.bindSliderEvent(p),this.bindRailEvent(p),this.bindTrackEvent(p)},j.prototype.drawLegendContent=function(p){this.drawRail(p),this.drawLabels(p),this.fixedElements(p),this.resetTrack(p),this.resetTrackClip(p),this.get("slidable")&&this.resetHandlers(p)},j.prototype.bindSliderEvent=function(p){this.bindHandlersEvent(p)},j.prototype.bindHandlersEvent=function(p){var x=this;p.on("legend-handler-min:drag",function(A){var k=x.getValueByCanvasPoint(A.x,A.y),X=x.getCurrentValue(),et=X[1];et<k&&(et=k),x.setValue([k,et])}),p.on("legend-handler-max:drag",function(A){var k=x.getValueByCanvasPoint(A.x,A.y),X=x.getCurrentValue(),et=X[0];et>k&&(et=k),x.setValue([et,k])})},j.prototype.bindRailEvent=function(p){},j.prototype.bindTrackEvent=function(p){var x=this,A=null;p.on("legend-track:dragstart",function(k){A={x:k.x,y:k.y}}),p.on("legend-track:drag",function(k){if(!!A){var X=x.getValueByCanvasPoint(A.x,A.y),et=x.getValueByCanvasPoint(k.x,k.y),tt=x.getCurrentValue(),ft=tt[1]-tt[0],st=x.getRange(),vt=et-X;vt<0?tt[0]+vt>st.min?x.setValue([tt[0]+vt,tt[1]+vt]):x.setValue([st.min,st.min+ft]):vt>0&&(vt>0&&tt[1]+vt<st.max?x.setValue([tt[0]+vt,tt[1]+vt]):x.setValue([st.max-ft,st.max])),A={x:k.x,y:k.y}}}),p.on("legend-track:dragend",function(k){A=null})},j.prototype.drawLabels=function(p){this.drawLabel("min",p),this.drawLabel("max",p)},j.prototype.drawLabel=function(p,x){var A=this.get("label"),k=A.style,X=A.align,et=this.get(p),tt=this.getLabelAlignAttrs(p,X),ft="label-"+p;this.addShape(x,{type:"text",id:this.getElementId(ft),name:"legend-label-"+p,attrs:Object(lt.a)(Object(lt.a)({x:0,y:0,text:et},k),tt)})},j.prototype.getLabelAlignAttrs=function(p,x){var A=this.isVertical(),k="center",X="middle";return A?(k="start",x!=="rail"?p==="min"?X="top":X="bottom":X="top"):x!=="rail"?(X="top",p==="min"?k="start":k="end"):(k="start",X="middle"),{textAlign:k,textBaseline:X}},j.prototype.getRailPath=function(p,x,A,k){var X=this.get("rail"),et=X.size,tt=X.defaultLength,ft=X.type,st=this.isVertical(),vt=tt,mt=A,pt=k;mt||(mt=st?et:vt),pt||(pt=st?vt:et);var rt=[];return ft==="color"?(rt.push(["M",p,x]),rt.push(["L",p+mt,x]),rt.push(["L",p+mt,x+pt]),rt.push(["L",p,x+pt]),rt.push(["Z"])):(rt.push(["M",p+mt,x]),rt.push(["L",p+mt,x+pt]),rt.push(["L",p,x+pt]),rt.push(["Z"])),rt},j.prototype.drawRail=function(p){var x=this.get("rail"),A=x.style;this.addShape(p,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:Object(lt.a)({path:this.getRailPath(0,0)},A)})},j.prototype.getTrackColor=function(p){var x=p.length;if(!x)return null;if(x===1)return p[0];var A;this.isVertical()?A="l(90)":A="l(0)";for(var k=0;k<x;k++){var X=k/(x-1);A+=" "+X+":"+p[k]}return A},j.prototype.getTrackPath=function(p){var x=this.getRailShape(p),A=x.attr("path");return Object(a.clone)(A)},j.prototype.getClipTrackAttrs=function(p){var x=this.getCurrentValue(),A=x[0],k=x[1],X=this.getRailBBox(p),et=this.getPointByValue(A,p),tt=this.getPointByValue(k,p),ft=this.isVertical(),st,vt,mt,pt;return ft?(st=X.minX,vt=et.y,mt=X.width,pt=tt.y-et.y):(st=et.x,vt=X.minY,mt=tt.x-et.x,pt=X.height),{x:st,y:vt,width:mt,height:pt}},j.prototype.getTrackAttrs=function(p){var x=this.get("track"),A=this.get("colors"),k=this.getTrackPath(p);return Object(a.mix)({path:k,fill:this.getTrackColor(A)},x.style)},j.prototype.resetTrackClip=function(p){var x=p||this.get("group"),A=this.getElementId("track"),k=x.findById(A),X=k.getClip(),et=this.getClipTrackAttrs(p);X?X.attr(et):k.setClip({type:"rect",attrs:et})},j.prototype.resetTrack=function(p){var x=this.getElementId("track"),A=p.findById(x),k=this.getTrackAttrs(p);A?A.attr(k):this.addShape(p,{type:"path",id:x,draggable:this.get("slidable"),name:"legend-track",attrs:k})},j.prototype.getPointByValue=function(p,x){var A=this.getRange(),k=A.min,X=A.max,et=(p-k)/(X-k),tt=this.getRailBBox(x),ft=this.isVertical(),st={x:0,y:0};return ft?(st.x=tt.minX+tt.width/2,st.y=Object(b.g)(tt.minY,tt.maxY,et)):(st.x=Object(b.g)(tt.minX,tt.maxX,et),st.y=tt.minY+tt.height/2),st},j.prototype.getRailShape=function(p){var x=p||this.get("group");return x.findById(this.getElementId("rail"))},j.prototype.getRailBBox=function(p){var x=this.getRailShape(p),A=x.getBBox();return A},j.prototype.getRailCanvasBBox=function(){var p=this.get("group"),x=p.findById(this.getElementId("rail")),A=x.getCanvasBBox();return A},j.prototype.isVertical=function(){return this.get("layout")==="vertical"},j.prototype.getValueByCanvasPoint=function(p,x){var A=this.getRange(),k=A.min,X=A.max,et=this.getRailCanvasBBox(),tt=this.isVertical(),ft=this.get("step"),st;tt?st=(x-et.minY)/et.height:st=(p-et.minX)/et.width;var vt=Object(b.g)(k,X,st);if(ft){var mt=Math.round((vt-k)/ft);vt=k+mt*ft}return vt>X&&(vt=X),vt<k&&(vt=k),vt},j.prototype.getCurrentValue=function(){var p=this.get("value");return p||(p=[this.get("min"),this.get("max")]),p},j.prototype.resetHandlers=function(p){var x=this.getCurrentValue(),A=x[0],k=x[1];this.resetHandler(p,"min",A),this.resetHandler(p,"max",k)},j.prototype.getHandlerPath=function(p,x){var A=this.isVertical(),k=[],X=p.size,et=x.x,tt=x.y,ft=X*s,st=X/2,vt=X/6;if(A){var mt=et+ft*u;k.push(["M",et,tt]),k.push(["L",mt,tt+st]),k.push(["L",et+ft,tt+st]),k.push(["L",et+ft,tt-st]),k.push(["L",mt,tt-st]),k.push(["Z"]),k.push(["M",mt,tt+vt]),k.push(["L",et+ft-2,tt+vt]),k.push(["M",mt,tt-vt]),k.push(["L",et+ft-2,tt-vt])}else{var pt=tt+ft*u;k.push(["M",et,tt]),k.push(["L",et-st,pt]),k.push(["L",et-st,tt+ft]),k.push(["L",et+st,tt+ft]),k.push(["L",et+st,pt]),k.push(["Z"]),k.push(["M",et-vt,pt]),k.push(["L",et-vt,tt+ft-2]),k.push(["M",et+vt,pt]),k.push(["L",et+vt,tt+ft-2])}return k},j.prototype.resetHandler=function(p,x,A){var k=this.getPointByValue(A,p),X=this.get("handler"),et=this.getHandlerPath(X,k),tt=this.getElementId("handler-"+x),ft=p.findById(tt),st=this.isVertical();ft?ft.attr("path",et):this.addShape(p,{type:"path",name:"legend-handler-"+x,draggable:!0,id:tt,attrs:Object(lt.a)(Object(lt.a)({path:et},X.style),{cursor:st?"ns-resize":"ew-resize"})})},j.prototype.fixedElements=function(p){var x=p.findById(this.getElementId("rail")),A=p.findById(this.getElementId("label-min")),k=p.findById(this.getElementId("label-max")),X=this.getDrawPoint();this.isVertical()?this.fixedVertail(A,k,x,X):this.fixedHorizontal(A,k,x,X)},j.prototype.fitRailLength=function(p,x,A,k){var X=this.isVertical(),et=X?"height":"width",tt=this.get("label"),ft=tt.align,st=tt.spacing,vt=this.get("max"+Object(a.upperFirst)(et));if(vt){var mt=ft==="rail"?A[et]+p[et]+x[et]+st*2:A[et],pt=mt-vt;pt>0&&this.changeRailLength(k,et,A[et]-pt)}},j.prototype.changeRailLength=function(p,x,A){var k=p.getBBox(),X;x==="height"?X=this.getRailPath(k.x,k.y,k.width,A):X=this.getRailPath(k.x,k.y,A,k.height),p.attr("path",X)},j.prototype.changeRailPosition=function(p,x,A){var k=p.getBBox(),X=this.getRailPath(x,A,k.width,k.height);p.attr("path",X)},j.prototype.fixedHorizontal=function(p,x,A,k){var X=this.get("label"),et=X.align,tt=X.spacing,ft=A.getBBox(),st=p.getBBox(),vt=x.getBBox(),mt=ft.height;this.fitRailLength(st,vt,ft,A),ft=A.getBBox(),et==="rail"?(p.attr({x:k.x,y:k.y+mt/2}),this.changeRailPosition(A,k.x+st.width+tt,k.y),x.attr({x:k.x+st.width+ft.width+tt*2,y:k.y+mt/2})):et==="top"?(p.attr({x:k.x,y:k.y}),x.attr({x:k.x+ft.width,y:k.y}),this.changeRailPosition(A,k.x,k.y+st.height+tt)):(this.changeRailPosition(A,k.x,k.y),p.attr({x:k.x,y:k.y+ft.height+tt}),x.attr({x:k.x+ft.width,y:k.y+ft.height+tt}))},j.prototype.fixedVertail=function(p,x,A,k){var X=this.get("label"),et=X.align,tt=X.spacing,ft=A.getBBox(),st=p.getBBox(),vt=x.getBBox();if(this.fitRailLength(st,vt,ft,A),ft=A.getBBox(),et==="rail")p.attr({x:k.x,y:k.y}),this.changeRailPosition(A,k.x,k.y+st.height+tt),x.attr({x:k.x,y:k.y+st.height+ft.height+tt*2});else if(et==="right")p.attr({x:k.x+ft.width+tt,y:k.y}),this.changeRailPosition(A,k.x,k.y),x.attr({x:k.x+ft.width+tt,y:k.y+ft.height});else{var mt=Math.max(st.width,vt.width);p.attr({x:k.x,y:k.y}),this.changeRailPosition(A,k.x+mt+tt,k.y),x.attr({x:k.x,y:k.y+ft.height})}},j}(E),C=v},"5eLp":function(wr,Vt,z){"use strict";var lt=function(){function a(M,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=M,this.name=M,this.originalEvent=t,this.timeStamp=t.timeStamp}return a.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},a.prototype.stopPropagation=function(){this.propagationStopped=!0},a.prototype.toString=function(){var M=this.type;return"[Event (type="+M+")]"},a.prototype.save=function(){},a.prototype.restore=function(){},a}();Vt.a=lt},"5kt6":function(wr,Vt,z){"use strict";z.d(Vt,"f",function(){return lt}),z.d(Vt,"e",function(){return a}),z.d(Vt,"d",function(){return M}),z.d(Vt,"a",function(){return t}),z.d(Vt,"b",function(){return n}),z.d(Vt,"g",function(){return d}),z.d(Vt,"c",function(){return S});var lt="range",a="type",M="percent",t="#f0f0f0",n="indicator-view",d="range-view",S="range-mask-view"},"5z4m":function(wr,Vt,z){"use strict";var lt=z("mrSG"),a=z("aFU3"),M=z("iTfj"),t=z("aN7R"),n=z("c0lT"),d=z("APlK"),S=z("IvmH"),b=z("c+wO"),h=function(E){Object(lt.b)(T,E);function T(){return E!==null&&E.apply(this,arguments)||this}return T.prototype.isEntityGroup=function(){return!0},T.prototype.createDom=function(){var o=Object(b.b)("g");this.set("el",o);var s=this.getParent();if(s){var u=s.get("el");u||(u=s.createDom(),s.set("el",u)),u.appendChild(o)}return o},T.prototype.afterAttrsChange=function(o){E.prototype.afterAttrsChange.call(this,o);var s=this.get("canvas");if(s&&s.get("autoDraw")){var u=s.get("context");this.createPath(u,o)}},T.prototype.onCanvasChange=function(o){Object(n.b)(this,o)},T.prototype.getShapeBase=function(){return t},T.prototype.getGroupBase=function(){return T},T.prototype.draw=function(o){var s=this.getChildren(),u=this.get("el");this.get("destroyed")?u&&u.parentNode.removeChild(u):(u||this.createDom(),Object(d.a)(this,o),this.createPath(o),s.length&&Object(n.a)(o,s))},T.prototype.createPath=function(o,s){var u=this.attr(),v=this.get("el");Object(M.each)(s||u,function(C,O){S.b[O]&&v.setAttribute(S.b[O],C)}),Object(d.c)(this)},T}(a.AbstractGroup);Vt.a=h},"6JdA":function(wr,Vt,z){"use strict";z.d(Vt,"b",function(){return lt}),z.d(Vt,"c",function(){return ot}),z.d(Vt,"d",function(){return yt}),z.d(Vt,"a",function(){return a});var lt={};z.r(lt),z.d(lt,"create",function(){return t}),z.d(lt,"fromMat4",function(){return n}),z.d(lt,"clone",function(){return d}),z.d(lt,"copy",function(){return S}),z.d(lt,"fromValues",function(){return b}),z.d(lt,"set",function(){return h}),z.d(lt,"identity",function(){return E}),z.d(lt,"transpose",function(){return T}),z.d(lt,"invert",function(){return o}),z.d(lt,"adjoint",function(){return s}),z.d(lt,"determinant",function(){return u}),z.d(lt,"multiply",function(){return v}),z.d(lt,"translate",function(){return C}),z.d(lt,"rotate",function(){return O}),z.d(lt,"scale",function(){return j}),z.d(lt,"fromTranslation",function(){return p}),z.d(lt,"fromRotation",function(){return x}),z.d(lt,"fromScaling",function(){return A}),z.d(lt,"fromMat2d",function(){return k}),z.d(lt,"fromQuat",function(){return X}),z.d(lt,"normalFromMat4",function(){return et}),z.d(lt,"projection",function(){return tt}),z.d(lt,"str",function(){return ft}),z.d(lt,"frob",function(){return st}),z.d(lt,"add",function(){return vt}),z.d(lt,"subtract",function(){return mt}),z.d(lt,"multiplyScalar",function(){return pt}),z.d(lt,"multiplyScalarAndAdd",function(){return rt}),z.d(lt,"exactEquals",function(){return Bt}),z.d(lt,"equals",function(){return It}),z.d(lt,"mul",function(){return St}),z.d(lt,"sub",function(){return H});var a={};z.r(a),z.d(a,"leftTranslate",function(){return xt}),z.d(a,"leftRotate",function(){return wt}),z.d(a,"leftScale",function(){return Q}),z.d(a,"transform",function(){return it}),z.d(a,"direction",function(){return U}),z.d(a,"angleTo",function(){return D}),z.d(a,"vertical",function(){return W});var M=z("yU0y");function t(){var P=new M.a(9);return M.a!=Float32Array&&(P[1]=0,P[2]=0,P[3]=0,P[5]=0,P[6]=0,P[7]=0),P[0]=1,P[4]=1,P[8]=1,P}function n(P,m){return P[0]=m[0],P[1]=m[1],P[2]=m[2],P[3]=m[4],P[4]=m[5],P[5]=m[6],P[6]=m[8],P[7]=m[9],P[8]=m[10],P}function d(P){var m=new M.a(9);return m[0]=P[0],m[1]=P[1],m[2]=P[2],m[3]=P[3],m[4]=P[4],m[5]=P[5],m[6]=P[6],m[7]=P[7],m[8]=P[8],m}function S(P,m){return P[0]=m[0],P[1]=m[1],P[2]=m[2],P[3]=m[3],P[4]=m[4],P[5]=m[5],P[6]=m[6],P[7]=m[7],P[8]=m[8],P}function b(P,m,y,V,J,ht,gt,Mt,Lt){var At=new M.a(9);return At[0]=P,At[1]=m,At[2]=y,At[3]=V,At[4]=J,At[5]=ht,At[6]=gt,At[7]=Mt,At[8]=Lt,At}function h(P,m,y,V,J,ht,gt,Mt,Lt,At){return P[0]=m,P[1]=y,P[2]=V,P[3]=J,P[4]=ht,P[5]=gt,P[6]=Mt,P[7]=Lt,P[8]=At,P}function E(P){return P[0]=1,P[1]=0,P[2]=0,P[3]=0,P[4]=1,P[5]=0,P[6]=0,P[7]=0,P[8]=1,P}function T(P,m){if(P===m){var y=m[1],V=m[2],J=m[5];P[1]=m[3],P[2]=m[6],P[3]=y,P[5]=m[7],P[6]=V,P[7]=J}else P[0]=m[0],P[1]=m[3],P[2]=m[6],P[3]=m[1],P[4]=m[4],P[5]=m[7],P[6]=m[2],P[7]=m[5],P[8]=m[8];return P}function o(P,m){var y=m[0],V=m[1],J=m[2],ht=m[3],gt=m[4],Mt=m[5],Lt=m[6],At=m[7],Ct=m[8],Ot=Ct*gt-Mt*At,Dt=-Ct*ht+Mt*Lt,Ft=At*ht-gt*Lt,Xt=y*Ot+V*Dt+J*Ft;return Xt?(Xt=1/Xt,P[0]=Ot*Xt,P[1]=(-Ct*V+J*At)*Xt,P[2]=(Mt*V-J*gt)*Xt,P[3]=Dt*Xt,P[4]=(Ct*y-J*Lt)*Xt,P[5]=(-Mt*y+J*ht)*Xt,P[6]=Ft*Xt,P[7]=(-At*y+V*Lt)*Xt,P[8]=(gt*y-V*ht)*Xt,P):null}function s(P,m){var y=m[0],V=m[1],J=m[2],ht=m[3],gt=m[4],Mt=m[5],Lt=m[6],At=m[7],Ct=m[8];return P[0]=gt*Ct-Mt*At,P[1]=J*At-V*Ct,P[2]=V*Mt-J*gt,P[3]=Mt*Lt-ht*Ct,P[4]=y*Ct-J*Lt,P[5]=J*ht-y*Mt,P[6]=ht*At-gt*Lt,P[7]=V*Lt-y*At,P[8]=y*gt-V*ht,P}function u(P){var m=P[0],y=P[1],V=P[2],J=P[3],ht=P[4],gt=P[5],Mt=P[6],Lt=P[7],At=P[8];return m*(At*ht-gt*Lt)+y*(-At*J+gt*Mt)+V*(Lt*J-ht*Mt)}function v(P,m,y){var V=m[0],J=m[1],ht=m[2],gt=m[3],Mt=m[4],Lt=m[5],At=m[6],Ct=m[7],Ot=m[8],Dt=y[0],Ft=y[1],Xt=y[2],Rt=y[3],Kt=y[4],$t=y[5],le=y[6],Me=y[7],on=y[8];return P[0]=Dt*V+Ft*gt+Xt*At,P[1]=Dt*J+Ft*Mt+Xt*Ct,P[2]=Dt*ht+Ft*Lt+Xt*Ot,P[3]=Rt*V+Kt*gt+$t*At,P[4]=Rt*J+Kt*Mt+$t*Ct,P[5]=Rt*ht+Kt*Lt+$t*Ot,P[6]=le*V+Me*gt+on*At,P[7]=le*J+Me*Mt+on*Ct,P[8]=le*ht+Me*Lt+on*Ot,P}function C(P,m,y){var V=m[0],J=m[1],ht=m[2],gt=m[3],Mt=m[4],Lt=m[5],At=m[6],Ct=m[7],Ot=m[8],Dt=y[0],Ft=y[1];return P[0]=V,P[1]=J,P[2]=ht,P[3]=gt,P[4]=Mt,P[5]=Lt,P[6]=Dt*V+Ft*gt+At,P[7]=Dt*J+Ft*Mt+Ct,P[8]=Dt*ht+Ft*Lt+Ot,P}function O(P,m,y){var V=m[0],J=m[1],ht=m[2],gt=m[3],Mt=m[4],Lt=m[5],At=m[6],Ct=m[7],Ot=m[8],Dt=Math.sin(y),Ft=Math.cos(y);return P[0]=Ft*V+Dt*gt,P[1]=Ft*J+Dt*Mt,P[2]=Ft*ht+Dt*Lt,P[3]=Ft*gt-Dt*V,P[4]=Ft*Mt-Dt*J,P[5]=Ft*Lt-Dt*ht,P[6]=At,P[7]=Ct,P[8]=Ot,P}function j(P,m,y){var V=y[0],J=y[1];return P[0]=V*m[0],P[1]=V*m[1],P[2]=V*m[2],P[3]=J*m[3],P[4]=J*m[4],P[5]=J*m[5],P[6]=m[6],P[7]=m[7],P[8]=m[8],P}function p(P,m){return P[0]=1,P[1]=0,P[2]=0,P[3]=0,P[4]=1,P[5]=0,P[6]=m[0],P[7]=m[1],P[8]=1,P}function x(P,m){var y=Math.sin(m),V=Math.cos(m);return P[0]=V,P[1]=y,P[2]=0,P[3]=-y,P[4]=V,P[5]=0,P[6]=0,P[7]=0,P[8]=1,P}function A(P,m){return P[0]=m[0],P[1]=0,P[2]=0,P[3]=0,P[4]=m[1],P[5]=0,P[6]=0,P[7]=0,P[8]=1,P}function k(P,m){return P[0]=m[0],P[1]=m[1],P[2]=0,P[3]=m[2],P[4]=m[3],P[5]=0,P[6]=m[4],P[7]=m[5],P[8]=1,P}function X(P,m){var y=m[0],V=m[1],J=m[2],ht=m[3],gt=y+y,Mt=V+V,Lt=J+J,At=y*gt,Ct=V*gt,Ot=V*Mt,Dt=J*gt,Ft=J*Mt,Xt=J*Lt,Rt=ht*gt,Kt=ht*Mt,$t=ht*Lt;return P[0]=1-Ot-Xt,P[3]=Ct-$t,P[6]=Dt+Kt,P[1]=Ct+$t,P[4]=1-At-Xt,P[7]=Ft-Rt,P[2]=Dt-Kt,P[5]=Ft+Rt,P[8]=1-At-Ot,P}function et(P,m){var y=m[0],V=m[1],J=m[2],ht=m[3],gt=m[4],Mt=m[5],Lt=m[6],At=m[7],Ct=m[8],Ot=m[9],Dt=m[10],Ft=m[11],Xt=m[12],Rt=m[13],Kt=m[14],$t=m[15],le=y*Mt-V*gt,Me=y*Lt-J*gt,on=y*At-ht*gt,hn=V*Lt-J*Mt,Cn=V*At-ht*Mt,He=J*At-ht*Lt,mn=Ct*Rt-Ot*Xt,dn=Ct*Kt-Dt*Xt,Un=Ct*$t-Ft*Xt,Xn=Ot*Kt-Dt*Rt,Hn=Ot*$t-Ft*Rt,_n=Dt*$t-Ft*Kt,$n=le*_n-Me*Hn+on*Xn+hn*Un-Cn*dn+He*mn;return $n?($n=1/$n,P[0]=(Mt*_n-Lt*Hn+At*Xn)*$n,P[1]=(Lt*Un-gt*_n-At*dn)*$n,P[2]=(gt*Hn-Mt*Un+At*mn)*$n,P[3]=(J*Hn-V*_n-ht*Xn)*$n,P[4]=(y*_n-J*Un+ht*dn)*$n,P[5]=(V*Un-y*Hn-ht*mn)*$n,P[6]=(Rt*He-Kt*Cn+$t*hn)*$n,P[7]=(Kt*on-Xt*He-$t*Me)*$n,P[8]=(Xt*Cn-Rt*on+$t*le)*$n,P):null}function tt(P,m,y){return P[0]=2/m,P[1]=0,P[2]=0,P[3]=0,P[4]=-2/y,P[5]=0,P[6]=-1,P[7]=1,P[8]=1,P}function ft(P){return"mat3("+P[0]+", "+P[1]+", "+P[2]+", "+P[3]+", "+P[4]+", "+P[5]+", "+P[6]+", "+P[7]+", "+P[8]+")"}function st(P){return Math.hypot(P[0],P[1],P[2],P[3],P[4],P[5],P[6],P[7],P[8])}function vt(P,m,y){return P[0]=m[0]+y[0],P[1]=m[1]+y[1],P[2]=m[2]+y[2],P[3]=m[3]+y[3],P[4]=m[4]+y[4],P[5]=m[5]+y[5],P[6]=m[6]+y[6],P[7]=m[7]+y[7],P[8]=m[8]+y[8],P}function mt(P,m,y){return P[0]=m[0]-y[0],P[1]=m[1]-y[1],P[2]=m[2]-y[2],P[3]=m[3]-y[3],P[4]=m[4]-y[4],P[5]=m[5]-y[5],P[6]=m[6]-y[6],P[7]=m[7]-y[7],P[8]=m[8]-y[8],P}function pt(P,m,y){return P[0]=m[0]*y,P[1]=m[1]*y,P[2]=m[2]*y,P[3]=m[3]*y,P[4]=m[4]*y,P[5]=m[5]*y,P[6]=m[6]*y,P[7]=m[7]*y,P[8]=m[8]*y,P}function rt(P,m,y,V){return P[0]=m[0]+y[0]*V,P[1]=m[1]+y[1]*V,P[2]=m[2]+y[2]*V,P[3]=m[3]+y[3]*V,P[4]=m[4]+y[4]*V,P[5]=m[5]+y[5]*V,P[6]=m[6]+y[6]*V,P[7]=m[7]+y[7]*V,P[8]=m[8]+y[8]*V,P}function Bt(P,m){return P[0]===m[0]&&P[1]===m[1]&&P[2]===m[2]&&P[3]===m[3]&&P[4]===m[4]&&P[5]===m[5]&&P[6]===m[6]&&P[7]===m[7]&&P[8]===m[8]}function It(P,m){var y=P[0],V=P[1],J=P[2],ht=P[3],gt=P[4],Mt=P[5],Lt=P[6],At=P[7],Ct=P[8],Ot=m[0],Dt=m[1],Ft=m[2],Xt=m[3],Rt=m[4],Kt=m[5],$t=m[6],le=m[7],Me=m[8];return Math.abs(y-Ot)<=M.b*Math.max(1,Math.abs(y),Math.abs(Ot))&&Math.abs(V-Dt)<=M.b*Math.max(1,Math.abs(V),Math.abs(Dt))&&Math.abs(J-Ft)<=M.b*Math.max(1,Math.abs(J),Math.abs(Ft))&&Math.abs(ht-Xt)<=M.b*Math.max(1,Math.abs(ht),Math.abs(Xt))&&Math.abs(gt-Rt)<=M.b*Math.max(1,Math.abs(gt),Math.abs(Rt))&&Math.abs(Mt-Kt)<=M.b*Math.max(1,Math.abs(Mt),Math.abs(Kt))&&Math.abs(Lt-$t)<=M.b*Math.max(1,Math.abs(Lt),Math.abs($t))&&Math.abs(At-le)<=M.b*Math.max(1,Math.abs(At),Math.abs(le))&&Math.abs(Ct-Me)<=M.b*Math.max(1,Math.abs(Ct),Math.abs(Me))}var St=v,H=mt,ot=z("ZxFD"),yt=z("n+fv");function xt(P,m,y){var V=[0,0,0,0,0,0,0,0,0];return lt.fromTranslation(V,y),lt.multiply(P,V,m)}function wt(P,m,y){var V=[0,0,0,0,0,0,0,0,0];return lt.fromRotation(V,y),lt.multiply(P,V,m)}function Q(P,m,y){var V=[0,0,0,0,0,0,0,0,0];return lt.fromScaling(V,y),lt.multiply(P,V,m)}function ct(P,m,y){return lt.multiply(P,y,m)}function it(P,m){for(var y=P?[].concat(P):[1,0,0,0,1,0,0,0,1],V=0,J=m.length;V<J;V++){var ht=m[V];switch(ht[0]){case"t":xt(y,y,[ht[1],ht[2]]);break;case"s":Q(y,y,[ht[1],ht[2]]);break;case"r":wt(y,y,ht[1]);break;case"m":ct(y,y,ht[1]);break;default:break}}return y}function U(P,m){return P[0]*m[1]-m[0]*P[1]}function D(P,m,y){var V=ot.angle(P,m),J=U(P,m)>=0;return y?J?Math.PI*2-V:V:J?V:Math.PI*2-V}function W(P,m,y){return y?(P[0]=m[1],P[1]=-1*m[0]):(P[0]=-1*m[1],P[1]=m[0]),P}},"6UX8":function(wr,Vt,z){"use strict";var lt=z("iTfj"),a=/rgba?\(([\s.,0-9]+)\)/,M=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,t=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,n=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,d=function(j){return/^[r,R,L,l]{1}[\s]*\(/.test(j)},S=function(){var j=document.createElement("i");return j.title="Web Colour Picker",j.style.display="none",document.body.appendChild(j),j},b=function(j,p,x,A){return j[A]+(p[A]-j[A])*x};function h(O){return"#"+T(O[0])+T(O[1])+T(O[2])}var E=function(j){return[parseInt(j.substr(1,2),16),parseInt(j.substr(3,2),16),parseInt(j.substr(5,2),16)]},T=function(j){var p=Math.round(j).toString(16);return p.length===1?"0"+p:p},o=function(j,p){var x=isNaN(Number(p))||p<0?0:p>1?1:Number(p),A=j.length-1,k=Math.floor(A*x),X=A*x-k,et=j[k],tt=k===A?et:j[k+1];return h([b(et,tt,X,0),b(et,tt,X,1),b(et,tt,X,2)])},s,u=function(j){if(j[0]==="#"&&j.length===7)return j;s||(s=S()),s.style.color=j;var p=document.defaultView.getComputedStyle(s,"").getPropertyValue("color"),x=a.exec(p),A=x[1].split(/\s*,\s*/).map(function(k){return Number(k)});return p=h(A),p},v=function(j){var p=Object(lt.isString)(j)?j.split("-"):j,x=Object(lt.map)(p,function(A){return E(A.indexOf("#")===-1?u(A):A)});return function(A){return o(x,A)}},C=function(j){if(d(j)){var p,x=void 0;if(j[0]==="l"){var A=M.exec(j),k=+A[1]+90;x=A[2],p="linear-gradient("+k+"deg, "}else if(j[0]==="r"){p="radial-gradient(";var A=t.exec(j);x=A[4]}var X=x.match(n);return Object(lt.each)(X,function(et,tt){var ft=et.split(":");p+=ft[1]+" "+ft[0]*100+"%",tt!==X.length-1&&(p+=", ")}),p+=")",p}return j};Vt.a={rgb2arr:E,gradient:v,toRGB:Object(lt.memoize)(u),toCSSGradient:C}},"7+4w":function(wr,Vt,z){"use strict";var lt=z("mrSG"),a=z("YuPD"),M=z("zJSt"),t=function(n){Object(lt.b)(d,n);function d(S,b,h,E){var T=n.call(this,S,Object(a.b)({},E,b))||this;return T.type="g2-plot",T.defaultOptions=E,T.adaptor=h,T}return d.prototype.getDefaultOptions=function(){return this.defaultOptions},d.prototype.getSchemaAdaptor=function(){return this.adaptor},d}(M.a)},"7IPS":function(wr,Vt,z){"use strict";Vt.a=function(lt,a,M,t,n){for(var d=lt.children,S,b=-1,h=d.length,E=lt.value&&(n-M)/lt.value;++b<h;)S=d[b],S.x0=a,S.x1=t,S.y0=M,S.y1=M+=S.value*E}},"7ZbV":function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return k});var lt=z("mrSG"),a=z("zJSt"),M=z("YuPD"),t=z("iTfj"),n=z("w02o"),d=z("tKoa"),S="first-axes-view",b="second-axes-view",h="series-field-key";function E(X,et,tt,ft,st){var vt=[];et.forEach(function(St){ft.forEach(function(H){var ot,yt=(ot={},ot[X]=H[X],ot[tt]=St,ot[St]=H[St],ot);vt.push(yt)})});var mt=Object.values(Object(t.groupBy)(vt,tt)),pt=mt[0],rt=pt===void 0?[]:pt,Bt=mt[1],It=Bt===void 0?[]:Bt;return st?[rt.reverse(),It.reverse()]:[rt,It]}function T(X){return X!=="vertical"}function o(X,et,tt){var ft=et[0],st=et[1],vt=ft.autoPadding,mt=st.autoPadding,pt=X.__axisPosition,rt=pt.layout,Bt=pt.position;if(T(rt)&&Bt==="top"&&(ft.autoPadding=tt.instance(vt.top,0,vt.bottom,vt.left),st.autoPadding=tt.instance(mt.top,vt.left,mt.bottom,0)),T(rt)&&Bt==="bottom"&&(ft.autoPadding=tt.instance(vt.top,vt.right/2+5,vt.bottom,vt.left),st.autoPadding=tt.instance(mt.top,mt.right,mt.bottom,vt.right/2+5)),!T(rt)&&Bt==="bottom"){var It=vt.left>=mt.left?vt.left:mt.left;ft.autoPadding=tt.instance(vt.top,vt.right,vt.bottom/2+5,It),st.autoPadding=tt.instance(vt.bottom/2+5,mt.right,mt.bottom,It)}if(!T(rt)&&Bt==="top"){var It=vt.left>=mt.left?vt.left:mt.left;ft.autoPadding=tt.instance(vt.top,vt.right,0,It),st.autoPadding=tt.instance(0,mt.right,vt.top,It)}}function s(X){var et=X.chart,tt=X.options,ft=tt.data,st=tt.xField,vt=tt.yField,mt=tt.color,pt=tt.barStyle,rt=tt.widthRatio,Bt=tt.legend,It=tt.layout,St=E(st,vt,h,ft,T(It));Bt?et.legend(h,Bt):Bt===!1&&et.legend(!1);var H,ot,yt=St[0],xt=St[1];T(It)?(H=et.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:S}),H.coordinate().transpose().reflect("x"),ot=et.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:b}),ot.coordinate().transpose(),H.data(yt),ot.data(xt)):(H=et.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:S}),ot=et.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:b}),ot.coordinate().reflect("y").rotate(Math.PI*0),H.data(yt),ot.data(xt));var wt=Object(M.b)({},X,{chart:H,options:{widthRatio:rt,xField:st,yField:vt[0],seriesField:h,interval:{color:mt,style:pt}}});Object(d.c)(wt);var Q=Object(M.b)({},X,{chart:ot,options:{xField:st,yField:vt[1],seriesField:h,widthRatio:rt,interval:{color:mt,style:pt}}});return Object(d.c)(Q),X}function u(X){var et,tt,ft,st=X.options,vt=X.chart,mt=st.xAxis,pt=st.yAxis,rt=st.xField,Bt=st.yField,It=Object(M.d)(vt,S),St=Object(M.d)(vt,b),H={};return Object(t.keys)((st==null?void 0:st.meta)||{}).map(function(ot){Object(t.get)(st==null?void 0:st.meta,[ot,"alias"])&&(H[ot]=st.meta[ot].alias)}),vt.scale((et={},et[h]={sync:!0,formatter:function(yt){return Object(t.get)(H,yt,yt)}},et)),Object(n.f)((tt={},tt[rt]=mt,tt[Bt[0]]=pt[Bt[0]],tt))(Object(M.b)({},X,{chart:It})),Object(n.f)((ft={},ft[rt]=mt,ft[Bt[1]]=pt[Bt[1]],ft))(Object(M.b)({},X,{chart:St})),X}function v(X){var et=X.chart,tt=X.options,ft=tt.xAxis,st=tt.yAxis,vt=tt.xField,mt=tt.yField,pt=tt.layout,rt=Object(M.d)(et,S),Bt=Object(M.d)(et,b);return Bt.axis(vt,!1),ft===!1?rt.axis(vt,!1):rt.axis(vt,Object(lt.a)({position:T(pt)?"top":"bottom"},ft)),st===!1?(rt.axis(mt[0],!1),Bt.axis(mt[1],!1)):(rt.axis(mt[0],st[mt[0]]),Bt.axis(mt[1],st[mt[1]])),et.__axisPosition={position:rt.getOptions().axes[vt].position,layout:pt},X}function C(X){var et=X.chart;return Object(n.c)(Object(M.b)({},X,{chart:Object(M.d)(et,S)})),Object(n.c)(Object(M.b)({},X,{chart:Object(M.d)(et,b)})),X}function O(X){var et=X.chart,tt=X.options,ft=tt.yField,st=tt.yAxis;return Object(n.e)(Object(M.b)({},X,{chart:Object(M.d)(et,S),options:{yAxis:st[ft[0]]}})),Object(n.e)(Object(M.b)({},X,{chart:Object(M.d)(et,b),options:{yAxis:st[ft[1]]}})),X}function j(X){var et=X.chart;return Object(n.j)(Object(M.b)({},X,{chart:Object(M.d)(et,S)})),Object(n.j)(Object(M.b)({},X,{chart:Object(M.d)(et,b)})),X}function p(X){var et=X.chart;return Object(n.a)(Object(M.b)({},X,{chart:Object(M.d)(et,S)})),Object(n.a)(Object(M.b)({},X,{chart:Object(M.d)(et,b)})),X}function x(X){var et=X.chart,tt=X.options,ft=tt.label,st=tt.yField,vt=Object(M.d)(et,S),mt=Object(M.d)(et,b),pt=Object(M.c)(vt,"interval"),rt=Object(M.c)(mt,"interval");if(!ft)pt.label(!1),rt.label(!1);else{var Bt=ft.callback,It=Object(lt.c)(ft,["callback"]);pt.label({fields:[st[0]],callback:Bt,cfg:Object(M.p)(It)}),rt.label({fields:[st[1]],callback:Bt,cfg:Object(M.p)(It)})}return X}function A(X){return Object(M.e)(s,u,v,O,j,x,n.k,C,p)(X)}var k=function(X){Object(lt.b)(et,X);function et(){var tt=X!==null&&X.apply(this,arguments)||this;return tt.type="bidirectional-bar",tt}return et.prototype.getDefaultOptions=function(){return Object(M.b)({},X.prototype.getDefaultOptions.call(this),{syncViewPadding:o})},et.prototype.getSchemaAdaptor=function(){return A},et}(a.a)},"7cv3":function(wr,Vt,z){"use strict";z.d(Vt,"b",function(){return a}),z.d(Vt,"c",function(){return M}),z.d(Vt,"a",function(){return t});var lt=z("iTfj"),a="x",M="y",t={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(d,S){return""+Object(lt.get)(S,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}}},"7s0d":function(wr,Vt,z){"use strict";var lt=z("FH2j");z.d(Vt,"getAdjust",function(){return lt.getAdjust});var a=z("Qci9"),M=z("lOPJ"),t=z("KavR"),n=z("8FoI"),d=z("96lr"),S=z("WbAE"),b=z.n(S);Object(lt.registerAdjust)("Dodge",M.a),Object(lt.registerAdjust)("Jitter",t.a),Object(lt.registerAdjust)("Stack",n.a),Object(lt.registerAdjust)("Symmetric",d.a)},"8FoI":function(wr,Vt,z){"use strict";var lt=z("AA7f"),a=z("iTfj"),M=z("Qci9"),t=a.Cache,n=function(d){Object(lt.b)(S,d);function S(b){var h=d.call(this,b)||this,E=b.adjustNames,T=E===void 0?["y"]:E,o=b.height,s=o===void 0?NaN:o,u=b.size,v=u===void 0?10:u,C=b.reverseOrder,O=C===void 0?!1:C;return h.adjustNames=T,h.height=s,h.size=v,h.reverseOrder=O,h}return S.prototype.process=function(b){var h=this,E=h.yField,T=h.reverseOrder,o=E?this.processStack(b):this.processOneDimStack(b);return T?this.reverse(o):o},S.prototype.reverse=function(b){return b.slice(0).reverse()},S.prototype.processStack=function(b){var h=this,E=h.xField,T=h.yField,o=h.reverseOrder,s=o?this.reverse(b):b,u=new t,v=new t;return s.map(function(C){return C.map(function(O){var j,p=a.get(O,E,0),x=a.get(O,[T]),A=p.toString();if(x=a.isArray(x)?x[1]:x,!a.isNil(x)){var k=x>=0?u:v;k.has(A)||k.set(A,0);var X=k.get(A),et=x+X;return k.set(A,et),Object(lt.a)(Object(lt.a)({},O),(j={},j[T]=[X,et],j))}return O})})},S.prototype.processOneDimStack=function(b){var h=this,E=this,T=E.xField,o=E.height,s=E.reverseOrder,u="y",v=s?this.reverse(b):b,C=new t;return v.map(function(O){return O.map(function(j){var p,x=h.size,A=j[T],k=x*2/o;C.has(A)||C.set(A,k/2);var X=C.get(A);return C.set(A,X+k),Object(lt.a)(Object(lt.a)({},j),(p={},p[u]=X,p))})})},S}(M.a);Vt.a=n},"8vsG":function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return E}),z.d(Vt,"b",function(){return Xt}),z.d(Vt,"c",function(){return S}),z.d(Vt,"d",function(){return _n});var lt={};z.r(lt),z.d(lt,"default",function(){return it}),z.d(lt,"assign",function(){return x}),z.d(lt,"format",function(){return wt}),z.d(lt,"parse",function(){return Q}),z.d(lt,"defaultI18n",function(){return tt}),z.d(lt,"setGlobalDateI18n",function(){return st}),z.d(lt,"setGlobalDateMasks",function(){return xt});var a=z("iTfj"),M={};function t(ue){return M[ue]}function n(ue,Qt){M[ue]=Qt}var d=function(){function ue(Qt){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=Qt,this.initCfg(),this.init()}return ue.prototype.translate=function(Qt){return Qt},ue.prototype.change=function(Qt){Object(a.assign)(this.__cfg__,Qt),this.init()},ue.prototype.clone=function(){return this.constructor(this.__cfg__)},ue.prototype.getTicks=function(){var Qt=this;return Object(a.map)(this.ticks,function(ne,Ce){return Object(a.isObject)(ne)?ne:{text:Qt.getText(ne,Ce),tickValue:ne,value:Qt.scale(ne)}})},ue.prototype.getText=function(Qt,ne){var Ce=this.formatter,en=Ce?Ce(Qt,ne):Qt;return Object(a.isNil)(en)||!Object(a.isFunction)(en.toString)?"":en.toString()},ue.prototype.getConfig=function(Qt){return this.__cfg__[Qt]},ue.prototype.init=function(){Object(a.assign)(this,this.__cfg__),this.setDomain(),Object(a.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},ue.prototype.initCfg=function(){},ue.prototype.setDomain=function(){},ue.prototype.calculateTicks=function(){var Qt=this.tickMethod,ne=[];if(Object(a.isString)(Qt)){var Ce=t(Qt);if(!Ce)throw new Error("There is no method to to calculate ticks!");ne=Ce(this)}else Object(a.isFunction)(Qt)&&(ne=Qt(this));return ne},ue.prototype.rangeMin=function(){return Object(a.head)(this.range)},ue.prototype.rangeMax=function(){return Object(a.last)(this.range)},ue.prototype.calcPercent=function(Qt,ne,Ce){return Object(a.isNumber)(Qt)?(Qt-ne)/(Ce-ne):NaN},ue.prototype.calcValue=function(Qt,ne,Ce){return ne+Qt*(Ce-ne)},ue}(),S=d,b=z("mrSG"),h=function(ue){Object(b.b)(Qt,ue);function Qt(){var ne=ue!==null&&ue.apply(this,arguments)||this;return ne.type="cat",ne.isCategory=!0,ne.cache=new Map,ne}return Qt.prototype.translate=function(ne){if(this.cache.has(ne))return this.cache.get(ne);var Ce=Object(a.indexOf)(this.values,ne);return Ce===-1&&(Ce=Object(a.isNumber)(ne)?ne:NaN),this.cache.set(ne,Ce),Ce},Qt.prototype.scale=function(ne){var Ce=this.translate(ne),en=this.calcPercent(Ce,this.min,this.max);return this.calcValue(en,this.rangeMin(),this.rangeMax())},Qt.prototype.invert=function(ne){var Ce=this.max-this.min,en=this.calcPercent(ne,this.rangeMin(),this.rangeMax()),kn=Math.round(Ce*en)+this.min;return kn<this.min||kn>this.max?NaN:this.values[kn]},Qt.prototype.getText=function(ne){for(var Ce=[],en=1;en<arguments.length;en++)Ce[en-1]=arguments[en];var kn=ne;return Object(a.isNumber)(ne)&&!this.values.includes(ne)&&(kn=this.values[kn]),ue.prototype.getText.apply(this,Object(b.d)([kn],Ce))},Qt.prototype.initCfg=function(){this.tickMethod="cat"},Qt.prototype.setDomain=function(){if(Object(a.isNil)(this.getConfig("min"))&&(this.min=0),Object(a.isNil)(this.getConfig("max"))){var ne=this.values.length;this.max=ne>1?ne-1:ne}this.cache&&this.cache.clear()},Qt}(S),E=h,T=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,o="[1-9]\\d?",s="\\d\\d",u="\\d{3}",v="\\d{4}",C="[^\\s]+",O=/\[([^]*?)\]/gm;function j(ue,Qt){for(var ne=[],Ce=0,en=ue.length;Ce<en;Ce++)ne.push(ue[Ce].substr(0,Qt));return ne}var p=function(Qt){return function(ne,Ce){var en=Ce[Qt].map(function(sr){return sr.toLowerCase()}),kn=en.indexOf(ne.toLowerCase());return kn>-1?kn:null}};function x(ue){for(var Qt=[],ne=1;ne<arguments.length;ne++)Qt[ne-1]=arguments[ne];for(var Ce=0,en=Qt;Ce<en.length;Ce++){var kn=en[Ce];for(var sr in kn)ue[sr]=kn[sr]}return ue}var A=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],k=["January","February","March","April","May","June","July","August","September","October","November","December"],X=j(k,3),et=j(A,3),tt={dayNamesShort:et,dayNames:A,monthNamesShort:X,monthNames:k,amPm:["am","pm"],DoFn:function(Qt){return Qt+["th","st","nd","rd"][Qt%10>3?0:(Qt-Qt%10!=10?1:0)*Qt%10]}},ft=x({},tt),st=function(Qt){return ft=x(ft,Qt)},vt=function(Qt){return Qt.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},mt=function(Qt,ne){for(ne===void 0&&(ne=2),Qt=String(Qt);Qt.length<ne;)Qt="0"+Qt;return Qt},pt={D:function(Qt){return String(Qt.getDate())},DD:function(Qt){return mt(Qt.getDate())},Do:function(Qt,ne){return ne.DoFn(Qt.getDate())},d:function(Qt){return String(Qt.getDay())},dd:function(Qt){return mt(Qt.getDay())},ddd:function(Qt,ne){return ne.dayNamesShort[Qt.getDay()]},dddd:function(Qt,ne){return ne.dayNames[Qt.getDay()]},M:function(Qt){return String(Qt.getMonth()+1)},MM:function(Qt){return mt(Qt.getMonth()+1)},MMM:function(Qt,ne){return ne.monthNamesShort[Qt.getMonth()]},MMMM:function(Qt,ne){return ne.monthNames[Qt.getMonth()]},YY:function(Qt){return mt(String(Qt.getFullYear()),4).substr(2)},YYYY:function(Qt){return mt(Qt.getFullYear(),4)},h:function(Qt){return String(Qt.getHours()%12||12)},hh:function(Qt){return mt(Qt.getHours()%12||12)},H:function(Qt){return String(Qt.getHours())},HH:function(Qt){return mt(Qt.getHours())},m:function(Qt){return String(Qt.getMinutes())},mm:function(Qt){return mt(Qt.getMinutes())},s:function(Qt){return String(Qt.getSeconds())},ss:function(Qt){return mt(Qt.getSeconds())},S:function(Qt){return String(Math.round(Qt.getMilliseconds()/100))},SS:function(Qt){return mt(Math.round(Qt.getMilliseconds()/10),2)},SSS:function(Qt){return mt(Qt.getMilliseconds(),3)},a:function(Qt,ne){return Qt.getHours()<12?ne.amPm[0]:ne.amPm[1]},A:function(Qt,ne){return Qt.getHours()<12?ne.amPm[0].toUpperCase():ne.amPm[1].toUpperCase()},ZZ:function(Qt){var ne=Qt.getTimezoneOffset();return(ne>0?"-":"+")+mt(Math.floor(Math.abs(ne)/60)*100+Math.abs(ne)%60,4)},Z:function(Qt){var ne=Qt.getTimezoneOffset();return(ne>0?"-":"+")+mt(Math.floor(Math.abs(ne)/60),2)+":"+mt(Math.abs(ne)%60,2)}},rt=function(Qt){return+Qt-1},Bt=[null,o],It=[null,C],St=["isPm",C,function(ue,Qt){var ne=ue.toLowerCase();return ne===Qt.amPm[0]?0:ne===Qt.amPm[1]?1:null}],H=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(ue){var Qt=(ue+"").match(/([+-]|\d\d)/gi);if(Qt){var ne=+Qt[1]*60+parseInt(Qt[2],10);return Qt[0]==="+"?ne:-ne}return 0}],ot={D:["day",o],DD:["day",s],Do:["day",o+C,function(ue){return parseInt(ue,10)}],M:["month",o,rt],MM:["month",s,rt],YY:["year",s,function(ue){var Qt=new Date,ne=+(""+Qt.getFullYear()).substr(0,2);return+(""+(+ue>68?ne-1:ne)+ue)}],h:["hour",o,void 0,"isPm"],hh:["hour",s,void 0,"isPm"],H:["hour",o],HH:["hour",s],m:["minute",o],mm:["minute",s],s:["second",o],ss:["second",s],YYYY:["year",v],S:["millisecond","\\d",function(ue){return+ue*100}],SS:["millisecond",s,function(ue){return+ue*10}],SSS:["millisecond",u],d:Bt,dd:Bt,ddd:It,dddd:It,MMM:["month",C,p("monthNamesShort")],MMMM:["month",C,p("monthNames")],a:St,A:St,ZZ:H,Z:H},yt={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},xt=function(Qt){return x(yt,Qt)},wt=function(Qt,ne,Ce){if(ne===void 0&&(ne=yt.default),Ce===void 0&&(Ce={}),typeof Qt=="number"&&(Qt=new Date(Qt)),Object.prototype.toString.call(Qt)!=="[object Date]"||isNaN(Qt.getTime()))throw new Error("Invalid Date pass to format");ne=yt[ne]||ne;var en=[];ne=ne.replace(O,function(sr,pr){return en.push(pr),"@@@"});var kn=x(x({},ft),Ce);return ne=ne.replace(T,function(sr){return pt[sr](Qt,kn)}),ne.replace(/@@@/g,function(){return en.shift()})};function Q(ue,Qt,ne){if(ne===void 0&&(ne={}),typeof Qt!="string")throw new Error("Invalid format in fecha parse");if(Qt=yt[Qt]||Qt,ue.length>1e3)return null;var Ce=new Date,en={year:Ce.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},kn=[],sr=[],pr=Qt.replace(O,function(oi,yi){return sr.push(vt(yi)),"@@@"}),ln={},vn={};pr=vt(pr).replace(T,function(oi){var yi=ot[oi],si=yi[0],ti=yi[1],zi=yi[3];if(ln[si])throw new Error("Invalid format. "+si+" specified twice in format");return ln[si]=!0,zi&&(vn[zi]=!0),kn.push(yi),"("+ti+")"}),Object.keys(vn).forEach(function(oi){if(!ln[oi])throw new Error("Invalid format. "+oi+" is required in specified format")}),pr=pr.replace(/@@@/g,function(){return sr.shift()});var xn=ue.match(new RegExp(pr,"i"));if(!xn)return null;for(var Or=x(x({},ft),ne),Br=1;Br<xn.length;Br++){var Pr=kn[Br-1],kr=Pr[0],mi=Pr[2],$r=mi?mi(xn[Br],Or):+xn[Br];if($r==null)return null;en[kr]=$r}en.isPm===1&&en.hour!=null&&+en.hour!=12?en.hour=+en.hour+12:en.isPm===0&&+en.hour==12&&(en.hour=0);for(var Xr=new Date(en.year,en.month,en.day,en.hour,en.minute,en.second,en.millisecond),Nr=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],Br=0,Hr=Nr.length;Br<Hr;Br++)if(ln[Nr[Br][0]]&&en[Nr[Br][0]]!==Xr[Nr[Br][1]]())return null;return en.timezoneOffset==null?Xr:new Date(Date.UTC(en.year,en.month,en.day,en.hour,en.minute-en.timezoneOffset,en.second,en.millisecond))}var ct={format:wt,parse:Q,defaultI18n:tt,setGlobalDateI18n:st,setGlobalDateMasks:xt},it=ct,U=function(ue){return function(Qt,ne,Ce,en){for(var kn=Object(a.isNil)(Ce)?0:Ce,sr=Object(a.isNil)(en)?Qt.length:en;kn<sr;){var pr=kn+sr>>>1;ue(Qt[pr])>ne?sr=pr:kn=pr+1}return kn}},D="format";function W(ue,Qt){var ne=lt[D]||it[D];return ne(ue,Qt)}function P(ue){return Object(a.isString)(ue)&&(ue.indexOf("T")>0?ue=new Date(ue).getTime():ue=new Date(ue.replace(/-/gi,"/")).getTime()),Object(a.isDate)(ue)&&(ue=ue.getTime()),ue}var m=1e3,y=60*m,V=60*y,J=24*V,ht=J*31,gt=J*365,Mt=[["HH:mm:ss",m],["HH:mm:ss",m*10],["HH:mm:ss",m*30],["HH:mm",y],["HH:mm",y*10],["HH:mm",y*30],["HH",V],["HH",V*6],["HH",V*12],["YYYY-MM-DD",J],["YYYY-MM-DD",J*4],["YYYY-WW",J*7],["YYYY-MM",ht],["YYYY-MM",ht*4],["YYYY-MM",ht*6],["YYYY",J*380]];function Lt(ue,Qt,ne){var Ce=(Qt-ue)/ne,en=U(function(sr){return sr[1]})(Mt,Ce)-1,kn=Mt[en];return en<0?kn=Mt[0]:en>=Mt.length&&(kn=Object(a.last)(Mt)),kn}var At=function(ue){Object(b.b)(Qt,ue);function Qt(){var ne=ue!==null&&ue.apply(this,arguments)||this;return ne.type="timeCat",ne}return Qt.prototype.translate=function(ne){ne=P(ne);var Ce=this.values.indexOf(ne);return Ce===-1&&(Object(a.isNumber)(ne)&&ne<this.values.length?Ce=ne:Ce=NaN),Ce},Qt.prototype.getText=function(ne,Ce){var en=this.translate(ne);if(en>-1){var kn=this.values[en],sr=this.formatter;return kn=sr?sr(kn,Ce):W(kn,this.mask),kn}return ne},Qt.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},Qt.prototype.setDomain=function(){var ne=this.values;Object(a.each)(ne,function(Ce,en){ne[en]=P(Ce)}),ne.sort(function(Ce,en){return Ce-en}),ue.prototype.setDomain.call(this)},Qt}(E),Ct=At,Ot=function(ue){Object(b.b)(Qt,ue);function Qt(){var ne=ue!==null&&ue.apply(this,arguments)||this;return ne.isContinuous=!0,ne}return Qt.prototype.scale=function(ne){if(Object(a.isNil)(ne))return NaN;var Ce=this.rangeMin(),en=this.rangeMax(),kn=this.max,sr=this.min;if(kn===sr)return Ce;var pr=this.getScalePercent(ne);return Ce+pr*(en-Ce)},Qt.prototype.init=function(){ue.prototype.init.call(this);var ne=this.ticks,Ce=Object(a.head)(ne),en=Object(a.last)(ne);Ce<this.min&&(this.min=Ce),en>this.max&&(this.max=en),Object(a.isNil)(this.minLimit)||(this.min=Ce),Object(a.isNil)(this.maxLimit)||(this.max=en)},Qt.prototype.setDomain=function(){var ne=Object(a.getRange)(this.values),Ce=ne.min,en=ne.max;Object(a.isNil)(this.min)&&(this.min=Ce),Object(a.isNil)(this.max)&&(this.max=en),this.min>this.max&&(this.min=Ce,this.max=en)},Qt.prototype.calculateTicks=function(){var ne=this,Ce=ue.prototype.calculateTicks.call(this);return this.nice||(Ce=Object(a.filter)(Ce,function(en){return en>=ne.min&&en<=ne.max})),Ce},Qt.prototype.getScalePercent=function(ne){var Ce=this.max,en=this.min;return(ne-en)/(Ce-en)},Qt.prototype.getInvertPercent=function(ne){return(ne-this.rangeMin())/(this.rangeMax()-this.rangeMin())},Qt}(S),Dt=Ot,Ft=function(ue){Object(b.b)(Qt,ue);function Qt(){var ne=ue!==null&&ue.apply(this,arguments)||this;return ne.type="linear",ne.isLinear=!0,ne}return Qt.prototype.invert=function(ne){var Ce=this.getInvertPercent(ne);return this.min+Ce*(this.max-this.min)},Qt.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},Qt}(Dt),Xt=Ft;function Rt(ue,Qt){var ne=Math.E,Ce;return Qt>=0?Ce=Math.pow(ne,Math.log(Qt)/ue):Ce=Math.pow(ne,Math.log(-Qt)/ue)*-1,Ce}function Kt(ue,Qt){return ue===1?1:Math.log(Qt)/Math.log(ue)}function $t(ue,Qt,ne){Object(a.isNil)(ne)&&(ne=Math.max.apply(null,ue));var Ce=ne;return Object(a.each)(ue,function(en){en>0&&en<Ce&&(Ce=en)}),Ce===ne&&(Ce=ne/Qt),Ce>1&&(Ce=1),Ce}var le=function(ue){Object(b.b)(Qt,ue);function Qt(){var ne=ue!==null&&ue.apply(this,arguments)||this;return ne.type="log",ne}return Qt.prototype.invert=function(ne){var Ce=this.base,en=Kt(Ce,this.max),kn=this.rangeMin(),sr=this.rangeMax()-kn,pr,ln=this.positiveMin;if(ln){if(ne===0)return 0;pr=Kt(Ce,ln/Ce);var vn=1/(en-pr)*sr;if(ne<vn)return ne/vn*ln}else pr=Kt(Ce,this.min);var xn=(ne-kn)/sr,Or=xn*(en-pr)+pr;return Math.pow(Ce,Or)},Qt.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},Qt.prototype.setDomain=function(){ue.prototype.setDomain.call(this);var ne=this.min;if(ne<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");ne===0&&(this.positiveMin=$t(this.values,this.base,this.max))},Qt.prototype.getScalePercent=function(ne){var Ce=this.max,en=this.min;if(Ce===en||ne<=0)return 0;var kn=this.base,sr=this.positiveMin;sr&&(en=sr*1/kn);var pr;return ne<sr?pr=ne/sr/(Kt(kn,Ce)-Kt(kn,en)):pr=(Kt(kn,ne)-Kt(kn,en))/(Kt(kn,Ce)-Kt(kn,en)),pr},Qt}(Dt),Me=le,on=function(ue){Object(b.b)(Qt,ue);function Qt(){var ne=ue!==null&&ue.apply(this,arguments)||this;return ne.type="pow",ne}return Qt.prototype.invert=function(ne){var Ce=this.getInvertPercent(ne),en=this.exponent,kn=Rt(en,this.max),sr=Rt(en,this.min),pr=Ce*(kn-sr)+sr,ln=pr>=0?1:-1;return Math.pow(pr,en)*ln},Qt.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},Qt.prototype.getScalePercent=function(ne){var Ce=this.max,en=this.min;if(Ce===en)return 0;var kn=this.exponent,sr=(Rt(kn,ne)-Rt(kn,en))/(Rt(kn,Ce)-Rt(kn,en));return sr},Qt}(Dt),hn=on,Cn=function(ue){Object(b.b)(Qt,ue);function Qt(){var ne=ue!==null&&ue.apply(this,arguments)||this;return ne.type="time",ne}return Qt.prototype.getText=function(ne,Ce){var en=this.translate(ne),kn=this.formatter;return kn?kn(en,Ce):W(en,this.mask)},Qt.prototype.scale=function(ne){var Ce=ne;return(Object(a.isString)(Ce)||Object(a.isDate)(Ce))&&(Ce=this.translate(Ce)),ue.prototype.scale.call(this,Ce)},Qt.prototype.translate=function(ne){return P(ne)},Qt.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},Qt.prototype.setDomain=function(){var ne=this.values,Ce=this.getConfig("min"),en=this.getConfig("max");if((!Object(a.isNil)(Ce)||!Object(a.isNumber)(Ce))&&(this.min=this.translate(this.min)),(!Object(a.isNil)(en)||!Object(a.isNumber)(en))&&(this.max=this.translate(this.max)),ne&&ne.length){var kn=[],sr=Infinity,pr=sr,ln=0;Object(a.each)(ne,function(vn){var xn=P(vn);if(isNaN(xn))throw new TypeError("Invalid Time: "+vn+" in time scale!");sr>xn?(pr=sr,sr=xn):pr>xn&&(pr=xn),ln<xn&&(ln=xn),kn.push(xn)}),ne.length>1&&(this.minTickInterval=pr-sr),Object(a.isNil)(Ce)&&(this.min=sr),Object(a.isNil)(en)&&(this.max=ln)}},Qt}(Xt),He=Cn,mn=function(ue){Object(b.b)(Qt,ue);function Qt(){var ne=ue!==null&&ue.apply(this,arguments)||this;return ne.type="quantize",ne}return Qt.prototype.invert=function(ne){var Ce=this.ticks,en=Ce.length,kn=this.getInvertPercent(ne),sr=Math.floor(kn*(en-1));if(sr>=en-1)return Object(a.last)(Ce);if(sr<0)return Object(a.head)(Ce);var pr=Ce[sr],ln=Ce[sr+1],vn=sr/(en-1),xn=(sr+1)/(en-1);return pr+(kn-vn)/(xn-vn)*(ln-pr)},Qt.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},Qt.prototype.calculateTicks=function(){var ne=ue.prototype.calculateTicks.call(this);return this.nice||(Object(a.last)(ne)!==this.max&&ne.push(this.max),Object(a.head)(ne)!==this.min&&ne.unshift(this.min)),ne},Qt.prototype.getScalePercent=function(ne){var Ce=this.ticks;if(ne<Object(a.head)(Ce))return 0;if(ne>Object(a.last)(Ce))return 1;var en=0;return Object(a.each)(Ce,function(kn,sr){if(ne>=kn)en=sr;else return!1}),en/(Ce.length-1)},Qt}(Dt),dn=mn,Un=function(ue){Object(b.b)(Qt,ue);function Qt(){var ne=ue!==null&&ue.apply(this,arguments)||this;return ne.type="quantile",ne}return Qt.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},Qt}(dn),Xn=Un,Hn={};function _n(ue){return Hn[ue]}function $n(ue,Qt){if(_n(ue))throw new Error("type '"+ue+"' existed.");Hn[ue]=Qt}var ir=function(ue){Object(b.b)(Qt,ue);function Qt(){var ne=ue!==null&&ue.apply(this,arguments)||this;return ne.type="identity",ne.isIdentity=!0,ne}return Qt.prototype.calculateTicks=function(){return this.values},Qt.prototype.scale=function(ne){return this.values[0]!==ne&&Object(a.isNumber)(ne)?ne:this.range[0]},Qt.prototype.invert=function(ne){var Ce=this.range;return ne<Ce[0]||ne>Ce[1]?NaN:this.values[0]},Qt}(S),dr=ir,xr=[1,5,2,2.5,4,3],Qr=[1,5,2,2.5,4,3,1.5,7,6,8,9],Mr=Number.EPSILON*100;function Er(ue,Qt){return(ue%Qt+Qt)%Qt}function Dr(ue,Qt,ne,Ce,en,kn){var sr=Object(a.size)(Qt),pr=Object(a.indexOf)(Qt,ue),ln=0,vn=Er(Ce,kn);return(vn<Mr||kn-vn<Mr)&&Ce<=0&&en>=0&&(ln=1),1-pr/(sr-1)-ne+ln}function hi(ue,Qt,ne){var Ce=Object(a.size)(Qt),en=Object(a.indexOf)(Qt,ue),kn=1;return 1-en/(Ce-1)-ne+kn}function Wi(ue,Qt,ne,Ce,en,kn){var sr=(ue-1)/(kn-en),pr=(Qt-1)/(Math.max(kn,Ce)-Math.min(ne,en));return 2-Math.max(sr/pr,pr/sr)}function oa(ue,Qt){return ue>=Qt?2-(ue-1)/(Qt-1):1}function Za(ue,Qt,ne,Ce){var en=Qt-ue;return 1-.5*(Math.pow(Qt-Ce,2)+Math.pow(ue-ne,2))/Math.pow(.1*en,2)}function ao(ue,Qt,ne){var Ce=Qt-ue;if(ne>Ce){var en=(ne-Ce)/2;return 1-Math.pow(en,2)/Math.pow(.1*Ce,2)}return 1}function Ji(){return 1}function Ya(ue,Qt,ne,Ce,en,kn){if(ne===void 0&&(ne=5),Ce===void 0&&(Ce=!0),en===void 0&&(en=xr),kn===void 0&&(kn=[.25,.2,.5,.05]),typeof ue!="number"||typeof Qt!="number"||!ne)return{min:0,max:0,ticks:[]};if(Qt-ue<1e-15||ne===1)return{min:ue,max:Qt,ticks:[ue]};for(var sr={score:-2,lmin:0,lmax:0,lstep:0},pr=1;pr<Infinity;){for(var ln=0,vn=en;ln<vn.length;ln++){var xn=vn[ln],Or=hi(xn,en,pr);if(Number.isNaN(Or))throw new Error("NaN");if(kn[0]*Or+kn[1]+kn[2]+kn[3]<sr.score){pr=Infinity;break}for(var Br=2;Br<Infinity;){var Pr=oa(Br,ne);if(kn[0]*Or+kn[1]+kn[2]*Pr+kn[3]<sr.score)break;for(var kr=(Qt-ue)/(Br+1)/pr/xn,mi=Math.ceil(Math.log10(kr));mi<Infinity;){var $r=pr*xn*Math.pow(10,mi),Xr=ao(ue,Qt,$r*(Br-1));if(kn[0]*Or+kn[1]*Xr+kn[2]*Pr+kn[3]<sr.score)break;var Nr=Math.floor(Qt/$r)*pr-(Br-1)*pr,Hr=Math.ceil(ue/$r)*pr;if(Nr>Hr){mi=mi+1;continue}for(var oi=Nr;oi<=Hr;oi=oi+1){var yi=oi*($r/pr),si=yi+$r*(Br-1),ti=$r,zi=Dr(xn,en,pr,yi,si,ti),qi=Za(ue,Qt,yi,si),Sa=Wi(Br,ne,ue,Qt,yi,si),ea=Ji(),Fa=kn[0]*zi+kn[1]*qi+kn[2]*Sa+kn[3]*ea;Fa>sr.score&&(!Ce||yi<=ue&&si>=Qt)&&(sr.lmin=yi,sr.lmax=si,sr.lstep=ti,sr.score=Fa)}mi=mi+1}Br=Br+1}}pr=pr+1}for(var Ua=Number.isInteger(sr.lstep)?0:Math.ceil(Math.abs(Math.log10(sr.lstep))),Na=[],va=sr.lmin;va<=sr.lmax;va+=sr.lstep)Na.push(va);var ge=Ua?Object(a.map)(Na,function(F){return Number.parseFloat(F.toFixed(Ua))}):Na;return{min:Math.min(ue,Object(a.head)(ge)),max:Math.max(Qt,Object(a.last)(ge)),ticks:ge}}function Ca(ue){var Qt=ue.values,ne=ue.tickInterval,Ce=ue.tickCount,en=Qt;if(Object(a.isNumber)(ne))return Object(a.filter)(en,function(vn,xn){return xn%ne==0});var kn=ue.min,sr=ue.max;if(Object(a.isNil)(kn)&&(kn=0),Object(a.isNil)(sr)&&(sr=Qt.length-1),Object(a.isNumber)(Ce)&&Ce<sr-kn){var pr=Ya(kn,sr,Ce,!1,[1,2,5,3,4,7,6,8,9]).ticks,ln=Object(a.filter)(pr,function(vn){return vn>=kn&&vn<=sr});return ln.map(function(vn){return Qt[vn]})}return Qt.slice(kn,sr+1)}function La(ue){var Qt=ue.min,ne=ue.max,Ce=ue.nice,en=ue.tickCount,kn=new Ma;return kn.domain([Qt,ne]),Ce&&kn.nice(en),kn.ticks(en)}var Ba=5,oo=Math.sqrt(50),Yr=Math.sqrt(10),$a=Math.sqrt(2),Ma=function(){function ue(){this._domain=[0,1]}return ue.prototype.domain=function(Qt){return Qt?(this._domain=Array.from(Qt,Number),this):this._domain.slice()},ue.prototype.nice=function(Qt){var ne,Ce;Qt===void 0&&(Qt=Ba);var en=this._domain.slice(),kn=0,sr=this._domain.length-1,pr=this._domain[kn],ln=this._domain[sr],vn;return ln<pr&&(ne=[ln,pr],pr=ne[0],ln=ne[1],Ce=[sr,kn],kn=Ce[0],sr=Ce[1]),vn=Aa(pr,ln,Qt),vn>0?(pr=Math.floor(pr/vn)*vn,ln=Math.ceil(ln/vn)*vn,vn=Aa(pr,ln,Qt)):vn<0&&(pr=Math.ceil(pr*vn)/vn,ln=Math.floor(ln*vn)/vn,vn=Aa(pr,ln,Qt)),vn>0?(en[kn]=Math.floor(pr/vn)*vn,en[sr]=Math.ceil(ln/vn)*vn,this.domain(en)):vn<0&&(en[kn]=Math.ceil(pr*vn)/vn,en[sr]=Math.floor(ln*vn)/vn,this.domain(en)),this},ue.prototype.ticks=function(Qt){return Qt===void 0&&(Qt=Ba),to(this._domain[0],this._domain[this._domain.length-1],Qt||Ba)},ue}();function to(ue,Qt,ne){var Ce,en=-1,kn,sr,pr;if(Qt=+Qt,ue=+ue,ne=+ne,ue===Qt&&ne>0)return[ue];if((Ce=Qt<ue)&&(kn=ue,ue=Qt,Qt=kn),(pr=Aa(ue,Qt,ne))===0||!isFinite(pr))return[];if(pr>0)for(ue=Math.ceil(ue/pr),Qt=Math.floor(Qt/pr),sr=new Array(kn=Math.ceil(Qt-ue+1));++en<kn;)sr[en]=(ue+en)*pr;else for(ue=Math.floor(ue*pr),Qt=Math.ceil(Qt*pr),sr=new Array(kn=Math.ceil(ue-Qt+1));++en<kn;)sr[en]=(ue-en)/pr;return Ce&&sr.reverse(),sr}function Aa(ue,Qt,ne){var Ce=(Qt-ue)/Math.max(0,ne),en=Math.floor(Math.log(Ce)/Math.LN10),kn=Ce/Math.pow(10,en);return en>=0?(kn>=oo?10:kn>=Yr?5:kn>=$a?2:1)*Math.pow(10,en):-Math.pow(10,-en)/(kn>=oo?10:kn>=Yr?5:kn>=$a?2:1)}function Vr(ue,Qt,ne){var Ce;return ne==="ceil"?Ce=Math.ceil(ue/Qt):ne==="floor"?Ce=Math.floor(ue/Qt):Ce=Math.round(ue/Qt),Ce*Qt}function Pi(ue,Qt,ne){var Ce=Vr(ue,ne,"floor"),en=Vr(Qt,ne,"ceil");Ce=Object(a.fixedBase)(Ce,ne),en=Object(a.fixedBase)(en,ne);for(var kn=[],sr=Ce;sr<=en;sr=sr+ne){var pr=Object(a.fixedBase)(sr,ne);kn.push(pr)}return{min:Ce,max:en,ticks:kn}}function wi(ue,Qt,ne){var Ce,en=ue.minLimit,kn=ue.maxLimit,sr=ue.min,pr=ue.max,ln=ue.tickCount,vn=ln===void 0?5:ln,xn=Object(a.isNil)(en)?Object(a.isNil)(Qt)?sr:Qt:en,Or=Object(a.isNil)(kn)?Object(a.isNil)(ne)?pr:ne:kn;if(xn>Or&&(Ce=[xn,Or],Or=Ce[0],xn=Ce[1]),vn<=2)return[xn,Or];for(var Br=(Or-xn)/(vn-1),Pr=[],kr=0;kr<vn;kr++)Pr.push(xn+Br*kr);return Pr}function Ei(ue){var Qt=ue.min,ne=ue.max,Ce=ue.tickInterval,en=ue.minLimit,kn=ue.maxLimit,sr=La(ue);return!Object(a.isNil)(en)||!Object(a.isNil)(kn)?wi(ue,Object(a.head)(sr),Object(a.last)(sr)):Ce?Pi(Qt,ne,Ce).ticks:sr}function bi(ue){var Qt=ue.min,ne=ue.max,Ce=ue.tickCount,en=ue.nice,kn=ue.tickInterval,sr=ue.minLimit,pr=ue.maxLimit,ln=Ya(Qt,ne,Ce,en).ticks;return!Object(a.isNil)(sr)||!Object(a.isNil)(pr)?wi(ue,Object(a.head)(ln),Object(a.last)(ln)):kn?Pi(Qt,ne,kn).ticks:ln}function Di(ue){var Qt=ue.base,ne=ue.tickCount,Ce=ue.min,en=ue.max,kn=ue.values,sr,pr=Kt(Qt,en);if(Ce>0)sr=Math.floor(Kt(Qt,Ce));else{var ln=$t(kn,Qt,en);sr=Math.floor(Kt(Qt,ln))}for(var vn=pr-sr,xn=Math.ceil(vn/ne),Or=[],Br=sr;Br<pr+xn;Br=Br+xn)Or.push(Math.pow(Qt,Br));return Ce<=0&&Or.unshift(0),Or}function Fi(ue,Qt,ne){ne===void 0&&(ne=5);var Ce={max:0,min:0,ticks:[]};if(ue===Qt)return{max:Qt,min:ue,ticks:[ue]};var en=1.5,kn=.5+1.5*en,sr=Qt-ue,pr=sr/ne,ln=Math.pow(10,Math.floor(Math.log10(pr))),vn=ln<1?Math.ceil(Math.abs(Math.log10(ln))):0,xn=ln;2*ln-pr<en*(pr-xn)&&(xn=2*ln,5*ln-pr<kn*(pr-xn)&&(xn=5*ln,10*ln-pr<en*(pr-xn)&&(xn=10*ln)));var Or=Math.ceil(Qt/xn),Br=Math.floor(ue/xn);Ce.max=Math.max(Or*xn,Qt),Ce.min=Math.min(Br*xn,ue);for(var Pr=Number.parseFloat((Br*xn).toFixed(vn));Pr<Qt;)Ce.ticks.push(Pr),Pr+=xn,vn&&(Pr=Number.parseFloat(Pr.toFixed(vn)));return Ce.ticks.push(Pr),Ce}function Ni(ue){var Qt=ue.exponent,ne=ue.tickCount,Ce=Math.ceil(Rt(Qt,ue.max)),en=Math.floor(Rt(Qt,ue.min)),kn=Fi(en,Ce,ne).ticks;return kn.map(function(sr){var pr=sr>=0?1:-1;return Math.pow(sr,Qt)*pr})}function ji(ue,Qt){var ne=ue.length*Qt;return Qt===1?ue[ue.length-1]:Qt===0?ue[0]:ne%1!=0?ue[Math.ceil(ne)-1]:ue.length%2==0?(ue[ne-1]+ue[ne])/2:ue[ne]}function Xi(ue){var Qt=ue.tickCount,ne=ue.values;if(!ne||!ne.length)return[];for(var Ce=ne.slice().sort(function(pr,ln){return pr-ln}),en=[],kn=0;kn<Qt;kn++){var sr=kn/(Qt-1);en.push(ji(Ce,sr))}return en}function Ki(ue){var Qt=ue.min,ne=ue.max,Ce=ue.tickCount,en=ue.tickInterval,kn=ue.minLimit,sr=ue.maxLimit,pr=Fi(Qt,ne,Ce).ticks;return!Object(a.isNil)(kn)||!Object(a.isNil)(sr)?wi(ue,Object(a.head)(pr),Object(a.last)(pr)):en?Pi(Qt,ne,en).ticks:pr}function la(ue){var Qt=ue.min,ne=ue.max,Ce=ue.minTickInterval,en=ue.tickInterval,kn=ue.tickCount;if(en)kn=Math.ceil((ne-Qt)/en);else{en=Lt(Qt,ne,kn)[1];var sr=(ne-Qt)/en,pr=sr/kn;pr>1&&(en=en*Math.ceil(pr)),Ce&&en<Ce&&(en=Ce)}for(var ln=[],vn=Qt;vn<ne+en;vn+=en)ln.push(vn);return ln}function ta(ue){var Qt=Ca(ue),ne=Object(a.last)(ue.values);return ne!==Object(a.last)(Qt)&&Qt.push(ne),Qt}function ma(ue){return new Date(ue).getFullYear()}function Oa(ue){return new Date(ue,0,1).getTime()}function uo(ue){return new Date(ue).getMonth()}function sa(ue,Qt){var ne=ma(ue),Ce=ma(Qt),en=uo(ue),kn=uo(Qt);return(Ce-ne)*12+(kn-en)%12}function Xa(ue,Qt){return new Date(ue,Qt,1).getTime()}function po(ue,Qt){return Math.ceil((Qt-ue)/J)}function bo(ue,Qt){return Math.ceil((Qt-ue)/V)}function Mo(ue,Qt){return Math.ceil((Qt-ue)/(60*1e3))}function Po(ue){var Qt=ue.min,ne=ue.max,Ce=ue.minTickInterval,en=ue.tickCount,kn=ue.tickInterval,sr=[];kn||(kn=(ne-Qt)/en,Ce&&kn<Ce&&(kn=Ce));var pr=ma(Qt);if(kn>gt)for(var ln=ma(ne),vn=Math.ceil(kn/gt),xn=pr;xn<=ln+vn;xn=xn+vn)sr.push(Oa(xn));else if(kn>ht)for(var Or=Math.ceil(kn/ht),Br=uo(Qt),Pr=sa(Qt,ne),xn=0;xn<=Pr+Or;xn=xn+Or)sr.push(Xa(pr,xn+Br));else if(kn>J)for(var kr=new Date(Qt),mi=kr.getFullYear(),$r=kr.getMonth(),Xr=kr.getDate(),Nr=Math.ceil(kn/J),Hr=po(Qt,ne),xn=0;xn<Hr+Nr;xn=xn+Nr)sr.push(new Date(mi,$r,Xr+xn).getTime());else if(kn>V)for(var kr=new Date(Qt),mi=kr.getFullYear(),$r=kr.getMonth(),Nr=kr.getDate(),oi=kr.getHours(),yi=Math.ceil(kn/V),si=bo(Qt,ne),xn=0;xn<=si+yi;xn=xn+yi)sr.push(new Date(mi,$r,Nr,oi+xn).getTime());else if(kn>y)for(var ti=Mo(Qt,ne),zi=Math.ceil(kn/y),xn=0;xn<=ti+zi;xn=xn+zi)sr.push(Qt+xn*y);else{var qi=kn;qi<m&&(qi=m);for(var Sa=Math.floor(Qt/m)*m,ea=Math.ceil((ne-Qt)/m),Fa=Math.ceil(qi/m),xn=0;xn<ea+Fa;xn=xn+Fa)sr.push(Sa+xn*m)}return sr.length>=512&&console.warn("Notice: current ticks length("+sr.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+kn+") is too small, increase the value to solve the problem!"),sr}n("cat",Ca),n("time-cat",ta),n("wilkinson-extended",bi),n("r-pretty",Ki),n("time",la),n("time-pretty",Po),n("log",Di),n("pow",Ni),n("quantile",Xi),n("d3-linear",Ei),$n("cat",E),$n("category",E),$n("identity",dr),$n("linear",Xt),$n("log",Me),$n("pow",hn),$n("time",He),$n("timeCat",Ct),$n("quantize",dn),$n("quantile",Xn)},"96lr":function(wr,Vt,z){"use strict";var lt=z("AA7f"),a=z("iTfj"),M=z("Qci9"),t=function(n){Object(lt.b)(d,n);function d(){return n!==null&&n.apply(this,arguments)||this}return d.prototype.process=function(S){var b=a.flatten(S),h=this,E=h.xField,T=h.yField,o=this.getXValuesMaxMap(b),s=Math.max.apply(Math,Object.keys(o).map(function(u){return o[u]}));return a.map(S,function(u){return a.map(u,function(v){var C,O,j=v[T],p=v[E];if(a.isArray(j)){var x=(s-o[p])/2;return Object(lt.a)(Object(lt.a)({},v),(C={},C[T]=a.map(j,function(k){return x+k}),C))}var A=(s-j)/2;return Object(lt.a)(Object(lt.a)({},v),(O={},O[T]=[A,j+A],O))})})},d.prototype.getXValuesMaxMap=function(S){var b=this,h=this,E=h.xField,T=h.yField,o=a.groupBy(S,function(s){return s[E]});return a.mapValues(o,function(s){return b.getDimMaxValue(s,T)})},d.prototype.getDimMaxValue=function(S,b){var h=a.map(S,function(T){return a.get(T,b,[])}),E=a.flatten(h);return Math.max.apply(Math,E)},d}(M.a);Vt.a=t},"9eUa":function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return S}),z.d(Vt,"d",function(){return b}),z.d(Vt,"b",function(){return h}),z.d(Vt,"c",function(){return T}),z.d(Vt,"e",function(){return u}),z.d(Vt,"h",function(){return v}),z.d(Vt,"f",function(){return O}),z.d(Vt,"g",function(){return j});var lt=z("iTfj"),a=z("r0DC"),M=z("nCnq"),t=z("cyZq"),n=z("nycV"),d={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function S(p,x){var A=x.attr();for(var k in A){var X=A[k],et=d[k]?d[k]:k;et==="matrix"&&X?p.transform(X[0],X[1],X[3],X[4],X[6],X[7]):et==="lineDash"&&p.setLineDash?Object(lt.isArray)(X)&&p.setLineDash(X):(et==="strokeStyle"||et==="fillStyle"?X=Object(a.b)(p,x,X):et==="globalAlpha"&&(X=X*p.globalAlpha),p[et]=X)}}function b(p,x,A){for(var k=0;k<x.length;k++){var X=x[k];X.cfg.visible?X.draw(p,A):X.skipDraw()}}function h(p,x,A){var k=p.get("refreshElements");Object(lt.each)(k,function(X){if(X!==p)for(var et=X.cfg.parent;et&&et!==p&&!et.cfg.refresh;)et.cfg.refresh=!0,et=et.cfg.parent}),k[0]===p?o(x,A):E(x,A)}function E(p,x){for(var A=0;A<p.length;A++){var k=p[A];if(k.cfg.visible)if(k.cfg.hasChanged)k.cfg.refresh=!0,k.isGroup()&&o(k.cfg.children,x);else if(k.cfg.refresh)k.isGroup()&&E(k.cfg.children,x);else{var X=s(k,x);k.cfg.refresh=X,X&&k.isGroup()&&E(k.cfg.children,x)}}}function T(p){for(var x=0;x<p.length;x++){var A=p[x];A.cfg.hasChanged=!1,A.isGroup()&&!A.destroyed&&T(A.cfg.children)}}function o(p,x){for(var A=0;A<p.length;A++){var k=p[A];k.cfg.refresh=!0,k.isGroup()&&o(k.get("children"),x)}}function s(p,x){var A=p.cfg.cacheCanvasBBox,k=p.cfg.isInView&&A&&Object(t.f)(A,x);return k}function u(p,x,A,k){var X=A.path,et=A.startArrow,tt=A.endArrow;if(!!X){var ft=[0,0],st=[0,0],vt={dx:0,dy:0};x.beginPath();for(var mt=0;mt<X.length;mt++){var pt=X[mt],rt=pt[0];if(mt===0&&et&&et.d){var Bt=p.getStartTangent();vt=n.c(Bt[0][0],Bt[0][1],Bt[1][0],Bt[1][1],et.d)}else if(mt===X.length-2&&X[mt+1][0]==="Z"&&tt&&tt.d){var It=X[mt+1];if(It[0]==="Z"){var Bt=p.getEndTangent();vt=n.c(Bt[0][0],Bt[0][1],Bt[1][0],Bt[1][1],tt.d)}}else if(mt===X.length-1&&tt&&tt.d&&X[0]!=="Z"){var Bt=p.getEndTangent();vt=n.c(Bt[0][0],Bt[0][1],Bt[1][0],Bt[1][1],tt.d)}var St=vt.dx,H=vt.dy;switch(rt){case"M":x.moveTo(pt[1]-St,pt[2]-H),st=[pt[1],pt[2]];break;case"L":x.lineTo(pt[1]-St,pt[2]-H);break;case"Q":x.quadraticCurveTo(pt[1],pt[2],pt[3]-St,pt[4]-H);break;case"C":x.bezierCurveTo(pt[1],pt[2],pt[3],pt[4],pt[5]-St,pt[6]-H);break;case"A":{var ot=void 0;k?(ot=k[mt],ot||(ot=Object(M.a)(ft,pt),k[mt]=ot)):ot=Object(M.a)(ft,pt);var yt=ot.cx,xt=ot.cy,wt=ot.rx,Q=ot.ry,ct=ot.startAngle,it=ot.endAngle,U=ot.xRotation,D=ot.sweepFlag;if(x.ellipse)x.ellipse(yt,xt,wt,Q,U,ct,it,1-D);else{var W=wt>Q?wt:Q,P=wt>Q?1:wt/Q,m=wt>Q?Q/wt:1;x.translate(yt,xt),x.rotate(U),x.scale(P,m),x.arc(0,0,W,ct,it,1-D),x.scale(1/P,1/m),x.rotate(-U),x.translate(-yt,-xt)}break}case"Z":x.closePath();break;default:break}if(rt==="Z")ft=st;else{var y=pt.length;ft=[pt[y-2],pt[y-1]]}}}}function v(p,x){var A=p.get("canvas");A&&(x==="remove"&&(p._cacheCanvasBBox=p.get("cacheCanvasBBox")),p.get("hasChanged")||(p.set("hasChanged",!0),p.cfg.parent&&p.cfg.parent.get("hasChanged")||(A.refreshElement(p,x,A),A.get("autoDraw")&&A.draw())))}function C(p){var x;if(p.destroyed)x=p._cacheCanvasBBox;else{var A=p.get("cacheCanvasBBox"),k=A&&!!(A.width&&A.height),X=p.getCanvasBBox(),et=X&&!!(X.width&&X.height);k&&et?x=Object(t.l)(A,X):k?x=A:et&&(x=X)}return x}function O(p){if(!p.length)return null;var x=[],A=[],k=[],X=[];return Object(lt.each)(p,function(et){var tt=C(et);tt&&(x.push(tt.minX),A.push(tt.minY),k.push(tt.maxX),X.push(tt.maxY))}),{minX:Math.min.apply(null,x),minY:Math.min.apply(null,A),maxX:Math.max.apply(null,k),maxY:Math.max.apply(null,X)}}function j(p,x){return!p||!x||!Object(t.f)(p,x)?null:{minX:Math.max(p.minX,x.minX),minY:Math.max(p.minY,x.minY),maxX:Math.min(p.maxX,x.maxX),maxY:Math.min(p.maxY,x.maxY)}}},AA7f:function(wr,Vt,z){"use strict";z.d(Vt,"b",function(){return a}),z.d(Vt,"a",function(){return M});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lt=function(ft,st){return lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(vt,mt){vt.__proto__=mt}||function(vt,mt){for(var pt in mt)mt.hasOwnProperty(pt)&&(vt[pt]=mt[pt])},lt(ft,st)};function a(tt,ft){lt(tt,ft);function st(){this.constructor=tt}tt.prototype=ft===null?Object.create(ft):(st.prototype=ft.prototype,new st)}var M=function(){return M=Object.assign||function(st){for(var vt,mt=1,pt=arguments.length;mt<pt;mt++){vt=arguments[mt];for(var rt in vt)Object.prototype.hasOwnProperty.call(vt,rt)&&(st[rt]=vt[rt])}return st},M.apply(this,arguments)};function t(tt,ft){var st={};for(var vt in tt)Object.prototype.hasOwnProperty.call(tt,vt)&&ft.indexOf(vt)<0&&(st[vt]=tt[vt]);if(tt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var mt=0,vt=Object.getOwnPropertySymbols(tt);mt<vt.length;mt++)ft.indexOf(vt[mt])<0&&Object.prototype.propertyIsEnumerable.call(tt,vt[mt])&&(st[vt[mt]]=tt[vt[mt]]);return st}function n(tt,ft,st,vt){var mt=arguments.length,pt=mt<3?ft:vt===null?vt=Object.getOwnPropertyDescriptor(ft,st):vt,rt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pt=Reflect.decorate(tt,ft,st,vt);else for(var Bt=tt.length-1;Bt>=0;Bt--)(rt=tt[Bt])&&(pt=(mt<3?rt(pt):mt>3?rt(ft,st,pt):rt(ft,st))||pt);return mt>3&&pt&&Object.defineProperty(ft,st,pt),pt}function d(tt,ft){return function(st,vt){ft(st,vt,tt)}}function S(tt,ft){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(tt,ft)}function b(tt,ft,st,vt){function mt(pt){return pt instanceof st?pt:new st(function(rt){rt(pt)})}return new(st||(st=Promise))(function(pt,rt){function Bt(H){try{St(vt.next(H))}catch(ot){rt(ot)}}function It(H){try{St(vt.throw(H))}catch(ot){rt(ot)}}function St(H){H.done?pt(H.value):mt(H.value).then(Bt,It)}St((vt=vt.apply(tt,ft||[])).next())})}function h(tt,ft){var st={label:0,sent:function(){if(pt[0]&1)throw pt[1];return pt[1]},trys:[],ops:[]},vt,mt,pt,rt;return rt={next:Bt(0),throw:Bt(1),return:Bt(2)},typeof Symbol=="function"&&(rt[Symbol.iterator]=function(){return this}),rt;function Bt(St){return function(H){return It([St,H])}}function It(St){if(vt)throw new TypeError("Generator is already executing.");for(;st;)try{if(vt=1,mt&&(pt=St[0]&2?mt.return:St[0]?mt.throw||((pt=mt.return)&&pt.call(mt),0):mt.next)&&!(pt=pt.call(mt,St[1])).done)return pt;switch(mt=0,pt&&(St=[St[0]&2,pt.value]),St[0]){case 0:case 1:pt=St;break;case 4:return st.label++,{value:St[1],done:!1};case 5:st.label++,mt=St[1],St=[0];continue;case 7:St=st.ops.pop(),st.trys.pop();continue;default:if(pt=st.trys,!(pt=pt.length>0&&pt[pt.length-1])&&(St[0]===6||St[0]===2)){st=0;continue}if(St[0]===3&&(!pt||St[1]>pt[0]&&St[1]<pt[3])){st.label=St[1];break}if(St[0]===6&&st.label<pt[1]){st.label=pt[1],pt=St;break}if(pt&&st.label<pt[2]){st.label=pt[2],st.ops.push(St);break}pt[2]&&st.ops.pop(),st.trys.pop();continue}St=ft.call(tt,st)}catch(H){St=[6,H],mt=0}finally{vt=pt=0}if(St[0]&5)throw St[1];return{value:St[0]?St[1]:void 0,done:!0}}}function E(tt,ft,st,vt){vt===void 0&&(vt=st),tt[vt]=ft[st]}function T(tt,ft){for(var st in tt)st!=="default"&&!ft.hasOwnProperty(st)&&(ft[st]=tt[st])}function o(tt){var ft=typeof Symbol=="function"&&Symbol.iterator,st=ft&&tt[ft],vt=0;if(st)return st.call(tt);if(tt&&typeof tt.length=="number")return{next:function(){return tt&&vt>=tt.length&&(tt=void 0),{value:tt&&tt[vt++],done:!tt}}};throw new TypeError(ft?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(tt,ft){var st=typeof Symbol=="function"&&tt[Symbol.iterator];if(!st)return tt;var vt=st.call(tt),mt,pt=[],rt;try{for(;(ft===void 0||ft-- >0)&&!(mt=vt.next()).done;)pt.push(mt.value)}catch(Bt){rt={error:Bt}}finally{try{mt&&!mt.done&&(st=vt.return)&&st.call(vt)}finally{if(rt)throw rt.error}}return pt}function u(){for(var tt=[],ft=0;ft<arguments.length;ft++)tt=tt.concat(s(arguments[ft]));return tt}function v(){for(var tt=0,ft=0,st=arguments.length;ft<st;ft++)tt+=arguments[ft].length;for(var vt=Array(tt),mt=0,ft=0;ft<st;ft++)for(var pt=arguments[ft],rt=0,Bt=pt.length;rt<Bt;rt++,mt++)vt[mt]=pt[rt];return vt}function C(tt){return this instanceof C?(this.v=tt,this):new C(tt)}function O(tt,ft,st){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var vt=st.apply(tt,ft||[]),mt,pt=[];return mt={},rt("next"),rt("throw"),rt("return"),mt[Symbol.asyncIterator]=function(){return this},mt;function rt(yt){vt[yt]&&(mt[yt]=function(xt){return new Promise(function(wt,Q){pt.push([yt,xt,wt,Q])>1||Bt(yt,xt)})})}function Bt(yt,xt){try{It(vt[yt](xt))}catch(wt){ot(pt[0][3],wt)}}function It(yt){yt.value instanceof C?Promise.resolve(yt.value.v).then(St,H):ot(pt[0][2],yt)}function St(yt){Bt("next",yt)}function H(yt){Bt("throw",yt)}function ot(yt,xt){yt(xt),pt.shift(),pt.length&&Bt(pt[0][0],pt[0][1])}}function j(tt){var ft,st;return ft={},vt("next"),vt("throw",function(mt){throw mt}),vt("return"),ft[Symbol.iterator]=function(){return this},ft;function vt(mt,pt){ft[mt]=tt[mt]?function(rt){return(st=!st)?{value:C(tt[mt](rt)),done:mt==="return"}:pt?pt(rt):rt}:pt}}function p(tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ft=tt[Symbol.asyncIterator],st;return ft?ft.call(tt):(tt=typeof o=="function"?o(tt):tt[Symbol.iterator](),st={},vt("next"),vt("throw"),vt("return"),st[Symbol.asyncIterator]=function(){return this},st);function vt(pt){st[pt]=tt[pt]&&function(rt){return new Promise(function(Bt,It){rt=tt[pt](rt),mt(Bt,It,rt.done,rt.value)})}}function mt(pt,rt,Bt,It){Promise.resolve(It).then(function(St){pt({value:St,done:Bt})},rt)}}function x(tt,ft){return Object.defineProperty?Object.defineProperty(tt,"raw",{value:ft}):tt.raw=ft,tt}function A(tt){if(tt&&tt.__esModule)return tt;var ft={};if(tt!=null)for(var st in tt)Object.hasOwnProperty.call(tt,st)&&(ft[st]=tt[st]);return ft.default=tt,ft}function k(tt){return tt&&tt.__esModule?tt:{default:tt}}function X(tt,ft){if(!ft.has(tt))throw new TypeError("attempted to get private field on non-instance");return ft.get(tt)}function et(tt,ft,st){if(!ft.has(tt))throw new TypeError("attempted to set private field on non-instance");return ft.set(tt,st),st}},APlK:function(wr,Vt,z){"use strict";z.d(Vt,"b",function(){return a}),z.d(Vt,"c",function(){return M}),z.d(Vt,"a",function(){return t});var lt=z("c+wO");function a(n,d){var S=n.cfg.el,b=n.attr(),h={dx:b.shadowOffsetX,dy:b.shadowOffsetY,blur:b.shadowBlur,color:b.shadowColor};if(!h.dx&&!h.dy&&!h.blur&&!h.color)S.removeAttribute("filter");else{var E=d.find("filter",h);E||(E=d.addShadow(h)),S.setAttribute("filter","url(#"+E+")")}}function M(n){var d=n.attr().matrix;if(d){for(var S=n.cfg.el,b=[],h=0;h<9;h+=3)b.push(d[h]+","+d[h+1]);b=b.join(","),b.indexOf("NaN")===-1?S.setAttribute("transform","matrix("+b+")"):console.warn("invalid matrix:",d)}}function t(n,d){var S=n.getClip(),b=n.get("el");if(!S)b.removeAttribute("clip-path");else if(S&&!b.hasAttribute("clip-path")){Object(lt.a)(S),S.createPath(d);var h=d.addClip(S);b.setAttribute("clip-path","url(#"+h+")")}}},B0vJ:function(wr,Vt){},"B2d+":function(wr,Vt){},B3DA:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return M});var lt=z("iTfj"),a=z("F/eT");function M(t){var n=Object(lt.clamp)(Object(a.b)(t)?t:0,0,1);return[{type:"current",percent:n},{type:"target",percent:1-n}]}},BMrR:function(wr,Vt,z){"use strict";var lt=z("qrJ5");Vt.a=lt.a},BYeR:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return u});var lt=z("mrSG"),a=z("zJSt"),M=z("YuPD"),t=z("iTfj"),n=z("w02o"),d=z("tKoa");function S(v){var C=v.data,O=v.xField,j=v.measureField,p=v.rangeField,x=v.targetField,A=v.layout,k=[],X=[];C.forEach(function(ft,st){var vt;ft[p].sort(function(mt,pt){return mt-pt}),ft[p].forEach(function(mt,pt){var rt,Bt=pt===0?mt:ft[p][pt]-ft[p][pt-1];k.push((rt={rKey:p+"_"+pt},rt[O]=O?ft[O]:String(st),rt[p]=Bt,rt))}),ft[j].forEach(function(mt,pt){var rt;k.push((rt={mKey:ft[j].length>1?j+"_"+pt:""+j},rt[O]=O?ft[O]:String(st),rt[j]=mt,rt))}),k.push((vt={tKey:""+x},vt[O]=O?ft[O]:String(st),vt[x]=ft[x],vt)),X.push(ft[p],ft[j],ft[x])});var et=Math.min.apply(Math,X.flat(Infinity)),tt=Math.max.apply(Math,X.flat(Infinity));return et=et>0?0:et,A==="vertical"&&k.reverse(),{min:et,max:tt,ds:k}}function b(v){var C=v.chart,O=v.options,j=O.bulletStyle,p=O.targetField,x=O.rangeField,A=O.measureField,k=O.xField,X=O.color,et=O.layout,tt=O.size,ft=O.label,st=S(O),vt=st.min,mt=st.max,pt=st.ds;C.data(pt);var rt=Object(M.b)({},v,{options:{xField:k,yField:x,seriesField:"rKey",isStack:!0,label:Object(t.get)(ft,"range"),interval:{color:Object(t.get)(X,"range"),style:Object(t.get)(j,"range"),size:Object(t.get)(tt,"range")}}});Object(d.c)(rt),C.geometries[0].tooltip(!1);var Bt=Object(M.b)({},v,{options:{xField:k,yField:A,seriesField:"mKey",isStack:!0,label:Object(t.get)(ft,"measure"),interval:{color:Object(t.get)(X,"measure"),style:Object(t.get)(j,"measure"),size:Object(t.get)(tt,"measure")}}});Object(d.c)(Bt);var It=Object(M.b)({},v,{options:{xField:k,yField:p,seriesField:"tKey",label:Object(t.get)(ft,"target"),point:{color:Object(t.get)(X,"target"),style:Object(t.get)(j,"target"),size:Object(t.get)(tt,"target")/2,shape:et==="horizontal"?"line":"hyphen"}}});return Object(d.e)(It),et==="horizontal"&&C.coordinate().transpose(),Object(lt.a)(Object(lt.a)({},v),{ext:{data:{min:vt,max:mt}}})}function h(v){var C,O,j=v.options,p=v.ext,x=j.xAxis,A=j.yAxis,k=j.targetField,X=j.rangeField,et=j.measureField,tt=j.xField,ft=p.data;return Object(M.e)(Object(n.f)((C={},C[tt]=x,C[et]=A,C),(O={},O[et]={min:ft==null?void 0:ft.min,max:ft==null?void 0:ft.max},O[k]={sync:""+et},O[X]={sync:""+et},O)))(v)}function E(v){var C=v.chart,O=v.options,j=O.xAxis,p=O.yAxis,x=O.xField,A=O.measureField,k=O.rangeField,X=O.targetField;return C.axis(""+k,!1),C.axis(""+X,!1),j===!1?C.axis(""+x,!1):C.axis(""+x,j),p===!1?C.axis(""+A,!1):C.axis(""+A,p),v}function T(v){var C=v.chart,O=v.options,j=O.legend;return C.removeInteraction("legend-filter"),C.legend(j),C.legend("rKey",!1),C.legend("mKey",!1),C.legend("tKey",!1),v}function o(v){var C=v.chart,O=v.options,j=O.label,p=O.measureField,x=O.targetField,A=O.rangeField,k=C.geometries,X=k[0],et=k[1],tt=k[2];return Object(t.get)(j,"range")?X.label(""+A,Object(lt.a)({layout:[{type:"limit-in-plot"}]},Object(M.p)(j.range))):X.label(!1),Object(t.get)(j,"measure")?et.label(""+p,Object(lt.a)({layout:[{type:"limit-in-plot"}]},Object(M.p)(j.measure))):et.label(!1),Object(t.get)(j,"target")?tt.label(""+x,Object(lt.a)({layout:[{type:"limit-in-plot"}]},Object(M.p)(j.target))):tt.label(!1),v}function s(v){Object(M.e)(b,h,E,T,n.j,o,n.k,n.c,n.a)(v)}var u=function(v){Object(lt.b)(C,v);function C(){var O=v!==null&&v.apply(this,arguments)||this;return O.type="bullet",O}return C.prototype.changeData=function(O){this.updateOption({data:O});var j=S(this.options),p=j.min,x=j.max,A=j.ds;h({options:this.options,ext:{data:{min:p,max:x}},chart:this.chart}),this.chart.changeData(A)},C.prototype.getSchemaAdaptor=function(){return s},C.prototype.getDefaultOptions=function(){return Object(M.b)({},v.prototype.getDefaultOptions.call(this),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}})},C}(a.a)},BgvD:function(wr,Vt,z){"use strict";z.d(Vt,"b",function(){return E}),z.d(Vt,"a",function(){return s});var lt=z("iTfj"),a="\u2026";function M(u){for(var v=0,C=0;C<u.length;C++)v+=t(u,C);return v}function t(u,v){return u.charCodeAt(v)>0&&u.charCodeAt(v)<128?1:2}function n(u,v,C){C===void 0&&(C="tail");var O=u.length,j="";if(C==="tail"){for(var p=0,x=0;p<v;){var A=t(u,x);if(p+A<=v)j+=u[x],p+=t(u,x),x++;else break}j+=a}else if(C==="head"){for(var p=0,x=O-1;p<v;){var A=t(u,x);if(p+A<=v)j+=u[x],p+=t(u,x),x--;else break}j=a+j}else{for(var k="",X="",p=0,et=0,tt=O-1;p<v;){var ft=t(u,et),st=!1;ft+p<=v&&(k+=u[et],et++,p+=ft,st=!0);var vt=t(u,tt);if(vt+p<=v&&(X=u[tt]+X,p+=vt,tt--,st=!0),!st)break}j=k+a+X}return j}var d="\u2026",S=2,b=400;function h(u){for(var v=u.map(function(k){var X=k.attr("text");return Object(lt.isNil)(X)?"":""+X}),C=0,O=0,j=0;j<v.length;j+=1){for(var p=0,x=0;x<=v[j].length;x+=1){var A=v[j].charCodeAt(x);A>=19968&&A<=40869?p+=2:p+=1}p>C&&(C=p,O=j)}return u[O].getBBox().width}function E(u){if(u.length>b)return h(u);var v=0;return Object(lt.each)(u,function(C){var O=C.getBBox(),j=O.width;v<j&&(v=j)}),v}function T(u,v){var C=v.getCanvasBBox();return u?C.width:C.height}function o(u,v){return u.getBBox().width<v}function s(u,v,C,O){O===void 0&&(O="tail");var j=v.attr("text"),p=T(u,v),x=M(j),A=!1;if(C<p){var k=Math.floor(C/p*x)-S,X=void 0;k>=0?X=n(j,k,O):X=d,X&&(v.attr("text",X),A=!0)}return A?v.set("tip",j):v.set("tip",null),A}},BwSJ:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return v});var lt=z("mrSG"),a=z("zJSt"),M=z("YuPD"),t=z("iTfj");function n(C,O){var j=Math.floor(C/O);return[O*j,O*(j+1)]}function d(C){return Math.ceil(Math.log(C.length)/Math.LN2)+1}function S(C,O,j,p,x){var A=Object(t.clone)(C);Object(t.sortBy)(A,O);var k=Object(t.valuesOfKey)(A,O),X=Object(t.getRange)(k),et=X.max-X.min,tt=j;if(!j&&p&&(tt=et/p),!j&&!p){var ft=d(k);tt=et/ft}var st={},vt=Object(t.groupBy)(A,x);Object(t.isEmpty)(vt)?Object(t.each)(A,function(pt){var rt=pt[O],Bt=n(rt,tt),It=Bt[0]+"-"+Bt[1];Object(t.hasKey)(st,It)||(st[It]={range:Bt,count:0}),st[It].count+=1}):Object.keys(vt).forEach(function(pt){Object(t.each)(vt[pt],function(rt){var Bt=rt[O],It=n(Bt,tt),St=It[0]+"-"+It[1],H=St+"-"+pt;Object(t.hasKey)(st,H)||(st[H]={range:It,count:0},st[H][x]=pt),st[H].count+=1})});var mt=[];return Object(t.each)(st,function(pt){mt.push(pt)}),mt}var b=z("w02o"),h=z("tKoa");function E(C){var O=C.chart,j=C.options,p=j.data,x=j.binField,A=j.binNumber,k=j.binWidth,X=j.color,et=j.stackField,tt=j.legend,ft=j.columnStyle,st=S(p,x,k,A,et);O.data(st);var vt=Object(M.b)({},C,{options:{xField:"range",yField:"count",seriesField:et,isStack:!0,interval:{color:X,style:ft}}});return Object(h.c)(vt),tt&&et&&O.legend(et,tt),C}function T(C){var O=C.options,j=O.xAxis,p=O.yAxis;return Object(M.e)(Object(b.f)({range:j,count:p}))(C)}function o(C){var O=C.chart,j=C.options,p=j.xAxis,x=j.yAxis;return p===!1?O.axis("range",!1):O.axis("range",p),x===!1?O.axis("count",!1):O.axis("count",x),C}function s(C){var O=C.chart,j=C.options,p=j.label,x=Object(M.c)(O,"interval");if(!p)x.label(!1);else{var A=p.callback,k=Object(lt.c)(p,["callback"]);x.label({fields:["count"],callback:A,cfg:Object(M.p)(k)})}return C}function u(C){return Object(M.e)(E,T,o,b.j,s,b.k,b.c,b.a)(C)}var v=function(C){Object(lt.b)(O,C);function O(){var j=C!==null&&C.apply(this,arguments)||this;return j.type="histogram",j}return O.prototype.changeData=function(j){this.updateOption({data:j});var p=this.options,x=p.binField,A=p.binNumber,k=p.binWidth,X=p.stackField;this.chart.changeData(S(j,x,k,A,X))},O.prototype.getDefaultOptions=function(){return Object(M.b)({},C.prototype.getDefaultOptions.call(this),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]})},O.prototype.getSchemaAdaptor=function(){return u},O}(a.a)},CSvP:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return lt});function lt(){return 0}Vt.b=function(a){return function(){return a}}},"Ch+T":function(wr,Vt,z){"use strict";z.r(Vt),z.d(Vt,"Html",function(){return C});var lt=z("mrSG"),a=z("6UX8"),M=z("fIp6"),t=z("iTfj"),n=z("de35"),d=z("5UbV"),S=z("u60a"),b=z("L16w"),h,E=(h={},h[""+S.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:b.a.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},h[""+S.TITLE_CLASS]={marginBottom:"4px"},h[""+S.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},h[""+S.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},h[""+S.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},h[""+S.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},h[""+S.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},h[""+S.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},h);function T(O,j,p,x,A){var k={left:O<A.x,right:O+p>A.x+A.width,top:j<A.y,bottom:j+x>A.y+A.height};return k}function o(O,j,p,x,A,k){var X=O,et=j;switch(k){case"left":X=O-x-p,et=j-A/2;break;case"right":X=O+p,et=j-A/2;break;case"top":X=O-x/2,et=j-A-p;break;case"bottom":X=O-x/2,et=j+p;break;default:X=O+p,et=j-A-p;break}return{x:X,y:et}}function s(O,j,p,x,A,k,X){var et=o(O,j,p,x,A,k);if(X){var tt=T(et.x,et.y,x,A,X);k==="auto"?(tt.right&&(et.x=Math.max(0,O-x-p)),tt.top&&(et.y=Math.max(0,j-A-p))):k==="top"||k==="bottom"?(tt.left&&(et.x=X.x),tt.right&&(et.x=X.x+X.width-x),k==="top"&&tt.top&&(et.y=j+p),k==="bottom"&&tt.bottom&&(et.y=j-A-p)):(tt.top&&(et.y=X.y),tt.bottom&&(et.y=X.y+X.height-A),k==="left"&&tt.left&&(et.x=O+p),k==="right"&&tt.right&&(et.x=O-x-p))}return et}function u(O,j){var p=!1;return Object(t.each)(j,function(x){if(Object(t.hasKey)(O,x))return p=!0,!1}),p}var v=function(O){Object(lt.b)(j,O);function j(){return O!==null&&O.apply(this,arguments)||this}return j.prototype.getDefaultCfg=function(){var p=O.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},p),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+S.CONTAINER_CLASS+'"><div class="'+S.TITLE_CLASS+'"></div><ul class="'+S.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+S.LIST_ITEM_CLASS+`" data-index={index}>
          <span class="`+S.MARKER_CLASS+`" style="background:{color}"></span>
          <span class="`+S.NAME_CLASS+`">{name}</span>:
          <span class="`+S.VALUE_CLASS+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+S.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+S.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:S.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:E})},j.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},j.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},j.prototype.show=function(){var p=this.getContainer();!p||this.destroyed||(this.set("visible",!0),Object(M.e)(p,{visibility:"visible"}),this.setCrossHairsVisible(!0))},j.prototype.hide=function(){var p=this.getContainer();!p||this.destroyed||(this.set("visible",!1),Object(M.e)(p,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},j.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},j.prototype.setLocation=function(p){this.set("x",p.x),this.set("y",p.y),this.resetPosition()},j.prototype.setCrossHairsVisible=function(p){var x=p?"":"none",A=this.get("xCrosshairDom"),k=this.get("yCrosshairDom");A&&Object(M.e)(A,{display:x}),k&&Object(M.e)(k,{display:x})},j.prototype.initContainer=function(){if(O.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var p=this.getHtmlContentNode();this.get("parent").appendChild(p),this.set("container",p),this.resetStyles(),this.applyStyles()}},j.prototype.updateInner=function(p){this.get("customContent")?this.renderCustomContent():(u(p,["title","showTitle"])&&this.resetTitle(),Object(t.hasKey)(p,"items")&&this.renderItems()),O.prototype.updateInner.call(this,p)},j.prototype.initDom=function(){this.cacheDoms()},j.prototype.removeDom=function(){O.prototype.removeDom.call(this),this.clearCrosshairs()},j.prototype.resetPosition=function(){var p=this.get("x"),x=this.get("y"),A=this.get("offset"),k=this.getOffset(),X=k.offsetX,et=k.offsetY,tt=this.get("position"),ft=this.get("region"),st=this.getContainer(),vt=this.getBBox(),mt=vt.width,pt=vt.height,rt;ft&&(rt=Object(d.k)(ft));var Bt=s(p,x,A,mt,pt,tt,rt);Object(M.e)(st,{left:Object(d.l)(Bt.x+X),top:Object(d.l)(Bt.y+et)}),this.resetCrosshairs()},j.prototype.renderCustomContent=function(){var p=this.getHtmlContentNode(),x=this.get("parent"),A=this.get("container");A&&A.parentNode===x?x.replaceChild(p,A):x.appendChild(p),this.set("container",p),this.resetStyles(),this.applyStyles()},j.prototype.getHtmlContentNode=function(){var p,x=this.get("customContent");if(x){var A=x(this.get("title"),this.get("items"));Object(t.isElement)(A)?p=A:p=Object(M.b)(A)}return p},j.prototype.cacheDoms=function(){var p=this.getContainer(),x=p.getElementsByClassName(S.TITLE_CLASS)[0],A=p.getElementsByClassName(S.LIST_CLASS)[0];this.set("titleDom",x),this.set("listDom",A)},j.prototype.resetTitle=function(){var p=this.get("title"),x=this.get("showTitle");x&&p?this.setTitle(p):this.setTitle("")},j.prototype.setTitle=function(p){var x=this.get("titleDom");x&&(x.innerText=p)},j.prototype.resetCrosshairs=function(){var p=this.get("crosshairsRegion"),x=this.get("crosshairs");if(!p||!x)this.clearCrosshairs();else{var A=Object(d.k)(p),k=this.get("xCrosshairDom"),X=this.get("yCrosshairDom");x==="x"?(this.resetCrosshair("x",A),X&&(X.remove(),this.set("yCrosshairDom",null))):x==="y"?(this.resetCrosshair("y",A),k&&(k.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",A),this.resetCrosshair("y",A)),this.setCrossHairsVisible(this.get("visible"))}},j.prototype.resetCrosshair=function(p,x){var A=this.checkCrosshair(p),k=this.get(p);p==="x"?Object(M.e)(A,{left:Object(d.l)(k),top:Object(d.l)(x.y),height:Object(d.l)(x.height)}):Object(M.e)(A,{top:Object(d.l)(k),left:Object(d.l)(x.x),width:Object(d.l)(x.width)})},j.prototype.checkCrosshair=function(p){var x=p+"CrosshairDom",A=p+"CrosshairTpl",k="CROSSHAIR_"+p.toUpperCase(),X=S[k],et=this.get(x),tt=this.get("parent");return et||(et=Object(M.b)(this.get(A)),this.applyStyle(X,et),tt.appendChild(et),this.set(x,et)),et},j.prototype.renderItems=function(){this.clearItemDoms();var p=this.get("items"),x=this.get("itemTpl"),A=this.get("listDom");A&&(Object(t.each)(p,function(k){var X=a.a.toCSSGradient(k.color),et=Object(lt.a)(Object(lt.a)({},k),{color:X}),tt=Object(t.substitute)(x,et),ft=Object(M.b)(tt);A.appendChild(ft)}),this.applyChildrenStyles(A,this.get("domStyles")))},j.prototype.clearItemDoms=function(){this.get("listDom")&&Object(d.a)(this.get("listDom"))},j.prototype.clearCrosshairs=function(){var p=this.get("xCrosshairDom"),x=this.get("yCrosshairDom");p&&p.remove(),x&&x.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},j}(n.a),C=v},Cr25:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return et});var lt=z("mrSG"),a=z("zJSt"),M=z("iTfj"),t=z("w02o"),n=z("tKoa"),d=z("YuPD"),S=Object(d.b)({},a.a.getDefaultOptions(),{legend:{position:"right"},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}});function b(tt,ft){var st=null;return Object(M.each)(tt,function(vt){typeof vt[ft]=="number"&&(st+=vt[ft])}),st}function h(tt,ft){var st;switch(tt){case"inner":return st="-30%",Object(M.isString)(ft)&&ft.endsWith("%")?parseFloat(ft)*.01>0?st:ft:ft<0?ft:st;case"outer":return st=12,Object(M.isString)(ft)&&ft.endsWith("%")?parseFloat(ft)*.01<0?st:ft:ft>0?ft:st;default:return ft}}function E(tt,ft){var st=Object(M.filter)(tt,function(vt){var mt=vt[ft];return typeof mt=="number"&&!isNaN(mt)||mt===null});return Object(d.k)(d.a.WARN,st.length===tt.length,"illegal data existed in chart data."),st}function T(tt,ft){return Object(M.every)(tt,function(st){return st[ft]===0})}function o(tt){var ft=tt.chart,st=tt.options,vt=st.data,mt=st.angleField,pt=st.colorField,rt=st.color,Bt=st.pieStyle,It=E(vt,mt);if(T(It,mt)){var St="$$percentage$$";It=It.map(function(ot){var yt;return Object(lt.a)(Object(lt.a)({},ot),(yt={},yt[St]=1/It.length,yt))}),ft.data(It);var H=Object(d.b)({},tt,{options:{xField:"1",yField:St,seriesField:pt,isStack:!0,interval:{color:rt,style:Bt},args:{zIndexReversed:!0}}});Object(n.c)(H),ft.geometries[0].tooltip(pt+"*"+mt)}else{ft.data(It);var H=Object(d.b)({},tt,{options:{xField:"1",yField:mt,seriesField:pt,isStack:!0,interval:{color:rt,style:Bt},args:{zIndexReversed:!0}}});Object(n.c)(H)}return tt}function s(tt){var ft,st=tt.chart,vt=tt.options,mt=vt.meta,pt=vt.colorField,rt=Object(d.b)({},mt);return st.scale(rt,(ft={},ft[pt]={type:"cat"},ft)),tt}function u(tt){var ft=tt.chart,st=tt.options,vt=st.radius,mt=st.innerRadius,pt=st.startAngle,rt=st.endAngle;return ft.coordinate({type:"theta",cfg:{radius:vt,innerRadius:mt,startAngle:pt,endAngle:rt}}),tt}function v(tt){var ft=tt.chart,st=tt.options,vt=st.label,mt=st.colorField,pt=st.angleField,rt=ft.geometries[0];if(!vt)rt.label(!1);else{var Bt=vt.callback,It=Object(lt.c)(vt,["callback"]),St=Object(d.p)(It);if(St.content){var H=St.content;St.content=function(wt,Q,ct){var it=wt[mt],U=wt[pt],D=ft.getScaleByField(pt),W=D==null?void 0:D.scale(U);return Object(M.isFunction)(H)?H(Object(lt.a)(Object(lt.a)({},wt),{percent:W}),Q,ct):Object(M.isString)(H)?Object(d.o)(H,{value:U,name:it,percentage:Object(M.isNumber)(W)&&!Object(M.isNil)(U)?(W*100).toFixed(2)+"%":null}):H}}var ot={inner:"",outer:"pie-outer",spider:"pie-spider"},yt=St.type?ot[St.type]:"pie-outer",xt=St.layout?Object(M.isArray)(St.layout)?St.layout:[St.layout]:[];St.layout=(yt?[{type:yt}]:[]).concat(xt),rt.label({fields:mt?[pt,mt]:[pt],callback:Bt,cfg:Object(lt.a)(Object(lt.a)({},St),{offset:h(St.type,St.offset),type:"pie"})})}return tt}function C(tt){var ft=tt.chart,st=tt.options,vt=st.innerRadius,mt=st.statistic,pt=st.angleField,rt=st.colorField,Bt=st.meta;if(ft.getController("annotation").clear(!0),Object(d.e)(Object(t.b)())(tt),vt&&mt){var It=Object(d.b)({},S.statistic,mt),St=It.title,H=It.content;St!==!1&&(St=Object(d.b)({},{formatter:function(yt){return yt?yt[rt]:"\u603B\u8BA1"}},St)),H!==!1&&(H=Object(d.b)({},{formatter:function(yt,xt){var wt=Object(M.get)(Bt,[pt,"formatter"]),Q=yt?yt[pt]:b(xt,pt);return wt?wt(Q):Q}},H)),Object(d.n)(ft,{statistic:{title:St,content:H},plotType:"pie"})}return tt}function O(tt){return Object(M.get)(tt,["options","tooltip"])!==!1?Object(d.b)({},tt,{options:{tooltip:{shared:!1}}}):tt}function j(tt){return Object(d.e)(o,s,t.j,u,t.d,function(ft){return Object(t.k)(O(ft))},v,t.i,C,t.c,t.a)(tt)}var p=z("kXyF"),x=z("qaDU"),A=function(tt){Object(lt.b)(ft,tt);function ft(){return tt!==null&&tt.apply(this,arguments)||this}return ft.prototype.getActiveElements=function(){var st=p.Util.getDelegationObject(this.context);if(st){var vt=this.context.view,mt=st.component,pt=st.item,rt=mt.get("field");if(rt){var Bt=vt.geometries[0].elements;return Bt.filter(function(It){return It.getModel().data[rt]===pt.value})}}return[]},ft.prototype.getActiveElementLabels=function(){var st=this.context.view,vt=this.getActiveElements(),mt=st.geometries[0].labelsContainer.getChildren();return mt.filter(function(pt){return vt.find(function(rt){return Object(M.isEqual)(rt.getData(),pt.get("data"))})})},ft.prototype.transfrom=function(st){st===void 0&&(st=7.5);var vt=this.getActiveElements(),mt=this.getActiveElementLabels();vt.forEach(function(pt,rt){var Bt=mt[rt],It=pt.geometry.coordinate;if(It.isPolar&&It.isTransposed){var St=p.Util.getAngle(pt.getModel(),It),H=St.startAngle,ot=St.endAngle,yt=(H+ot)/2,xt=st,wt=xt*Math.cos(yt),Q=xt*Math.sin(yt);pt.shape.setMatrix(Object(x.a)([["t",wt,Q]])),Bt.setMatrix(Object(x.a)([["t",wt,Q]]))}})},ft.prototype.active=function(){this.transfrom()},ft.prototype.reset=function(){this.transfrom(0)},ft}(p.Action),k=z("mj6g"),X=function(tt){Object(lt.b)(ft,tt);function ft(){return tt!==null&&tt.apply(this,arguments)||this}return ft.prototype.getAnnotations=function(st){var vt=st||this.context.view;return vt.getController("annotation").option},ft.prototype.getInitialAnnotation=function(){return this.initialAnnotation},ft.prototype.init=function(){var st=this,vt=this.context.view;vt.removeInteraction("tooltip"),vt.on("afterchangesize",function(){var mt=st.getAnnotations(vt);st.initialAnnotation=mt})},ft.prototype.change=function(){var st=this.context,vt=st.view,mt=st.event,pt=this.getAnnotations();this.initialAnnotation||(this.initialAnnotation=pt);var rt=((mt==null?void 0:mt.data)||{}).data;if(mt.type.match("legend-item")){var Bt=p.Util.getDelegationObject(this.context),It=vt.getGroupedFields()[0];if(Bt&&It){var St=Bt.item;rt=vt.getData().find(function(W){return W[It]===St.value})}}if(rt){var H=vt.getController("annotation");H.clear(!0);var ot=vt.getScaleFields(),yt=ot[1],xt=ot[2],wt=vt.getScaleByField(yt),Q=vt.getScaleByField(xt),ct=pt.filter(function(W){return!Object(M.get)(W,"key","").match("statistic")}),it=pt.filter(function(W){return Object(M.get)(W,"key","").match("statistic")}),U=it.filter(function(W){return W.key==="top-statistic"}),D=it.filter(function(W){return W.key==="bottom-statistic"});Object(M.each)(it,function(W){var P,m;W.key==="top-statistic"?(P=Q?Q.getText(rt[xt]):null,m=D?"translate(-50%, -100%)":"translate(-50%, -50%)"):(P=wt?wt.getText(rt[yt]):rt[yt],m=U?"translate(-50%, 0)":"translate(-50%,-50%)"),ct.push(Object(lt.a)(Object(lt.a)({},W),{html:function(V,J){var ht=J.getCoordinate(),gt=ht.getRadius()*ht.innerRadius*2,Mt=Object(M.isFunction)(W.style)?W.style():W.style;Object(k.d)(V,Object(lt.a)({width:gt+"px",transform:m},Object(k.a)(Mt)));var Lt=J.getData();return W.customHtml?W.customHtml(V,J,rt,Lt):(W.formatter&&(P=W.formatter(rt,Lt)),P?Object(M.isString)(P)?P:""+P:"<div></div>")}})),ct.forEach(function(y){H.annotation(y)}),vt.render(!0)})}},ft.prototype.reset=function(){var st=this.context.view,vt=st.getController("annotation");vt.clear(!0);var mt=this.getInitialAnnotation();Object(M.each)(mt,function(pt){st.annotation()[pt.type](pt)}),st.render(!0)},ft}(p.Action);Object(p.registerAction)("pie-statistic",X),Object(p.registerInteraction)("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),Object(p.registerAction)("pie-legend",A),Object(p.registerInteraction)("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]});var et=function(tt){Object(lt.b)(ft,tt);function ft(){var st=tt!==null&&tt.apply(this,arguments)||this;return st.type="pie",st}return ft.getDefaultOptions=function(){return S},ft.prototype.changeData=function(st){var vt=this.options,mt=this.options.angleField,pt=E(vt.data,mt),rt=E(st,mt);T(pt,mt)||T(rt,mt)?this.update({data:st}):(this.updateOption({data:st}),this.chart.data(rt),C({chart:this.chart,options:this.options}),this.chart.render(!0))},ft.prototype.getDefaultOptions=function(){return ft.getDefaultOptions()},ft.prototype.getSchemaAdaptor=function(){return j},ft}(a.a)},DMQx:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return et});var lt=z("mrSG"),a=z("YuPD"),M=z("w02o"),t=z("iTfj"),n=z("kXyF"),d=z("5OoT");function S(tt,ft){return Object(a.b)({size:ft?32:80,spacing:ft?8:12,offset:ft?32:0,arrow:tt.arrow!==!1&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:tt.text!==!1&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:d.a}},tt)}function b(tt,ft){return Object(t.map)(ft.getModel().points,function(st){return tt.convertPoint(st)})}function h(tt,ft,st){var vt=tt.view,mt=tt.geometry,pt=tt.group,rt=tt.options,Bt=tt.horizontal,It=rt.offset,St=rt.size,H=rt.arrow,ot=vt.getCoordinate(),yt=b(ot,ft)[Bt?3:0],xt=b(ot,st)[Bt?0:3],wt=xt.y-yt.y,Q=xt.x-yt.x;if(typeof H!="boolean"){var ct=H.headSize,it=rt.spacing,U;Bt?(Q-ct)/2<it?(it=Math.max(1,(Q-ct)/2),U=[[yt.x+it,yt.y-It],[yt.x+it,yt.y-It-St],[xt.x-it,xt.y-It-St/2]]):U=[[yt.x+it,yt.y-It],[yt.x+it,yt.y-It-St],[xt.x-it-ct,xt.y-It-St],[xt.x-it,xt.y-It-St/2],[xt.x-it-ct,xt.y-It]]:(wt-ct)/2<it?(it=Math.max(1,(wt-ct)/2),U=[[yt.x+It,yt.y+it],[yt.x+It+St,yt.y+it],[xt.x+It+St/2,xt.y-it]]):U=[[yt.x+It,yt.y+it],[yt.x+It+St,yt.y+it],[xt.x+It+St,xt.y-it-ct],[xt.x+It+St/2,xt.y-it],[xt.x+It,xt.y-it-ct]],pt.addShape("polygon",{id:vt.id+"-conversion-tag-arrow-"+mt.getElementId(ft.getModel().mappingData),name:"conversion-tag-arrow",attrs:Object(lt.a)(Object(lt.a)({},H.style||{}),{points:U})})}}function E(tt,ft,st){var vt,mt,pt,rt=tt.view,Bt=tt.geometry,It=tt.group,St=tt.options,H=tt.field,ot=tt.horizontal,yt=St.offset,xt=St.size;if(typeof St.text!="boolean"){var wt=rt.getCoordinate(),Q=((vt=St.text)===null||vt===void 0?void 0:vt.formatter)&&((mt=St.text)===null||mt===void 0?void 0:mt.formatter(ft.getData()[H],st.getData()[H])),ct=b(wt,ft)[ot?3:0],it=b(wt,st)[ot?0:3],U=It.addShape("text",{id:rt.id+"-conversion-tag-text-"+Bt.getElementId(ft.getModel().mappingData),name:"conversion-tag-text",attrs:Object(lt.a)(Object(lt.a)({},((pt=St.text)===null||pt===void 0?void 0:pt.style)||{}),{text:Q,x:ot?(ct.x+it.x)/2:ct.x+yt+xt/2,y:ot?ct.y-yt-xt/2:(ct.y+it.y)/2})});if(ot){var D=it.x-ct.x,W=U.getBBox().width;if(W>D){var P=W/Q.length,m=Math.max(1,Math.ceil(D/P)-1),y=Q.slice(0,m)+"...";U.attr("text",y)}}}}function T(tt,ft,st){h(tt,ft,st),E(tt,ft,st)}function o(tt,ft,st){return ft===void 0&&(ft=!0),st===void 0&&(st=!1),function(vt){var mt=vt.options,pt=vt.chart,rt=mt.conversionTag,Bt=mt.theme;return rt&&!st&&(pt.theme(Object(a.b)({},Object(t.isObject)(Bt)?Bt:Object(n.getTheme)(Bt),{columnWidthRatio:1/3})),pt.annotation().shape({render:function(St,H){var ot=St.addGroup({id:pt.id+"-conversion-tag-group",name:"conversion-tag-group"}),yt=Object(t.find)(pt.geometries,function(Q){return Q.type==="interval"}),xt={view:H,geometry:yt,group:ot,field:tt,horizontal:ft,options:S(rt,ft)},wt=ft?yt.elements:yt.elements.slice().reverse();Object(t.each)(wt,function(Q,ct){ct>0&&T(xt,wt[ct-1],Q)})}})),vt}}var s={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"};Object(n.registerInteraction)(s.hover,{start:[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"]}],end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),Object(n.registerInteraction)(s.click,{start:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"]}],end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});function u(tt){return tt===void 0&&(tt=!1),function(ft){var st=ft.chart,vt=ft.options,mt=vt.connectedArea,pt=function(){st.removeInteraction(s.hover),st.removeInteraction(s.click)};if(!tt&&mt){var rt=mt.trigger||"hover";pt(),st.interaction(s[rt])}else pt();return ft}}var v=z("tKoa"),C=z("sqD9"),O=z("DyAw");function j(tt){var ft=tt.options,st=ft.legend,vt=ft.seriesField,mt=ft.isStack;return vt?st!==!1&&(st=Object(lt.a)({position:mt?"right-top":"top-left"},st)):st=!1,tt.options.legend=st,tt}function p(tt){var ft=tt.chart,st=tt.options,vt=st.data,mt=st.columnStyle,pt=st.color,rt=st.columnWidthRatio,Bt=st.isPercent,It=st.xField,St=st.yField,H=st.seriesField,ot=st.tooltip;ft.data(Object(C.a)(vt,St,It,St,Bt));var yt=Bt?Object(lt.a)({formatter:function(Q){return{name:Q[H]||Q[It],value:(Number(Q[St])*100).toFixed(2)+"%"}}},ot):ot,xt=Object(a.b)({},tt,{options:{widthRatio:rt,tooltip:yt,interval:{style:mt,color:pt}}});return Object(v.c)(xt),tt}function x(tt){var ft,st,vt=tt.options,mt=vt.xAxis,pt=vt.yAxis,rt=vt.xField,Bt=vt.yField,It=vt.data,St=vt.isPercent,H=St?{max:1,min:0,minLimit:0,maxLimit:1}:{};return Object(a.e)(Object(M.f)((ft={},ft[rt]=mt,ft[Bt]=pt,ft),(st={},st[rt]={type:"cat"},st[Bt]=Object(lt.a)(Object(lt.a)({},Object(O.a)(It,Bt)),H),st)))(tt)}function A(tt){var ft=tt.chart,st=tt.options,vt=st.xAxis,mt=st.yAxis,pt=st.xField,rt=st.yField;return vt===!1?ft.axis(pt,!1):ft.axis(pt,vt),mt===!1?ft.axis(rt,!1):ft.axis(rt,mt),tt}function k(tt){var ft=tt.chart,st=tt.options,vt=st.legend,mt=st.seriesField;return vt&&mt?ft.legend(mt,vt):vt===!1&&ft.legend(!1),tt}function X(tt){var ft=tt.chart,st=tt.options,vt=st.label,mt=st.yField,pt=st.isRange,rt=Object(a.c)(ft,"interval");if(!vt)rt.label(!1);else{var Bt=vt.callback,It=Object(lt.c)(vt,["callback"]);rt.label({fields:[mt],callback:Bt,cfg:Object(lt.a)({layout:(It==null?void 0:It.position)?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Object(a.p)(pt?Object(lt.a)({content:function(H){var ot;return(ot=H[mt])===null||ot===void 0?void 0:ot.join("-")}},It):It))})}return tt}function et(tt,ft){ft===void 0&&(ft=!1);var st=tt.options,vt=st.seriesField;return Object(a.e)(j,M.j,p,x,A,k,M.k,M.h,M.g,X,M.c,M.a,Object(M.b)(),o(st.yField,!ft,!!vt),u(!st.isStack),M.e)(tt)}},DdT1:function(wr,Vt,z){"use strict";Vt.a=function(lt){lt.x0=Math.round(lt.x0),lt.y0=Math.round(lt.y0),lt.x1=Math.round(lt.x1),lt.y1=Math.round(lt.y1)}},Djfg:function(wr,Vt,z){"use strict";var lt=z("XiRp"),a=z.n(lt),M=z("h4/5"),t=z.n(M),n=z("N9hJ"),d=z.n(n),S=z("3T7b"),b=z.n(S),h=z("B0vJ"),E=z.n(h),T=z("B2d+"),o=z.n(T)},DjyN:function(wr,Vt,z){"use strict";var lt=z("cIOH"),a=z.n(lt),M=z("Urep"),t=z.n(M),n=z("OaEy")},DnfT:function(wr,Vt,z){},DyAw:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return a}),z.d(Vt,"b",function(){return M});var lt=z("iTfj");function a(t,n){var d=t.filter(function(h){var E=Object(lt.get)(h,[n]);return Object(lt.isNumber)(E)&&!isNaN(E)}),S=d.every(function(h){return Object(lt.get)(h,[n])>=0}),b=d.every(function(h){return Object(lt.get)(h,[n])<=0});return S?{min:0}:b?{max:0}:{}}function M(t,n,d,S){if(!Array.isArray(t))return{nodes:[],links:[]};var b=[],h={},E=-1;return t.forEach(function(T){var o=T[n],s=T[d],u=T[S];h[o]||(h[o]={id:++E,name:o}),h[s]||(h[s]={id:++E,name:s}),b.push({source:h[o].id,target:h[s].id,value:u})}),{nodes:Object.values(h),links:b}}},EYNi:function(wr,Vt,z){"use strict";z.d(Vt,"e",function(){return p}),z.d(Vt,"b",function(){return tt}),z.d(Vt,"a",function(){return yt}),z.d(Vt,"c",function(){return E}),z.d(Vt,"d",function(){return U}),z.d(Vt,"f",function(){return lt});var lt={};z.r(lt),z.d(lt,"distance",function(){return t}),z.d(lt,"isNumberEqual",function(){return n}),z.d(lt,"getBBoxByArray",function(){return d}),z.d(lt,"getBBoxRange",function(){return S}),z.d(lt,"piMod",function(){return b});function a(P){return Math.min.apply(null,P)}function M(P){return Math.max.apply(null,P)}function t(P,m,y,V){var J=P-y,ht=m-V;return Math.sqrt(J*J+ht*ht)}function n(P,m){return Math.abs(P-m)<.001}function d(P,m){var y=a(P),V=a(m),J=M(P),ht=M(m);return{x:y,y:V,width:J-y,height:ht-V}}function S(P,m,y,V){return{minX:a([P,y]),maxX:M([P,y]),minY:a([m,V]),maxY:M([m,V])}}function b(P){return(P+Math.PI*2)%(Math.PI*2)}var h=z("ZxFD"),E={box:function(m,y,V,J){return d([m,V],[y,J])},length:function(m,y,V,J){return t(m,y,V,J)},pointAt:function(m,y,V,J,ht){return{x:(1-ht)*m+ht*V,y:(1-ht)*y+ht*J}},pointDistance:function(m,y,V,J,ht,gt){var Mt=(V-m)*(ht-m)+(J-y)*(gt-y);if(Mt<0)return t(m,y,ht,gt);var Lt=(V-m)*(V-m)+(J-y)*(J-y);return Mt>Lt?t(V,J,ht,gt):this.pointToLine(m,y,V,J,ht,gt)},pointToLine:function(m,y,V,J,ht,gt){var Mt=[V-m,J-y];if(h.exactEquals(Mt,[0,0]))return Math.sqrt((ht-m)*(ht-m)+(gt-y)*(gt-y));var Lt=[-Mt[1],Mt[0]];h.normalize(Lt,Lt);var At=[ht-m,gt-y];return Math.abs(h.dot(At,Lt))},tangentAngle:function(m,y,V,J){return Math.atan2(J-y,V-m)}},T=1e-4;function o(P,m,y,V,J,ht){var gt,Mt=Infinity,Lt=[y,V],At=20;ht&&ht>200&&(At=ht/10);for(var Ct=1/At,Ot=Ct/10,Dt=0;Dt<=At;Dt++){var Ft=Dt*Ct,Xt=[J.apply(null,P.concat([Ft])),J.apply(null,m.concat([Ft]))],Rt=t(Lt[0],Lt[1],Xt[0],Xt[1]);Rt<Mt&&(gt=Ft,Mt=Rt)}if(gt===0)return{x:P[0],y:m[0]};if(gt===1){var Kt=P.length;return{x:P[Kt-1],y:m[Kt-1]}}Mt=Infinity;for(var Dt=0;Dt<32&&!(Ot<T);Dt++){var $t=gt-Ot,le=gt+Ot,Xt=[J.apply(null,P.concat([$t])),J.apply(null,m.concat([$t]))],Rt=t(Lt[0],Lt[1],Xt[0],Xt[1]);if($t>=0&&Rt<Mt)gt=$t,Mt=Rt;else{var Me=[J.apply(null,P.concat([le])),J.apply(null,m.concat([le]))],on=t(Lt[0],Lt[1],Me[0],Me[1]);le<=1&&on<Mt?(gt=le,Mt=on):Ot*=.5}}return{x:J.apply(null,P.concat([gt])),y:J.apply(null,m.concat([gt]))}}function s(P,m){for(var y=0,V=P.length,J=0;J<V;J++){var ht=P[J],gt=m[J],Mt=P[(J+1)%V],Lt=m[(J+1)%V];y+=t(ht,gt,Mt,Lt)}return y/2}function u(P,m,y,V){var J=1-V;return J*J*P+2*V*J*m+V*V*y}function v(P,m,y){var V=P+y-2*m;if(n(V,0))return[.5];var J=(P-m)/V;return J<=1&&J>=0?[J]:[]}function C(P,m,y,V){return 2*(1-V)*(m-P)+2*V*(y-m)}function O(P,m,y,V,J,ht,gt){var Mt=u(P,y,J,gt),Lt=u(m,V,ht,gt),At=E.pointAt(P,m,y,V,gt),Ct=E.pointAt(y,V,J,ht,gt);return[[P,m,At.x,At.y,Mt,Lt],[Mt,Lt,Ct.x,Ct.y,J,ht]]}function j(P,m,y,V,J,ht,gt){if(gt===0)return(t(P,m,y,V)+t(y,V,J,ht)+t(P,m,J,ht))/2;var Mt=O(P,m,y,V,J,ht,.5),Lt=Mt[0],At=Mt[1];return Lt.push(gt-1),At.push(gt-1),j.apply(null,Lt)+j.apply(null,At)}var p={box:function(m,y,V,J,ht,gt){var Mt=v(m,V,ht)[0],Lt=v(y,J,gt)[0],At=[m,ht],Ct=[y,gt];return Mt!==void 0&&At.push(u(m,V,ht,Mt)),Lt!==void 0&&Ct.push(u(y,J,gt,Lt)),d(At,Ct)},length:function(m,y,V,J,ht,gt){return j(m,y,V,J,ht,gt,3)},nearestPoint:function(m,y,V,J,ht,gt,Mt,Lt){return o([m,V,ht],[y,J,gt],Mt,Lt,u)},pointDistance:function(m,y,V,J,ht,gt,Mt,Lt){var At=this.nearestPoint(m,y,V,J,ht,gt,Mt,Lt);return t(At.x,At.y,Mt,Lt)},interpolationAt:u,pointAt:function(m,y,V,J,ht,gt,Mt){return{x:u(m,V,ht,Mt),y:u(y,J,gt,Mt)}},divide:function(m,y,V,J,ht,gt,Mt){return O(m,y,V,J,ht,gt,Mt)},tangentAngle:function(m,y,V,J,ht,gt,Mt){var Lt=C(m,V,ht,Mt),At=C(y,J,gt,Mt),Ct=Math.atan2(At,Lt);return b(Ct)}};function x(P,m,y,V,J){var ht=1-J;return ht*ht*ht*P+3*m*J*ht*ht+3*y*J*J*ht+V*J*J*J}function A(P,m,y,V,J){var ht=1-J;return 3*(ht*ht*(m-P)+2*ht*J*(y-m)+J*J*(V-y))}function k(P,m,y,V){var J=-3*P+9*m-9*y+3*V,ht=6*P-12*m+6*y,gt=3*m-3*P,Mt=[],Lt,At,Ct;if(n(J,0))n(ht,0)||(Lt=-gt/ht,Lt>=0&&Lt<=1&&Mt.push(Lt));else{var Ot=ht*ht-4*J*gt;n(Ot,0)?Mt.push(-ht/(2*J)):Ot>0&&(Ct=Math.sqrt(Ot),Lt=(-ht+Ct)/(2*J),At=(-ht-Ct)/(2*J),Lt>=0&&Lt<=1&&Mt.push(Lt),At>=0&&At<=1&&Mt.push(At))}return Mt}function X(P,m,y,V,J,ht,gt,Mt,Lt){var At=x(P,y,J,gt,Lt),Ct=x(m,V,ht,Mt,Lt),Ot=E.pointAt(P,m,y,V,Lt),Dt=E.pointAt(y,V,J,ht,Lt),Ft=E.pointAt(J,ht,gt,Mt,Lt),Xt=E.pointAt(Ot.x,Ot.y,Dt.x,Dt.y,Lt),Rt=E.pointAt(Dt.x,Dt.y,Ft.x,Ft.y,Lt);return[[P,m,Ot.x,Ot.y,Xt.x,Xt.y,At,Ct],[At,Ct,Rt.x,Rt.y,Ft.x,Ft.y,gt,Mt]]}function et(P,m,y,V,J,ht,gt,Mt,Lt){if(Lt===0)return s([P,y,J,gt],[m,V,ht,Mt]);var At=X(P,m,y,V,J,ht,gt,Mt,.5),Ct=At[0],Ot=At[1];return Ct.push(Lt-1),Ot.push(Lt-1),et.apply(null,Ct)+et.apply(null,Ot)}var tt={extrema:k,box:function(m,y,V,J,ht,gt,Mt,Lt){for(var At=[m,Mt],Ct=[y,Lt],Ot=k(m,V,ht,Mt),Dt=k(y,J,gt,Lt),Ft=0;Ft<Ot.length;Ft++)At.push(x(m,V,ht,Mt,Ot[Ft]));for(var Ft=0;Ft<Dt.length;Ft++)Ct.push(x(y,J,gt,Lt,Dt[Ft]));return d(At,Ct)},length:function(m,y,V,J,ht,gt,Mt,Lt){return et(m,y,V,J,ht,gt,Mt,Lt,3)},nearestPoint:function(m,y,V,J,ht,gt,Mt,Lt,At,Ct,Ot){return o([m,V,ht,Mt],[y,J,gt,Lt],At,Ct,x,Ot)},pointDistance:function(m,y,V,J,ht,gt,Mt,Lt,At,Ct,Ot){var Dt=this.nearestPoint(m,y,V,J,ht,gt,Mt,Lt,At,Ct,Ot);return t(Dt.x,Dt.y,At,Ct)},interpolationAt:x,pointAt:function(m,y,V,J,ht,gt,Mt,Lt,At){return{x:x(m,V,ht,Mt,At),y:x(y,J,gt,Lt,At)}},divide:function(m,y,V,J,ht,gt,Mt,Lt,At){return X(m,y,V,J,ht,gt,Mt,Lt,At)},tangentAngle:function(m,y,V,J,ht,gt,Mt,Lt,At){var Ct=A(m,V,ht,Mt,At),Ot=A(y,J,gt,Lt,At);return b(Math.atan2(Ot,Ct))}};function ft(P,m){var y=Math.abs(P);return m>0?y:y*-1}var st={box:function(m,y,V,J){return{x:m-V,y:y-J,width:V*2,height:J*2}},length:function(m,y,V,J){return Math.PI*(3*(V+J)-Math.sqrt((3*V+J)*(V+3*J)))},nearestPoint:function(m,y,V,J,ht,gt){var Mt=V,Lt=J;if(Mt===0||Lt===0)return{x:m,y};for(var At=ht-m,Ct=gt-y,Ot=Math.abs(At),Dt=Math.abs(Ct),Ft=Mt*Mt,Xt=Lt*Lt,Rt=Math.PI/4,Kt,$t,le=0;le<4;le++){Kt=Mt*Math.cos(Rt),$t=Lt*Math.sin(Rt);var Me=(Ft-Xt)*Math.pow(Math.cos(Rt),3)/Mt,on=(Xt-Ft)*Math.pow(Math.sin(Rt),3)/Lt,hn=Kt-Me,Cn=$t-on,He=Ot-Me,mn=Dt-on,dn=Math.hypot(Cn,hn),Un=Math.hypot(mn,He),Xn=dn*Math.asin((hn*mn-Cn*He)/(dn*Un)),Hn=Xn/Math.sqrt(Ft+Xt-Kt*Kt-$t*$t);Rt+=Hn,Rt=Math.min(Math.PI/2,Math.max(0,Rt))}return{x:m+ft(Kt,At),y:y+ft($t,Ct)}},pointDistance:function(m,y,V,J,ht,gt){var Mt=this.nearestPoint(m,y,V,J,ht,gt);return t(Mt.x,Mt.y,ht,gt)},pointAt:function(m,y,V,J,ht){var gt=2*Math.PI*ht;return{x:m+V*Math.cos(gt),y:y+J*Math.sin(gt)}},tangentAngle:function(m,y,V,J,ht){var gt=2*Math.PI*ht,Mt=Math.atan2(J*Math.cos(gt),-V*Math.sin(gt));return b(Mt)}};function vt(P,m,y,V,J,ht,gt,Mt){return-1*y*Math.cos(J)*Math.sin(Mt)-V*Math.sin(J)*Math.cos(Mt)}function mt(P,m,y,V,J,ht,gt,Mt){return-1*y*Math.sin(J)*Math.sin(Mt)+V*Math.cos(J)*Math.cos(Mt)}function pt(P,m,y){return Math.atan(-m/P*Math.tan(y))}function rt(P,m,y){return Math.atan(m/(P*Math.tan(y)))}function Bt(P,m,y,V,J,ht){return y*Math.cos(J)*Math.cos(ht)-V*Math.sin(J)*Math.sin(ht)+P}function It(P,m,y,V,J,ht){return y*Math.sin(J)*Math.cos(ht)+V*Math.cos(J)*Math.sin(ht)+m}function St(P,m,y,V){var J=Math.atan2(V*P,y*m);return(J+Math.PI*2)%(Math.PI*2)}function H(P,m,y){return{x:P*Math.cos(y),y:m*Math.sin(y)}}function ot(P,m,y){var V=Math.cos(y),J=Math.sin(y);return[P*V-m*J,P*J+m*V]}var yt={box:function(m,y,V,J,ht,gt,Mt){for(var Lt=pt(V,J,ht),At=Infinity,Ct=-Infinity,Ot=[gt,Mt],Dt=-Math.PI*2;Dt<=Math.PI*2;Dt+=Math.PI){var Ft=Lt+Dt;gt<Mt?gt<Ft&&Ft<Mt&&Ot.push(Ft):Mt<Ft&&Ft<gt&&Ot.push(Ft)}for(var Dt=0;Dt<Ot.length;Dt++){var Xt=Bt(m,y,V,J,ht,Ot[Dt]);Xt<At&&(At=Xt),Xt>Ct&&(Ct=Xt)}for(var Rt=rt(V,J,ht),Kt=Infinity,$t=-Infinity,le=[gt,Mt],Dt=-Math.PI*2;Dt<=Math.PI*2;Dt+=Math.PI){var Me=Rt+Dt;gt<Mt?gt<Me&&Me<Mt&&le.push(Me):Mt<Me&&Me<gt&&le.push(Me)}for(var Dt=0;Dt<le.length;Dt++){var on=It(m,y,V,J,ht,le[Dt]);on<Kt&&(Kt=on),on>$t&&($t=on)}return{x:At,y:Kt,width:Ct-At,height:$t-Kt}},length:function(m,y,V,J,ht,gt,Mt){},nearestPoint:function(m,y,V,J,ht,gt,Mt,Lt,At){var Ct=ot(Lt-m,At-y,-ht),Ot=Ct[0],Dt=Ct[1],Ft=st.nearestPoint(0,0,V,J,Ot,Dt),Xt=St(V,J,Ft.x,Ft.y);Xt<gt?Ft=H(V,J,gt):Xt>Mt&&(Ft=H(V,J,Mt));var Rt=ot(Ft.x,Ft.y,ht);return{x:Rt[0]+m,y:Rt[1]+y}},pointDistance:function(m,y,V,J,ht,gt,Mt,Lt,At){var Ct=this.nearestPoint(m,y,V,J,Lt,At);return t(Ct.x,Ct.y,Lt,At)},pointAt:function(m,y,V,J,ht,gt,Mt,Lt){var At=(Mt-gt)*Lt+gt;return{x:Bt(m,y,V,J,ht,At),y:It(m,y,V,J,ht,At)}},tangentAngle:function(m,y,V,J,ht,gt,Mt,Lt){var At=(Mt-gt)*Lt+gt,Ct=vt(m,y,V,J,ht,gt,Mt,At),Ot=mt(m,y,V,J,ht,gt,Mt,At);return b(Math.atan2(Ot,Ct))}};function xt(P){for(var m=0,y=[],V=0;V<P.length-1;V++){var J=P[V],ht=P[V+1],gt=t(J[0],J[1],ht[0],ht[1]),Mt={from:J,to:ht,length:gt};y.push(Mt),m+=gt}return{segments:y,totalLength:m}}function wt(P){if(P.length<2)return 0;for(var m=0,y=0;y<P.length-1;y++){var V=P[y],J=P[y+1];m+=t(V[0],V[1],J[0],J[1])}return m}function Q(P,m){if(m>1||m<0||P.length<2)return null;var y=xt(P),V=y.segments,J=y.totalLength;if(J===0)return{x:P[0][0],y:P[0][1]};for(var ht=0,gt=null,Mt=0;Mt<V.length;Mt++){var Lt=V[Mt],At=Lt.from,Ct=Lt.to,Ot=Lt.length/J;if(m>=ht&&m<=ht+Ot){var Dt=(m-ht)/Ot;gt=E.pointAt(At[0],At[1],Ct[0],Ct[1],Dt);break}ht+=Ot}return gt}function ct(P,m){if(m>1||m<0||P.length<2)return 0;for(var y=xt(P),V=y.segments,J=y.totalLength,ht=0,gt=0,Mt=0;Mt<V.length;Mt++){var Lt=V[Mt],At=Lt.from,Ct=Lt.to,Ot=Lt.length/J;if(m>=ht&&m<=ht+Ot){gt=Math.atan2(Ct[1]-At[1],Ct[0]-At[0]);break}ht+=Ot}return gt}function it(P,m,y){for(var V=Infinity,J=0;J<P.length-1;J++){var ht=P[J],gt=P[J+1],Mt=E.pointDistance(ht[0],ht[1],gt[0],gt[1],m,y);Mt<V&&(V=Mt)}return V}var U={box:function(m){for(var y=[],V=[],J=0;J<m.length;J++){var ht=m[J];y.push(ht[0]),V.push(ht[1])}return d(y,V)},length:function(m){return wt(m)},pointAt:function(m,y){return Q(m,y)},pointDistance:function(m,y,V){return it(m,y,V)},tangentAngle:function(m,y){return ct(m,y)}};function D(P){var m=P.slice(0);return P.length&&m.push(P[0]),m}var W={box:function(m){return U.box(m)},length:function(m){return wt(D(m))},pointAt:function(m,y){return Q(D(m),y)},pointDistance:function(m,y,V){return it(D(m),y,V)},tangentAngle:function(m,y){return ct(D(m),y)}}},EkMX:function(wr,Vt,z){"use strict";var lt={};z.r(lt),z.d(lt,"easeLinear",function(){return st}),z.d(lt,"easeQuad",function(){return pt}),z.d(lt,"easeQuadIn",function(){return vt}),z.d(lt,"easeQuadOut",function(){return mt}),z.d(lt,"easeQuadInOut",function(){return pt}),z.d(lt,"easeCubic",function(){return It}),z.d(lt,"easeCubicIn",function(){return rt}),z.d(lt,"easeCubicOut",function(){return Bt}),z.d(lt,"easeCubicInOut",function(){return It}),z.d(lt,"easePoly",function(){return yt}),z.d(lt,"easePolyIn",function(){return H}),z.d(lt,"easePolyOut",function(){return ot}),z.d(lt,"easePolyInOut",function(){return yt}),z.d(lt,"easeSin",function(){return it}),z.d(lt,"easeSinIn",function(){return Q}),z.d(lt,"easeSinOut",function(){return ct}),z.d(lt,"easeSinInOut",function(){return it}),z.d(lt,"easeExp",function(){return P}),z.d(lt,"easeExpIn",function(){return D}),z.d(lt,"easeExpOut",function(){return W}),z.d(lt,"easeExpInOut",function(){return P}),z.d(lt,"easeCircle",function(){return V}),z.d(lt,"easeCircleIn",function(){return m}),z.d(lt,"easeCircleOut",function(){return y}),z.d(lt,"easeCircleInOut",function(){return V}),z.d(lt,"easeBounce",function(){return Rt}),z.d(lt,"easeBounceIn",function(){return Xt}),z.d(lt,"easeBounceOut",function(){return Rt}),z.d(lt,"easeBounceInOut",function(){return Kt}),z.d(lt,"easeBack",function(){return on}),z.d(lt,"easeBackIn",function(){return le}),z.d(lt,"easeBackOut",function(){return Me}),z.d(lt,"easeBackInOut",function(){return on}),z.d(lt,"easeElastic",function(){return dn}),z.d(lt,"easeElasticIn",function(){return mn}),z.d(lt,"easeElasticOut",function(){return dn}),z.d(lt,"easeElasticInOut",function(){return Un});var a=z("mrSG"),M=z("e0ae"),t=z("Mw2x"),n=z("sstZ"),d=z("iTfj"),S=0,b=0,h=0,E=1e3,T,o,s=0,u=0,v=0,C=typeof performance=="object"&&performance.now?performance:Date,O=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(F){setTimeout(F,17)};function j(){return u||(O(p),u=C.now()+v)}function p(){u=0}function x(){this._call=this._time=this._next=null}x.prototype=A.prototype={constructor:x,restart:function(_,$,dt){if(typeof _!="function")throw new TypeError("callback is not a function");dt=(dt==null?j():+dt)+($==null?0:+$),!this._next&&o!==this&&(o?o._next=this:T=this,o=this),this._call=_,this._time=dt,ft()},stop:function(){this._call&&(this._call=null,this._time=Infinity,ft())}};function A(F,_,$){var dt=new x;return dt.restart(F,_,$),dt}function k(){j(),++S;for(var F=T,_;F;)(_=u-F._time)>=0&&F._call.call(null,_),F=F._next;--S}function X(){u=(s=C.now())+v,S=b=0;try{k()}finally{S=0,tt(),u=0}}function et(){var F=C.now(),_=F-s;_>E&&(v-=_,s=F)}function tt(){for(var F,_=T,$,dt=Infinity;_;)_._call?(dt>_._time&&(dt=_._time),F=_,_=_._next):($=_._next,_._next=null,_=F?F._next=$:T=$);o=F,ft(dt)}function ft(F){if(!S){b&&(b=clearTimeout(b));var _=F-u;_>24?(F<Infinity&&(b=setTimeout(X,F-C.now()-v)),h&&(h=clearInterval(h))):(h||(s=C.now(),h=setInterval(et,E)),S=1,O(X))}}function st(F){return+F}function vt(F){return F*F}function mt(F){return F*(2-F)}function pt(F){return((F*=2)<=1?F*F:--F*(2-F)+1)/2}function rt(F){return F*F*F}function Bt(F){return--F*F*F+1}function It(F){return((F*=2)<=1?F*F*F:(F-=2)*F*F+2)/2}var St=3,H=function F(_){_=+_;function $(dt){return Math.pow(dt,_)}return $.exponent=F,$}(St),ot=function F(_){_=+_;function $(dt){return 1-Math.pow(1-dt,_)}return $.exponent=F,$}(St),yt=function F(_){_=+_;function $(dt){return((dt*=2)<=1?Math.pow(dt,_):2-Math.pow(2-dt,_))/2}return $.exponent=F,$}(St),xt=Math.PI,wt=xt/2;function Q(F){return+F==1?1:1-Math.cos(F*wt)}function ct(F){return Math.sin(F*wt)}function it(F){return(1-Math.cos(xt*F))/2}function U(F){return(Math.pow(2,-10*F)-.0009765625)*1.0009775171065494}function D(F){return U(1-+F)}function W(F){return 1-U(F)}function P(F){return((F*=2)<=1?U(1-F):2-U(F-1))/2}function m(F){return 1-Math.sqrt(1-F*F)}function y(F){return Math.sqrt(1- --F*F)}function V(F){return((F*=2)<=1?1-Math.sqrt(1-F*F):Math.sqrt(1-(F-=2)*F)+1)/2}var J=4/11,ht=6/11,gt=8/11,Mt=3/4,Lt=9/11,At=10/11,Ct=15/16,Ot=21/22,Dt=63/64,Ft=1/J/J;function Xt(F){return 1-Rt(1-F)}function Rt(F){return(F=+F)<J?Ft*F*F:F<gt?Ft*(F-=ht)*F+Mt:F<At?Ft*(F-=Lt)*F+Ct:Ft*(F-=Ot)*F+Dt}function Kt(F){return((F*=2)<=1?1-Rt(1-F):Rt(F-1)+1)/2}var $t=1.70158,le=function F(_){_=+_;function $(dt){return(dt=+dt)*dt*(_*(dt-1)+dt)}return $.overshoot=F,$}($t),Me=function F(_){_=+_;function $(dt){return--dt*dt*((dt+1)*_+dt)+1}return $.overshoot=F,$}($t),on=function F(_){_=+_;function $(dt){return((dt*=2)<1?dt*dt*((_+1)*dt-_):(dt-=2)*dt*((_+1)*dt+_)+2)/2}return $.overshoot=F,$}($t),hn=2*Math.PI,Cn=1,He=.3,mn=function F(_,$){var dt=Math.asin(1/(_=Math.max(1,_)))*($/=hn);function Gt(Jt){return _*U(- --Jt)*Math.sin((dt-Jt)/$)}return Gt.amplitude=function(Jt){return F(Jt,$*hn)},Gt.period=function(Jt){return F(_,Jt)},Gt}(Cn,He),dn=function F(_,$){var dt=Math.asin(1/(_=Math.max(1,_)))*($/=hn);function Gt(Jt){return 1-_*U(Jt=+Jt)*Math.sin((Jt+dt)/$)}return Gt.amplitude=function(Jt){return F(Jt,$*hn)},Gt.period=function(Jt){return F(_,Jt)},Gt}(Cn,He),Un=function F(_,$){var dt=Math.asin(1/(_=Math.max(1,_)))*($/=hn);function Gt(Jt){return((Jt=Jt*2-1)<0?_*U(-Jt)*Math.sin((dt-Jt)/$):2-_*U(Jt)*Math.sin((dt+Jt)/$))/2}return Gt.amplitude=function(Jt){return F(Jt,$*hn)},Gt.period=function(Jt){return F(_,Jt)},Gt}(Cn,He),Xn=function(F,_,$){F.prototype=_.prototype=$,$.constructor=F};function Hn(F,_){var $=Object.create(F.prototype);for(var dt in _)$[dt]=_[dt];return $}function _n(){}var $n=.7,ir=1/$n,dr="\\s*([+-]?\\d+)\\s*",xr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mr=/^#([0-9a-f]{3,8})$/,Er=new RegExp("^rgb\\("+[dr,dr,dr]+"\\)$"),Dr=new RegExp("^rgb\\("+[Qr,Qr,Qr]+"\\)$"),hi=new RegExp("^rgba\\("+[dr,dr,dr,xr]+"\\)$"),Wi=new RegExp("^rgba\\("+[Qr,Qr,Qr,xr]+"\\)$"),oa=new RegExp("^hsl\\("+[xr,Qr,Qr]+"\\)$"),Za=new RegExp("^hsla\\("+[xr,Qr,Qr,xr]+"\\)$"),ao={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xn(_n,La,{copy:function(_){return Object.assign(new this.constructor,this,_)},displayable:function(){return this.rgb().displayable()},hex:Ji,formatHex:Ji,formatHsl:Ya,formatRgb:Ca,toString:Ca});function Ji(){return this.rgb().formatHex()}function Ya(){return wi(this).formatHsl()}function Ca(){return this.rgb().formatRgb()}function La(F){var _,$;return F=(F+"").trim().toLowerCase(),(_=Mr.exec(F))?($=_[1].length,_=parseInt(_[1],16),$===6?Ba(_):$===3?new Ma(_>>8&15|_>>4&240,_>>4&15|_&240,(_&15)<<4|_&15,1):$===8?oo(_>>24&255,_>>16&255,_>>8&255,(_&255)/255):$===4?oo(_>>12&15|_>>8&240,_>>8&15|_>>4&240,_>>4&15|_&240,((_&15)<<4|_&15)/255):null):(_=Er.exec(F))?new Ma(_[1],_[2],_[3],1):(_=Dr.exec(F))?new Ma(_[1]*255/100,_[2]*255/100,_[3]*255/100,1):(_=hi.exec(F))?oo(_[1],_[2],_[3],_[4]):(_=Wi.exec(F))?oo(_[1]*255/100,_[2]*255/100,_[3]*255/100,_[4]):(_=oa.exec(F))?Pi(_[1],_[2]/100,_[3]/100,1):(_=Za.exec(F))?Pi(_[1],_[2]/100,_[3]/100,_[4]):ao.hasOwnProperty(F)?Ba(ao[F]):F==="transparent"?new Ma(NaN,NaN,NaN,0):null}function Ba(F){return new Ma(F>>16&255,F>>8&255,F&255,1)}function oo(F,_,$,dt){return dt<=0&&(F=_=$=NaN),new Ma(F,_,$,dt)}function Yr(F){return F instanceof _n||(F=La(F)),F?(F=F.rgb(),new Ma(F.r,F.g,F.b,F.opacity)):new Ma}function $a(F,_,$,dt){return arguments.length===1?Yr(F):new Ma(F,_,$,dt==null?1:dt)}function Ma(F,_,$,dt){this.r=+F,this.g=+_,this.b=+$,this.opacity=+dt}Xn(Ma,$a,Hn(_n,{brighter:function(_){return _=_==null?ir:Math.pow(ir,_),new Ma(this.r*_,this.g*_,this.b*_,this.opacity)},darker:function(_){return _=_==null?$n:Math.pow($n,_),new Ma(this.r*_,this.g*_,this.b*_,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:to,formatHex:to,formatRgb:Aa,toString:Aa}));function to(){return"#"+Vr(this.r)+Vr(this.g)+Vr(this.b)}function Aa(){var F=this.opacity;return F=isNaN(F)?1:Math.max(0,Math.min(1,F)),(F===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(F===1?")":", "+F+")")}function Vr(F){return F=Math.max(0,Math.min(255,Math.round(F)||0)),(F<16?"0":"")+F.toString(16)}function Pi(F,_,$,dt){return dt<=0?F=_=$=NaN:$<=0||$>=1?F=_=NaN:_<=0&&(F=NaN),new bi(F,_,$,dt)}function wi(F){if(F instanceof bi)return new bi(F.h,F.s,F.l,F.opacity);if(F instanceof _n||(F=La(F)),!F)return new bi;if(F instanceof bi)return F;F=F.rgb();var _=F.r/255,$=F.g/255,dt=F.b/255,Gt=Math.min(_,$,dt),Jt=Math.max(_,$,dt),ce=NaN,fe=Jt-Gt,De=(Jt+Gt)/2;return fe?(_===Jt?ce=($-dt)/fe+($<dt)*6:$===Jt?ce=(dt-_)/fe+2:ce=(_-$)/fe+4,fe/=De<.5?Jt+Gt:2-Jt-Gt,ce*=60):fe=De>0&&De<1?0:ce,new bi(ce,fe,De,F.opacity)}function Ei(F,_,$,dt){return arguments.length===1?wi(F):new bi(F,_,$,dt==null?1:dt)}function bi(F,_,$,dt){this.h=+F,this.s=+_,this.l=+$,this.opacity=+dt}Xn(bi,Ei,Hn(_n,{brighter:function(_){return _=_==null?ir:Math.pow(ir,_),new bi(this.h,this.s,this.l*_,this.opacity)},darker:function(_){return _=_==null?$n:Math.pow($n,_),new bi(this.h,this.s,this.l*_,this.opacity)},rgb:function(){var _=this.h%360+(this.h<0)*360,$=isNaN(_)||isNaN(this.s)?0:this.s,dt=this.l,Gt=dt+(dt<.5?dt:1-dt)*$,Jt=2*dt-Gt;return new Ma(Di(_>=240?_-240:_+120,Jt,Gt),Di(_,Jt,Gt),Di(_<120?_+240:_-120,Jt,Gt),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var _=this.opacity;return _=isNaN(_)?1:Math.max(0,Math.min(1,_)),(_===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(_===1?")":", "+_+")")}}));function Di(F,_,$){return(F<60?_+($-_)*F/60:F<180?$:F<240?_+($-_)*(240-F)/60:_)*255}function Fi(F,_,$,dt,Gt){var Jt=F*F,ce=Jt*F;return((1-3*F+3*Jt-ce)*_+(4-6*Jt+3*ce)*$+(1+3*F+3*Jt-3*ce)*dt+ce*Gt)/6}var Ni=function(F){var _=F.length-1;return function($){var dt=$<=0?$=0:$>=1?($=1,_-1):Math.floor($*_),Gt=F[dt],Jt=F[dt+1],ce=dt>0?F[dt-1]:2*Gt-Jt,fe=dt<_-1?F[dt+2]:2*Jt-Gt;return Fi(($-dt/_)*_,ce,Gt,Jt,fe)}},ji=function(F){var _=F.length;return function($){var dt=Math.floor((($%=1)<0?++$:$)*_),Gt=F[(dt+_-1)%_],Jt=F[dt%_],ce=F[(dt+1)%_],fe=F[(dt+2)%_];return Fi(($-dt/_)*_,Gt,Jt,ce,fe)}},Xi=function(F){return function(){return F}};function Ki(F,_){return function($){return F+$*_}}function la(F,_,$){return F=Math.pow(F,$),_=Math.pow(_,$)-F,$=1/$,function(dt){return Math.pow(F+dt*_,$)}}function ta(F,_){var $=_-F;return $?Ki(F,$>180||$<-180?$-360*Math.round($/360):$):Xi(isNaN(F)?_:F)}function ma(F){return(F=+F)==1?Oa:function(_,$){return $-_?la(_,$,F):Xi(isNaN(_)?$:_)}}function Oa(F,_){var $=_-F;return $?Ki(F,$):Xi(isNaN(F)?_:F)}var uo=function F(_){var $=ma(_);function dt(Gt,Jt){var ce=$((Gt=$a(Gt)).r,(Jt=$a(Jt)).r),fe=$(Gt.g,Jt.g),De=$(Gt.b,Jt.b),We=Oa(Gt.opacity,Jt.opacity);return function(sn){return Gt.r=ce(sn),Gt.g=fe(sn),Gt.b=De(sn),Gt.opacity=We(sn),Gt+""}}return dt.gamma=F,dt}(1);function sa(F){return function(_){var $=_.length,dt=new Array($),Gt=new Array($),Jt=new Array($),ce,fe;for(ce=0;ce<$;++ce)fe=$a(_[ce]),dt[ce]=fe.r||0,Gt[ce]=fe.g||0,Jt[ce]=fe.b||0;return dt=F(dt),Gt=F(Gt),Jt=F(Jt),fe.opacity=1,function(De){return fe.r=dt(De),fe.g=Gt(De),fe.b=Jt(De),fe+""}}}var Xa=sa(Ni),po=sa(ji),bo=function(F,_){_||(_=[]);var $=F?Math.min(_.length,F.length):0,dt=_.slice(),Gt;return function(Jt){for(Gt=0;Gt<$;++Gt)dt[Gt]=F[Gt]*(1-Jt)+_[Gt]*Jt;return dt}};function Mo(F){return ArrayBuffer.isView(F)&&!(F instanceof DataView)}var Po=function(F,_){return(Mo(_)?bo:ue)(F,_)};function ue(F,_){var $=_?_.length:0,dt=F?Math.min($,F.length):0,Gt=new Array(dt),Jt=new Array($),ce;for(ce=0;ce<dt;++ce)Gt[ce]=vn(F[ce],_[ce]);for(;ce<$;++ce)Jt[ce]=_[ce];return function(fe){for(ce=0;ce<dt;++ce)Jt[ce]=Gt[ce](fe);return Jt}}var Qt=function(F,_){var $=new Date;return F=+F,_=+_,function(dt){return $.setTime(F*(1-dt)+_*dt),$}},ne=function(F,_){return F=+F,_=+_,function($){return F*(1-$)+_*$}},Ce=function(F,_){var $={},dt={},Gt;(F===null||typeof F!="object")&&(F={}),(_===null||typeof _!="object")&&(_={});for(Gt in _)Gt in F?$[Gt]=vn(F[Gt],_[Gt]):dt[Gt]=_[Gt];return function(Jt){for(Gt in $)dt[Gt]=$[Gt](Jt);return dt}},en=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kn=new RegExp(en.source,"g");function sr(F){return function(){return F}}function pr(F){return function(_){return F(_)+""}}var ln=function(F,_){var $=en.lastIndex=kn.lastIndex=0,dt,Gt,Jt,ce=-1,fe=[],De=[];for(F=F+"",_=_+"";(dt=en.exec(F))&&(Gt=kn.exec(_));)(Jt=Gt.index)>$&&(Jt=_.slice($,Jt),fe[ce]?fe[ce]+=Jt:fe[++ce]=Jt),(dt=dt[0])===(Gt=Gt[0])?fe[ce]?fe[ce]+=Gt:fe[++ce]=Gt:(fe[++ce]=null,De.push({i:ce,x:ne(dt,Gt)})),$=kn.lastIndex;return $<_.length&&(Jt=_.slice($),fe[ce]?fe[ce]+=Jt:fe[++ce]=Jt),fe.length<2?De[0]?pr(De[0].x):sr(_):(_=De.length,function(We){for(var sn=0,Dn;sn<_;++sn)fe[(Dn=De[sn]).i]=Dn.x(We);return fe.join("")})},vn=function(F,_){var $=typeof _,dt;return _==null||$==="boolean"?Xi(_):($==="number"?ne:$==="string"?(dt=La(_))?(_=dt,uo):ln:_ instanceof La?uo:_ instanceof Date?Qt:Mo(_)?bo:Array.isArray(_)?ue:typeof _.valueOf!="function"&&typeof _.toString!="function"||isNaN(_)?Ce:ne)(F,_)},xn=z("tvuL"),Or=function(_){return["fill","stroke","fillStyle","strokeStyle"].includes(_)},Br=function(_){return/^[r,R,L,l]{1}[\s]*\(/.test(_)},Pr=[1,0,0,0,1,0,0,0,1];function kr(F,_,$){var dt={},Gt=_.fromAttrs,Jt=_.toAttrs;if(!F.destroyed){var ce;for(var fe in Jt)if(!Object(d.isEqual)(Gt[fe],Jt[fe]))if(fe==="path"){var De=Jt[fe],We=Gt[fe];De.length>We.length?(De=xn.parsePathString(Jt[fe]),We=xn.parsePathString(Gt[fe]),We=xn.fillPathByDiff(We,De),We=xn.formatPath(We,De),_.fromAttrs.path=We,_.toAttrs.path=De):_.pathFormatted||(De=xn.parsePathString(Jt[fe]),We=xn.parsePathString(Gt[fe]),We=xn.formatPath(We,De),_.fromAttrs.path=We,_.toAttrs.path=De,_.pathFormatted=!0),dt[fe]=[];for(var sn=0;sn<De.length;sn++){for(var Dn=De[sn],Yt=We[sn],Zt=[],Ae=0;Ae<Dn.length;Ae++)Object(d.isNumber)(Dn[Ae])&&Yt&&Object(d.isNumber)(Yt[Ae])?(ce=vn(Yt[Ae],Dn[Ae]),Zt.push(ce($))):Zt.push(Dn[Ae]);dt[fe].push(Zt)}}else if(fe==="matrix"){var Ht=Po(Gt[fe]||Pr,Jt[fe]||Pr),he=Ht($);dt[fe]=he}else Or(fe)&&Br(Jt[fe])?dt[fe]=Jt[fe]:Object(d.isFunction)(Jt[fe])||(ce=vn(Gt[fe],Jt[fe]),dt[fe]=ce($));F.attr(dt)}}function mi(F,_,$){var dt=_.startTime,Gt=_.delay;if($<dt+Gt||_._paused)return!1;var Jt,ce=_.duration,fe=_.easing;if($=$-dt-_.delay,_.repeat)Jt=$%ce/ce,Jt=lt[fe](Jt);else if(Jt=$/ce,Jt<1)Jt=lt[fe](Jt);else return _.onFrame?F.attr(_.onFrame(1)):F.attr(_.toAttrs),!0;if(_.onFrame){var De=_.onFrame(Jt);F.attr(De)}else kr(F,_,Jt);return!1}var $r=function(){function F(_){this.animators=[],this.current=0,this.timer=null,this.canvas=_}return F.prototype.initTimer=function(){var _=this,$=!1,dt,Gt,Jt;this.timer=A(function(ce){if(_.current=ce,_.animators.length>0){for(var fe=_.animators.length-1;fe>=0;fe--){if(dt=_.animators[fe],dt.destroyed){_.removeAnimator(fe);continue}if(!dt.isAnimatePaused()){Gt=dt.get("animations");for(var De=Gt.length-1;De>=0;De--)Jt=Gt[De],$=mi(dt,Jt,ce),$&&(Gt.splice(De,1),$=!1,Jt.callback&&Jt.callback())}Gt.length===0&&_.removeAnimator(fe)}var We=_.canvas.get("autoDraw");We||_.canvas.draw()}})},F.prototype.addAnimator=function(_){this.animators.push(_)},F.prototype.removeAnimator=function(_){this.animators.splice(_,1)},F.prototype.isAnimating=function(){return!!this.animators.length},F.prototype.stop=function(){this.timer&&this.timer.stop()},F.prototype.stopAllAnimations=function(_){_===void 0&&(_=!0),this.animators.forEach(function($){$.stopAnimate(_)}),this.animators=[],this.canvas.draw()},F.prototype.getTime=function(){return this.current},F}(),Xr=$r,Nr=z("5eLp"),Hr=40,oi=0,yi=":",si=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function ti(F,_){for(var $ in F)if(F.hasOwnProperty($)&&$.indexOf(yi+_)>=0)return!0;return!1}function zi(F,_,$){$.name=_,$.target=F,$.currentTarget=F,$.delegateTarget=F,F.emit(_,$)}function qi(F,_,$){if($.bubbles){var dt=void 0,Gt=!1;if(_==="mouseenter"?(dt=$.fromShape,Gt=!0):_==="mouseleave"&&(Gt=!0,dt=$.toShape),F.isCanvas()&&Gt)return;if(dt&&Object(n.g)(F,dt)){$.bubbles=!1;return}$.name=_,$.currentTarget=F,$.delegateTarget=F,F.emit(_,$)}}var Sa=function(){function F(_){var $=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(dt){var Gt=dt.type;$._triggerEvent(Gt,dt)},this._onDocumentMove=function(dt){var Gt=$.canvas,Jt=Gt.get("el");if(Jt!==dt.target&&($.dragging||$.currentShape)){var ce=$._getPointInfo(dt);$.dragging&&$._emitEvent("drag",dt,ce,$.draggingShape)}},this._onDocumentMouseUp=function(dt){var Gt=$.canvas,Jt=Gt.get("el");if(Jt!==dt.target&&$.dragging){var ce=$._getPointInfo(dt);$.draggingShape&&$._emitEvent("drop",dt,ce,null),$._emitEvent("dragend",dt,ce,$.draggingShape),$._afterDrag($.draggingShape,ce,dt)}},this.canvas=_.canvas}return F.prototype.init=function(){this._bindEvents()},F.prototype._bindEvents=function(){var _=this,$=this.canvas.get("el");Object(n.a)(si,function(dt){$.addEventListener(dt,_._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},F.prototype._clearEvents=function(){var _=this,$=this.canvas.get("el");Object(n.a)(si,function(dt){$.removeEventListener(dt,_._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},F.prototype._getEventObj=function(_,$,dt,Gt,Jt,ce){var fe=new Nr.a(_,$);return fe.fromShape=Jt,fe.toShape=ce,fe.x=dt.x,fe.y=dt.y,fe.clientX=dt.clientX,fe.clientY=dt.clientY,fe.propagationPath.push(Gt),fe},F.prototype._getShape=function(_,$){return this.canvas.getShape(_.x,_.y,$)},F.prototype._getPointInfo=function(_){var $=this.canvas,dt=$.getClientByEvent(_),Gt=$.getPointByEvent(_);return{x:Gt.x,y:Gt.y,clientX:dt.x,clientY:dt.y}},F.prototype._triggerEvent=function(_,$){var dt=this._getPointInfo($),Gt=this._getShape(dt,$),Jt=this["_on"+_],ce=!1;if(Jt)Jt.call(this,dt,Gt,$);else{var fe=this.currentShape;_==="mouseenter"||_==="dragenter"||_==="mouseover"?(this._emitEvent(_,$,dt,null,null,Gt),Gt&&this._emitEvent(_,$,dt,Gt,null,Gt),_==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",$,dt,null)):_==="mouseleave"||_==="dragleave"||_==="mouseout"?(ce=!0,fe&&this._emitEvent(_,$,dt,fe,fe,null),this._emitEvent(_,$,dt,null,fe,null),_==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",$,dt,null)):this._emitEvent(_,$,dt,Gt,null,null)}if(ce||(this.currentShape=Gt),Gt&&!Gt.get("destroyed")){var De=this.canvas,We=De.get("el");We.style.cursor=Gt.attr("cursor")||De.get("cursor")}},F.prototype._onmousedown=function(_,$,dt){dt.button===oi&&(this.mousedownShape=$,this.mousedownPoint=_,this.mousedownTimeStamp=dt.timeStamp),this._emitEvent("mousedown",dt,_,$,null,null)},F.prototype._emitMouseoverEvents=function(_,$,dt,Gt){var Jt=this.canvas.get("el");dt!==Gt&&(dt&&(this._emitEvent("mouseout",_,$,dt,dt,Gt),this._emitEvent("mouseleave",_,$,dt,dt,Gt),(!Gt||Gt.get("destroyed"))&&(Jt.style.cursor=this.canvas.get("cursor"))),Gt&&(this._emitEvent("mouseover",_,$,Gt,dt,Gt),this._emitEvent("mouseenter",_,$,Gt,dt,Gt)))},F.prototype._emitDragoverEvents=function(_,$,dt,Gt,Jt){Gt?(Gt!==dt&&(dt&&this._emitEvent("dragleave",_,$,dt,dt,Gt),this._emitEvent("dragenter",_,$,Gt,dt,Gt)),Jt||this._emitEvent("dragover",_,$,Gt)):dt&&this._emitEvent("dragleave",_,$,dt,dt,Gt),Jt&&this._emitEvent("dragover",_,$,Gt)},F.prototype._afterDrag=function(_,$,dt){_&&(_.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Gt=this._getShape($,dt);Gt!==_&&this._emitMouseoverEvents(dt,$,_,Gt),this.currentShape=Gt},F.prototype._onmouseup=function(_,$,dt){if(dt.button===oi){var Gt=this.draggingShape;this.dragging?(Gt&&this._emitEvent("drop",dt,_,$),this._emitEvent("dragend",dt,_,Gt),this._afterDrag(Gt,_,dt)):(this._emitEvent("mouseup",dt,_,$),$===this.mousedownShape&&this._emitEvent("click",dt,_,$),this.mousedownShape=null,this.mousedownPoint=null)}},F.prototype._ondragover=function(_,$,dt){dt.preventDefault();var Gt=this.currentShape;this._emitDragoverEvents(dt,_,Gt,$,!0)},F.prototype._onmousemove=function(_,$,dt){var Gt=this.canvas,Jt=this.currentShape,ce=this.draggingShape;if(this.dragging)ce&&this._emitDragoverEvents(dt,_,Jt,$,!1),this._emitEvent("drag",dt,_,ce);else{var fe=this.mousedownPoint;if(fe){var De=this.mousedownShape,We=dt.timeStamp,sn=We-this.mousedownTimeStamp,Dn=fe.clientX-_.clientX,Yt=fe.clientY-_.clientY,Zt=Dn*Dn+Yt*Yt;sn>120||Zt>Hr?De&&De.get("draggable")?(ce=this.mousedownShape,ce.set("capture",!1),this.draggingShape=ce,this.dragging=!0,this._emitEvent("dragstart",dt,_,ce),this.mousedownShape=null,this.mousedownPoint=null):!De&&Gt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",dt,_,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(dt,_,Jt,$),this._emitEvent("mousemove",dt,_,$)):(this._emitMouseoverEvents(dt,_,Jt,$),this._emitEvent("mousemove",dt,_,$))}else this._emitMouseoverEvents(dt,_,Jt,$),this._emitEvent("mousemove",dt,_,$)}},F.prototype._emitEvent=function(_,$,dt,Gt,Jt,ce){var fe=this._getEventObj(_,$,dt,Gt,Jt,ce);if(Gt){fe.shape=Gt,zi(Gt,_,fe);for(var De=Gt.getParent();De;)De.emitDelegation(_,fe),fe.propagationStopped||qi(De,_,fe),fe.propagationPath.push(De),De=De.getParent()}else{var We=this.canvas;zi(We,_,fe)}},F.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},F}(),ea=Sa,Fa="px",Ua=Object(M.a)(),Na=Ua&&Ua.name==="firefox",va=function(F){Object(a.b)(_,F);function _($){var dt=F.call(this,$)||this;return dt.initContainer(),dt.initDom(),dt.initEvents(),dt.initTimeline(),dt}return _.prototype.getDefaultCfg=function(){var $=F.prototype.getDefaultCfg.call(this);return $.cursor="default",$.supportCSSTransform=!1,$},_.prototype.initContainer=function(){var $=this.get("container");Object(n.h)($)&&($=document.getElementById($),this.set("container",$))},_.prototype.initDom=function(){var $=this.createDom();this.set("el",$);var dt=this.get("container");dt.appendChild($),this.setDOMSize(this.get("width"),this.get("height"))},_.prototype.initEvents=function(){var $=new ea({canvas:this});$.init(),this.set("eventController",$)},_.prototype.initTimeline=function(){var $=new Xr(this);this.set("timeline",$)},_.prototype.setDOMSize=function($,dt){var Gt=this.get("el");n.c&&(Gt.style.width=$+Fa,Gt.style.height=dt+Fa)},_.prototype.changeSize=function($,dt){this.setDOMSize($,dt),this.set("width",$),this.set("height",dt),this.onCanvasChange("changeSize")},_.prototype.getRenderer=function(){return this.get("renderer")},_.prototype.getCursor=function(){return this.get("cursor")},_.prototype.setCursor=function($){this.set("cursor",$);var dt=this.get("el");n.c&&dt&&(dt.style.cursor=$)},_.prototype.getPointByEvent=function($){var dt=this.get("supportCSSTransform");if(dt){if(Na&&!Object(n.e)($.layerX)&&$.layerX!==$.offsetX)return{x:$.layerX,y:$.layerY};if(!Object(n.e)($.offsetX))return{x:$.offsetX,y:$.offsetY}}var Gt=this.getClientByEvent($),Jt=Gt.x,ce=Gt.y;return this.getPointByClient(Jt,ce)},_.prototype.getClientByEvent=function($){var dt=$;return $.touches&&($.type==="touchend"?dt=$.changedTouches[0]:dt=$.touches[0]),{x:dt.clientX,y:dt.clientY}},_.prototype.getPointByClient=function($,dt){var Gt=this.get("el"),Jt=Gt.getBoundingClientRect();return{x:$-Jt.left,y:dt-Jt.top}},_.prototype.getClientByPoint=function($,dt){var Gt=this.get("el"),Jt=Gt.getBoundingClientRect();return{x:$+Jt.left,y:dt+Jt.top}},_.prototype.draw=function(){},_.prototype.removeDom=function(){var $=this.get("el");$.parentNode.removeChild($)},_.prototype.clearEvents=function(){var $=this.get("eventController");$.destroy()},_.prototype.isCanvas=function(){return!0},_.prototype.getParent=function(){return null},_.prototype.destroy=function(){var $=this.get("timeline");this.get("destroyed")||(this.clear(),$&&$.stop(),this.clearEvents(),this.removeDom(),F.prototype.destroy.call(this))},_}(t.a),ge=Vt.a=va},"F/eT":function(wr,Vt,z){"use strict";z.d(Vt,"b",function(){return lt}),z.d(Vt,"a",function(){return a});function lt(M){return typeof M=="number"&&!isNaN(M)}function a(M,t,n){var d=Math.min(t,n),S=Math.max(t,n);return M>=d&&M<=S}},FAXy:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return A});var lt=z("mrSG"),a=z("zJSt"),M=z("iTfj"),t=z("w02o"),n=z("YuPD"),d=z("tKoa"),S="liquid";function b(k){return[{percent:k,type:S}]}function h(k){var X=k.chart,et=k.options,tt=et.percent,ft=et.color,st=et.liquidStyle,vt=et.radius,mt=et.outline,pt=et.wave;X.scale({percent:{min:0,max:1}}),X.data(b(tt));var rt=Object(n.b)({},k,{options:{xField:"type",yField:"percent",widthRatio:vt,interval:{color:ft,style:st,shape:"liquid-fill-gauge"}}}),Bt=Object(d.c)(rt).ext,It=Bt.geometry;return It.customInfo({radius:vt,outline:mt,wave:pt}),X.legend(!1),X.axis(!1),X.tooltip(!1),k}function E(k,X){var et=k.chart,tt=k.options,ft=tt.statistic,st=tt.percent,vt=tt.meta;if(et.getController("annotation").clear(!0),ft.content&&!ft.content.formatter){var mt=Object(M.get)(vt,["percent","formatter"]);ft.content.formatter=function(pt){var rt=pt.percent;return mt?mt(rt):(rt*100).toFixed(2)+"%"}}return Object(n.n)(et,{statistic:ft,plotType:"liquid"},{percent:st}),X&&et.render(!0),k}function T(k){return Object(n.e)(h,E,Object(t.f)({}),t.a,t.j,t.c)(k)}var o=z("kXyF"),s=z("qaDU"),u=5e3;function v(k,X,et){return k+(X-k)*et}function C(k){var X=Object(lt.a)({opacity:1},k.style);return k.color&&!X.fill&&(X.fill=k.color),X}function O(k){var X={fill:"#fff",fillOpacity:0,lineWidth:4},et=Object(M.mix)({},X,k.style);return k.color&&!et.stroke&&(et.stroke=k.color),Object(M.isNumber)(k.opacity)&&(et.opacity=et.strokeOpacity=k.opacity),et}function j(k,X,et,tt){return X===0?[[k+1/2*et/Math.PI/2,tt/2],[k+1/2*et/Math.PI,tt],[k+et/4,tt]]:X===1?[[k+1/2*et/Math.PI/2*(Math.PI-2),tt],[k+1/2*et/Math.PI/2*(Math.PI-1),tt/2],[k+et/4,0]]:X===2?[[k+1/2*et/Math.PI/2,-tt/2],[k+1/2*et/Math.PI,-tt],[k+et/4,-tt]]:[[k+1/2*et/Math.PI/2*(Math.PI-2),-tt],[k+1/2*et/Math.PI/2*(Math.PI-1),-tt/2],[k+et/4,0]]}function p(k,X,et,tt,ft,st,vt){for(var mt=Math.ceil(2*k/et*4)*4,pt=[],rt=tt;rt<-Math.PI*2;)rt+=Math.PI*2;for(;rt>0;)rt-=Math.PI*2;rt=rt/Math.PI/2*et;var Bt=st-k+rt-k*2;pt.push(["M",Bt,X]);for(var It=0,St=0;St<mt;++St){var H=St%4,ot=j(St*et/4,H,et,ft);pt.push(["C",ot[0][0]+Bt,-ot[0][1]+X,ot[1][0]+Bt,-ot[1][1]+X,ot[2][0]+Bt,-ot[2][1]+X]),St===mt-1&&(It=ot[2][0])}return pt.push(["L",It+Bt,vt+k]),pt.push(["L",Bt,vt+k]),pt.push(["Z"]),pt}function x(k,X,et,tt,ft,st,vt,mt,pt){for(var rt=ft.fill,Bt=ft.opacity,It=vt.getBBox(),St=It.maxX-It.minX,H=It.maxY-It.minY,ot=0;ot<tt;ot++){var yt=tt<=1?0:ot/(tt-1),xt=st.addShape("path",{name:"waterwave-path",attrs:{path:p(mt,It.minY+H*et,pt,0,St/32,k,X),fill:rt,opacity:v(.2,.9,yt)*Bt}});try{var wt=Object(s.a)([["t",pt,0]]);xt.stopAnimate(),xt.animate({matrix:wt},{duration:v(.5*u,u,yt),repeat:!0})}catch(Q){console.warn("off-screen group animate error!")}}}Object(o.registerShape)("interval","liquid-fill-gauge",{draw:function(X,et){var tt=.5,ft=.5,st=X.customInfo,vt=st.radius,mt=st.outline,pt=st.wave,rt=mt.border,Bt=mt.distance,It=pt.count,St=pt.length,H=Object(M.reduce)(X.points,function(D,W){return Math.min(D,W.x)},Infinity),ot=this.parsePoint({x:tt,y:ft}),yt=this.parsePoint({x:H,y:ft}),xt=ot.x-yt.x,wt=Math.min(xt,yt.y*vt),Q=C(X),ct=O(X);et.addShape("circle",{name:"wrap",attrs:Object(M.mix)(ct,{x:ot.x,y:ot.y,r:wt,fill:"transparent",lineWidth:rt})});var it=et.addGroup({name:"waves"}),U=it.setClip({type:"circle",attrs:{x:ot.x,y:ot.y,r:wt-Bt-rt/2}});return x(ot.x,ot.y,1-X.points[1].y,It,Q,it,U,wt*2,St),et}});var A=function(k){Object(lt.b)(X,k);function X(){var et=k!==null&&k.apply(this,arguments)||this;return et.type="liquid",et}return X.prototype.getDefaultOptions=function(){return{color:"#6a99f9",radius:.9,statistic:{title:!1,content:{formatter:function(tt){var ft=tt.percent;return(ft*100).toFixed(2)+"%"},style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192}}},X.prototype.changeData=function(et){this.updateOption({percent:et}),this.chart.data(b(et)),E({chart:this.chart,options:this.options},!0)},X.prototype.getSchemaAdaptor=function(){return T},X}(a.a)},FH2j:function(wr,Vt,z){"use strict";z.d(Vt,"getAdjust",function(){return n}),z.d(Vt,"registerAdjust",function(){return d});var lt=z("Qci9"),a=z("WbAE"),M=z.n(a),t={},n=function(b){return t[b.toLowerCase()]},d=function(b,h){if(n(b))throw new Error("Adjust type '"+b+"' existed.");t[b.toLowerCase()]=h}},FLLP:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return X});var lt=z("mrSG"),a=z("zJSt"),M=z("iTfj"),t=z("w02o"),n=z("tKoa"),d=z("YuPD"),S="$$yField$$",b="$$diffField$$",h="$$absoluteField$$",E="$$isTotal$$";function T(et,tt,ft,st,vt){var mt,pt=[];if(Object(M.reduce)(et,function(Bt,It){var St;Object(d.k)(d.a.WARN,Object(M.isNumber)(It[ft]),It[ft]+" is not a valid number");var H=Object(M.isUndefined)(It[ft])?null:It[ft];return pt.push(Object(lt.a)(Object(lt.a)({},It),(St={},St[st]=[Bt,Bt+H],St))),Bt+H},0),pt.length&&vt){var rt=Object(M.get)(pt,[[et.length-1],st,[1]]);pt.push((mt={},mt[tt]=vt.label,mt[ft]=rt,mt[st]=[0,rt],mt))}return pt}function o(et,tt,ft,st){var vt=T(et,tt,ft,S,st);return vt.map(function(mt,pt){var rt;return Object(M.isObject)(mt)?Object(lt.a)(Object(lt.a)({},mt),(rt={},rt[h]=mt[S][1],rt[b]=mt[S][1]-mt[S][0],rt[E]=pt===et.length,rt)):mt})}var s=z("kXyF");function u(et){for(var tt=[],ft=0;ft<et.length;ft++){var st=et[ft];if(st){var vt=ft===0?"M":"L";tt.push([vt,st.x,st.y])}}var mt=et[0];return tt.push(["L",mt.x,mt.y]),tt.push(["z"]),tt}function v(et){return Object(d.b)({},et.defaultStyle,et.style,{fill:et.color})}Object(s.registerShape)("interval","waterfall",{draw:function(tt,ft){var st=tt.customInfo,vt=tt.points,mt=tt.nextPoints,pt=ft.addGroup(),rt=this.parsePath(u(vt)),Bt=v(tt);pt.addShape("path",{attrs:Object(lt.a)(Object(lt.a)({},Bt),{path:rt})});var It=Object(M.get)(st,"leaderLine");if(It&&mt){var St=[["M",vt[2].x,vt[2].y],["L",mt[0].x,mt[0].y]];vt[2].y===mt[1].y&&(St[1]=["L",mt[1].x,mt[1].y]),St=this.parsePath(St),pt.addShape("path",{attrs:Object(lt.a)({path:St},It.style||{})})}return pt}});function C(et){var tt=et.chart,ft=et.options,st=ft.data,vt=ft.xField,mt=ft.yField,pt=ft.total,rt=ft.leaderLine,Bt=ft.columnWidthRatio,It=ft.waterfallStyle,St=ft.risingFill,H=ft.fallingFill,ot=ft.color;tt.data(o(st,vt,mt,pt));var yt=ot||function(ct){return Object(M.get)(ct,[E])?Object(M.get)(pt,["style","fill"],""):Object(M.get)(ct,[S,1])-Object(M.get)(ct,[S,0])>0?St:H},xt=Object(d.b)({},et,{options:{xField:vt,yField:S,seriesField:vt,rawFields:[mt,b,E,S],widthRatio:Bt,interval:{style:It,shape:"waterfall",color:yt}}}),wt=Object(n.c)(xt).ext,Q=wt.geometry;return Q.customInfo({leaderLine:rt}),et}function O(et){var tt,ft,st=et.options,vt=st.xAxis,mt=st.yAxis,pt=st.xField,rt=st.yField,Bt=st.meta,It=Object(d.b)({},{alias:rt},Object(M.get)(Bt,rt));return Object(d.e)(Object(t.f)((tt={},tt[pt]=vt,tt[rt]=mt,tt[S]=mt,tt),Object(d.b)({},Bt,(ft={},ft[S]=It,ft[b]=It,ft[h]=It,ft))))(et)}function j(et){var tt=et.chart,ft=et.options,st=ft.xAxis,vt=ft.yAxis,mt=ft.xField,pt=ft.yField;return st===!1?tt.axis(mt,!1):tt.axis(mt,st),vt===!1?(tt.axis(pt,!1),tt.axis(S,!1)):(tt.axis(pt,vt),tt.axis(S,vt)),et}function p(et){var tt=et.chart,ft=et.options,st=ft.legend,vt=ft.total,mt=ft.risingFill,pt=ft.fallingFill;if(st===!1)tt.legend(!1);else{var rt=[{name:"\u589E\u52A0",value:"increase",marker:{symbol:"square",style:{r:5,fill:mt}}},{name:"\u51CF\u5C11",value:"decrease",marker:{symbol:"square",style:{r:5,fill:pt}}}];vt&&rt.push({name:vt.label||"",value:"total",marker:{symbol:"square",style:Object(d.b)({},{r:5},Object(M.get)(vt,"style"))}}),tt.legend(Object(d.b)({},{custom:!0,position:"top",items:rt},st)),tt.removeInteraction("legend-filter")}return et}function x(et){var tt=et.chart,ft=et.options,st=ft.label,vt=ft.labelMode,mt=ft.xField,pt=Object(d.c)(tt,"interval");if(!st)pt.label(!1);else{var rt=st.callback,Bt=Object(lt.c)(st,["callback"]);pt.label({fields:vt==="absolute"?[h,mt]:[b,mt],callback:rt,cfg:Object(d.p)(Bt)})}return et}function A(et){var tt=et.chart,ft=et.options,st=ft.tooltip,vt=ft.xField,mt=ft.yField;if(st!==!1){tt.tooltip(Object(lt.a)({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[mt]},st));var pt=tt.geometries[0];(st==null?void 0:st.formatter)?pt.tooltip(vt+"*"+mt,st.formatter):pt.tooltip(mt)}else tt.tooltip(!1);return et}function k(et){return Object(d.e)(C,O,j,p,A,x,t.i,t.j,t.c,t.a,Object(t.b)())(et)}var X=function(et){Object(lt.b)(tt,et);function tt(){var ft=et!==null&&et.apply(this,arguments)||this;return ft.type="waterfall",ft}return tt.prototype.changeData=function(ft){var st=this.options,vt=st.xField,mt=st.yField,pt=st.total;this.updateOption({data:ft}),this.chart.changeData(o(ft,vt,mt,pt))},tt.prototype.getSchemaAdaptor=function(){return k},tt.prototype.getDefaultOptions=function(){return{label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{label:"\u603B\u8BA1",style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}}},tt}(a.a)},FPPI:function(wr,Vt,z){"use strict";Vt.a=function(lt,a,M,t,n){for(var d=lt.children,S,b=-1,h=d.length,E=lt.value&&(t-a)/lt.value;++b<h;)S=d[b],S.y0=M,S.y1=n,S.x0=a,S.x1=a+=S.value*E}},FRQA:function(wr,Vt,z){"use strict";var lt=z("GNNt"),a=z("wEI+"),M=z("DnfT"),t=z.n(M),n=z("q1tI"),d=z.n(n),S=z("TSYQ"),b=z.n(S),h=z("jYQm"),E=function(o){var s=Object(n.useContext)(h.a),u=o.children,v=o.contentWidth,C=o.className,O=o.style,j=Object(n.useContext)(a.b.ConfigContext),p=j.getPrefixCls,x=o.prefixCls||p("pro"),A=v||s.contentWidth,k="".concat(x,"-grid-content");return d.a.createElement("div",{className:b()(k,C,{wide:A==="Fixed"}),style:O},d.a.createElement("div",{className:"".concat(x,"-grid-content-children")},u))};Vt.a=E},FxDU:function(wr,Vt,z){"use strict";Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.createSensor=void 0;var lt=z("QO+J"),a=z("j5sG"),M=typeof ResizeObserver!="undefined"?a.createSensor:lt.createSensor;Vt.createSensor=M},I4jL:function(wr,Vt,z){"use strict";z.d(Vt,"b",function(){return M}),z.d(Vt,"c",function(){return t});var lt=z("FPPI"),a=z("7IPS"),M=(1+Math.sqrt(5))/2;function t(n,d,S,b,h,E){for(var T=[],o=d.children,s,u,v=0,C=0,O=o.length,j,p,x=d.value,A,k,X,et,tt,ft,st;v<O;){j=h-S,p=E-b;do A=o[C++].value;while(!A&&C<O);for(k=X=A,ft=Math.max(p/j,j/p)/(x*n),st=A*A*ft,tt=Math.max(X/st,st/k);C<O;++C){if(A+=u=o[C].value,u<k&&(k=u),u>X&&(X=u),st=A*A*ft,et=Math.max(X/st,st/k),et>tt){A-=u;break}tt=et}T.push(s={value:A,dice:j<p,children:o.slice(v,C)}),s.dice?Object(lt.a)(s,S,b,h,x?b+=p*A/x:E):Object(a.a)(s,S,b,x?S+=j*A/x:h,E),x-=A,v=C}return T}Vt.a=function n(d){function S(b,h,E,T,o){t(d,b,h,E,T,o)}return S.ratio=function(b){return n((b=+b)>1?b:1)},S}(M)},I7nc:function(wr,Vt,z){"use strict";z.d(Vt,"b",function(){return M}),z.d(Vt,"a",function(){return t});var lt=z("iTfj"),a="Invalid field: it must be a string!";function M(n,d){var S=n.field,b=n.fields;if(Object(lt.isString)(S))return S;if(Object(lt.isArray)(S))return console.warn(a),S[0];if(console.warn(a+" will try to get fields instead."),Object(lt.isString)(b))return b;if(Object(lt.isArray)(b)&&b.length)return b[0];if(d)return d;throw new TypeError(a)}function t(n){var d=[];return n&&n.each?n.each(function(S){d.push(S)}):n&&n.eachNode&&n.eachNode(function(S){d.push(S)}),d}},IeU1:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return lt}),z.d(Vt,"b",function(){return a});function lt(M){return M==null?null:a(M)}function a(M){if(typeof M!="function")throw new Error;return M}},IvmH:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return lt}),z.d(Vt,"b",function(){return a});var lt={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},a={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},M=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},IzEo:function(wr,Vt,z){"use strict";var lt=z("cIOH"),a=z.n(lt),M=z("lnY3"),t=z.n(M),n=z("Znn+"),d=z("14J3"),S=z("jCWc")},KMYG:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return n});var lt=z("mrSG"),a=z("5HRO"),M=z("YuPD"),t=z("WOQw");function n(d){var S=d.options,b=S.polygon,h=S.xField,E=S.yField,T=S.seriesField,o=S.tooltip,s=Object(a.a)(o,[h,E,T]),u=s.fields,v=s.formatter;return b?Object(t.a)(Object(M.b)({},d,{options:{type:"polygon",colorField:T,tooltipFields:u,mapping:Object(lt.a)({tooltip:v},b)}})):d}},KavR:function(wr,Vt,z){"use strict";var lt=z("AA7f"),a=z("iTfj"),M=z("0Xep"),t=z("Qci9");function n(S,b){return(b-S)*Math.random()+S}var d=function(S){Object(lt.b)(b,S);function b(){return S!==null&&S.apply(this,arguments)||this}return b.prototype.process=function(h){var E=a.clone(h),T=a.flatten(E);return this.adjustData(E,T),E},b.prototype.adjustDim=function(h,E,T){var o=this,s=this.groupData(T,h);return a.each(s,function(u,v){return o.adjustGroup(u,h,parseFloat(v),E)})},b.prototype.getAdjustOffset=function(h){var E=h.pre,T=h.next,o=(T-E)*M.c;return n(E+o,T-o)},b.prototype.adjustGroup=function(h,E,T,o){var s=this,u=this.getAdjustRange(E,T,o);return a.each(h,function(v){v[E]=s.getAdjustOffset(u)}),h},b}(t.a);Vt.a=d},L16w:function(wr,Vt,z){"use strict";Vt.a={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},LmB6:function(wr,Vt,z){"use strict";var lt=z("mrSG"),a=z("f6Jy"),M=z("sstZ"),t=function(n){Object(lt.b)(d,n);function d(S){var b=n.call(this)||this;b.destroyed=!1;var h=b.getDefaultCfg();return b.cfg=Object(M.i)(h,S),b}return d.prototype.getDefaultCfg=function(){return{}},d.prototype.get=function(S){return this.cfg[S]},d.prototype.set=function(S,b){this.cfg[S]=b},d.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},d}(a.a);Vt.a=t},LvDl:function(wr,Vt,z){(function(lt,a){var M;/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(){var t,n="4.17.20",d=200,S="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",b="Expected a function",h="__lodash_hash_undefined__",E=500,T="__lodash_placeholder__",o=1,s=2,u=4,v=1,C=2,O=1,j=2,p=4,x=8,A=16,k=32,X=64,et=128,tt=256,ft=512,st=30,vt="...",mt=800,pt=16,rt=1,Bt=2,It=3,St=1/0,H=9007199254740991,ot=17976931348623157e292,yt=0/0,xt=4294967295,wt=xt-1,Q=xt>>>1,ct=[["ary",et],["bind",O],["bindKey",j],["curry",x],["curryRight",A],["flip",ft],["partial",k],["partialRight",X],["rearg",tt]],it="[object Arguments]",U="[object Array]",D="[object AsyncFunction]",W="[object Boolean]",P="[object Date]",m="[object DOMException]",y="[object Error]",V="[object Function]",J="[object GeneratorFunction]",ht="[object Map]",gt="[object Number]",Mt="[object Null]",Lt="[object Object]",At="[object Promise]",Ct="[object Proxy]",Ot="[object RegExp]",Dt="[object Set]",Ft="[object String]",Xt="[object Symbol]",Rt="[object Undefined]",Kt="[object WeakMap]",$t="[object WeakSet]",le="[object ArrayBuffer]",Me="[object DataView]",on="[object Float32Array]",hn="[object Float64Array]",Cn="[object Int8Array]",He="[object Int16Array]",mn="[object Int32Array]",dn="[object Uint8Array]",Un="[object Uint8ClampedArray]",Xn="[object Uint16Array]",Hn="[object Uint32Array]",_n=/\b__p \+= '';/g,$n=/\b(__p \+=) '' \+/g,ir=/(__e\(.*?\)|\b__t\)) \+\n'';/g,dr=/&(?:amp|lt|gt|quot|#39);/g,xr=/[&<>"']/g,Qr=RegExp(dr.source),Mr=RegExp(xr.source),Er=/<%-([\s\S]+?)%>/g,Dr=/<%([\s\S]+?)%>/g,hi=/<%=([\s\S]+?)%>/g,Wi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oa=/^\w*$/,Za=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ao=/[\\^$.*+?()[\]{}|]/g,Ji=RegExp(ao.source),Ya=/^\s+|\s+$/g,Ca=/^\s+/,La=/\s+$/,Ba=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,oo=/\{\n\/\* \[wrapped with (.+)\] \*/,Yr=/,? & /,$a=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ma=/\\(\\)?/g,to=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Aa=/\w*$/,Vr=/^[-+]0x[0-9a-f]+$/i,Pi=/^0b[01]+$/i,wi=/^\[object .+?Constructor\]$/,Ei=/^0o[0-7]+$/i,bi=/^(?:0|[1-9]\d*)$/,Di=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Fi=/($^)/,Ni=/['\n\r\u2028\u2029\\]/g,ji="\\ud800-\\udfff",Xi="\\u0300-\\u036f",Ki="\\ufe20-\\ufe2f",la="\\u20d0-\\u20ff",ta=Xi+Ki+la,ma="\\u2700-\\u27bf",Oa="a-z\\xdf-\\xf6\\xf8-\\xff",uo="\\xac\\xb1\\xd7\\xf7",sa="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Xa="\\u2000-\\u206f",po=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bo="A-Z\\xc0-\\xd6\\xd8-\\xde",Mo="\\ufe0e\\ufe0f",Po=uo+sa+Xa+po,ue="['\u2019]",Qt="["+ji+"]",ne="["+Po+"]",Ce="["+ta+"]",en="\\d+",kn="["+ma+"]",sr="["+Oa+"]",pr="[^"+ji+Po+en+ma+Oa+bo+"]",ln="\\ud83c[\\udffb-\\udfff]",vn="(?:"+Ce+"|"+ln+")",xn="[^"+ji+"]",Or="(?:\\ud83c[\\udde6-\\uddff]){2}",Br="[\\ud800-\\udbff][\\udc00-\\udfff]",Pr="["+bo+"]",kr="\\u200d",mi="(?:"+sr+"|"+pr+")",$r="(?:"+Pr+"|"+pr+")",Xr="(?:"+ue+"(?:d|ll|m|re|s|t|ve))?",Nr="(?:"+ue+"(?:D|LL|M|RE|S|T|VE))?",Hr=vn+"?",oi="["+Mo+"]?",yi="(?:"+kr+"(?:"+[xn,Or,Br].join("|")+")"+oi+Hr+")*",si="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ti="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",zi=oi+Hr+yi,qi="(?:"+[kn,Or,Br].join("|")+")"+zi,Sa="(?:"+[xn+Ce+"?",Ce,Or,Br,Qt].join("|")+")",ea=RegExp(ue,"g"),Fa=RegExp(Ce,"g"),Ua=RegExp(ln+"(?="+ln+")|"+Sa+zi,"g"),Na=RegExp([Pr+"?"+sr+"+"+Xr+"(?="+[ne,Pr,"$"].join("|")+")",$r+"+"+Nr+"(?="+[ne,Pr+mi,"$"].join("|")+")",Pr+"?"+mi+"+"+Xr,Pr+"+"+Nr,ti,si,en,qi].join("|"),"g"),va=RegExp("["+kr+ji+ta+Mo+"]"),ge=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,F=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_=-1,$={};$[on]=$[hn]=$[Cn]=$[He]=$[mn]=$[dn]=$[Un]=$[Xn]=$[Hn]=!0,$[it]=$[U]=$[le]=$[W]=$[Me]=$[P]=$[y]=$[V]=$[ht]=$[gt]=$[Lt]=$[Ot]=$[Dt]=$[Ft]=$[Kt]=!1;var dt={};dt[it]=dt[U]=dt[le]=dt[Me]=dt[W]=dt[P]=dt[on]=dt[hn]=dt[Cn]=dt[He]=dt[mn]=dt[ht]=dt[gt]=dt[Lt]=dt[Ot]=dt[Dt]=dt[Ft]=dt[Xt]=dt[dn]=dt[Un]=dt[Xn]=dt[Hn]=!0,dt[y]=dt[V]=dt[Kt]=!1;var Gt={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Jt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ce={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},fe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},De=parseFloat,We=parseInt,sn=typeof lt=="object"&&lt&&lt.Object===Object&&lt,Dn=typeof self=="object"&&self&&self.Object===Object&&self,Yt=sn||Dn||Function("return this")(),Zt=Vt&&!Vt.nodeType&&Vt,Ae=Zt&&typeof a=="object"&&a&&!a.nodeType&&a,Ht=Ae&&Ae.exports===Zt,he=Ht&&sn.process,En=function(){try{var Cr=Ae&&Ae.require&&Ae.require("util").types;return Cr||he&&he.binding&&he.binding("util")}catch(gr){}}(),Qn=En&&En.isArrayBuffer,fr=En&&En.isDate,ar=En&&En.isMap,an=En&&En.isRegExp,Re=En&&En.isSet,L=En&&En.isTypedArray;function bt(Cr,gr,zr){switch(zr.length){case 0:return Cr.call(gr);case 1:return Cr.call(gr,zr[0]);case 2:return Cr.call(gr,zr[0],zr[1]);case 3:return Cr.call(gr,zr[0],zr[1],zr[2])}return Cr.apply(gr,zr)}function ie(Cr,gr,zr,qr){for(var Ka=-1,so=Cr==null?0:Cr.length;++Ka<so;){var xo=Cr[Ka];gr(qr,xo,zr(xo),Cr)}return qr}function Ee(Cr,gr){for(var zr=-1,qr=Cr==null?0:Cr.length;++zr<qr&&gr(Cr[zr],zr,Cr)!==!1;);return Cr}function te(Cr,gr){for(var zr=Cr==null?0:Cr.length;zr--&&gr(Cr[zr],zr,Cr)!==!1;);return Cr}function pe(Cr,gr){for(var zr=-1,qr=Cr==null?0:Cr.length;++zr<qr;)if(!gr(Cr[zr],zr,Cr))return!1;return!0}function ve(Cr,gr){for(var zr=-1,qr=Cr==null?0:Cr.length,Ka=0,so=[];++zr<qr;){var xo=Cr[zr];gr(xo,zr,Cr)&&(so[Ka++]=xo)}return so}function de(Cr,gr){var zr=Cr==null?0:Cr.length;return!!zr&&lr(Cr,gr,0)>-1}function Pe(Cr,gr,zr){for(var qr=-1,Ka=Cr==null?0:Cr.length;++qr<Ka;)if(zr(gr,Cr[qr]))return!0;return!1}function ze(Cr,gr){for(var zr=-1,qr=Cr==null?0:Cr.length,Ka=Array(qr);++zr<qr;)Ka[zr]=gr(Cr[zr],zr,Cr);return Ka}function Je(Cr,gr){for(var zr=-1,qr=gr.length,Ka=Cr.length;++zr<qr;)Cr[Ka+zr]=gr[zr];return Cr}function Ve(Cr,gr,zr,qr){var Ka=-1,so=Cr==null?0:Cr.length;for(qr&&so&&(zr=Cr[++Ka]);++Ka<so;)zr=gr(zr,Cr[Ka],Ka,Cr);return zr}function cn(Cr,gr,zr,qr){var Ka=Cr==null?0:Cr.length;for(qr&&Ka&&(zr=Cr[--Ka]);Ka--;)zr=gr(zr,Cr[Ka],Ka,Cr);return zr}function Be(Cr,gr){for(var zr=-1,qr=Cr==null?0:Cr.length;++zr<qr;)if(gr(Cr[zr],zr,Cr))return!0;return!1}var Mn=Se("length");function On(Cr){return Cr.split("")}function pn(Cr){return Cr.match($a)||[]}function Sn(Cr,gr,zr){var qr;return zr(Cr,function(Ka,so,xo){if(gr(Ka,so,xo))return qr=so,!1}),qr}function Rn(Cr,gr,zr,qr){for(var Ka=Cr.length,so=zr+(qr?1:-1);qr?so--:++so<Ka;)if(gr(Cr[so],so,Cr))return so;return-1}function lr(Cr,gr,zr){return gr===gr?hs(Cr,gr,zr):Rn(Cr,tr,zr)}function Fn(Cr,gr,zr,qr){for(var Ka=zr-1,so=Cr.length;++Ka<so;)if(qr(Cr[Ka],gr))return Ka;return-1}function tr(Cr){return Cr!==Cr}function me(Cr,gr){var zr=Cr==null?0:Cr.length;return zr?un(Cr,gr)/zr:yt}function Se(Cr){return function(gr){return gr==null?t:gr[Cr]}}function ke(Cr){return function(gr){return Cr==null?t:Cr[gr]}}function we(Cr,gr,zr,qr,Ka){return Ka(Cr,function(so,xo,co){zr=qr?(qr=!1,so):gr(zr,so,xo,co)}),zr}function Ye(Cr,gr){var zr=Cr.length;for(Cr.sort(gr);zr--;)Cr[zr]=Cr[zr].value;return Cr}function un(Cr,gr){for(var zr,qr=-1,Ka=Cr.length;++qr<Ka;){var so=gr(Cr[qr]);so!==t&&(zr=zr===t?so:zr+so)}return zr}function zn(Cr,gr){for(var zr=-1,qr=Array(Cr);++zr<Cr;)qr[zr]=gr(zr);return qr}function Nn(Cr,gr){return ze(gr,function(zr){return[zr,Cr[zr]]})}function or(Cr){return function(gr){return Cr(gr)}}function Rr(Cr,gr){return ze(gr,function(zr){return Cr[zr]})}function xi(Cr,gr){return Cr.has(gr)}function pi(Cr,gr){for(var zr=-1,qr=Cr.length;++zr<qr&&lr(gr,Cr[zr],0)>-1;);return zr}function Kr(Cr,gr){for(var zr=Cr.length;zr--&&lr(gr,Cr[zr],0)>-1;);return zr}function Ii(Cr,gr){for(var zr=Cr.length,qr=0;zr--;)Cr[zr]===gr&&++qr;return qr}var Gi=ke(Gt),Si=ke(Jt);function aa(Cr){return"\\"+fe[Cr]}function Xo(Cr,gr){return Cr==null?t:Cr[gr]}function Wa(Cr){return va.test(Cr)}function Zo(Cr){return ge.test(Cr)}function tu(Cr){for(var gr,zr=[];!(gr=Cr.next()).done;)zr.push(gr.value);return zr}function Ho(Cr){var gr=-1,zr=Array(Cr.size);return Cr.forEach(function(qr,Ka){zr[++gr]=[Ka,qr]}),zr}function Ta(Cr,gr){return function(zr){return Cr(gr(zr))}}function Ha(Cr,gr){for(var zr=-1,qr=Cr.length,Ka=0,so=[];++zr<qr;){var xo=Cr[zr];(xo===gr||xo===T)&&(Cr[zr]=T,so[Ka++]=zr)}return so}function So(Cr){var gr=-1,zr=Array(Cr.size);return Cr.forEach(function(qr){zr[++gr]=qr}),zr}function ss(Cr){var gr=-1,zr=Array(Cr.size);return Cr.forEach(function(qr){zr[++gr]=[qr,qr]}),zr}function hs(Cr,gr,zr){for(var qr=zr-1,Ka=Cr.length;++qr<Ka;)if(Cr[qr]===gr)return qr;return-1}function us(Cr,gr,zr){for(var qr=zr+1;qr--;)if(Cr[qr]===gr)return qr;return qr}function Rs(Cr){return Wa(Cr)?ua(Cr):Mn(Cr)}function Hi(Cr){return Wa(Cr)?Cu(Cr):On(Cr)}var yc=ke(ce);function ua(Cr){for(var gr=Ua.lastIndex=0;Ua.test(Cr);)++gr;return gr}function Cu(Cr){return Cr.match(Ua)||[]}function ja(Cr){return Cr.match(Na)||[]}var zu=function Cr(gr){gr=gr==null?Yt:fa.defaults(Yt.Object(),gr,fa.pick(Yt,F));var zr=gr.Array,qr=gr.Date,Ka=gr.Error,so=gr.Function,xo=gr.Math,co=gr.Object,hu=gr.RegExp,Wu=gr.String,ui=gr.TypeError,Jr=zr.prototype,Gs=so.prototype,Mu=co.prototype,Au=gr["__core-js_shared__"],eu=Gs.toString,lo=Mu.hasOwnProperty,tc=0,ds=function(){var I=/[^.]+$/.exec(Au&&Au.keys&&Au.keys.IE_PROTO||"");return I?"Symbol(src)_1."+I:""}(),Us=Mu.toString,Uo=eu.call(co),bc=Yt._,nu=hu("^"+eu.call(lo).replace(ao,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gs=Ht?gr.Buffer:t,ks=gr.Symbol,ru=gr.Uint8Array,xe=gs?gs.allocUnsafe:t,rn=Ta(co.getPrototypeOf,co),bn=co.create,Ge=Mu.propertyIsEnumerable,Fe=Jr.splice,wn=ks?ks.isConcatSpreadable:t,Ln=ks?ks.iterator:t,Ze=ks?ks.toStringTag:t,Vn=function(){try{var I=uu(co,"defineProperty");return I({},"",{}),I}catch(nt){}}(),Zn=gr.clearTimeout!==Yt.clearTimeout&&gr.clearTimeout,hr=qr&&qr.now!==Yt.Date.now&&qr.now,rr=gr.setTimeout!==Yt.setTimeout&&gr.setTimeout,Ir=xo.ceil,yn=xo.floor,oe=co.getOwnPropertySymbols,Oi=gs?gs.isBuffer:t,ei=gr.isFinite,Zr=Jr.join,di=Ta(co.keys,co),ri=xo.max,_i=xo.min,na=qr.now,pa=gr.parseInt,Pn=xo.random,Ui=Jr.reverse,za=uu(gr,"DataView"),Ci=uu(gr,"Map"),Qi=uu(gr,"Promise"),Pa=uu(gr,"Set"),Ri=uu(gr,"WeakMap"),Vi=uu(co,"create"),Zi=Ri&&new Ri,eo={},Nt=dc(za),f=dc(Ci),c=dc(Qi),R=dc(Pa),Y=dc(Ri),ut=ks?ks.prototype:t,jt=ut?ut.valueOf:t,Ut=ut?ut.toString:t;function Et(I){if(K(I)&&!ye(I)&&!(I instanceof Ie)){if(I instanceof je)return I;if(lo.call(I,"__wrapped__"))return Lf(I)}return new je(I)}var qt=function(){function I(){}return function(nt){if(!ka(nt))return{};if(bn)return bn(nt);I.prototype=nt;var Wt=new I;return I.prototype=t,Wt}}();function se(){}function je(I,nt){this.__wrapped__=I,this.__actions__=[],this.__chain__=!!nt,this.__index__=0,this.__values__=t}Et.templateSettings={escape:Er,evaluate:Dr,interpolate:hi,variable:"",imports:{_:Et}},Et.prototype=se.prototype,Et.prototype.constructor=Et,je.prototype=qt(se.prototype),je.prototype.constructor=je;function Ie(I){this.__wrapped__=I,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=xt,this.__views__=[]}function Ue(){var I=new Ie(this.__wrapped__);return I.__actions__=os(this.__actions__),I.__dir__=this.__dir__,I.__filtered__=this.__filtered__,I.__iteratees__=os(this.__iteratees__),I.__takeCount__=this.__takeCount__,I.__views__=os(this.__views__),I}function Ke(){if(this.__filtered__){var I=new Ie(this);I.__dir__=-1,I.__filtered__=!0}else I=this.clone(),I.__dir__*=-1;return I}function An(){var I=this.__wrapped__.value(),nt=this.__dir__,Wt=ye(I),be=nt<0,qe=Wt?I.length:0,In=rl(0,qe,this.__views__),qn=In.start,vr=In.end,jr=vr-qn,fi=be?vr:qn-1,vi=this.__iteratees__,Ti=vi.length,$i=0,Ea=_i(jr,this.__takeCount__);if(!Wt||!be&&qe==jr&&Ea==jr)return xf(I,this.__actions__);var io=[];t:for(;jr--&&$i<Ea;){fi+=nt;for(var Eo=-1,ro=I[fi];++Eo<Ti;){var To=vi[Eo],Ro=To.iteratee,Gu=To.type,fu=Ro(ro);if(Gu==Bt)ro=fu;else if(!fu){if(Gu==rt)continue t;break t}}io[$i++]=ro}return io}Ie.prototype=qt(se.prototype),Ie.prototype.constructor=Ie;function Bn(I){var nt=-1,Wt=I==null?0:I.length;for(this.clear();++nt<Wt;){var be=I[nt];this.set(be[0],be[1])}}function Wn(){this.__data__=Vi?Vi(null):{},this.size=0}function Yn(I){var nt=this.has(I)&&delete this.__data__[I];return this.size-=nt?1:0,nt}function Jn(I){var nt=this.__data__;if(Vi){var Wt=nt[I];return Wt===h?t:Wt}return lo.call(nt,I)?nt[I]:t}function Ar(I){var nt=this.__data__;return Vi?nt[I]!==t:lo.call(nt,I)}function ur(I,nt){var Wt=this.__data__;return this.size+=this.has(I)?0:1,Wt[I]=Vi&&nt===t?h:nt,this}Bn.prototype.clear=Wn,Bn.prototype.delete=Yn,Bn.prototype.get=Jn,Bn.prototype.has=Ar,Bn.prototype.set=ur;function mr(I){var nt=-1,Wt=I==null?0:I.length;for(this.clear();++nt<Wt;){var be=I[nt];this.set(be[0],be[1])}}function ii(){this.__data__=[],this.size=0}function Li(I){var nt=this.__data__,Wt=xs(nt,I);if(Wt<0)return!1;var be=nt.length-1;return Wt==be?nt.pop():Fe.call(nt,Wt,1),--this.size,!0}function ci(I){var nt=this.__data__,Wt=xs(nt,I);return Wt<0?t:nt[Wt][1]}function Yi(I){return xs(this.__data__,I)>-1}function qa(I,nt){var Wt=this.__data__,be=xs(Wt,I);return be<0?(++this.size,Wt.push([I,nt])):Wt[be][1]=nt,this}mr.prototype.clear=ii,mr.prototype.delete=Li,mr.prototype.get=ci,mr.prototype.has=Yi,mr.prototype.set=qa;function wa(I){var nt=-1,Wt=I==null?0:I.length;for(this.clear();++nt<Wt;){var be=I[nt];this.set(be[0],be[1])}}function fo(){this.size=0,this.__data__={hash:new Bn,map:new(Ci||mr),string:new Bn}}function ga(I){var nt=nl(this,I).delete(I);return this.size-=nt?1:0,nt}function Ia(I){return nl(this,I).get(I)}function ko(I){return nl(this,I).has(I)}function No(I,nt){var Wt=nl(this,I),be=Wt.size;return Wt.set(I,nt),this.size+=Wt.size==be?0:1,this}wa.prototype.clear=fo,wa.prototype.delete=ga,wa.prototype.get=Ia,wa.prototype.has=ko,wa.prototype.set=No;function no(I){var nt=-1,Wt=I==null?0:I.length;for(this.__data__=new wa;++nt<Wt;)this.add(I[nt])}function Ja(I){return this.__data__.set(I,h),this}function ho(I){return this.__data__.has(I)}no.prototype.add=no.prototype.push=Ja,no.prototype.has=ho;function Qa(I){var nt=this.__data__=new mr(I);this.size=nt.size}function jo(){this.__data__=new mr,this.size=0}function Lo(I){var nt=this.__data__,Wt=nt.delete(I);return this.size=nt.size,Wt}function es(I){return this.__data__.get(I)}function Bo(I){return this.__data__.has(I)}function Yo(I,nt){var Wt=this.__data__;if(Wt instanceof mr){var be=Wt.__data__;if(!Ci||be.length<d-1)return be.push([I,nt]),this.size=++Wt.size,this;Wt=this.__data__=new wa(be)}return Wt.set(I,nt),this.size=Wt.size,this}Qa.prototype.clear=jo,Qa.prototype.delete=Lo,Qa.prototype.get=es,Qa.prototype.has=Bo,Qa.prototype.set=Yo;function zo(I,nt){var Wt=ye(I),be=!Wt&&Oe(I),qe=!Wt&&!be&&cr(I),In=!Wt&&!be&&!qe&&$e(I),qn=Wt||be||qe||In,vr=qn?zn(I.length,Wu):[],jr=vr.length;for(var fi in I)(nt||lo.call(I,fi))&&!(qn&&(fi=="length"||qe&&(fi=="offset"||fi=="parent")||In&&(fi=="buffer"||fi=="byteLength"||fi=="byteOffset")||bu(fi,jr)))&&vr.push(fi);return vr}function Ko(I){var nt=I.length;return nt?I[jl(0,nt-1)]:t}function xa(I,nt){return ol(os(I),rs(nt,0,I.length))}function Cs(I){return ol(os(I))}function Ms(I,nt,Wt){(Wt!==t&&!Tt(I[nt],Wt)||Wt===t&&!(nt in I))&&$o(I,nt,Wt)}function zs(I,nt,Wt){var be=I[nt];(!(lo.call(I,nt)&&Tt(be,Wt))||Wt===t&&!(nt in I))&&$o(I,nt,Wt)}function xs(I,nt){for(var Wt=I.length;Wt--;)if(Tt(I[Wt][0],nt))return Wt;return-1}function Ns(I,nt,Wt,be){return as(I,function(qe,In,qn){nt(be,qe,Wt(qe),qn)}),be}function is(I,nt){return I&&au(nt,Oo(nt),I)}function cs(I,nt){return I&&au(nt,ws(nt),I)}function $o(I,nt,Wt){nt=="__proto__"&&Vn?Vn(I,nt,{configurable:!0,enumerable:!0,value:Wt,writable:!0}):I[nt]=Wt}function Ks(I,nt){for(var Wt=-1,be=nt.length,qe=zr(be),In=I==null;++Wt<be;)qe[Wt]=In?t:cu(I,nt[Wt]);return qe}function rs(I,nt,Wt){return I===I&&(Wt!==t&&(I=I<=Wt?I:Wt),nt!==t&&(I=I>=nt?I:nt)),I}function Fo(I,nt,Wt,be,qe,In){var qn,vr=nt&o,jr=nt&s,fi=nt&u;if(Wt&&(qn=qe?Wt(I,be,qe,In):Wt(I)),qn!==t)return qn;if(!ka(I))return I;var vi=ye(I);if(vi){if(qn=lc(I),!vr)return os(I,qn)}else{var Ti=Qo(I),$i=Ti==V||Ti==J;if(cr(I))return wf(I,vr);if(Ti==Lt||Ti==it||$i&&!qe){if(qn=jr||$i?{}:vs(I),!vr)return jr?Hc(I,cs(qn,I)):Cf(I,is(qn,I))}else{if(!dt[Ti])return qe?I:{};qn=ps(I,Ti,vr)}}In||(In=new Qa);var Ea=In.get(I);if(Ea)return Ea;In.set(I,qn),Le(I)?I.forEach(function(ro){qn.add(Fo(ro,nt,Wt,ro,I,In))}):G(I)&&I.forEach(function(ro,To){qn.set(To,Fo(ro,nt,Wt,To,I,In))});var io=fi?jr?Nl:Ju:jr?ws:Oo,Eo=vi?t:io(I);return Ee(Eo||I,function(ro,To){Eo&&(To=ro,ro=I[To]),zs(qn,To,Fo(ro,nt,Wt,To,I,In))}),qn}function Ws(I){var nt=Oo(I);return function(Wt){return Ls(Wt,I,nt)}}function Ls(I,nt,Wt){var be=Wt.length;if(I==null)return!be;for(I=co(I);be--;){var qe=Wt[be],In=nt[qe],qn=I[qe];if(qn===t&&!(qe in I)||!In(qn))return!1}return!0}function Os(I,nt,Wt){if(typeof I!="function")throw new ui(b);return hc(function(){I.apply(t,Wt)},nt)}function Ss(I,nt,Wt,be){var qe=-1,In=de,qn=!0,vr=I.length,jr=[],fi=nt.length;if(!vr)return jr;Wt&&(nt=ze(nt,or(Wt))),be?(In=Pe,qn=!1):nt.length>=d&&(In=xi,qn=!1,nt=new no(nt));t:for(;++qe<vr;){var vi=I[qe],Ti=Wt==null?vi:Wt(vi);if(vi=be||vi!==0?vi:0,qn&&Ti===Ti){for(var $i=fi;$i--;)if(nt[$i]===Ti)continue t;jr.push(vi)}else In(nt,Ti,be)||jr.push(vi)}return jr}var as=Do(ls),iu=Do(du,!0);function Vs(I,nt){var Wt=!0;return as(I,function(be,qe,In){return Wt=!!nt(be,qe,In),Wt}),Wt}function As(I,nt,Wt){for(var be=-1,qe=I.length;++be<qe;){var In=I[be],qn=nt(In);if(qn!=null&&(vr===t?qn===qn&&!_e(qn):Wt(qn,vr)))var vr=qn,jr=In}return jr}function vo(I,nt,Wt,be){var qe=I.length;for(Wt=nr(Wt),Wt<0&&(Wt=-Wt>qe?0:qe+Wt),be=be===t||be>qe?qe:nr(be),be<0&&(be+=qe),be=Wt>be?0:yr(be);Wt<be;)I[Wt++]=nt;return I}function go(I,nt){var Wt=[];return as(I,function(be,qe,In){nt(be,qe,In)&&Wt.push(be)}),Wt}function Co(I,nt,Wt,be,qe){var In=-1,qn=I.length;for(Wt||(Wt=Bl),qe||(qe=[]);++In<qn;){var vr=I[In];nt>0&&Wt(vr)?nt>1?Co(vr,nt-1,Wt,be,qe):Je(qe,vr):be||(qe[qe.length]=vr)}return qe}var Bs=Kc(),Wo=Kc(!0);function ls(I,nt){return I&&Bs(I,nt,Oo)}function du(I,nt){return I&&Wo(I,nt,Oo)}function Tu(I,nt){return ve(nt,function(Wt){return ra(I[Wt])})}function Ts(I,nt){nt=Du(nt,I);for(var Wt=0,be=nt.length;I!=null&&Wt<be;)I=I[ys(nt[Wt++])];return Wt&&Wt==be?I:t}function ju(I,nt,Wt){var be=nt(I);return ye(I)?be:Je(be,Wt(I))}function Jo(I){return I==null?I===t?Rt:Mt:Ze&&Ze in co(I)?Ru(I):Fl(I)}function Iu(I,nt){return I>nt}function wl(I,nt){return I!=null&&lo.call(I,nt)}function _c(I,nt){return I!=null&&nt in co(I)}function El(I,nt,Wt){return I>=_i(nt,Wt)&&I<ri(nt,Wt)}function ec(I,nt,Wt){for(var be=Wt?Pe:de,qe=I[0].length,In=I.length,qn=In,vr=zr(In),jr=Infinity,fi=[];qn--;){var vi=I[qn];qn&&nt&&(vi=ze(vi,or(nt))),jr=_i(vi.length,jr),vr[qn]=!Wt&&(nt||qe>=120&&vi.length>=120)?new no(qn&&vi):t}vi=I[0];var Ti=-1,$i=vr[0];t:for(;++Ti<qe&&fi.length<jr;){var Ea=vi[Ti],io=nt?nt(Ea):Ea;if(Ea=Wt||Ea!==0?Ea:0,!($i?xi($i,io):be(fi,io,Wt))){for(qn=In;--qn;){var Eo=vr[qn];if(!(Eo?xi(Eo,io):be(I[qn],io,Wt)))continue t}$i&&$i.push(io),fi.push(Ea)}}return fi}function Gc(I,nt,Wt,be){return ls(I,function(qe,In,qn){nt(be,Wt(qe),In,qn)}),be}function js(I,nt,Wt){nt=Du(nt,I),I=il(I,nt);var be=I==null?I:I[ys(Zs(nt))];return be==null?t:bt(be,I,Wt)}function nc(I){return K(I)&&Jo(I)==it}function rc(I){return K(I)&&Jo(I)==le}function Cl(I){return K(I)&&Jo(I)==P}function Vu(I,nt,Wt,be,qe){return I===nt?!0:I==null||nt==null||!K(I)&&!K(nt)?I!==I&&nt!==nt:Uc(I,nt,Wt,be,Vu,qe)}function Uc(I,nt,Wt,be,qe,In){var qn=ye(I),vr=ye(nt),jr=qn?U:Qo(I),fi=vr?U:Qo(nt);jr=jr==it?Lt:jr,fi=fi==it?Lt:fi;var vi=jr==Lt,Ti=fi==Lt,$i=jr==fi;if($i&&cr(I)){if(!cr(nt))return!1;qn=!0,vi=!1}if($i&&!vi)return In||(In=new Qa),qn||$e(I)?wc(I,nt,Wt,be,qe,In):bh(I,nt,jr,Wt,be,qe,In);if(!(Wt&v)){var Ea=vi&&lo.call(I,"__wrapped__"),io=Ti&&lo.call(nt,"__wrapped__");if(Ea||io){var Eo=Ea?I.value():I,ro=io?nt.value():nt;return In||(In=new Qa),qe(Eo,ro,Wt,be,In)}}return $i?(In||(In=new Qa),xh(I,nt,Wt,be,qe,In)):!1}function wo(I){return K(I)&&Qo(I)==ht}function mo(I,nt,Wt,be){var qe=Wt.length,In=qe,qn=!be;if(I==null)return!In;for(I=co(I);qe--;){var vr=Wt[qe];if(qn&&vr[2]?vr[1]!==I[vr[0]]:!(vr[0]in I))return!1}for(;++qe<In;){vr=Wt[qe];var jr=vr[0],fi=I[jr],vi=vr[1];if(qn&&vr[2]){if(fi===t&&!(jr in I))return!1}else{var Ti=new Qa;if(be)var $i=be(fi,vi,jr,I,nt,Ti);if(!($i===t?Vu(vi,fi,v|C,be,Ti):$i))return!1}}return!0}function qo(I){if(!ka(I)||jd(I))return!1;var nt=ra(I)?nu:wi;return nt.test(dc(I))}function Fs(I){return K(I)&&Jo(I)==Ot}function Ml(I){return K(I)&&Qo(I)==Dt}function _s(I){return K(I)&&_a(I.length)&&!!$[Jo(I)]}function xc(I){return typeof I=="function"?I:I==null?Eu:typeof I=="object"?ye(I)?hf(I[0],I[1]):ff(I):pv(I)}function Yu(I){if(!fc(I))return di(I);var nt=[];for(var Wt in co(I))lo.call(I,Wt)&&Wt!="constructor"&&nt.push(Wt);return nt}function Al(I){if(!ka(I))return Id(I);var nt=fc(I),Wt=[];for(var be in I)be=="constructor"&&(nt||!lo.call(I,be))||Wt.push(be);return Wt}function ic(I,nt){return I<nt}function ah(I,nt){var Wt=-1,be=Qe(I)?zr(I.length):[];return as(I,function(qe,In,qn){be[++Wt]=nt(qe,In,qn)}),be}function ff(I){var nt=su(I);return nt.length==1&&nt[0][2]?wh(nt[0][0],nt[0][1]):function(Wt){return Wt===I||mo(Wt,I,nt)}}function hf(I,nt){return Df(I)&&Sh(nt)?wh(ys(I),nt):function(Wt){var be=cu(Wt,I);return be===t&&be===nt?Su(Wt,I):Vu(nt,be,v|C)}}function Tl(I,nt,Wt,be,qe){I!==nt&&Bs(nt,function(In,qn){if(qe||(qe=new Qa),ka(In))Cd(I,nt,qn,Wt,Tl,be,qe);else{var vr=be?be(ku(I,qn),In,qn+"",I,nt,qe):t;vr===t&&(vr=In),Ms(I,qn,vr)}},ws)}function Cd(I,nt,Wt,be,qe,In,qn){var vr=ku(I,Wt),jr=ku(nt,Wt),fi=qn.get(jr);if(fi){Ms(I,Wt,fi);return}var vi=In?In(vr,jr,Wt+"",I,nt,qn):t,Ti=vi===t;if(Ti){var $i=ye(jr),Ea=!$i&&cr(jr),io=!$i&&!Ea&&$e(jr);vi=jr,$i||Ea||io?ye(vr)?vi=vr:gn(vr)?vi=os(vr):Ea?(Ti=!1,vi=wf(jr,!0)):io?(Ti=!1,vi=Ef(jr,!0)):vi=[]:ee(jr)||Oe(jr)?(vi=vr,Oe(vr)?vi=_r(vr):(!ka(vr)||ra(vr))&&(vi=vs(jr))):Ti=!1}Ti&&(qn.set(jr,vi),qe(vi,jr,be,In,qn),qn.delete(jr)),Ms(I,Wt,vi)}function zc(I,nt){var Wt=I.length;if(!!Wt)return nt+=nt<0?Wt:0,bu(nt,Wt)?I[nt]:t}function Wc(I,nt,Wt){nt.length?nt=ze(nt,function(In){return ye(In)?function(qn){return Ts(qn,In.length===1?In[0]:In)}:In}):nt=[Eu];var be=-1;nt=ze(nt,or(Da()));var qe=ah(I,function(In,qn,vr){var jr=ze(nt,function(fi){return fi(In)});return{criteria:jr,index:++be,value:In}});return Ye(qe,function(In,qn){return Xc(In,qn,Wt)})}function oh(I,nt){return df(I,nt,function(Wt,be){return Su(I,be)})}function df(I,nt,Wt){for(var be=-1,qe=nt.length,In={};++be<qe;){var qn=nt[be],vr=Ts(I,qn);Wt(vr,qn)&&Oc(In,Du(qn,I),vr)}return In}function sh(I){return function(nt){return Ts(nt,I)}}function vu(I,nt,Wt,be){var qe=be?Fn:lr,In=-1,qn=nt.length,vr=I;for(I===nt&&(nt=os(nt)),Wt&&(vr=ze(I,or(Wt)));++In<qn;)for(var jr=0,fi=nt[In],vi=Wt?Wt(fi):fi;(jr=qe(vr,vi,jr,be))>-1;)vr!==I&&Fe.call(vr,jr,1),Fe.call(I,jr,1);return I}function vf(I,nt){for(var Wt=I?nt.length:0,be=Wt-1;Wt--;){var qe=nt[Wt];if(Wt==be||qe!==In){var In=qe;bu(qe)?Fe.call(I,qe,1):Dl(I,qe)}}return I}function jl(I,nt){return I+yn(Pn()*(nt-I+1))}function uh(I,nt,Wt,be){for(var qe=-1,In=ri(Ir((nt-I)/(Wt||1)),0),qn=zr(In);In--;)qn[be?In:++qe]=I,I+=Wt;return qn}function pf(I,nt){var Wt="";if(!I||nt<1||nt>H)return Wt;do nt%2&&(Wt+=I),nt=yn(nt/2),nt&&(I+=I);while(nt);return Wt}function yo(I,nt){return _l(Cc(I,nt,Eu),I+"")}function Md(I){return Ko(Es(I))}function ch(I,nt){var Wt=Es(I);return ol(Wt,rs(nt,0,Wt.length))}function Oc(I,nt,Wt,be){if(!ka(I))return I;nt=Du(nt,I);for(var qe=-1,In=nt.length,qn=In-1,vr=I;vr!=null&&++qe<In;){var jr=ys(nt[qe]),fi=Wt;if(jr==="__proto__"||jr==="constructor"||jr==="prototype")return I;if(qe!=qn){var vi=vr[jr];fi=be?be(vi,jr,vr):t,fi===t&&(fi=ka(vi)?vi:bu(nt[qe+1])?[]:{})}zs(vr,jr,fi),vr=vr[jr]}return I}var Il=Zi?function(I,nt){return Zi.set(I,nt),I}:Eu,gf=Vn?function(I,nt){return Vn(I,"toString",{configurable:!0,enumerable:!1,value:cv(nt),writable:!0})}:Eu;function mf(I){return ol(Es(I))}function Ys(I,nt,Wt){var be=-1,qe=I.length;nt<0&&(nt=-nt>qe?0:qe+nt),Wt=Wt>qe?qe:Wt,Wt<0&&(Wt+=qe),qe=nt>Wt?0:Wt-nt>>>0,nt>>>=0;for(var In=zr(qe);++be<qe;)In[be]=I[be+nt];return In}function yf(I,nt){var Wt;return as(I,function(be,qe,In){return Wt=nt(be,qe,In),!Wt}),!!Wt}function Pl(I,nt,Wt){var be=0,qe=I==null?be:I.length;if(typeof nt=="number"&&nt===nt&&qe<=Q){for(;be<qe;){var In=be+qe>>>1,qn=I[In];qn!==null&&!_e(qn)&&(Wt?qn<=nt:qn<nt)?be=In+1:qe=In}return qe}return bf(I,nt,Eu,Wt)}function bf(I,nt,Wt,be){var qe=0,In=I==null?0:I.length;if(In===0)return 0;nt=Wt(nt);for(var qn=nt!==nt,vr=nt===null,jr=_e(nt),fi=nt===t;qe<In;){var vi=yn((qe+In)/2),Ti=Wt(I[vi]),$i=Ti!==t,Ea=Ti===null,io=Ti===Ti,Eo=_e(Ti);if(qn)var ro=be||io;else fi?ro=io&&(be||$i):vr?ro=io&&$i&&(be||!Ea):jr?ro=io&&$i&&!Ea&&(be||!Eo):Ea||Eo?ro=!1:ro=be?Ti<=nt:Ti<nt;ro?qe=vi+1:In=vi}return _i(In,wt)}function lh(I,nt){for(var Wt=-1,be=I.length,qe=0,In=[];++Wt<be;){var qn=I[Wt],vr=nt?nt(qn):qn;if(!Wt||!Tt(vr,jr)){var jr=vr;In[qe++]=qn===0?0:qn}}return In}function fh(I){return typeof I=="number"?I:_e(I)?yt:+I}function ms(I){if(typeof I=="string")return I;if(ye(I))return ze(I,ms)+"";if(_e(I))return Ut?Ut.call(I):"";var nt=I+"";return nt=="0"&&1/I==-St?"-0":nt}function Pu(I,nt,Wt){var be=-1,qe=de,In=I.length,qn=!0,vr=[],jr=vr;if(Wt)qn=!1,qe=Pe;else if(In>=d){var fi=nt?null:jf(I);if(fi)return So(fi);qn=!1,qe=xi,jr=new no}else jr=nt?[]:vr;t:for(;++be<In;){var vi=I[be],Ti=nt?nt(vi):vi;if(vi=Wt||vi!==0?vi:0,qn&&Ti===Ti){for(var $i=jr.length;$i--;)if(jr[$i]===Ti)continue t;nt&&jr.push(Ti),vr.push(vi)}else qe(jr,Ti,Wt)||(jr!==vr&&jr.push(Ti),vr.push(vi))}return vr}function Dl(I,nt){return nt=Du(nt,I),I=il(I,nt),I==null||delete I[ys(Zs(nt))]}function hh(I,nt,Wt,be){return Oc(I,nt,Wt(Ts(I,nt)),be)}function Rl(I,nt,Wt,be){for(var qe=I.length,In=be?qe:-1;(be?In--:++In<qe)&&nt(I[In],In,I););return Wt?Ys(I,be?0:In,be?In+1:qe):Ys(I,be?In+1:0,be?qe:In)}function xf(I,nt){var Wt=I;return Wt instanceof Ie&&(Wt=Wt.value()),Ve(nt,function(be,qe){return qe.func.apply(qe.thisArg,Je([be],qe.args))},Wt)}function Of(I,nt,Wt){var be=I.length;if(be<2)return be?Pu(I[0]):[];for(var qe=-1,In=zr(be);++qe<be;)for(var qn=I[qe],vr=-1;++vr<be;)vr!=qe&&(In[qe]=Ss(In[qe]||qn,I[vr],nt,Wt));return Pu(Co(In,1),nt,Wt)}function Sf(I,nt,Wt){for(var be=-1,qe=I.length,In=nt.length,qn={};++be<qe;){var vr=be<In?nt[be]:t;Wt(qn,I[be],vr)}return qn}function kl(I){return gn(I)?I:[]}function Vc(I){return typeof I=="function"?I:Eu}function Du(I,nt){return ye(I)?I:Df(I,nt)?[I]:Nf(Tr(I))}var Yc=yo;function pu(I,nt,Wt){var be=I.length;return Wt=Wt===t?be:Wt,!nt&&Wt>=be?I:Ys(I,nt,Wt)}var dh=Zn||function(I){return Yt.clearTimeout(I)};function wf(I,nt){if(nt)return I.slice();var Wt=I.length,be=xe?xe(Wt):new I.constructor(Wt);return I.copy(be),be}function Xs(I){var nt=new I.constructor(I.byteLength);return new ru(nt).set(new ru(I)),nt}function Ad(I,nt){var Wt=nt?Xs(I.buffer):I.buffer;return new I.constructor(Wt,I.byteOffset,I.byteLength)}function vh(I){var nt=new I.constructor(I.source,Aa.exec(I));return nt.lastIndex=I.lastIndex,nt}function ac(I){return jt?co(jt.call(I)):{}}function Ef(I,nt){var Wt=nt?Xs(I.buffer):I.buffer;return new I.constructor(Wt,I.byteOffset,I.length)}function gu(I,nt){if(I!==nt){var Wt=I!==t,be=I===null,qe=I===I,In=_e(I),qn=nt!==t,vr=nt===null,jr=nt===nt,fi=_e(nt);if(!vr&&!fi&&!In&&I>nt||In&&qn&&jr&&!vr&&!fi||be&&qn&&jr||!Wt&&jr||!qe)return 1;if(!be&&!In&&!fi&&I<nt||fi&&Wt&&qe&&!be&&!In||vr&&Wt&&qe||!qn&&qe||!jr)return-1}return 0}function Xc(I,nt,Wt){for(var be=-1,qe=I.criteria,In=nt.criteria,qn=qe.length,vr=Wt.length;++be<qn;){var jr=gu(qe[be],In[be]);if(jr){if(be>=vr)return jr;var fi=Wt[be];return jr*(fi=="desc"?-1:1)}}return I.index-nt.index}function Is(I,nt,Wt,be){for(var qe=-1,In=I.length,qn=Wt.length,vr=-1,jr=nt.length,fi=ri(In-qn,0),vi=zr(jr+fi),Ti=!be;++vr<jr;)vi[vr]=nt[vr];for(;++qe<qn;)(Ti||qe<In)&&(vi[Wt[qe]]=I[qe]);for(;fi--;)vi[vr++]=I[qe++];return vi}function mu(I,nt,Wt,be){for(var qe=-1,In=I.length,qn=-1,vr=Wt.length,jr=-1,fi=nt.length,vi=ri(In-vr,0),Ti=zr(vi+fi),$i=!be;++qe<vi;)Ti[qe]=I[qe];for(var Ea=qe;++jr<fi;)Ti[Ea+jr]=nt[jr];for(;++qn<vr;)($i||qe<In)&&(Ti[Ea+Wt[qn]]=I[qe++]);return Ti}function os(I,nt){var Wt=-1,be=I.length;for(nt||(nt=zr(be));++Wt<be;)nt[Wt]=I[Wt];return nt}function au(I,nt,Wt,be){var qe=!Wt;Wt||(Wt={});for(var In=-1,qn=nt.length;++In<qn;){var vr=nt[In],jr=be?be(Wt[vr],I[vr],vr,Wt,I):t;jr===t&&(jr=I[vr]),qe?$o(Wt,vr,jr):zs(Wt,vr,jr)}return Wt}function Cf(I,nt){return au(I,Ps(I),nt)}function Hc(I,nt){return au(I,cc(I),nt)}function oc(I,nt){return function(Wt,be){var qe=ye(Wt)?ie:Ns,In=nt?nt():{};return qe(Wt,I,Da(be,2),In)}}function Xu(I){return yo(function(nt,Wt){var be=-1,qe=Wt.length,In=qe>1?Wt[qe-1]:t,qn=qe>2?Wt[2]:t;for(In=I.length>3&&typeof In=="function"?(qe--,In):t,qn&&ns(Wt[0],Wt[1],qn)&&(In=qe<3?t:In,qe=1),nt=co(nt);++be<qe;){var vr=Wt[be];vr&&I(nt,vr,be,In)}return nt})}function Do(I,nt){return function(Wt,be){if(Wt==null)return Wt;if(!Qe(Wt))return I(Wt,be);for(var qe=Wt.length,In=nt?qe:-1,qn=co(Wt);(nt?In--:++In<qe)&&be(qn[In],In,qn)!==!1;);return Wt}}function Kc(I){return function(nt,Wt,be){for(var qe=-1,In=co(nt),qn=be(nt),vr=qn.length;vr--;){var jr=qn[I?vr:++qe];if(Wt(In[jr],jr,In)===!1)break}return nt}}function sc(I,nt,Wt){var be=nt&O,qe=Sc(I);function In(){var qn=this&&this!==Yt&&this instanceof In?qe:I;return qn.apply(be?Wt:this,arguments)}return In}function Mf(I){return function(nt){nt=Tr(nt);var Wt=Wa(nt)?Hi(nt):t,be=Wt?Wt[0]:nt.charAt(0),qe=Wt?pu(Wt,1).join(""):nt.slice(1);return be[I]()+qe}}function Hu(I){return function(nt){return Ve(Ol(gc(nt).replace(ea,"")),I,"")}}function Sc(I){return function(){var nt=arguments;switch(nt.length){case 0:return new I;case 1:return new I(nt[0]);case 2:return new I(nt[0],nt[1]);case 3:return new I(nt[0],nt[1],nt[2]);case 4:return new I(nt[0],nt[1],nt[2],nt[3]);case 5:return new I(nt[0],nt[1],nt[2],nt[3],nt[4]);case 6:return new I(nt[0],nt[1],nt[2],nt[3],nt[4],nt[5]);case 7:return new I(nt[0],nt[1],nt[2],nt[3],nt[4],nt[5],nt[6])}var Wt=qt(I.prototype),be=I.apply(Wt,nt);return ka(be)?be:Wt}}function ph(I,nt,Wt){var be=Sc(I);function qe(){for(var In=arguments.length,qn=zr(In),vr=In,jr=uc(qe);vr--;)qn[vr]=arguments[vr];var fi=In<3&&qn[0]!==jr&&qn[In-1]!==jr?[]:Ha(qn,jr);if(In-=fi.length,In<Wt)return mh(I,nt,Qc,qe.placeholder,t,qn,fi,t,t,Wt-In);var vi=this&&this!==Yt&&this instanceof qe?be:I;return bt(vi,this,qn)}return qe}function Af(I){return function(nt,Wt,be){var qe=co(nt);if(!Qe(nt)){var In=Da(Wt,3);nt=Oo(nt),Wt=function(vr){return In(qe[vr],vr,qe)}}var qn=I(nt,Wt,be);return qn>-1?qe[In?nt[qn]:qn]:t}}function Jc(I){return yu(function(nt){var Wt=nt.length,be=Wt,qe=je.prototype.thru;for(I&&nt.reverse();be--;){var In=nt[be];if(typeof In!="function")throw new ui(b);if(qe&&!qn&&el(In)=="wrapper")var qn=new je([],!0)}for(be=qn?be:Wt;++be<Wt;){In=nt[be];var vr=el(In),jr=vr=="wrapper"?Ec(In):t;jr&&Rf(jr[0])&&jr[1]==(et|x|k|tt)&&!jr[4].length&&jr[9]==1?qn=qn[el(jr[0])].apply(qn,jr[3]):qn=In.length==1&&Rf(In)?qn[vr]():qn.thru(In)}return function(){var fi=arguments,vi=fi[0];if(qn&&fi.length==1&&ye(vi))return qn.plant(vi).value();for(var Ti=0,$i=Wt?nt[Ti].apply(this,fi):vi;++Ti<Wt;)$i=nt[Ti].call(this,$i);return $i}})}function Qc(I,nt,Wt,be,qe,In,qn,vr,jr,fi){var vi=nt&et,Ti=nt&O,$i=nt&j,Ea=nt&(x|A),io=nt&ft,Eo=$i?t:Sc(I);function ro(){for(var To=arguments.length,Ro=zr(To),Gu=To;Gu--;)Ro[Gu]=arguments[Gu];if(Ea)var fu=uc(ro),Uu=Ii(Ro,fu);if(be&&(Ro=Is(Ro,be,qe,Ea)),In&&(Ro=mu(Ro,In,qn,Ea)),To-=Uu,Ea&&To<fi){var bs=Ha(Ro,fu);return mh(I,nt,Qc,ro.placeholder,Wt,Ro,bs,vr,jr,fi-To)}var mc=Ti?Wt:this,Sl=$i?mc[I]:I;return To=Ro.length,vr?Ro=Pd(Ro,vr):io&&To>1&&Ro.reverse(),vi&&jr<To&&(Ro.length=jr),this&&this!==Yt&&this instanceof ro&&(Sl=Eo||Sc(Sl)),Sl.apply(mc,Ro)}return ro}function Tf(I,nt){return function(Wt,be){return Gc(Wt,I,nt(be),{})}}function Js(I,nt){return function(Wt,be){var qe;if(Wt===t&&be===t)return nt;if(Wt!==t&&(qe=Wt),be!==t){if(qe===t)return be;typeof Wt=="string"||typeof be=="string"?(Wt=ms(Wt),be=ms(be)):(Wt=fh(Wt),be=fh(be)),qe=I(Wt,be)}return qe}}function Ku(I){return yu(function(nt){return nt=ze(nt,or(Da())),yo(function(Wt){var be=this;return I(nt,function(qe){return bt(qe,be,Wt)})})})}function Zc(I,nt){nt=nt===t?" ":ms(nt);var Wt=nt.length;if(Wt<2)return Wt?pf(nt,I):nt;var be=pf(nt,Ir(I/Rs(nt)));return Wa(nt)?pu(Hi(be),0,I).join(""):be.slice(0,I)}function gh(I,nt,Wt,be){var qe=nt&O,In=Sc(I);function qn(){for(var vr=-1,jr=arguments.length,fi=-1,vi=be.length,Ti=zr(vi+jr),$i=this&&this!==Yt&&this instanceof qn?In:I;++fi<vi;)Ti[fi]=be[fi];for(;jr--;)Ti[fi++]=arguments[++vr];return bt($i,qe?Wt:this,Ti)}return qn}function $c(I){return function(nt,Wt,be){return be&&typeof be!="number"&&ns(nt,Wt,be)&&(Wt=be=t),nt=Kn(nt),Wt===t?(Wt=nt,nt=0):Wt=Kn(Wt),be=be===t?nt<Wt?1:-1:Kn(be),uh(nt,Wt,be,I)}}function qc(I){return function(nt,Wt){return typeof nt=="string"&&typeof Wt=="string"||(nt=Sr(nt),Wt=Sr(Wt)),I(nt,Wt)}}function mh(I,nt,Wt,be,qe,In,qn,vr,jr,fi){var vi=nt&x,Ti=vi?qn:t,$i=vi?t:qn,Ea=vi?In:t,io=vi?t:In;nt|=vi?k:X,nt&=~(vi?X:k),nt&p||(nt&=~(O|j));var Eo=[I,nt,qe,Ea,Ti,io,$i,vr,jr,fi],ro=Wt.apply(t,Eo);return Rf(I)&&al(ro,Eo),ro.placeholder=be,_o(ro,I,nt)}function Mi(I){var nt=xo[I];return function(Wt,be){if(Wt=Sr(Wt),be=be==null?0:_i(nr(be),292),be&&ei(Wt)){var qe=(Tr(Wt)+"e").split("e"),In=nt(qe[0]+"e"+(+qe[1]+be));return qe=(Tr(In)+"e").split("e"),+(qe[0]+"e"+(+qe[1]-be))}return nt(Wt)}}var jf=Pa&&1/So(new Pa([,-0]))[1]==St?function(I){return new Pa(I)}:hv;function If(I){return function(nt){var Wt=Qo(nt);return Wt==ht?Ho(nt):Wt==Dt?ss(nt):Nn(nt,I(nt))}}function ou(I,nt,Wt,be,qe,In,qn,vr){var jr=nt&j;if(!jr&&typeof I!="function")throw new ui(b);var fi=be?be.length:0;if(fi||(nt&=~(k|X),be=qe=t),qn=qn===t?qn:ri(nr(qn),0),vr=vr===t?vr:nr(vr),fi-=qe?qe.length:0,nt&X){var vi=be,Ti=qe;be=qe=t}var $i=jr?t:Ec(I),Ea=[I,nt,Wt,be,qe,vi,Ti,In,qn,vr];if($i&&kf(Ea,$i),I=Ea[0],nt=Ea[1],Wt=Ea[2],be=Ea[3],qe=Ea[4],vr=Ea[9]=Ea[9]===t?jr?0:I.length:ri(Ea[9]-fi,0),!vr&&nt&(x|A)&&(nt&=~(x|A)),!nt||nt==O)var io=sc(I,nt,Wt);else nt==x||nt==A?io=ph(I,nt,vr):(nt==k||nt==(O|k))&&!qe.length?io=gh(I,nt,Wt,be):io=Qc.apply(t,Ea);var Eo=$i?Il:al;return _o(Eo(io,Ea),I,nt)}function Pf(I,nt,Wt,be){return I===t||Tt(I,Mu[Wt])&&!lo.call(be,Wt)?nt:I}function tl(I,nt,Wt,be,qe,In){return ka(I)&&ka(nt)&&(In.set(nt,I),Tl(I,nt,t,tl,In),In.delete(nt)),I}function yh(I){return ee(I)?t:I}function wc(I,nt,Wt,be,qe,In){var qn=Wt&v,vr=I.length,jr=nt.length;if(vr!=jr&&!(qn&&jr>vr))return!1;var fi=In.get(I),vi=In.get(nt);if(fi&&vi)return fi==nt&&vi==I;var Ti=-1,$i=!0,Ea=Wt&C?new no:t;for(In.set(I,nt),In.set(nt,I);++Ti<vr;){var io=I[Ti],Eo=nt[Ti];if(be)var ro=qn?be(Eo,io,Ti,nt,I,In):be(io,Eo,Ti,I,nt,In);if(ro!==t){if(ro)continue;$i=!1;break}if(Ea){if(!Be(nt,function(To,Ro){if(!xi(Ea,Ro)&&(io===To||qe(io,To,Wt,be,In)))return Ea.push(Ro)})){$i=!1;break}}else if(!(io===Eo||qe(io,Eo,Wt,be,In))){$i=!1;break}}return In.delete(I),In.delete(nt),$i}function bh(I,nt,Wt,be,qe,In,qn){switch(Wt){case Me:if(I.byteLength!=nt.byteLength||I.byteOffset!=nt.byteOffset)return!1;I=I.buffer,nt=nt.buffer;case le:return!(I.byteLength!=nt.byteLength||!In(new ru(I),new ru(nt)));case W:case P:case gt:return Tt(+I,+nt);case y:return I.name==nt.name&&I.message==nt.message;case Ot:case Ft:return I==nt+"";case ht:var vr=Ho;case Dt:var jr=be&v;if(vr||(vr=So),I.size!=nt.size&&!jr)return!1;var fi=qn.get(I);if(fi)return fi==nt;be|=C,qn.set(I,nt);var vi=wc(vr(I),vr(nt),be,qe,In,qn);return qn.delete(I),vi;case Xt:if(jt)return jt.call(I)==jt.call(nt)}return!1}function xh(I,nt,Wt,be,qe,In){var qn=Wt&v,vr=Ju(I),jr=vr.length,fi=Ju(nt),vi=fi.length;if(jr!=vi&&!qn)return!1;for(var Ti=jr;Ti--;){var $i=vr[Ti];if(!(qn?$i in nt:lo.call(nt,$i)))return!1}var Ea=In.get(I),io=In.get(nt);if(Ea&&io)return Ea==nt&&io==I;var Eo=!0;In.set(I,nt),In.set(nt,I);for(var ro=qn;++Ti<jr;){$i=vr[Ti];var To=I[$i],Ro=nt[$i];if(be)var Gu=qn?be(Ro,To,$i,nt,I,In):be(To,Ro,$i,I,nt,In);if(!(Gu===t?To===Ro||qe(To,Ro,Wt,be,In):Gu)){Eo=!1;break}ro||(ro=$i=="constructor")}if(Eo&&!ro){var fu=I.constructor,Uu=nt.constructor;fu!=Uu&&"constructor"in I&&"constructor"in nt&&!(typeof fu=="function"&&fu instanceof fu&&typeof Uu=="function"&&Uu instanceof Uu)&&(Eo=!1)}return In.delete(I),In.delete(nt),Eo}function yu(I){return _l(Cc(I,t,Ph),I+"")}function Ju(I){return ju(I,Oo,Ps)}function Nl(I){return ju(I,ws,cc)}var Ec=Zi?function(I){return Zi.get(I)}:hv;function el(I){for(var nt=I.name+"",Wt=eo[nt],be=lo.call(eo,nt)?Wt.length:0;be--;){var qe=Wt[be],In=qe.func;if(In==null||In==I)return qe.name}return nt}function uc(I){var nt=lo.call(Et,"placeholder")?Et:I;return nt.placeholder}function Da(){var I=Et.iteratee||lv;return I=I===lv?xc:I,arguments.length?I(arguments[0],arguments[1]):I}function nl(I,nt){var Wt=I.__data__;return Td(nt)?Wt[typeof nt=="string"?"string":"hash"]:Wt.map}function su(I){for(var nt=Oo(I),Wt=nt.length;Wt--;){var be=nt[Wt],qe=I[be];nt[Wt]=[be,qe,Sh(qe)]}return nt}function uu(I,nt){var Wt=Xo(I,nt);return qo(Wt)?Wt:t}function Ru(I){var nt=lo.call(I,Ze),Wt=I[Ze];try{I[Ze]=t;var be=!0}catch(In){}var qe=Us.call(I);return be&&(nt?I[Ze]=Wt:delete I[Ze]),qe}var Ps=oe?function(I){return I==null?[]:(I=co(I),ve(oe(I),function(nt){return Ge.call(I,nt)}))}:dv,cc=oe?function(I){for(var nt=[];I;)Je(nt,Ps(I)),I=rn(I);return nt}:dv,Qo=Jo;(za&&Qo(new za(new ArrayBuffer(1)))!=Me||Ci&&Qo(new Ci)!=ht||Qi&&Qo(Qi.resolve())!=At||Pa&&Qo(new Pa)!=Dt||Ri&&Qo(new Ri)!=Kt)&&(Qo=function(I){var nt=Jo(I),Wt=nt==Lt?I.constructor:t,be=Wt?dc(Wt):"";if(be)switch(be){case Nt:return Me;case f:return ht;case c:return At;case R:return Dt;case Y:return Kt}return nt});function rl(I,nt,Wt){for(var be=-1,qe=Wt.length;++be<qe;){var In=Wt[be],qn=In.size;switch(In.type){case"drop":I+=qn;break;case"dropRight":nt-=qn;break;case"take":nt=_i(nt,I+qn);break;case"takeRight":I=ri(I,nt-qn);break}}return{start:I,end:nt}}function Ll(I){var nt=I.match(oo);return nt?nt[1].split(Yr):[]}function Hs(I,nt,Wt){nt=Du(nt,I);for(var be=-1,qe=nt.length,In=!1;++be<qe;){var qn=ys(nt[be]);if(!(In=I!=null&&Wt(I,qn)))break;I=I[qn]}return In||++be!=qe?In:(qe=I==null?0:I.length,!!qe&&_a(qe)&&bu(qn,qe)&&(ye(I)||Oe(I)))}function lc(I){var nt=I.length,Wt=new I.constructor(nt);return nt&&typeof I[0]=="string"&&lo.call(I,"index")&&(Wt.index=I.index,Wt.input=I.input),Wt}function vs(I){return typeof I.constructor=="function"&&!fc(I)?qt(rn(I)):{}}function ps(I,nt,Wt){var be=I.constructor;switch(nt){case le:return Xs(I);case W:case P:return new be(+I);case Me:return Ad(I,Wt);case on:case hn:case Cn:case He:case mn:case dn:case Un:case Xn:case Hn:return Ef(I,Wt);case ht:return new be;case gt:case Ft:return new be(I);case Ot:return vh(I);case Dt:return new be;case Xt:return ac(I)}}function Qs(I,nt){var Wt=nt.length;if(!Wt)return I;var be=Wt-1;return nt[be]=(Wt>1?"& ":"")+nt[be],nt=nt.join(Wt>2?", ":" "),I.replace(Ba,`{
/* [wrapped with `+nt+`] */
`)}function Bl(I){return ye(I)||Oe(I)||!!(wn&&I&&I[wn])}function bu(I,nt){var Wt=typeof I;return nt=nt==null?H:nt,!!nt&&(Wt=="number"||Wt!="symbol"&&bi.test(I))&&I>-1&&I%1==0&&I<nt}function ns(I,nt,Wt){if(!ka(Wt))return!1;var be=typeof nt;return(be=="number"?Qe(Wt)&&bu(nt,Wt.length):be=="string"&&nt in Wt)?Tt(Wt[nt],I):!1}function Df(I,nt){if(ye(I))return!1;var Wt=typeof I;return Wt=="number"||Wt=="symbol"||Wt=="boolean"||I==null||_e(I)?!0:oa.test(I)||!Wi.test(I)||nt!=null&&I in co(nt)}function Td(I){var nt=typeof I;return nt=="string"||nt=="number"||nt=="symbol"||nt=="boolean"?I!=="__proto__":I===null}function Rf(I){var nt=el(I),Wt=Et[nt];if(typeof Wt!="function"||!(nt in Ie.prototype))return!1;if(I===Wt)return!0;var be=Ec(Wt);return!!be&&I===be[0]}function jd(I){return!!ds&&ds in I}var Oh=Au?ra:vv;function fc(I){var nt=I&&I.constructor,Wt=typeof nt=="function"&&nt.prototype||Mu;return I===Wt}function Sh(I){return I===I&&!ka(I)}function wh(I,nt){return function(Wt){return Wt==null?!1:Wt[I]===nt&&(nt!==t||I in co(Wt))}}function Eh(I){var nt=ml(I,function(be){return Wt.size===E&&Wt.clear(),be}),Wt=nt.cache;return nt}function kf(I,nt){var Wt=I[1],be=nt[1],qe=Wt|be,In=qe<(O|j|et),qn=be==et&&Wt==x||be==et&&Wt==tt&&I[7].length<=nt[8]||be==(et|tt)&&nt[7].length<=nt[8]&&Wt==x;if(!(In||qn))return I;be&O&&(I[2]=nt[2],qe|=Wt&O?0:p);var vr=nt[3];if(vr){var jr=I[3];I[3]=jr?Is(jr,vr,nt[4]):vr,I[4]=jr?Ha(I[3],T):nt[4]}return vr=nt[5],vr&&(jr=I[5],I[5]=jr?mu(jr,vr,nt[6]):vr,I[6]=jr?Ha(I[5],T):nt[6]),vr=nt[7],vr&&(I[7]=vr),be&et&&(I[8]=I[8]==null?nt[8]:_i(I[8],nt[8])),I[9]==null&&(I[9]=nt[9]),I[0]=nt[0],I[1]=qe,I}function Id(I){var nt=[];if(I!=null)for(var Wt in co(I))nt.push(Wt);return nt}function Fl(I){return Us.call(I)}function Cc(I,nt,Wt){return nt=ri(nt===t?I.length-1:nt,0),function(){for(var be=arguments,qe=-1,In=ri(be.length-nt,0),qn=zr(In);++qe<In;)qn[qe]=be[nt+qe];qe=-1;for(var vr=zr(nt+1);++qe<nt;)vr[qe]=be[qe];return vr[nt]=Wt(qn),bt(I,this,vr)}}function il(I,nt){return nt.length<2?I:Ts(I,Ys(nt,0,-1))}function Pd(I,nt){for(var Wt=I.length,be=_i(nt.length,Wt),qe=os(I);be--;){var In=nt[be];I[be]=bu(In,Wt)?qe[In]:t}return I}function ku(I,nt){if(!(nt==="constructor"&&typeof I[nt]=="function")&&nt!="__proto__")return I[nt]}var al=Gl(Il),hc=rr||function(I,nt){return Yt.setTimeout(I,nt)},_l=Gl(gf);function _o(I,nt,Wt){var be=nt+"";return _l(I,Qs(be,Ch(Ll(be),Wt)))}function Gl(I){var nt=0,Wt=0;return function(){var be=na(),qe=pt-(be-Wt);if(Wt=be,qe>0){if(++nt>=mt)return arguments[0]}else nt=0;return I.apply(t,arguments)}}function ol(I,nt){var Wt=-1,be=I.length,qe=be-1;for(nt=nt===t?be:nt;++Wt<nt;){var In=jl(Wt,qe),qn=I[In];I[In]=I[Wt],I[Wt]=qn}return I.length=nt,I}var Nf=Eh(function(I){var nt=[];return I.charCodeAt(0)===46&&nt.push(""),I.replace(Za,function(Wt,be,qe,In){nt.push(qe?In.replace(Ma,"$1"):be||Wt)}),nt});function ys(I){if(typeof I=="string"||_e(I))return I;var nt=I+"";return nt=="0"&&1/I==-St?"-0":nt}function dc(I){if(I!=null){try{return eu.call(I)}catch(nt){}try{return I+""}catch(nt){}}return""}function Ch(I,nt){return Ee(ct,function(Wt){var be="_."+Wt[0];nt&Wt[1]&&!de(I,be)&&I.push(be)}),I.sort()}function Lf(I){if(I instanceof Ie)return I.clone();var nt=new je(I.__wrapped__,I.__chain__);return nt.__actions__=os(I.__actions__),nt.__index__=I.__index__,nt.__values__=I.__values__,nt}function Mh(I,nt,Wt){(Wt?ns(I,nt,Wt):nt===t)?nt=1:nt=ri(nr(nt),0);var be=I==null?0:I.length;if(!be||nt<1)return[];for(var qe=0,In=0,qn=zr(Ir(be/nt));qe<be;)qn[In++]=Ys(I,qe,qe+=nt);return qn}function Dd(I){for(var nt=-1,Wt=I==null?0:I.length,be=0,qe=[];++nt<Wt;){var In=I[nt];In&&(qe[be++]=In)}return qe}function nv(){var I=arguments.length;if(!I)return[];for(var nt=zr(I-1),Wt=arguments[0],be=I;be--;)nt[be-1]=arguments[be];return Je(ye(Wt)?os(Wt):[Wt],Co(nt,1))}var Mc=yo(function(I,nt){return gn(I)?Ss(I,Co(nt,1,gn,!0)):[]}),sl=yo(function(I,nt){var Wt=Zs(nt);return gn(Wt)&&(Wt=t),gn(I)?Ss(I,Co(nt,1,gn,!0),Da(Wt,2)):[]}),Ac=yo(function(I,nt){var Wt=Zs(nt);return gn(Wt)&&(Wt=t),gn(I)?Ss(I,Co(nt,1,gn,!0),t,Wt):[]});function Ah(I,nt,Wt){var be=I==null?0:I.length;return be?(nt=Wt||nt===t?1:nr(nt),Ys(I,nt<0?0:nt,be)):[]}function Ul(I,nt,Wt){var be=I==null?0:I.length;return be?(nt=Wt||nt===t?1:nr(nt),nt=be-nt,Ys(I,0,nt<0?0:nt)):[]}function Rd(I,nt){return I&&I.length?Rl(I,Da(nt,3),!0,!0):[]}function zl(I,nt){return I&&I.length?Rl(I,Da(nt,3),!0):[]}function Th(I,nt,Wt,be){var qe=I==null?0:I.length;return qe?(Wt&&typeof Wt!="number"&&ns(I,nt,Wt)&&(Wt=0,be=qe),vo(I,nt,Wt,be)):[]}function jh(I,nt,Wt){var be=I==null?0:I.length;if(!be)return-1;var qe=Wt==null?0:nr(Wt);return qe<0&&(qe=ri(be+qe,0)),Rn(I,Da(nt,3),qe)}function Ih(I,nt,Wt){var be=I==null?0:I.length;if(!be)return-1;var qe=be-1;return Wt!==t&&(qe=nr(Wt),qe=Wt<0?ri(be+qe,0):_i(qe,be-1)),Rn(I,Da(nt,3),qe,!0)}function Ph(I){var nt=I==null?0:I.length;return nt?Co(I,1):[]}function Dh(I){var nt=I==null?0:I.length;return nt?Co(I,St):[]}function Nu(I,nt){var Wt=I==null?0:I.length;return Wt?(nt=nt===t?1:nr(nt),Co(I,nt)):[]}function xu(I){for(var nt=-1,Wt=I==null?0:I.length,be={};++nt<Wt;){var qe=I[nt];be[qe[0]]=qe[1]}return be}function Qu(I){return I&&I.length?I[0]:t}function Ds(I,nt,Wt){var be=I==null?0:I.length;if(!be)return-1;var qe=Wt==null?0:nr(Wt);return qe<0&&(qe=ri(be+qe,0)),lr(I,nt,qe)}function vc(I){var nt=I==null?0:I.length;return nt?Ys(I,0,-1):[]}var Wl=yo(function(I){var nt=ze(I,kl);return nt.length&&nt[0]===I[0]?ec(nt):[]}),ul=yo(function(I){var nt=Zs(I),Wt=ze(I,kl);return nt===Zs(Wt)?nt=t:Wt.pop(),Wt.length&&Wt[0]===I[0]?ec(Wt,Da(nt,2)):[]}),kd=yo(function(I){var nt=Zs(I),Wt=ze(I,kl);return nt=typeof nt=="function"?nt:t,nt&&Wt.pop(),Wt.length&&Wt[0]===I[0]?ec(Wt,t,nt):[]});function Tc(I,nt){return I==null?"":Zr.call(I,nt)}function Zs(I){var nt=I==null?0:I.length;return nt?I[nt-1]:t}function cl(I,nt,Wt){var be=I==null?0:I.length;if(!be)return-1;var qe=be;return Wt!==t&&(qe=nr(Wt),qe=qe<0?ri(be+qe,0):_i(qe,be-1)),nt===nt?us(I,nt,qe):Rn(I,tr,qe,!0)}function Rh(I,nt){return I&&I.length?zc(I,nr(nt)):t}var Nd=yo(Vl);function Vl(I,nt){return I&&I.length&&nt&&nt.length?vu(I,nt):I}function Ld(I,nt,Wt){return I&&I.length&&nt&&nt.length?vu(I,nt,Da(Wt,2)):I}function Bd(I,nt,Wt){return I&&I.length&&nt&&nt.length?vu(I,nt,t,Wt):I}var kh=yu(function(I,nt){var Wt=I==null?0:I.length,be=Ks(I,nt);return vf(I,ze(nt,function(qe){return bu(qe,Wt)?+qe:qe}).sort(gu)),be});function Yl(I,nt){var Wt=[];if(!(I&&I.length))return Wt;var be=-1,qe=[],In=I.length;for(nt=Da(nt,3);++be<In;){var qn=I[be];nt(qn,be,I)&&(Wt.push(qn),qe.push(be))}return vf(I,qe),Wt}function Bf(I){return I==null?I:Ui.call(I)}function Xl(I,nt,Wt){var be=I==null?0:I.length;return be?(Wt&&typeof Wt!="number"&&ns(I,nt,Wt)?(nt=0,Wt=be):(nt=nt==null?0:nr(nt),Wt=Wt===t?be:nr(Wt)),Ys(I,nt,Wt)):[]}function Ff(I,nt){return Pl(I,nt)}function Fd(I,nt,Wt){return bf(I,nt,Da(Wt,2))}function _d(I,nt){var Wt=I==null?0:I.length;if(Wt){var be=Pl(I,nt);if(be<Wt&&Tt(I[be],nt))return be}return-1}function _f(I,nt){return Pl(I,nt,!0)}function Nh(I,nt,Wt){return bf(I,nt,Da(Wt,2),!0)}function jc(I,nt){var Wt=I==null?0:I.length;if(Wt){var be=Pl(I,nt,!0)-1;if(Tt(I[be],nt))return be}return-1}function ll(I){return I&&I.length?lh(I):[]}function Ic(I,nt){return I&&I.length?lh(I,Da(nt,2)):[]}function Hl(I){var nt=I==null?0:I.length;return nt?Ys(I,1,nt):[]}function Gf(I,nt,Wt){return I&&I.length?(nt=Wt||nt===t?1:nr(nt),Ys(I,0,nt<0?0:nt)):[]}function Zu(I,nt,Wt){var be=I==null?0:I.length;return be?(nt=Wt||nt===t?1:nr(nt),nt=be-nt,Ys(I,nt<0?0:nt,be)):[]}function Ou(I,nt){return I&&I.length?Rl(I,Da(nt,3),!1,!0):[]}function Lh(I,nt){return I&&I.length?Rl(I,Da(nt,3)):[]}var Kl=yo(function(I){return Pu(Co(I,1,gn,!0))}),Bh=yo(function(I){var nt=Zs(I);return gn(nt)&&(nt=t),Pu(Co(I,1,gn,!0),Da(nt,2))}),fl=yo(function(I){var nt=Zs(I);return nt=typeof nt=="function"?nt:t,Pu(Co(I,1,gn,!0),t,nt)});function Fh(I){return I&&I.length?Pu(I):[]}function _h(I,nt){return I&&I.length?Pu(I,Da(nt,2)):[]}function Gh(I,nt){return nt=typeof nt=="function"?nt:t,I&&I.length?Pu(I,t,nt):[]}function Jl(I){if(!(I&&I.length))return[];var nt=0;return I=ve(I,function(Wt){if(gn(Wt))return nt=ri(Wt.length,nt),!0}),zn(nt,function(Wt){return ze(I,Se(Wt))})}function Uh(I,nt){if(!(I&&I.length))return[];var Wt=Jl(I);return nt==null?Wt:ze(Wt,function(be){return bt(nt,t,be)})}var Gd=yo(function(I,nt){return gn(I)?Ss(I,nt):[]}),Ud=yo(function(I){return Of(ve(I,gn))}),zd=yo(function(I){var nt=Zs(I);return gn(nt)&&(nt=t),Of(ve(I,gn),Da(nt,2))}),Ql=yo(function(I){var nt=Zs(I);return nt=typeof nt=="function"?nt:t,Of(ve(I,gn),t,nt)}),pc=yo(Jl);function Zl(I,nt){return Sf(I||[],nt||[],zs)}function hl(I,nt){return Sf(I||[],nt||[],Oc)}var zh=yo(function(I){var nt=I.length,Wt=nt>1?I[nt-1]:t;return Wt=typeof Wt=="function"?(I.pop(),Wt):t,Uh(I,Wt)});function Pc(I){var nt=Et(I);return nt.__chain__=!0,nt}function Wh(I,nt){return nt(I),I}function dl(I,nt){return nt(I)}var Uf=yu(function(I){var nt=I.length,Wt=nt?I[0]:0,be=this.__wrapped__,qe=function(In){return Ks(In,I)};return nt>1||this.__actions__.length||!(be instanceof Ie)||!bu(Wt)?this.thru(qe):(be=be.slice(Wt,+Wt+(nt?1:0)),be.__actions__.push({func:dl,args:[qe],thisArg:t}),new je(be,this.__chain__).thru(function(In){return nt&&!In.length&&In.push(t),In}))});function zf(){return Pc(this)}function Vh(){return new je(this.value(),this.__chain__)}function Lu(){this.__values__===t&&(this.__values__=Gn(this.value()));var I=this.__index__>=this.__values__.length,nt=I?t:this.__values__[this.__index__++];return{done:I,value:nt}}function $u(){return this}function Yh(I){for(var nt,Wt=this;Wt instanceof se;){var be=Lf(Wt);be.__index__=0,be.__values__=t,nt?qe.__wrapped__=be:nt=be;var qe=be;Wt=Wt.__wrapped__}return qe.__wrapped__=I,nt}function $l(){var I=this.__wrapped__;if(I instanceof Ie){var nt=I;return this.__actions__.length&&(nt=new Ie(this)),nt=nt.reverse(),nt.__actions__.push({func:dl,args:[Bf],thisArg:t}),new je(nt,this.__chain__)}return this.thru(Bf)}function Wd(){return xf(this.__wrapped__,this.__actions__)}var Xh=oc(function(I,nt,Wt){lo.call(I,Wt)?++I[Wt]:$o(I,Wt,1)});function Hh(I,nt,Wt){var be=ye(I)?pe:Vs;return Wt&&ns(I,nt,Wt)&&(nt=t),be(I,Da(nt,3))}function Kh(I,nt){var Wt=ye(I)?ve:go;return Wt(I,Da(nt,3))}var Jh=Af(jh),ql=Af(Ih);function Qh(I,nt){return Co(nf(I,nt),1)}function Zh(I,nt){return Co(nf(I,nt),St)}function vl(I,nt,Wt){return Wt=Wt===t?1:nr(Wt),Co(nf(I,nt),Wt)}function tf(I,nt){var Wt=ye(I)?Ee:as;return Wt(I,Da(nt,3))}function ef(I,nt){var Wt=ye(I)?te:iu;return Wt(I,Da(nt,3))}var $h=oc(function(I,nt,Wt){lo.call(I,Wt)?I[Wt].push(nt):$o(I,Wt,[nt])});function qh(I,nt,Wt,be){I=Qe(I)?I:Es(I),Wt=Wt&&!be?nr(Wt):0;var qe=I.length;return Wt<0&&(Wt=ri(qe+Wt,0)),tn(I)?Wt<=qe&&I.indexOf(nt,Wt)>-1:!!qe&&lr(I,nt,Wt)>-1}var td=yo(function(I,nt,Wt){var be=-1,qe=typeof nt=="function",In=Qe(I)?zr(I.length):[];return as(I,function(qn){In[++be]=qe?bt(nt,qn,Wt):js(qn,nt,Wt)}),In}),ed=oc(function(I,nt,Wt){$o(I,Wt,nt)});function nf(I,nt){var Wt=ye(I)?ze:ah;return Wt(I,Da(nt,3))}function nd(I,nt,Wt,be){return I==null?[]:(ye(nt)||(nt=nt==null?[]:[nt]),Wt=be?t:Wt,ye(Wt)||(Wt=Wt==null?[]:[Wt]),Wc(I,nt,Wt))}var rd=oc(function(I,nt,Wt){I[Wt?0:1].push(nt)},function(){return[[],[]]});function id(I,nt,Wt){var be=ye(I)?Ve:we,qe=arguments.length<3;return be(I,Da(nt,4),Wt,qe,as)}function ad(I,nt,Wt){var be=ye(I)?cn:we,qe=arguments.length<3;return be(I,Da(nt,4),Wt,qe,iu)}function od(I,nt){var Wt=ye(I)?ve:go;return Wt(I,Rc(Da(nt,3)))}function Dc(I){var nt=ye(I)?Ko:Md;return nt(I)}function sd(I,nt,Wt){(Wt?ns(I,nt,Wt):nt===t)?nt=1:nt=nr(nt);var be=ye(I)?xa:ch;return be(I,nt)}function pl(I){var nt=ye(I)?Cs:mf;return nt(I)}function ud(I){if(I==null)return 0;if(Qe(I))return tn(I)?Rs(I):I.length;var nt=Qo(I);return nt==ht||nt==Dt?I.size:Yu(I).length}function Wf(I,nt,Wt){var be=ye(I)?Be:yf;return Wt&&ns(I,nt,Wt)&&(nt=t),be(I,Da(nt,3))}var cd=yo(function(I,nt){if(I==null)return[];var Wt=nt.length;return Wt>1&&ns(I,nt[0],nt[1])?nt=[]:Wt>2&&ns(nt[0],nt[1],nt[2])&&(nt=[nt[0]]),Wc(I,Co(nt,1),[])}),gl=hr||function(){return Yt.Date.now()};function ld(I,nt){if(typeof nt!="function")throw new ui(b);return I=nr(I),function(){if(--I<1)return nt.apply(this,arguments)}}function rf(I,nt,Wt){return nt=Wt?t:nt,nt=I&&nt==null?I.length:nt,ou(I,et,t,t,t,t,nt)}function Vf(I,nt){var Wt;if(typeof nt!="function")throw new ui(b);return I=nr(I),function(){return--I>0&&(Wt=nt.apply(this,arguments)),I<=1&&(nt=t),Wt}}var af=yo(function(I,nt,Wt){var be=O;if(Wt.length){var qe=Ha(Wt,uc(af));be|=k}return ou(I,be,nt,Wt,qe)}),Yf=yo(function(I,nt,Wt){var be=O|j;if(Wt.length){var qe=Ha(Wt,uc(Yf));be|=k}return ou(nt,be,I,Wt,qe)});function of(I,nt,Wt){nt=Wt?t:nt;var be=ou(I,x,t,t,t,t,t,nt);return be.placeholder=of.placeholder,be}function Xf(I,nt,Wt){nt=Wt?t:nt;var be=ou(I,A,t,t,t,t,t,nt);return be.placeholder=Xf.placeholder,be}function Hf(I,nt,Wt){var be,qe,In,qn,vr,jr,fi=0,vi=!1,Ti=!1,$i=!0;if(typeof I!="function")throw new ui(b);nt=Sr(nt)||0,ka(Wt)&&(vi=!!Wt.leading,Ti="maxWait"in Wt,In=Ti?ri(Sr(Wt.maxWait)||0,nt):In,$i="trailing"in Wt?!!Wt.trailing:$i);function Ea(bs){var mc=be,Sl=qe;return be=qe=t,fi=bs,qn=I.apply(Sl,mc),qn}function io(bs){return fi=bs,vr=hc(To,nt),vi?Ea(bs):qn}function Eo(bs){var mc=bs-jr,Sl=bs-fi,gv=nt-mc;return Ti?_i(gv,In-Sl):gv}function ro(bs){var mc=bs-jr,Sl=bs-fi;return jr===t||mc>=nt||mc<0||Ti&&Sl>=In}function To(){var bs=gl();if(ro(bs))return Ro(bs);vr=hc(To,Eo(bs))}function Ro(bs){return vr=t,$i&&be?Ea(bs):(be=qe=t,qn)}function Gu(){vr!==t&&dh(vr),fi=0,be=jr=qe=vr=t}function fu(){return vr===t?qn:Ro(gl())}function Uu(){var bs=gl(),mc=ro(bs);if(be=arguments,qe=this,jr=bs,mc){if(vr===t)return io(jr);if(Ti)return dh(vr),vr=hc(To,nt),Ea(jr)}return vr===t&&(vr=hc(To,nt)),qn}return Uu.cancel=Gu,Uu.flush=fu,Uu}var fd=yo(function(I,nt){return Os(I,1,nt)}),hd=yo(function(I,nt,Wt){return Os(I,Sr(nt)||0,Wt)});function Kf(I){return ou(I,ft)}function ml(I,nt){if(typeof I!="function"||nt!=null&&typeof nt!="function")throw new ui(b);var Wt=function(){var be=arguments,qe=nt?nt.apply(this,be):be[0],In=Wt.cache;if(In.has(qe))return In.get(qe);var qn=I.apply(this,be);return Wt.cache=In.set(qe,qn)||In,qn};return Wt.cache=new(ml.Cache||wa),Wt}ml.Cache=wa;function Rc(I){if(typeof I!="function")throw new ui(b);return function(){var nt=arguments;switch(nt.length){case 0:return!I.call(this);case 1:return!I.call(this,nt[0]);case 2:return!I.call(this,nt[0],nt[1]);case 3:return!I.call(this,nt[0],nt[1],nt[2])}return!I.apply(this,nt)}}function Jf(I){return Vf(2,I)}var dd=Yc(function(I,nt){nt=nt.length==1&&ye(nt[0])?ze(nt[0],or(Da())):ze(Co(nt,1),or(Da()));var Wt=nt.length;return yo(function(be){for(var qe=-1,In=_i(be.length,Wt);++qe<In;)be[qe]=nt[qe].call(this,be[qe]);return bt(I,this,be)})}),yl=yo(function(I,nt){var Wt=Ha(nt,uc(yl));return ou(I,k,t,nt,Wt)}),vd=yo(function(I,nt){var Wt=Ha(nt,uc(vd));return ou(I,X,t,nt,Wt)}),sf=yu(function(I,nt){return ou(I,tt,t,t,t,nt)});function kc(I,nt){if(typeof I!="function")throw new ui(b);return nt=nt===t?nt:nr(nt),yo(I,nt)}function Vd(I,nt){if(typeof I!="function")throw new ui(b);return nt=nt==null?0:ri(nr(nt),0),yo(function(Wt){var be=Wt[nt],qe=pu(Wt,0,nt);return be&&Je(qe,be),bt(I,this,qe)})}function qu(I,nt,Wt){var be=!0,qe=!0;if(typeof I!="function")throw new ui(b);return ka(Wt)&&(be="leading"in Wt?!!Wt.leading:be,qe="trailing"in Wt?!!Wt.trailing:qe),Hf(I,nt,{leading:be,maxWait:nt,trailing:qe})}function pd(I){return rf(I,1)}function l(I,nt){return yl(Vc(nt),I)}function i(){if(!arguments.length)return[];var I=arguments[0];return ye(I)?I:[I]}function e(I){return Fo(I,u)}function r(I,nt){return nt=typeof nt=="function"?nt:t,Fo(I,u,nt)}function g(I){return Fo(I,o|u)}function N(I,nt){return nt=typeof nt=="function"?nt:t,Fo(I,o|u,nt)}function at(I,nt){return nt==null||Ls(I,nt,Oo(nt))}function Tt(I,nt){return I===nt||I!==I&&nt!==nt}var zt=qc(Iu),ae=qc(function(I,nt){return I>=nt}),Oe=nc(function(){return arguments}())?nc:function(I){return K(I)&&lo.call(I,"callee")&&!Ge.call(I,"callee")},ye=zr.isArray,Ne=Qn?or(Qn):rc;function Qe(I){return I!=null&&_a(I.length)&&!ra(I)}function gn(I){return K(I)&&Qe(I)}function Tn(I){return I===!0||I===!1||K(I)&&Jo(I)==W}var cr=Oi||vv,br=fr?or(fr):Cl;function Lr(I){return K(I)&&I.nodeType===1&&!ee(I)}function Fr(I){if(I==null)return!0;if(Qe(I)&&(ye(I)||typeof I=="string"||typeof I.splice=="function"||cr(I)||$e(I)||Oe(I)))return!I.length;var nt=Qo(I);if(nt==ht||nt==Dt)return!I.size;if(fc(I))return!Yu(I).length;for(var Wt in I)if(lo.call(I,Wt))return!1;return!0}function li(I,nt){return Vu(I,nt)}function Ai(I,nt,Wt){Wt=typeof Wt=="function"?Wt:t;var be=Wt?Wt(I,nt):t;return be===t?Vu(I,nt,t,Wt):!!be}function gi(I){if(!K(I))return!1;var nt=Jo(I);return nt==y||nt==m||typeof I.message=="string"&&typeof I.name=="string"&&!ee(I)}function Ra(I){return typeof I=="number"&&ei(I)}function ra(I){if(!ka(I))return!1;var nt=Jo(I);return nt==V||nt==J||nt==D||nt==Ct}function ca(I){return typeof I=="number"&&I==nr(I)}function _a(I){return typeof I=="number"&&I>-1&&I%1==0&&I<=H}function ka(I){var nt=typeof I;return I!=null&&(nt=="object"||nt=="function")}function K(I){return I!=null&&typeof I=="object"}var G=ar?or(ar):wo;function w(I,nt){return I===nt||mo(I,nt,su(nt))}function B(I,nt,Wt){return Wt=typeof Wt=="function"?Wt:t,mo(I,nt,su(nt),Wt)}function Z(I){return kt(I)&&I!=+I}function Pt(I){if(Oh(I))throw new Ka(S);return qo(I)}function _t(I){return I===null}function q(I){return I==null}function kt(I){return typeof I=="number"||K(I)&&Jo(I)==gt}function ee(I){if(!K(I)||Jo(I)!=Lt)return!1;var nt=rn(I);if(nt===null)return!0;var Wt=lo.call(nt,"constructor")&&nt.constructor;return typeof Wt=="function"&&Wt instanceof Wt&&eu.call(Wt)==Uo}var re=an?or(an):Fs;function Te(I){return ca(I)&&I>=-H&&I<=H}var Le=Re?or(Re):Ml;function tn(I){return typeof I=="string"||!ye(I)&&K(I)&&Jo(I)==Ft}function _e(I){return typeof I=="symbol"||K(I)&&Jo(I)==Xt}var $e=L?or(L):_s;function nn(I){return I===t}function Xe(I){return K(I)&&Qo(I)==Kt}function fn(I){return K(I)&&Jo(I)==$t}var jn=qc(ic),er=qc(function(I,nt){return I<=nt});function Gn(I){if(!I)return[];if(Qe(I))return tn(I)?Hi(I):os(I);if(Ln&&I[Ln])return tu(I[Ln]());var nt=Qo(I),Wt=nt==ht?Ho:nt==Dt?So:Es;return Wt(I)}function Kn(I){if(!I)return I===0?I:0;if(I=Sr(I),I===St||I===-St){var nt=I<0?-1:1;return nt*ot}return I===I?I:0}function nr(I){var nt=Kn(I),Wt=nt%1;return nt===nt?Wt?nt-Wt:nt:0}function yr(I){return I?rs(nr(I),0,xt):0}function Sr(I){if(typeof I=="number")return I;if(_e(I))return yt;if(ka(I)){var nt=typeof I.valueOf=="function"?I.valueOf():I;I=ka(nt)?nt+"":nt}if(typeof I!="string")return I===0?I:+I;I=I.replace(Ya,"");var Wt=Pi.test(I);return Wt||Ei.test(I)?We(I.slice(2),Wt?2:8):Vr.test(I)?yt:+I}function _r(I){return au(I,ws(I))}function Wr(I){return I?rs(nr(I),-H,H):I===0?I:0}function Tr(I){return I==null?"":ms(I)}var Ur=Xu(function(I,nt){if(fc(nt)||Qe(nt)){au(nt,Oo(nt),I);return}for(var Wt in nt)lo.call(nt,Wt)&&zs(I,Wt,nt[Wt])}),ni=Xu(function(I,nt){au(nt,ws(nt),I)}),Gr=Xu(function(I,nt,Wt,be){au(nt,ws(nt),I,be)}),ki=Xu(function(I,nt,Wt,be){au(nt,Oo(nt),I,be)}),Bi=yu(Ks);function ha(I,nt){var Wt=qt(I);return nt==null?Wt:is(Wt,nt)}var ai=yo(function(I,nt){I=co(I);var Wt=-1,be=nt.length,qe=be>2?nt[2]:t;for(qe&&ns(nt[0],nt[1],qe)&&(be=1);++Wt<be;)for(var In=nt[Wt],qn=ws(In),vr=-1,jr=qn.length;++vr<jr;){var fi=qn[vr],vi=I[fi];(vi===t||Tt(vi,Mu[fi])&&!lo.call(I,fi))&&(I[fi]=In[fi])}return I}),ia=yo(function(I){return I.push(t,tl),bt($f,t,I)});function da(I,nt){return Sn(I,Da(nt,3),ls)}function ya(I,nt){return Sn(I,Da(nt,3),du)}function Go(I,nt){return I==null?I:Bs(I,Da(nt,3),ws)}function Ao(I,nt){return I==null?I:Wo(I,Da(nt,3),ws)}function ba(I,nt){return I&&ls(I,Da(nt,3))}function Va(I,nt){return I&&du(I,Da(nt,3))}function ts(I){return I==null?[]:Tu(I,Oo(I))}function fs(I){return I==null?[]:Tu(I,ws(I))}function cu(I,nt,Wt){var be=I==null?t:Ts(I,nt);return be===t?Wt:be}function lu(I,nt){return I!=null&&Hs(I,nt,wl)}function Su(I,nt){return I!=null&&Hs(I,nt,_c)}var Vo=Tf(function(I,nt,Wt){nt!=null&&typeof nt.toString!="function"&&(nt=Us.call(nt)),I[nt]=Wt},cv(Eu)),Qf=Tf(function(I,nt,Wt){nt!=null&&typeof nt.toString!="function"&&(nt=Us.call(nt)),lo.call(I,nt)?I[nt].push(Wt):I[nt]=[Wt]},Da),Yd=yo(js);function Oo(I){return Qe(I)?zo(I):Yu(I)}function ws(I){return Qe(I)?zo(I,!0):Al(I)}function gd(I,nt){var Wt={};return nt=Da(nt,3),ls(I,function(be,qe,In){$o(Wt,nt(be,qe,In),be)}),Wt}function md(I,nt){var Wt={};return nt=Da(nt,3),ls(I,function(be,qe,In){$o(Wt,qe,nt(be,qe,In))}),Wt}var Zf=Xu(function(I,nt,Wt){Tl(I,nt,Wt)}),$f=Xu(function(I,nt,Wt,be){Tl(I,nt,Wt,be)}),Xd=yu(function(I,nt){var Wt={};if(I==null)return Wt;var be=!1;nt=ze(nt,function(In){return In=Du(In,I),be||(be=In.length>1),In}),au(I,Nl(I),Wt),be&&(Wt=Fo(Wt,o|s|u,yh));for(var qe=nt.length;qe--;)Dl(Wt,nt[qe]);return Wt});function Hd(I,nt){return uf(I,Rc(Da(nt)))}var $s=yu(function(I,nt){return I==null?{}:oh(I,nt)});function uf(I,nt){if(I==null)return{};var Wt=ze(Nl(I),function(be){return[be]});return nt=Da(nt),df(I,Wt,function(be,qe){return nt(be,qe[0])})}function yd(I,nt,Wt){nt=Du(nt,I);var be=-1,qe=nt.length;for(qe||(qe=1,I=t);++be<qe;){var In=I==null?t:I[ys(nt[be])];In===t&&(be=qe,In=Wt),I=ra(In)?In.call(I):In}return I}function bd(I,nt,Wt){return I==null?I:Oc(I,nt,Wt)}function qf(I,nt,Wt,be){return be=typeof be=="function"?be:t,I==null?I:Oc(I,nt,Wt,be)}var xd=If(Oo),Kd=If(ws);function rv(I,nt,Wt){var be=ye(I),qe=be||cr(I)||$e(I);if(nt=Da(nt,4),Wt==null){var In=I&&I.constructor;qe?Wt=be?new In:[]:ka(I)?Wt=ra(In)?qt(rn(I)):{}:Wt={}}return(qe?Ee:ls)(I,function(qn,vr,jr){return nt(Wt,qn,vr,jr)}),Wt}function Ga(I,nt){return I==null?!0:Dl(I,nt)}function th(I,nt,Wt){return I==null?I:hh(I,nt,Vc(Wt))}function ov(I,nt,Wt,be){return be=typeof be=="function"?be:t,I==null?I:hh(I,nt,Vc(Wt),be)}function Es(I){return I==null?[]:Rr(I,Oo(I))}function sv(I){return I==null?[]:Rr(I,ws(I))}function Jd(I,nt,Wt){return Wt===t&&(Wt=nt,nt=t),Wt!==t&&(Wt=Sr(Wt),Wt=Wt===Wt?Wt:0),nt!==t&&(nt=Sr(nt),nt=nt===nt?nt:0),rs(Sr(I),nt,Wt)}function wu(I,nt,Wt){return nt=Kn(nt),Wt===t?(Wt=nt,nt=0):Wt=Kn(Wt),I=Sr(I),El(I,nt,Wt)}function eh(I,nt,Wt){if(Wt&&typeof Wt!="boolean"&&ns(I,nt,Wt)&&(nt=Wt=t),Wt===t&&(typeof nt=="boolean"?(Wt=nt,nt=t):typeof I=="boolean"&&(Wt=I,I=t)),I===t&&nt===t?(I=0,nt=1):(I=Kn(I),nt===t?(nt=I,I=0):nt=Kn(nt)),I>nt){var be=I;I=nt,nt=be}if(Wt||I%1||nt%1){var qe=Pn();return _i(I+qe*(nt-I+De("1e-"+((qe+"").length-1))),nt)}return jl(I,nt)}var Qd=Hu(function(I,nt,Wt){return nt=nt.toLowerCase(),I+(Wt?Od(nt):nt)});function Od(I){return Fc(Tr(I).toLowerCase())}function gc(I){return I=Tr(I),I&&I.replace(Di,Gi).replace(Fa,"")}function Zd(I,nt,Wt){I=Tr(I),nt=ms(nt);var be=I.length;Wt=Wt===t?be:rs(nr(Wt),0,be);var qe=Wt;return Wt-=nt.length,Wt>=0&&I.slice(Wt,qe)==nt}function Bu(I){return I=Tr(I),I&&Mr.test(I)?I.replace(xr,Si):I}function nh(I){return I=Tr(I),I&&Ji.test(I)?I.replace(ao,"\\$&"):I}var $d=Hu(function(I,nt,Wt){return I+(Wt?"-":"")+nt.toLowerCase()}),qd=Hu(function(I,nt,Wt){return I+(Wt?" ":"")+nt.toLowerCase()}),Nc=Mf("toLowerCase");function rh(I,nt,Wt){I=Tr(I),nt=nr(nt);var be=nt?Rs(I):0;if(!nt||be>=nt)return I;var qe=(nt-be)/2;return Zc(yn(qe),Wt)+I+Zc(Ir(qe),Wt)}function cf(I,nt,Wt){I=Tr(I),nt=nr(nt);var be=nt?Rs(I):0;return nt&&be<nt?I+Zc(nt-be,Wt):I}function iv(I,nt,Wt){I=Tr(I),nt=nr(nt);var be=nt?Rs(I):0;return nt&&be<nt?Zc(nt-be,Wt)+I:I}function Sd(I,nt,Wt){return Wt||nt==null?nt=0:nt&&(nt=+nt),pa(Tr(I).replace(Ca,""),nt||0)}function tv(I,nt,Wt){return(Wt?ns(I,nt,Wt):nt===t)?nt=1:nt=nr(nt),pf(Tr(I),nt)}function uv(){var I=arguments,nt=Tr(I[0]);return I.length<3?nt:nt.replace(I[1],I[2])}var bl=Hu(function(I,nt,Wt){return I+(Wt?"_":"")+nt.toLowerCase()});function wd(I,nt,Wt){return Wt&&typeof Wt!="number"&&ns(I,nt,Wt)&&(nt=Wt=t),Wt=Wt===t?xt:Wt>>>0,Wt?(I=Tr(I),I&&(typeof nt=="string"||nt!=null&&!re(nt))&&(nt=ms(nt),!nt&&Wa(I))?pu(Hi(I),0,Wt):I.split(nt,Wt)):[]}var ev=Hu(function(I,nt,Wt){return I+(Wt?" ":"")+Fc(nt)});function xl(I,nt,Wt){return I=Tr(I),Wt=Wt==null?0:rs(nr(Wt),0,I.length),nt=ms(nt),I.slice(Wt,Wt+nt.length)==nt}function lf(I,nt,Wt){var be=Et.templateSettings;Wt&&ns(I,nt,Wt)&&(nt=t),I=Tr(I),nt=Gr({},nt,be,Pf);var qe=Gr({},nt.imports,be.imports,Pf),In=Oo(qe),qn=Rr(qe,In),vr,jr,fi=0,vi=nt.interpolate||Fi,Ti="__p += '",$i=hu((nt.escape||Fi).source+"|"+vi.source+"|"+(vi===hi?to:Fi).source+"|"+(nt.evaluate||Fi).source+"|$","g"),Ea="//# sourceURL="+(lo.call(nt,"sourceURL")?(nt.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++_+"]")+`
`;I.replace($i,function(ro,To,Ro,Gu,fu,Uu){return Ro||(Ro=Gu),Ti+=I.slice(fi,Uu).replace(Ni,aa),To&&(vr=!0,Ti+=`' +
__e(`+To+`) +
'`),fu&&(jr=!0,Ti+=`';
`+fu+`;
__p += '`),Ro&&(Ti+=`' +
((__t = (`+Ro+`)) == null ? '' : __t) +
'`),fi=Uu+ro.length,ro}),Ti+=`';
`;var io=lo.call(nt,"variable")&&nt.variable;io||(Ti=`with (obj) {
`+Ti+`
}
`),Ti=(jr?Ti.replace(_n,""):Ti).replace($n,"$1").replace(ir,"$1;"),Ti="function("+(io||"obj")+`) {
`+(io?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(vr?", __e = _.escape":"")+(jr?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ti+`return __p
}`;var Eo=av(function(){return so(In,Ea+"return "+Ti).apply(t,qn)});if(Eo.source=Ti,gi(Eo))throw Eo;return Eo}function Io(I){return Tr(I).toLowerCase()}function qs(I){return Tr(I).toUpperCase()}function Fu(I,nt,Wt){if(I=Tr(I),I&&(Wt||nt===t))return I.replace(Ya,"");if(!I||!(nt=ms(nt)))return I;var be=Hi(I),qe=Hi(nt),In=pi(be,qe),qn=Kr(be,qe)+1;return pu(be,In,qn).join("")}function _u(I,nt,Wt){if(I=Tr(I),I&&(Wt||nt===t))return I.replace(La,"");if(!I||!(nt=ms(nt)))return I;var be=Hi(I),qe=Kr(be,Hi(nt))+1;return pu(be,0,qe).join("")}function Lc(I,nt,Wt){if(I=Tr(I),I&&(Wt||nt===t))return I.replace(Ca,"");if(!I||!(nt=ms(nt)))return I;var be=Hi(I),qe=pi(be,Hi(nt));return pu(be,qe).join("")}function Bc(I,nt){var Wt=st,be=vt;if(ka(nt)){var qe="separator"in nt?nt.separator:qe;Wt="length"in nt?nr(nt.length):Wt,be="omission"in nt?ms(nt.omission):be}I=Tr(I);var In=I.length;if(Wa(I)){var qn=Hi(I);In=qn.length}if(Wt>=In)return I;var vr=Wt-Rs(be);if(vr<1)return be;var jr=qn?pu(qn,0,vr).join(""):I.slice(0,vr);if(qe===t)return jr+be;if(qn&&(vr+=jr.length-vr),re(qe)){if(I.slice(vr).search(qe)){var fi,vi=jr;for(qe.global||(qe=hu(qe.source,Tr(Aa.exec(qe))+"g")),qe.lastIndex=0;fi=qe.exec(vi);)var Ti=fi.index;jr=jr.slice(0,Ti===t?vr:Ti)}}else if(I.indexOf(ms(qe),vr)!=vr){var $i=jr.lastIndexOf(qe);$i>-1&&(jr=jr.slice(0,$i))}return jr+be}function Ed(I){return I=Tr(I),I&&Qr.test(I)?I.replace(dr,yc):I}var ih=Hu(function(I,nt,Wt){return I+(Wt?" ":"")+nt.toUpperCase()}),Fc=Mf("toUpperCase");function Ol(I,nt,Wt){return I=Tr(I),nt=Wt?t:nt,nt===t?Zo(I)?ja(I):pn(I):I.match(nt)||[]}var av=yo(function(I,nt){try{return bt(I,t,nt)}catch(Wt){return gi(Wt)?Wt:new Ka(Wt)}}),mv=yu(function(I,nt){return Ee(nt,function(Wt){Wt=ys(Wt),$o(I,Wt,af(I[Wt],I))}),I});function yv(I){var nt=I==null?0:I.length,Wt=Da();return I=nt?ze(I,function(be){if(typeof be[1]!="function")throw new ui(b);return[Wt(be[0]),be[1]]}):[],yo(function(be){for(var qe=-1;++qe<nt;){var In=I[qe];if(bt(In[0],this,be))return bt(In[1],this,be)}})}function bv(I){return Ws(Fo(I,o))}function cv(I){return function(){return I}}function xv(I,nt){return I==null||I!==I?nt:I}var Ov=Jc(),Sv=Jc(!0);function Eu(I){return I}function lv(I){return xc(typeof I=="function"?I:Fo(I,o))}function wv(I){return ff(Fo(I,o))}function Ev(I,nt){return hf(I,Fo(nt,o))}var Cv=yo(function(I,nt){return function(Wt){return js(Wt,I,nt)}}),Mv=yo(function(I,nt){return function(Wt){return js(I,Wt,nt)}});function fv(I,nt,Wt){var be=Oo(nt),qe=Tu(nt,be);Wt==null&&!(ka(nt)&&(qe.length||!be.length))&&(Wt=nt,nt=I,I=this,qe=Tu(nt,Oo(nt)));var In=!(ka(Wt)&&"chain"in Wt)||!!Wt.chain,qn=ra(I);return Ee(qe,function(vr){var jr=nt[vr];I[vr]=jr,qn&&(I.prototype[vr]=function(){var fi=this.__chain__;if(In||fi){var vi=I(this.__wrapped__),Ti=vi.__actions__=os(this.__actions__);return Ti.push({func:jr,args:arguments,thisArg:I}),vi.__chain__=fi,vi}return jr.apply(I,Je([this.value()],arguments))})}),I}function Av(){return Yt._===this&&(Yt._=bc),this}function hv(){}function Tv(I){return I=nr(I),yo(function(nt){return zc(nt,I)})}var jv=Ku(ze),Iv=Ku(pe),Pv=Ku(Be);function pv(I){return Df(I)?Se(ys(I)):sh(I)}function Dv(I){return function(nt){return I==null?t:Ts(I,nt)}}var Rv=$c(),kv=$c(!0);function dv(){return[]}function vv(){return!1}function Nv(){return{}}function Lv(){return""}function Bv(){return!0}function Fv(I,nt){if(I=nr(I),I<1||I>H)return[];var Wt=xt,be=_i(I,xt);nt=Da(nt),I-=xt;for(var qe=zn(be,nt);++Wt<I;)nt(Wt);return qe}function _v(I){return ye(I)?ze(I,ys):_e(I)?[I]:os(Nf(Tr(I)))}function Gv(I){var nt=++tc;return Tr(I)+nt}var Uv=Js(function(I,nt){return I+nt},0),zv=Mi("ceil"),Wv=Js(function(I,nt){return I/nt},1),Vv=Mi("floor");function Yv(I){return I&&I.length?As(I,Eu,Iu):t}function Xv(I,nt){return I&&I.length?As(I,Da(nt,2),Iu):t}function Hv(I){return me(I,Eu)}function Kv(I,nt){return me(I,Da(nt,2))}function Jv(I){return I&&I.length?As(I,Eu,ic):t}function Qv(I,nt){return I&&I.length?As(I,Da(nt,2),ic):t}var Zv=Js(function(I,nt){return I*nt},1),$v=Mi("round"),qv=Js(function(I,nt){return I-nt},0);function tp(I){return I&&I.length?un(I,Eu):0}function ep(I,nt){return I&&I.length?un(I,Da(nt,2)):0}return Et.after=ld,Et.ary=rf,Et.assign=Ur,Et.assignIn=ni,Et.assignInWith=Gr,Et.assignWith=ki,Et.at=Bi,Et.before=Vf,Et.bind=af,Et.bindAll=mv,Et.bindKey=Yf,Et.castArray=i,Et.chain=Pc,Et.chunk=Mh,Et.compact=Dd,Et.concat=nv,Et.cond=yv,Et.conforms=bv,Et.constant=cv,Et.countBy=Xh,Et.create=ha,Et.curry=of,Et.curryRight=Xf,Et.debounce=Hf,Et.defaults=ai,Et.defaultsDeep=ia,Et.defer=fd,Et.delay=hd,Et.difference=Mc,Et.differenceBy=sl,Et.differenceWith=Ac,Et.drop=Ah,Et.dropRight=Ul,Et.dropRightWhile=Rd,Et.dropWhile=zl,Et.fill=Th,Et.filter=Kh,Et.flatMap=Qh,Et.flatMapDeep=Zh,Et.flatMapDepth=vl,Et.flatten=Ph,Et.flattenDeep=Dh,Et.flattenDepth=Nu,Et.flip=Kf,Et.flow=Ov,Et.flowRight=Sv,Et.fromPairs=xu,Et.functions=ts,Et.functionsIn=fs,Et.groupBy=$h,Et.initial=vc,Et.intersection=Wl,Et.intersectionBy=ul,Et.intersectionWith=kd,Et.invert=Vo,Et.invertBy=Qf,Et.invokeMap=td,Et.iteratee=lv,Et.keyBy=ed,Et.keys=Oo,Et.keysIn=ws,Et.map=nf,Et.mapKeys=gd,Et.mapValues=md,Et.matches=wv,Et.matchesProperty=Ev,Et.memoize=ml,Et.merge=Zf,Et.mergeWith=$f,Et.method=Cv,Et.methodOf=Mv,Et.mixin=fv,Et.negate=Rc,Et.nthArg=Tv,Et.omit=Xd,Et.omitBy=Hd,Et.once=Jf,Et.orderBy=nd,Et.over=jv,Et.overArgs=dd,Et.overEvery=Iv,Et.overSome=Pv,Et.partial=yl,Et.partialRight=vd,Et.partition=rd,Et.pick=$s,Et.pickBy=uf,Et.property=pv,Et.propertyOf=Dv,Et.pull=Nd,Et.pullAll=Vl,Et.pullAllBy=Ld,Et.pullAllWith=Bd,Et.pullAt=kh,Et.range=Rv,Et.rangeRight=kv,Et.rearg=sf,Et.reject=od,Et.remove=Yl,Et.rest=kc,Et.reverse=Bf,Et.sampleSize=sd,Et.set=bd,Et.setWith=qf,Et.shuffle=pl,Et.slice=Xl,Et.sortBy=cd,Et.sortedUniq=ll,Et.sortedUniqBy=Ic,Et.split=wd,Et.spread=Vd,Et.tail=Hl,Et.take=Gf,Et.takeRight=Zu,Et.takeRightWhile=Ou,Et.takeWhile=Lh,Et.tap=Wh,Et.throttle=qu,Et.thru=dl,Et.toArray=Gn,Et.toPairs=xd,Et.toPairsIn=Kd,Et.toPath=_v,Et.toPlainObject=_r,Et.transform=rv,Et.unary=pd,Et.union=Kl,Et.unionBy=Bh,Et.unionWith=fl,Et.uniq=Fh,Et.uniqBy=_h,Et.uniqWith=Gh,Et.unset=Ga,Et.unzip=Jl,Et.unzipWith=Uh,Et.update=th,Et.updateWith=ov,Et.values=Es,Et.valuesIn=sv,Et.without=Gd,Et.words=Ol,Et.wrap=l,Et.xor=Ud,Et.xorBy=zd,Et.xorWith=Ql,Et.zip=pc,Et.zipObject=Zl,Et.zipObjectDeep=hl,Et.zipWith=zh,Et.entries=xd,Et.entriesIn=Kd,Et.extend=ni,Et.extendWith=Gr,fv(Et,Et),Et.add=Uv,Et.attempt=av,Et.camelCase=Qd,Et.capitalize=Od,Et.ceil=zv,Et.clamp=Jd,Et.clone=e,Et.cloneDeep=g,Et.cloneDeepWith=N,Et.cloneWith=r,Et.conformsTo=at,Et.deburr=gc,Et.defaultTo=xv,Et.divide=Wv,Et.endsWith=Zd,Et.eq=Tt,Et.escape=Bu,Et.escapeRegExp=nh,Et.every=Hh,Et.find=Jh,Et.findIndex=jh,Et.findKey=da,Et.findLast=ql,Et.findLastIndex=Ih,Et.findLastKey=ya,Et.floor=Vv,Et.forEach=tf,Et.forEachRight=ef,Et.forIn=Go,Et.forInRight=Ao,Et.forOwn=ba,Et.forOwnRight=Va,Et.get=cu,Et.gt=zt,Et.gte=ae,Et.has=lu,Et.hasIn=Su,Et.head=Qu,Et.identity=Eu,Et.includes=qh,Et.indexOf=Ds,Et.inRange=wu,Et.invoke=Yd,Et.isArguments=Oe,Et.isArray=ye,Et.isArrayBuffer=Ne,Et.isArrayLike=Qe,Et.isArrayLikeObject=gn,Et.isBoolean=Tn,Et.isBuffer=cr,Et.isDate=br,Et.isElement=Lr,Et.isEmpty=Fr,Et.isEqual=li,Et.isEqualWith=Ai,Et.isError=gi,Et.isFinite=Ra,Et.isFunction=ra,Et.isInteger=ca,Et.isLength=_a,Et.isMap=G,Et.isMatch=w,Et.isMatchWith=B,Et.isNaN=Z,Et.isNative=Pt,Et.isNil=q,Et.isNull=_t,Et.isNumber=kt,Et.isObject=ka,Et.isObjectLike=K,Et.isPlainObject=ee,Et.isRegExp=re,Et.isSafeInteger=Te,Et.isSet=Le,Et.isString=tn,Et.isSymbol=_e,Et.isTypedArray=$e,Et.isUndefined=nn,Et.isWeakMap=Xe,Et.isWeakSet=fn,Et.join=Tc,Et.kebabCase=$d,Et.last=Zs,Et.lastIndexOf=cl,Et.lowerCase=qd,Et.lowerFirst=Nc,Et.lt=jn,Et.lte=er,Et.max=Yv,Et.maxBy=Xv,Et.mean=Hv,Et.meanBy=Kv,Et.min=Jv,Et.minBy=Qv,Et.stubArray=dv,Et.stubFalse=vv,Et.stubObject=Nv,Et.stubString=Lv,Et.stubTrue=Bv,Et.multiply=Zv,Et.nth=Rh,Et.noConflict=Av,Et.noop=hv,Et.now=gl,Et.pad=rh,Et.padEnd=cf,Et.padStart=iv,Et.parseInt=Sd,Et.random=eh,Et.reduce=id,Et.reduceRight=ad,Et.repeat=tv,Et.replace=uv,Et.result=yd,Et.round=$v,Et.runInContext=Cr,Et.sample=Dc,Et.size=ud,Et.snakeCase=bl,Et.some=Wf,Et.sortedIndex=Ff,Et.sortedIndexBy=Fd,Et.sortedIndexOf=_d,Et.sortedLastIndex=_f,Et.sortedLastIndexBy=Nh,Et.sortedLastIndexOf=jc,Et.startCase=ev,Et.startsWith=xl,Et.subtract=qv,Et.sum=tp,Et.sumBy=ep,Et.template=lf,Et.times=Fv,Et.toFinite=Kn,Et.toInteger=nr,Et.toLength=yr,Et.toLower=Io,Et.toNumber=Sr,Et.toSafeInteger=Wr,Et.toString=Tr,Et.toUpper=qs,Et.trim=Fu,Et.trimEnd=_u,Et.trimStart=Lc,Et.truncate=Bc,Et.unescape=Ed,Et.uniqueId=Gv,Et.upperCase=ih,Et.upperFirst=Fc,Et.each=tf,Et.eachRight=ef,Et.first=Qu,fv(Et,function(){var I={};return ls(Et,function(nt,Wt){lo.call(Et.prototype,Wt)||(I[Wt]=nt)}),I}(),{chain:!1}),Et.VERSION=n,Ee(["bind","bindKey","curry","curryRight","partial","partialRight"],function(I){Et[I].placeholder=Et}),Ee(["drop","take"],function(I,nt){Ie.prototype[I]=function(Wt){Wt=Wt===t?1:ri(nr(Wt),0);var be=this.__filtered__&&!nt?new Ie(this):this.clone();return be.__filtered__?be.__takeCount__=_i(Wt,be.__takeCount__):be.__views__.push({size:_i(Wt,xt),type:I+(be.__dir__<0?"Right":"")}),be},Ie.prototype[I+"Right"]=function(Wt){return this.reverse()[I](Wt).reverse()}}),Ee(["filter","map","takeWhile"],function(I,nt){var Wt=nt+1,be=Wt==rt||Wt==It;Ie.prototype[I]=function(qe){var In=this.clone();return In.__iteratees__.push({iteratee:Da(qe,3),type:Wt}),In.__filtered__=In.__filtered__||be,In}}),Ee(["head","last"],function(I,nt){var Wt="take"+(nt?"Right":"");Ie.prototype[I]=function(){return this[Wt](1).value()[0]}}),Ee(["initial","tail"],function(I,nt){var Wt="drop"+(nt?"":"Right");Ie.prototype[I]=function(){return this.__filtered__?new Ie(this):this[Wt](1)}}),Ie.prototype.compact=function(){return this.filter(Eu)},Ie.prototype.find=function(I){return this.filter(I).head()},Ie.prototype.findLast=function(I){return this.reverse().find(I)},Ie.prototype.invokeMap=yo(function(I,nt){return typeof I=="function"?new Ie(this):this.map(function(Wt){return js(Wt,I,nt)})}),Ie.prototype.reject=function(I){return this.filter(Rc(Da(I)))},Ie.prototype.slice=function(I,nt){I=nr(I);var Wt=this;return Wt.__filtered__&&(I>0||nt<0)?new Ie(Wt):(I<0?Wt=Wt.takeRight(-I):I&&(Wt=Wt.drop(I)),nt!==t&&(nt=nr(nt),Wt=nt<0?Wt.dropRight(-nt):Wt.take(nt-I)),Wt)},Ie.prototype.takeRightWhile=function(I){return this.reverse().takeWhile(I).reverse()},Ie.prototype.toArray=function(){return this.take(xt)},ls(Ie.prototype,function(I,nt){var Wt=/^(?:filter|find|map|reject)|While$/.test(nt),be=/^(?:head|last)$/.test(nt),qe=Et[be?"take"+(nt=="last"?"Right":""):nt],In=be||/^find/.test(nt);!qe||(Et.prototype[nt]=function(){var qn=this.__wrapped__,vr=be?[1]:arguments,jr=qn instanceof Ie,fi=vr[0],vi=jr||ye(qn),Ti=function(To){var Ro=qe.apply(Et,Je([To],vr));return be&&$i?Ro[0]:Ro};vi&&Wt&&typeof fi=="function"&&fi.length!=1&&(jr=vi=!1);var $i=this.__chain__,Ea=!!this.__actions__.length,io=In&&!$i,Eo=jr&&!Ea;if(!In&&vi){qn=Eo?qn:new Ie(this);var ro=I.apply(qn,vr);return ro.__actions__.push({func:dl,args:[Ti],thisArg:t}),new je(ro,$i)}return io&&Eo?I.apply(this,vr):(ro=this.thru(Ti),io?be?ro.value()[0]:ro.value():ro)})}),Ee(["pop","push","shift","sort","splice","unshift"],function(I){var nt=Jr[I],Wt=/^(?:push|sort|unshift)$/.test(I)?"tap":"thru",be=/^(?:pop|shift)$/.test(I);Et.prototype[I]=function(){var qe=arguments;if(be&&!this.__chain__){var In=this.value();return nt.apply(ye(In)?In:[],qe)}return this[Wt](function(qn){return nt.apply(ye(qn)?qn:[],qe)})}}),ls(Ie.prototype,function(I,nt){var Wt=Et[nt];if(Wt){var be=Wt.name+"";lo.call(eo,be)||(eo[be]=[]),eo[be].push({name:nt,func:Wt})}}),eo[Qc(t,j).name]=[{name:"wrapper",func:t}],Ie.prototype.clone=Ue,Ie.prototype.reverse=Ke,Ie.prototype.value=An,Et.prototype.at=Uf,Et.prototype.chain=zf,Et.prototype.commit=Vh,Et.prototype.next=Lu,Et.prototype.plant=Yh,Et.prototype.reverse=$l,Et.prototype.toJSON=Et.prototype.valueOf=Et.prototype.value=Wd,Et.prototype.first=Et.prototype.head,Ln&&(Et.prototype[Ln]=$u),Et},fa=zu();Yt._=fa,M=function(){return fa}.call(Vt,z,Vt,a),M!==t&&(a.exports=M)}).call(this)}).call(this,z("yLpj"),z("YuTi")(wr))},LvGN:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return d}),z.d(Vt,"c",function(){return A}),z.d(Vt,"d",function(){return et}),z.d(Vt,"e",function(){return V}),z.d(Vt,"b",function(){return Xt});var lt=z("iTfj"),a=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,M=/[^\s\,]+/ig;function t(Rt){var Kt=Rt||[];if(Object(lt.isArray)(Kt))return Kt;if(Object(lt.isString)(Kt))return Kt=Kt.match(a),Object(lt.each)(Kt,function($t,le){if($t=$t.match(M),$t[0].length>1){var Me=$t[0].charAt(0);$t.splice(1,0,$t[0].substr(1)),$t[0]=Me}Object(lt.each)($t,function(on,hn){isNaN(on)||($t[hn]=+on)}),Kt[le]=$t}),Kt}var n=t;function d(Rt,Kt){for(var $t=[],le=0,Me=Rt.length;Me-2*!Kt>le;le+=2){var on=[{x:+Rt[le-2],y:+Rt[le-1]},{x:+Rt[le],y:+Rt[le+1]},{x:+Rt[le+2],y:+Rt[le+3]},{x:+Rt[le+4],y:+Rt[le+5]}];Kt?le?Me-4===le?on[3]={x:+Rt[0],y:+Rt[1]}:Me-2===le&&(on[2]={x:+Rt[0],y:+Rt[1]},on[3]={x:+Rt[2],y:+Rt[3]}):on[0]={x:+Rt[Me-2],y:+Rt[Me-1]}:Me-4===le?on[3]=on[2]:le||(on[0]={x:+Rt[le],y:+Rt[le+1]}),$t.push(["C",(-on[0].x+6*on[1].x+on[2].x)/6,(-on[0].y+6*on[1].y+on[2].y)/6,(on[1].x+6*on[2].x-on[3].x)/6,(on[1].y+6*on[2].y-on[3].y)/6,on[2].x,on[2].y])}return $t}function S(Rt,Kt){var $t=[],le=[];function Me(on,hn){if(on.length===1)$t.push(on[0]),le.push(on[0]);else{for(var Cn=[],He=0;He<on.length-1;He++)He===0&&$t.push(on[0]),He===on.length-2&&le.push(on[He+1]),Cn[He]=[(1-hn)*on[He][0]+hn*on[He+1][0],(1-hn)*on[He][1]+hn*on[He+1][1]];Me(Cn,hn)}}return Rt.length&&Me(Rt,Kt),{left:$t,right:le.reverse()}}function b(Rt,Kt,$t){var le=[[Rt[1],Rt[2]]];$t=$t||2;var Me=[];Kt[0]==="A"?(le.push(Kt[6]),le.push(Kt[7])):Kt[0]==="C"?(le.push([Kt[1],Kt[2]]),le.push([Kt[3],Kt[4]]),le.push([Kt[5],Kt[6]])):Kt[0]==="S"||Kt[0]==="Q"?(le.push([Kt[1],Kt[2]]),le.push([Kt[3],Kt[4]])):le.push([Kt[1],Kt[2]]);for(var on=le,hn=1/$t,Cn=0;Cn<$t-1;Cn++){var He=hn/(1-hn*Cn),mn=S(on,He);Me.push(mn.left),on=mn.right}Me.push(on);var dn=Me.map(function(Un){var Xn=[];return Un.length===4&&(Xn.push("C"),Xn=Xn.concat(Un[2])),Un.length>=3&&(Un.length===3&&Xn.push("Q"),Xn=Xn.concat(Un[1])),Un.length===2&&Xn.push("L"),Xn=Xn.concat(Un[Un.length-1]),Xn});return dn}function h(Rt,Kt,$t){if($t===1)return[[].concat(Rt)];var le=[];if(Kt[0]==="L"||Kt[0]==="C"||Kt[0]==="Q")le=le.concat(b(Rt,Kt,$t));else{var Me=[].concat(Rt);Me[0]==="M"&&(Me[0]="L");for(var on=0;on<=$t-1;on++)le.push(Me)}return le}function E(Rt,Kt){if(Rt.length===1)return Rt;var $t=Rt.length-1,le=Kt.length-1,Me=$t/le,on=[];if(Rt.length===1&&Rt[0][0]==="M"){for(var hn=0;hn<le-$t;hn++)Rt.push(Rt[0]);return Rt}for(var hn=0;hn<le;hn++){var Cn=Math.floor(Me*hn);on[Cn]=(on[Cn]||0)+1}var He=on.reduce(function(mn,dn,Un){return Un===$t?mn.concat(Rt[$t]):mn.concat(h(Rt[Un],Rt[Un+1],dn))},[]);return He.unshift(Rt[0]),(Kt[le]==="Z"||Kt[le]==="z")&&He.push("Z"),He}function T(Rt,Kt,$t){var le=null,Me=$t;return Kt<Me&&(Me=Kt,le="add"),Rt<Me&&(Me=Rt,le="del"),{type:le,min:Me}}var o=function(Kt,$t){var le=Kt.length,Me=$t.length,on,hn,Cn=0;if(le===0||Me===0)return null;for(var He=[],mn=0;mn<=le;mn++)He[mn]=[],He[mn][0]={min:mn};for(var dn=0;dn<=Me;dn++)He[0][dn]={min:dn};for(var mn=1;mn<=le;mn++){on=Kt[mn-1];for(var dn=1;dn<=Me;dn++){hn=$t[dn-1],Object(lt.isEqual)(on,hn)?Cn=0:Cn=1;var Un=He[mn-1][dn].min+1,Xn=He[mn][dn-1].min+1,Hn=He[mn-1][dn-1].min+Cn;He[mn][dn]=T(Un,Xn,Hn)}}return He};function s(Rt,Kt){var $t=o(Rt,Kt),le=Rt.length,Me=Kt.length,on=[],hn=1,Cn=1;if($t[le][Me]!==le){for(var He=1;He<=le;He++){var mn=$t[He][He].min;Cn=He;for(var dn=hn;dn<=Me;dn++)$t[He][dn].min<mn&&(mn=$t[He][dn].min,Cn=dn);hn=Cn,$t[He][hn].type&&on.push({index:He-1,type:$t[He][hn].type})}for(var He=on.length-1;He>=0;He--)hn=on[He].index,on[He].type==="add"?Rt.splice(hn,0,[].concat(Rt[hn])):Rt.splice(hn,1)}if(le=Rt.length,le<Me)for(var He=0;He<Me-le;He++)Rt[le-1][0]==="z"||Rt[le-1][0]==="Z"?Rt.splice(le-2,0,Rt[le-2]):Rt.push(Rt[le-1]);return Rt}function u(Rt){var Kt=[];switch(Rt[0]){case"M":Kt.push([Rt[1],Rt[2]]);break;case"L":Kt.push([Rt[1],Rt[2]]);break;case"A":Kt.push([Rt[6],Rt[7]]);break;case"Q":Kt.push([Rt[3],Rt[4]]),Kt.push([Rt[1],Rt[2]]);break;case"T":Kt.push([Rt[1],Rt[2]]);break;case"C":Kt.push([Rt[5],Rt[6]]),Kt.push([Rt[1],Rt[2]]),Kt.push([Rt[3],Rt[4]]);break;case"S":Kt.push([Rt[3],Rt[4]]),Kt.push([Rt[1],Rt[2]]);break;case"H":Kt.push([Rt[1],Rt[1]]);break;case"V":Kt.push([Rt[1],Rt[1]]);break;default:}return Kt}function v(Rt,Kt,$t){for(var le=[].concat(Rt),Me,on=1/($t+1),hn=u(Kt)[0],Cn=1;Cn<=$t;Cn++)on*=Cn,Me=Math.floor(Rt.length*on),Me===0?le.unshift([hn[0]*on+Rt[Me][0]*(1-on),hn[1]*on+Rt[Me][1]*(1-on)]):le.splice(Me,0,[hn[0]*on+Rt[Me][0]*(1-on),hn[1]*on+Rt[Me][1]*(1-on)]);return le}function C(Rt,Kt){if(Rt.length<=1)return Rt;for(var $t,le=0;le<Kt.length;le++)if(Rt[le][0]!==Kt[le][0])switch($t=u(Rt[le]),Kt[le][0]){case"M":Rt[le]=["M"].concat($t[0]);break;case"L":Rt[le]=["L"].concat($t[0]);break;case"A":Rt[le]=[].concat(Kt[le]),Rt[le][6]=$t[0][0],Rt[le][7]=$t[0][1];break;case"Q":if($t.length<2)if(le>0)$t=v($t,Rt[le-1],1);else{Rt[le]=Kt[le];break}Rt[le]=["Q"].concat($t.reduce(function(Me,on){return Me.concat(on)},[]));break;case"T":Rt[le]=["T"].concat($t[0]);break;case"C":if($t.length<3)if(le>0)$t=v($t,Rt[le-1],2);else{Rt[le]=Kt[le];break}Rt[le]=["C"].concat($t.reduce(function(Me,on){return Me.concat(on)},[]));break;case"S":if($t.length<2)if(le>0)$t=v($t,Rt[le-1],1);else{Rt[le]=Kt[le];break}Rt[le]=["S"].concat($t.reduce(function(Me,on){return Me.concat(on)},[]));break;default:Rt[le]=Kt[le]}return Rt}function O(Rt,Kt,$t,le,Me){return Me?[["M",+Rt+ +Me,Kt],["l",$t-Me*2,0],["a",Me,Me,0,0,1,Me,Me],["l",0,le-Me*2],["a",Me,Me,0,0,1,-Me,Me],["l",Me*2-$t,0],["a",Me,Me,0,0,1,-Me,-Me],["l",0,Me*2-le],["a",Me,Me,0,0,1,Me,-Me],["z"]]:[["M",Rt,Kt],["l",$t,0],["l",0,le],["l",-$t,0],["z"]]}var j=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,p=new RegExp("([a-z])["+j+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+j+"]*,?["+j+"]*)+)","ig"),x=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+j+"]*,?["+j+"]*","ig");function A(Rt){if(!Rt)return null;if(Object(lt.isArray)(Rt))return Rt;var Kt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},$t=[];return String(Rt).replace(p,function(le,Me,on){var hn=[],Cn=Me.toLowerCase();if(on.replace(x,function(He,mn){mn&&hn.push(+mn)}),Cn==="m"&&hn.length>2&&($t.push([Me].concat(hn.splice(0,2))),Cn="l",Me=Me==="m"?"l":"L"),Cn==="o"&&hn.length===1&&$t.push([Me,hn[0]]),Cn==="r")$t.push([Me].concat(hn));else for(;hn.length>=Kt[Cn]&&($t.push([Me].concat(hn.splice(0,Kt[Cn]))),!!Kt[Cn]););return""}),$t}var k=/[a-z]/;function X(Rt,Kt){return[Kt[0]+(Kt[0]-Rt[0]),Kt[1]+(Kt[1]-Rt[1])]}function et(Rt){var Kt=A(Rt);if(!Kt||!Kt.length)return[["M",0,0]];for(var $t=!1,le=0;le<Kt.length;le++){var Me=Kt[le][0];if(k.test(Me)||["V","H","T","S"].indexOf(Me)>=0){$t=!0;break}}if(!$t)return Kt;var on=[],hn=0,Cn=0,He=0,mn=0,dn=0,Un,Xn,Hn=Kt[0];(Hn[0]==="M"||Hn[0]==="m")&&(hn=+Hn[1],Cn=+Hn[2],He=hn,mn=Cn,dn++,on[0]=["M",hn,Cn]);for(var le=dn,_n=Kt.length;le<_n;le++){var $n=Kt[le],ir=on[le-1],dr=[],Me=$n[0],xr=Me.toUpperCase();if(Me!==xr)switch(dr[0]=xr,xr){case"A":dr[1]=$n[1],dr[2]=$n[2],dr[3]=$n[3],dr[4]=$n[4],dr[5]=$n[5],dr[6]=+$n[6]+hn,dr[7]=+$n[7]+Cn;break;case"V":dr[1]=+$n[1]+Cn;break;case"H":dr[1]=+$n[1]+hn;break;case"M":He=+$n[1]+hn,mn=+$n[2]+Cn;break;default:for(var Qr=1,Mr=$n.length;Qr<Mr;Qr++)dr[Qr]=+$n[Qr]+(Qr%2?hn:Cn)}else dr=Kt[le];switch(xr){case"Z":hn=+He,Cn=+mn;break;case"H":hn=dr[1],dr=["L",hn,Cn];break;case"V":Cn=dr[1],dr=["L",hn,Cn];break;case"T":hn=dr[1],Cn=dr[2];var Er=X([ir[1],ir[2]],[ir[3],ir[4]]);dr=["Q",Er[0],Er[1],hn,Cn];break;case"S":hn=dr[dr.length-2],Cn=dr[dr.length-1];var Dr=ir.length,hi=X([ir[Dr-4],ir[Dr-3]],[ir[Dr-2],ir[Dr-1]]);dr=["C",hi[0],hi[1],dr[1],dr[2],hn,Cn];break;case"M":He=dr[dr.length-2],mn=dr[dr.length-1];break;default:hn=dr[dr.length-2],Cn=dr[dr.length-1]}on.push(dr)}return on}var tt=function Rt(Kt,$t,le,Me,on,hn,Cn,He,mn,dn){le===Me&&(le+=1);var Un=Math.PI*120/180,Xn=Math.PI/180*(+on||0),Hn=[],_n,$n,ir,dr,xr,Qr=function(Fi,Ni,ji){var Xi=Fi*Math.cos(ji)-Ni*Math.sin(ji),Ki=Fi*Math.sin(ji)+Ni*Math.cos(ji);return{x:Xi,y:Ki}};if(dn)$n=dn[0],ir=dn[1],dr=dn[2],xr=dn[3];else{_n=Qr(Kt,$t,-Xn),Kt=_n.x,$t=_n.y,_n=Qr(He,mn,-Xn),He=_n.x,mn=_n.y,Kt===He&&$t===mn&&(He+=1,mn+=1);var Mr=(Kt-He)/2,Er=($t-mn)/2,Dr=Mr*Mr/(le*le)+Er*Er/(Me*Me);Dr>1&&(Dr=Math.sqrt(Dr),le=Dr*le,Me=Dr*Me);var hi=le*le,Wi=Me*Me,oa=(hn===Cn?-1:1)*Math.sqrt(Math.abs((hi*Wi-hi*Er*Er-Wi*Mr*Mr)/(hi*Er*Er+Wi*Mr*Mr)));dr=oa*le*Er/Me+(Kt+He)/2,xr=oa*-Me*Mr/le+($t+mn)/2,$n=Math.asin(Number((($t-xr)/Me).toFixed(9))),ir=Math.asin(Number(((mn-xr)/Me).toFixed(9))),$n=Kt<dr?Math.PI-$n:$n,ir=He<dr?Math.PI-ir:ir,$n<0&&($n=Math.PI*2+$n),ir<0&&(ir=Math.PI*2+ir),Cn&&$n>ir&&($n=$n-Math.PI*2),!Cn&&ir>$n&&(ir=ir-Math.PI*2)}var Za=ir-$n;if(Math.abs(Za)>Un){var ao=ir,Ji=He,Ya=mn;ir=$n+Un*(Cn&&ir>$n?1:-1),He=dr+le*Math.cos(ir),mn=xr+Me*Math.sin(ir),Hn=Rt(He,mn,le,Me,on,0,Cn,Ji,Ya,[ir,ao,dr,xr])}Za=ir-$n;var Ca=Math.cos($n),La=Math.sin($n),Ba=Math.cos(ir),oo=Math.sin(ir),Yr=Math.tan(Za/4),$a=4/3*le*Yr,Ma=4/3*Me*Yr,to=[Kt,$t],Aa=[Kt+$a*La,$t-Ma*Ca],Vr=[He+$a*oo,mn-Ma*Ba],Pi=[He,mn];if(Aa[0]=2*to[0]-Aa[0],Aa[1]=2*to[1]-Aa[1],dn)return[Aa,Vr,Pi].concat(Hn);Hn=[Aa,Vr,Pi].concat(Hn).join().split(",");for(var wi=[],Ei=0,bi=Hn.length;Ei<bi;Ei++)wi[Ei]=Ei%2?Qr(Hn[Ei-1],Hn[Ei],Xn).y:Qr(Hn[Ei],Hn[Ei+1],Xn).x;return wi},ft=function(Kt,$t,le,Me){return[Kt,$t,le,Me,le,Me]},st=function(Kt,$t,le,Me,on,hn){var Cn=1/3,He=2/3;return[Cn*Kt+He*le,Cn*$t+He*Me,Cn*on+He*le,Cn*hn+He*Me,on,hn]};function vt(Rt,Kt){var $t=et(Rt),le=Kt&&et(Kt),Me={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},on={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},hn=[],Cn=[],He="",mn="",dn,Un=function(Mr,Er,Dr){var hi,Wi;if(!Mr)return["C",Er.x,Er.y,Er.x,Er.y,Er.x,Er.y];switch(!(Mr[0]in{T:1,Q:1})&&(Er.qx=Er.qy=null),Mr[0]){case"M":Er.X=Mr[1],Er.Y=Mr[2];break;case"A":Mr=["C"].concat(tt.apply(0,[Er.x,Er.y].concat(Mr.slice(1))));break;case"S":Dr==="C"||Dr==="S"?(hi=Er.x*2-Er.bx,Wi=Er.y*2-Er.by):(hi=Er.x,Wi=Er.y),Mr=["C",hi,Wi].concat(Mr.slice(1));break;case"T":Dr==="Q"||Dr==="T"?(Er.qx=Er.x*2-Er.qx,Er.qy=Er.y*2-Er.qy):(Er.qx=Er.x,Er.qy=Er.y),Mr=["C"].concat(st(Er.x,Er.y,Er.qx,Er.qy,Mr[1],Mr[2]));break;case"Q":Er.qx=Mr[1],Er.qy=Mr[2],Mr=["C"].concat(st(Er.x,Er.y,Mr[1],Mr[2],Mr[3],Mr[4]));break;case"L":Mr=["C"].concat(ft(Er.x,Er.y,Mr[1],Mr[2]));break;case"H":Mr=["C"].concat(ft(Er.x,Er.y,Mr[1],Er.y));break;case"V":Mr=["C"].concat(ft(Er.x,Er.y,Er.x,Mr[1]));break;case"Z":Mr=["C"].concat(ft(Er.x,Er.y,Er.X,Er.Y));break;default:break}return Mr},Xn=function(Mr,Er){if(Mr[Er].length>7){Mr[Er].shift();for(var Dr=Mr[Er];Dr.length;)hn[Er]="A",le&&(Cn[Er]="A"),Mr.splice(Er++,0,["C"].concat(Dr.splice(0,6)));Mr.splice(Er,1),dn=Math.max($t.length,le&&le.length||0)}},Hn=function(Mr,Er,Dr,hi,Wi){Mr&&Er&&Mr[Wi][0]==="M"&&Er[Wi][0]!=="M"&&(Er.splice(Wi,0,["M",hi.x,hi.y]),Dr.bx=0,Dr.by=0,Dr.x=Mr[Wi][1],Dr.y=Mr[Wi][2],dn=Math.max($t.length,le&&le.length||0))};dn=Math.max($t.length,le&&le.length||0);for(var _n=0;_n<dn;_n++){$t[_n]&&(He=$t[_n][0]),He!=="C"&&(hn[_n]=He,_n&&(mn=hn[_n-1])),$t[_n]=Un($t[_n],Me,mn),hn[_n]!=="A"&&He==="C"&&(hn[_n]="C"),Xn($t,_n),le&&(le[_n]&&(He=le[_n][0]),He!=="C"&&(Cn[_n]=He,_n&&(mn=Cn[_n-1])),le[_n]=Un(le[_n],on,mn),Cn[_n]!=="A"&&He==="C"&&(Cn[_n]="C"),Xn(le,_n)),Hn($t,le,Me,on,_n),Hn(le,$t,on,Me,_n);var $n=$t[_n],ir=le&&le[_n],dr=$n.length,xr=le&&ir.length;Me.x=$n[dr-2],Me.y=$n[dr-1],Me.bx=parseFloat($n[dr-4])||Me.x,Me.by=parseFloat($n[dr-3])||Me.y,on.bx=le&&(parseFloat(ir[xr-4])||on.x),on.by=le&&(parseFloat(ir[xr-3])||on.y),on.x=le&&ir[xr-2],on.y=le&&ir[xr-1]}return le?[$t,le]:$t}var mt=function(Kt,$t,le,Me,on){var hn=-3*$t+9*le-9*Me+3*on,Cn=Kt*hn+6*$t-12*le+6*Me;return Kt*Cn-3*$t+3*le},pt=function(Kt,$t,le,Me,on,hn,Cn,He,mn){mn===null&&(mn=1),mn=mn>1?1:mn<0?0:mn;for(var dn=mn/2,Un=12,Xn=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Hn=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],_n=0,$n=0;$n<Un;$n++){var ir=dn*Xn[$n]+dn,dr=mt(ir,Kt,le,on,Cn),xr=mt(ir,$t,Me,hn,He),Qr=dr*dr+xr*xr;_n+=Hn[$n]*Math.sqrt(Qr)}return dn*_n},rt=function(Kt,$t,le,Me,on,hn,Cn,He){for(var mn=[],dn=[[],[]],Un,Xn,Hn,_n,$n=0;$n<2;++$n){if($n===0?(Xn=6*Kt-12*le+6*on,Un=-3*Kt+9*le-9*on+3*Cn,Hn=3*le-3*Kt):(Xn=6*$t-12*Me+6*hn,Un=-3*$t+9*Me-9*hn+3*He,Hn=3*Me-3*$t),Math.abs(Un)<1e-12){if(Math.abs(Xn)<1e-12)continue;_n=-Hn/Xn,_n>0&&_n<1&&mn.push(_n);continue}var ir=Xn*Xn-4*Hn*Un,dr=Math.sqrt(ir);if(!(ir<0)){var xr=(-Xn+dr)/(2*Un);xr>0&&xr<1&&mn.push(xr);var Qr=(-Xn-dr)/(2*Un);Qr>0&&Qr<1&&mn.push(Qr)}}for(var Mr=mn.length,Er=Mr,Dr;Mr--;)_n=mn[Mr],Dr=1-_n,dn[0][Mr]=Dr*Dr*Dr*Kt+3*Dr*Dr*_n*le+3*Dr*_n*_n*on+_n*_n*_n*Cn,dn[1][Mr]=Dr*Dr*Dr*$t+3*Dr*Dr*_n*Me+3*Dr*_n*_n*hn+_n*_n*_n*He;return dn[0][Er]=Kt,dn[1][Er]=$t,dn[0][Er+1]=Cn,dn[1][Er+1]=He,dn[0].length=dn[1].length=Er+2,{min:{x:Math.min.apply(0,dn[0]),y:Math.min.apply(0,dn[1])},max:{x:Math.max.apply(0,dn[0]),y:Math.max.apply(0,dn[1])}}},Bt=function(Kt,$t,le,Me,on,hn,Cn,He){if(!(Math.max(Kt,le)<Math.min(on,Cn)||Math.min(Kt,le)>Math.max(on,Cn)||Math.max($t,Me)<Math.min(hn,He)||Math.min($t,Me)>Math.max(hn,He))){var mn=(Kt*Me-$t*le)*(on-Cn)-(Kt-le)*(on*He-hn*Cn),dn=(Kt*Me-$t*le)*(hn-He)-($t-Me)*(on*He-hn*Cn),Un=(Kt-le)*(hn-He)-($t-Me)*(on-Cn);if(!!Un){var Xn=mn/Un,Hn=dn/Un,_n=+Xn.toFixed(2),$n=+Hn.toFixed(2);if(!(_n<+Math.min(Kt,le).toFixed(2)||_n>+Math.max(Kt,le).toFixed(2)||_n<+Math.min(on,Cn).toFixed(2)||_n>+Math.max(on,Cn).toFixed(2)||$n<+Math.min($t,Me).toFixed(2)||$n>+Math.max($t,Me).toFixed(2)||$n<+Math.min(hn,He).toFixed(2)||$n>+Math.max(hn,He).toFixed(2)))return{x:Xn,y:Hn}}}},It=function(Kt,$t,le){return $t>=Kt.x&&$t<=Kt.x+Kt.width&&le>=Kt.y&&le<=Kt.y+Kt.height},St=function(Kt,$t,le,Me){return Kt===null&&(Kt=$t=le=Me=0),$t===null&&($t=Kt.y,le=Kt.width,Me=Kt.height,Kt=Kt.x),{x:Kt,y:$t,width:le,w:le,height:Me,h:Me,x2:Kt+le,y2:$t+Me,cx:Kt+le/2,cy:$t+Me/2,r1:Math.min(le,Me)/2,r2:Math.max(le,Me)/2,r0:Math.sqrt(le*le+Me*Me)/2,path:O(Kt,$t,le,Me),vb:[Kt,$t,le,Me].join(" ")}},H=function(Kt,$t){return Kt=St(Kt),$t=St($t),It($t,Kt.x,Kt.y)||It($t,Kt.x2,Kt.y)||It($t,Kt.x,Kt.y2)||It($t,Kt.x2,Kt.y2)||It(Kt,$t.x,$t.y)||It(Kt,$t.x2,$t.y)||It(Kt,$t.x,$t.y2)||It(Kt,$t.x2,$t.y2)||(Kt.x<$t.x2&&Kt.x>$t.x||$t.x<Kt.x2&&$t.x>Kt.x)&&(Kt.y<$t.y2&&Kt.y>$t.y||$t.y<Kt.y2&&$t.y>Kt.y)},ot=function(Kt,$t,le,Me,on,hn,Cn,He){Object(lt.isArray)(Kt)||(Kt=[Kt,$t,le,Me,on,hn,Cn,He]);var mn=rt.apply(null,Kt);return St(mn.min.x,mn.min.y,mn.max.x-mn.min.x,mn.max.y-mn.min.y)},yt=function(Kt,$t,le,Me,on,hn,Cn,He,mn){var dn=1-mn,Un=Math.pow(dn,3),Xn=Math.pow(dn,2),Hn=mn*mn,_n=Hn*mn,$n=Un*Kt+Xn*3*mn*le+dn*3*mn*mn*on+_n*Cn,ir=Un*$t+Xn*3*mn*Me+dn*3*mn*mn*hn+_n*He,dr=Kt+2*mn*(le-Kt)+Hn*(on-2*le+Kt),xr=$t+2*mn*(Me-$t)+Hn*(hn-2*Me+$t),Qr=le+2*mn*(on-le)+Hn*(Cn-2*on+le),Mr=Me+2*mn*(hn-Me)+Hn*(He-2*hn+Me),Er=dn*Kt+mn*le,Dr=dn*$t+mn*Me,hi=dn*on+mn*Cn,Wi=dn*hn+mn*He,oa=90-Math.atan2(dr-Qr,xr-Mr)*180/Math.PI;return{x:$n,y:ir,m:{x:dr,y:xr},n:{x:Qr,y:Mr},start:{x:Er,y:Dr},end:{x:hi,y:Wi},alpha:oa}},xt=function(Kt,$t,le){var Me=ot(Kt),on=ot($t);if(!H(Me,on))return le?0:[];for(var hn=pt.apply(0,Kt),Cn=pt.apply(0,$t),He=~~(hn/8),mn=~~(Cn/8),dn=[],Un=[],Xn={},Hn=le?0:[],_n=0;_n<He+1;_n++){var $n=yt.apply(0,Kt.concat(_n/He));dn.push({x:$n.x,y:$n.y,t:_n/He})}for(var _n=0;_n<mn+1;_n++){var $n=yt.apply(0,$t.concat(_n/mn));Un.push({x:$n.x,y:$n.y,t:_n/mn})}for(var _n=0;_n<He;_n++)for(var ir=0;ir<mn;ir++){var dr=dn[_n],xr=dn[_n+1],Qr=Un[ir],Mr=Un[ir+1],Er=Math.abs(xr.x-dr.x)<.001?"y":"x",Dr=Math.abs(Mr.x-Qr.x)<.001?"y":"x",hi=Bt(dr.x,dr.y,xr.x,xr.y,Qr.x,Qr.y,Mr.x,Mr.y);if(hi){if(Xn[hi.x.toFixed(4)]===hi.y.toFixed(4))continue;Xn[hi.x.toFixed(4)]=hi.y.toFixed(4);var Wi=dr.t+Math.abs((hi[Er]-dr[Er])/(xr[Er]-dr[Er]))*(xr.t-dr.t),oa=Qr.t+Math.abs((hi[Dr]-Qr[Dr])/(Mr[Dr]-Qr[Dr]))*(Mr.t-Qr.t);Wi>=0&&Wi<=1&&oa>=0&&oa<=1&&(le?Hn++:Hn.push({x:hi.x,y:hi.y,t1:Wi,t2:oa}))}}return Hn},wt=function(Kt,$t,le){Kt=vt(Kt),$t=vt($t);for(var Me,on,hn,Cn,He,mn,dn,Un,Xn,Hn,_n=le?0:[],$n=0,ir=Kt.length;$n<ir;$n++){var dr=Kt[$n];if(dr[0]==="M")Me=He=dr[1],on=mn=dr[2];else{dr[0]==="C"?(Xn=[Me,on].concat(dr.slice(1)),Me=Xn[6],on=Xn[7]):(Xn=[Me,on,Me,on,He,mn,He,mn],Me=He,on=mn);for(var xr=0,Qr=$t.length;xr<Qr;xr++){var Mr=$t[xr];if(Mr[0]==="M")hn=dn=Mr[1],Cn=Un=Mr[2];else{Mr[0]==="C"?(Hn=[hn,Cn].concat(Mr.slice(1)),hn=Hn[6],Cn=Hn[7]):(Hn=[hn,Cn,hn,Cn,dn,Un,dn,Un],hn=dn,Cn=Un);var Er=xt(Xn,Hn,le);if(le)_n+=Er;else{for(var Dr=0,hi=Er.length;Dr<hi;Dr++)Er[Dr].segment1=$n,Er[Dr].segment2=xr,Er[Dr].bez1=Xn,Er[Dr].bez2=Hn;_n=_n.concat(Er)}}}}}return _n};function Q(Rt,Kt){return wt(Rt,Kt)}var ct=/,?([a-z]),?/gi;function it(Rt){return Rt.join(",").replace(ct,"$1")}function U(Rt){return Math.sqrt(Rt[0]*Rt[0]+Rt[1]*Rt[1])}function D(Rt,Kt){return U(Rt)*U(Kt)?(Rt[0]*Kt[0]+Rt[1]*Kt[1])/(U(Rt)*U(Kt)):1}function W(Rt,Kt){return(Rt[0]*Kt[1]<Rt[1]*Kt[0]?-1:1)*Math.acos(D(Rt,Kt))}function P(Rt,Kt){return Rt[0]===Kt[0]&&Rt[1]===Kt[1]}function m(Rt,Kt){var $t=Kt[1],le=Kt[2],Me=Object(lt.mod)(Object(lt.toRadian)(Kt[3]),Math.PI*2),on=Kt[4],hn=Kt[5],Cn=Rt[0],He=Rt[1],mn=Kt[6],dn=Kt[7],Un=Math.cos(Me)*(Cn-mn)/2+Math.sin(Me)*(He-dn)/2,Xn=-1*Math.sin(Me)*(Cn-mn)/2+Math.cos(Me)*(He-dn)/2,Hn=Un*Un/($t*$t)+Xn*Xn/(le*le);Hn>1&&($t*=Math.sqrt(Hn),le*=Math.sqrt(Hn));var _n=$t*$t*(Xn*Xn)+le*le*(Un*Un),$n=_n?Math.sqrt(($t*$t*(le*le)-_n)/_n):1;on===hn&&($n*=-1),isNaN($n)&&($n=0);var ir=le?$n*$t*Xn/le:0,dr=$t?$n*-le*Un/$t:0,xr=(Cn+mn)/2+Math.cos(Me)*ir-Math.sin(Me)*dr,Qr=(He+dn)/2+Math.sin(Me)*ir+Math.cos(Me)*dr,Mr=[(Un-ir)/$t,(Xn-dr)/le],Er=[(-1*Un-ir)/$t,(-1*Xn-dr)/le],Dr=W([1,0],Mr),hi=W(Mr,Er);return D(Mr,Er)<=-1&&(hi=Math.PI),D(Mr,Er)>=1&&(hi=0),hn===0&&hi>0&&(hi=hi-2*Math.PI),hn===1&&hi<0&&(hi=hi+2*Math.PI),{cx:xr,cy:Qr,rx:P(Rt,[mn,dn])?0:$t,ry:P(Rt,[mn,dn])?0:le,startAngle:Dr,endAngle:Dr+hi,xRotation:Me,arcFlag:on,sweepFlag:hn}}function y(Rt,Kt){return[Kt[0]+(Kt[0]-Rt[0]),Kt[1]+(Kt[1]-Rt[1])]}function V(Rt){Rt=n(Rt);for(var Kt=[],$t=null,le=null,Me=null,on=0,hn=Rt.length,Cn=0;Cn<hn;Cn++){var He=Rt[Cn];le=Rt[Cn+1];var mn=He[0],dn={command:mn,prePoint:$t,params:He,startTangent:null,endTangent:null};switch(mn){case"M":Me=[He[1],He[2]],on=Cn;break;case"A":var Un=m($t,He);dn.arcParams=Un;break;default:break}if(mn==="Z")$t=Me,le=Rt[on+1];else{var Xn=He.length;$t=[He[Xn-2],He[Xn-1]]}le&&le[0]==="Z"&&(le=Rt[on],Kt[on]&&(Kt[on].prePoint=$t)),dn.currentPoint=$t,Kt[on]&&P($t,Kt[on].currentPoint)&&(Kt[on].prePoint=dn.prePoint);var Hn=le?[le[le.length-2],le[le.length-1]]:null;dn.nextPoint=Hn;var _n=dn.prePoint;if(["L","H","V"].includes(mn))dn.startTangent=[_n[0]-$t[0],_n[1]-$t[1]],dn.endTangent=[$t[0]-_n[0],$t[1]-_n[1]];else if(mn==="Q"){var $n=[He[1],He[2]];dn.startTangent=[_n[0]-$n[0],_n[1]-$n[1]],dn.endTangent=[$t[0]-$n[0],$t[1]-$n[1]]}else if(mn==="T"){var ir=Kt[Cn-1],$n=y(ir.currentPoint,_n);ir.command==="Q"?(dn.command="Q",dn.startTangent=[_n[0]-$n[0],_n[1]-$n[1]],dn.endTangent=[$t[0]-$n[0],$t[1]-$n[1]]):(dn.command="TL",dn.startTangent=[_n[0]-$t[0],_n[1]-$t[1]],dn.endTangent=[$t[0]-_n[0],$t[1]-_n[1]])}else if(mn==="C"){var dr=[He[1],He[2]],xr=[He[3],He[4]];dn.startTangent=[_n[0]-dr[0],_n[1]-dr[1]],dn.endTangent=[$t[0]-xr[0],$t[1]-xr[1]]}else if(mn==="S"){var ir=Kt[Cn-1],dr=y(ir.currentPoint,_n),xr=[He[1],He[2]];ir.command==="C"?(dn.command="C",dn.startTangent=[_n[0]-dr[0],_n[1]-dr[1]],dn.endTangent=[$t[0]-xr[0],$t[1]-xr[1]]):(dn.command="SQ",dn.startTangent=[_n[0]-xr[0],_n[1]-xr[1]],dn.endTangent=[$t[0]-xr[0],$t[1]-xr[1]])}else if(mn==="A"){var Qr=.001,Mr=dn.arcParams||{},Er=Mr.cx,Dr=Er===void 0?0:Er,hi=Mr.cy,Wi=hi===void 0?0:hi,oa=Mr.rx,Za=oa===void 0?0:oa,ao=Mr.ry,Ji=ao===void 0?0:ao,Ya=Mr.sweepFlag,Ca=Ya===void 0?0:Ya,La=Mr.startAngle,Ba=La===void 0?0:La,oo=Mr.endAngle,Yr=oo===void 0?0:oo;Ca===0&&(Qr*=-1);var $a=Za*Math.cos(Ba-Qr)+Dr,Ma=Ji*Math.sin(Ba-Qr)+Wi;dn.startTangent=[$a-Me[0],Ma-Me[1]];var to=Za*Math.cos(Ba+Yr+Qr)+Dr,Aa=Ji*Math.sin(Ba+Yr-Qr)+Wi;dn.endTangent=[_n[0]-to,_n[1]-Aa]}Kt.push(dn)}return Kt}var J=function(Kt,$t,le){return Kt>=$t&&Kt<=le};function ht(Rt,Kt,$t,le){var Me=.001,on={x:$t.x-Rt.x,y:$t.y-Rt.y},hn={x:Kt.x-Rt.x,y:Kt.y-Rt.y},Cn={x:le.x-$t.x,y:le.y-$t.y},He=hn.x*Cn.y-hn.y*Cn.x,mn=He*He,dn=hn.x*hn.x+hn.y*hn.y,Un=Cn.x*Cn.x+Cn.y*Cn.y,Xn=null;if(mn>Me*dn*Un){var Hn=(on.x*Cn.y-on.y*Cn.x)/He,_n=(on.x*hn.y-on.y*hn.x)/He;J(Hn,0,1)&&J(_n,0,1)&&(Xn={x:Rt.x+Hn*hn.x,y:Rt.y+Hn*hn.y})}return Xn}var gt=1e-6;function Mt(Rt){return Math.abs(Rt)<gt?0:Rt<0?-1:1}function Lt(Rt,Kt,$t){return($t[0]-Rt[0])*(Kt[1]-Rt[1])==(Kt[0]-Rt[0])*($t[1]-Rt[1])&&Math.min(Rt[0],Kt[0])<=$t[0]&&$t[0]<=Math.max(Rt[0],Kt[0])&&Math.min(Rt[1],Kt[1])<=$t[1]&&$t[1]<=Math.max(Rt[1],Kt[1])}function At(Rt,Kt,$t){var le=!1,Me=Rt.length;if(Me<=2)return!1;for(var on=0;on<Me;on++){var hn=Rt[on],Cn=Rt[(on+1)%Me];if(Lt(hn,Cn,[Kt,$t]))return!0;Mt(hn[1]-$t)>0!=Mt(Cn[1]-$t)>0&&Mt(Kt-($t-hn[1])*(hn[0]-Cn[0])/(hn[1]-Cn[1])-hn[0])<0&&(le=!le)}return le}function Ct(Rt){for(var Kt=[],$t=Rt.length,le=0;le<$t-1;le++){var Me=Rt[le],on=Rt[le+1];Kt.push({from:{x:Me[0],y:Me[1]},to:{x:on[0],y:on[1]}})}if(Kt.length>1){var hn=Rt[0],Cn=Rt[$t-1];Kt.push({from:{x:Cn[0],y:Cn[1]},to:{x:hn[0],y:hn[1]}})}return Kt}function Ot(Rt,Kt){var $t=!1;return Object(lt.each)(Rt,function(le){if(ht(le.from,le.to,Kt.from,Kt.to))return $t=!0,!1}),$t}function Dt(Rt){var Kt=Rt.map(function(le){return le[0]}),$t=Rt.map(function(le){return le[1]});return{minX:Math.min.apply(null,Kt),maxX:Math.max.apply(null,Kt),minY:Math.min.apply(null,$t),maxY:Math.max.apply(null,$t)}}function Ft(Rt,Kt){return!(Kt.minX>Rt.maxX||Kt.maxX<Rt.minX||Kt.minY>Rt.maxY||Kt.maxY<Rt.minY)}function Xt(Rt,Kt){if(Rt.length<2||Kt.length<2)return!1;var $t=Dt(Rt),le=Dt(Kt);if(!Ft($t,le))return!1;var Me=!1;if(Object(lt.each)(Kt,function(He){if(At(Rt,He[0],He[1]))return Me=!0,!1}),Me||(Object(lt.each)(Rt,function(He){if(At(Kt,He[0],He[1]))return Me=!0,!1}),Me))return!0;var on=Ct(Rt),hn=Ct(Kt),Cn=!1;return Object(lt.each)(hn,function(He){if(Ot(on,He))return Cn=!0,!1}),Cn}},MaEA:function(wr,Vt,z){"use strict";var lt=z("mrSG"),a=z("zK8m"),M=z("aSjE"),t=function(n){Object(lt.b)(d,n);function d(S){return n.call(this,S)||this}return d.prototype._isInBBox=function(S,b){var h=this.getBBox();return h.minX<=S&&h.maxX>=S&&h.minY<=b&&h.maxY>=b},d.prototype.afterAttrsChange=function(S){n.prototype.afterAttrsChange.call(this,S),this.clearCacheBBox()},d.prototype.getBBox=function(){var S=this.cfg.bbox;return S||(S=this.calculateBBox(),this.set("bbox",S)),S},d.prototype.getCanvasBBox=function(){var S=this.cfg.canvasBBox;return S||(S=this.calculateCanvasBBox(),this.set("canvasBBox",S)),S},d.prototype.applyMatrix=function(S){n.prototype.applyMatrix.call(this,S),this.set("canvasBBox",null)},d.prototype.calculateCanvasBBox=function(){var S=this.getBBox(),b=this.getTotalMatrix(),h=S.minX,E=S.minY,T=S.maxX,o=S.maxY;if(b){var s=Object(M.c)(b,[S.minX,S.minY]),u=Object(M.c)(b,[S.maxX,S.minY]),v=Object(M.c)(b,[S.minX,S.maxY]),C=Object(M.c)(b,[S.maxX,S.maxY]);h=Math.min(s[0],u[0],v[0],C[0]),T=Math.max(s[0],u[0],v[0],C[0]),E=Math.min(s[1],u[1],v[1],C[1]),o=Math.max(s[1],u[1],v[1],C[1])}var O=this.attrs;if(O.shadowColor){var j=O.shadowBlur,p=j===void 0?0:j,x=O.shadowOffsetX,A=x===void 0?0:x,k=O.shadowOffsetY,X=k===void 0?0:k,et=h-p+A,tt=T+p+A,ft=E-p+X,st=o+p+X;h=Math.min(h,et),T=Math.max(T,tt),E=Math.min(E,ft),o=Math.max(o,st)}return{x:h,y:E,minX:h,minY:E,maxX:T,maxY:o,width:T-h,height:o-E}},d.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},d.prototype.isClipShape=function(){return this.get("isClipShape")},d.prototype.isInShape=function(S,b){return!1},d.prototype.isOnlyHitBox=function(){return!1},d.prototype.isHit=function(S,b){var h=this.get("startArrowShape"),E=this.get("endArrowShape"),T=[S,b,1];T=this.invertFromMatrix(T);var o=T[0],s=T[1],u=this._isInBBox(o,s);return this.isOnlyHitBox()?u:!!(u&&!this.isClipped(o,s)&&(this.isInShape(o,s)||h&&h.isHit(o,s)||E&&E.isHit(o,s)))},d}(a.a);Vt.a=t},MeYt:function(wr,Vt,z){"use strict";var lt=z("mrSG"),a=z("iTfj"),M=z("1//c"),t=z("jqgP"),n=z("5UbV"),d=z("NmWf"),S="update_status",b=["visible","tip","delegateObject"],h=["container","group","shapesMap","isRegister","isUpdating","destroyed"],E=function(T){Object(lt.b)(o,T);function o(){return T!==null&&T.apply(this,arguments)||this}return o.prototype.getDefaultCfg=function(){var s=T.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},s),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},o.prototype.remove=function(){this.clear();var s=this.get("group");s.remove()},o.prototype.clear=function(){var s=this.get("group");s.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},o.prototype.getChildComponentById=function(s){var u=this.getElementById(s),v=u&&u.get("component");return v},o.prototype.getElementById=function(s){return this.get("shapesMap")[s]},o.prototype.getElementByLocalId=function(s){var u=this.getElementId(s);return this.getElementById(u)},o.prototype.getElementsByName=function(s){var u=[];return Object(a.each)(this.get("shapesMap"),function(v){v.get("name")===s&&u.push(v)}),u},o.prototype.getContainer=function(){return this.get("container")},o.prototype.updateInner=function(s){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},o.prototype.render=function(){var s=this.get("offScreenGroup");s||(s=this.offScreenRender());var u=this.get("group");this.updateElements(s,u),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},o.prototype.show=function(){var s=this.get("group");s.show(),this.set("visible",!0)},o.prototype.hide=function(){var s=this.get("group");s.hide(),this.set("visible",!1)},o.prototype.setCapture=function(s){var u=this.get("group");u.set("capture",s),this.set("capture",s)},o.prototype.destroy=function(){this.removeEvent(),this.remove(),T.prototype.destroy.call(this)},o.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},o.prototype.getLayoutBBox=function(){var s=this.get("group"),u=this.getInnerLayoutBBox(),v=s.getTotalMatrix();return v&&(u=Object(t.a)(v,u)),u},o.prototype.on=function(s,u,v){var C=this.get("group");return C.on(s,u,v),this},o.prototype.off=function(s,u){var v=this.get("group");return v&&v.off(s,u),this},o.prototype.emit=function(s,u){var v=this.get("group");v.emit(s,u)},o.prototype.init=function(){T.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},o.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},o.prototype.delegateEmit=function(s,u){var v=this.get("group");u.target=v,v.emit(s,u),Object(M.a)(v,s,u)},o.prototype.createOffScreenGroup=function(){var s=this.get("group"),u=s.getGroupBase(),v=new u({delegateObject:this.getDelegateObject()});return v},o.prototype.applyOffset=function(){var s=this.get("offsetX"),u=this.get("offsetY");this.moveElementTo(this.get("group"),{x:s,y:u})},o.prototype.initGroup=function(){var s=this.get("container");this.set("group",s.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},o.prototype.offScreenRender=function(){this.clearOffScreenCache();var s=this.createOffScreenGroup();return this.renderInner(s),this.set("offScreenGroup",s),this.set("offScreenBBox",Object(n.d)(s)),s},o.prototype.addGroup=function(s,u){this.appendDelegateObject(s,u);var v=s.addGroup(u);return this.get("isRegister")&&this.registerElement(v),v},o.prototype.addShape=function(s,u){this.appendDelegateObject(s,u);var v=s.addShape(u);return this.get("isRegister")&&this.registerElement(v),v},o.prototype.addComponent=function(s,u){var v=u.id,C=u.component,O=Object(lt.c)(u,["id","component"]),j=new C(Object(lt.a)(Object(lt.a)({},O),{id:v,container:s,updateAutoRender:this.get("updateAutoRender")}));return j.init(),j.render(),this.get("isRegister")&&this.registerElement(j.get("group")),j},o.prototype.initEvent=function(){},o.prototype.removeEvent=function(){var s=this.get("group");s.off()},o.prototype.getElementId=function(s){var u=this.get("id"),v=this.get("name");return u+"-"+v+"-"+s},o.prototype.registerElement=function(s){var u=s.get("id");this.get("shapesMap")[u]=s},o.prototype.unregisterElement=function(s){var u=s.get("id");delete this.get("shapesMap")[u]},o.prototype.moveElementTo=function(s,u){var v=Object(t.f)(u);s.attr("matrix",v)},o.prototype.addAnimation=function(s,u,v){var C=u.attr("opacity");Object(a.isNil)(C)&&(C=1),u.attr("opacity",0),u.animate({opacity:C},v)},o.prototype.removeAnimation=function(s,u,v){u.animate({opacity:0},v)},o.prototype.updateAnimation=function(s,u,v,C){u.animate(v,C)},o.prototype.updateElements=function(s,u){var v=this,C=this.get("animate"),O=this.get("animateOption"),j=s.getChildren().slice(0),p;Object(a.each)(j,function(x){var A=x.get("id"),k=v.getElementById(A),X=x.get("name");if(k)if(x.get("isComponent")){var et=x.get("component"),tt=k.get("component"),ft=Object(a.pick)(et.cfg,Object(a.difference)(Object(a.keys)(et.cfg),h));tt.update(ft),k.set(S,"update")}else{var st=v.getReplaceAttrs(k,x);C&&O.update?v.updateAnimation(X,k,st,O.update):k.attr(st),x.isGroup()&&v.updateElements(x,k),Object(a.each)(b,function(rt){k.set(rt,x.get(rt))}),Object(n.m)(k,x),p=k,k.set(S,"update")}else{u.add(x);var vt=u.getChildren();if(vt.splice(vt.length-1,1),p){var mt=vt.indexOf(p);vt.splice(mt+1,0,x)}else vt.unshift(x);if(v.registerElement(x),x.set(S,"add"),x.get("isComponent")){var et=x.get("component");et.set("container",u)}else x.isGroup()&&v.registerNewGroup(x);if(p=x,C){var pt=v.get("isInit")?O.appear:O.enter;pt&&v.addAnimation(X,x,pt)}}})},o.prototype.clearUpdateStatus=function(s){var u=s.getChildren();Object(a.each)(u,function(v){v.set(S,null)})},o.prototype.clearOffScreenCache=function(){var s=this.get("offScreenGroup");s&&s.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},o.prototype.getDelegateObject=function(){var s,u=this.get("name"),v=(s={},s[u]=this,s.component=this,s);return v},o.prototype.appendDelegateObject=function(s,u){var v=s.get("delegateObject");u.delegateObject||(u.delegateObject={}),Object(a.mix)(u.delegateObject,v)},o.prototype.getReplaceAttrs=function(s,u){var v=s.attr(),C=u.attr();return Object(a.each)(v,function(O,j){C[j]===void 0&&(C[j]=void 0)}),C},o.prototype.registerNewGroup=function(s){var u=this,v=s.getChildren();Object(a.each)(v,function(C){u.registerElement(C),C.set(S,"add"),C.isGroup()&&u.registerNewGroup(C)})},o.prototype.deleteElements=function(){var s=this,u=this.get("shapesMap"),v=[];Object(a.each)(u,function(j,p){!j.get(S)||j.destroyed?v.push([p,j]):j.set(S,null)});var C=this.get("animate"),O=this.get("animateOption");Object(a.each)(v,function(j){var p=j[0],x=j[1];if(!x.destroyed){var A=x.get("name");if(C&&O.leave){var k=Object(a.mix)({callback:function(){s.removeElement(x)}},O.leave);s.removeAnimation(A,x,k)}else s.removeElement(x)}delete u[p]})},o.prototype.removeElement=function(s){if(s.get("isGroup")){var u=s.get("component");u&&u.destroy()}s.remove()},o}(d.a);Vt.a=E},Mj7Y:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return P});var lt=z("mrSG"),a=z("zJSt"),M=z("YuPD"),t=z("w02o"),n=z("tKoa"),d=z("iTfj"),S={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function b(m,y){return y=Object(d.assign)({},S,y),h(m,y)}function h(m,y){var V=mt();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach(function(At){Object(d.isNil)(y[At])||V[At](y[At])}),V.words(m),y.imageMask&&V.createMask(y.imageMask);var J=V.start(),ht=J._tags;ht.forEach(function(At){At.x+=y.size[0]/2,At.y+=y.size[1]/2});var gt=y.size,Mt=gt[0],Lt=gt[1];return ht.push({text:"",value:0,x:0,y:0,opacity:0}),ht.push({text:"",value:0,x:Mt,y:Lt,opacity:0}),ht}var E=Math.PI/180,T=1<<11>>5,o=1<<11;function s(m){return m.text}function u(){return"serif"}function v(){return"normal"}function C(m){return m.value}function O(){return~~(Math.random()*2)*90}function j(){return 1}function p(m,y,V,J){if(!y.sprite){var ht=m.context,gt=m.ratio;ht.clearRect(0,0,(T<<5)/gt,o/gt);var Mt=0,Lt=0,At=0,Ct=V.length;for(--J;++J<Ct;){y=V[J],ht.save(),ht.font=y.style+" "+y.weight+" "+~~((y.size+1)/gt)+"px "+y.font;var Ot=ht.measureText(y.text+"m").width*gt,Dt=y.size<<1;if(y.rotate){var Ft=Math.sin(y.rotate*E),Xt=Math.cos(y.rotate*E),Rt=Ot*Xt,Kt=Ot*Ft,$t=Dt*Xt,le=Dt*Ft;Ot=Math.max(Math.abs(Rt+le),Math.abs(Rt-le))+31>>5<<5,Dt=~~Math.max(Math.abs(Kt+$t),Math.abs(Kt-$t))}else Ot=Ot+31>>5<<5;if(Dt>At&&(At=Dt),Mt+Ot>=T<<5&&(Mt=0,Lt+=At,At=0),Lt+Dt>=o)break;ht.translate((Mt+(Ot>>1))/gt,(Lt+(Dt>>1))/gt),y.rotate&&ht.rotate(y.rotate*E),ht.fillText(y.text,0,0),y.padding&&(ht.lineWidth=2*y.padding,ht.strokeText(y.text,0,0)),ht.restore(),y.width=Ot,y.height=Dt,y.xoff=Mt,y.yoff=Lt,y.x1=Ot>>1,y.y1=Dt>>1,y.x0=-y.x1,y.y0=-y.y1,y.hasText=!0,Mt+=Ot}for(var Me=ht.getImageData(0,0,(T<<5)/gt,o/gt).data,on=[];--J>=0;)if(y=V[J],!!y.hasText){for(var Ot=y.width,hn=Ot>>5,Dt=y.y1-y.y0,Cn=0;Cn<Dt*hn;Cn++)on[Cn]=0;if(Mt=y.xoff,Mt==null)return;Lt=y.yoff;for(var He=0,mn=-1,dn=0;dn<Dt;dn++){for(var Cn=0;Cn<Ot;Cn++){var Un=hn*dn+(Cn>>5),Xn=Me[(Lt+dn)*(T<<5)+(Mt+Cn)<<2]?1<<31-Cn%32:0;on[Un]|=Xn,He|=Xn}He?mn=dn:(y.y0++,Dt--,dn--,Lt++)}y.y1=y.y0+mn,y.sprite=on.slice(0,(y.y1-y.y0)*hn)}}}function x(m,y,V){V>>=5;for(var J=m.sprite,ht=m.width>>5,gt=m.x-(ht<<4),Mt=gt&127,Lt=32-Mt,At=m.y1-m.y0,Ct=(m.y+m.y0)*V+(gt>>5),Ot,Dt=0;Dt<At;Dt++){Ot=0;for(var Ft=0;Ft<=ht;Ft++)if((Ot<<Lt|(Ft<ht?(Ot=J[Dt*ht+Ft])>>>Mt:0))&y[Ct+Ft])return!0;Ct+=V}return!1}function A(m,y){var V=m[0],J=m[1];y.x+y.x0<V.x&&(V.x=y.x+y.x0),y.y+y.y0<V.y&&(V.y=y.y+y.y0),y.x+y.x1>J.x&&(J.x=y.x+y.x1),y.y+y.y1>J.y&&(J.y=y.y+y.y1)}function k(m,y){return m.x+m.x1>y[0].x&&m.x+m.x0<y[1].x&&m.y+m.y1>y[0].y&&m.y+m.y0<y[1].y}function X(m){var y=m[0]/m[1];return function(V){return[y*(V*=.1)*Math.cos(V),V*Math.sin(V)]}}function et(m){var y=4,V=y*m[0]/m[1],J=0,ht=0;return function(gt){var Mt=gt<0?-1:1;switch(Math.sqrt(1+4*Mt*gt)-Mt&3){case 0:J+=V;break;case 1:ht+=y;break;case 2:J-=V;break;default:ht-=y;break}return[J,ht]}}function tt(m){for(var y=[],V=-1;++V<m;)y[V]=0;return y}function ft(){return document.createElement("canvas")}function st(m){return Object(d.isFunction)(m)?m:function(){return m}}var vt={archimedean:X,rectangular:et};function mt(){var m=[256,256],y=u,V=C,J=v,ht=O,gt=j,Mt=X,Lt=Math.random,At=[],Ct=Infinity,Ot=s,Dt=v,Ft=ft,Xt={};Xt.start=function(){var $t=m[0],le=m[1],Me=Rt(Ft()),on=Xt.board?Xt.board:tt((m[0]>>5)*m[1]),hn=At.length,Cn=[],He=At.map(function(Xn,Hn,_n){return Xn.text=Ot.call(this,Xn,Hn,_n),Xn.font=y.call(this,Xn,Hn,_n),Xn.style=Dt.call(this,Xn,Hn,_n),Xn.weight=J.call(this,Xn,Hn,_n),Xn.rotate=ht.call(this,Xn,Hn,_n),Xn.size=~~V.call(this,Xn,Hn,_n),Xn.padding=gt.call(this,Xn,Hn,_n),Xn}).sort(function(Xn,Hn){return Hn.size-Xn.size}),mn=-1,dn=Xt.board?[{x:0,y:0},{x:$t,y:le}]:null;Un();function Un(){for(var Xn=Date.now();Date.now()-Xn<Ct&&++mn<hn;){var Hn=He[mn];Hn.x=$t*(Lt()+.5)>>1,Hn.y=le*(Lt()+.5)>>1,p(Me,Hn,He,mn),Hn.hasText&&Kt(on,Hn,dn)&&(Cn.push(Hn),dn?Xt.hasImage||A(dn,Hn):dn=[{x:Hn.x+Hn.x0,y:Hn.y+Hn.y0},{x:Hn.x+Hn.x1,y:Hn.y+Hn.y1}],Hn.x-=m[0]>>1,Hn.y-=m[1]>>1)}Xt._tags=Cn,Xt._bounds=dn}return Xt};function Rt($t){$t.width=$t.height=1;var le=Math.sqrt($t.getContext("2d").getImageData(0,0,1,1).data.length>>2);$t.width=(T<<5)/le,$t.height=o/le;var Me=$t.getContext("2d");return Me.fillStyle=Me.strokeStyle="red",Me.textAlign="center",{context:Me,ratio:le}}function Kt($t,le,Me){for(var on=le.x,hn=le.y,Cn=Math.sqrt(m[0]*m[0]+m[1]*m[1]),He=Mt(m),mn=Lt()<.5?1:-1,dn,Un=-mn,Xn,Hn;(dn=He(Un+=mn))&&(Xn=~~dn[0],Hn=~~dn[1],!(Math.min(Math.abs(Xn),Math.abs(Hn))>=Cn));)if(le.x=on+Xn,le.y=hn+Hn,!(le.x+le.x0<0||le.y+le.y0<0||le.x+le.x1>m[0]||le.y+le.y1>m[1])&&(!Me||!x(le,$t,m[0]))&&(!Me||k(le,Me))){for(var _n=le.sprite,$n=le.width>>5,ir=m[0]>>5,dr=le.x-($n<<4),xr=dr&127,Qr=32-xr,Mr=le.y1-le.y0,Er=void 0,Dr=(le.y+le.y0)*ir+(dr>>5),hi=0;hi<Mr;hi++){Er=0;for(var Wi=0;Wi<=$n;Wi++)$t[Dr+Wi]|=Er<<Qr|(Wi<$n?(Er=_n[hi*$n+Wi])>>>xr:0);Dr+=ir}return delete le.sprite,!0}return!1}return Xt.createMask=function($t){var le=document.createElement("canvas"),Me=m[0],on=m[1];if(!(!Me||!on)){var hn=Me>>5,Cn=tt((Me>>5)*on);le.width=Me,le.height=on;var He=le.getContext("2d");He.drawImage($t,0,0,$t.width,$t.height,0,0,Me,on);for(var mn=He.getImageData(0,0,Me,on).data,dn=0;dn<on;dn++)for(var Un=0;Un<Me;Un++){var Xn=hn*dn+(Un>>5),Hn=dn*Me+Un<<2,_n=mn[Hn]>=250&&mn[Hn+1]>=250&&mn[Hn+2]>=250,$n=_n?1<<31-Un%32:0;Cn[Xn]|=$n}Xt.board=Cn,Xt.hasImage=!0}},Xt.timeInterval=function($t){Ct=$t==null?Infinity:$t},Xt.words=function($t){At=$t},Xt.size=function($t){m=[+$t[0],+$t[1]]},Xt.font=function($t){y=st($t)},Xt.fontWeight=function($t){J=st($t)},Xt.rotate=function($t){ht=st($t)},Xt.spiral=function($t){Mt=vt[$t]||$t},Xt.fontSize=function($t){V=st($t)},Xt.padding=function($t){gt=st($t)},Xt.random=function($t){Lt=st($t)},Xt}function pt(m){var y=m.options,V=m.chart,J=V,ht=J.width,gt=J.height,Mt=J.padding,Lt=J.appendPadding,At=J.ele,Ct=y.data,Ot=y.imageMask,Dt=y.wordField,Ft=y.weightField,Xt=y.colorField,Rt=y.wordStyle,Kt=y.timeInterval,$t=y.random,le=y.spiral,Me=y.autoFit,on=Me===void 0?!0:Me,hn=y.placementStrategy;if(!Ct||!Ct.length)return[];var Cn=Rt.fontFamily,He=Rt.fontWeight,mn=Rt.padding,dn=Rt.fontSize,Un=ot(Ct,Ft),Xn=[wt(Un),Q(Un)],Hn=Ct.map(function(ir){return{text:ir[Dt],value:ir[Ft],color:ir[Xt],datum:ir}}),_n={imageMask:Ot,font:Cn,fontSize:H(dn,Xn),fontWeight:He,size:rt({width:ht,height:gt,padding:Mt,appendPadding:Lt,autoFit:on,container:At}),padding:mn,timeInterval:Kt,random:$t,spiral:le,rotate:yt(y)};if(Object(d.isFunction)(hn)){var $n=Hn.map(function(ir,dr,xr){return Object(lt.a)(Object(lt.a)(Object(lt.a)({},ir),{hasText:!!ir.text,font:st(_n.font)(ir,dr,xr),weight:st(_n.fontWeight)(ir,dr,xr),rotate:st(_n.rotate)(ir,dr,xr),size:st(_n.fontSize)(ir,dr,xr),style:"normal"}),hn.call(V,ir,dr,xr))});return $n.push({text:"",value:0,x:0,y:0,opacity:0}),$n.push({text:"",value:0,x:_n.size[0],y:_n.size[1],opacity:0}),$n}return b(Hn,_n)}function rt(m){var y=m.width,V=m.height,J=m.container,ht=m.autoFit,gt=m.padding,Mt=m.appendPadding;if(ht){var Lt=Object(M.g)(J);y=Lt.width,V=Lt.height}y=y||400,V=V||400;var At=Bt({padding:gt,appendPadding:Mt}),Ct=At[0],Ot=At[1],Dt=At[2],Ft=At[3],Xt=[y-(Ft+Ot),V-(Ct+Dt)];return Xt}function Bt(m){var y=It(m.padding),V=It(m.appendPadding),J=y[0]+V[0],ht=y[1]+V[1],gt=y[2]+V[2],Mt=y[3]+V[3];return[J,ht,gt,Mt]}function It(m){if(Object(d.isNumber)(m))return[m,m,m,m];if(Object(d.isArray)(m)){var y=m.length;if(y===1)return[m[0],m[0],m[0],m[0]];if(y===2)return[m[0],m[1],m[0],m[1]];if(y===3)return[m[0],m[1],m[2],m[1]];if(y===4)return m}return[0,0,0,0]}function St(m){return new Promise(function(y,V){if(m instanceof HTMLImageElement){y(m);return}if(Object(d.isString)(m)){var J=new Image;J.crossOrigin="anonymous",J.src=m,J.onload=function(){y(J)},J.onerror=function(){Object(M.k)(M.a.ERROR,!1,"image %s load failed !!!",m),V()};return}Object(M.k)(M.a.WARN,m===void 0,"The type of imageMask option must be String or HTMLImageElement."),V()})}function H(m,y){if(Object(d.isFunction)(m))return m;if(Object(d.isArray)(m)){var V=m[0],J=m[1];if(!y)return function(){return(J+V)/2};var ht=y[0],gt=y[1];return gt===ht?function(){return(J+V)/2}:function(Lt){var At=Lt.value;return(J-V)/(gt-ht)*(At-ht)+V}}return function(){return m}}function ot(m,y){return m.map(function(V){return V[y]}).filter(function(V){return typeof V=="number"&&!isNaN(V)})}function yt(m){var y=xt(m),V=y.rotation,J=y.rotationSteps;if(!Object(d.isArray)(V))return V;var ht=V[0],gt=V[1],Mt=J===1?0:(gt-ht)/(J-1);return function(){return gt===ht?gt:Math.floor(Math.random()*J)*Mt}}function xt(m){var y=m.wordStyle.rotationSteps;return y<1&&(Object(M.k)(M.a.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),y=1),{rotation:m.wordStyle.rotation,rotationSteps:y}}function wt(m){return Math.min.apply(Math,m)}function Q(m){return Math.max.apply(Math,m)}function ct(m){var y=m.chart,V=m.options,J=V.colorField,ht=V.color,gt=pt(m);y.data(gt);var Mt=Object(M.b)({},m,{options:{xField:"x",yField:"y",seriesField:J&&"color",point:{color:ht,shape:"word-cloud"}}}),Lt=Object(n.e)(Mt).ext;return Lt.geometry.label(!1),y.coordinate().reflect("y"),y.axis(!1),m}function it(m){return Object(M.e)(Object(t.f)({x:{nice:!1},y:{nice:!1}}))(m)}function U(m){Object(M.e)(ct,it,t.k,t.d,t.c,t.a,t.j,t.i)(m)}var D=z("kXyF");Object(D.registerShape)("point","word-cloud",{draw:function(y,V){var J=y.x,ht=y.y,gt=V.addShape("text",{attrs:Object(lt.a)(Object(lt.a)({},W(y)),{x:J,y:ht})}),Mt=y.data.rotate;return typeof Mt=="number"&&D.Util.rotate(gt,Mt*Math.PI/180),gt}});function W(m){return{fontSize:m.data.size,text:m.data.text,textAlign:"center",fontFamily:m.data.font,fontWeight:m.data.weight,fill:m.color||m.defaultStyle.stroke,textBaseline:"alphabetic"}}var P=function(m){Object(lt.b)(y,m);function y(){var V=m!==null&&m.apply(this,arguments)||this;return V.type="word-cloud",V}return y.prototype.changeData=function(V){this.updateOption({data:V}),this.options.imageMask?this.render():this.chart.changeData(pt({chart:this.chart,options:this.options}))},y.prototype.getDefaultOptions=function(){return Object(M.b)({},m.prototype.getDefaultOptions.call(this),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value","color"],formatter:function(J){return{name:J.text,value:J.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}})},y.prototype.render=function(){var V=this;return new Promise(function(J){var ht=V.options.imageMask;if(!ht){m.prototype.render.call(V),J();return}var gt=function(Lt){V.options=Object(lt.a)(Object(lt.a)({},V.options),{imageMask:Lt||null}),m.prototype.render.call(V),J()};St(ht).then(gt).catch(gt)})},y.prototype.getSchemaAdaptor=function(){return U},y.prototype.triggerResize=function(){var V=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout(function(){m.prototype.triggerResize.call(V)}))},y}(a.a)},Mw2x:function(wr,Vt,z){"use strict";var lt=z("mrSG"),a=z("zK8m"),M=z("sstZ"),t={},n="_INDEX";function d(o,s){if(o.set("canvas",s),o.isGroup()){var u=o.get("children");u.length&&u.forEach(function(v){d(v,s)})}}function S(o,s){if(o.set("timeline",s),o.isGroup()){var u=o.get("children");u.length&&u.forEach(function(v){S(v,s)})}}function b(o,s){var u=o.getChildren();return u.indexOf(s)>=0}function h(o,s,u){u===void 0&&(u=!0),u?s.destroy():(s.set("parent",null),s.set("canvas",null)),Object(M.j)(o.getChildren(),s)}function E(o){return function(s,u){var v=o(s,u);return v===0?s[n]-u[n]:v}}var T=function(o){Object(lt.b)(s,o);function s(){return o!==null&&o.apply(this,arguments)||this}return s.prototype.isCanvas=function(){return!1},s.prototype.getBBox=function(){var u=Infinity,v=-Infinity,C=Infinity,O=-Infinity,j=[],p=[],x=this.getChildren().filter(function(k){return k.get("visible")&&(!k.isGroup()||k.isGroup()&&k.getChildren().length>0)});x.length>0?(Object(M.a)(x,function(k){var X=k.getBBox();j.push(X.minX,X.maxX),p.push(X.minY,X.maxY)}),u=Math.min.apply(null,j),v=Math.max.apply(null,j),C=Math.min.apply(null,p),O=Math.max.apply(null,p)):(u=0,v=0,C=0,O=0);var A={x:u,y:C,minX:u,minY:C,maxX:v,maxY:O,width:v-u,height:O-C};return A},s.prototype.getCanvasBBox=function(){var u=Infinity,v=-Infinity,C=Infinity,O=-Infinity,j=[],p=[],x=this.getChildren().filter(function(k){return k.get("visible")&&(!k.isGroup()||k.isGroup()&&k.getChildren().length>0)});x.length>0?(Object(M.a)(x,function(k){var X=k.getCanvasBBox();j.push(X.minX,X.maxX),p.push(X.minY,X.maxY)}),u=Math.min.apply(null,j),v=Math.max.apply(null,j),C=Math.min.apply(null,p),O=Math.max.apply(null,p)):(u=0,v=0,C=0,O=0);var A={x:u,y:C,minX:u,minY:C,maxX:v,maxY:O,width:v-u,height:O-C};return A},s.prototype.getDefaultCfg=function(){var u=o.prototype.getDefaultCfg.call(this);return u.children=[],u},s.prototype.onAttrChange=function(u,v,C){if(o.prototype.onAttrChange.call(this,u,v,C),u==="matrix"){var O=this.getTotalMatrix();this._applyChildrenMarix(O)}},s.prototype.applyMatrix=function(u){var v=this.getTotalMatrix();o.prototype.applyMatrix.call(this,u);var C=this.getTotalMatrix();C!==v&&this._applyChildrenMarix(C)},s.prototype._applyChildrenMarix=function(u){var v=this.getChildren();Object(M.a)(v,function(C){C.applyMatrix(u)})},s.prototype.addShape=function(){for(var u=[],v=0;v<arguments.length;v++)u[v]=arguments[v];var C=u[0],O=u[1];Object(M.f)(C)?O=C:O.type=C;var j=t[O.type];j||(j=Object(M.k)(O.type),t[O.type]=j);var p=this.getShapeBase(),x=new p[j](O);return this.add(x),x},s.prototype.addGroup=function(){for(var u=[],v=0;v<arguments.length;v++)u[v]=arguments[v];var C=u[0],O=u[1],j;if(Object(M.d)(C))O?j=new C(O):j=new C({parent:this});else{var p=C||{},x=this.getGroupBase();j=new x(p)}return this.add(j),j},s.prototype.getCanvas=function(){var u;return this.isCanvas()?u=this:u=this.get("canvas"),u},s.prototype.getShape=function(u,v,C){if(!Object(M.b)(this))return null;var O=this.getChildren(),j;if(this.isCanvas())j=this._findShape(O,u,v,C);else{var p=[u,v,1];p=this.invertFromMatrix(p),this.isClipped(p[0],p[1])||(j=this._findShape(O,p[0],p[1],C))}return j},s.prototype._findShape=function(u,v,C,O){for(var j=null,p=u.length-1;p>=0;p--){var x=u[p];if(Object(M.b)(x)&&(x.isGroup()?j=x.getShape(v,C,O):x.isHit(v,C)&&(j=x)),j)break}return j},s.prototype.add=function(u){var v=this.getCanvas(),C=this.getChildren(),O=this.get("timeline"),j=u.getParent();j&&h(j,u,!1),u.set("parent",this),v&&d(u,v),O&&S(u,O),C.push(u),u.onCanvasChange("add"),this._applyElementMatrix(u)},s.prototype._applyElementMatrix=function(u){var v=this.getTotalMatrix();v&&u.applyMatrix(v)},s.prototype.getChildren=function(){return this.get("children")},s.prototype.sort=function(){var u=this.getChildren();Object(M.a)(u,function(v,C){return v[n]=C,v}),u.sort(E(function(v,C){return v.get("zIndex")-C.get("zIndex")})),this.onCanvasChange("sort")},s.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var u=this.getChildren(),v=u.length-1;v>=0;v--)u[v].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},s.prototype.destroy=function(){this.get("destroyed")||(this.clear(),o.prototype.destroy.call(this))},s.prototype.getFirst=function(){return this.getChildByIndex(0)},s.prototype.getLast=function(){var u=this.getChildren();return this.getChildByIndex(u.length-1)},s.prototype.getChildByIndex=function(u){var v=this.getChildren();return v[u]},s.prototype.getCount=function(){var u=this.getChildren();return u.length},s.prototype.contain=function(u){var v=this.getChildren();return v.indexOf(u)>-1},s.prototype.removeChild=function(u,v){v===void 0&&(v=!0),this.contain(u)&&u.remove(v)},s.prototype.findAll=function(u){var v=[],C=this.getChildren();return Object(M.a)(C,function(O){u(O)&&v.push(O),O.isGroup()&&(v=v.concat(O.findAll(u)))}),v},s.prototype.find=function(u){var v=null,C=this.getChildren();return Object(M.a)(C,function(O){if(u(O)?v=O:O.isGroup()&&(v=O.find(u)),v)return!1}),v},s.prototype.findById=function(u){return this.find(function(v){return v.get("id")===u})},s.prototype.findByClassName=function(u){return this.find(function(v){return v.get("className")===u})},s.prototype.findAllByName=function(u){return this.findAll(function(v){return v.get("name")===u})},s}(a.a);Vt.a=T},N9hJ:function(wr,Vt){},NmWf:function(wr,Vt,z){"use strict";var lt=z("mrSG"),a=z("aFU3"),M=z("iTfj"),t={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},n=function(d){Object(lt.b)(S,d);function S(b){var h=d.call(this,b)||this;return h.initCfg(),h}return S.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},S.prototype.clear=function(){},S.prototype.update=function(b){var h=this,E=this.get("defaultCfg");Object(M.each)(b,function(T,o){var s=h.get(o),u=T;s!==T&&(Object(M.isObject)(T)&&E[o]&&(u=Object(M.deepMix)({},E[o],T)),h.set(o,u))}),this.updateInner(b),this.afterUpdate(b)},S.prototype.updateInner=function(b){},S.prototype.afterUpdate=function(b){Object(M.hasKey)(b,"visible")&&(b.visible?this.show():this.hide()),Object(M.hasKey)(b,"capture")&&this.setCapture(b.capture)},S.prototype.getLayoutBBox=function(){return this.getBBox()},S.prototype.getLocationType=function(){return this.get("locationType")},S.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},S.prototype.setOffset=function(b,h){this.update({offsetX:b,offsetY:h})},S.prototype.setLocation=function(b){var h=Object(lt.a)({},b);this.update(h)},S.prototype.getLocation=function(){var b=this,h={},E=this.get("locationType"),T=t[E];return Object(M.each)(T,function(o){h[o]=b.get(o)}),h},S.prototype.isList=function(){return!1},S.prototype.isSlider=function(){return!1},S.prototype.init=function(){},S.prototype.initCfg=function(){var b=this,h=this.get("defaultCfg");Object(M.each)(h,function(E,T){var o=b.get(T);if(Object(M.isObject)(o)){var s=Object(M.deepMix)({},E,o);b.set(T,s)}})},S}(a.Base);Vt.a=n},NohK:function(wr,Vt,z){"use strict";Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.default=void 0;var lt=function(M){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,n=null;return function(){for(var d=this,S=arguments.length,b=new Array(S),h=0;h<S;h++)b[h]=arguments[h];clearTimeout(n),n=setTimeout(function(){M.apply(d,b)},t)}};Vt.default=lt},NzZ7:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return S});var lt=z("tvR+"),a=z("yUfG"),M=z("a8tM"),t=z("iTfj"),n=z("I7nc"),d={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"]};function S(b,h){h=Object(t.assign)({},d,h);var E=h.as;if(!Object(t.isArray)(E)||E.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var T;try{T=Object(n.b)(h)}catch(C){console.warn(C)}var o=function(O){return lt.a().tile(a[h.tile]).size(h.size).round(h.round).padding(h.padding).paddingInner(h.paddingInner).paddingOuter(h.paddingOuter).paddingTop(h.paddingTop).paddingRight(h.paddingRight).paddingBottom(h.paddingBottom).paddingLeft(h.paddingLeft)(M.c(O).sum(function(j){return h.ignoreParentValue&&j.children?0:j[T]}))},s=o(b),u=E[0],v=E[1];return s.each(function(C){C[u]=[C.x0,C.x1,C.x1,C.x0],C[v]=[C.y1,C.y1,C.y0,C.y0],["x0","x1","y0","y1"].forEach(function(O){E.indexOf(O)===-1&&delete C[O]})}),Object(n.a)(s)}},P4Qj:function(wr,Vt,z){"use strict";Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.removeSensor=Vt.getSensor=void 0;var lt=t(z("chpo")),a=z("FxDU"),M=z("24YM");function t(b){return b&&b.__esModule?b:{default:b}}var n={},d=function(h){var E=h.getAttribute(M.SizeSensorId);if(E&&n[E])return n[E];var T=(0,lt.default)();h.setAttribute(M.SizeSensorId,T);var o=(0,a.createSensor)(h);return n[T]=o,o};Vt.getSensor=d;var S=function(h){var E=h.element.getAttribute(M.SizeSensorId);h.element.removeAttribute(M.SizeSensorId),h.destroy(),E&&n[E]&&delete n[E]};Vt.removeSensor=S},QG4C:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return E});var lt=z("mrSG"),a=z("zJSt"),M=z("iTfj"),t=z("WOQw"),n=z("w02o"),d=z("n/J0"),S=z("YuPD");function b(T){var o=T.chart,s=T.options,u=s.views,v=s.legend,C=s.tooltip;return Object(M.each)(u,function(O){var j=O.region,p=O.data,x=O.meta,A=O.axes,k=O.coordinate,X=O.interactions,et=O.annotations,tt=O.geometries,ft=o.createView({region:j});ft.data(p);var st={};A&&Object(M.each)(A,function(vt,mt){st[mt]=Object(S.l)(vt,d.a)}),st=Object(S.b)({},x,st),ft.scale(st),A?Object(M.each)(A,function(vt,mt){ft.axis(mt,vt)}):ft.axis(!1),ft.coordinate(k),Object(M.each)(tt,function(vt){var mt=Object(t.a)({chart:ft,options:vt}).ext,pt=vt.adjust;pt&&mt.geometry.adjust(pt)}),Object(M.each)(X,function(vt){vt.enable===!1?ft.removeInteraction(vt.type):ft.interaction(vt.type,vt.cfg)}),Object(M.each)(et,function(vt){ft.annotation()[vt.type](Object(lt.a)({},vt))}),typeof O.animation=="boolean"?ft.animate(!1):(ft.animate(!0),Object(M.each)(ft.geometries,function(vt){vt.animate(O.animation)}))}),v?Object(M.each)(v,function(O,j){o.legend(j,O)}):o.legend(!1),o.tooltip(C),T}function h(T){return Object(S.e)(n.a,b,n.c,n.a,n.j,n.k)(T)}var E=function(T){Object(lt.b)(o,T);function o(){var s=T!==null&&T.apply(this,arguments)||this;return s.type="multi-view",s}return o.prototype.getSchemaAdaptor=function(){return h},o}(a.a)},"QO+J":function(wr,Vt,z){"use strict";Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.createSensor=void 0;var lt=M(z("NohK")),a=z("24YM");function M(n){return n&&n.__esModule?n:{default:n}}var t=function(d){var S=void 0,b=[],h=function(){getComputedStyle(d).position==="static"&&(d.style.position="relative");var v=document.createElement("object");return v.onload=function(){v.contentDocument.defaultView.addEventListener("resize",E),E()},v.style.display="block",v.style.position="absolute",v.style.top="0",v.style.left="0",v.style.height="100%",v.style.width="100%",v.style.overflow="hidden",v.style.pointerEvents="none",v.style.zIndex="-1",v.style.opacity="0",v.setAttribute("class",a.SensorClassName),v.setAttribute("tabindex",a.SensorTabIndex),v.type="text/html",d.appendChild(v),v.data="about:blank",v},E=(0,lt.default)(function(){b.forEach(function(u){u(d)})}),T=function(v){S||(S=h()),b.indexOf(v)===-1&&b.push(v)},o=function(){S&&S.parentNode&&(S.contentDocument&&S.contentDocument.defaultView.removeEventListener("resize",E),S.parentNode.removeChild(S),S=void 0,b=[])},s=function(v){var C=b.indexOf(v);C!==-1&&b.splice(C,1),b.length===0&&S&&o()};return{element:d,bind:T,destroy:o,unbind:s}};Vt.createSensor=t},Qci9:function(wr,Vt,z){"use strict";var lt=z("iTfj"),a=z("0Xep"),M=function(){function t(n){var d=n.xField,S=n.yField,b=n.adjustNames,h=b===void 0?["x","y"]:b;this.adjustNames=h,this.xField=d,this.yField=S}return t.prototype.isAdjust=function(n){return this.adjustNames.indexOf(n)>=0},t.prototype.getAdjustRange=function(n,d,S){var b=this.yField,h=S.indexOf(d),E=S.length,T,o;return!b&&this.isAdjust("y")?(T=0,o=1):E>1?(T=S[h===0?0:h-1],o=S[h===E-1?E-1:h+1],h!==0?T+=(d-T)/2:T-=(o-d)/2,h!==E-1?o-=(o-d)/2:o+=(d-S[E-2])/2):(T=d===0?0:d-.5,o=d===0?1:d+.5),{pre:T,next:o}},t.prototype.adjustData=function(n,d){var S=this,b=this.getDimValues(d);lt.each(n,function(h,E){lt.each(b,function(T,o){S.adjustDim(o,T,h,E)})})},t.prototype.groupData=function(n,d){return lt.each(n,function(S){S[d]===void 0&&(S[d]=a.a)}),lt.groupBy(n,d)},t.prototype.adjustDim=function(n,d,S,b){},t.prototype.getDimValues=function(n){var d=this,S=d.xField,b=d.yField,h={},E=[];if(S&&this.isAdjust("x")&&E.push(S),b&&this.isAdjust("y")&&E.push(b),E.forEach(function(o){h[o]=lt.valuesOfKey(n,o).sort(function(s,u){return s-u})}),!b&&this.isAdjust("y")){var T="y";h[T]=[a.a,1]}return h},t}();Vt.a=M},R5nb:function(wr,Vt,z){"use strict";z.r(Vt),z.d(Vt,"Base",function(){return b}),z.d(Vt,"Circle",function(){return E}),z.d(Vt,"Ellipse",function(){return s}),z.d(Vt,"Image",function(){return C}),z.d(Vt,"Line",function(){return A}),z.d(Vt,"Marker",function(){return ft}),z.d(Vt,"Path",function(){return it}),z.d(Vt,"Polygon",function(){return W}),z.d(Vt,"Polyline",function(){return m}),z.d(Vt,"Rect",function(){return gt}),z.d(Vt,"Text",function(){return Lt});var lt={};z.r(lt),z.d(lt,"Base",function(){return b}),z.d(lt,"Circle",function(){return E}),z.d(lt,"Ellipse",function(){return s}),z.d(lt,"Image",function(){return C}),z.d(lt,"Line",function(){return A}),z.d(lt,"Marker",function(){return ft}),z.d(lt,"Path",function(){return it}),z.d(lt,"Polygon",function(){return W}),z.d(lt,"Polyline",function(){return m}),z.d(lt,"Rect",function(){return gt}),z.d(lt,"Text",function(){return Lt});var a=z("mrSG"),M=z("aFU3"),t=z("cyZq"),n=z("9eUa"),d=z("wq2r"),S=function(At){Object(a.b)(Ct,At);function Ct(){return At!==null&&At.apply(this,arguments)||this}return Ct.prototype.getDefaultAttrs=function(){var Ot=At.prototype.getDefaultAttrs.call(this);return Object(a.a)(Object(a.a)({},Ot),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},Ct.prototype.getShapeBase=function(){return lt},Ct.prototype.getGroupBase=function(){return d.a},Ct.prototype.onCanvasChange=function(Ot){Object(n.h)(this,Ot)},Ct.prototype.calculateBBox=function(){var Ot=this.get("type"),Dt=this.getHitLineWidth(),Ft=Object(M.getBBoxMethod)(Ot),Xt=Ft(this),Rt=Dt/2,Kt=Xt.x-Rt,$t=Xt.y-Rt,le=Xt.x+Xt.width+Rt,Me=Xt.y+Xt.height+Rt;return{x:Kt,minX:Kt,y:$t,minY:$t,width:Xt.width+Dt,height:Xt.height+Dt,maxX:le,maxY:Me}},Ct.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},Ct.prototype.isStroke=function(){return!!this.attrs.stroke},Ct.prototype._applyClip=function(Ot,Dt){Dt&&(Ot.save(),Object(n.a)(Ot,Dt),Dt.createPath(Ot),Ot.restore(),Ot.clip(),Dt._afterDraw())},Ct.prototype.draw=function(Ot,Dt){var Ft=this.cfg.clipShape;if(Dt){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var Xt=this.getCanvasBBox();if(!Object(t.f)(Dt,Xt)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}Ot.save(),Object(n.a)(Ot,this),this._applyClip(Ot,Ft),this.drawPath(Ot),Ot.restore(),this._afterDraw()},Ct.prototype.getCanvasViewBox=function(){var Ot=this.cfg.canvas;return Ot?Ot.getViewRange():null},Ct.prototype.cacheCanvasBBox=function(){var Ot=this.getCanvasViewBox();if(Ot){var Dt=this.getCanvasBBox(),Ft=Object(t.f)(Dt,Ot);this.set("isInView",Ft),Ft?this.set("cacheCanvasBBox",Dt):this.set("cacheCanvasBBox",null)}},Ct.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},Ct.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},Ct.prototype.drawPath=function(Ot){this.createPath(Ot),this.strokeAndFill(Ot),this.afterDrawPath(Ot)},Ct.prototype.fill=function(Ot){Ot.fill()},Ct.prototype.stroke=function(Ot){Ot.stroke()},Ct.prototype.strokeAndFill=function(Ot){var Dt=this.attrs,Ft=Dt.lineWidth,Xt=Dt.opacity,Rt=Dt.strokeOpacity,Kt=Dt.fillOpacity;this.isFill()&&(!Object(t.i)(Kt)&&Kt!==1?(Ot.globalAlpha=Kt,this.fill(Ot),Ot.globalAlpha=Xt):this.fill(Ot)),this.isStroke()&&Ft>0&&(!Object(t.i)(Rt)&&Rt!==1&&(Ot.globalAlpha=Rt),this.stroke(Ot)),this.afterDrawPath(Ot)},Ct.prototype.createPath=function(Ot){},Ct.prototype.afterDrawPath=function(Ot){},Ct.prototype.isInShape=function(Ot,Dt){var Ft=this.isStroke(),Xt=this.isFill(),Rt=this.getHitLineWidth();return this.isInStrokeOrPath(Ot,Dt,Ft,Xt,Rt)},Ct.prototype.isInStrokeOrPath=function(Ot,Dt,Ft,Xt,Rt){return!1},Ct.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var Ot=this.attrs;return Ot.lineWidth+Ot.lineAppendWidth},Ct}(M.AbstractShape),b=S,h=function(At){Object(a.b)(Ct,At);function Ct(){return At!==null&&At.apply(this,arguments)||this}return Ct.prototype.getDefaultAttrs=function(){var Ot=At.prototype.getDefaultAttrs.call(this);return Object(a.a)(Object(a.a)({},Ot),{x:0,y:0,r:0})},Ct.prototype.isInStrokeOrPath=function(Ot,Dt,Ft,Xt,Rt){var Kt=this.attr(),$t=Kt.x,le=Kt.y,Me=Kt.r,on=Rt/2,hn=Object(t.b)($t,le,Ot,Dt);return Xt&&Ft?hn<=Me+on:Xt?hn<=Me:Ft?hn>=Me-on&&hn<=Me+on:!1},Ct.prototype.createPath=function(Ot){var Dt=this.attr(),Ft=Dt.x,Xt=Dt.y,Rt=Dt.r;Ot.beginPath(),Ot.arc(Ft,Xt,Rt,0,Math.PI*2,!1),Ot.closePath()},Ct}(b),E=h;function T(At,Ct,Ot,Dt){return At/(Ot*Ot)+Ct/(Dt*Dt)}var o=function(At){Object(a.b)(Ct,At);function Ct(){return At!==null&&At.apply(this,arguments)||this}return Ct.prototype.getDefaultAttrs=function(){var Ot=At.prototype.getDefaultAttrs.call(this);return Object(a.a)(Object(a.a)({},Ot),{x:0,y:0,rx:0,ry:0})},Ct.prototype.isInStrokeOrPath=function(Ot,Dt,Ft,Xt,Rt){var Kt=this.attr(),$t=Rt/2,le=Kt.x,Me=Kt.y,on=Kt.rx,hn=Kt.ry,Cn=(Ot-le)*(Ot-le),He=(Dt-Me)*(Dt-Me);return Xt&&Ft?T(Cn,He,on+$t,hn+$t)<=1:Xt?T(Cn,He,on,hn)<=1:Ft?T(Cn,He,on-$t,hn-$t)>=1&&T(Cn,He,on+$t,hn+$t)<=1:!1},Ct.prototype.createPath=function(Ot){var Dt=this.attr(),Ft=Dt.x,Xt=Dt.y,Rt=Dt.rx,Kt=Dt.ry;if(Ot.beginPath(),Ot.ellipse)Ot.ellipse(Ft,Xt,Rt,Kt,0,0,Math.PI*2,!1);else{var $t=Rt>Kt?Rt:Kt,le=Rt>Kt?1:Rt/Kt,Me=Rt>Kt?Kt/Rt:1;Ot.save(),Ot.translate(Ft,Xt),Ot.scale(le,Me),Ot.arc(0,0,$t,0,Math.PI*2),Ot.restore(),Ot.closePath()}},Ct}(b),s=o;function u(At){return At instanceof HTMLElement&&Object(t.k)(At.nodeName)&&At.nodeName.toUpperCase()==="CANVAS"}var v=function(At){Object(a.b)(Ct,At);function Ct(){return At!==null&&At.apply(this,arguments)||this}return Ct.prototype.getDefaultAttrs=function(){var Ot=At.prototype.getDefaultAttrs.call(this);return Object(a.a)(Object(a.a)({},Ot),{x:0,y:0,width:0,height:0})},Ct.prototype.initAttrs=function(Ot){this._setImage(Ot.img)},Ct.prototype.isStroke=function(){return!1},Ct.prototype.isOnlyHitBox=function(){return!0},Ct.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var Ot=this.get("canvas");Ot?Ot.draw():this.createPath(this.get("context"))}},Ct.prototype._setImage=function(Ot){var Dt=this,Ft=this.attrs;if(Object(t.k)(Ot)){var Xt=new Image;Xt.onload=function(){if(Dt.destroyed)return!1;Dt.attr("img",Xt),Dt.set("loading",!1),Dt._afterLoading();var Rt=Dt.get("callback");Rt&&Rt.call(Dt)},Xt.crossOrigin="Anonymous",Xt.src=Ot,this.set("loading",!0)}else Ot instanceof Image?(Ft.width||(Ft.width=Ot.width),Ft.height||(Ft.height=Ot.height)):u(Ot)&&(Ft.width||(Ft.width=Number(Ot.getAttribute("width"))),Ft.height||(Ft.height,Number(Ot.getAttribute("height"))))},Ct.prototype.onAttrChange=function(Ot,Dt,Ft){At.prototype.onAttrChange.call(this,Ot,Dt,Ft),Ot==="img"&&this._setImage(Dt)},Ct.prototype.createPath=function(Ot){if(this.get("loading")){this.set("toDraw",!0),this.set("context",Ot);return}var Dt=this.attr(),Ft=Dt.x,Xt=Dt.y,Rt=Dt.width,Kt=Dt.height,$t=Dt.sx,le=Dt.sy,Me=Dt.swidth,on=Dt.sheight,hn=Dt.img;(hn instanceof Image||u(hn))&&(!Object(t.i)($t)&&!Object(t.i)(le)&&!Object(t.i)(Me)&&!Object(t.i)(on)?Ot.drawImage(hn,$t,le,Me,on,Ft,Xt,Rt,Kt):Ot.drawImage(hn,Ft,Xt,Rt,Kt))},Ct}(b),C=v,O=z("EYNi");function j(At,Ct,Ot,Dt,Ft,Xt,Rt){var Kt=Math.min(At,Ot),$t=Math.max(At,Ot),le=Math.min(Ct,Dt),Me=Math.max(Ct,Dt),on=Ft/2;return Xt>=Kt-on&&Xt<=$t+on&&Rt>=le-on&&Rt<=Me+on?O.c.pointToLine(At,Ct,Ot,Dt,Xt,Rt)<=Ft/2:!1}var p=z("nycV"),x=function(At){Object(a.b)(Ct,At);function Ct(){return At!==null&&At.apply(this,arguments)||this}return Ct.prototype.getDefaultAttrs=function(){var Ot=At.prototype.getDefaultAttrs.call(this);return Object(a.a)(Object(a.a)({},Ot),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},Ct.prototype.initAttrs=function(Ot){this.setArrow()},Ct.prototype.onAttrChange=function(Ot,Dt,Ft){At.prototype.onAttrChange.call(this,Ot,Dt,Ft),this.setArrow()},Ct.prototype.setArrow=function(){var Ot=this.attr(),Dt=Ot.x1,Ft=Ot.y1,Xt=Ot.x2,Rt=Ot.y2,Kt=Ot.startArrow,$t=Ot.endArrow;Kt&&p.b(this,Ot,Xt,Rt,Dt,Ft),$t&&p.a(this,Ot,Dt,Ft,Xt,Rt)},Ct.prototype.isInStrokeOrPath=function(Ot,Dt,Ft,Xt,Rt){if(!Ft||!Rt)return!1;var Kt=this.attr(),$t=Kt.x1,le=Kt.y1,Me=Kt.x2,on=Kt.y2;return j($t,le,Me,on,Rt,Ot,Dt)},Ct.prototype.createPath=function(Ot){var Dt=this.attr(),Ft=Dt.x1,Xt=Dt.y1,Rt=Dt.x2,Kt=Dt.y2,$t=Dt.startArrow,le=Dt.endArrow,Me={dx:0,dy:0},on={dx:0,dy:0};$t&&$t.d&&(Me=p.c(Ft,Xt,Rt,Kt,Dt.startArrow.d)),le&&le.d&&(on=p.c(Ft,Xt,Rt,Kt,Dt.endArrow.d)),Ot.beginPath(),Ot.moveTo(Ft+Me.dx,Xt+Me.dy),Ot.lineTo(Rt-on.dx,Kt-on.dy)},Ct.prototype.afterDrawPath=function(Ot){var Dt=this.get("startArrowShape"),Ft=this.get("endArrowShape");Dt&&Dt.draw(Ot),Ft&&Ft.draw(Ot)},Ct.prototype.getTotalLength=function(){var Ot=this.attr(),Dt=Ot.x1,Ft=Ot.y1,Xt=Ot.x2,Rt=Ot.y2;return O.c.length(Dt,Ft,Xt,Rt)},Ct.prototype.getPoint=function(Ot){var Dt=this.attr(),Ft=Dt.x1,Xt=Dt.y1,Rt=Dt.x2,Kt=Dt.y2;return O.c.pointAt(Ft,Xt,Rt,Kt,Ot)},Ct}(b),A=x,k=z("iTfj"),X=z("LvGN"),et={circle:function(Ct,Ot,Dt){return[["M",Ct-Dt,Ot],["A",Dt,Dt,0,1,0,Ct+Dt,Ot],["A",Dt,Dt,0,1,0,Ct-Dt,Ot]]},square:function(Ct,Ot,Dt){return[["M",Ct-Dt,Ot-Dt],["L",Ct+Dt,Ot-Dt],["L",Ct+Dt,Ot+Dt],["L",Ct-Dt,Ot+Dt],["Z"]]},diamond:function(Ct,Ot,Dt){return[["M",Ct-Dt,Ot],["L",Ct,Ot-Dt],["L",Ct+Dt,Ot],["L",Ct,Ot+Dt],["Z"]]},triangle:function(Ct,Ot,Dt){var Ft=Dt*Math.sin(1/3*Math.PI);return[["M",Ct-Dt,Ot+Ft],["L",Ct,Ot-Ft],["L",Ct+Dt,Ot+Ft],["Z"]]},"triangle-down":function(Ct,Ot,Dt){var Ft=Dt*Math.sin(1/3*Math.PI);return[["M",Ct-Dt,Ot-Ft],["L",Ct+Dt,Ot-Ft],["L",Ct,Ot+Ft],["Z"]]}},tt=function(At){Object(a.b)(Ct,At);function Ct(){return At!==null&&At.apply(this,arguments)||this}return Ct.prototype.initAttrs=function(Ot){this._resetParamsCache()},Ct.prototype._resetParamsCache=function(){this.set("paramsCache",{})},Ct.prototype.onAttrChange=function(Ot,Dt,Ft){At.prototype.onAttrChange.call(this,Ot,Dt,Ft),["symbol","x","y","r","radius"].indexOf(Ot)!==-1&&this._resetParamsCache()},Ct.prototype.isOnlyHitBox=function(){return!0},Ct.prototype._getR=function(Ot){return Object(k.isNil)(Ot.r)?Ot.radius:Ot.r},Ct.prototype._getPath=function(){var Ot=this.attr(),Dt=Ot.x,Ft=Ot.y,Xt=Ot.symbol||"circle",Rt=this._getR(Ot),Kt,$t;if(Object(t.h)(Xt))Kt=Xt,$t=Kt(Dt,Ft,Rt),$t=Object(X.d)($t);else{if(Kt=Ct.Symbols[Xt],!Kt)return console.warn(Xt+" marker is not supported."),null;$t=Kt(Dt,Ft,Rt)}return $t},Ct.prototype.createPath=function(Ot){var Dt=this._getPath(),Ft=this.get("paramsCache");Object(n.e)(this,Ot,{path:Dt},Ft)},Ct.Symbols=et,Ct}(b),ft=tt;function st(At,Ct,Ot){var Dt=Object(M.getOffScreenContext)();return At.createPath(Dt),Dt.isPointInPath(Ct,Ot)}var vt=1e-6;function mt(At){return Math.abs(At)<vt?0:At<0?-1:1}function pt(At,Ct,Ot){return(Ot[0]-At[0])*(Ct[1]-At[1])==(Ct[0]-At[0])*(Ot[1]-At[1])&&Math.min(At[0],Ct[0])<=Ot[0]&&Ot[0]<=Math.max(At[0],Ct[0])&&Math.min(At[1],Ct[1])<=Ot[1]&&Ot[1]<=Math.max(At[1],Ct[1])}function rt(At,Ct,Ot){var Dt=!1,Ft=At.length;if(Ft<=2)return!1;for(var Xt=0;Xt<Ft;Xt++){var Rt=At[Xt],Kt=At[(Xt+1)%Ft];if(pt(Rt,Kt,[Ct,Ot]))return!0;mt(Rt[1]-Ot)>0!=mt(Kt[1]-Ot)>0&&mt(Ct-(Ot-Rt[1])*(Rt[0]-Kt[0])/(Rt[1]-Kt[1])-Rt[0])<0&&(Dt=!Dt)}return Dt}var Bt=z("6JdA"),It=z("n+fv");function St(At,Ct,Ot,Dt,Ft,Xt,Rt,Kt){var $t=(Math.atan2(Kt-Ct,Rt-At)+Math.PI*2)%(Math.PI*2);if($t<Dt||$t>Ft)return!1;var le={x:At+Ot*Math.cos($t),y:Ct+Ot*Math.sin($t)};return Object(t.b)(le.x,le.y,Rt,Kt)<=Xt/2}var H=Bt.a.transform;function ot(At){for(var Ct=!1,Ot=At.length,Dt=0;Dt<Ot;Dt++){var Ft=At[Dt],Xt=Ft[0];if(Xt==="C"||Xt==="A"||Xt==="Q"){Ct=!0;break}}return Ct}function yt(At,Ct,Ot,Dt,Ft){for(var Xt=!1,Rt=Ct/2,Kt=0;Kt<At.length;Kt++){var $t=At[Kt],le=$t.currentPoint,Me=$t.params,on=$t.prePoint,hn=$t.box;if(!(hn&&!Object(t.e)(hn.x-Rt,hn.y-Rt,hn.width+Ct,hn.height+Ct,Ot,Dt))){switch($t.command){case"L":case"Z":Xt=j(on[0],on[1],le[0],le[1],Ct,Ot,Dt);break;case"Q":var Cn=O.e.pointDistance(on[0],on[1],Me[1],Me[2],Me[3],Me[4],Ot,Dt);Xt=Cn<=Ct/2;break;case"C":var He=O.b.pointDistance(on[0],on[1],Me[1],Me[2],Me[3],Me[4],Me[5],Me[6],Ot,Dt,Ft);Xt=He<=Ct/2;break;case"A":var mn=$t.arcParams,dn=mn.cx,Un=mn.cy,Xn=mn.rx,Hn=mn.ry,_n=mn.startAngle,$n=mn.endAngle,ir=mn.xRotation,dr=[Ot,Dt,1],xr=Xn>Hn?Xn:Hn,Qr=Xn>Hn?1:Xn/Hn,Mr=Xn>Hn?Hn/Xn:1,Er=H(null,[["t",-dn,-Un],["r",-ir],["s",1/Qr,1/Mr]]);It.transformMat3(dr,dr,Er),Xt=St(0,0,xr,_n,$n,Ct,dr[0],dr[1]);break;default:break}if(Xt)break}}return Xt}function xt(At){for(var Ct=At.length,Ot=[],Dt=[],Ft=[],Xt=0;Xt<Ct;Xt++){var Rt=At[Xt],Kt=Rt[0];Kt==="M"?(Ft.length&&(Dt.push(Ft),Ft=[]),Ft.push([Rt[1],Rt[2]])):Kt==="Z"?Ft.length&&(Ot.push(Ft),Ft=[]):Ft.push([Rt[1],Rt[2]])}return Ft.length>0&&Dt.push(Ft),{polygons:Ot,polylines:Dt}}var wt=Object(a.a)({hasArc:ot,extractPolygons:xt,isPointInStroke:yt},M.PathUtil);function Q(At,Ct,Ot){for(var Dt=!1,Ft=0;Ft<At.length;Ft++){var Xt=At[Ft];if(Dt=rt(Xt,Ct,Ot),Dt)break}return Dt}var ct=function(At){Object(a.b)(Ct,At);function Ct(){return At!==null&&At.apply(this,arguments)||this}return Ct.prototype.getDefaultAttrs=function(){var Ot=At.prototype.getDefaultAttrs.call(this);return Object(a.a)(Object(a.a)({},Ot),{startArrow:!1,endArrow:!1})},Ct.prototype.initAttrs=function(Ot){this._setPathArr(Ot.path),this.setArrow()},Ct.prototype.onAttrChange=function(Ot,Dt,Ft){At.prototype.onAttrChange.call(this,Ot,Dt,Ft),Ot==="path"&&this._setPathArr(Dt),this.setArrow()},Ct.prototype._setPathArr=function(Ot){this.attrs.path=Object(X.d)(Ot);var Dt=wt.hasArc(Ot);this.set("hasArc",Dt),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},Ct.prototype.getSegments=function(){var Ot=this.get("segements");return Ot||(Ot=Object(X.e)(this.attr("path")),this.set("segments",Ot)),Ot},Ct.prototype.setArrow=function(){var Ot=this.attr(),Dt=Ot.startArrow,Ft=Ot.endArrow;if(Dt){var Xt=this.getStartTangent();p.b(this,Ot,Xt[0][0],Xt[0][1],Xt[1][0],Xt[1][1])}if(Ft){var Xt=this.getEndTangent();p.a(this,Ot,Xt[0][0],Xt[0][1],Xt[1][0],Xt[1][1])}},Ct.prototype.isInStrokeOrPath=function(Ot,Dt,Ft,Xt,Rt){var Kt=this.getSegments(),$t=this.get("hasArc"),le=!1;if(Ft){var Me=this.getTotalLength();le=wt.isPointInStroke(Kt,Rt,Ot,Dt,Me)}if(!le&&Xt)if($t)le=st(this,Ot,Dt);else{var on=this.attr("path"),hn=wt.extractPolygons(on);le=Q(hn.polygons,Ot,Dt)||Q(hn.polylines,Ot,Dt)}return le},Ct.prototype.createPath=function(Ot){var Dt=this.attr(),Ft=this.get("paramsCache");Object(n.e)(this,Ot,Dt,Ft)},Ct.prototype.afterDrawPath=function(Ot){var Dt=this.get("startArrowShape"),Ft=this.get("endArrowShape");Dt&&Dt.draw(Ot),Ft&&Ft.draw(Ot)},Ct.prototype.getTotalLength=function(){var Ot=this.get("totalLength");return Object(k.isNil)(Ot)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):Ot},Ct.prototype.getPoint=function(Ot){var Dt=this.get("tCache");Dt||(this._calculateCurve(),this._setTcache(),Dt=this.get("tCache"));var Ft,Xt,Rt=this.get("curve");if(!Dt||Dt.length===0)return Rt?{x:Rt[0][1],y:Rt[0][2]}:null;Object(k.each)(Dt,function(Me,on){Ot>=Me[0]&&Ot<=Me[1]&&(Ft=(Ot-Me[0])/(Me[1]-Me[0]),Xt=on)});var Kt=Rt[Xt];if(Object(k.isNil)(Kt)||Object(k.isNil)(Xt))return null;var $t=Kt.length,le=Rt[Xt+1];return O.b.pointAt(Kt[$t-2],Kt[$t-1],le[1],le[2],le[3],le[4],le[5],le[6],Ft)},Ct.prototype._calculateCurve=function(){var Ot=this.attr().path;this.set("curve",wt.pathToCurve(Ot))},Ct.prototype._setTcache=function(){var Ot=0,Dt=0,Ft=[],Xt,Rt,Kt,$t,le=this.get("curve");if(!!le){if(Object(k.each)(le,function(Me,on){Kt=le[on+1],$t=Me.length,Kt&&(Ot+=O.b.length(Me[$t-2],Me[$t-1],Kt[1],Kt[2],Kt[3],Kt[4],Kt[5],Kt[6])||0)}),this.set("totalLength",Ot),Ot===0){this.set("tCache",[]);return}Object(k.each)(le,function(Me,on){Kt=le[on+1],$t=Me.length,Kt&&(Xt=[],Xt[0]=Dt/Ot,Rt=O.b.length(Me[$t-2],Me[$t-1],Kt[1],Kt[2],Kt[3],Kt[4],Kt[5],Kt[6]),Dt+=Rt||0,Xt[1]=Dt/Ot,Ft.push(Xt))}),this.set("tCache",Ft)}},Ct.prototype.getStartTangent=function(){var Ot=this.getSegments(),Dt;if(Ot.length>1){var Ft=Ot[0].currentPoint,Xt=Ot[1].currentPoint,Rt=Ot[1].startTangent;Dt=[],Rt?(Dt.push([Ft[0]-Rt[0],Ft[1]-Rt[1]]),Dt.push([Ft[0],Ft[1]])):(Dt.push([Xt[0],Xt[1]]),Dt.push([Ft[0],Ft[1]]))}return Dt},Ct.prototype.getEndTangent=function(){var Ot=this.getSegments(),Dt=Ot.length,Ft;if(Dt>1){var Xt=Ot[Dt-2].currentPoint,Rt=Ot[Dt-1].currentPoint,Kt=Ot[Dt-1].endTangent;Ft=[],Kt?(Ft.push([Rt[0]-Kt[0],Rt[1]-Kt[1]]),Ft.push([Rt[0],Rt[1]])):(Ft.push([Xt[0],Xt[1]]),Ft.push([Rt[0],Rt[1]]))}return Ft},Ct}(b),it=ct;function U(At,Ct,Ot,Dt,Ft){var Xt=At.length;if(Xt<2)return!1;for(var Rt=0;Rt<Xt-1;Rt++){var Kt=At[Rt][0],$t=At[Rt][1],le=At[Rt+1][0],Me=At[Rt+1][1];if(j(Kt,$t,le,Me,Ct,Ot,Dt))return!0}if(Ft){var on=At[0],hn=At[Xt-1];if(j(on[0],on[1],hn[0],hn[1],Ct,Ot,Dt))return!0}return!1}var D=function(At){Object(a.b)(Ct,At);function Ct(){return At!==null&&At.apply(this,arguments)||this}return Ct.prototype.isInStrokeOrPath=function(Ot,Dt,Ft,Xt,Rt){var Kt=this.attr().points,$t=!1;return Ft&&($t=U(Kt,Rt,Ot,Dt,!0)),!$t&&Xt&&($t=rt(Kt,Ot,Dt)),$t},Ct.prototype.createPath=function(Ot){var Dt=this.attr(),Ft=Dt.points;if(!(Ft.length<2)){Ot.beginPath();for(var Xt=0;Xt<Ft.length;Xt++){var Rt=Ft[Xt];Xt===0?Ot.moveTo(Rt[0],Rt[1]):Ot.lineTo(Rt[0],Rt[1])}Ot.closePath()}},Ct}(b),W=D,P=function(At){Object(a.b)(Ct,At);function Ct(){return At!==null&&At.apply(this,arguments)||this}return Ct.prototype.getDefaultAttrs=function(){var Ot=At.prototype.getDefaultAttrs.call(this);return Object(a.a)(Object(a.a)({},Ot),{startArrow:!1,endArrow:!1})},Ct.prototype.initAttrs=function(Ot){this.setArrow()},Ct.prototype.onAttrChange=function(Ot,Dt,Ft){At.prototype.onAttrChange.call(this,Ot,Dt,Ft),this.setArrow(),["points"].indexOf(Ot)!==-1&&this._resetCache()},Ct.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},Ct.prototype.setArrow=function(){var Ot=this.attr(),Dt=this.attrs,Ft=Dt.points,Xt=Dt.startArrow,Rt=Dt.endArrow,Kt=Ft.length,$t=Ft[0][0],le=Ft[0][1],Me=Ft[Kt-1][0],on=Ft[Kt-1][1];Xt&&p.b(this,Ot,Ft[1][0],Ft[1][1],$t,le),Rt&&p.a(this,Ot,Ft[Kt-2][0],Ft[Kt-2][1],Me,on)},Ct.prototype.isFill=function(){return!1},Ct.prototype.isInStrokeOrPath=function(Ot,Dt,Ft,Xt,Rt){if(!Ft||!Rt)return!1;var Kt=this.attr().points;return U(Kt,Rt,Ot,Dt,!1)},Ct.prototype.isStroke=function(){return!0},Ct.prototype.createPath=function(Ot){var Dt=this.attr(),Ft=Dt.points,Xt=Dt.startArrow,Rt=Dt.endArrow,Kt=Ft.length;if(!(Ft.length<2)){var $t=Ft[0][0],le=Ft[0][1],Me=Ft[Kt-1][0],on=Ft[Kt-1][1];if(Xt&&Xt.d){var hn=p.c($t,le,Ft[1][0],Ft[1][1],Xt.d);$t+=hn.dx,le+=hn.dy}if(Rt&&Rt.d){var hn=p.c(Ft[Kt-2][0],Ft[Kt-2][1],Me,on,Rt.d);Me-=hn.dx,on-=hn.dy}Ot.beginPath(),Ot.moveTo($t,le);for(var Cn=0;Cn<Kt-1;Cn++){var He=Ft[Cn];Ot.lineTo(He[0],He[1])}Ot.lineTo(Me,on)}},Ct.prototype.afterDrawPath=function(Ot){var Dt=this.get("startArrowShape"),Ft=this.get("endArrowShape");Dt&&Dt.draw(Ot),Ft&&Ft.draw(Ot)},Ct.prototype.getTotalLength=function(){var Ot=this.attr().points,Dt=this.get("totalLength");return Object(k.isNil)(Dt)?(this.set("totalLength",O.d.length(Ot)),this.get("totalLength")):Dt},Ct.prototype.getPoint=function(Ot){var Dt=this.attr().points,Ft=this.get("tCache");Ft||(this._setTcache(),Ft=this.get("tCache"));var Xt,Rt;return Object(k.each)(Ft,function(Kt,$t){Ot>=Kt[0]&&Ot<=Kt[1]&&(Xt=(Ot-Kt[0])/(Kt[1]-Kt[0]),Rt=$t)}),O.c.pointAt(Dt[Rt][0],Dt[Rt][1],Dt[Rt+1][0],Dt[Rt+1][1],Xt)},Ct.prototype._setTcache=function(){var Ot=this.attr().points;if(!(!Ot||Ot.length===0)){var Dt=this.getTotalLength();if(!(Dt<=0)){var Ft=0,Xt=[],Rt,Kt;Object(k.each)(Ot,function($t,le){Ot[le+1]&&(Rt=[],Rt[0]=Ft/Dt,Kt=O.c.length($t[0],$t[1],Ot[le+1][0],Ot[le+1][1]),Ft+=Kt,Rt[1]=Ft/Dt,Xt.push(Rt))}),this.set("tCache",Xt)}}},Ct.prototype.getStartTangent=function(){var Ot=this.attr().points,Dt=[];return Dt.push([Ot[1][0],Ot[1][1]]),Dt.push([Ot[0][0],Ot[0][1]]),Dt},Ct.prototype.getEndTangent=function(){var Ot=this.attr().points,Dt=Ot.length-1,Ft=[];return Ft.push([Ot[Dt-1][0],Ot[Dt-1][1]]),Ft.push([Ot[Dt][0],Ot[Dt][1]]),Ft},Ct}(b),m=P,y=z("r0DC");function V(At,Ct,Ot,Dt,Ft,Xt,Rt){var Kt=Ft/2;return Object(t.e)(At-Kt,Ct-Kt,Ot,Ft,Xt,Rt)||Object(t.e)(At+Ot-Kt,Ct-Kt,Ft,Dt,Xt,Rt)||Object(t.e)(At+Kt,Ct+Dt-Kt,Ot,Ft,Xt,Rt)||Object(t.e)(At-Kt,Ct+Kt,Ft,Dt,Xt,Rt)}function J(At,Ct,Ot,Dt,Ft,Xt,Rt,Kt){var $t=Xt/2;return j(At+Ft,Ct,At+Ot-Ft,Ct,Xt,Rt,Kt)||j(At+Ot,Ct+Ft,At+Ot,Ct+Dt-Ft,Xt,Rt,Kt)||j(At+Ot-Ft,Ct+Dt,At+Ft,Ct+Dt,Xt,Rt,Kt)||j(At,Ct+Dt-Ft,At,Ct+Ft,Xt,Rt,Kt)||St(At+Ot-Ft,Ct+Ft,Ft,1.5*Math.PI,2*Math.PI,Xt,Rt,Kt)||St(At+Ot-Ft,Ct+Dt-Ft,Ft,0,.5*Math.PI,Xt,Rt,Kt)||St(At+Ft,Ct+Dt-Ft,Ft,.5*Math.PI,Math.PI,Xt,Rt,Kt)||St(At+Ft,Ct+Ft,Ft,Math.PI,1.5*Math.PI,Xt,Rt,Kt)}var ht=function(At){Object(a.b)(Ct,At);function Ct(){return At!==null&&At.apply(this,arguments)||this}return Ct.prototype.getDefaultAttrs=function(){var Ot=At.prototype.getDefaultAttrs.call(this);return Object(a.a)(Object(a.a)({},Ot),{x:0,y:0,width:0,height:0,radius:0})},Ct.prototype.isInStrokeOrPath=function(Ot,Dt,Ft,Xt,Rt){var Kt=this.attr(),$t=Kt.x,le=Kt.y,Me=Kt.width,on=Kt.height,hn=Kt.radius;if(hn){var He=!1;return Ft&&(He=J($t,le,Me,on,hn,Rt,Ot,Dt)),!He&&Xt&&(He=st(this,Ot,Dt)),He}else{var Cn=Rt/2;if(Xt&&Ft)return Object(t.e)($t-Cn,le-Cn,Me+Cn,on+Cn,Ot,Dt);if(Xt)return Object(t.e)($t,le,Me,on,Ot,Dt);if(Ft)return V($t,le,Me,on,Rt,Ot,Dt)}},Ct.prototype.createPath=function(Ot){var Dt=this.attr(),Ft=Dt.x,Xt=Dt.y,Rt=Dt.width,Kt=Dt.height,$t=Dt.radius;if(Ot.beginPath(),$t===0)Ot.rect(Ft,Xt,Rt,Kt);else{var le=Object(y.a)($t),Me=le[0],on=le[1],hn=le[2],Cn=le[3];Ot.moveTo(Ft+Me,Xt),Ot.lineTo(Ft+Rt-on,Xt),on!==0&&Ot.arc(Ft+Rt-on,Xt+on,on,-Math.PI/2,0),Ot.lineTo(Ft+Rt,Xt+Kt-hn),hn!==0&&Ot.arc(Ft+Rt-hn,Xt+Kt-hn,hn,0,Math.PI/2),Ot.lineTo(Ft+Cn,Xt+Kt),Cn!==0&&Ot.arc(Ft+Cn,Xt+Kt-Cn,Cn,Math.PI/2,Math.PI),Ot.lineTo(Ft,Xt+Me),Me!==0&&Ot.arc(Ft+Me,Xt+Me,Me,Math.PI,Math.PI*1.5),Ot.closePath()}},Ct}(b),gt=ht,Mt=function(At){Object(a.b)(Ct,At);function Ct(){return At!==null&&At.apply(this,arguments)||this}return Ct.prototype.getDefaultAttrs=function(){var Ot=At.prototype.getDefaultAttrs.call(this);return Object(a.a)(Object(a.a)({},Ot),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},Ct.prototype.isOnlyHitBox=function(){return!0},Ct.prototype.initAttrs=function(Ot){this._assembleFont(),Ot.text&&this._setText(Ot.text)},Ct.prototype._assembleFont=function(){var Ot=this.attrs;Ot.font=Object(M.assembleFont)(Ot)},Ct.prototype._setText=function(Ot){var Dt=null;Object(t.k)(Ot)&&Ot.indexOf(`
`)!==-1&&(Dt=Ot.split(`
`)),this.set("textArr",Dt)},Ct.prototype.onAttrChange=function(Ot,Dt,Ft){At.prototype.onAttrChange.call(this,Ot,Dt,Ft),Ot.startsWith("font")&&this._assembleFont(),Ot==="text"&&this._setText(Dt)},Ct.prototype._getSpaceingY=function(){var Ot=this.attrs,Dt=Ot.lineHeight,Ft=Ot.fontSize*1;return Dt?Dt-Ft:Ft*.14},Ct.prototype._drawTextArr=function(Ot,Dt,Ft){var Xt=this.attrs,Rt=Xt.textBaseline,Kt=Xt.x,$t=Xt.y,le=Xt.fontSize*1,Me=this._getSpaceingY(),on=Object(M.getTextHeight)(Xt.text,Xt.fontSize,Xt.lineHeight),hn;Object(t.c)(Dt,function(Cn,He){hn=$t+He*(Me+le)-on+le,Rt==="middle"&&(hn+=on-le-(on-le)/2),Rt==="top"&&(hn+=on-le),Ft?Ot.fillText(Cn,Kt,hn):Ot.strokeText(Cn,Kt,hn)})},Ct.prototype._drawText=function(Ot,Dt){var Ft=this.attr(),Xt=Ft.x,Rt=Ft.y,Kt=this.get("textArr");if(Kt)this._drawTextArr(Ot,Kt,Dt);else{var $t=Ft.text;Dt?Ot.fillText($t,Xt,Rt):Ot.strokeText($t,Xt,Rt)}},Ct.prototype.strokeAndFill=function(Ot){var Dt=this.attrs,Ft=Dt.lineWidth,Xt=Dt.opacity,Rt=Dt.strokeOpacity,Kt=Dt.fillOpacity;this.isStroke()&&Ft>0&&(!Object(t.i)(Rt)&&Rt!==1&&(Ot.globalAlpha=Xt),this.stroke(Ot)),this.isFill()&&(!Object(t.i)(Kt)&&Kt!==1?(Ot.globalAlpha=Kt,this.fill(Ot),Ot.globalAlpha=Xt):this.fill(Ot)),this.afterDrawPath(Ot)},Ct.prototype.fill=function(Ot){this._drawText(Ot,!0)},Ct.prototype.stroke=function(Ot){this._drawText(Ot,!1)},Ct}(b),Lt=Mt},SZbK:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return lt});var lt=["#FAAD14","#E8EDF3"]},ShmH:function(wr,Vt,z){var lt=z("WmNS");(function(a,M){wr.exports=M()})(this,function(){return function(a){var M={};function t(n){if(M[n])return M[n].exports;var d=M[n]={i:n,l:!1,exports:{}};return a[n].call(d.exports,d,d.exports,t),d.l=!0,d.exports}return t.m=a,t.c=M,t.d=function(n,d,S){t.o(n,d)||Object.defineProperty(n,d,{enumerable:!0,get:S})},t.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,d){if(1&d&&(n=t(n)),8&d||4&d&&typeof n=="object"&&n&&n.__esModule)return n;var S=Object.create(null);if(t.r(S),Object.defineProperty(S,"default",{enumerable:!0,value:n}),2&d&&typeof n!="string")for(var b in n)t.d(S,b,function(h){return n[h]}.bind(null,b));return S},t.n=function(n){var d=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(d,"a",d),d},t.o=function(n,d){return Object.prototype.hasOwnProperty.call(n,d)},t.p="",t(t.s=262)}([function(a,M,t){"use strict";t.d(M,"j",function(){return j}),t.d(M,"k",function(){return A}),t.d(M,"y",function(){return k}),t.d(M,"g",function(){return d}),t.d(M,"J",function(){return X}),t.d(M,"h",function(){return et}),t.d(M,"u",function(){return ft}),t.d(M,"B",function(){return st}),t.d(M,"G",function(){return mt}),t.d(M,"I",function(){return rt}),t.d(M,"m",function(){return T}),t.d(M,"n",function(){return St}),t.d(M,"o",function(){return H}),t.d(M,"r",function(){return h}),t.d(M,"s",function(){return E}),t.d(M,"t",function(){return tt}),t.d(M,"v",function(){return s}),t.d(M,"w",function(){return O}),t.d(M,"x",function(){return x}),t.d(M,"D",function(){return xt}),t.d(M,"b",function(){return wt}),t.d(M,"c",function(){return U}),t.d(M,"d",function(){return D}),t.d(M,"e",function(){return P}),t.d(M,"f",function(){return u}),t.d(M,"l",function(){return m}),t.d(M,"p",function(){return V}),t.d(M,"q",function(){return J}),t.d(M,"z",function(){return ht}),t.d(M,"A",function(){return ct}),t.d(M,"a",function(){return ct}),t.d(M,"i",function(){return gt}),t.d(M,"F",function(){return Mt}),t.d(M,"H",function(){return At}),t.d(M,"C",function(){return Ct}),t.d(M,"E",function(){return Ot});var n=function(Ft){return Ft!==null&&typeof Ft!="function"&&isFinite(Ft.length)},d=function(Ft,Xt){if(!n(Ft))return Ft;for(var Rt=[],Kt=0;Kt<Ft.length;Kt++){var $t=Ft[Kt];Xt($t,Kt)&&Rt.push($t)}return Rt},S={}.toString,b=function(Ft,Xt){return S.call(Ft)==="[object "+Xt+"]"},h=function(Ft){return b(Ft,"Function")},E=function(Ft){return Ft==null},T=function(Ft){return Array.isArray?Array.isArray(Ft):b(Ft,"Array")};function o(Dt){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ft){return typeof Ft}:function(Ft){return Ft&&typeof Symbol=="function"&&Ft.constructor===Symbol&&Ft!==Symbol.prototype?"symbol":typeof Ft})(Dt)}var s=function(Ft){var Xt=o(Ft);return Ft!==null&&Xt==="object"||Xt==="function"},u=function(Ft,Xt){if(Ft){if(T(Ft))for(var Rt=0,Kt=Ft.length;Rt<Kt&&Xt(Ft[Rt],Rt)!==!1;Rt++);else if(s(Ft)){for(var $t in Ft)if(Ft.hasOwnProperty($t)&&Xt(Ft[$t],$t)===!1)break}}};function v(Dt){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ft){return typeof Ft}:function(Ft){return Ft&&typeof Symbol=="function"&&Ft.constructor===Symbol&&Ft!==Symbol.prototype?"symbol":typeof Ft})(Dt)}var C=function(Ft){return v(Ft)==="object"&&Ft!==null},O=function(Ft){if(!C(Ft)||!b(Ft,"Object"))return!1;if(Object.getPrototypeOf(Ft)===null)return!0;for(var Xt=Ft;Object.getPrototypeOf(Xt)!==null;)Xt=Object.getPrototypeOf(Xt);return Object.getPrototypeOf(Ft)===Xt},j=function(Ft){var Xt=Ft.filter(function(le){return!isNaN(le)});if(!Xt.length)return{min:0,max:0};if(T(Ft[0])){for(var Rt=[],Kt=0;Kt<Ft.length;Kt++)Rt=Rt.concat(Ft[Kt]);Xt=Rt}var $t=Math.max.apply(null,Xt);return{min:Math.min.apply(null,Xt),max:$t}},p=Array.prototype,x=(p.splice,p.indexOf,Array.prototype.splice,function(Dt){return b(Dt,"String")});function A(Dt){if(n(Dt))return Dt[0]}function k(Dt){if(n(Dt))return Dt[Dt.length-1]}var X=function(Ft,Xt){if(Ft["_wrap_"+Xt])return Ft["_wrap_"+Xt];var Rt=function($t){Ft[Xt]($t)};return Ft["_wrap_"+Xt]=Rt,Rt},et=function(Ft,Xt){var Rt=Xt.toString(),Kt=Rt.indexOf(".");if(Kt===-1)return Math.round(Ft);var $t=Rt.substr(Kt+1).length;return $t>20&&($t=20),parseFloat(Ft.toFixed($t))},tt=function(Ft){return b(Ft,"Number")};Number.isInteger&&Number.isInteger;function ft(Dt,Ft,Xt){return Xt===void 0&&(Xt=1e-5),Math.abs(Dt-Ft)<Xt}var st=function(Ft,Xt){return(Ft%Xt+Xt)%Xt},vt=(parseInt,Math.PI/180),mt=function(Ft){return vt*Ft},pt=function(Dt){return E(Dt)?"":Dt.toString()},rt=function(Ft){var Xt=pt(Ft);return Xt.charAt(0).toUpperCase()+Xt.substring(1)},Bt={}.toString,It=function(Ft){return Bt.call(Ft).replace(/^\[object /,"").replace(/]$/,"")},St=function(Ft){return b(Ft,"Boolean")},H=function(Ft){return b(Ft,"Date")},ot=Object.prototype,yt=function(Ft){var Xt=Ft&&Ft.constructor;return Ft===(typeof Xt=="function"&&Xt.prototype||ot)};function xt(Dt){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(Ft){return setTimeout(Ft,16)})(Dt)}function wt(Dt){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(Dt)}function Q(Dt,Ft){for(var Xt in Ft)Ft.hasOwnProperty(Xt)&&Xt!=="constructor"&&Ft[Xt]!==void 0&&(Dt[Xt]=Ft[Xt])}function ct(Dt,Ft,Xt,Rt){return Ft&&Q(Dt,Ft),Xt&&Q(Dt,Xt),Rt&&Q(Dt,Rt),Dt}function it(Dt){return(it=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ft){return typeof Ft}:function(Ft){return Ft&&typeof Symbol=="function"&&Ft.constructor===Symbol&&Ft!==Symbol.prototype?"symbol":typeof Ft})(Dt)}var U=function Dt(Ft){if(it(Ft)!=="object"||Ft===null)return Ft;var Xt;if(T(Ft)){Xt=[];for(var Rt=0,Kt=Ft.length;Rt<Kt;Rt++)it(Ft[Rt])==="object"&&Ft[Rt]!=null?Xt[Rt]=Dt(Ft[Rt]):Xt[Rt]=Ft[Rt]}else for(var $t in Xt={},Ft)it(Ft[$t])==="object"&&Ft[$t]!=null?Xt[$t]=Dt(Ft[$t]):Xt[$t]=Ft[$t];return Xt},D=function(Ft,Xt,Rt){var Kt;return function(){var $t=this,le=arguments,Me=function(){Kt=null,Rt||Ft.apply($t,le)},on=Rt&&!Kt;clearTimeout(Kt),Kt=setTimeout(Me,Xt),on&&Ft.apply($t,le)}};function W(Dt,Ft,Xt,Rt){for(var Kt in Xt=Xt||0,Rt=Rt||5,Ft)if(Ft.hasOwnProperty(Kt)){var $t=Ft[Kt];$t!==null&&O($t)?(O(Dt[Kt])||(Dt[Kt]={}),Xt<Rt?W(Dt[Kt],$t,Xt+1,Rt):Dt[Kt]=Ft[Kt]):T($t)?(Dt[Kt]=[],Dt[Kt]=Dt[Kt].concat($t)):$t!==void 0&&(Dt[Kt]=$t)}}var P=function(Ft){for(var Xt=[],Rt=1;Rt<arguments.length;Rt++)Xt[Rt-1]=arguments[Rt];for(var Kt=0;Kt<Xt.length;Kt+=1)W(Ft,Xt[Kt]);return Ft},m=function(Ft,Xt){if(!n(Ft))return-1;var Rt=Array.prototype.indexOf;if(Rt)return Rt.call(Ft,Xt);for(var Kt=-1,$t=0;$t<Ft.length;$t++)if(Ft[$t]===Xt){Kt=$t;break}return Kt},y=Object.prototype.hasOwnProperty,V=function(Ft){if(E(Ft))return!0;if(n(Ft))return!Ft.length;var Xt=It(Ft);if(Xt==="Map"||Xt==="Set")return!Ft.size;if(yt(Ft))return!Object.keys(Ft).length;for(var Rt in Ft)if(y.call(Ft,Rt))return!1;return!0},J=function Dt(Ft,Xt){if(Ft===Xt)return!0;if(!Ft||!Xt||x(Ft)||x(Xt))return!1;if(n(Ft)||n(Xt)){if(Ft.length!==Xt.length)return!1;for(var Rt=!0,Kt=0;Kt<Ft.length&&(Rt=Dt(Ft[Kt],Xt[Kt]));Kt++);return Rt}if(C(Ft)||C(Xt)){var $t=Object.keys(Ft),le=Object.keys(Xt);if($t.length!==le.length)return!1;for(Rt=!0,Kt=0;Kt<$t.length&&(Rt=Dt(Ft[$t[Kt]],Xt[$t[Kt]]));Kt++);return Rt}return!1},ht=function(Ft,Xt){if(!n(Ft))return Ft;for(var Rt=[],Kt=0;Kt<Ft.length;Kt++){var $t=Ft[Kt];Rt.push(Xt($t,Kt))}return Rt},gt=function(Ft,Xt,Rt){for(var Kt=0,$t=x(Xt)?Xt.split("."):Xt;Ft&&Kt<$t.length;)Ft=Ft[$t[Kt++]];return Ft===void 0||Kt<$t.length?Rt:Ft},Mt=function(Dt){return n(Dt)?Array.prototype.slice.call(Dt):[]},Lt={},At=function(Ft){return Lt[Ft=Ft||"g"]?Lt[Ft]+=1:Lt[Ft]=1,Ft+Lt[Ft]},Ct=function(){};function Ot(Dt){return E(Dt)?0:n(Dt)?Dt.length:Object.keys(Dt).length}(function(){function Dt(){this.map={}}Dt.prototype.has=function(Ft){return this.map[Ft]!==void 0},Dt.prototype.get=function(Ft,Xt){var Rt=this.map[Ft];return Rt===void 0?Xt:Rt},Dt.prototype.set=function(Ft,Xt){this.map[Ft]=Xt},Dt.prototype.clear=function(){this.map={}},Dt.prototype.delete=function(Ft){delete this.map[Ft]},Dt.prototype.size=function(){return Object.keys(this.map).length}})()},function(a,M,t){"use strict";t.d(M,"b",function(){return d}),t.d(M,"a",function(){return S}),t.d(M,"c",function(){return b}),t.d(M,"d",function(){return h});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var n=function(T,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var v in u)Object.prototype.hasOwnProperty.call(u,v)&&(s[v]=u[v])})(T,o)};function d(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function o(){this.constructor=E}n(E,T),E.prototype=T===null?Object.create(T):(o.prototype=T.prototype,new o)}var S=function(){return(S=Object.assign||function(T){for(var o,s=1,u=arguments.length;s<u;s++)for(var v in o=arguments[s])Object.prototype.hasOwnProperty.call(o,v)&&(T[v]=o[v]);return T}).apply(this,arguments)};function b(E,T){var o={};for(var s in E)Object.prototype.hasOwnProperty.call(E,s)&&T.indexOf(s)<0&&(o[s]=E[s]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function"){var u=0;for(s=Object.getOwnPropertySymbols(E);u<s.length;u++)T.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(E,s[u])&&(o[s[u]]=E[s[u]])}return o}function h(){for(var E=0,T=0,o=arguments.length;T<o;T++)E+=arguments[T].length;var s=Array(E),u=0;for(T=0;T<o;T++)for(var v=arguments[T],C=0,O=v.length;C<O;C++,u++)s[u]=v[C];return s}},function(a,M,t){"use strict";t.d(M,"a",function(){return n}),t.d(M,"b",function(){return d}),t.d(M,"c",function(){return b}),t.d(M,"d",function(){return Re}),t.d(M,"e",function(){return Ji}),t.d(M,"f",function(){return S});var n={};t.r(n),t.d(n,"create",function(){return E}),t.d(n,"fromMat4",function(){return T}),t.d(n,"clone",function(){return o}),t.d(n,"copy",function(){return s}),t.d(n,"fromValues",function(){return u}),t.d(n,"set",function(){return v}),t.d(n,"identity",function(){return C}),t.d(n,"transpose",function(){return O}),t.d(n,"invert",function(){return j}),t.d(n,"adjoint",function(){return p}),t.d(n,"determinant",function(){return x}),t.d(n,"multiply",function(){return A}),t.d(n,"translate",function(){return k}),t.d(n,"rotate",function(){return X}),t.d(n,"scale",function(){return et}),t.d(n,"fromTranslation",function(){return tt}),t.d(n,"fromRotation",function(){return ft}),t.d(n,"fromScaling",function(){return st}),t.d(n,"fromMat2d",function(){return vt}),t.d(n,"fromQuat",function(){return mt}),t.d(n,"normalFromMat4",function(){return pt}),t.d(n,"projection",function(){return rt}),t.d(n,"str",function(){return Bt}),t.d(n,"frob",function(){return It}),t.d(n,"add",function(){return St}),t.d(n,"subtract",function(){return H}),t.d(n,"multiplyScalar",function(){return ot}),t.d(n,"multiplyScalarAndAdd",function(){return yt}),t.d(n,"exactEquals",function(){return xt}),t.d(n,"equals",function(){return wt}),t.d(n,"mul",function(){return Q}),t.d(n,"sub",function(){return ct});var d={};t.r(d),t.d(d,"create",function(){return it}),t.d(d,"clone",function(){return U}),t.d(d,"copy",function(){return D}),t.d(d,"fromValues",function(){return W}),t.d(d,"set",function(){return P}),t.d(d,"identity",function(){return m}),t.d(d,"transpose",function(){return y}),t.d(d,"invert",function(){return V}),t.d(d,"adjoint",function(){return J}),t.d(d,"determinant",function(){return ht}),t.d(d,"multiply",function(){return gt}),t.d(d,"translate",function(){return Mt}),t.d(d,"scale",function(){return Lt}),t.d(d,"rotate",function(){return At}),t.d(d,"rotateX",function(){return Ct}),t.d(d,"rotateY",function(){return Ot}),t.d(d,"rotateZ",function(){return Dt}),t.d(d,"fromTranslation",function(){return Ft}),t.d(d,"fromScaling",function(){return Xt}),t.d(d,"fromRotation",function(){return Rt}),t.d(d,"fromXRotation",function(){return Kt}),t.d(d,"fromYRotation",function(){return $t}),t.d(d,"fromZRotation",function(){return le}),t.d(d,"fromRotationTranslation",function(){return Me}),t.d(d,"fromQuat2",function(){return on}),t.d(d,"getTranslation",function(){return hn}),t.d(d,"getScaling",function(){return Cn}),t.d(d,"getRotation",function(){return He}),t.d(d,"fromRotationTranslationScale",function(){return mn}),t.d(d,"fromRotationTranslationScaleOrigin",function(){return dn}),t.d(d,"fromQuat",function(){return Un}),t.d(d,"frustum",function(){return Xn}),t.d(d,"perspective",function(){return Hn}),t.d(d,"perspectiveFromFieldOfView",function(){return _n}),t.d(d,"ortho",function(){return $n}),t.d(d,"lookAt",function(){return ir}),t.d(d,"targetTo",function(){return dr}),t.d(d,"str",function(){return xr}),t.d(d,"frob",function(){return Qr}),t.d(d,"add",function(){return Mr}),t.d(d,"subtract",function(){return Er}),t.d(d,"multiplyScalar",function(){return Dr}),t.d(d,"multiplyScalarAndAdd",function(){return hi}),t.d(d,"exactEquals",function(){return Wi}),t.d(d,"equals",function(){return oa}),t.d(d,"mul",function(){return Za}),t.d(d,"sub",function(){return ao});var S={};t.r(S),t.d(S,"create",function(){return Ya}),t.d(S,"clone",function(){return Ca}),t.d(S,"fromValues",function(){return La}),t.d(S,"copy",function(){return Ba}),t.d(S,"set",function(){return oo}),t.d(S,"add",function(){return Yr}),t.d(S,"subtract",function(){return $a}),t.d(S,"multiply",function(){return Ma}),t.d(S,"divide",function(){return to}),t.d(S,"ceil",function(){return Aa}),t.d(S,"floor",function(){return Vr}),t.d(S,"min",function(){return Pi}),t.d(S,"max",function(){return wi}),t.d(S,"round",function(){return Ei}),t.d(S,"scale",function(){return bi}),t.d(S,"scaleAndAdd",function(){return Di}),t.d(S,"distance",function(){return Fi}),t.d(S,"squaredDistance",function(){return Ni}),t.d(S,"length",function(){return ji}),t.d(S,"squaredLength",function(){return Xi}),t.d(S,"negate",function(){return Ki}),t.d(S,"inverse",function(){return la}),t.d(S,"normalize",function(){return ta}),t.d(S,"dot",function(){return ma}),t.d(S,"cross",function(){return Oa}),t.d(S,"lerp",function(){return uo}),t.d(S,"random",function(){return sa}),t.d(S,"transformMat4",function(){return Xa}),t.d(S,"transformQuat",function(){return po}),t.d(S,"zero",function(){return bo}),t.d(S,"str",function(){return Mo}),t.d(S,"exactEquals",function(){return Po}),t.d(S,"equals",function(){return ue}),t.d(S,"sub",function(){return ne}),t.d(S,"mul",function(){return Ce}),t.d(S,"div",function(){return en}),t.d(S,"dist",function(){return kn}),t.d(S,"sqrDist",function(){return sr}),t.d(S,"len",function(){return pr}),t.d(S,"sqrLen",function(){return ln}),t.d(S,"forEach",function(){return vn});var b={};t.r(b),t.d(b,"create",function(){return xn}),t.d(b,"identity",function(){return Or}),t.d(b,"setAxisAngle",function(){return Br}),t.d(b,"getAxisAngle",function(){return Pr}),t.d(b,"getAngle",function(){return kr}),t.d(b,"multiply",function(){return mi}),t.d(b,"rotateX",function(){return $r}),t.d(b,"rotateY",function(){return Xr}),t.d(b,"rotateZ",function(){return Nr}),t.d(b,"calculateW",function(){return Hr}),t.d(b,"exp",function(){return oi}),t.d(b,"ln",function(){return yi}),t.d(b,"pow",function(){return si}),t.d(b,"slerp",function(){return ti}),t.d(b,"random",function(){return zi}),t.d(b,"invert",function(){return qi}),t.d(b,"conjugate",function(){return Sa}),t.d(b,"fromMat3",function(){return ea}),t.d(b,"fromEuler",function(){return Fa}),t.d(b,"str",function(){return Ua}),t.d(b,"clone",function(){return dt}),t.d(b,"fromValues",function(){return Gt}),t.d(b,"copy",function(){return Jt}),t.d(b,"set",function(){return ce}),t.d(b,"add",function(){return fe}),t.d(b,"mul",function(){return De}),t.d(b,"scale",function(){return We}),t.d(b,"dot",function(){return sn}),t.d(b,"lerp",function(){return Dn}),t.d(b,"length",function(){return Yt}),t.d(b,"len",function(){return Zt}),t.d(b,"squaredLength",function(){return Ae}),t.d(b,"sqrLen",function(){return Ht}),t.d(b,"normalize",function(){return he}),t.d(b,"exactEquals",function(){return En}),t.d(b,"equals",function(){return Qn}),t.d(b,"rotationTo",function(){return fr}),t.d(b,"sqlerp",function(){return ar}),t.d(b,"setAxes",function(){return an});var h=t(11);function E(){var L=new h.a(9);return h.a!=Float32Array&&(L[1]=0,L[2]=0,L[3]=0,L[5]=0,L[6]=0,L[7]=0),L[0]=1,L[4]=1,L[8]=1,L}function T(L,bt){return L[0]=bt[0],L[1]=bt[1],L[2]=bt[2],L[3]=bt[4],L[4]=bt[5],L[5]=bt[6],L[6]=bt[8],L[7]=bt[9],L[8]=bt[10],L}function o(L){var bt=new h.a(9);return bt[0]=L[0],bt[1]=L[1],bt[2]=L[2],bt[3]=L[3],bt[4]=L[4],bt[5]=L[5],bt[6]=L[6],bt[7]=L[7],bt[8]=L[8],bt}function s(L,bt){return L[0]=bt[0],L[1]=bt[1],L[2]=bt[2],L[3]=bt[3],L[4]=bt[4],L[5]=bt[5],L[6]=bt[6],L[7]=bt[7],L[8]=bt[8],L}function u(L,bt,ie,Ee,te,pe,ve,de,Pe){var ze=new h.a(9);return ze[0]=L,ze[1]=bt,ze[2]=ie,ze[3]=Ee,ze[4]=te,ze[5]=pe,ze[6]=ve,ze[7]=de,ze[8]=Pe,ze}function v(L,bt,ie,Ee,te,pe,ve,de,Pe,ze){return L[0]=bt,L[1]=ie,L[2]=Ee,L[3]=te,L[4]=pe,L[5]=ve,L[6]=de,L[7]=Pe,L[8]=ze,L}function C(L){return L[0]=1,L[1]=0,L[2]=0,L[3]=0,L[4]=1,L[5]=0,L[6]=0,L[7]=0,L[8]=1,L}function O(L,bt){if(L===bt){var ie=bt[1],Ee=bt[2],te=bt[5];L[1]=bt[3],L[2]=bt[6],L[3]=ie,L[5]=bt[7],L[6]=Ee,L[7]=te}else L[0]=bt[0],L[1]=bt[3],L[2]=bt[6],L[3]=bt[1],L[4]=bt[4],L[5]=bt[7],L[6]=bt[2],L[7]=bt[5],L[8]=bt[8];return L}function j(L,bt){var ie=bt[0],Ee=bt[1],te=bt[2],pe=bt[3],ve=bt[4],de=bt[5],Pe=bt[6],ze=bt[7],Je=bt[8],Ve=Je*ve-de*ze,cn=-Je*pe+de*Pe,Be=ze*pe-ve*Pe,Mn=ie*Ve+Ee*cn+te*Be;return Mn?(Mn=1/Mn,L[0]=Ve*Mn,L[1]=(-Je*Ee+te*ze)*Mn,L[2]=(de*Ee-te*ve)*Mn,L[3]=cn*Mn,L[4]=(Je*ie-te*Pe)*Mn,L[5]=(-de*ie+te*pe)*Mn,L[6]=Be*Mn,L[7]=(-ze*ie+Ee*Pe)*Mn,L[8]=(ve*ie-Ee*pe)*Mn,L):null}function p(L,bt){var ie=bt[0],Ee=bt[1],te=bt[2],pe=bt[3],ve=bt[4],de=bt[5],Pe=bt[6],ze=bt[7],Je=bt[8];return L[0]=ve*Je-de*ze,L[1]=te*ze-Ee*Je,L[2]=Ee*de-te*ve,L[3]=de*Pe-pe*Je,L[4]=ie*Je-te*Pe,L[5]=te*pe-ie*de,L[6]=pe*ze-ve*Pe,L[7]=Ee*Pe-ie*ze,L[8]=ie*ve-Ee*pe,L}function x(L){var bt=L[0],ie=L[1],Ee=L[2],te=L[3],pe=L[4],ve=L[5],de=L[6],Pe=L[7],ze=L[8];return bt*(ze*pe-ve*Pe)+ie*(-ze*te+ve*de)+Ee*(Pe*te-pe*de)}function A(L,bt,ie){var Ee=bt[0],te=bt[1],pe=bt[2],ve=bt[3],de=bt[4],Pe=bt[5],ze=bt[6],Je=bt[7],Ve=bt[8],cn=ie[0],Be=ie[1],Mn=ie[2],On=ie[3],pn=ie[4],Sn=ie[5],Rn=ie[6],lr=ie[7],Fn=ie[8];return L[0]=cn*Ee+Be*ve+Mn*ze,L[1]=cn*te+Be*de+Mn*Je,L[2]=cn*pe+Be*Pe+Mn*Ve,L[3]=On*Ee+pn*ve+Sn*ze,L[4]=On*te+pn*de+Sn*Je,L[5]=On*pe+pn*Pe+Sn*Ve,L[6]=Rn*Ee+lr*ve+Fn*ze,L[7]=Rn*te+lr*de+Fn*Je,L[8]=Rn*pe+lr*Pe+Fn*Ve,L}function k(L,bt,ie){var Ee=bt[0],te=bt[1],pe=bt[2],ve=bt[3],de=bt[4],Pe=bt[5],ze=bt[6],Je=bt[7],Ve=bt[8],cn=ie[0],Be=ie[1];return L[0]=Ee,L[1]=te,L[2]=pe,L[3]=ve,L[4]=de,L[5]=Pe,L[6]=cn*Ee+Be*ve+ze,L[7]=cn*te+Be*de+Je,L[8]=cn*pe+Be*Pe+Ve,L}function X(L,bt,ie){var Ee=bt[0],te=bt[1],pe=bt[2],ve=bt[3],de=bt[4],Pe=bt[5],ze=bt[6],Je=bt[7],Ve=bt[8],cn=Math.sin(ie),Be=Math.cos(ie);return L[0]=Be*Ee+cn*ve,L[1]=Be*te+cn*de,L[2]=Be*pe+cn*Pe,L[3]=Be*ve-cn*Ee,L[4]=Be*de-cn*te,L[5]=Be*Pe-cn*pe,L[6]=ze,L[7]=Je,L[8]=Ve,L}function et(L,bt,ie){var Ee=ie[0],te=ie[1];return L[0]=Ee*bt[0],L[1]=Ee*bt[1],L[2]=Ee*bt[2],L[3]=te*bt[3],L[4]=te*bt[4],L[5]=te*bt[5],L[6]=bt[6],L[7]=bt[7],L[8]=bt[8],L}function tt(L,bt){return L[0]=1,L[1]=0,L[2]=0,L[3]=0,L[4]=1,L[5]=0,L[6]=bt[0],L[7]=bt[1],L[8]=1,L}function ft(L,bt){var ie=Math.sin(bt),Ee=Math.cos(bt);return L[0]=Ee,L[1]=ie,L[2]=0,L[3]=-ie,L[4]=Ee,L[5]=0,L[6]=0,L[7]=0,L[8]=1,L}function st(L,bt){return L[0]=bt[0],L[1]=0,L[2]=0,L[3]=0,L[4]=bt[1],L[5]=0,L[6]=0,L[7]=0,L[8]=1,L}function vt(L,bt){return L[0]=bt[0],L[1]=bt[1],L[2]=0,L[3]=bt[2],L[4]=bt[3],L[5]=0,L[6]=bt[4],L[7]=bt[5],L[8]=1,L}function mt(L,bt){var ie=bt[0],Ee=bt[1],te=bt[2],pe=bt[3],ve=ie+ie,de=Ee+Ee,Pe=te+te,ze=ie*ve,Je=Ee*ve,Ve=Ee*de,cn=te*ve,Be=te*de,Mn=te*Pe,On=pe*ve,pn=pe*de,Sn=pe*Pe;return L[0]=1-Ve-Mn,L[3]=Je-Sn,L[6]=cn+pn,L[1]=Je+Sn,L[4]=1-ze-Mn,L[7]=Be-On,L[2]=cn-pn,L[5]=Be+On,L[8]=1-ze-Ve,L}function pt(L,bt){var ie=bt[0],Ee=bt[1],te=bt[2],pe=bt[3],ve=bt[4],de=bt[5],Pe=bt[6],ze=bt[7],Je=bt[8],Ve=bt[9],cn=bt[10],Be=bt[11],Mn=bt[12],On=bt[13],pn=bt[14],Sn=bt[15],Rn=ie*de-Ee*ve,lr=ie*Pe-te*ve,Fn=ie*ze-pe*ve,tr=Ee*Pe-te*de,me=Ee*ze-pe*de,Se=te*ze-pe*Pe,ke=Je*On-Ve*Mn,we=Je*pn-cn*Mn,Ye=Je*Sn-Be*Mn,un=Ve*pn-cn*On,zn=Ve*Sn-Be*On,Nn=cn*Sn-Be*pn,or=Rn*Nn-lr*zn+Fn*un+tr*Ye-me*we+Se*ke;return or?(or=1/or,L[0]=(de*Nn-Pe*zn+ze*un)*or,L[1]=(Pe*Ye-ve*Nn-ze*we)*or,L[2]=(ve*zn-de*Ye+ze*ke)*or,L[3]=(te*zn-Ee*Nn-pe*un)*or,L[4]=(ie*Nn-te*Ye+pe*we)*or,L[5]=(Ee*Ye-ie*zn-pe*ke)*or,L[6]=(On*Se-pn*me+Sn*tr)*or,L[7]=(pn*Fn-Mn*Se-Sn*lr)*or,L[8]=(Mn*me-On*Fn+Sn*Rn)*or,L):null}function rt(L,bt,ie){return L[0]=2/bt,L[1]=0,L[2]=0,L[3]=0,L[4]=-2/ie,L[5]=0,L[6]=-1,L[7]=1,L[8]=1,L}function Bt(L){return"mat3("+L[0]+", "+L[1]+", "+L[2]+", "+L[3]+", "+L[4]+", "+L[5]+", "+L[6]+", "+L[7]+", "+L[8]+")"}function It(L){return Math.hypot(L[0],L[1],L[2],L[3],L[4],L[5],L[6],L[7],L[8])}function St(L,bt,ie){return L[0]=bt[0]+ie[0],L[1]=bt[1]+ie[1],L[2]=bt[2]+ie[2],L[3]=bt[3]+ie[3],L[4]=bt[4]+ie[4],L[5]=bt[5]+ie[5],L[6]=bt[6]+ie[6],L[7]=bt[7]+ie[7],L[8]=bt[8]+ie[8],L}function H(L,bt,ie){return L[0]=bt[0]-ie[0],L[1]=bt[1]-ie[1],L[2]=bt[2]-ie[2],L[3]=bt[3]-ie[3],L[4]=bt[4]-ie[4],L[5]=bt[5]-ie[5],L[6]=bt[6]-ie[6],L[7]=bt[7]-ie[7],L[8]=bt[8]-ie[8],L}function ot(L,bt,ie){return L[0]=bt[0]*ie,L[1]=bt[1]*ie,L[2]=bt[2]*ie,L[3]=bt[3]*ie,L[4]=bt[4]*ie,L[5]=bt[5]*ie,L[6]=bt[6]*ie,L[7]=bt[7]*ie,L[8]=bt[8]*ie,L}function yt(L,bt,ie,Ee){return L[0]=bt[0]+ie[0]*Ee,L[1]=bt[1]+ie[1]*Ee,L[2]=bt[2]+ie[2]*Ee,L[3]=bt[3]+ie[3]*Ee,L[4]=bt[4]+ie[4]*Ee,L[5]=bt[5]+ie[5]*Ee,L[6]=bt[6]+ie[6]*Ee,L[7]=bt[7]+ie[7]*Ee,L[8]=bt[8]+ie[8]*Ee,L}function xt(L,bt){return L[0]===bt[0]&&L[1]===bt[1]&&L[2]===bt[2]&&L[3]===bt[3]&&L[4]===bt[4]&&L[5]===bt[5]&&L[6]===bt[6]&&L[7]===bt[7]&&L[8]===bt[8]}function wt(L,bt){var ie=L[0],Ee=L[1],te=L[2],pe=L[3],ve=L[4],de=L[5],Pe=L[6],ze=L[7],Je=L[8],Ve=bt[0],cn=bt[1],Be=bt[2],Mn=bt[3],On=bt[4],pn=bt[5],Sn=bt[6],Rn=bt[7],lr=bt[8];return Math.abs(ie-Ve)<=h.b*Math.max(1,Math.abs(ie),Math.abs(Ve))&&Math.abs(Ee-cn)<=h.b*Math.max(1,Math.abs(Ee),Math.abs(cn))&&Math.abs(te-Be)<=h.b*Math.max(1,Math.abs(te),Math.abs(Be))&&Math.abs(pe-Mn)<=h.b*Math.max(1,Math.abs(pe),Math.abs(Mn))&&Math.abs(ve-On)<=h.b*Math.max(1,Math.abs(ve),Math.abs(On))&&Math.abs(de-pn)<=h.b*Math.max(1,Math.abs(de),Math.abs(pn))&&Math.abs(Pe-Sn)<=h.b*Math.max(1,Math.abs(Pe),Math.abs(Sn))&&Math.abs(ze-Rn)<=h.b*Math.max(1,Math.abs(ze),Math.abs(Rn))&&Math.abs(Je-lr)<=h.b*Math.max(1,Math.abs(Je),Math.abs(lr))}var Q=A,ct=H;function it(){var L=new h.a(16);return h.a!=Float32Array&&(L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[6]=0,L[7]=0,L[8]=0,L[9]=0,L[11]=0,L[12]=0,L[13]=0,L[14]=0),L[0]=1,L[5]=1,L[10]=1,L[15]=1,L}function U(L){var bt=new h.a(16);return bt[0]=L[0],bt[1]=L[1],bt[2]=L[2],bt[3]=L[3],bt[4]=L[4],bt[5]=L[5],bt[6]=L[6],bt[7]=L[7],bt[8]=L[8],bt[9]=L[9],bt[10]=L[10],bt[11]=L[11],bt[12]=L[12],bt[13]=L[13],bt[14]=L[14],bt[15]=L[15],bt}function D(L,bt){return L[0]=bt[0],L[1]=bt[1],L[2]=bt[2],L[3]=bt[3],L[4]=bt[4],L[5]=bt[5],L[6]=bt[6],L[7]=bt[7],L[8]=bt[8],L[9]=bt[9],L[10]=bt[10],L[11]=bt[11],L[12]=bt[12],L[13]=bt[13],L[14]=bt[14],L[15]=bt[15],L}function W(L,bt,ie,Ee,te,pe,ve,de,Pe,ze,Je,Ve,cn,Be,Mn,On){var pn=new h.a(16);return pn[0]=L,pn[1]=bt,pn[2]=ie,pn[3]=Ee,pn[4]=te,pn[5]=pe,pn[6]=ve,pn[7]=de,pn[8]=Pe,pn[9]=ze,pn[10]=Je,pn[11]=Ve,pn[12]=cn,pn[13]=Be,pn[14]=Mn,pn[15]=On,pn}function P(L,bt,ie,Ee,te,pe,ve,de,Pe,ze,Je,Ve,cn,Be,Mn,On,pn){return L[0]=bt,L[1]=ie,L[2]=Ee,L[3]=te,L[4]=pe,L[5]=ve,L[6]=de,L[7]=Pe,L[8]=ze,L[9]=Je,L[10]=Ve,L[11]=cn,L[12]=Be,L[13]=Mn,L[14]=On,L[15]=pn,L}function m(L){return L[0]=1,L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[5]=1,L[6]=0,L[7]=0,L[8]=0,L[9]=0,L[10]=1,L[11]=0,L[12]=0,L[13]=0,L[14]=0,L[15]=1,L}function y(L,bt){if(L===bt){var ie=bt[1],Ee=bt[2],te=bt[3],pe=bt[6],ve=bt[7],de=bt[11];L[1]=bt[4],L[2]=bt[8],L[3]=bt[12],L[4]=ie,L[6]=bt[9],L[7]=bt[13],L[8]=Ee,L[9]=pe,L[11]=bt[14],L[12]=te,L[13]=ve,L[14]=de}else L[0]=bt[0],L[1]=bt[4],L[2]=bt[8],L[3]=bt[12],L[4]=bt[1],L[5]=bt[5],L[6]=bt[9],L[7]=bt[13],L[8]=bt[2],L[9]=bt[6],L[10]=bt[10],L[11]=bt[14],L[12]=bt[3],L[13]=bt[7],L[14]=bt[11],L[15]=bt[15];return L}function V(L,bt){var ie=bt[0],Ee=bt[1],te=bt[2],pe=bt[3],ve=bt[4],de=bt[5],Pe=bt[6],ze=bt[7],Je=bt[8],Ve=bt[9],cn=bt[10],Be=bt[11],Mn=bt[12],On=bt[13],pn=bt[14],Sn=bt[15],Rn=ie*de-Ee*ve,lr=ie*Pe-te*ve,Fn=ie*ze-pe*ve,tr=Ee*Pe-te*de,me=Ee*ze-pe*de,Se=te*ze-pe*Pe,ke=Je*On-Ve*Mn,we=Je*pn-cn*Mn,Ye=Je*Sn-Be*Mn,un=Ve*pn-cn*On,zn=Ve*Sn-Be*On,Nn=cn*Sn-Be*pn,or=Rn*Nn-lr*zn+Fn*un+tr*Ye-me*we+Se*ke;return or?(or=1/or,L[0]=(de*Nn-Pe*zn+ze*un)*or,L[1]=(te*zn-Ee*Nn-pe*un)*or,L[2]=(On*Se-pn*me+Sn*tr)*or,L[3]=(cn*me-Ve*Se-Be*tr)*or,L[4]=(Pe*Ye-ve*Nn-ze*we)*or,L[5]=(ie*Nn-te*Ye+pe*we)*or,L[6]=(pn*Fn-Mn*Se-Sn*lr)*or,L[7]=(Je*Se-cn*Fn+Be*lr)*or,L[8]=(ve*zn-de*Ye+ze*ke)*or,L[9]=(Ee*Ye-ie*zn-pe*ke)*or,L[10]=(Mn*me-On*Fn+Sn*Rn)*or,L[11]=(Ve*Fn-Je*me-Be*Rn)*or,L[12]=(de*we-ve*un-Pe*ke)*or,L[13]=(ie*un-Ee*we+te*ke)*or,L[14]=(On*lr-Mn*tr-pn*Rn)*or,L[15]=(Je*tr-Ve*lr+cn*Rn)*or,L):null}function J(L,bt){var ie=bt[0],Ee=bt[1],te=bt[2],pe=bt[3],ve=bt[4],de=bt[5],Pe=bt[6],ze=bt[7],Je=bt[8],Ve=bt[9],cn=bt[10],Be=bt[11],Mn=bt[12],On=bt[13],pn=bt[14],Sn=bt[15];return L[0]=de*(cn*Sn-Be*pn)-Ve*(Pe*Sn-ze*pn)+On*(Pe*Be-ze*cn),L[1]=-(Ee*(cn*Sn-Be*pn)-Ve*(te*Sn-pe*pn)+On*(te*Be-pe*cn)),L[2]=Ee*(Pe*Sn-ze*pn)-de*(te*Sn-pe*pn)+On*(te*ze-pe*Pe),L[3]=-(Ee*(Pe*Be-ze*cn)-de*(te*Be-pe*cn)+Ve*(te*ze-pe*Pe)),L[4]=-(ve*(cn*Sn-Be*pn)-Je*(Pe*Sn-ze*pn)+Mn*(Pe*Be-ze*cn)),L[5]=ie*(cn*Sn-Be*pn)-Je*(te*Sn-pe*pn)+Mn*(te*Be-pe*cn),L[6]=-(ie*(Pe*Sn-ze*pn)-ve*(te*Sn-pe*pn)+Mn*(te*ze-pe*Pe)),L[7]=ie*(Pe*Be-ze*cn)-ve*(te*Be-pe*cn)+Je*(te*ze-pe*Pe),L[8]=ve*(Ve*Sn-Be*On)-Je*(de*Sn-ze*On)+Mn*(de*Be-ze*Ve),L[9]=-(ie*(Ve*Sn-Be*On)-Je*(Ee*Sn-pe*On)+Mn*(Ee*Be-pe*Ve)),L[10]=ie*(de*Sn-ze*On)-ve*(Ee*Sn-pe*On)+Mn*(Ee*ze-pe*de),L[11]=-(ie*(de*Be-ze*Ve)-ve*(Ee*Be-pe*Ve)+Je*(Ee*ze-pe*de)),L[12]=-(ve*(Ve*pn-cn*On)-Je*(de*pn-Pe*On)+Mn*(de*cn-Pe*Ve)),L[13]=ie*(Ve*pn-cn*On)-Je*(Ee*pn-te*On)+Mn*(Ee*cn-te*Ve),L[14]=-(ie*(de*pn-Pe*On)-ve*(Ee*pn-te*On)+Mn*(Ee*Pe-te*de)),L[15]=ie*(de*cn-Pe*Ve)-ve*(Ee*cn-te*Ve)+Je*(Ee*Pe-te*de),L}function ht(L){var bt=L[0],ie=L[1],Ee=L[2],te=L[3],pe=L[4],ve=L[5],de=L[6],Pe=L[7],ze=L[8],Je=L[9],Ve=L[10],cn=L[11],Be=L[12],Mn=L[13],On=L[14],pn=L[15];return(bt*ve-ie*pe)*(Ve*pn-cn*On)-(bt*de-Ee*pe)*(Je*pn-cn*Mn)+(bt*Pe-te*pe)*(Je*On-Ve*Mn)+(ie*de-Ee*ve)*(ze*pn-cn*Be)-(ie*Pe-te*ve)*(ze*On-Ve*Be)+(Ee*Pe-te*de)*(ze*Mn-Je*Be)}function gt(L,bt,ie){var Ee=bt[0],te=bt[1],pe=bt[2],ve=bt[3],de=bt[4],Pe=bt[5],ze=bt[6],Je=bt[7],Ve=bt[8],cn=bt[9],Be=bt[10],Mn=bt[11],On=bt[12],pn=bt[13],Sn=bt[14],Rn=bt[15],lr=ie[0],Fn=ie[1],tr=ie[2],me=ie[3];return L[0]=lr*Ee+Fn*de+tr*Ve+me*On,L[1]=lr*te+Fn*Pe+tr*cn+me*pn,L[2]=lr*pe+Fn*ze+tr*Be+me*Sn,L[3]=lr*ve+Fn*Je+tr*Mn+me*Rn,lr=ie[4],Fn=ie[5],tr=ie[6],me=ie[7],L[4]=lr*Ee+Fn*de+tr*Ve+me*On,L[5]=lr*te+Fn*Pe+tr*cn+me*pn,L[6]=lr*pe+Fn*ze+tr*Be+me*Sn,L[7]=lr*ve+Fn*Je+tr*Mn+me*Rn,lr=ie[8],Fn=ie[9],tr=ie[10],me=ie[11],L[8]=lr*Ee+Fn*de+tr*Ve+me*On,L[9]=lr*te+Fn*Pe+tr*cn+me*pn,L[10]=lr*pe+Fn*ze+tr*Be+me*Sn,L[11]=lr*ve+Fn*Je+tr*Mn+me*Rn,lr=ie[12],Fn=ie[13],tr=ie[14],me=ie[15],L[12]=lr*Ee+Fn*de+tr*Ve+me*On,L[13]=lr*te+Fn*Pe+tr*cn+me*pn,L[14]=lr*pe+Fn*ze+tr*Be+me*Sn,L[15]=lr*ve+Fn*Je+tr*Mn+me*Rn,L}function Mt(L,bt,ie){var Ee,te,pe,ve,de,Pe,ze,Je,Ve,cn,Be,Mn,On=ie[0],pn=ie[1],Sn=ie[2];return bt===L?(L[12]=bt[0]*On+bt[4]*pn+bt[8]*Sn+bt[12],L[13]=bt[1]*On+bt[5]*pn+bt[9]*Sn+bt[13],L[14]=bt[2]*On+bt[6]*pn+bt[10]*Sn+bt[14],L[15]=bt[3]*On+bt[7]*pn+bt[11]*Sn+bt[15]):(Ee=bt[0],te=bt[1],pe=bt[2],ve=bt[3],de=bt[4],Pe=bt[5],ze=bt[6],Je=bt[7],Ve=bt[8],cn=bt[9],Be=bt[10],Mn=bt[11],L[0]=Ee,L[1]=te,L[2]=pe,L[3]=ve,L[4]=de,L[5]=Pe,L[6]=ze,L[7]=Je,L[8]=Ve,L[9]=cn,L[10]=Be,L[11]=Mn,L[12]=Ee*On+de*pn+Ve*Sn+bt[12],L[13]=te*On+Pe*pn+cn*Sn+bt[13],L[14]=pe*On+ze*pn+Be*Sn+bt[14],L[15]=ve*On+Je*pn+Mn*Sn+bt[15]),L}function Lt(L,bt,ie){var Ee=ie[0],te=ie[1],pe=ie[2];return L[0]=bt[0]*Ee,L[1]=bt[1]*Ee,L[2]=bt[2]*Ee,L[3]=bt[3]*Ee,L[4]=bt[4]*te,L[5]=bt[5]*te,L[6]=bt[6]*te,L[7]=bt[7]*te,L[8]=bt[8]*pe,L[9]=bt[9]*pe,L[10]=bt[10]*pe,L[11]=bt[11]*pe,L[12]=bt[12],L[13]=bt[13],L[14]=bt[14],L[15]=bt[15],L}function At(L,bt,ie,Ee){var te,pe,ve,de,Pe,ze,Je,Ve,cn,Be,Mn,On,pn,Sn,Rn,lr,Fn,tr,me,Se,ke,we,Ye,un,zn=Ee[0],Nn=Ee[1],or=Ee[2],Rr=Math.hypot(zn,Nn,or);return Rr<h.b?null:(zn*=Rr=1/Rr,Nn*=Rr,or*=Rr,te=Math.sin(ie),ve=1-(pe=Math.cos(ie)),de=bt[0],Pe=bt[1],ze=bt[2],Je=bt[3],Ve=bt[4],cn=bt[5],Be=bt[6],Mn=bt[7],On=bt[8],pn=bt[9],Sn=bt[10],Rn=bt[11],lr=zn*zn*ve+pe,Fn=Nn*zn*ve+or*te,tr=or*zn*ve-Nn*te,me=zn*Nn*ve-or*te,Se=Nn*Nn*ve+pe,ke=or*Nn*ve+zn*te,we=zn*or*ve+Nn*te,Ye=Nn*or*ve-zn*te,un=or*or*ve+pe,L[0]=de*lr+Ve*Fn+On*tr,L[1]=Pe*lr+cn*Fn+pn*tr,L[2]=ze*lr+Be*Fn+Sn*tr,L[3]=Je*lr+Mn*Fn+Rn*tr,L[4]=de*me+Ve*Se+On*ke,L[5]=Pe*me+cn*Se+pn*ke,L[6]=ze*me+Be*Se+Sn*ke,L[7]=Je*me+Mn*Se+Rn*ke,L[8]=de*we+Ve*Ye+On*un,L[9]=Pe*we+cn*Ye+pn*un,L[10]=ze*we+Be*Ye+Sn*un,L[11]=Je*we+Mn*Ye+Rn*un,bt!==L&&(L[12]=bt[12],L[13]=bt[13],L[14]=bt[14],L[15]=bt[15]),L)}function Ct(L,bt,ie){var Ee=Math.sin(ie),te=Math.cos(ie),pe=bt[4],ve=bt[5],de=bt[6],Pe=bt[7],ze=bt[8],Je=bt[9],Ve=bt[10],cn=bt[11];return bt!==L&&(L[0]=bt[0],L[1]=bt[1],L[2]=bt[2],L[3]=bt[3],L[12]=bt[12],L[13]=bt[13],L[14]=bt[14],L[15]=bt[15]),L[4]=pe*te+ze*Ee,L[5]=ve*te+Je*Ee,L[6]=de*te+Ve*Ee,L[7]=Pe*te+cn*Ee,L[8]=ze*te-pe*Ee,L[9]=Je*te-ve*Ee,L[10]=Ve*te-de*Ee,L[11]=cn*te-Pe*Ee,L}function Ot(L,bt,ie){var Ee=Math.sin(ie),te=Math.cos(ie),pe=bt[0],ve=bt[1],de=bt[2],Pe=bt[3],ze=bt[8],Je=bt[9],Ve=bt[10],cn=bt[11];return bt!==L&&(L[4]=bt[4],L[5]=bt[5],L[6]=bt[6],L[7]=bt[7],L[12]=bt[12],L[13]=bt[13],L[14]=bt[14],L[15]=bt[15]),L[0]=pe*te-ze*Ee,L[1]=ve*te-Je*Ee,L[2]=de*te-Ve*Ee,L[3]=Pe*te-cn*Ee,L[8]=pe*Ee+ze*te,L[9]=ve*Ee+Je*te,L[10]=de*Ee+Ve*te,L[11]=Pe*Ee+cn*te,L}function Dt(L,bt,ie){var Ee=Math.sin(ie),te=Math.cos(ie),pe=bt[0],ve=bt[1],de=bt[2],Pe=bt[3],ze=bt[4],Je=bt[5],Ve=bt[6],cn=bt[7];return bt!==L&&(L[8]=bt[8],L[9]=bt[9],L[10]=bt[10],L[11]=bt[11],L[12]=bt[12],L[13]=bt[13],L[14]=bt[14],L[15]=bt[15]),L[0]=pe*te+ze*Ee,L[1]=ve*te+Je*Ee,L[2]=de*te+Ve*Ee,L[3]=Pe*te+cn*Ee,L[4]=ze*te-pe*Ee,L[5]=Je*te-ve*Ee,L[6]=Ve*te-de*Ee,L[7]=cn*te-Pe*Ee,L}function Ft(L,bt){return L[0]=1,L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[5]=1,L[6]=0,L[7]=0,L[8]=0,L[9]=0,L[10]=1,L[11]=0,L[12]=bt[0],L[13]=bt[1],L[14]=bt[2],L[15]=1,L}function Xt(L,bt){return L[0]=bt[0],L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[5]=bt[1],L[6]=0,L[7]=0,L[8]=0,L[9]=0,L[10]=bt[2],L[11]=0,L[12]=0,L[13]=0,L[14]=0,L[15]=1,L}function Rt(L,bt,ie){var Ee,te,pe,ve=ie[0],de=ie[1],Pe=ie[2],ze=Math.hypot(ve,de,Pe);return ze<h.b?null:(ve*=ze=1/ze,de*=ze,Pe*=ze,Ee=Math.sin(bt),pe=1-(te=Math.cos(bt)),L[0]=ve*ve*pe+te,L[1]=de*ve*pe+Pe*Ee,L[2]=Pe*ve*pe-de*Ee,L[3]=0,L[4]=ve*de*pe-Pe*Ee,L[5]=de*de*pe+te,L[6]=Pe*de*pe+ve*Ee,L[7]=0,L[8]=ve*Pe*pe+de*Ee,L[9]=de*Pe*pe-ve*Ee,L[10]=Pe*Pe*pe+te,L[11]=0,L[12]=0,L[13]=0,L[14]=0,L[15]=1,L)}function Kt(L,bt){var ie=Math.sin(bt),Ee=Math.cos(bt);return L[0]=1,L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[5]=Ee,L[6]=ie,L[7]=0,L[8]=0,L[9]=-ie,L[10]=Ee,L[11]=0,L[12]=0,L[13]=0,L[14]=0,L[15]=1,L}function $t(L,bt){var ie=Math.sin(bt),Ee=Math.cos(bt);return L[0]=Ee,L[1]=0,L[2]=-ie,L[3]=0,L[4]=0,L[5]=1,L[6]=0,L[7]=0,L[8]=ie,L[9]=0,L[10]=Ee,L[11]=0,L[12]=0,L[13]=0,L[14]=0,L[15]=1,L}function le(L,bt){var ie=Math.sin(bt),Ee=Math.cos(bt);return L[0]=Ee,L[1]=ie,L[2]=0,L[3]=0,L[4]=-ie,L[5]=Ee,L[6]=0,L[7]=0,L[8]=0,L[9]=0,L[10]=1,L[11]=0,L[12]=0,L[13]=0,L[14]=0,L[15]=1,L}function Me(L,bt,ie){var Ee=bt[0],te=bt[1],pe=bt[2],ve=bt[3],de=Ee+Ee,Pe=te+te,ze=pe+pe,Je=Ee*de,Ve=Ee*Pe,cn=Ee*ze,Be=te*Pe,Mn=te*ze,On=pe*ze,pn=ve*de,Sn=ve*Pe,Rn=ve*ze;return L[0]=1-(Be+On),L[1]=Ve+Rn,L[2]=cn-Sn,L[3]=0,L[4]=Ve-Rn,L[5]=1-(Je+On),L[6]=Mn+pn,L[7]=0,L[8]=cn+Sn,L[9]=Mn-pn,L[10]=1-(Je+Be),L[11]=0,L[12]=ie[0],L[13]=ie[1],L[14]=ie[2],L[15]=1,L}function on(L,bt){var ie=new h.a(3),Ee=-bt[0],te=-bt[1],pe=-bt[2],ve=bt[3],de=bt[4],Pe=bt[5],ze=bt[6],Je=bt[7],Ve=Ee*Ee+te*te+pe*pe+ve*ve;return Ve>0?(ie[0]=2*(de*ve+Je*Ee+Pe*pe-ze*te)/Ve,ie[1]=2*(Pe*ve+Je*te+ze*Ee-de*pe)/Ve,ie[2]=2*(ze*ve+Je*pe+de*te-Pe*Ee)/Ve):(ie[0]=2*(de*ve+Je*Ee+Pe*pe-ze*te),ie[1]=2*(Pe*ve+Je*te+ze*Ee-de*pe),ie[2]=2*(ze*ve+Je*pe+de*te-Pe*Ee)),Me(L,bt,ie),L}function hn(L,bt){return L[0]=bt[12],L[1]=bt[13],L[2]=bt[14],L}function Cn(L,bt){var ie=bt[0],Ee=bt[1],te=bt[2],pe=bt[4],ve=bt[5],de=bt[6],Pe=bt[8],ze=bt[9],Je=bt[10];return L[0]=Math.hypot(ie,Ee,te),L[1]=Math.hypot(pe,ve,de),L[2]=Math.hypot(Pe,ze,Je),L}function He(L,bt){var ie=new h.a(3);Cn(ie,bt);var Ee=1/ie[0],te=1/ie[1],pe=1/ie[2],ve=bt[0]*Ee,de=bt[1]*te,Pe=bt[2]*pe,ze=bt[4]*Ee,Je=bt[5]*te,Ve=bt[6]*pe,cn=bt[8]*Ee,Be=bt[9]*te,Mn=bt[10]*pe,On=ve+Je+Mn,pn=0;return On>0?(pn=2*Math.sqrt(On+1),L[3]=.25*pn,L[0]=(Ve-Be)/pn,L[1]=(cn-Pe)/pn,L[2]=(de-ze)/pn):ve>Je&&ve>Mn?(pn=2*Math.sqrt(1+ve-Je-Mn),L[3]=(Ve-Be)/pn,L[0]=.25*pn,L[1]=(de+ze)/pn,L[2]=(cn+Pe)/pn):Je>Mn?(pn=2*Math.sqrt(1+Je-ve-Mn),L[3]=(cn-Pe)/pn,L[0]=(de+ze)/pn,L[1]=.25*pn,L[2]=(Ve+Be)/pn):(pn=2*Math.sqrt(1+Mn-ve-Je),L[3]=(de-ze)/pn,L[0]=(cn+Pe)/pn,L[1]=(Ve+Be)/pn,L[2]=.25*pn),L}function mn(L,bt,ie,Ee){var te=bt[0],pe=bt[1],ve=bt[2],de=bt[3],Pe=te+te,ze=pe+pe,Je=ve+ve,Ve=te*Pe,cn=te*ze,Be=te*Je,Mn=pe*ze,On=pe*Je,pn=ve*Je,Sn=de*Pe,Rn=de*ze,lr=de*Je,Fn=Ee[0],tr=Ee[1],me=Ee[2];return L[0]=(1-(Mn+pn))*Fn,L[1]=(cn+lr)*Fn,L[2]=(Be-Rn)*Fn,L[3]=0,L[4]=(cn-lr)*tr,L[5]=(1-(Ve+pn))*tr,L[6]=(On+Sn)*tr,L[7]=0,L[8]=(Be+Rn)*me,L[9]=(On-Sn)*me,L[10]=(1-(Ve+Mn))*me,L[11]=0,L[12]=ie[0],L[13]=ie[1],L[14]=ie[2],L[15]=1,L}function dn(L,bt,ie,Ee,te){var pe=bt[0],ve=bt[1],de=bt[2],Pe=bt[3],ze=pe+pe,Je=ve+ve,Ve=de+de,cn=pe*ze,Be=pe*Je,Mn=pe*Ve,On=ve*Je,pn=ve*Ve,Sn=de*Ve,Rn=Pe*ze,lr=Pe*Je,Fn=Pe*Ve,tr=Ee[0],me=Ee[1],Se=Ee[2],ke=te[0],we=te[1],Ye=te[2],un=(1-(On+Sn))*tr,zn=(Be+Fn)*tr,Nn=(Mn-lr)*tr,or=(Be-Fn)*me,Rr=(1-(cn+Sn))*me,xi=(pn+Rn)*me,pi=(Mn+lr)*Se,Kr=(pn-Rn)*Se,Ii=(1-(cn+On))*Se;return L[0]=un,L[1]=zn,L[2]=Nn,L[3]=0,L[4]=or,L[5]=Rr,L[6]=xi,L[7]=0,L[8]=pi,L[9]=Kr,L[10]=Ii,L[11]=0,L[12]=ie[0]+ke-(un*ke+or*we+pi*Ye),L[13]=ie[1]+we-(zn*ke+Rr*we+Kr*Ye),L[14]=ie[2]+Ye-(Nn*ke+xi*we+Ii*Ye),L[15]=1,L}function Un(L,bt){var ie=bt[0],Ee=bt[1],te=bt[2],pe=bt[3],ve=ie+ie,de=Ee+Ee,Pe=te+te,ze=ie*ve,Je=Ee*ve,Ve=Ee*de,cn=te*ve,Be=te*de,Mn=te*Pe,On=pe*ve,pn=pe*de,Sn=pe*Pe;return L[0]=1-Ve-Mn,L[1]=Je+Sn,L[2]=cn-pn,L[3]=0,L[4]=Je-Sn,L[5]=1-ze-Mn,L[6]=Be+On,L[7]=0,L[8]=cn+pn,L[9]=Be-On,L[10]=1-ze-Ve,L[11]=0,L[12]=0,L[13]=0,L[14]=0,L[15]=1,L}function Xn(L,bt,ie,Ee,te,pe,ve){var de=1/(ie-bt),Pe=1/(te-Ee),ze=1/(pe-ve);return L[0]=2*pe*de,L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[5]=2*pe*Pe,L[6]=0,L[7]=0,L[8]=(ie+bt)*de,L[9]=(te+Ee)*Pe,L[10]=(ve+pe)*ze,L[11]=-1,L[12]=0,L[13]=0,L[14]=ve*pe*2*ze,L[15]=0,L}function Hn(L,bt,ie,Ee,te){var pe,ve=1/Math.tan(bt/2);return L[0]=ve/ie,L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[5]=ve,L[6]=0,L[7]=0,L[8]=0,L[9]=0,L[11]=-1,L[12]=0,L[13]=0,L[15]=0,te!=null&&te!==1/0?(pe=1/(Ee-te),L[10]=(te+Ee)*pe,L[14]=2*te*Ee*pe):(L[10]=-1,L[14]=-2*Ee),L}function _n(L,bt,ie,Ee){var te=Math.tan(bt.upDegrees*Math.PI/180),pe=Math.tan(bt.downDegrees*Math.PI/180),ve=Math.tan(bt.leftDegrees*Math.PI/180),de=Math.tan(bt.rightDegrees*Math.PI/180),Pe=2/(ve+de),ze=2/(te+pe);return L[0]=Pe,L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[5]=ze,L[6]=0,L[7]=0,L[8]=-(ve-de)*Pe*.5,L[9]=(te-pe)*ze*.5,L[10]=Ee/(ie-Ee),L[11]=-1,L[12]=0,L[13]=0,L[14]=Ee*ie/(ie-Ee),L[15]=0,L}function $n(L,bt,ie,Ee,te,pe,ve){var de=1/(bt-ie),Pe=1/(Ee-te),ze=1/(pe-ve);return L[0]=-2*de,L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[5]=-2*Pe,L[6]=0,L[7]=0,L[8]=0,L[9]=0,L[10]=2*ze,L[11]=0,L[12]=(bt+ie)*de,L[13]=(te+Ee)*Pe,L[14]=(ve+pe)*ze,L[15]=1,L}function ir(L,bt,ie,Ee){var te,pe,ve,de,Pe,ze,Je,Ve,cn,Be,Mn=bt[0],On=bt[1],pn=bt[2],Sn=Ee[0],Rn=Ee[1],lr=Ee[2],Fn=ie[0],tr=ie[1],me=ie[2];return Math.abs(Mn-Fn)<h.b&&Math.abs(On-tr)<h.b&&Math.abs(pn-me)<h.b?m(L):(Je=Mn-Fn,Ve=On-tr,cn=pn-me,te=Rn*(cn*=Be=1/Math.hypot(Je,Ve,cn))-lr*(Ve*=Be),pe=lr*(Je*=Be)-Sn*cn,ve=Sn*Ve-Rn*Je,(Be=Math.hypot(te,pe,ve))?(te*=Be=1/Be,pe*=Be,ve*=Be):(te=0,pe=0,ve=0),de=Ve*ve-cn*pe,Pe=cn*te-Je*ve,ze=Je*pe-Ve*te,(Be=Math.hypot(de,Pe,ze))?(de*=Be=1/Be,Pe*=Be,ze*=Be):(de=0,Pe=0,ze=0),L[0]=te,L[1]=de,L[2]=Je,L[3]=0,L[4]=pe,L[5]=Pe,L[6]=Ve,L[7]=0,L[8]=ve,L[9]=ze,L[10]=cn,L[11]=0,L[12]=-(te*Mn+pe*On+ve*pn),L[13]=-(de*Mn+Pe*On+ze*pn),L[14]=-(Je*Mn+Ve*On+cn*pn),L[15]=1,L)}function dr(L,bt,ie,Ee){var te=bt[0],pe=bt[1],ve=bt[2],de=Ee[0],Pe=Ee[1],ze=Ee[2],Je=te-ie[0],Ve=pe-ie[1],cn=ve-ie[2],Be=Je*Je+Ve*Ve+cn*cn;Be>0&&(Je*=Be=1/Math.sqrt(Be),Ve*=Be,cn*=Be);var Mn=Pe*cn-ze*Ve,On=ze*Je-de*cn,pn=de*Ve-Pe*Je;return(Be=Mn*Mn+On*On+pn*pn)>0&&(Mn*=Be=1/Math.sqrt(Be),On*=Be,pn*=Be),L[0]=Mn,L[1]=On,L[2]=pn,L[3]=0,L[4]=Ve*pn-cn*On,L[5]=cn*Mn-Je*pn,L[6]=Je*On-Ve*Mn,L[7]=0,L[8]=Je,L[9]=Ve,L[10]=cn,L[11]=0,L[12]=te,L[13]=pe,L[14]=ve,L[15]=1,L}function xr(L){return"mat4("+L[0]+", "+L[1]+", "+L[2]+", "+L[3]+", "+L[4]+", "+L[5]+", "+L[6]+", "+L[7]+", "+L[8]+", "+L[9]+", "+L[10]+", "+L[11]+", "+L[12]+", "+L[13]+", "+L[14]+", "+L[15]+")"}function Qr(L){return Math.hypot(L[0],L[1],L[2],L[3],L[4],L[5],L[6],L[7],L[8],L[9],L[10],L[11],L[12],L[13],L[14],L[15])}function Mr(L,bt,ie){return L[0]=bt[0]+ie[0],L[1]=bt[1]+ie[1],L[2]=bt[2]+ie[2],L[3]=bt[3]+ie[3],L[4]=bt[4]+ie[4],L[5]=bt[5]+ie[5],L[6]=bt[6]+ie[6],L[7]=bt[7]+ie[7],L[8]=bt[8]+ie[8],L[9]=bt[9]+ie[9],L[10]=bt[10]+ie[10],L[11]=bt[11]+ie[11],L[12]=bt[12]+ie[12],L[13]=bt[13]+ie[13],L[14]=bt[14]+ie[14],L[15]=bt[15]+ie[15],L}function Er(L,bt,ie){return L[0]=bt[0]-ie[0],L[1]=bt[1]-ie[1],L[2]=bt[2]-ie[2],L[3]=bt[3]-ie[3],L[4]=bt[4]-ie[4],L[5]=bt[5]-ie[5],L[6]=bt[6]-ie[6],L[7]=bt[7]-ie[7],L[8]=bt[8]-ie[8],L[9]=bt[9]-ie[9],L[10]=bt[10]-ie[10],L[11]=bt[11]-ie[11],L[12]=bt[12]-ie[12],L[13]=bt[13]-ie[13],L[14]=bt[14]-ie[14],L[15]=bt[15]-ie[15],L}function Dr(L,bt,ie){return L[0]=bt[0]*ie,L[1]=bt[1]*ie,L[2]=bt[2]*ie,L[3]=bt[3]*ie,L[4]=bt[4]*ie,L[5]=bt[5]*ie,L[6]=bt[6]*ie,L[7]=bt[7]*ie,L[8]=bt[8]*ie,L[9]=bt[9]*ie,L[10]=bt[10]*ie,L[11]=bt[11]*ie,L[12]=bt[12]*ie,L[13]=bt[13]*ie,L[14]=bt[14]*ie,L[15]=bt[15]*ie,L}function hi(L,bt,ie,Ee){return L[0]=bt[0]+ie[0]*Ee,L[1]=bt[1]+ie[1]*Ee,L[2]=bt[2]+ie[2]*Ee,L[3]=bt[3]+ie[3]*Ee,L[4]=bt[4]+ie[4]*Ee,L[5]=bt[5]+ie[5]*Ee,L[6]=bt[6]+ie[6]*Ee,L[7]=bt[7]+ie[7]*Ee,L[8]=bt[8]+ie[8]*Ee,L[9]=bt[9]+ie[9]*Ee,L[10]=bt[10]+ie[10]*Ee,L[11]=bt[11]+ie[11]*Ee,L[12]=bt[12]+ie[12]*Ee,L[13]=bt[13]+ie[13]*Ee,L[14]=bt[14]+ie[14]*Ee,L[15]=bt[15]+ie[15]*Ee,L}function Wi(L,bt){return L[0]===bt[0]&&L[1]===bt[1]&&L[2]===bt[2]&&L[3]===bt[3]&&L[4]===bt[4]&&L[5]===bt[5]&&L[6]===bt[6]&&L[7]===bt[7]&&L[8]===bt[8]&&L[9]===bt[9]&&L[10]===bt[10]&&L[11]===bt[11]&&L[12]===bt[12]&&L[13]===bt[13]&&L[14]===bt[14]&&L[15]===bt[15]}function oa(L,bt){var ie=L[0],Ee=L[1],te=L[2],pe=L[3],ve=L[4],de=L[5],Pe=L[6],ze=L[7],Je=L[8],Ve=L[9],cn=L[10],Be=L[11],Mn=L[12],On=L[13],pn=L[14],Sn=L[15],Rn=bt[0],lr=bt[1],Fn=bt[2],tr=bt[3],me=bt[4],Se=bt[5],ke=bt[6],we=bt[7],Ye=bt[8],un=bt[9],zn=bt[10],Nn=bt[11],or=bt[12],Rr=bt[13],xi=bt[14],pi=bt[15];return Math.abs(ie-Rn)<=h.b*Math.max(1,Math.abs(ie),Math.abs(Rn))&&Math.abs(Ee-lr)<=h.b*Math.max(1,Math.abs(Ee),Math.abs(lr))&&Math.abs(te-Fn)<=h.b*Math.max(1,Math.abs(te),Math.abs(Fn))&&Math.abs(pe-tr)<=h.b*Math.max(1,Math.abs(pe),Math.abs(tr))&&Math.abs(ve-me)<=h.b*Math.max(1,Math.abs(ve),Math.abs(me))&&Math.abs(de-Se)<=h.b*Math.max(1,Math.abs(de),Math.abs(Se))&&Math.abs(Pe-ke)<=h.b*Math.max(1,Math.abs(Pe),Math.abs(ke))&&Math.abs(ze-we)<=h.b*Math.max(1,Math.abs(ze),Math.abs(we))&&Math.abs(Je-Ye)<=h.b*Math.max(1,Math.abs(Je),Math.abs(Ye))&&Math.abs(Ve-un)<=h.b*Math.max(1,Math.abs(Ve),Math.abs(un))&&Math.abs(cn-zn)<=h.b*Math.max(1,Math.abs(cn),Math.abs(zn))&&Math.abs(Be-Nn)<=h.b*Math.max(1,Math.abs(Be),Math.abs(Nn))&&Math.abs(Mn-or)<=h.b*Math.max(1,Math.abs(Mn),Math.abs(or))&&Math.abs(On-Rr)<=h.b*Math.max(1,Math.abs(On),Math.abs(Rr))&&Math.abs(pn-xi)<=h.b*Math.max(1,Math.abs(pn),Math.abs(xi))&&Math.abs(Sn-pi)<=h.b*Math.max(1,Math.abs(Sn),Math.abs(pi))}var Za=gt,ao=Er,Ji=t(40);function Ya(){var L=new h.a(4);return h.a!=Float32Array&&(L[0]=0,L[1]=0,L[2]=0,L[3]=0),L}function Ca(L){var bt=new h.a(4);return bt[0]=L[0],bt[1]=L[1],bt[2]=L[2],bt[3]=L[3],bt}function La(L,bt,ie,Ee){var te=new h.a(4);return te[0]=L,te[1]=bt,te[2]=ie,te[3]=Ee,te}function Ba(L,bt){return L[0]=bt[0],L[1]=bt[1],L[2]=bt[2],L[3]=bt[3],L}function oo(L,bt,ie,Ee,te){return L[0]=bt,L[1]=ie,L[2]=Ee,L[3]=te,L}function Yr(L,bt,ie){return L[0]=bt[0]+ie[0],L[1]=bt[1]+ie[1],L[2]=bt[2]+ie[2],L[3]=bt[3]+ie[3],L}function $a(L,bt,ie){return L[0]=bt[0]-ie[0],L[1]=bt[1]-ie[1],L[2]=bt[2]-ie[2],L[3]=bt[3]-ie[3],L}function Ma(L,bt,ie){return L[0]=bt[0]*ie[0],L[1]=bt[1]*ie[1],L[2]=bt[2]*ie[2],L[3]=bt[3]*ie[3],L}function to(L,bt,ie){return L[0]=bt[0]/ie[0],L[1]=bt[1]/ie[1],L[2]=bt[2]/ie[2],L[3]=bt[3]/ie[3],L}function Aa(L,bt){return L[0]=Math.ceil(bt[0]),L[1]=Math.ceil(bt[1]),L[2]=Math.ceil(bt[2]),L[3]=Math.ceil(bt[3]),L}function Vr(L,bt){return L[0]=Math.floor(bt[0]),L[1]=Math.floor(bt[1]),L[2]=Math.floor(bt[2]),L[3]=Math.floor(bt[3]),L}function Pi(L,bt,ie){return L[0]=Math.min(bt[0],ie[0]),L[1]=Math.min(bt[1],ie[1]),L[2]=Math.min(bt[2],ie[2]),L[3]=Math.min(bt[3],ie[3]),L}function wi(L,bt,ie){return L[0]=Math.max(bt[0],ie[0]),L[1]=Math.max(bt[1],ie[1]),L[2]=Math.max(bt[2],ie[2]),L[3]=Math.max(bt[3],ie[3]),L}function Ei(L,bt){return L[0]=Math.round(bt[0]),L[1]=Math.round(bt[1]),L[2]=Math.round(bt[2]),L[3]=Math.round(bt[3]),L}function bi(L,bt,ie){return L[0]=bt[0]*ie,L[1]=bt[1]*ie,L[2]=bt[2]*ie,L[3]=bt[3]*ie,L}function Di(L,bt,ie,Ee){return L[0]=bt[0]+ie[0]*Ee,L[1]=bt[1]+ie[1]*Ee,L[2]=bt[2]+ie[2]*Ee,L[3]=bt[3]+ie[3]*Ee,L}function Fi(L,bt){var ie=bt[0]-L[0],Ee=bt[1]-L[1],te=bt[2]-L[2],pe=bt[3]-L[3];return Math.hypot(ie,Ee,te,pe)}function Ni(L,bt){var ie=bt[0]-L[0],Ee=bt[1]-L[1],te=bt[2]-L[2],pe=bt[3]-L[3];return ie*ie+Ee*Ee+te*te+pe*pe}function ji(L){var bt=L[0],ie=L[1],Ee=L[2],te=L[3];return Math.hypot(bt,ie,Ee,te)}function Xi(L){var bt=L[0],ie=L[1],Ee=L[2],te=L[3];return bt*bt+ie*ie+Ee*Ee+te*te}function Ki(L,bt){return L[0]=-bt[0],L[1]=-bt[1],L[2]=-bt[2],L[3]=-bt[3],L}function la(L,bt){return L[0]=1/bt[0],L[1]=1/bt[1],L[2]=1/bt[2],L[3]=1/bt[3],L}function ta(L,bt){var ie=bt[0],Ee=bt[1],te=bt[2],pe=bt[3],ve=ie*ie+Ee*Ee+te*te+pe*pe;return ve>0&&(ve=1/Math.sqrt(ve)),L[0]=ie*ve,L[1]=Ee*ve,L[2]=te*ve,L[3]=pe*ve,L}function ma(L,bt){return L[0]*bt[0]+L[1]*bt[1]+L[2]*bt[2]+L[3]*bt[3]}function Oa(L,bt,ie,Ee){var te=ie[0]*Ee[1]-ie[1]*Ee[0],pe=ie[0]*Ee[2]-ie[2]*Ee[0],ve=ie[0]*Ee[3]-ie[3]*Ee[0],de=ie[1]*Ee[2]-ie[2]*Ee[1],Pe=ie[1]*Ee[3]-ie[3]*Ee[1],ze=ie[2]*Ee[3]-ie[3]*Ee[2],Je=bt[0],Ve=bt[1],cn=bt[2],Be=bt[3];return L[0]=Ve*ze-cn*Pe+Be*de,L[1]=-Je*ze+cn*ve-Be*pe,L[2]=Je*Pe-Ve*ve+Be*te,L[3]=-Je*de+Ve*pe-cn*te,L}function uo(L,bt,ie,Ee){var te=bt[0],pe=bt[1],ve=bt[2],de=bt[3];return L[0]=te+Ee*(ie[0]-te),L[1]=pe+Ee*(ie[1]-pe),L[2]=ve+Ee*(ie[2]-ve),L[3]=de+Ee*(ie[3]-de),L}function sa(L,bt){var ie,Ee,te,pe,ve,de;bt=bt||1;do ve=(ie=2*h.c()-1)*ie+(Ee=2*h.c()-1)*Ee;while(ve>=1);do de=(te=2*h.c()-1)*te+(pe=2*h.c()-1)*pe;while(de>=1);var Pe=Math.sqrt((1-ve)/de);return L[0]=bt*ie,L[1]=bt*Ee,L[2]=bt*te*Pe,L[3]=bt*pe*Pe,L}function Xa(L,bt,ie){var Ee=bt[0],te=bt[1],pe=bt[2],ve=bt[3];return L[0]=ie[0]*Ee+ie[4]*te+ie[8]*pe+ie[12]*ve,L[1]=ie[1]*Ee+ie[5]*te+ie[9]*pe+ie[13]*ve,L[2]=ie[2]*Ee+ie[6]*te+ie[10]*pe+ie[14]*ve,L[3]=ie[3]*Ee+ie[7]*te+ie[11]*pe+ie[15]*ve,L}function po(L,bt,ie){var Ee=bt[0],te=bt[1],pe=bt[2],ve=ie[0],de=ie[1],Pe=ie[2],ze=ie[3],Je=ze*Ee+de*pe-Pe*te,Ve=ze*te+Pe*Ee-ve*pe,cn=ze*pe+ve*te-de*Ee,Be=-ve*Ee-de*te-Pe*pe;return L[0]=Je*ze+Be*-ve+Ve*-Pe-cn*-de,L[1]=Ve*ze+Be*-de+cn*-ve-Je*-Pe,L[2]=cn*ze+Be*-Pe+Je*-de-Ve*-ve,L[3]=bt[3],L}function bo(L){return L[0]=0,L[1]=0,L[2]=0,L[3]=0,L}function Mo(L){return"vec4("+L[0]+", "+L[1]+", "+L[2]+", "+L[3]+")"}function Po(L,bt){return L[0]===bt[0]&&L[1]===bt[1]&&L[2]===bt[2]&&L[3]===bt[3]}function ue(L,bt){var ie=L[0],Ee=L[1],te=L[2],pe=L[3],ve=bt[0],de=bt[1],Pe=bt[2],ze=bt[3];return Math.abs(ie-ve)<=h.b*Math.max(1,Math.abs(ie),Math.abs(ve))&&Math.abs(Ee-de)<=h.b*Math.max(1,Math.abs(Ee),Math.abs(de))&&Math.abs(te-Pe)<=h.b*Math.max(1,Math.abs(te),Math.abs(Pe))&&Math.abs(pe-ze)<=h.b*Math.max(1,Math.abs(pe),Math.abs(ze))}var Qt,ne=$a,Ce=Ma,en=to,kn=Fi,sr=Ni,pr=ji,ln=Xi,vn=(Qt=Ya(),function(L,bt,ie,Ee,te,pe){var ve,de;for(bt||(bt=4),ie||(ie=0),de=Ee?Math.min(Ee*bt+ie,L.length):L.length,ve=ie;ve<de;ve+=bt)Qt[0]=L[ve],Qt[1]=L[ve+1],Qt[2]=L[ve+2],Qt[3]=L[ve+3],te(Qt,Qt,pe),L[ve]=Qt[0],L[ve+1]=Qt[1],L[ve+2]=Qt[2],L[ve+3]=Qt[3];return L});function xn(){var L=new h.a(4);return h.a!=Float32Array&&(L[0]=0,L[1]=0,L[2]=0),L[3]=1,L}function Or(L){return L[0]=0,L[1]=0,L[2]=0,L[3]=1,L}function Br(L,bt,ie){ie*=.5;var Ee=Math.sin(ie);return L[0]=Ee*bt[0],L[1]=Ee*bt[1],L[2]=Ee*bt[2],L[3]=Math.cos(ie),L}function Pr(L,bt){var ie=2*Math.acos(bt[3]),Ee=Math.sin(ie/2);return Ee>h.b?(L[0]=bt[0]/Ee,L[1]=bt[1]/Ee,L[2]=bt[2]/Ee):(L[0]=1,L[1]=0,L[2]=0),ie}function kr(L,bt){var ie=sn(L,bt);return Math.acos(2*ie*ie-1)}function mi(L,bt,ie){var Ee=bt[0],te=bt[1],pe=bt[2],ve=bt[3],de=ie[0],Pe=ie[1],ze=ie[2],Je=ie[3];return L[0]=Ee*Je+ve*de+te*ze-pe*Pe,L[1]=te*Je+ve*Pe+pe*de-Ee*ze,L[2]=pe*Je+ve*ze+Ee*Pe-te*de,L[3]=ve*Je-Ee*de-te*Pe-pe*ze,L}function $r(L,bt,ie){ie*=.5;var Ee=bt[0],te=bt[1],pe=bt[2],ve=bt[3],de=Math.sin(ie),Pe=Math.cos(ie);return L[0]=Ee*Pe+ve*de,L[1]=te*Pe+pe*de,L[2]=pe*Pe-te*de,L[3]=ve*Pe-Ee*de,L}function Xr(L,bt,ie){ie*=.5;var Ee=bt[0],te=bt[1],pe=bt[2],ve=bt[3],de=Math.sin(ie),Pe=Math.cos(ie);return L[0]=Ee*Pe-pe*de,L[1]=te*Pe+ve*de,L[2]=pe*Pe+Ee*de,L[3]=ve*Pe-te*de,L}function Nr(L,bt,ie){ie*=.5;var Ee=bt[0],te=bt[1],pe=bt[2],ve=bt[3],de=Math.sin(ie),Pe=Math.cos(ie);return L[0]=Ee*Pe+te*de,L[1]=te*Pe-Ee*de,L[2]=pe*Pe+ve*de,L[3]=ve*Pe-pe*de,L}function Hr(L,bt){var ie=bt[0],Ee=bt[1],te=bt[2];return L[0]=ie,L[1]=Ee,L[2]=te,L[3]=Math.sqrt(Math.abs(1-ie*ie-Ee*Ee-te*te)),L}function oi(L,bt){var ie=bt[0],Ee=bt[1],te=bt[2],pe=bt[3],ve=Math.sqrt(ie*ie+Ee*Ee+te*te),de=Math.exp(pe),Pe=ve>0?de*Math.sin(ve)/ve:0;return L[0]=ie*Pe,L[1]=Ee*Pe,L[2]=te*Pe,L[3]=de*Math.cos(ve),L}function yi(L,bt){var ie=bt[0],Ee=bt[1],te=bt[2],pe=bt[3],ve=Math.sqrt(ie*ie+Ee*Ee+te*te),de=ve>0?Math.atan2(ve,pe)/ve:0;return L[0]=ie*de,L[1]=Ee*de,L[2]=te*de,L[3]=.5*Math.log(ie*ie+Ee*Ee+te*te+pe*pe),L}function si(L,bt,ie){return yi(L,bt),We(L,L,ie),oi(L,L),L}function ti(L,bt,ie,Ee){var te,pe,ve,de,Pe,ze=bt[0],Je=bt[1],Ve=bt[2],cn=bt[3],Be=ie[0],Mn=ie[1],On=ie[2],pn=ie[3];return(pe=ze*Be+Je*Mn+Ve*On+cn*pn)<0&&(pe=-pe,Be=-Be,Mn=-Mn,On=-On,pn=-pn),1-pe>h.b?(te=Math.acos(pe),ve=Math.sin(te),de=Math.sin((1-Ee)*te)/ve,Pe=Math.sin(Ee*te)/ve):(de=1-Ee,Pe=Ee),L[0]=de*ze+Pe*Be,L[1]=de*Je+Pe*Mn,L[2]=de*Ve+Pe*On,L[3]=de*cn+Pe*pn,L}function zi(L){var bt=h.c(),ie=h.c(),Ee=h.c(),te=Math.sqrt(1-bt),pe=Math.sqrt(bt);return L[0]=te*Math.sin(2*Math.PI*ie),L[1]=te*Math.cos(2*Math.PI*ie),L[2]=pe*Math.sin(2*Math.PI*Ee),L[3]=pe*Math.cos(2*Math.PI*Ee),L}function qi(L,bt){var ie=bt[0],Ee=bt[1],te=bt[2],pe=bt[3],ve=ie*ie+Ee*Ee+te*te+pe*pe,de=ve?1/ve:0;return L[0]=-ie*de,L[1]=-Ee*de,L[2]=-te*de,L[3]=pe*de,L}function Sa(L,bt){return L[0]=-bt[0],L[1]=-bt[1],L[2]=-bt[2],L[3]=bt[3],L}function ea(L,bt){var ie,Ee=bt[0]+bt[4]+bt[8];if(Ee>0)ie=Math.sqrt(Ee+1),L[3]=.5*ie,ie=.5/ie,L[0]=(bt[5]-bt[7])*ie,L[1]=(bt[6]-bt[2])*ie,L[2]=(bt[1]-bt[3])*ie;else{var te=0;bt[4]>bt[0]&&(te=1),bt[8]>bt[3*te+te]&&(te=2);var pe=(te+1)%3,ve=(te+2)%3;ie=Math.sqrt(bt[3*te+te]-bt[3*pe+pe]-bt[3*ve+ve]+1),L[te]=.5*ie,ie=.5/ie,L[3]=(bt[3*pe+ve]-bt[3*ve+pe])*ie,L[pe]=(bt[3*pe+te]+bt[3*te+pe])*ie,L[ve]=(bt[3*ve+te]+bt[3*te+ve])*ie}return L}function Fa(L,bt,ie,Ee){var te=.5*Math.PI/180;bt*=te,ie*=te,Ee*=te;var pe=Math.sin(bt),ve=Math.cos(bt),de=Math.sin(ie),Pe=Math.cos(ie),ze=Math.sin(Ee),Je=Math.cos(Ee);return L[0]=pe*Pe*Je-ve*de*ze,L[1]=ve*de*Je+pe*Pe*ze,L[2]=ve*Pe*ze-pe*de*Je,L[3]=ve*Pe*Je+pe*de*ze,L}function Ua(L){return"quat("+L[0]+", "+L[1]+", "+L[2]+", "+L[3]+")"}var Na,va,ge,F,_,$,dt=Ca,Gt=La,Jt=Ba,ce=oo,fe=Yr,De=mi,We=bi,sn=ma,Dn=uo,Yt=ji,Zt=Yt,Ae=Xi,Ht=Ae,he=ta,En=Po,Qn=ue,fr=(Na=Ji.create(),va=Ji.fromValues(1,0,0),ge=Ji.fromValues(0,1,0),function(L,bt,ie){var Ee=Ji.dot(bt,ie);return Ee<-.999999?(Ji.cross(Na,va,bt),Ji.len(Na)<1e-6&&Ji.cross(Na,ge,bt),Ji.normalize(Na,Na),Br(L,Na,Math.PI),L):Ee>.999999?(L[0]=0,L[1]=0,L[2]=0,L[3]=1,L):(Ji.cross(Na,bt,ie),L[0]=Na[0],L[1]=Na[1],L[2]=Na[2],L[3]=1+Ee,he(L,L))}),ar=(F=xn(),_=xn(),function(L,bt,ie,Ee,te,pe){return ti(F,bt,te,pe),ti(_,ie,Ee,pe),ti(L,F,_,2*pe*(1-pe)),L}),an=($=E(),function(L,bt,ie,Ee){return $[0]=ie[0],$[3]=ie[1],$[6]=ie[2],$[1]=Ee[0],$[4]=Ee[1],$[7]=Ee[2],$[2]=-bt[0],$[5]=-bt[1],$[8]=-bt[2],he(L,ea(L,$))}),Re=t(81)},function(a,M){a.exports=function(t,n,d){return n in t?Object.defineProperty(t,n,{value:d,enumerable:!0,configurable:!0,writable:!0}):t[n]=d,t}},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.METADATA_KEY=void 0;var n=t(32);M.METADATA_KEY=n;var d=t(446);Object.defineProperty(M,"Container",{enumerable:!0,get:function(){return d.Container}});var S=t(55);Object.defineProperty(M,"BindingScopeEnum",{enumerable:!0,get:function(){return S.BindingScopeEnum}}),Object.defineProperty(M,"BindingTypeEnum",{enumerable:!0,get:function(){return S.BindingTypeEnum}}),Object.defineProperty(M,"TargetTypeEnum",{enumerable:!0,get:function(){return S.TargetTypeEnum}});var b=t(462);Object.defineProperty(M,"AsyncContainerModule",{enumerable:!0,get:function(){return b.AsyncContainerModule}}),Object.defineProperty(M,"ContainerModule",{enumerable:!0,get:function(){return b.ContainerModule}});var h=t(463);Object.defineProperty(M,"injectable",{enumerable:!0,get:function(){return h.injectable}});var E=t(464);Object.defineProperty(M,"tagged",{enumerable:!0,get:function(){return E.tagged}});var T=t(465);Object.defineProperty(M,"named",{enumerable:!0,get:function(){return T.named}});var o=t(222);Object.defineProperty(M,"inject",{enumerable:!0,get:function(){return o.inject}}),Object.defineProperty(M,"LazyServiceIdentifer",{enumerable:!0,get:function(){return o.LazyServiceIdentifer}});var s=t(466);Object.defineProperty(M,"optional",{enumerable:!0,get:function(){return s.optional}});var u=t(467);Object.defineProperty(M,"unmanaged",{enumerable:!0,get:function(){return u.unmanaged}});var v=t(468);Object.defineProperty(M,"multiInject",{enumerable:!0,get:function(){return v.multiInject}});var C=t(469);Object.defineProperty(M,"targetName",{enumerable:!0,get:function(){return C.targetName}});var O=t(470);Object.defineProperty(M,"postConstruct",{enumerable:!0,get:function(){return O.postConstruct}});var j=t(220);Object.defineProperty(M,"MetadataReader",{enumerable:!0,get:function(){return j.MetadataReader}});var p=t(68);Object.defineProperty(M,"id",{enumerable:!0,get:function(){return p.id}});var x=t(59);Object.defineProperty(M,"decorate",{enumerable:!0,get:function(){return x.decorate}});var A=t(225);Object.defineProperty(M,"traverseAncerstors",{enumerable:!0,get:function(){return A.traverseAncerstors}}),Object.defineProperty(M,"taggedConstraint",{enumerable:!0,get:function(){return A.taggedConstraint}}),Object.defineProperty(M,"namedConstraint",{enumerable:!0,get:function(){return A.namedConstraint}}),Object.defineProperty(M,"typeConstraint",{enumerable:!0,get:function(){return A.typeConstraint}});var k=t(89);Object.defineProperty(M,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return k.getServiceIdentifierAsString}});var X=t(471);Object.defineProperty(M,"multiBindToService",{enumerable:!0,get:function(){return X.multiBindToService}})},function(a,M,t){"use strict";t.d(M,"i",function(){return Dt}),t.d(M,"h",function(){return Hr}),t.d(M,"d",function(){return oi}),t.d(M,"m",function(){return si}),t.d(M,"l",function(){return Vr}),t.d(M,"g",function(){return Aa}),t.d(M,"f",function(){return Pi}),t.d(M,"j",function(){return en}),t.d(M,"k",function(){return yi}),t.d(M,"r",function(){return ea}),t.d(M,"p",function(){return Ua}),t.d(M,"b",function(){return sr}),t.d(M,"n",function(){return zi}),t.d(M,"q",function(){return Fa}),t.d(M,"o",function(){return Na}),t.d(M,"c",function(){return qi}),t.d(M,"a",function(){return Sa}),t.d(M,"e",function(){return va});var n={};t.r(n),t.d(n,"compare",function(){return j}),t.d(n,"getLineIntersect",function(){return x}),t.d(n,"getRectIntersectByPoint",function(){return A}),t.d(n,"getCircleIntersectByPoint",function(){return k}),t.d(n,"getEllipseIntersectByPoint",function(){return X}),t.d(n,"applyMatrix",function(){return et}),t.d(n,"invertMatrix",function(){return tt}),t.d(n,"getCircleCenterByPoints",function(){return ft}),t.d(n,"distance",function(){return st}),t.d(n,"scaleMatrix",function(){return vt}),t.d(n,"floydWarshall",function(){return mt}),t.d(n,"getAdjMatrix",function(){return pt}),t.d(n,"translate",function(){return rt}),t.d(n,"move",function(){return Bt}),t.d(n,"scale",function(){return It}),t.d(n,"rotate",function(){return St}),t.d(n,"getDegree",function(){return H}),t.d(n,"isPointInPolygon",function(){return yt}),t.d(n,"intersectBBox",function(){return xt}),t.d(n,"isPolygonsIntersect",function(){return wt}),t.d(n,"Line",function(){return Q}),t.d(n,"getBBoxBoundLine",function(){return ct}),t.d(n,"itemIntersectByLine",function(){return U}),t.d(n,"fractionToLine",function(){return D}),t.d(n,"getPointsCenter",function(){return W}),t.d(n,"squareDist",function(){return P}),t.d(n,"pointLineSquareDist",function(){return m}),t.d(n,"isPointsOverlap",function(){return y}),t.d(n,"pointRectSquareDist",function(){return V});var d={};t.r(d),t.d(d,"uniqueId",function(){return Ft}),t.d(d,"formatPadding",function(){return Xt}),t.d(d,"cloneEvent",function(){return Rt}),t.d(d,"isViewportChanged",function(){return Kt}),t.d(d,"isNaN",function(){return $t}),t.d(d,"calculationItemsBBox",function(){return le}),t.d(d,"processParallelEdges",function(){return Me});var S={};t.r(S),t.d(S,"getBBox",function(){return Xn}),t.d(S,"getLoopCfgs",function(){return Hn}),t.d(S,"getLabelPosition",function(){return _n}),t.d(S,"traverseTree",function(){return ir}),t.d(S,"traverseTreeUp",function(){return dr}),t.d(S,"getLetterWidth",function(){return xr}),t.d(S,"getTextSize",function(){return Qr}),t.d(S,"plainCombosToTrees",function(){return Mr}),t.d(S,"reconstructTree",function(){return Er}),t.d(S,"getComboBBox",function(){return Dr}),t.d(S,"shouldRefreshEdge",function(){return hi}),t.d(S,"cloneBesidesImg",function(){return Wi});var b={};t.r(b),t.d(b,"getSpline",function(){return Ni}),t.d(b,"getControlPoint",function(){return ji}),t.d(b,"pointsToPolygon",function(){return Xi}),t.d(b,"pathToPoints",function(){return Ki}),t.d(b,"getClosedSpline",function(){return la}),t.d(b,"roundedHull",function(){return uo}),t.d(b,"paddedHull",function(){return sa});var h=t(0),E={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(F){return Object.assign(this,F),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(F){var _=this,$=this.events;this.graph=F,this.type!=="drag-canvas"&&this.type!=="brush-select"&&this.type!=="lasso-select"||F.get("canvas").set("draggable",!0),Object(h.f)($,function(dt,Gt){F.on(Gt,dt)}),document.addEventListener("visibilitychange",function(){_.keydown=!1})},unbind:function(F){var _=this.events;this.type!=="drag-canvas"&&this.type!=="brush-select"&&this.type!=="lasso-select"||F.get("canvas").set("draggable",!1),Object(h.f)(_,function($,dt){F.off(dt,$)})},get:function(F){return this[F]},set:function(F,_){return this[F]=_,this}},T=function(){function ge(){}return ge.registerBehavior=function(F,_){if(!_)throw new Error("please specify handler for this behavior: "+F);var $=Object(h.c)(E);Object.assign($,_);var dt=function(Jt){var ce=this;Object.assign(this,this.getDefaultCfg(),Jt);var fe=this.getEvents();this.events=null;var De={};fe&&(Object(h.f)(fe,function(We,sn){De[sn]=Object(h.J)(ce,We)}),this.events=De)};dt.prototype=$,ge.types[F]=dt},ge.hasBehavior=function(F){return!!ge.types[F]},ge.getBehavior=function(F){return ge.types[F]},ge.types={},ge}(),o=T,s=t(1),u=t(80),v=t(10),C=t(33),O=v.a.transform,j=function(F){return function(_,$){return _[F]-$[F]}},p=function(F,_,$){return F>=_&&F<=$},x=function(F,_,$,dt){var Gt=$.x-F.x,Jt=$.y-F.y,ce=_.x-F.x,fe=_.y-F.y,De=dt.x-$.x,We=dt.y-$.y,sn=ce*We-fe*De,Dn=1/sn,Yt=null;if(sn*sn>1e-4*(ce*ce+fe*fe)*(De*De+We*We)){var Zt=(Gt*We-Jt*De)*Dn,Ae=(Gt*fe-Jt*ce)*Dn;p(Zt,0,1)&&p(Ae,0,1)&&(Yt={x:F.x+Zt*ce,y:F.y+Zt*fe})}return Yt},A=function(F,_){var $=F.x,dt=F.y,Gt=F.width,Jt=F.height,ce=[],fe={x:$+Gt/2,y:dt+Jt/2};ce.push({x:$,y:dt}),ce.push({x:$+Gt,y:dt}),ce.push({x:$+Gt,y:dt+Jt}),ce.push({x:$,y:dt+Jt}),ce.push({x:$,y:dt});for(var De=null,We=1;We<ce.length&&!(De=x(ce[We-1],ce[We],fe,_));We++);return De},k=function(F,_){var $=F.x,dt=F.y,Gt=F.r,Jt=_.x-$,ce=_.y-dt;if(Math.sqrt(Jt*Jt+ce*ce)<Gt)return null;var fe=Math.sign(Jt),De=Math.sign(ce),We=Math.atan(ce/Jt);return{x:$+Math.abs(Gt*Math.cos(We))*fe,y:dt+Math.abs(Gt*Math.sin(We))*De}},X=function(F,_){var $=F.rx,dt=F.ry,Gt=F.x,Jt=F.y,ce=_.x-Gt,fe=_.y-Jt,De=Math.atan2(fe/dt,ce/$);return De<0&&(De+=2*Math.PI),{x:Gt+$*Math.cos(De),y:Jt+dt*Math.sin(De)}},et=function(F,_,$){$===void 0&&($=1);var dt=[F.x,F.y,$];return _&&!isNaN(_[0])||(_=[1,0,0,0,1,0,0,0,1]),v.d.transformMat3(dt,dt,_),{x:dt[0],y:dt[1]}},tt=function(F,_,$){$===void 0&&($=1),_&&!isNaN(_[0])||(_=[1,0,0,0,1,0,0,0,1]);var dt=v.b.invert([1,0,0,0,1,0,0,0,1],_);dt||(dt=[1,0,0,0,1,0,0,0,1]);var Gt=[F.x,F.y,$];return v.d.transformMat3(Gt,Gt,dt),{x:Gt[0],y:Gt[1]}},ft=function(F,_,$){var dt=F.x-_.x,Gt=F.y-_.y,Jt=F.x-$.x,ce=F.y-$.y,fe=(F.x*F.x-_.x*_.x-_.y*_.y+F.y*F.y)/2,De=(F.x*F.x-$.x*$.x-$.y*$.y+F.y*F.y)/2,We=Gt*Jt-dt*ce;return{x:-(ce*fe-Gt*De)/We,y:-(dt*De-Jt*fe)/We}},st=function(F,_){var $=F.x-_.x,dt=F.y-_.y;return Math.sqrt($*$+dt*dt)},vt=function(F,_){var $=[];return F.forEach(function(dt){var Gt=[];dt.forEach(function(Jt){Gt.push(Jt*_)}),$.push(Gt)}),$},mt=function(F){for(var _=[],$=F.length,dt=0;dt<$;dt+=1){_[dt]=[];for(var Gt=0;Gt<$;Gt+=1)dt===Gt?_[dt][Gt]=0:F[dt][Gt]!==0&&F[dt][Gt]?_[dt][Gt]=F[dt][Gt]:_[dt][Gt]=1/0}for(var Jt=0;Jt<$;Jt+=1)for(dt=0;dt<$;dt+=1)for(Gt=0;Gt<$;Gt+=1)_[dt][Gt]>_[dt][Jt]+_[Jt][Gt]&&(_[dt][Gt]=_[dt][Jt]+_[Jt][Gt]);return _},pt=function(F,_){var $=F.nodes,dt=F.edges,Gt=[],Jt={};if(!$)throw new Error("invalid nodes data!");return $&&$.forEach(function(ce,fe){Jt[ce.id]=fe,Gt.push([])}),dt&&dt.forEach(function(ce){var fe=ce.source,De=ce.target,We=Jt[fe],sn=Jt[De];Gt[We][sn]=1,_||(Gt[sn][We]=1)}),Gt},rt=function(F,_){F.translate(_.x,_.y)},Bt=function(F,_){var $=F.getMatrix();$||($=[1,0,0,0,1,0,0,0,1]);var dt=F.getCanvasBBox(),Gt=_.x-dt.minX,Jt=_.y-dt.minY,ce=O($,[["t",Gt,Jt]]);F.setMatrix(ce)},It=function(F,_){var $=F.getMatrix();$||($=[1,0,0,0,1,0,0,0,1]);var dt=_;Object(h.m)(_)||(dt=[_,_]),Object(h.m)(_)&&_.length===1&&(dt=[_[0],_[0]]),$=O($,[["s",dt[0],dt[1]]]),F.setMatrix($)},St=function(F,_){var $=F.getMatrix();$||($=[1,0,0,0,1,0,0,0,1]),$=O($,[["r",_]]),F.setMatrix($)},H=function(F,_,$){for(var dt=[],Gt=0;Gt<F;Gt++)dt[Gt]=0;return $.forEach(function(Jt){Jt.source&&(dt[_[Jt.source]]+=1),Jt.target&&(dt[_[Jt.target]]+=1)}),dt};function ot(ge,F,_){return(_[0]-ge[0])*(F[1]-ge[1])==(F[0]-ge[0])*(_[1]-ge[1])&&Math.min(ge[0],F[0])<=_[0]&&_[0]<=Math.max(ge[0],F[0])&&Math.min(ge[1],F[1])<=_[1]&&_[1]<=Math.max(ge[1],F[1])}var yt=function(F,_,$){var dt=!1,Gt=F.length;function Jt(We){return Math.abs(We)<1e-6?0:We<0?-1:1}if(Gt<=2)return!1;for(var ce=0;ce<Gt;ce++){var fe=F[ce],De=F[(ce+1)%Gt];if(ot(fe,De,[_,$]))return!0;Jt(fe[1]-$)>0!=Jt(De[1]-$)>0&&Jt(_-($-fe[1])*(fe[0]-De[0])/(fe[1]-De[1])-fe[0])<0&&(dt=!dt)}return dt},xt=function(F,_){return!(_.minX>F.maxX||_.maxX<F.minX||_.minY>F.maxY||_.maxY<F.minY)},wt=function(F,_){var $=function(Dn){var Yt=Dn.map(function(Ae){return Ae[0]}),Zt=Dn.map(function(Ae){return Ae[1]});return{minX:Math.min.apply(null,Yt),maxX:Math.max.apply(null,Yt),minY:Math.min.apply(null,Zt),maxY:Math.max.apply(null,Zt)}},dt=function(Dn){for(var Yt=[],Zt=Dn.length,Ae=0;Ae<Zt-1;Ae++){var Ht=Dn[Ae],he=Dn[Ae+1];Yt.push({from:{x:Ht[0],y:Ht[1]},to:{x:he[0],y:he[1]}})}if(Yt.length>1){var En=Dn[0],Qn=Dn[Zt-1];Yt.push({from:{x:Qn[0],y:Qn[1]},to:{x:En[0],y:En[1]}})}return Yt};if(F.length<2||_.length<2)return!1;var Gt=$(F),Jt=$(_);if(!xt(Gt,Jt))return!1;var ce=!1;if(Object(h.f)(_,function(sn){if(yt(F,sn[0],sn[1]))return ce=!0,!1}),ce||(Object(h.f)(F,function(sn){if(yt(_,sn[0],sn[1]))return ce=!0,!1}),ce))return!0;var fe=dt(F),De=dt(_),We=!1;return Object(h.f)(De,function(sn){if(function(Dn,Yt){var Zt=!1;return Object(h.f)(Dn,function(Ae){if(x(Ae.from,Ae.to,Yt.from,Yt.to))return Zt=!0,!1}),Zt}(fe,sn))return We=!0,!1}),We},Q=function(){function ge(F,_,$,dt){this.x1=F,this.y1=_,this.x2=$,this.y2=dt}return ge.prototype.getBBox=function(){var F=Math.min(this.x1,this.x2),_=Math.min(this.y1,this.y2),$=Math.max(this.x1,this.x2),dt=Math.max(this.y1,this.y2);return{x:F,y:_,minX:F,minY:_,maxX:$,maxY:dt,width:$-F,height:dt-_}},ge}(),ct=function(F,_){return{top:[F.minX,F.minY,F.maxX,F.minY],left:[F.minX,F.minY,F.minX,F.maxY],bottom:[F.minX,F.maxY,F.maxX,F.maxY],right:[F.maxX,F.minY,F.maxX,F.maxY]}[_]},it=function(F,_){var $=(_.x2-_.x1)*(F.y1-_.y1)-(_.y2-_.y1)*(F.x1-_.x1),dt=(F.x2-F.x1)*(F.y1-_.y1)-(F.y2-F.y1)*(F.x1-_.x1),Gt=(_.y2-_.y1)*(F.x2-F.x1)-(_.x2-_.x1)*(F.y2-F.y1);if(Gt){var Jt=$/Gt,ce=dt/Gt;if(Jt>=0&&Jt<=1&&ce>=0&&ce<=1)return Jt}return Number.POSITIVE_INFINITY},U=function(F,_){for(var $=["top","left","bottom","right"],dt=F.getBBox(),Gt=0,Jt=[],ce=0;ce<4;ce++){var fe=ct(dt,$[ce]),De=fe[0],We=fe[1],sn=fe[2],Dn=fe[3];Jt[ce]=x({x:_.x1,y:_.y1},{x:_.x2,y:_.y2},{x:De,y:We},{x:sn,y:Dn}),Jt[ce]&&(Gt+=1)}return[Jt,Gt]},D=function(F,_){for(var $=["top","left","bottom","right"],dt=F.getBBox(),Gt=Number.POSITIVE_INFINITY,Jt=0,ce=0;ce<4;ce++){var fe=ct(dt,$[ce]),De=fe[0],We=fe[1],sn=fe[2],Dn=fe[3],Yt=it(_,new Q(De,We,sn,Dn));(Yt=Math.abs(Yt-.5))>=0&&Yt<=1&&(Jt+=1,Gt=Yt<Gt?Yt:Gt)}return Jt===0?-1:Gt},W=function(F){var _=0,$=0;if(F.length>0){for(var dt=0,Gt=F;dt<Gt.length;dt++){var Jt=Gt[dt];_+=Jt.x,$+=Jt.y}_/=F.length,$/=F.length}return{x:_,y:$}},P=function(F,_){return Math.pow(F.x-_.x,2)+Math.pow(F.y-_.y,2)},m=function(F,_){var $,dt=_.x1,Gt=_.y1,Jt=_.x2-dt,ce=_.y2-Gt,fe=F.x-dt,De=F.y-Gt,We=fe*Jt+De*ce;$=We<=0||(We=(fe=Jt-fe)*Jt+(De=ce-De)*ce)<=0?0:We*We/(Jt*Jt+ce*ce);var sn=fe*fe+De*De-$;return sn<0&&(sn=0),sn},y=function(F,_,$){return $===void 0&&($=.001),Math.pow(F.x-_.x,2)+Math.pow(F.y-_.y,2)<Math.pow($,2)},V=function(F,_){var $=F.x<_.x,dt=F.x>_.x+_.width,Gt=F.y>_.y+_.height,Jt=F.y<_.y;if(!($||dt||Gt||Jt))return 0;if(Gt&&!$&&!dt)return Math.pow(_.y+_.height-F.y,2);if(Jt&&!$&&!dt)return Math.pow(F.y-_.y,2);if($&&!Gt&&!Jt)return Math.pow(_.x-F.x,2);if(dt&&!Gt&&!Jt)return Math.pow(_.x+_.width-F.x,2);var ce=Math.min(Math.abs(_.x-F.x),Math.abs(_.x+_.width-F.x)),fe=Math.min(Math.abs(_.y-F.y),Math.abs(_.y+_.height-F.y));return ce*ce+fe*fe},J="rgb(95, 149, 255)",ht="rgb(253, 253, 253)",gt="rgb(247, 250, 255)",Mt="rgb(224, 224, 224)",Lt="rgb(224, 224, 224)",At={version:"0.0.9",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:J,fill:"rgb(239, 244, 255)"},size:20,color:J,linkPoints:{size:8,lineWidth:1,fill:gt,stroke:J}},nodeStateStyles:{active:{fill:gt,stroke:J,lineWidth:2,shadowColor:J,shadowBlur:10},selected:{fill:"rgb(255, 255, 255)",stroke:J,lineWidth:4,shadowColor:J,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:"rgb(223, 234, 255)",stroke:"#4572d9",lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:"rgb(247, 250, 255)",stroke:"rgb(191, 213, 255)",lineWidth:1},disable:{fill:"rgb(250, 250, 250)",stroke:"rgb(224, 224, 224)",lineWidth:1}},edgeLabel:{style:{fill:"rgb(0, 0, 0)",textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Mt,lineAppendWidth:2},color:Mt},edgeStateStyles:{active:{stroke:J,lineWidth:1},selected:{stroke:J,lineWidth:2,shadowColor:J,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:J,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:"rgb(234, 234, 234)",lineWidth:1},disable:{stroke:"rgb(245, 245, 245)",lineWidth:1}},comboLabel:{style:{fill:"rgb(0, 0, 0)",textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:ht,lineWidth:1,stroke:Lt,r:5,width:20,height:10},size:[20,5],color:Lt,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:J,lineWidth:1,fill:"rgb(247, 250, 255)"},selected:{stroke:J,lineWidth:2,fill:ht,shadowColor:J,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:"#4572d9",lineWidth:2,fill:ht,"text-shape":{fontWeight:500}},inactive:{stroke:"rgb(224, 224, 224)",fill:ht,lineWidth:1},disable:{stroke:"rgb(234, 234, 234)",fill:"rgb(250, 250, 250)",lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]}},Ct=function(){function ge(F){this.graph=F,this.destroyed=!1,this.modes=F.get("modes")||{default:[]},this.formatModes(),this.mode=F.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return ge.prototype.formatModes=function(){var F=this.modes;Object(h.f)(F,function(_){Object(h.f)(_,function($,dt){Object(h.x)($)&&(_[dt]={type:$})})})},ge.prototype.setBehaviors=function(F){var _,$=this.graph,dt=this.modes[F],Gt=[];Object(h.f)(dt||[],function(Jt){var ce=T.getBehavior(Jt.type||Jt);ce&&(_=new ce(Jt))&&(_.bind($),Gt.push(_))}),this.currentBehaves=Gt},ge.mergeBehaviors=function(F,_){return Object(h.f)(_,function($){F.indexOf($)<0&&(Object(h.x)($)&&($={type:$}),F.push($))}),F},ge.filterBehaviors=function(F,_){var $=[];return F.forEach(function(dt){var Gt="";Gt=Object(h.x)(dt)?dt:dt.type,_.indexOf(Gt)<0&&$.push(dt)}),$},ge.prototype.setMode=function(F){var _=this.modes,$=this.graph,dt=F;_[dt]&&($.emit("beforemodechange",{mode:F}),Object(h.f)(this.currentBehaves,function(Gt){Gt.delegate&&Gt.delegate.remove(),Gt.unbind($)}),this.setBehaviors(dt),$.emit("aftermodechange",{mode:F}),this.mode=F)},ge.prototype.getMode=function(){return this.mode},ge.prototype.manipulateBehaviors=function(F,_,$){var dt,Gt=this;if(dt=Object(h.m)(F)?F:[F],Object(h.m)(_))return Object(h.f)(_,function(ce){Gt.modes[ce]?Gt.modes[ce]=$?ge.mergeBehaviors(Gt.modes[ce]||[],dt):ge.filterBehaviors(Gt.modes[ce]||[],dt):$&&(Gt.modes[ce]=dt)}),this;var Jt=_;return _||(Jt=this.mode),this.modes[Jt]||$&&(this.modes[Jt]=dt),this.modes[Jt]=$?ge.mergeBehaviors(this.modes[Jt]||[],dt):ge.filterBehaviors(this.modes[Jt]||[],dt),this.setMode(this.mode),this},ge.prototype.updateBehavior=function(F,_,$){Object(h.x)(F)&&(F={type:F});var dt=[];if($&&$!==this.mode&&$!=="default"){if(!(dt=this.modes[$])||!dt.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;var Gt=dt.length;for(ce=0;ce<Gt;ce++){if((fe=dt[ce]).type===F.type||fe===F.type)return fe===F.type&&(fe={type:fe}),Object.assign(fe,_),dt[ce]=fe,this;ce===Gt-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(!(dt=this.currentBehaves)||!dt.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var Jt=dt.length,ce=0;ce<Jt;ce++){var fe;if((fe=dt[ce]).type===F.type)return fe.updateCfg(_),this;ce===Jt-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},ge.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},ge}(),Ot=t(14),Dt=function(ge){function F(_,$){var dt=ge.call(this,_,$)||this;return dt.item=$.item,dt.canvasX=$.canvasX,dt.canvasY=$.canvasY,dt.wheelDelta=$.wheelDelta,dt.detail=$.detail,dt}return Object(s.b)(F,ge),F}(t(18).Event),Ft=function(F){return F+"-"+Math.random()+Date.now()},Xt=function(F){var _=0,$=0,dt=0,Gt=0;return Object(h.t)(F)?_=$=dt=Gt=F:Object(h.x)(F)?_=$=dt=Gt=parseInt(F,10):Object(h.m)(F)&&(_=F[0],dt=Object(h.s)(F[1])?F[0]:F[1],Gt=Object(h.s)(F[2])?F[0]:F[2],$=Object(h.s)(F[3])?dt:F[3]),[_,dt,Gt,$]},Rt=function(F){var _=new Dt(F.type,F);return _.clientX=F.clientX,_.clientY=F.clientY,_.x=F.x,_.y=F.y,_.target=F.target,_.currentTarget=F.currentTarget,_.bubbles=!0,_.item=F.item,_},Kt=function(F){if(!F)return!1;for(var _=[1,0,0,0,1,0,0,0,1],$=0;$<9;$++)if(F[$]!==_[$])return!0;return!1},$t=function(F){return Number.isNaN(Number(F))},le=function(F){for(var _=1/0,$=-1/0,dt=1/0,Gt=-1/0,Jt=0;Jt<F.length;Jt++){var ce=F[Jt].getBBox(),fe=ce.minX,De=ce.minY,We=ce.maxX,sn=ce.maxY;fe<_&&(_=fe),De<dt&&(dt=De),We>$&&($=We),sn>Gt&&(Gt=sn)}return{x:Math.floor(_),y:Math.floor(dt),width:Math.ceil($)-Math.floor(_),height:Math.ceil(Gt)-Math.floor(dt),minX:_,minY:dt,maxX:$,maxY:Gt}},Me=function(F,_,$,dt,Gt){_===void 0&&(_=15),$===void 0&&($="quadratic");for(var Jt=F.length,ce=2*_,fe=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],De={},We=[],sn={},Dn=0;Dn<Jt;Dn++){var Yt=F[Dn],Zt=Yt.source,Ae=Yt.target,Ht=Zt+"-"+Ae;if(!We[Dn]){De[Ht]||(De[Ht]=[]),We[Dn]=!0,De[Ht].push(Yt);for(var he=0;he<Jt;he++)if(Dn!==he){var En=F[he],Qn=En.source,fr=En.target;We[he]||(Zt===fr&&Ae===Qn?(De[Ht].push(En),We[he]=!0,sn[Qn+"|"+fr+"|"+(De[Ht].length-1)]=!0):Zt===Qn&&Ae===fr&&(De[Ht].push(En),We[he]=!0))}}}for(var ar in De)for(var an=De[ar],Re=an.length,L=0;L<Re;L++){var bt=an[L];if(bt.source!==bt.target)if(Re===1&&dt&&bt.source!==bt.target)bt.type=dt;else{bt.type=$;var ie=(L%2==0?1:-1)*(sn[bt.source+"|"+bt.target+"|"+L]?-1:1);bt.curveOffset=Re%2==1?ie*Math.ceil(L/2)*ce:ie*(Math.floor(L/2)*ce+_)}else Gt&&(bt.type=Gt),bt.loopCfg={position:fe[L%8],dist:20*Math.floor(L/8)+50}}return F},on=function(){function ge(F){this.destroyed=!1,this.graph=F,this.destroyed=!1}return ge.prototype.getViewCenter=function(){var F=this.getFormatPadding(),_=this.graph,$=this.graph.get("width"),dt=_.get("height");return{x:($-F[1]-F[3])/2+F[3],y:(dt-F[0]-F[2])/2+F[0]}},ge.prototype.fitCenter=function(){var F=this.graph,_=F.get("group");_.resetMatrix();var $=_.getCanvasBBox();if($.width!==0&&$.height!==0){var dt=this.getViewCenter(),Gt=$.x+$.width/2,Jt=$.y+$.height/2;F.translate(dt.x-Gt,dt.y-Jt)}},ge.prototype.fitView=function(){var F=this.graph,_=this.getFormatPadding(),$=F.get("width"),dt=F.get("height"),Gt=F.get("group");Gt.resetMatrix();var Jt=Gt.getCanvasBBox();if(Jt.width!==0&&Jt.height!==0){var ce=this.getViewCenter(),fe=Jt.x+Jt.width/2,De=Jt.y+Jt.height/2;F.translate(ce.x-fe,ce.y-De);var We=($-_[1]-_[3])/Jt.width,sn=(dt-_[0]-_[2])/Jt.height,Dn=We;We>sn&&(Dn=sn),F.zoom(Dn,ce)}},ge.prototype.getFormatPadding=function(){var F=this.graph.get("fitViewPadding");return Xt(F)},ge.prototype.focusPoint=function(F,_,$){var dt=this,Gt=this.getViewCenter(),Jt=this.getPointByCanvas(Gt.x,Gt.y),ce=this.graph.get("group").getMatrix();if(ce||(ce=[1,0,0,0,1,0,0,0,1]),_){var fe=(Jt.x-F.x)*ce[0],De=(Jt.y-F.y)*ce[4],We=0,sn=0,Dn=0,Yt=0;this.graph.get("canvas").animate(function(Zt){Dn=fe*Zt,Yt=De*Zt,dt.graph.translate(Dn-We,Yt-sn),We=Dn,sn=Yt},Object(s.a)({},$))}else this.graph.translate((Jt.x-F.x)*ce[0],(Jt.y-F.y)*ce[4])},ge.prototype.getPointByCanvas=function(F,_){var $=this.graph.get("group").getMatrix();return $||($=[1,0,0,0,1,0,0,0,1]),tt({x:F,y:_},$)},ge.prototype.getPointByClient=function(F,_){var $=this.graph.get("canvas").getPointByClient(F,_);return this.getPointByCanvas($.x,$.y)},ge.prototype.getClientByPoint=function(F,_){var $=this.graph.get("canvas"),dt=this.getCanvasByPoint(F,_),Gt=$.getClientByPoint(dt.x,dt.y);return{x:Gt.x,y:Gt.y}},ge.prototype.getCanvasByPoint=function(F,_){var $=this.graph.get("group").getMatrix();return $||($=[1,0,0,0,1,0,0,0,1]),et({x:F,y:_},$)},ge.prototype.focus=function(F,_,$){Object(h.x)(F)&&(F=this.graph.findById(F));var dt=F.get("group").getMatrix();dt||(dt=[1,0,0,0,1,0,0,0,1]),F&&this.focusPoint({x:dt[6],y:dt[7]},_,$)},ge.prototype.changeSize=function(F,_){var $=this.graph;if(!Object(h.t)(F)||!Object(h.t)(_))throw Error("invalid canvas width & height, please make sure width & height type is number");$.set({width:F,height:_}),$.get("canvas").changeSize(F,_),$.get("plugins").forEach(function(dt){if(dt.get("gridContainer")){var Gt=$.get("minZoom");Object(Ot.c)(dt.get("container"),{width:F+"px",height:_+"px"}),Object(Ot.c)(dt.get("gridContainer"),{width:F/Gt+"px",height:_/Gt+"px",left:0,top:0})}})},ge.prototype.destroy=function(){this.graph=null,this.destroyed=!1},ge}(),hn={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},Cn=Math.PI,He=Math.sin,mn=Math.cos,dn=He(Cn/8),Un=mn(Cn/8),Xn=function(F,_){var $=F.getBBox(),dt={x:$.minX,y:$.minY},Gt={x:$.maxX,y:$.maxY};if(_){var Jt=_.getMatrix();Jt||(Jt=[1,0,0,0,1,0,0,0,1]),dt=et(dt,Jt),Gt=et(Gt,Jt)}var ce=dt.x,fe=dt.y,De=Gt.x,We=Gt.y;return{x:ce,y:fe,minX:ce,minY:fe,maxX:De,maxY:We,width:De-ce,height:We-fe}},Hn=function(F){var _=F.sourceNode||F.targetNode,$=_.get("group").getMatrix();$||($=[1,0,0,0,1,0,0,0,1]);var dt=_.getKeyShape().getBBox(),Gt=F.loopCfg||{},Jt=Gt.dist||2*Math.max(dt.width,dt.height),ce=Gt.position||At.defaultLoopPosition,fe=[$[6],$[7]],De=[F.startPoint.x,F.startPoint.y],We=[F.endPoint.x,F.endPoint.y],sn=dt.height/2,Dn=dt.height/2,Yt=sn*dn,Zt=sn*Un,Ae=Dn*dn,Ht=Dn*Un;if(De[0]===We[0]&&De[1]===We[1]){switch(ce){case"top":De=[fe[0]-Yt,fe[1]-Zt],We=[fe[0]+Ae,fe[1]-Ht];break;case"top-right":sn=dt.height/2,Dn=dt.width/2,De=[fe[0]+(Yt=sn*dn),fe[1]-(Zt=sn*Un)],We=[fe[0]+(Ht=Dn*Un),fe[1]-(Ae=Dn*dn)];break;case"right":sn=dt.width/2,Dn=dt.width/2,De=[fe[0]+(Zt=sn*Un),fe[1]-(Yt=sn*dn)],We=[fe[0]+(Ht=Dn*Un),fe[1]+(Ae=Dn*dn)];break;case"bottom-right":sn=dt.width/2,Dn=dt.height/2,De=[fe[0]+(Zt=sn*Un),fe[1]+(Yt=sn*dn)],We=[fe[0]+(Ae=Dn*dn),fe[1]+(Ht=Dn*Un)];break;case"bottom":sn=dt.height/2,Dn=dt.height/2,De=[fe[0]+(Yt=sn*dn),fe[1]+(Zt=sn*Un)],We=[fe[0]-(Ae=Dn*dn),fe[1]+(Ht=Dn*Un)];break;case"bottom-left":sn=dt.height/2,Dn=dt.width/2,De=[fe[0]-(Yt=sn*dn),fe[1]+(Zt=sn*Un)],We=[fe[0]-(Ht=Dn*Un),fe[1]+(Ae=Dn*dn)];break;case"left":sn=dt.width/2,Dn=dt.width/2,De=[fe[0]-(Zt=sn*Un),fe[1]+(Yt=sn*dn)],We=[fe[0]-(Ht=Dn*Un),fe[1]-(Ae=Dn*dn)];break;case"top-left":sn=dt.width/2,Dn=dt.height/2,De=[fe[0]-(Zt=sn*Un),fe[1]-(Yt=sn*dn)],We=[fe[0]-(Ae=Dn*dn),fe[1]-(Ht=Dn*Un)];break;default:sn=dt.width/2,Dn=dt.width/2,De=[fe[0]-(Yt=sn*dn),fe[1]-(Zt=sn*Un)],We=[fe[0]+(Ae=Dn*dn),fe[1]-(Ht=Dn*Un)]}if(Gt.clockwise===!1){var he=[De[0],De[1]];De=[We[0],We[1]],We=[he[0],he[1]]}}var En=[De[0]-fe[0],De[1]-fe[1]],Qn=(sn+Jt)/sn,fr=(Dn+Jt)/Dn;Gt.clockwise===!1&&(Qn=(Dn+Jt)/Dn,fr=(sn+Jt)/sn);var ar=v.c.scale([0,0],En,Qn),an=[fe[0]+ar[0],fe[1]+ar[1]],Re=[We[0]-fe[0],We[1]-fe[1]],L=v.c.scale([0,0],Re,fr),bt=[fe[0]+L[0],fe[1]+L[1]];return F.startPoint={x:De[0],y:De[1]},F.endPoint={x:We[0],y:We[1]},F.controlPoints=[{x:an[0],y:an[1]},{x:bt[0],y:bt[1]}],F},_n=function(F,_,$,dt,Gt){var Jt=[],ce=F.getPoint(_);if(ce===null)return{x:0,y:0,angle:0};if(_<1e-4)Jt=F.getStartTangent().reverse();else if(_>.9999)Jt=F.getEndTangent();else{var fe=F.getPoint(_+1e-4);Jt.push([ce.x,ce.y]),Jt.push([fe.x,fe.y])}var De=Math.atan2(Jt[1][1]-Jt[0][1],Jt[1][0]-Jt[0][0]);if(De<0&&(De+=2*Cn),$&&(ce.x+=mn(De)*$,ce.y+=He(De)*$),dt){var We=De-Cn/2;De>.5*Cn&&De<1.5*Cn&&(We-=Cn),ce.x+=mn(We)*dt,ce.y+=He(We)*dt}var sn={x:ce.x,y:ce.y,angle:De};return Gt?(De>.5*Cn&&De<1.5*Cn&&(De-=Cn),Object(s.a)({rotate:De},sn)):sn},$n=function ge(F,_){if(_(F)===!1)return!1;if(F&&F.children){for(var $=F.children.length-1;$>=0;$--)if(!ge(F.children[$],_))return!1}return!0},ir=function(F,_){typeof _=="function"&&$n(F,_)},dr=function(F,_){typeof _=="function"&&function $(dt,Gt){if(dt&&dt.children){for(var Jt=dt.children.length-1;Jt>=0;Jt--)if(!$(dt.children[Jt],Gt))return}return Gt(dt)!==!1}(F,_)},xr=function(F,_){return _*(hn[F]||1)},Qr=function(F,_){var $=0,dt=new RegExp("[\u4E00-\u9FA5]+");return F.split("").forEach(function(Gt){dt.test(Gt)?$+=_:$+=xr(Gt,_)}),[$,_]},Mr=function(F,_){var $=[],dt={},Gt={};F.forEach(function(fe){Gt[fe.id]=fe}),F.forEach(function(fe,De){var We=Object(h.c)(fe);We.itemType="combo",We.children=void 0,We.parentId===We.id?(console.warn("The parentId for combo "+We.id+" can not be the same as the combo's id"),delete We.parentId):We.parentId&&!Gt[We.parentId]&&(console.warn("The parent combo for combo "+We.id+" does not exist!"),delete We.parentId);var sn=dt[We.id];if(sn){if(We.children=sn.children,dt[We.id]=We,!(sn=We).parentId)return void $.push(sn);var Dn=dt[sn.parentId];if(Dn)Dn.children?Dn.children.push(We):Dn.children=[We];else{var Yt={id:sn.parentId,children:[sn]};dt[sn.parentId]=Yt,dt[We.id]=We}}else if(Object(h.x)(fe.parentId)){var Zt=dt[fe.parentId];if(Zt)Zt.children?Zt.children.push(We):Zt.children=[We],dt[We.id]=We;else{var Ae={id:fe.parentId,children:[We]};dt[Ae.id]=Ae,dt[We.id]=We}}else $.push(We),dt[We.id]=We});var Jt={};(_||[]).forEach(function(fe){Jt[fe.id]=fe;var De=dt[fe.comboId];if(De){var We={id:fe.id,comboId:fe.comboId};De.children?De.children.push(We):De.children=[We],We.itemType="node",dt[fe.id]=We}});var ce=0;return $.forEach(function(fe){fe.depth=ce+10,$n(fe,function(De){var We,sn=dt[De.id].itemType;We=sn==="node"?dt[De.comboId]:dt[De.parentId],De.depth=We&&sn==="node"?ce+1:ce+10,ce<De.depth&&(ce=De.depth);var Dn=Jt[De.id];return Dn&&(Dn.depth=De.depth),!0})}),$},Er=function(F,_,$){var dt,Gt=F,Jt={root:{children:F}},ce=!1,fe="root";(F||[]).forEach(function(Yt){if(!ce)return Yt.id===_?(dt=Yt,Yt.itemType==="combo"?dt.parentId=$:dt.comboId=$,void(ce=!0)):void ir(Yt,function(Zt){return Jt[Zt.id]={children:Zt.children},Gt=Jt[Zt.parentId||Zt.comboId||"root"].children,!Zt||!Zt.removed&&_!==Zt.id||!Gt||(fe=Zt.parentId||Zt.comboId||"root",dt=Zt,Zt.itemType==="combo"?dt.parentId=$:dt.comboId=$,ce=!0,!1)})});var De=(Gt=Jt[fe].children)?Gt.indexOf(dt):-1;if(De>-1&&Gt.splice(De,1),ce||(dt={id:_,itemType:"node",comboId:$},Jt[_]={children:void 0}),_){var We=!1;if($){var sn=0;(F||[]).forEach(function(Yt){We||ir(Yt,function(Zt){return $!==Zt.id||(We=!0,Zt.children?Zt.children.push(dt):Zt.children=[dt],sn=Zt.depth,dt.itemType==="node"?dt.depth=sn+2:dt.depth=sn+1,!1)})})}else $&&We||dt.itemType==="node"||F.push(dt);var Dn=dt.depth;ir(dt,function(Yt){return Yt.itemType==="node"?Dn+=2:Dn+=1,Yt.depth=Dn,!0})}return F},Dr=function(F,_){var $={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return F&&F.length!==0&&(F.forEach(function(dt){var Gt=_.findById(dt.id);if(Gt&&Gt.isVisible()){Gt.set("bboxCanvasCache",void 0);var Jt=Gt.getCanvasBBox();Jt.x&&$.minX>Jt.minX&&($.minX=Jt.minX),Jt.y&&$.minY>Jt.minY&&($.minY=Jt.minY),Jt.x&&$.maxX<Jt.maxX&&($.maxX=Jt.maxX),Jt.y&&$.maxY<Jt.maxY&&($.maxY=Jt.maxY)}}),$.x=($.minX+$.maxX)/2,$.y=($.minY+$.maxY)/2,$.width=$.maxX-$.minX,$.height=$.maxY-$.minY,$.centerX=($.minX+$.maxX)/2,$.centerY=($.minY+$.maxY)/2,Object.keys($).forEach(function(dt){$[dt]!==1/0&&$[dt]!==-1/0||($[dt]=void 0)})),$},hi=function(F){var _=Object(h.t)(F.x)||Object(h.t)(F.y)||F.type||F.anchorPoints||F.size;return F.style&&(_=_||Object(h.t)(F.style.r)||Object(h.t)(F.style.width)||Object(h.t)(F.style.height)||Object(h.t)(F.style.rx)||Object(h.t)(F.style.ry)),_},Wi=function(F){var _={};return Object.keys(F).forEach(function($){var dt=F[$];if(Object(h.v)(dt)){var Gt={};Object.keys(dt).forEach(function(Jt){var ce=dt[Jt];(Jt!=="img"||Object(h.x)(ce))&&(Gt[Jt]=Object(h.c)(ce))}),_[$]=Gt}else _[$]=Object(h.c)(dt)}),_};function oa(ge){return(oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F})(ge)}function Za(ge){if(typeof ge!="string")return ge;var F=function(an){if(typeof an!="string")return an;try{return JSON.parse(an.trim())}catch(Re){return an.trim()}},_=F(ge);if(typeof _!="string")return _;for(var $=function(an){return an[an.length-1]},dt=ge.trim(),Gt=[],Jt=[],ce=function(){for(var an=[],Re=0;Re<arguments.length;Re++)an[Re]=arguments[Re];return an.some(function(L){return $(Jt)===L})},fe=null,De=0,We="";De<dt.length;){var sn=dt[De],Dn=ce('"',"'");if(Dn||sn.trim()){var Yt=dt[De-1]==="\\",Zt=ce("}"),Ae=ce("]"),Ht=ce(","),he=$(Gt);if(Dn)if($(Jt)!==sn||Yt)We+=sn;else{Jt.pop();var En=F(We);he.push(En),fe=En,We=""}else if(Ae&&sn===",")We&&(he.push(F(We)),We="");else if(Zt&&sn===":")Jt.push(","),We&&(he.push(We),We="");else if(Ht&&sn===",")We&&(he.push(F(We)),We=""),Jt.pop();else if(sn==="}"&&(Zt||Ht)){We&&(he.push(F(We)),We=""),Ht&&Jt.pop();for(var Qn={},fr=1;fr<he.length;fr+=2)Qn[he[fr-1]]=he[fr];Gt.pop(),Gt.length&&$(Gt).push(Qn),Jt.pop(),fe=Qn}else sn==="]"&&Ae?(We&&(he.push(F(We)),We=""),Gt.pop(),Gt.length&&$(Gt).push(he),Jt.pop(),fe=he):sn==="{"?(Gt.push([]),Jt.push("}")):sn==="["?(Gt.push([]),Jt.push("]")):sn==='"'?Jt.push('"'):sn==="'"?Jt.push("'"):We+=sn;De+=1}else De+=1}return fe||We}function ao(ge,F){var _;F===void 0&&(F={x:0,y:0});var $=Object(s.a)({x:0,y:0,width:0,height:0},F);if((_=ge.children)===null||_===void 0?void 0:_.length){var dt=ge.attrs,Gt=dt===void 0?{}:dt,Jt=Gt.marginTop,ce=Object(s.a)({},F);Jt&&(ce.y+=Jt);for(var fe=0;fe<ge.children.length;fe++){ge.children[fe].attrs.key=(Gt.key||"root")+" -"+fe+" ";var De=ao(ge.children[fe],ce);if(De.bbox){var We=De.bbox;De.attrs.next==="inline"?ce.x+=De.bbox.width:ce.y+=De.bbox.height,We.width+We.x>$.width&&($.width=We.width+We.x),We.height+We.y>$.height&&($.height=We.height+We.y)}}}return ge.bbox=function(sn,Dn,Yt){var Zt,Ae,Ht=sn.attrs,he=Ht===void 0?{}:Ht,En={x:Dn.x||0,y:Dn.y||0,width:Yt.width||0,height:Yt.height||0};switch(sn.type){case"maker":case"circle":he.r&&(Ae=2*he.r,Zt=2*he.r);break;case"text":he.text&&(Ae=Qr(he.text,he.fontSize||12)[0],Zt=16,En.y+=Zt,En.height=Zt,En.width=Ae,sn.attrs=Object(s.a)({fontSize:12,fill:"#000"},he));break;default:he.width&&(Ae=he.width),he.height&&(Zt=he.height)}return Zt>=0&&(En.height=Zt),Ae>=0&&(En.width=Ae),he.marginTop&&(En.y+=he.marginTop),he.marginLeft&&(En.x+=he.marginLeft),En}(ge,F,$),ge.attrs=Object(s.a)(Object(s.a)({},ge.attrs),ge.bbox),ge}function Ji(ge){var F={},_=function(dt){var Gt=function(fe){return function(De){for(var We=fe.length,sn=[],Dn=0,Yt="";Dn<We;)if(fe[Dn]==="{"&&fe[Dn+1]==="{")sn.push(Yt),Yt="",Dn+=2;else if(fe[Dn]==="}"&&fe[Dn+1]==="}"){if(sn.length){var Zt=sn.pop();Yt=Object(h.i)(De,Yt,Zt.endsWith("=")?'"{'+Yt+'}"':Yt),sn.push(Zt+Yt)}Dn+=2,Yt=""}else Yt+=fe[Dn],Dn+=1;return sn.push(Yt),sn.map(function(Ae,Ht){return sn[Ht-1]&&sn[Ht-1].endsWith("=")?'"{'+Ae+'}"':Ae}).join("")}}(typeof ge=="function"?ge(dt):ge)(dt),Jt=document.createElement("div");Jt.innerHTML=Gt;var ce=ao(function fe(De,We){var sn={},Dn=De.getAttributeNames&&De.getAttributeNames()||[],Yt=De.children&&Array.from(De.children).map(function(Ht){return fe(Ht,We)}),Zt={},Ae=De.tagName?De.tagName.toLowerCase():"group";return Ae==="text"&&(sn.text=De.innerText),Zt.type=Ae,Ae==="img"&&(Zt.type="image"),Array.from(Dn).forEach(function(Ht){var he=Ht.split("-").reduce(function(fr,ar){return fr+ar.charAt(0).toUpperCase()+ar.slice(1)}),En=De.getAttribute(Ht);try{if(he==="style"||he==="attrs"){var Qn=Za(En);sn=Object(s.a)(Object(s.a)({},sn),Qn)}else Zt[he]=Za(En)}catch(fr){if(he==="style")throw fr;Zt[he]=En}}),Zt.attrs=sn,We&&We.style&&Zt.name&&oa(We.style[Zt.name])==="object"&&(Zt.attrs=Object(s.a)(Object(s.a)({},Zt.attrs),We.style[Zt.name])),We&&We.style&&Zt.keyshape&&(Zt.attrs=Object(s.a)(Object(s.a)({},Zt.attrs),We.style)),Yt.length&&(Zt.children=Yt),Zt}(Jt.children[0],dt));return Jt.remove(),ce};return{draw:function(dt,Gt){var Jt=_(dt),ce=Gt;return function fe(De){var We=De.attrs,sn=We===void 0?{}:We,Dn=De.bbox,Yt=De.type,Zt=De.children,Ae=Object(s.c)(De,["attrs","bbox","type","children"]);if(De.type!=="group"){var Ht=Gt.addShape(De.type,Object(s.a)({attrs:sn,origin:{bbox:Dn,type:Yt,children:Zt}},Ae));De.keyshape&&(ce=Ht)}De.children&&De.children.forEach(function(he){return fe(he)})}(Jt),F[dt.id]=[Jt],ce},update:function(dt,Gt){F[dt.id]||(F[dt.id]=[]);var Jt=Gt.getContainer(),ce=Jt.get("children"),fe=_(dt),De=function Dn(Yt,Zt){var Ae,Ht,he,En,Qn=(Yt||{}).type,fr=((Zt==null?void 0:Zt.attrs)||{}).key;if(fr&&Yt&&(Yt.attrs.key=fr),!Yt&&Zt)return{action:"delete",val:Zt,type:Qn,key:fr};if(Yt&&!Zt)return{action:"add",val:Yt,type:Qn};if(!Yt&&!Zt)return{action:"same",type:Qn};var ar=[];if(((Ae=Yt.children)===null||Ae===void 0?void 0:Ae.length)>0||((Ht=Zt.children)===null||Ht===void 0?void 0:Ht.length)>0)for(var an=Math.max((he=Yt.children)===null||he===void 0?void 0:he.length,(En=Zt.children)===null||En===void 0?void 0:En.length),Re=Zt.children||[],L=Yt.children||[],bt=0;bt<an;bt+=1)ar.push(Dn(L[bt],Re[bt]));var ie=Object.keys(Zt.attrs),Ee=Object.keys(Yt.attrs);return Zt.type!==Yt.type?{action:"restructure",nowTarget:Yt,formerTarget:Zt,key:fr,children:ar}:ie.filter(function(te){return te!=="children"}).some(function(te){return Yt.attrs[te]!==Zt.attrs[te]||!Ee.includes(te)})?{action:"change",val:Yt,children:ar,type:Qn,key:fr}:{action:"same",children:ar,type:Qn,key:fr}}(fe,F[dt.id].pop()),We=function Dn(Yt){var Zt;Yt.type!=="group"&&Jt.addShape(Yt.type,{attrs:Yt.attrs}),((Zt=Yt.children)===null||Zt===void 0?void 0:Zt.length)&&Yt.children.map(function(Ae){return Dn(Ae)})},sn=function Dn(Yt){var Zt,Ae=ce.find(function(Ht){return Ht.attrs.key===Yt.attrs.key});Ae&&Jt.removeChild(Ae),((Zt=Yt.children)===null||Zt===void 0?void 0:Zt.length)&&Yt.children.map(function(Ht){return Dn(Ht)})};(function Dn(Yt){var Zt=Yt.key;if(Yt.type!=="group"){var Ae=ce.find(function(he){return he.attrs.key===Zt});switch(Yt.action){case"change":if(Ae){var Ht=Yt.val.keyshape?Gt.getOriginStyle():{};Ae.attr(Object(s.a)(Object(s.a)({},Ht),Yt.val.attrs))}break;case"add":We(Yt.val);break;case"delete":sn(Yt.val);break;case"restructure":sn(Yt.formerTarget),We(Yt.nowTarget)}}Yt.children&&Yt.children.forEach(function(he){return Dn(he)})})(De),F[dt.id].push(fe)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var Ya={};function Ca(ge){return Ya[ge]||(Ya[ge]=Object(h.I)(ge)),Ya[ge]}var La={defaultShapeType:"defaultType",className:null,getShape:function(F){return this[F]||this[this.defaultShapeType]||this["simple-circle"]},draw:function(F,_,$){var dt=this.getShape(F),Gt=dt.draw(_,$);return dt.afterDraw&&dt.afterDraw(_,$,Gt),Gt},baseUpdate:function(F,_,$){var dt=this.getShape(F);dt.update&&dt.update(_,$),dt.afterUpdate&&dt.afterUpdate(_,$)},setState:function(F,_,$,dt){this.getShape(F).setState(_,$,dt)},shouldUpdate:function(F){return!!this.getShape(F).update},getControlPoints:function(F,_){return this.getShape(F).getControlPoints(_)},getAnchorPoints:function(F,_){return this.getShape(F).getAnchorPoints(_)}},Ba={options:{},draw:function(F,_){return this.drawShape(F,_)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(F){return F.controlPoints},getAnchorPoints:function(F){var _=this.options.anchorPoints;return F.anchorPoints||_}},oo=function(){function ge(){}return ge.registerFactory=function(F,_){var $=Ca(F),dt=La,Gt=Object(s.a)(Object(s.a)({},dt),_);return ge[$]=Gt,Gt.className=$,Gt},ge.getFactory=function(F){return ge[Ca(F)]},ge.registerNode=function(F,_,$){var dt,Gt=ge.Node;if(typeof _=="string"||typeof _=="function"){var Jt=Ji(_);dt=Object(s.a)(Object(s.a)({},Gt.getShape("single-node")),Jt)}else if(_.jsx)Jt=Ji(_.jsx),dt=Object(s.a)(Object(s.a)(Object(s.a)({},Gt.getShape("single-node")),Jt),_);else{Gt.getShape($);var ce=$?Gt.getShape($):Ba;dt=Object(s.a)(Object(s.a)({},ce),_)}return dt.type=F,dt.itemType="node",Gt[F]=dt,dt},ge.registerEdge=function(F,_,$){var dt=ge.Edge,Gt=$?dt.getShape($):Ba,Jt=Object(s.a)(Object(s.a)({},Gt),_);return Jt.type=F,Jt.itemType="edge",dt[F]=Jt,Jt},ge.registerCombo=function(F,_,$){var dt=ge.Combo,Gt=$?dt.getShape($):Ba,Jt=Object(s.a)(Object(s.a)({},Gt),_);return Jt.type=F,Jt.itemType="combo",dt[F]=Jt,Jt},ge}(),Yr=oo;oo.registerFactory("node",{defaultShapeType:"circle"}),oo.registerFactory("edge",{defaultShapeType:"line"}),oo.registerFactory("combo",{defaultShapeType:"circle"});var $a=["startArrow","endArrow"],Ma=function(){function ge(F){this._cfg={},this.destroyed=!1;var _={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(_,this.getDefaultCfg(),F);var $=this.get("model"),dt=$.id,Gt=this.get("type");dt||(dt=Ft(Gt),this.get("model").id=dt),this.set("id",dt);var Jt=F.group;Jt&&(Jt.set("item",this),Jt.set("id",dt)),this.init(),this.draw();var ce=$.shape||$.type||(Gt==="edge"?"line":"circle"),fe=this.get("shapeFactory");if(fe&&fe[ce]){var De=fe[ce].options;if(De&&De.stateStyles){var We=this.get("styles")||$.stateStyles;We=Object(h.e)({},De.stateStyles,We),this.set("styles",We)}}}return ge.prototype.calculateBBox=function(){var F=this.get("keyShape"),_=this.get("group"),$=Xn(F,_);return $.x=$.minX,$.y=$.minY,$.width=$.maxX-$.minX,$.height=$.maxY-$.minY,$.centerX=($.minX+$.maxX)/2,$.centerY=($.minY+$.maxY)/2,$},ge.prototype.calculateCanvasBBox=function(){var F=this.get("keyShape"),_=this.get("group"),$=Xn(F,_);return $.x=$.minX,$.y=$.minY,$.width=$.maxX-$.minX,$.height=$.maxY-$.minY,$.centerX=($.minX+$.maxX)/2,$.centerY=($.minY+$.maxY)/2,$},ge.prototype.drawInner=function(){var F=this.get("shapeFactory"),_=this.get("group"),$=this.get("model");_.clear();var dt=$.visible;if(dt===void 0||dt||this.changeVisibility(dt),F){this.updatePosition($);var Gt=this.getShapeCfg($),Jt=Gt.type,ce=F.draw(Jt,Gt,_);ce&&(this.set("keyShape",ce),ce.set("isKeyShape",!0),ce.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",Jt),this.restoreStates(F,Jt)}},ge.prototype.setOriginStyle=function(F){var _=this.get("group").get("children"),$=this.getKeyShape(),dt=this,Gt=$.get("name");if(this.get("originStyle")){var Jt=this.getOriginStyle();Gt&&!Jt[Gt]&&(Jt[Gt]={});var ce=this.getCurrentStatesStyle();Object(h.f)(_,function(De){var We=De.get("name"),sn=De.attr();if(We&&We!==Gt){var Dn=ce[We];Jt[We]||(Jt[We]={}),Dn?Object.keys(sn).forEach(function(Ae){var Ht=sn[Ae];Ht!==Dn[Ae]&&(Jt[We][Ae]=Ht)}):Jt[We]=Object(h.c)(sn)}else{var Yt=De.attr(),Zt=Object(s.a)(Object(s.a)({},ce),ce[Gt]);Object.keys(Yt).forEach(function(Ae){var Ht=Yt[Ae];Object(h.w)(Ht)&&$a.indexOf(We)===-1||Zt[Ae]!==Ht&&(Gt?Jt[Gt][Ae]=Ht:Jt[Ae]=Ht)})}}),Jt.path&&delete Jt.path,Jt.matrix&&delete Jt.matrix,dt.set("originStyle",Jt)}else{var fe={};Object(h.f)(_,function(De){var We=De.get("type"),sn=De.get("name");if(sn&&sn!==Gt)fe[sn]=We!=="image"?Object(h.c)(De.attr()):dt.getShapeStyleByName(sn);else{var Dn=dt.getShapeStyleByName();if(Dn.path&&delete Dn.path,Dn.matrix&&delete Dn.matrix,Gt)if(sn)fe[Gt]=Dn;else{var Yt=Ft("shape");De.set("name",Yt),fe[Yt]=We!=="image"?Object(h.c)(De.attr()):dt.getShapeStyleByName(sn)}else Object.assign(fe,Dn)}}),dt.set("originStyle",fe)}},ge.prototype.restoreStates=function(F,_){var $=this,dt=$.get("states");Object(h.f)(dt,function(Gt){F.setState(_,Gt,!0,$)})},ge.prototype.init=function(){var F=Yr.getFactory(this.get("type"));this.set("shapeFactory",F)},ge.prototype.get=function(F){return this._cfg[F]},ge.prototype.set=function(F,_){Object(h.w)(F)?this._cfg=Object(s.a)(Object(s.a)({},this._cfg),F):this._cfg[F]=_},ge.prototype.getDefaultCfg=function(){return{}},ge.prototype.clearCache=function(){this.set("bboxCache",null),this.set("bboxCanvasCache",null)},ge.prototype.beforeDraw=function(){},ge.prototype.afterDraw=function(){},ge.prototype.afterUpdate=function(){},ge.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},ge.prototype.getShapeStyleByName=function(F){var _,$=this.get("group");if(_=F?$.find(function(Gt){return Gt.get("name")===F}):this.getKeyShape()){var dt={};return Object(h.f)(_.attr(),function(Gt,Jt){Jt!=="img"&&(dt[Jt]=Gt)}),dt}return{}},ge.prototype.getShapeCfg=function(F){var _=this.get("styles");if(_){var $=F;return $.style=Object(s.a)(Object(s.a)({},_),F.style),$}return F},ge.prototype.getStateStyle=function(F){var _=this.get("styles");return _&&_[F]},ge.prototype.getOriginStyle=function(){return this.get("originStyle")},ge.prototype.getCurrentStatesStyle=function(){var F=this,_={},$=F.getStates();return $&&$.length?(Object(h.f)(F.getStates(),function(dt){_=Object.assign(_,F.getStateStyle(dt))}),_):this.getOriginStyle()},ge.prototype.setState=function(F,_){var $=this.get("states"),dt=this.get("shapeFactory"),Gt=F,Jt=F;Object(h.x)(_)&&(Gt=F+":"+_,Jt=F+":");var ce=$;if(Object(h.n)(_)){var fe=$.indexOf(Jt);if(_){if(fe>-1)return;$.push(Gt)}else fe>-1&&$.splice(fe,1)}else if(Object(h.x)(_)){var De=$.filter(function(sn){return sn.includes(Jt)});De.length>0&&this.clearStates(De),(ce=ce.filter(function(sn){return!sn.includes(Jt)})).push(Gt),this.set("states",ce)}if(dt){var We=this.get("model").type;dt.setState(We,F,_,this)}},ge.prototype.clearStates=function(F){var _=this,$=_.getStates(),dt=_.get("shapeFactory"),Gt=_.get("model").type;F||(F=$),Object(h.x)(F)&&(F=[F]);var Jt=$.filter(function(ce){return F.indexOf(ce)===-1});_.set("states",Jt),F.forEach(function(ce){dt.setState(Gt,ce,!1,_)})},ge.prototype.getContainer=function(){return this.get("group")},ge.prototype.getKeyShape=function(){return this.get("keyShape")},ge.prototype.getModel=function(){return this.get("model")},ge.prototype.getType=function(){return this.get("type")},ge.prototype.getID=function(){return this.get("id")},ge.prototype.isItem=function(){return!0},ge.prototype.getStates=function(){return this.get("states")},ge.prototype.hasState=function(F){return this.getStates().indexOf(F)>=0},ge.prototype.refresh=function(){var F=this.get("model");this.updatePosition(F),this.updateShape(),this.afterUpdate(),this.clearCache()},ge.prototype.isOnlyMove=function(F){return!1},ge.prototype.update=function(F,_){_===void 0&&(_=!1);var $=this.get("model"),dt=$.visible,Gt=F.visible;dt!==Gt&&Gt!==void 0&&this.changeVisibility(Gt);var Jt=$.x,ce=$.y;F.x=isNaN(F.x)?$.x:F.x,F.y=isNaN(F.y)?$.y:F.y;var fe=this.get("styles");if(F.stateStyles){var De=F.stateStyles;Object(h.A)(fe,De),delete F.stateStyles}Object.assign($,F),_?this.updatePosition(F):(Jt===F.x&&ce===F.y||this.updatePosition(F),this.updateShape()),this.afterUpdate(),this.clearCache()},ge.prototype.updateShape=function(){var F=this.get("shapeFactory"),_=this.get("model"),$=_.type;if(F.shouldUpdate($)&&$===this.get("currentShape")){var dt=this.getShapeCfg(_);F.baseUpdate($,dt,this)}else this.draw();this.setOriginStyle(_),this.restoreStates(F,$)},ge.prototype.updatePosition=function(F){var _=this.get("model"),$=Object(h.s)(F.x)?_.x:F.x,dt=Object(h.s)(F.y)?_.y:F.y,Gt=this.get("group");Object(h.s)($)||Object(h.s)(dt)||(Gt.resetMatrix(),rt(Gt,{x:$,y:dt}),_.x=$,_.y=dt,this.clearCache())},ge.prototype.getBBox=function(){var F=this.get("bboxCache");return F||(F=this.calculateBBox(),this.set("bboxCache",F)),F},ge.prototype.getCanvasBBox=function(){var F=this.get("bboxCanvasCache");return F||(F=this.calculateCanvasBBox(),this.set("bboxCanvasCache",F)),F},ge.prototype.toFront=function(){this.get("group").toFront()},ge.prototype.toBack=function(){this.get("group").toBack()},ge.prototype.show=function(){this.changeVisibility(!0)},ge.prototype.hide=function(){this.changeVisibility(!1)},ge.prototype.changeVisibility=function(F){var _=this.get("group");F?_.show():_.hide(),this.set("visible",F)},ge.prototype.isVisible=function(){return this.get("visible")},ge.prototype.enableCapture=function(F){var _=this.get("group");_&&_.set("capture",F)},ge.prototype.destroy=function(){if(!this.destroyed){var F=this.get("animate"),_=this.get("group");F&&_.stopAnimate(),this.clearCache(),_.remove(),this._cfg=null,this.destroyed=!0}},ge}(),to={source:"start",target:"end"},Aa=function(ge){function F(){return ge!==null&&ge.apply(this,arguments)||this}return Object(s.b)(F,ge),F.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},F.prototype.setEnd=function(_,$){var dt=to[_]+"Point",Gt=_+"Node",Jt=this.get(Gt);Jt&&!Jt.destroyed&&Jt.removeEdge(this),Object(h.w)($)?(this.set(dt,$),this.set(Gt,null)):($.addEdge(this),this.set(Gt,$),this.set(dt,null))},F.prototype.getLinkPoint=function(_,$,dt){var Gt=to[_]+"Point",Jt=_+"Node",ce=this.get(Gt);if(!ce){var fe=this.get(Jt),De=_+"Anchor",We=this.getPrePoint(_,dt),sn=$[De];Object(h.s)(sn)||(ce=fe.getLinkPointByAnchor(sn)),ce=ce||fe.getLinkPoint(We),Object(h.s)(ce.index)||this.set(_+"AnchorIndex",ce.index)}return ce},F.prototype.getPrePoint=function(_,$){if($&&$.length)return $[_==="source"?0:$.length-1];var dt=_==="source"?"target":"source";return this.getEndPoint(dt)},F.prototype.getEndPoint=function(_){var $=_+"Node",dt=to[_]+"Point",Gt=this.get($);return Gt?Gt.get("model"):this.get(dt)},F.prototype.getControlPointsByCenter=function(_){var $=this.getEndPoint("source"),dt=this.getEndPoint("target"),Gt=this.get("shapeFactory"),Jt=_.type;return Gt.getControlPoints(Jt,{startPoint:$,endPoint:dt})},F.prototype.getEndCenter=function(_){var $=_+"Node",dt=to[_]+"Point",Gt=this.get($);if(Gt){var Jt=Gt.getBBox();return{x:Jt.centerX,y:Jt.centerY}}return this.get(dt)},F.prototype.init=function(){ge.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},F.prototype.getShapeCfg=function(_){var $=this.get("linkCenter"),dt=ge.prototype.getShapeCfg.call(this,_);if($)dt.startPoint=this.getEndCenter("source"),dt.endPoint=this.getEndCenter("target");else{var Gt=dt.controlPoints||this.getControlPointsByCenter(dt);dt.startPoint=this.getLinkPoint("source",_,Gt),dt.endPoint=this.getLinkPoint("target",_,Gt)}return dt.sourceNode=this.get("sourceNode"),dt.targetNode=this.get("targetNode"),dt},F.prototype.getModel=function(){var _=this.get("model"),$=this.get("sourceNode"),dt=this.get("targetNode");return $?delete _.sourceNode:_.source=this.get("startPoint"),dt?delete _.targetNode:_.target=this.get("endPoint"),Object(h.x)(_.source)||Object(h.w)(_.source)||(_.source=_.source.getID()),Object(h.x)(_.target)||Object(h.w)(_.target)||(_.target=_.target.getID()),_},F.prototype.setSource=function(_){this.setEnd("source",_),this.set("source",_)},F.prototype.setTarget=function(_){this.setEnd("target",_),this.set("target",_)},F.prototype.getSource=function(){return this.get("source")},F.prototype.getTarget=function(){return this.get("target")},F.prototype.updatePosition=function(){},F.prototype.update=function(_,$){$===void 0&&($=!1);var dt=this.get("model"),Gt=dt.visible,Jt=_.visible;Gt!==Jt&&Jt!==void 0&&this.changeVisibility(Jt);var ce=this.get("styles");if(_.stateStyles){var fe=_.stateStyles;Object(h.A)(ce,fe),delete _.stateStyles}Object.assign(dt,_),this.updateShape(),this.afterUpdate(),this.clearCache()},F.prototype.destroy=function(){var _=this.get("sourceNode"),$=this.get("targetNode");_&&!_.destroyed&&_.removeEdge(this),$&&!$.destroyed&&$.removeEdge(this),ge.prototype.destroy.call(this)},F}(Ma),Vr=function(ge){function F(){return ge!==null&&ge.apply(this,arguments)||this}return Object(s.b)(F,ge),F.prototype.getNearestPoint=function(_,$){for(var dt=0,Gt=_[0],Jt=st(_[0],$),ce=0;ce<_.length;ce++){var fe=_[ce],De=st(fe,$);De<Jt&&(Gt=fe,Jt=De,dt=ce)}return Gt.anchorIndex=dt,Gt},F.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},F.prototype.getEdges=function(){return this.get("edges")},F.prototype.getInEdges=function(){var _=this;return this.get("edges").filter(function($){return $.get("target")===_})},F.prototype.getOutEdges=function(){var _=this;return this.get("edges").filter(function($){return $.get("source")===_})},F.prototype.getNeighbors=function(_){var $=this,dt=this.get("edges");return _==="target"?dt.filter(function(Gt){return Gt.getSource()===$}).map(function(Gt){return Gt.getTarget()}):_==="source"?dt.filter(function(Gt){return Gt.getTarget()===$}).map(function(Gt){return Gt.getSource()}):dt.map(function(Gt){return Gt.getSource()===$?Gt.getTarget():Gt.getSource()})},F.prototype.getLinkPointByAnchor=function(_){return this.getAnchorPoints()[_]},F.prototype.getLinkPoint=function(_){var $,dt,Gt=this.get("keyShape").get("type"),Jt=this.get("type"),ce=this.getBBox();Jt==="combo"?($=ce.centerX||(ce.maxX+ce.minX)/2,dt=ce.centerY||(ce.maxY+ce.minY)/2):($=ce.centerX,dt=ce.centerY);var fe,De=this.getAnchorPoints();switch(Gt){case"circle":fe=k({x:$,y:dt,r:ce.width/2},_);break;case"ellipse":fe=X({x:$,y:dt,rx:ce.width/2,ry:ce.height/2},_);break;default:fe=A(ce,_)}var We=fe;return De.length&&(We||(We=_),We=this.getNearestPoint(De,We)),We||(We={x:$,y:dt}),We},F.prototype.getAnchorPoints=function(){var _=this.get("anchorPointsCache");if(!_){_=[];var $=this.get("shapeFactory"),dt=this.getBBox(),Gt=this.get("model"),Jt=this.getShapeCfg(Gt),ce=Gt.type,fe=$.getAnchorPoints(ce,Jt)||[];Object(h.f)(fe,function(De,We){var sn={x:dt.minX+De[0]*dt.width,y:dt.minY+De[1]*dt.height,anchorIndex:We};_.push(sn)}),this.set("anchorPointsCache",_)}return _},F.prototype.addEdge=function(_){this.get("edges").push(_)},F.prototype.lock=function(){this.set("locked",!0)},F.prototype.unlock=function(){this.set("locked",!1)},F.prototype.hasLocked=function(){return this.get("locked")},F.prototype.removeEdge=function(_){var $=this.getEdges(),dt=$.indexOf(_);dt>-1&&$.splice(dt,1)},F.prototype.clearCache=function(){this.set("bboxCache",null),this.set("anchorPointsCache",null)},F.prototype.isOnlyMove=function(_){if(!_)return!1;var $=!Object(h.s)(_.x),dt=!Object(h.s)(_.y),Gt=Object.keys(_);return Gt.length===1&&($||dt)||Gt.length===2&&$&&dt},F}(Ma),Pi=function(ge){function F(){return ge!==null&&ge.apply(this,arguments)||this}return Object(s.b)(F,ge),F.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},F.prototype.getShapeCfg=function(_){var $=this.get("styles"),dt=this.get("bbox");if($&&dt){var Gt=_,Jt={r:Math.hypot(dt.height,dt.width)/2||At.defaultCombo.size[0]/2,width:dt.width||At.defaultCombo.size[0],height:dt.height||At.defaultCombo.size[1]};Gt.style=Object(s.a)(Object(s.a)(Object(s.a)({},$),_.style),Jt);var ce=_.padding||At.defaultCombo.padding;return Object(h.t)(ce)?(Jt.r+=ce,Jt.width+=2*ce,Jt.height+=2*ce):(Jt.r+=ce[0],Jt.width+=ce[1]+ce[3]||2*ce[1],Jt.height+=ce[0]+ce[2]||2*ce[0]),this.set("sizeCache",Jt),Gt}return _},F.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var _=this.get("keyShape"),$=this.get("group"),dt=Xn(_,$);dt.centerX=(dt.minX+dt.maxX)/2,dt.centerY=(dt.minY+dt.maxY)/2;var Gt=this.get("sizeCache"),Jt=this.get("bboxCache")||{},ce=Jt.x,fe=Jt.x;return Gt?(_.get("type")==="circle"?(dt.width=2*Gt.r,dt.height=2*Gt.r):(dt.width=Gt.width,dt.height=Gt.height),dt.minX=dt.centerX-dt.width/2,dt.minY=dt.centerY-dt.height/2,dt.maxX=dt.centerX+dt.width/2,dt.maxY=dt.centerY+dt.height/2):(dt.width=dt.maxX-dt.minX,dt.height=dt.maxY-dt.minY,dt.centerX=(dt.minX+dt.maxX)/2,dt.centerY=(dt.minY+dt.maxY)/2),dt.x=dt.minX,dt.y=dt.minY,dt.x===ce&&dt.y===fe||this.set("anchorPointsCache",null),dt}},F.prototype.getChildren=function(){return{nodes:this.getNodes(),combos:this.getCombos()}},F.prototype.getNodes=function(){return this.get("nodes")},F.prototype.getCombos=function(){return this.get("combos")},F.prototype.addChild=function(_){switch(_.getType()){case"node":this.addNode(_);break;case"combo":this.addCombo(_);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},F.prototype.addCombo=function(_){return this.get("combos").push(_),!0},F.prototype.addNode=function(_){return this.get("nodes").push(_),!0},F.prototype.removeChild=function(_){switch(_.getType()){case"node":this.removeNode(_);break;case"combo":this.removeCombo(_);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},F.prototype.removeCombo=function(_){if(_){var $=this.getCombos(),dt=$.indexOf(_);return dt>-1&&($.splice(dt,1),!0)}},F.prototype.removeNode=function(_){if(_){var $=this.getNodes(),dt=$.indexOf(_);return dt>-1&&($.splice(dt,1),!0)}},F.prototype.isOnlyMove=function(_){return!1},F.prototype.getBBox=function(){return this.set("bboxCanvasCache",null),this.calculateCanvasBBox()},F.prototype.clearCache=function(){this.set("bboxCache",null),this.set("bboxCanvasCache",null),this.set("anchorPointsCache",null)},F.prototype.destroy=function(){if(!this.destroyed){var _=this.get("animate"),$=this.get("group");_&&$.stopAnimate(),this.clearCache(),this.set("sizeCache",null),this.set("bbox",null),$.remove(),this._cfg=null,this.destroyed=!0}},F}(Vr),wi=function(){function ge(F){this.graph=F,this.destroyed=!1}return ge.prototype.addItem=function(F,_){var $=this,dt=this.graph,Gt=F==="vedge"?"edge":F,Jt=dt.get(Gt+"Group")||dt.get("group"),ce=Object(h.I)(Gt),fe=null,De=dt.get(Gt+Object(h.I)("stateStyles"))||{},We=dt.get("default"+ce);_.stateStyles&&(De=_.stateStyles),We&&Object(h.f)(We,function(Qn,fr){Object(h.v)(Qn)&&!Object(h.m)(Qn)?_[fr]=Object(h.e)({},Qn,_[fr]):Object(h.m)(Qn)?_[fr]=_[fr]||Object(h.c)(We[fr]):_[fr]=_[fr]||We[fr]});var sn=dt.get(Gt+"Mapper");if(sn){var Dn=sn(_);Dn.stateStyles&&(De=Dn.stateStyles,delete Dn.stateStyles),Object(h.f)(Dn,function(Qn,fr){Object(h.v)(Qn)&&!Object(h.m)(Qn)?_[fr]=Object(h.e)({},_[fr],Qn):_[fr]=Dn[fr]||_[fr]})}if(dt.emit("beforeadditem",{type:F,model:_}),F==="edge"||F==="vedge"){var Yt=void 0,Zt=void 0;if(Yt=_.source,Zt=_.target,Yt&&Object(h.x)(Yt)&&(Yt=dt.findById(Yt)),Zt&&Object(h.x)(Zt)&&(Zt=dt.findById(Zt)),!Yt||!Zt)return void console.warn("The source or target node of edge "+_.id+" does not exist!");Yt.getType&&Yt.getType()==="combo"&&(_.isComboEdge=!0),Zt.getType&&Zt.getType()==="combo"&&(_.isComboEdge=!0),fe=new Aa({model:_,source:Yt,target:Zt,styles:De,linkCenter:dt.get("linkCenter"),group:Jt.addGroup()})}else if(F==="node")fe=new Vr({model:_,styles:De,group:Jt.addGroup()});else if(F==="combo"){var Ae=_.children,Ht=Dr(Ae,dt);_.x=Ht.x||_.x||100*Math.random(),_.y=Ht.y||_.y||100*Math.random();var he=Jt.addGroup();he.setZIndex(_.depth);var En=(fe=new Pi({model:_,styles:De,bbox:Ht,group:he})).getModel();(Ae||[]).forEach(function(Qn){var fr=dt.findById(Qn.id);fe.addChild(fr),Qn.depth=En.depth+2}),_.collapsed&&setTimeout(function(){dt.collapseCombo(fe),$.updateCombo(fe,[])},250)}if(fe)return dt.get(F+"s").push(fe),dt.get("itemMap")[fe.get("id")]=fe,dt.emit("afteradditem",{item:fe,model:_}),fe},ge.prototype.updateItem=function(F,_){var $,dt,Gt=this.graph;if(Object(h.x)(F)&&(F=Gt.findById(F)),F&&!F.destroyed){var Jt="";F.getType&&(Jt=F.getType());var ce=Gt.get(Jt+"Mapper"),fe=F.getModel(),De=F.isOnlyMove(_);if(ce){var We=ce(Object(h.e)({},fe,_)),sn=Object(h.e)({},fe,We,_);We.stateStyles&&(F.set("styles",sn.stateStyles),delete sn.stateStyles),Object(h.f)(sn,function(En,Qn){_[Qn]=En})}else Object(h.f)(_,function(En,Qn){fe[Qn]&&Object(h.v)(En)&&!Object(h.m)(En)&&(_[Qn]=Object(s.a)(Object(s.a)({},fe[Qn]),_[Qn]))});if(Gt.emit("beforeupdateitem",{item:F,cfg:_}),Jt==="edge"){if(_.source){var Dn=_.source;Object(h.x)(Dn)&&(Dn=Gt.findById(Dn)),F.setSource(Dn)}if(_.target){var Yt=_.target;Object(h.x)(Yt)&&(Yt=Gt.findById(Yt)),F.setTarget(Yt)}F.update(_)}if(Jt==="node"||Jt==="combo"){F.update(_,De);var Zt=F.getEdges(),Ae=hi(_);if(Ae&&Jt==="node")Object(h.f)(Zt,function(En){En.refresh()});else if(Ae&&Jt==="combo"){var Ht=F.get("shapeFactory"),he=fe.type||"circle";(fe.animate===void 0||_.animate===void 0?(dt=($=Ht[he])===null||$===void 0?void 0:$.options)===null||dt===void 0?void 0:dt.animate:fe.animate||_.animate)?setTimeout(function(){if(F&&!F.destroyed){var En=F.getKeyShape();En&&!En.destroyed&&Object(h.f)(Zt,function(Qn){Qn&&!Qn.destroyed&&Qn.refresh()})}},201):Object(h.f)(Zt,function(En){En.refresh()})}}Gt.emit("afterupdateitem",{item:F,cfg:_})}},ge.prototype.updateCombo=function(F,_){var $,dt,Gt=this.graph;if(Object(h.x)(F)&&(F=Gt.findById(F)),F&&!F.destroyed){var Jt=Dr(_,Gt);F.set("bbox",Jt),F.update({x:Jt.x,y:Jt.y});var ce=F.getEdges()||[],fe=ce.length,De=F.getModel(),We=F.get("shapeFactory"),sn=De.type||"circle";if(De.animate===void 0?(dt=($=We[sn])===null||$===void 0?void 0:$.options)===null||dt===void 0?void 0:dt.animate:De.animate)setTimeout(function(){if(F&&!F.destroyed){var Zt=F.getKeyShape();if(Zt&&!Zt.destroyed)for(var Ae=0;Ae<fe;Ae++){var Ht=ce[Ae];Ht&&!Ht.destroyed&&Ht.refresh()}}},201);else for(var Dn=0;Dn<fe;Dn++){var Yt=ce[Dn];Yt&&!Yt.destroyed&&Yt.refresh()}}},ge.prototype.collapseCombo=function(F){var _=this.graph;Object(h.x)(F)&&(F=_.findById(F));var $=F.getChildren();$.nodes.forEach(function(dt){_.hideItem(dt)}),$.combos.forEach(function(dt){_.hideItem(dt)})},ge.prototype.expandCombo=function(F){var _=this.graph;Object(h.x)(F)&&(F=_.findById(F));var $=F.getChildren();$.nodes.forEach(function(dt){_.showItem(dt)}),$.combos.forEach(function(dt){dt.getModel().collapsed?dt.show():_.showItem(dt)})},ge.prototype.removeItem=function(F){var _=this,$=this.graph;if(Object(h.x)(F)&&(F=$.findById(F)),F&&!F.destroyed){var dt=Object(h.c)(F.getModel());$.emit("beforeremoveitem",{item:dt});var Gt="";F.getType&&(Gt=F.getType());var Jt=$.get(Gt+"s"),ce=Jt.indexOf(F);if(ce>-1&&Jt.splice(ce,1),Gt==="edge"){var fe=$.get("v"+Gt+"s"),De=fe.indexOf(F);De>-1&&fe.splice(De,1)}var We=F.get("id");delete $.get("itemMap")[We];var sn=$.get("comboTrees"),Dn=F.get("id");if(Gt==="node"){var Yt=F.getModel().comboId;if(sn){var Zt=sn,Ae=!1;sn.forEach(function(ar){Ae||ir(ar,function(an){if(an.id===Dn&&Zt){var Re=Zt.indexOf(an);return Zt.splice(Re,1),Ae=!0,!1}return Zt=an.children,!0})})}for(var Ht=(fr=F.getEdges()).length-1;Ht>=0;Ht--)$.removeItem(fr[Ht],!1);Yt&&$.updateCombo(Yt)}else if(Gt==="combo"){var he,En=F.getModel().parentId,Qn=!1;(sn||[]).forEach(function(ar){Qn||ir(ar,function(an){return an.id!==Dn||(he=an,Qn=!0,!1)})}),he.removed=!0,he&&he.children&&he.children.forEach(function(ar){_.removeItem(ar.id)});var fr;for(Ht=(fr=F.getEdges()).length;Ht>=0;Ht--)$.removeItem(fr[Ht],!1);En&&$.updateCombo(En)}F.destroy(),$.emit("afterremoveitem",{item:dt})}},ge.prototype.setItemState=function(F,_,$){var dt=this.graph,Gt=_;Object(h.x)($)&&(Gt=_+":"+$),F.hasState(Gt)===$&&$||Object(h.x)($)&&F.hasState(Gt)||(dt.emit("beforeitemstatechange",{item:F,state:Gt,enabled:$}),F.setState(_,$),dt.autoPaint(),dt.emit("afteritemstatechange",{item:F,state:Gt,enabled:$}))},ge.prototype.priorityState=function(F,_){var $=this.graph,dt=F;Object(h.x)(F)&&(dt=$.findById(F)),this.setItemState(dt,_,!1),this.setItemState(dt,_,!0)},ge.prototype.clearItemStates=function(F,_){var $=this.graph;Object(h.x)(F)&&(F=$.findById(F)),$.emit("beforeitemstatesclear",{item:F,states:_}),F.clearStates(_),$.emit("afteritemstatesclear",{item:F,states:_})},ge.prototype.refreshItem=function(F){var _=this.graph;Object(h.x)(F)&&(F=_.findById(F)),_.emit("beforeitemrefresh",{item:F}),F.refresh(),_.emit("afteritemrefresh",{item:F})},ge.prototype.addCombos=function(F,_){var $=this,dt=this.graph;(F||[]).forEach(function(Jt){dr(Jt,function(ce){var fe;return _.forEach(function(De){De.id===ce.id&&(De.children=ce.children,De.depth=ce.depth,fe=De)}),fe&&$.addItem("combo",fe),!0})});var Gt=dt.get("comboGroup");Gt&&Gt.sort()},ge.prototype.changeItemVisibility=function(F,_){var $=this,dt=this.graph;if(Object(h.x)(F)&&(F=dt.findById(F)),F){if(dt.emit("beforeitemvisibilitychange",{item:F,visible:_}),F.changeVisibility(_),F.getType&&F.getType()==="node"){var Gt=F.getEdges();Object(h.f)(Gt,function(We){(!_||We.get("source").isVisible()&&We.get("target").isVisible())&&$.changeItemVisibility(We,_)})}else if(F.getType&&F.getType()==="combo"){var Jt=dt.get("comboTrees"),ce=F.get("id"),fe=[],De=!1;(Jt||[]).forEach(function(We){De||We.children&&We.children.length!==0&&ir(We,function(sn){return sn.id!==ce||(fe=sn.children,De=!0,!1)})}),fe&&fe.forEach(function(We){var sn=dt.findById(We.id);$.changeItemVisibility(sn,_)}),Gt=F.getEdges(),Object(h.f)(Gt,function(We){(!_||We.get("source").isVisible()&&We.get("target").isVisible())&&$.changeItemVisibility(We,_)})}return dt.emit("afteritemvisibilitychange",{item:F,visible:_}),F}console.warn("The item to be shown or hidden does not exist!")},ge.prototype.destroy=function(){this.graph=null,this.destroyed=!0},ge}(),Ei=null,bi=function(){function ge(F){this.graph=F,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return ge.checkCache=function(F,_,$){if($[_]){var dt=$[_].indexOf(F);dt>=0&&$[_].splice(dt,1)}},ge.cacheState=function(F,_,$){$[_]||($[_]=[]),$[_].push(F)},ge.prototype.updateState=function(F,_,$){var dt=this,Gt=ge.checkCache,Jt=ge.cacheState;if(!F.destroyed){var ce=this.cachedStates,fe=ce.enabled,De=ce.disabled;$?(Gt(F,_,De),Jt(F,_,fe)):(Gt(F,_,fe),Jt(F,_,De)),Ei&&clearTimeout(Ei),Ei=setTimeout(function(){Ei=null,dt.updateGraphStates()},16)}},ge.prototype.updateStates=function(F,_,$){var dt=this;Object(h.x)(_)?this.updateState(F,_,$):_.forEach(function(Gt){dt.updateState(F,Gt,$)})},ge.prototype.updateGraphStates=function(){var F=this.graph.get("states"),_=this.cachedStates;Object(h.f)(_.disabled,function($,dt){F[dt]&&(F[dt]=F[dt].filter(function(Gt){return $.indexOf(Gt)<0&&!$.destroyed}))}),Object(h.f)(_.enabled,function($,dt){if(F[dt]){var Gt={};F[dt].forEach(function(Jt){Jt.destroyed||(Gt[Jt.get("id")]=!0)}),$.forEach(function(Jt){if(!Jt.destroyed){var ce=Jt.get("id");Gt[ce]||(Gt[ce]=!0,F[dt].push(Jt))}})}else F[dt]=$}),this.graph.emit("graphstatechange",{states:F}),this.cachedStates={enabled:{},disabled:{}}},ge.prototype.destroy=function(){this.graph=null,this.cachedStates=null,Ei&&clearTimeout(Ei),Ei=null,this.destroyed=!0},ge}(),Di=t(31),Fi=function(F,_){return F&&_?F.replace(/\\?\{([^{}]+)\}/g,function($,dt){if($.charAt(0)==="\\")return $.slice(1);var Gt=_[dt];return Gt===0&&(Gt="0"),Gt||""}):F},Ni=function(F){var _=[];if(F.length<2)throw new Error("point length must largn than 2, now it's "+F.length);for(var $=0,dt=F;$<dt.length;$++){var Gt=dt[$],Jt=Gt.x,ce=Gt.y;_.push(Jt),_.push(ce)}var fe=Object(Di.a)(_);return fe.unshift(["M",F[0].x,F[0].y]),fe},ji=function(F,_,$,dt){$===void 0&&($=0),dt===void 0&&(dt=0);var Gt={x:(1-$)*F.x+$*_.x,y:(1-$)*F.y+$*_.y},Jt=[0,0];v.c.normalize(Jt,[_.x-F.x,_.y-F.y]),Jt&&(Jt[0]||Jt[1])||(Jt=[0,0]);var ce=[-Jt[1]*dt,Jt[0]*dt];return Gt.x+=ce[0],Gt.y+=ce[1],Gt},Xi=function(F,_){var $=F.length;if(!$)return"";for(var dt="",Gt=0;Gt<$;Gt++){var Jt=F[Gt];dt+=Fi(Gt===0?"M{x} {y}":"L{x} {y}",Jt)}return _&&(dt+="Z"),dt},Ki=function(F){var _=[];return F.forEach(function($){if($[0]!=="A")for(var dt=1;dt<$.length;dt+=2)_.push([$[dt],$[dt+1]]);else{var Gt=$.length;_.push([$[Gt-2],$[Gt-1]])}}),_},la=function(F){if(F.length<2)throw new Error("point length must largn than 2, now it's "+F.length);var _=F[0],$=F[1],dt=F[F.length-1],Gt=F[F.length-2];F.unshift(dt),F.unshift(Gt),F.push(_),F.push($);for(var Jt=[],ce=1;ce<F.length-2;ce+=1){var fe=F[ce-1].x,De=F[ce-1].y,We=F[ce].x,sn=F[ce].y,Dn=F[ce+1].x,Yt=F[ce+1].y,Zt=We+(Dn-fe)/6,Ae=sn+(Yt-De)/6,Ht=Dn-((ce!==F.length-2?F[ce+2].x:Dn)-We)/6,he=Yt-((ce!==F.length-2?F[ce+2].y:Yt)-sn)/6;Jt.push(["C",Zt,Ae,Ht,he,Dn,Yt])}return Jt.unshift(["M",dt.x,dt.y]),Jt},ta=function(F,_){return v.c.scale([0,0],v.c.normalize([0,0],F),_)},ma=function(F,_){var $=[F[1]-_[1],_[0]-F[0]],dt=Math.sqrt($[0]*$[0]+$[1]*$[1]);if(dt===0)throw new Error("p0 should not be equal to p1");return[$[0]/dt,$[1]/dt]},Oa=function(F,_){return[_[0]-F[0],_[1]-F[1]]};function uo(ge,F){if(!ge||ge.length<1)return"";if(ge.length===1)return function(fe){var De=[fe[0][0],fe[0][1]-F],We=[fe[0][0],fe[0][1]+F];return"M "+De+" A "+F+","+F+",0,0,0,"+We+" A "+F+","+F+",0,0,0,"+De}(ge);if(ge.length===2)return function(fe){var De=v.c.scale([0,0],ma(fe[0],fe[1]),F),We=v.c.scale([0,0],De,-1),sn=v.c.add([0,0],fe[0],De),Dn=v.c.add([0,0],fe[1],De),Yt=v.c.add([0,0],fe[1],We),Zt=v.c.add([0,0],fe[0],We);return"M "+sn+" L "+Dn+" A "+[F,F,"0,0,0",Yt].join(",")+" L "+Zt+" A "+[F,F,"0,0,0",sn].join(",")}(ge);for(var _=new Array(ge.length),$=0;$<_.length;++$){var dt=$===0?ge[ge.length-1]:ge[$-1],Gt=ge[$],Jt=v.c.scale([0,0],ma(dt,Gt),F);_[$]=[v.c.add([0,0],dt,Jt),v.c.add([0,0],Gt,Jt)]}var ce="A "+[F,F,"0,0,0,"].join(",");return(_=_.map(function(fe,De){var We="";return De===0&&(We="M "+_[_.length-1][1]+" "),We+=ce+fe[0]+" L "+fe[1]})).join(" ")}function sa(ge,F){var _,$,dt,Gt=ge.length;if(!ge||Gt<1)return"";if(Gt===1)return $=[(_=ge)[0][0],_[0][1]-F],dt=[_[0][0],_[0][1]+F],"M "+$+" A "+[F,F,"0,0,0",dt].join(",")+" A "+[F,F,"0,0,0",$].join(",");if(Gt===2)return function(We){var sn=Oa(We[0],We[1]),Dn=ta(sn,F),Yt=v.c.add([0,0],We[0],v.c.scale([0,0],Dn,-1)),Zt=v.c.add([0,0],We[1],Dn),Ae=1.2*F,Ht=ta(v.c.normalize([0,0],sn),Ae),he=v.c.scale([0,0],Ht,-1),En=v.c.add([0,0],Yt,he),Qn=v.c.add([0,0],Zt,he),fr=v.c.add([0,0],Yt,Ht);return"M "+Yt+" C "+[En,Qn,Zt].join(",")+" S "+[fr,Yt].join(",")+" Z"}(ge);for(var Jt=ge.map(function(We,sn){var Dn=ge[(sn+1)%Gt];return{p:We,v:v.c.normalize([0,0],Oa(We,Dn))}}),ce=0;ce<Jt.length;++ce){var fe=ce>0?ce-1:Gt-1,De=v.c.normalize([0,0],v.c.add([0,0],Jt[fe].v,v.c.scale([0,0],Jt[ce].v,-1)));Jt[ce].p=v.c.add([0,0],Jt[ce].p,v.c.scale([0,0],De,F))}return Jt.map(function(We){var sn=We.p;return{x:sn[0],y:sn[1]}})}var Xa=function(F,_,$){return(F.y-$.y)*(_.x-$.x)-(F.x-$.x)*(_.y-$.y)},po=function(F){var _=F.map(function(Jt){return{x:Jt.getModel().x,y:Jt.getModel().y}});if(_.sort(function(Jt,ce){return Jt.x===ce.x?Jt.y-ce.y:Jt.x-ce.x}),_.length===1)return _;for(var $=[],dt=0;dt<_.length;dt++){for(;$.length>=2&&Xa($[$.length-2],$[$.length-1],_[dt])<=0;)$.pop();$.push(_[dt])}var Gt=[];for(dt=_.length-1;dt>=0;dt--){for(;Gt.length>=2&&Xa(Gt[Gt.length-2],Gt[Gt.length-1],_[dt])<=0;)Gt.pop();Gt.push(_[dt])}return Gt.pop(),$.pop(),$.concat(Gt)},bo={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function Mo(ge,F,_){var $=!1,dt=function(fe,De){return F.cells[fe+De*F.width]},Gt=function(fe,De){var We=0;return dt(fe-1,De-1)>=_&&(We+=1),dt(fe,De-1)>_&&(We+=2),dt(fe-1,De)>_&&(We+=4),dt(fe,De)>_&&(We+=8),We},Jt=function(fe,De){for(var We,sn,Dn=fe,Yt=De,Zt=0;Zt<F.width*F.height;Zt++){if(We=Dn,sn=Yt,ge.findIndex(function(Ht){return Ht.x===Dn&&Ht.y===Yt})>-1){if(ge[0].x===Dn&&ge[0].y===Yt)return!0}else ge.push({x:Dn,y:Yt});var Ae=Gt(Dn,Yt);switch(Ae){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:Dn++;break;case 12:case 14:case 4:Dn--;break;case 6:We===0&&(sn===-1?Dn-=1:Dn+=1);break;case 1:case 13:case 5:Yt--;break;case 9:We===1&&(sn===0?Yt-=1:Yt+=1);break;case 10:case 8:case 11:Yt++;break;default:return console.warn("Marching squares invalid state: "+Ae),!0}}};this.march=function(){for(var ce=0;ce<F.width&&!$;ce+=1)for(var fe=0;fe<F.height&&!$;fe+=1)dt(ce,fe)>_&&Gt(ce,fe)!==15&&($=Jt(ce,fe));return $}}var Po=function(F,_){var $=Number.POSITIVE_INFINITY,dt=null;return F.forEach(function(Gt){var Jt=D(Gt,_);Jt>=0&&Jt<$&&(dt=Gt,$=Jt)}),dt};function ue(ge,F,_,$,dt){var Gt=function(Jt,ce,fe){var De=null,We=Number.POSITIVE_INFINITY;return ce.forEach(function(sn){var Dn={x:Jt.getModel().x,y:Jt.getModel().y},Yt={x:sn.getModel().x,y:sn.getModel().y},Zt=P(Dn,Yt),Ae=new Q(Dn.x,Dn.y,Yt.x,Yt.y),Ht=fe.reduce(function(he,En){return D(En,Ae)>0?he+1:he},0);Zt*Math.pow(Ht+1,2)<We&&(De=sn,We=Zt*Math.pow(Ht+1,2))}),De}(ge,_,F);return Gt===null?[]:function(Jt){for(var ce=[];Jt.length>0;){var fe=Jt.pop();if(Jt.length===0){ce.push(fe);break}var De=Jt.pop(),We=new Q(fe.x1,fe.y1,De.x2,De.y2);Po(F,We)?(ce.push(fe),Jt.push(De)):Jt.push(We)}return ce}(function(Jt,ce,fe,De){var We=[],sn=[];sn.push(Jt);for(var Dn=!0,Yt=0,Zt=function(En,Qn){var fr=!1;return Qn.forEach(function(ar){fr||(y(En,{x:ar.x1,y:ar.y1})||y(En,{x:ar.x2,y:ar.y2}))&&(fr=!0)}),fr},Ae=function(En,Qn){for(var fr=0,ar=Qn;fr<ar.length;fr++){var an=ar[fr].getBBox(),Re=[[an.x,an.y],[an.x+an.width,an.y],[an.x,an.y+an.height],[an.x+an.width,an.y+an.height]];if(yt(Re,En.x,En.y))return!0}return!1};Dn&&Yt<fe;){Dn=!1;for(var Ht=function(){var En=sn.pop(),Qn=Po(ce,En);if(Qn){var fr=U(Qn,En),ar=fr[0];if(fr[1]===2){var an=function(L){for(var bt=De,ie=Ce(Qn,bt,ar,L),Ee=Zt(ie,sn)||Zt(ie,We),te=Ae(ie,ce);!Ee&&te&&bt>=1;)ie=Ce(Qn,bt/=1.5,ar,L),Ee=Zt(ie,sn)||Zt(ie,We),te=Ae(ie,ce);!ie||Ee||L&&te||(sn.push(new Q(En.x1,En.y1,ie.x,ie.y)),sn.push(new Q(ie.x,ie.y,En.x2,En.y2)),Dn=!0)};an(!0),Dn||an(!1)}}Dn||We.push(En),Yt+=1};!Dn&&sn.length;)Ht()}for(;sn.length;)We.push(sn.pop());return We}(new Q(ge.getModel().x,ge.getModel().y,Gt.getModel().x,Gt.getModel().y),F,$,dt))}var Qt=function(F,_,$){var dt=Object.assign(bo,$),Gt=W(F.map(function(an){return{x:an.getModel().x,y:an.getModel().y}}));F=F.sort(function(an,Re){return P({x:an.getModel().x,y:an.getModel().y},Gt)-P({x:Re.getModel().x,y:Re.getModel().y},Gt)});var Jt=[],ce=[];F.forEach(function(an){ue(an,_,Jt,dt.maxRoutingIterations,dt.morphBuffer).forEach(function(Re){ce.push(Re)}),Jt.push(an)});for(var fe,De,We,sn,Dn,Yt=function(an,Re,L){var bt={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},ie=[];an.forEach(function(ve){ie.push(ve.getBBox())}),Re.forEach(function(ve){ie.push(ve.getBBox())});for(var Ee=0,te=ie;Ee<te.length;Ee++){var pe=te[Ee];bt.minX=(pe.minX<bt.minX?pe.minX:bt.minX)-L,bt.minY=(pe.minY<bt.minY?pe.minY:bt.minY)-L,bt.maxX=(pe.maxX>bt.maxX?pe.maxX:bt.maxX)+L,bt.maxY=(pe.maxY>bt.maxY?pe.maxY:bt.maxY)+L}return bt.width=bt.maxX-bt.minX,bt.height=bt.maxY-bt.minY,bt.x=bt.minX,bt.y=bt.minY,bt}(F,ce,dt.nodeR0),Zt=(fe=Yt.width,De=Yt.height,We=dt.pixelGroupSize,sn=Math.ceil(fe/We),Dn=Math.ceil(De/We),{cells:new Float32Array(Math.max(0,sn*Dn)).fill(0),width:sn,height:Dn}),Ae=[],Ht=[],he=0;he<dt.maxMarchingIterations;he++)if(ne(F,_,ce,Yt,Zt,dt),Ht=[],new Mo(Ae=[],Zt,dt.threshold).march()){var En=Ae.map(function(an){return{x:Math.round(an.x*dt.pixelGroupSize+Yt.minX),y:Math.round(an.y*dt.pixelGroupSize+Yt.minY)}});if(En){var Qn=En.length;if(dt.skip>1)for(Qn=Math.floor(En.length/dt.skip);Qn<3&&dt.skip>1;)dt.skip-=1,Qn=Math.floor(En.length/dt.skip);for(var fr=0,ar=0;ar<Qn;ar+=1,fr+=dt.skip)Ht.push({x:En[fr].x,y:En[fr].y})}if(Ht&&function(){for(var an=0,Re=F;an<Re.length;an++){var L=Re[an],bt=Ht.map(function(ie){return[ie.x,ie.y]});if(!yt(bt,L.getBBox().centerX,L.getBBox().centerY))return!1}return!0}())return Ht;if(dt.threshold*=.9,he<=.5*dt.maxMarchingIterations)dt.memberInfluenceFactor*=1.2,dt.edgeInfluenceFactor*=1.2;else{if(!(dt.nonMemberInfluenceFactor!==0&&_.length>0))break;dt.nonMemberInfluenceFactor*=.8}}return Ht};function ne(ge,F,_,$,dt,Gt){function Jt(Dn,Yt){var Zt=Math.floor((Dn-Yt)/Gt.pixelGroupSize);return Zt<0?0:Zt}function ce(Dn,Yt){return Dn*Gt.pixelGroupSize+Yt}var fe=(Gt.nodeR0-Gt.nodeR1)*(Gt.nodeR0-Gt.nodeR1),De=(Gt.edgeR0-Gt.edgeR1)*(Gt.edgeR0-Gt.edgeR1),We=function(Yt,Zt){return[Math.min(Jt(Yt.minX,Zt+$.minX),dt.width),Math.min(Jt(Yt.minY,Zt+$.minY),dt.height),Math.min(Jt(Yt.maxX,-Zt+$.minX),dt.width),Math.min(Jt(Yt.maxY,-Zt+$.minY),dt.height)]},sn=function(Yt,Zt){for(var Ae=Yt.getBBox(),Ht=We(Ae,Gt.nodeR1),he=Ht[0],En=Ht[1],Qn=Ht[2],fr=Ht[3],ar=En;ar<fr;ar+=1)for(var an=he;an<Qn;an+=1)if(!(Zt<0&&dt[an+ar*dt.width]<=0)){var Re=ce(an,$.minX),L=ce(ar,$.minY),bt=V({x:Re,y:L},{x:Ae.minX,y:Ae.minY,width:Ae.width,height:Ae.height});if(bt<Math.pow(Gt.nodeR1,2)){var ie=Math.sqrt(bt)-Gt.nodeR1;dt.cells[an+ar*dt.width]+=Zt*ie*ie}}};Gt.nodeInfluenceFactor&&ge.forEach(function(Dn){sn(Dn,Gt.nodeInfluenceFactor/fe)}),Gt.edgeInfluenceFactor&&_.forEach(function(Dn){(function(Yt,Zt){for(var Ae=Yt.getBBox(),Ht=We(Ae,Gt.edgeR1),he=Ht[0],En=Ht[1],Qn=Ht[2],fr=Ht[3],ar=En;ar<fr;ar+=1)for(var an=he;an<Qn;an+=1)if(!(Zt<0&&dt.cells[an+ar*dt.width]<=0)){var Re=ce(an,$.minX),L=ce(ar,$.minY),bt=m({x:Re,y:L},Yt);if(bt<Math.pow(Gt.edgeR1,2)){var ie=Math.sqrt(bt)-Gt.edgeR1;dt.cells[an+ar*dt.width]+=Zt*ie*ie}}})(Dn,Gt.edgeInfluenceFactor/De)}),Gt.negativeNodeInfluenceFactor&&F.forEach(function(Dn){sn(Dn,Gt.negativeNodeInfluenceFactor/fe)})}function Ce(ge,F,_,$){var dt=ge.getBBox(),Gt=_[0],Jt=_[1],ce=_[2],fe=_[3],De={topLeft:{x:dt.minX-F,y:dt.minY-F},topRight:{x:dt.maxX+F,y:dt.minY-F},bottomLeft:{x:dt.minX-F,y:dt.maxY+F},bottomRight:{x:dt.maxX+F,y:dt.maxY+F}},We=dt.height*dt.width;function sn(Dn,Yt){return dt.width*(.5*(Dn.y-dt.minY+(Yt.y-dt.minY)))}if(Jt)return Gt?$?De.topLeft:De.bottomRight:ce?$?De.bottomLeft:De.topRight:sn(Jt,fe)<.5*We?Jt.y>fe.y?$?De.topLeft:De.bottomRight:$?De.topRight:De.bottomLeft:Jt.y<fe.y?$?De.bottomLeft:De.topRight:$?De.bottomRight:De.topLeft;if(fe){if(Gt)return $?De.topRight:De.bottomLeft;if(ce)return $?De.bottomRight:De.topLeft}return sn(Gt,ce)<.5*We?Gt.x>ce.x?$?De.topLeft:De.bottomRight:$?De.bottomLeft:De.topRight:Gt.x<ce.x?$?De.topRight:De.bottomLeft:$?De.bottomRight:De.topLeft}var en=function(){function ge(F,_){this.cfg=Object(h.e)(this.getDefaultCfg(),_),this.graph=F,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function($){return Object(h.x)($)?F.findById($):$}),this.nonMembers=this.cfg.nonMembers.map(function($){return Object(h.x)($)?F.findById($):$}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return ge.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},ge.prototype.setPadding=function(){var F=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+F:10+F,this.cfg.bubbleCfg={nodeR0:this.padding-F,nodeR1:this.padding-F,morphBuffer:this.padding-F}},ge.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},ge.prototype.calcPath=function(F,_){var $,dt,Gt;switch(this.type){case"round-convex":Gt=uo(($=po(F)).map(function(Jt){return[Jt.x,Jt.y]}),this.padding),dt=Object(Di.b)(Gt);break;case"smooth-convex":($=po(F)).length===2?(Gt=uo($.map(function(Jt){return[Jt.x,Jt.y]}),this.padding),dt=Object(Di.b)(Gt)):$.length>2&&(Gt=sa($.map(function(Jt){return[Jt.x,Jt.y]}),this.padding),dt=la(Gt));break;case"bubble":dt=($=Qt(F,_,this.cfg.bubbleCfg)).length>=2&&la($)}return dt},ge.prototype.render=function(){this.group.addShape("path",{attrs:Object(s.a)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},ge.prototype.addMember=function(F){if(F){Object(h.x)(F)&&(F=this.graph.findById(F)),this.members.push(F);var _=this.nonMembers.indexOf(F);return _>-1&&this.nonMembers.splice(_,1),this.updateData(this.members,this.nonMembers),!0}},ge.prototype.addNonMember=function(F){if(F){Object(h.x)(F)&&(F=this.graph.findById(F)),this.nonMembers.push(F);var _=this.members.indexOf(F);return _>-1&&this.members.splice(_,1),this.updateData(this.members,this.nonMembers),!0}},ge.prototype.removeMember=function(F){if(F){Object(h.x)(F)&&(F=this.graph.findById(F));var _=this.members.indexOf(F);return _>-1&&(this.members.splice(_,1),this.updateData(this.members,this.nonMembers),!0)}},ge.prototype.removeNonMember=function(F){if(F){Object(h.x)(F)&&(F=this.graph.findById(F));var _=this.nonMembers.indexOf(F);return _>-1&&(this.nonMembers.splice(_,1),this.updateData(this.members,this.nonMembers),!0)}},ge.prototype.updateData=function(F,_){var $=this;this.group.findById(this.id).remove(),F&&(this.members=F.map(function(dt){return Object(h.x)(dt)?$.graph.findById(dt):dt})),_&&(this.nonMembers=_.map(function(dt){return Object(h.x)(dt)?$.graph.findById(dt):dt})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},ge.prototype.updateStyle=function(F){this.group.findById(this.id).attr(Object(s.a)({},F))},ge.prototype.updateCfg=function(F){var _=this;this.cfg=Object(h.e)(this.cfg,F),this.id=this.cfg.id,this.group=this.cfg.group,F.members&&(this.members=this.cfg.members.map(function($){return Object(h.x)($)?_.graph.findById($):$})),F.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function($){return Object(h.x)($)?_.graph.findById($):$})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},ge.prototype.contain=function(F){var _,$,dt=this,Gt=(_=Object(h.x)(F)?this.graph.findById(F):F).getKeyShape();if(_.get("type")==="path")$=Ki(Gt.attr("path"));else{var Jt=Gt.getCanvasBBox();$=[[Jt.minX,Jt.minY],[Jt.maxX,Jt.minY],[Jt.maxX,Jt.maxY],[Jt.minX,Jt.maxY]]}return $=$.map(function(ce){var fe=dt.graph.getPointByCanvas(ce[0],ce[1]);return[fe.x,fe.y]}),wt($,Ki(this.path))},ge.prototype.destroy=function(){this.group.remove(),this.cfg=null},ge}(),kn=v.a.transform,sr=function(ge){function F(_){var $=ge.call(this)||this;return $.cfg=Object(h.e)($.getDefaultCfg(),_),$.init(),$.animating=!1,$.destroyed=!1,$.cfg.enabledStack&&($.undoStack=new C.Stack($.cfg.maxStep),$.redoStack=new C.Stack($.cfg.maxStep)),$}return Object(s.b)(F,ge),F.prototype.init=function(){this.initCanvas();var _=new on(this),$=new Ct(this),dt=new wi(this),Gt=new bi(this);this.set({viewController:_,modeController:$,itemController:dt,stateController:Gt}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},F.prototype.initGroups=function(){var _=this.get("canvas"),$=this.get("canvas").get("el").id,dt=_.addGroup({id:$+"-root",className:At.rootContainerClassName});if(this.get("groupByTypes")){var Gt=dt.addGroup({id:$+"-edge",className:At.edgeContainerClassName}),Jt=dt.addGroup({id:$+"-node",className:At.nodeContainerClassName}),ce=dt.addGroup({id:$+"-combo",className:At.comboContainerClassName});ce.toBack(),this.set({nodeGroup:Jt,edgeGroup:Gt,comboGroup:ce})}var fe=dt.addGroup({id:$+"-delegate",className:At.delegateContainerClassName});this.set({delegateGroup:fe}),this.set("group",dt)},F.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[]}},F.prototype.set=function(_,$){return Object(h.w)(_)?this.cfg=Object(s.a)(Object(s.a)({},this.cfg),_):this.cfg[_]=$,this},F.prototype.get=function(_){return this.cfg[_]},F.prototype.getGroup=function(){return this.get("group")},F.prototype.getContainer=function(){return this.get("container")},F.prototype.getMinZoom=function(){return this.get("minZoom")},F.prototype.setMinZoom=function(_){return this.set("minZoom",_)},F.prototype.getMaxZoom=function(){return this.get("maxZoom")},F.prototype.setMaxZoom=function(_){return this.set("maxZoom",_)},F.prototype.getWidth=function(){return this.get("width")},F.prototype.getHeight=function(){return this.get("height")},F.prototype.clearItemStates=function(_,$){Object(h.x)(_)&&(_=this.findById(_));var dt=this.get("itemController");$||($=_.get("states")),dt.clearItemStates(_,$),this.get("stateController").updateStates(_,$,!1)},F.prototype.node=function(_){typeof _=="function"&&this.set("nodeMapper",_)},F.prototype.edge=function(_){typeof _=="function"&&this.set("edgeMapper",_)},F.prototype.combo=function(_){typeof _=="function"&&this.set("comboMapper",_)},F.prototype.findById=function(_){return this.get("itemMap")[_]},F.prototype.find=function(_,$){var dt,Gt=this.get(_+"s");return Object(h.f)(Gt,function(Jt,ce){if($(Jt,ce))return dt=Jt}),dt},F.prototype.findAll=function(_,$){var dt=[];return Object(h.f)(this.get(_+"s"),function(Gt,Jt){$(Gt,Jt)&&dt.push(Gt)}),dt},F.prototype.findAllByState=function(_,$){return this.findAll(_,function(dt){return dt.hasState($)})},F.prototype.translate=function(_,$){var dt=this.get("group"),Gt=Object(h.c)(dt.getMatrix());Gt||(Gt=[1,0,0,0,1,0,0,0,1]),Gt=kn(Gt,[["t",_,$]]),dt.setMatrix(Gt),this.emit("viewportchange",{action:"translate",matrix:dt.getMatrix()}),this.autoPaint()},F.prototype.moveTo=function(_,$){var dt=this.get("group");Bt(dt,{x:_,y:$}),this.emit("viewportchange",{action:"move",matrix:dt.getMatrix()})},F.prototype.fitView=function(_){_&&this.set("fitViewPadding",_),this.get("viewController").fitView(),this.autoPaint()},F.prototype.fitCenter=function(){this.get("viewController").fitCenter(),this.autoPaint()},F.prototype.addBehaviors=function(_,$){return this.get("modeController").manipulateBehaviors(_,$,!0),this},F.prototype.removeBehaviors=function(_,$){return this.get("modeController").manipulateBehaviors(_,$,!1),this},F.prototype.updateBehavior=function(_,$,dt){return this.get("modeController").updateBehavior(_,$,dt),this},F.prototype.zoom=function(_,$){var dt=this.get("group"),Gt=Object(h.c)(dt.getMatrix()),Jt=this.get("minZoom"),ce=this.get("maxZoom");Gt||(Gt=[1,0,0,0,1,0,0,0,1]),Gt=kn(Gt,$?[["t",-$.x,-$.y],["s",_,_],["t",$.x,$.y]]:[["s",_,_]]),Jt&&Gt[0]<Jt||ce&&Gt[0]>ce||(dt.setMatrix(Gt),this.emit("viewportchange",{action:"zoom",matrix:Gt}),this.autoPaint())},F.prototype.zoomTo=function(_,$){var dt=_/this.getZoom();this.zoom(dt,$)},F.prototype.focusItem=function(_,$,dt){var Gt=this.get("viewController"),Jt=!1;$?Jt=!0:$===void 0&&(Jt=this.get("animate"));var ce={};dt?ce=dt:dt===void 0&&(ce=this.get("animateCfg")),Gt.focus(_,Jt,ce),this.autoPaint()},F.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},F.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},F.prototype.getPointByClient=function(_,$){return this.get("viewController").getPointByClient(_,$)},F.prototype.getClientByPoint=function(_,$){return this.get("viewController").getClientByPoint(_,$)},F.prototype.getPointByCanvas=function(_,$){return this.get("viewController").getPointByCanvas(_,$)},F.prototype.getCanvasByPoint=function(_,$){return this.get("viewController").getCanvasByPoint(_,$)},F.prototype.showItem=function(_,$){$===void 0&&($=!0);var dt=this.get("itemController").changeItemVisibility(_,!0);if($&&this.get("enabledStack")){var Gt=dt.getID(),Jt={},ce={};switch(dt.getType()){case"node":Jt.nodes=[{id:Gt,visible:!1}],ce.nodes=[{id:Gt,visible:!0}];break;case"edge":Jt.nodes=[{id:Gt,visible:!1}],ce.edges=[{id:Gt,visible:!0}];break;case"combo":Jt.nodes=[{id:Gt,visible:!1}],ce.combos=[{id:Gt,visible:!0}]}this.pushStack("visible",{before:Jt,after:ce})}},F.prototype.hideItem=function(_,$){$===void 0&&($=!0);var dt=this.get("itemController").changeItemVisibility(_,!1);if($&&this.get("enabledStack")){var Gt=dt.getID(),Jt={},ce={};switch(dt.getType()){case"node":Jt.nodes=[{id:Gt,visible:!0}],ce.nodes=[{id:Gt,visible:!1}];break;case"edge":Jt.nodes=[{id:Gt,visible:!0}],ce.edges=[{id:Gt,visible:!1}];break;case"combo":Jt.nodes=[{id:Gt,visible:!0}],ce.combos=[{id:Gt,visible:!1}]}this.pushStack("visible",{before:Jt,after:ce})}},F.prototype.refreshItem=function(_){this.get("itemController").refreshItem(_)},F.prototype.setAutoPaint=function(_){this.set("autoPaint",_),this.get("canvas").set("autoDraw",_)},F.prototype.remove=function(_,$){$===void 0&&($=!0),this.removeItem(_,$)},F.prototype.removeItem=function(_,$){$===void 0&&($=!0);var dt=_;if(Object(h.x)(_)&&(dt=this.findById(_)),!dt&&Object(h.x)(_))console.warn("The item to be removed does not exist!");else if(dt){var Gt="";if(dt.getType&&(Gt=dt.getType()),$&&this.get("enabledStack")){var Jt=Object(s.a)(Object(s.a)({},dt.getModel()),{itemType:Gt}),ce={};switch(Gt){case"node":ce.nodes=[Jt],ce.edges=[];for(var fe=dt.getEdges(),De=fe.length-1;De>=0;De--)ce.edges.push(Object(s.a)(Object(s.a)({},fe[De].getModel()),{itemType:"edge"}));break;case"edge":ce.edges=[Jt];break;case"combo":ce.combos=[Jt]}this.pushStack("delete",{before:ce,after:{}})}if(Gt==="node"&&dt.getModel().comboId&&this.updateComboTree(dt),this.get("itemController").removeItem(dt),Gt==="combo"){var We=Er(this.get("comboTrees"));this.set("comboTrees",We)}}},F.prototype.addItem=function(_,$,dt,Gt){dt===void 0&&(dt=!0),Gt===void 0&&(Gt=!0);var Jt=this.get("comboSorted");this.set("comboSorted",Jt&&!Gt);var ce=this.get("itemController");if(!$.id||!this.findById($.id)){var fe,De=this.get("comboTrees");if(De||(De=[]),_==="combo"){var We=this.get("itemMap"),sn=!1;if(De.forEach(function(fr){sn||dr(fr,function(ar){if($.parentId===ar.id){sn=!0;var an=Object(s.a)({id:$.id,depth:ar.depth+2},$);ar.children?ar.children.push(an):ar.children=[an],$.depth=an.depth,fe=ce.addItem(_,$)}var Re=We[ar.id];return sn&&Re&&Re.getType&&Re.getType()==="combo"&&ce.updateCombo(Re,ar.children),!0})}),!sn){var Dn=Object(s.a)({id:$.id,depth:0},$);$.depth=Dn.depth,De.push(Dn),fe=ce.addItem(_,$)}this.set("comboTrees",De)}else if(_==="node"&&Object(h.x)($.comboId)&&De){var Yt;if((Yt=this.findById($.comboId))&&Yt.getType&&Yt.getType()!=="combo")return void console.warn("'"+$.comboId+"' is a not id of a combo in the graph, the node will be added without combo.");fe=ce.addItem(_,$);var Zt=this.get("itemMap"),Ae=!1,Ht=!1;(De||[]).forEach(function(fr){Ht||Ae||dr(fr,function(ar){if(ar.id===$.id)return Ht=!0,!1;if($.comboId===ar.id&&!Ht){Ae=!0;var an=Object(h.c)($);an.itemType="node",ar.children?ar.children.push(an):ar.children=[an],$.depth=ar.depth+1}return Ae&&Zt[ar.id].getType&&Zt[ar.id].getType()==="combo"&&ce.updateCombo(Zt[ar.id],ar.children),!0})})}else fe=ce.addItem(_,$);(_==="node"&&$.comboId||_==="combo"&&$.parentId)&&(Yt=this.findById($.comboId||$.parentId))&&Yt.addChild(fe);var he=this.get("combos");if(he&&he.length>0&&this.sortCombos(),this.autoPaint(),dt&&this.get("enabledStack")){var En=Object(s.a)(Object(s.a)({},fe.getModel()),{itemType:_}),Qn={};switch(_){case"node":Qn.nodes=[En];break;case"edge":Qn.edges=[En];break;case"combo":Qn.combos=[En]}this.pushStack("add",{before:{},after:Qn})}return fe}console.warn("This item exists already. Be sure the id %c"+$.id+"%c is unique.","font-size: 20px; color: red;","")},F.prototype.add=function(_,$,dt,Gt){return dt===void 0&&(dt=!0),Gt===void 0&&(Gt=!0),this.addItem(_,$,dt,Gt)},F.prototype.updateItem=function(_,$,dt){var Gt=this;dt===void 0&&(dt=!0);var Jt,ce=this.get("itemController");Jt=Object(h.x)(_)?this.findById(_):_;var fe=Object(h.c)(Jt.getModel()),De="";Jt.getType&&(De=Jt.getType());var We=Object(s.d)(Jt.getStates());if(De==="combo"&&Object(h.f)(We,function(Zt){return Gt.setItemState(Jt,Zt,!1)}),ce.updateItem(Jt,$),De==="combo"&&Object(h.f)(We,function(Zt){return Gt.setItemState(Jt,Zt,!0)}),dt&&this.get("enabledStack")){var sn={nodes:[],edges:[],combos:[]},Dn={nodes:[],edges:[],combos:[]},Yt=Object(s.a)({id:fe.id},$);switch(De){case"node":sn.nodes.push(fe),Dn.nodes.push(Yt);break;case"edge":sn.edges.push(fe),Dn.edges.push(Yt);break;case"combo":sn.combos.push(fe),Dn.combos.push(Yt)}De==="node"&&sn.nodes.push(fe),this.pushStack("update",{before:sn,after:Dn})}},F.prototype.update=function(_,$,dt){dt===void 0&&(dt=!0),this.updateItem(_,$,dt)},F.prototype.setItemState=function(_,$,dt){Object(h.x)(_)&&(_=this.findById(_)),this.get("itemController").setItemState(_,$,dt);var Gt=this.get("stateController");Object(h.x)(dt)?Gt.updateState(_,$+":"+dt,!0):Gt.updateState(_,$,dt)},F.prototype.priorityState=function(_,$){this.get("itemController").priorityState(_,$)},F.prototype.data=function(_){this.set("data",_)},F.prototype.render=function(){var _=this;this.set("comboSorted",!1);var $=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!$)throw new Error("data must be defined first");var dt=$.nodes,Gt=dt===void 0?[]:dt,Jt=$.edges,ce=Jt===void 0?[]:Jt,fe=$.combos,De=fe===void 0?[]:fe;if(this.clear(),this.emit("beforerender"),Object(h.f)(Gt,function(Yt){_.add("node",Yt,!1,!1)}),De&&De.length!==0){var We=Mr(De,Gt);this.set("comboTrees",We),_.addCombos(De)}Object(h.f)(ce,function(Yt){_.add("edge",Yt,!1,!1)});var sn=_.get("animate");(_.get("fitView")||_.get("fitCenter"))&&_.set("animate",!1);var Dn=_.get("layoutController");if(Dn){if(Dn.layout(function(){_.get("fitView")?_.fitView():_.get("fitCenter")&&_.fitCenter(),_.autoPaint(),_.emit("afterrender"),(_.get("fitView")||_.get("fitCenter"))&&_.set("animate",sn)}),this.destroyed)return}else _.get("fitView")&&_.fitView(),_.get("fitCenter")&&_.fitCenter(),_.emit("afterrender"),_.set("animate",sn);this.get("groupByTypes")||(De&&De.length!==0?this.sortCombos():$.nodes&&$.edges&&$.nodes.length<$.edges.length?this.getNodes().forEach(function(Yt){Yt.toFront()}):this.getEdges().forEach(function(Yt){Yt.toBack()})),this.get("enabledStack")&&this.pushStack("render")},F.prototype.read=function(_){this.data(_),this.render()},F.prototype.diffItems=function(_,$,dt){var Gt,Jt=this,ce=this.get("itemMap");Object(h.f)(dt,function(fe){if(Gt=ce[fe.id]){if(Jt.get("animate")&&_==="node"){var De=Gt.getContainer().getMatrix();De||(De=[1,0,0,0,1,0,0,0,1]),Gt.set("originAttrs",{x:De[6],y:De[7]})}Jt.updateItem(Gt,fe,!1)}else Gt=Jt.addItem(_,fe,!1);Gt&&$[_+"s"].push(Gt)})},F.prototype.changeData=function(_,$){$===void 0&&($=!0);var dt=this;if(!_)return this;$&&this.get("enabledStack")&&this.pushStack("changedata",{before:dt.save(),after:_}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map(function(Zt){return dt.clearItemStates(Zt)}),this.getEdges().map(function(Zt){return dt.clearItemStates(Zt)});var Gt=this.get("canvas"),Jt=Gt.get("localRefresh");Gt.set("localRefresh",!1),dt.get("data")||(dt.data(_),dt.render());var ce=this.get("itemMap"),fe={nodes:[],edges:[]},De=_.combos;if(De){var We=Mr(De,_.nodes);this.set("comboTrees",We)}this.diffItems("node",fe,_.nodes),Object(h.f)(ce,function(Zt,Ae){ce[Ae].getModel().depth=0,Zt.getType&&Zt.getType()==="edge"||(Zt.getType&&Zt.getType()==="combo"?(delete ce[Ae],Zt.destroy()):fe.nodes.indexOf(Zt)<0&&(delete ce[Ae],dt.remove(Zt,!1)))});for(var sn=this.getCombos(),Dn=sn.length-1;Dn>=0;Dn--)sn[Dn].destroyed&&sn.splice(Dn,1);De&&(dt.addCombos(De),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",fe,_.edges),Object(h.f)(ce,function(Zt,Ae){(!Zt.getType||Zt.getType()!=="node"&&Zt.getType()!=="combo")&&fe.edges.indexOf(Zt)<0&&(delete ce[Ae],dt.remove(Zt,!1))}),this.set({nodes:fe.nodes,edges:fe.edges});var Yt=this.get("layoutController");return Yt&&(Yt.changeData(),dt.get("animate")&&!Yt.getLayoutType()?dt.positionsAnimate():dt.autoPaint()),setTimeout(function(){Gt.set("localRefresh",Jt)},16),this},F.prototype.addCombos=function(_){var $=this.get("comboTrees");this.get("itemController").addCombos($,_)},F.prototype.createCombo=function(_,$){var dt=this;this.set("comboSorted",!1);var Gt,Jt="";if(_){if(Object(h.x)(_))Jt=_,Gt={id:_};else{if(!(Jt=_.id))return void console.warn("Create combo failed. Please assign a unique string id for the adding combo.");Gt=_}var ce=$.map(function(De){var We=dt.findById(De),sn="";We.getType&&(sn=We.getType());var Dn={id:We.getID(),itemType:sn};return sn==="combo"?Dn.parentId=Jt:sn==="node"&&(Dn.comboId=Jt),Dn});Gt.children=ce,this.addItem("combo",Gt,!1),this.set("comboSorted",!1);var fe=this.get("comboTrees");(fe||[]).forEach(function(De){dr(De,function(We){return We.id!==Jt||(We.itemType="combo",We.children=ce,!1)})}),fe&&this.sortCombos()}},F.prototype.uncombo=function(_){var $=this,dt=_;if(Object(h.x)(_)&&(dt=this.findById(_)),!dt||dt.getType&&dt.getType()!=="combo")console.warn("The item is not a combo!");else{var Gt=dt.getModel().parentId,Jt=this.get("comboTrees");Jt||(Jt=[]);var ce,fe=this.get("itemMap"),De=dt.get("id"),We=[],sn=this.get("combos"),Dn=this.findById(Gt);if(Jt.forEach(function(Zt){ce||dr(Zt,function(Ae){if(Ae.id===De){ce=Ae,dt.getEdges().forEach(function(he){$.removeItem(he,!1)});var Ht=sn.indexOf(_);sn.splice(Ht,1),delete fe[De],dt.destroy()}return!Gt||!ce||Ae.id!==Gt||(Dn.removeCombo(dt),(Ht=(We=Ae.children).indexOf(ce))!==-1&&We.splice(Ht,1),ce.children.forEach(function(he){var En=$.findById(he.id),Qn=En.getModel();En.getType&&En.getType()==="combo"?(he.parentId=Gt,delete he.comboId,Qn.parentId=Gt,delete Qn.comboId):En.getType&&En.getType()==="node"&&(he.comboId=Gt,Qn.comboId=Gt),Dn.addChild(En),We.push(he)}),!1)})}),!Gt&&ce){var Yt=Jt.indexOf(ce);Jt.splice(Yt,1),ce.children.forEach(function(Zt){Zt.parentId=void 0,$.findById(Zt.id).getModel().parentId=void 0,Zt.itemType!=="node"&&Jt.push(Zt)})}}},F.prototype.updateCombos=function(){var _=this,$=this.get("comboTrees"),dt=this.get("itemController"),Gt=this.get("itemMap");($||[]).forEach(function(Jt){dr(Jt,function(ce){if(!ce)return!0;var fe=Gt[ce.id];if(fe&&fe.getType&&fe.getType()==="combo"){var De=Object(s.d)(fe.getStates());Object(h.f)(De,function(We){return _.setItemState(fe,We,!1)}),dt.updateCombo(fe,ce.children),Object(h.f)(De,function(We){return _.setItemState(fe,We,!0)})}return!0})}),this.sortCombos()},F.prototype.updateCombo=function(_){var $,dt=this,Gt=_;if(Object(h.x)(_)&&(Gt=this.findById(_)),!Gt||Gt.getType&&Gt.getType()!=="combo")console.warn("The item to be updated is not a combo!");else{$=Gt.get("id");var Jt=this.get("comboTrees"),ce=this.get("itemController"),fe=this.get("itemMap");(Jt||[]).forEach(function(De){dr(De,function(We){if(!We)return!0;var sn=fe[We.id];if($===We.id&&sn&&sn.getType&&sn.getType()==="combo"){var Dn=Object(s.d)(sn.getStates());Object(h.f)(Dn,function(Yt){sn.getStateStyle(Yt)&&dt.setItemState(sn,Yt,!1)}),ce.updateCombo(sn,We.children),Object(h.f)(Dn,function(Yt){sn.getStateStyle(Yt)&&dt.setItemState(sn,Yt,!0)}),$&&($=We.parentId)}return!0})})}},F.prototype.updateComboTree=function(_,$,dt){dt===void 0&&(dt=!0);var Gt;this.set("comboSorted",!1);var Jt,ce=(Gt=Object(h.x)(_)?this.findById(_):_).getModel(),fe=ce.comboId||ce.parentId,De="";if(Gt.getType&&(De=Gt.getType()),$&&De==="combo"){var We,sn=this.get("comboTrees"),Dn=!0;if((sn||[]).forEach(function(he){We||ir(he,function(En){if(!We)return En.id===Gt.getID()&&(We=En),!0})}),ir(We,function(he){return he.id!==$||(Dn=!1,!1)}),!Dn)return void console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!")}if(dt&&this.get("enabledStack")){var Yt={},Zt={};De==="combo"?(Yt.combos=[{id:ce.id,parentId:ce.parentId}],Zt.combos=[{id:ce.id,parentId:$}]):De==="node"&&(Yt.nodes=[{id:ce.id,parentId:ce.comboId}],Zt.nodes=[{id:ce.id,parentId:$}]),this.pushStack("updateComboTree",{before:Yt,after:Zt})}if(ce.parentId||ce.comboId){var Ae=this.findById(ce.parentId||ce.comboId);Ae&&Ae.removeChild(Gt)}De==="combo"?ce.parentId=$:De==="node"&&(ce.comboId=$),$&&(Jt=this.findById($))&&Jt.addChild(Gt),fe&&(Jt=this.findById(fe))&&Jt.removeChild(Gt);var Ht=Er(this.get("comboTrees"),ce.id,$);this.set("comboTrees",Ht),this.updateCombos()},F.prototype.save=function(){var _=[],$=[],dt=[];return Object(h.f)(this.get("nodes"),function(Gt){_.push(Gt.getModel())}),Object(h.f)(this.get("edges"),function(Gt){$.push(Gt.getModel())}),Object(h.f)(this.get("combos"),function(Gt){dt.push(Gt.getModel())}),{nodes:_,edges:$,combos:dt}},F.prototype.changeSize=function(_,$){return this.get("viewController").changeSize(_,$),this},F.prototype.refresh=function(){if(this.emit("beforegraphrefresh"),this.get("animate"))this.positionsAnimate();else{var _=this.get("nodes"),$=this.get("edges"),dt=this.get("edges");Object(h.f)(_,function(Gt){Gt.refresh()}),Object(h.f)($,function(Gt){Gt.refresh()}),Object(h.f)(dt,function(Gt){Gt.refresh()})}this.emit("aftergraphrefresh"),this.autoPaint()},F.prototype.getNodes=function(){return this.get("nodes")},F.prototype.getEdges=function(){return this.get("edges")},F.prototype.getCombos=function(){return this.get("combos")},F.prototype.getComboChildren=function(_){if(Object(h.x)(_)&&(_=this.findById(_)),_&&(!_.getType||_.getType()==="combo"))return _.getChildren();console.warn("The combo does not exist!")},F.prototype.positionsAnimate=function(){var _=this;_.emit("beforeanimate");var $=_.get("animateCfg"),dt=$.onFrame,Gt=_.getNodes(),Jt=Gt.map(function(ce){var fe=ce.getModel();return{id:fe.id,x:fe.x,y:fe.y}});_.isAnimating()&&_.stopAnimate(),_.get("canvas").animate(function(ce){Object(h.f)(Jt,function(fe){var De=_.findById(fe.id);if(De&&!De.destroyed){var We=De.get("originAttrs"),sn=De.get("model");if(!We){var Dn=De.getContainer().getMatrix();Dn||(Dn=[1,0,0,0,1,0,0,0,1]),We={x:Dn[6],y:Dn[7]},De.set("originAttrs",We)}if(dt){var Yt=dt(De,ce,fe,We);De.set("model",Object.assign(sn,Yt))}else sn.x=We.x+(fe.x-We.x)*ce,sn.y=We.y+(fe.y-We.y)*ce}}),_.refreshPositions()},{duration:$.duration,easing:$.easing,callback:function(){Object(h.f)(Gt,function(fe){fe.set("originAttrs",null)}),$.callback&&$.callback(),_.emit("afteranimate"),_.animating=!1}})},F.prototype.refreshPositions=function(){this.emit("beforegraphrefreshposition");var _,$=this.get("nodes"),dt=this.get("edges"),Gt=this.get("vedges"),Jt=this.get("combos"),ce={};Object(h.f)($,function(fe){_=fe.getModel();var De=fe.get("originAttrs");De&&_.x===De.x&&_.y===De.y||(fe.updatePosition({x:_.x,y:_.y}),ce[_.id]=!0,_.comboId&&(ce[_.comboId]=!0))}),Jt&&Jt.length!==0&&this.updateCombos(),Object(h.f)(dt,function(fe){var De=fe.getSource().getModel(),We=fe.getTarget().getModel();(ce[De.id]||ce[We.id]||fe.getModel().isComboEdge)&&fe.refresh()}),Object(h.f)(Gt,function(fe){fe.refresh()}),this.emit("aftergraphrefreshposition"),this.autoPaint()},F.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},F.prototype.isAnimating=function(){return this.animating},F.prototype.getZoom=function(){var _=this.get("group").getMatrix();return _?_[0]:1},F.prototype.getCurrentMode=function(){return this.get("modeController").getMode()},F.prototype.setMode=function(_){return this.get("modeController").setMode(_),this},F.prototype.clear=function(){return this.get("canvas").clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),this.emit("afterrender"),this},F.prototype.updateLayout=function(_){var $,dt=this.get("layoutController");Object(h.x)(_)?_={type:$=_}:$=_.type;var Gt=this.get("layout"),Jt=Gt?Gt.type:void 0;if($&&Jt!==$||_.gpuEnabled!==void 0&&_.gpuEnabled!==Gt.gpuEnabled)$||($=Jt),this.set("layout",_),dt.changeLayout($);else{var ce={};Object.assign(ce,Gt,_),ce.type=Jt||"random",this.set("layout",ce),dt.updateLayoutCfg(ce)}},F.prototype.destroyLayout=function(){this.get("layoutController").destroyLayout()},F.prototype.layout=function(){var _=this.get("layoutController"),$=this.get("layout");$&&_&&($.workerEnabled?_.layout():_.layoutMethod?_.relayout(!0):_.layout())},F.prototype.collapseCombo=function(_){var $=this;if(Object(h.x)(_)&&(_=this.findById(_)),_){this.emit("beforecollapseexpandcombo",{action:"expand",item:_});var dt=_.getModel();this.get("itemController").collapseCombo(_),dt.collapsed=!0;var Gt=this.getEdges().concat(this.get("vedges")),Jt=[],ce=[],fe=this.get("comboTrees"),De=!1,We={};(fe||[]).forEach(function(Yt){We[Yt.id]=Yt}),(fe||[]).forEach(function(Yt){De||ir(Yt,function(Zt){if(De&&We[Zt.id])return!1;if(dt.parentId===Zt.id?(We={},Zt.children.forEach(function(Ht){We[Ht.id]=Ht})):dt.id===Zt.id&&(De=!0),De){var Ae=$.findById(Zt.id);Ae&&Ae.getType&&Ae.getType()==="combo"&&(Jt=Jt.concat(Ae.getNodes()),ce=ce.concat(Ae.getCombos()))}return!0})});var sn={},Dn=[];Gt.forEach(function(Yt){if(!Yt.isVisible()||Yt.getModel().isVEdge){var Zt=Yt.getSource(),Ae=Yt.getTarget();if((Jt.includes(Zt)||ce.includes(Zt))&&!Jt.includes(Ae)&&!ce.includes(Ae)||Zt.getModel().id===dt.id){if((Qn=Yt.getModel()).isVEdge)return void $.removeItem(Yt,!1);for(var Ht=Ae.getModel();!Ae.isVisible();){if(!(Ae=$.findById(Ht.parentId||Ht.comboId))||!Ht.parentId&&!Ht.comboId)return;Ht=Ae.getModel()}var he=Ht.id;if(sn[dt.id+"-"+he])return void(sn[dt.id+"-"+he]+=Qn.size||1);var En=$.addItem("vedge",{source:dt.id,target:he,isVEdge:!0},!1);sn[dt.id+"-"+he]=Qn.size||1,Dn.push(En)}else if(!Jt.includes(Zt)&&!ce.includes(Zt)&&(Jt.includes(Ae)||ce.includes(Ae))||Ae.getModel().id===dt.id){var Qn;if((Qn=Yt.getModel()).isVEdge)return void $.removeItem(Yt,!1);for(var fr=Zt.getModel();!Zt.isVisible();){if(!(Zt=$.findById(fr.parentId||fr.comboId))||!fr.parentId&&!fr.comboId)return;fr=Zt.getModel()}var ar=fr.id;if(sn[ar+"-"+dt.id])return void(sn[ar+"-"+dt.id]+=Qn.size||1);En=$.addItem("vedge",{target:dt.id,source:ar,isVEdge:!0},!1),sn[ar+"-"+dt.id]=Qn.size||1,Dn.push(En)}}}),Dn.forEach(function(Yt){var Zt=Yt.getModel();$.updateItem(Yt,{size:sn[Zt.source+"-"+Zt.target]},!1)}),this.emit("aftercollapseexpandcombo",{action:"collapse",item:_})}else console.warn("The combo to be collapsed does not exist!")},F.prototype.expandCombo=function(_){var $=this;if(Object(h.x)(_)&&(_=this.findById(_)),!_||_.getType&&_.getType()!=="combo")console.warn("The combo to be collapsed does not exist!");else{this.emit("beforecollapseexpandcombo",{action:"expand",item:_});var dt=_.getModel();this.get("itemController").expandCombo(_),dt.collapsed=!1;var Gt=this.getEdges().concat(this.get("vedges")),Jt=[],ce=[],fe=this.get("comboTrees"),De=!1,We={};(fe||[]).forEach(function(Yt){We[Yt.id]=Yt}),(fe||[]).forEach(function(Yt){De||ir(Yt,function(Zt){if(De&&We[Zt.id])return!1;if(dt.parentId===Zt.id?(We={},Zt.children.forEach(function(Ht){We[Ht.id]=Ht})):dt.id===Zt.id&&(De=!0),De){var Ae=$.findById(Zt.id);Ae&&Ae.getType&&Ae.getType()==="combo"&&(Jt=Jt.concat(Ae.getNodes()),ce=ce.concat(Ae.getCombos()))}return!0})});var sn={},Dn={};Gt.forEach(function(Yt){if(!Yt.isVisible()||Yt.getModel().isVEdge){var Zt=Yt.getSource(),Ae=Yt.getTarget(),Ht=Zt.get("id"),he=Ae.get("id");if((Jt.includes(Zt)||ce.includes(Zt))&&!Jt.includes(Ae)&&!ce.includes(Ae)||Ht===dt.id){if(Yt.getModel().isVEdge)return void $.removeItem(Yt,!1);for(var En=Ae.getModel();!Ae.isVisible();){if(!(Ae=$.findById(En.comboId||En.parentId))||!En.parentId&&!En.comboId)return;En=Ae.getModel()}he=En.id;for(var Qn=Zt.getModel();!Zt.isVisible();){if(!(Zt=$.findById(Qn.comboId||Qn.parentId))||!Qn.parentId&&!Qn.comboId)return;if(Qn.comboId===dt.id||Qn.parentId===dt.id)break;Qn=Zt.getModel()}if(Ht=Qn.id,he){if(sn[ar=Ht+"-"+he])return sn[ar]+=Yt.getModel().size||1,void $.updateItem(Dn[ar],{size:sn[ar]},!1);var fr=$.addItem("vedge",{source:Ht,target:he,isVEdge:!0},!1);sn[ar]=Yt.getModel().size||1,Dn[ar]=fr}}else if(!Jt.includes(Zt)&&!ce.includes(Zt)&&(Jt.includes(Ae)||ce.includes(Ae))||he===dt.id){if(Yt.getModel().isVEdge)return void $.removeItem(Yt,!1);for(Qn=Zt.getModel();!Zt.isVisible();){if(!(Zt=$.findById(Qn.comboId||Qn.parentId))||!Qn.parentId&&!Qn.comboId)return;Qn=Zt.getModel()}for(Ht=Qn.id,En=Ae.getModel();!Ae.isVisible();){if(!(Ae=$.findById(En.comboId||En.parentId))||!En.parentId&&!En.comboId)return;if(En.comboId===dt.id||En.parentId===dt.id)break;En=Ae.getModel()}if(he=En.id,Ht){var ar;if(sn[ar=Ht+"-"+he])return sn[ar]+=Yt.getModel().size||1,void $.updateItem(Dn[ar],{size:sn[ar]},!1);fr=$.addItem("vedge",{target:he,source:Ht,isVEdge:!0},!1),sn[ar]=Yt.getModel().size||1,Dn[ar]=fr}}else(Jt.includes(Zt)||ce.includes(Zt))&&(Jt.includes(Ae)||ce.includes(Ae))&&Zt.isVisible()&&Ae.isVisible()&&Yt.show()}}),this.emit("aftercollapseexpandcombo",{action:"expand",item:_})}},F.prototype.collapseExpandCombo=function(_){if(Object(h.x)(_)&&(_=this.findById(_)),!_.getType||_.getType()==="combo"){for(var $=_.getModel(),dt=this.findById($.parentId);dt;){var Gt=dt.getModel();if(Gt.collapsed)return console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),void(dt=void 0);dt=this.findById(Gt.parentId)}$.collapsed?this.expandCombo(_):this.collapseCombo(_),this.updateCombo(_)}},F.prototype.sortCombos=function(){var _=this;if(!this.get("comboSorted")){this.set("comboSorted",!0);var $=[],dt={};(this.get("comboTrees")||[]).forEach(function(Gt){ir(Gt,function(Jt){return $[Jt.depth]?$[Jt.depth].push(Jt.id):$[Jt.depth]=[Jt.id],dt[Jt.id]=Jt.depth,!0})}),(this.getEdges().concat(this.get("vedges"))||[]).forEach(function(Gt){var Jt=Gt.getModel(),ce=dt[Jt.source]||0,fe=dt[Jt.target]||0,De=Math.max(ce,fe);$[De]?$[De].push(Jt.id):$[De]=[Jt.id]}),$.forEach(function(Gt){if(Gt&&Gt.length)for(var Jt=Gt.length-1;Jt>=0;Jt--){var ce=_.findById(Gt[Jt]);ce&&ce.toFront()}})}},F.prototype.getNeighbors=function(_,$){var dt=_;return Object(h.x)(_)&&(dt=this.findById(_)),dt.getNeighbors($)},F.prototype.getNodeDegree=function(_,$){$===void 0&&($=void 0);var dt=_;Object(h.x)(_)&&(dt=this.findById(_));var Gt=this.get("degrees");Gt||(Gt=Object(C.getDegree)(this.get("data"))),this.set("degees",Gt);var Jt,ce=Gt[dt.getID()];switch($){case"in":Jt=ce.inDegree;break;case"out":Jt=ce.outDegree;break;case"all":Jt=ce;break;default:Jt=ce.degree}return Jt},F.prototype.getUndoStack=function(){return this.undoStack},F.prototype.getRedoStack=function(){return this.redoStack},F.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},F.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},F.prototype.pushStack=function(_,$,dt){if(_===void 0&&(_="update"),dt===void 0&&(dt="undo"),this.get("enabledStack")){var Gt=$?Object(h.c)($):{before:{},after:Object(h.c)(this.save())};dt==="redo"?this.redoStack.push({action:_,data:Gt}):this.undoStack.push({action:_,data:Gt}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})}else console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !")},F.prototype.getAdjMatrix=function(_,$){_===void 0&&(_=!0),$===void 0&&($=this.get("directed"));var dt=this.get("adjMatrix");return dt&&_||(dt=Object(C.getAdjMatrix)(this.save(),$),this.set("adjMatrix",dt)),dt},F.prototype.getShortestPathMatrix=function(_,$){_===void 0&&(_=!0),$===void 0&&($=this.get("directed"));var dt=this.get("adjMatrix"),Gt=this.get("shortestPathMatrix");return dt&&_||(dt=Object(C.getAdjMatrix)(this.save(),$),this.set("adjMatrix",dt)),Gt&&_||(Gt=Object(C.floydWarshall)(this.save(),$),this.set("shortestPathMatrix",Gt)),Gt},F.prototype.on=function(_,$,dt){return ge.prototype.on.call(this,_,$,dt)},F.prototype.destroy=function(){this.clear(),this.clearStack(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("canvas").destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},F.prototype.createHull=function(_){if(_.members&&!(_.members.length<1)){var $=this.get("hullGroup"),dt=this.get("hullMap");if(dt||(dt={},this.set("hullMap",dt)),$||(($=this.get("group").addGroup({id:"hullGroup"})).toBack(),this.set("hullGroup",$)),dt[_.id])return console.warn("Existed hull id."),dt[_.id];var Gt=$.addGroup({id:_.id+"-container"}),Jt=new en(this,Object(s.a)(Object(s.a)({},_),{group:Gt}));return dt[Jt.id]=Jt,Jt}console.warn("Create hull failed! The members is empty.")},F.prototype.getHulls=function(){return this.get("hullMap")},F.prototype.getHullById=function(_){return this.get("hullMap")[_]},F.prototype.removeHull=function(_){var $;$=Object(h.x)(_)?this.getHullById(_):_,delete this.get("hullMap")[$.id],$.destroy()},F.prototype.removeHulls=function(){var _=this.getHulls();_&&Object.keys(_).length&&(_.forEach(function($){$.destroy()}),this.set("hullMap",{}))},F}(u.a);function pr(ge){return(pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F})(ge)}var ln=v.a.transform,vn=["startArrow","endArrow"],xn={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},Or={edge:{lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},node:xn,combo:xn},Br={options:{},itemType:"",type:"",getCustomConfig:function(F){return{}},getOptions:function(F){return Object(h.e)({labelCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(F)||{},F)},draw:function(F,_){var $=this.drawShape(F,_);return $.set("className",this.itemType+"-shape"),F.label&&this.drawLabel(F,_).set("className",this.itemType+"-label"),$},afterDraw:function(F,_,$){},drawShape:function(F,_){return null},drawLabel:function(F,_){var $=this.getOptions(F).labelCfg||{},dt=this.getLabelStyle(F,$,_),Gt=dt.rotate;delete dt.rotate;var Jt=_.addShape("text",{attrs:dt,draggable:!0,className:"text-shape",name:"text-shape"});if(Gt){var ce=Jt.getBBox(),fe=Jt.getMatrix();if(fe||(fe=[1,0,0,0,1,0,0,0,1]),dt.rotateCenter)switch(dt.rotateCenter){case"center":fe=ln(fe,[["t",-ce.width/2,-ce.height/2],["r",Gt],["t",ce.width/2,ce.height/2]]);break;case"lefttop":fe=ln(fe,[["t",-dt.x,-dt.y],["r",Gt],["t",dt.x,dt.y]]);break;case"leftcenter":fe=ln(fe,[["t",-dt.x,-dt.y-ce.height/2],["r",Gt],["t",dt.x,dt.y+ce.height/2]]);break;default:fe=ln(fe,[["t",-ce.width/2,-ce.height/2],["r",Gt],["t",ce.width/2,ce.height/2]])}else fe=ln(fe,[["t",-dt.x,-dt.y-ce.height/2],["r",Gt],["t",dt.x,dt.y+ce.height/2]]);Jt.setMatrix(fe)}if(dt.background){var De=this.drawLabelBg(F,_,Jt),We=this.itemType+"-label-bg";De.set("classname",We),Jt.toFront()}return Jt},drawLabelBg:function(F,_,$){var dt=this.options.labelCfg,Gt=Object(h.A)({},dt,F.labelCfg),Jt=this.getLabelBgStyleByPosition($,F,Gt,_);return _.addShape("rect",{name:"text-bg-shape",attrs:Jt})},getLabelStyleByPosition:function(F,_,$){return{text:F.label}},getLabelBgStyleByPosition:function(F,_,$,dt){return{}},getLabelStyle:function(F,_,$){var dt=this.getLabelStyleByPosition(F,_,$),Gt=this.itemType+"Label",Jt=At[Gt]?At[Gt].style:null;return Object(s.a)(Object(s.a)(Object(s.a)({},Jt),dt),_.style)},getShapeStyle:function(F){return F.style},update:function(F,_){this.updateShapeStyle(F,_),this.updateLabel(F,_)},updateShapeStyle:function(F,_){var $=_.getContainer(),dt=_.getKeyShape(),Gt=Object(h.A)({},dt.attr(),F.style),Jt=function(De){var We,sn=Gt[De];if(Object(h.w)(sn)){var Dn=$.find(function(Yt){return Yt.get("name")===De});Dn&&Dn.attr(sn)}else dt.attr(((We={})[De]=sn,We))};for(var ce in Gt)Jt(ce)},updateLabel:function(F,_){var $=_.getContainer(),dt=this.getOptions({}).labelCfg,Gt=this.itemType+"-label",Jt=$.find(function(fr){return fr.get("className")===Gt}),ce=this.itemType+"-label-bg",fe=$.find(function(fr){return fr.get("classname")===ce});if(F.label||F.label==="")if(Jt){var De={};_.getModel&&(De=_.getModel().labelCfg);var We=Object(h.e)({},dt,De,F.labelCfg),sn=this.getLabelStyleByPosition(F,We,$),Dn=F.labelCfg?F.labelCfg.style:void 0,Yt=We.style&&We.style.background,Zt=Object(s.a)(Object(s.a)(Object(s.a)({},Jt.attr()),sn),Dn),Ae=Zt.rotate;if(delete Zt.rotate,Ae){var Ht=[1,0,0,0,1,0,0,0,1];Ht=ln(Ht,[["t",-Zt.x,-Zt.y],["r",Ae],["t",Zt.x,Zt.y]]),Jt.resetMatrix(),Jt.attr(Object(s.a)(Object(s.a)({},Zt),{matrix:Ht}))}else Jt.resetMatrix(),Jt.attr(Zt);if(fe)if(Zt.background){var he=this.getLabelBgStyleByPosition(Jt,F,We,$),En=Object(s.a)(Object(s.a)({},he),Yt);if(fe.resetMatrix(),Ae){var Qn=[1,0,0,0,1,0,0,0,1];Qn=ln(Qn,[["t",-En.x,-En.y],["r",Ae],["t",En.x,En.y]]),En.matrix=Qn}fe.attr(En)}else $.removeChild(fe);else Zt.background&&((fe=this.drawLabelBg(F,$,Jt)).set("classname",ce),Jt.toFront())}else this.drawLabel(F,$).set("className",Gt)},afterUpdate:function(F,_){},setState:function(F,_,$){var dt,Gt,Jt=$.get("keyShape");if(Jt){var ce=$.getType(),fe=Object(h.n)(_)?F:F+":"+_,De=this.getStateStyle(fe,$),We=$.getStateStyle(fe);if(We||De){var sn=Object(h.A)({},We||De),Dn=$.getContainer(),Yt={x:1,y:1,cx:1,cy:1};if(ce==="combo"&&(Yt.r=1,Yt.width=1,Yt.height=1),_){var Zt=function(de){var Pe,ze=sn[de];if(Object(h.w)(ze)&&!vn.includes(de)){var Je=Dn.find(function(Ve){return Ve.get("name")===de});Je&&Je.attr(ze)}else Jt.attr(((Pe={})[de]=ze,Pe))};for(var Ae in sn)Zt(Ae)}else{var Ht=Wi($.getCurrentStatesStyle()),he=$.getModel(),En=Object(h.A)({},he.style,Wi($.getOriginStyle())),Qn=Jt.get("name"),fr=Jt.attr(),ar={};Object.keys(fr).forEach(function(ve){if(ve!=="img"){var de=fr[ve];de&&pr(de)==="object"?ar[ve]=Object(h.c)(de):ar[ve]=de}});var an={},Re=function(de){var Pe=sn[de];if(Object(h.w)(Pe)&&!vn.includes(de)){var ze=Dn.find(function(cn){return cn.get("name")===de});if(ze){var Je=Object(h.c)(ze.attr());Object(h.f)(Pe,function(cn,Be){if(de===Qn&&ar[Be]&&!Yt[Be]){delete ar[Be];var Mn=En[de][Be]||Or[ce][Be];Jt.attr(Be,Mn)}else if(Je[Be]||Je[Be]===0){delete Je[Be];var On=En[de][Be]||Or[ce][Be];ze.attr(Be,On)}}),an[de]=Je}}else if(ar[de]&&!Yt[de]){delete ar[de];var Ve=En[de]||(En[Qn]?En[Qn][de]:void 0)||Or[ce][de];Jt.attr(de,Ve)}};for(var L in sn)Re(L);for(var Ae in Qn?an[Qn]=ar:Object(h.A)(an,ar),Ht)if(!Yt[Ae]){var bt=Ht[Ae];Object(h.w)(bt)&&!vn.includes(Ae)||(Qn?(Object(h.A)(En[Qn],((Gt={})[Ae]=bt,Gt)),delete En[Ae]):Object(h.A)(En,((dt={})[Ae]=bt,dt)),delete Ht[Ae])}var ie={};Object(h.e)(ie,En,an,Ht);var Ee=!1,te=function(de){var Pe,ze,Je=ie[de];if(Object(h.w)(Je)&&!vn.includes(de)){var Ve=Dn.find(function(Be){return Be.get("name")===de});Ve&&(de===Qn&&(ce==="combo"&&(delete Je.r,delete Je.width,delete Je.height),Ee=!0),Ve.attr(Je))}else if(!Ee){var cn=Je||Or[ce][de];ce==="combo"?Qn||Jt.attr(((Pe={})[de]=cn,Pe)):Jt.attr(((ze={})[de]=cn,ze))}};for(var pe in ie)te(pe)}}}},getStateStyle:function(F,_){var $=_.getModel(),dt=_.getType(),Gt=this.getOptions($),Jt=Gt.stateStyles,ce=Gt.style,fe=ce===void 0?{}:ce,De=$.stateStyles?$.stateStyles[F]:Jt&&Jt[F];return dt==="combo"?Object(h.c)(De):Object(h.A)({},fe,De)},getControlPoints:function(F){return F.controlPoints},getAnchorPoints:function(F){return this.getOptions(F).anchorPoints}},Pr={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:At.nodeLabel.offset,getSize:function(F){var _=F.size||this.getOptions({}).size||At.defaultNode.size;return Object(h.m)(_)&&_.length===1&&(_=[_[0],_[0]]),Object(h.m)(_)||(_=[_,_]),_},getLabelStyleByPosition:function(F,_){var $=_.position||this.labelPosition;if($==="center")return{x:0,y:0,text:F.label};var dt=_.offset;Object(h.s)(dt)&&(dt=this.offset);var Gt,Jt=this.getSize(F),ce=Jt[0],fe=Jt[1];switch($){case"top":Gt={x:0,y:0-fe/2-dt,textBaseline:"bottom"};break;case"bottom":Gt={x:0,y:fe/2+dt,textBaseline:"top"};break;case"left":Gt={x:0-ce/2-dt,y:0,textAlign:"right"};break;default:Gt={x:ce/2+dt,y:0,textAlign:"left"}}return Gt.text=F.label,Gt},getLabelBgStyleByPosition:function(F,_,$,dt){if(!F)return{};var Gt=F.getBBox(),Jt=$.style&&$.style.background;if(!Jt)return{};var ce,fe=Xt(Jt.padding),De=Gt.width+fe[1]+fe[3],We=Gt.height+fe[0]+fe[2],sn=$.offset;return Object(h.s)(sn)&&(sn=this.offset),ce={x:Gt.minX-fe[3],y:Gt.minY-fe[0]},ce=Object(s.a)(Object(s.a)(Object(s.a)({},ce),Jt),{width:De,height:We})},drawShape:function(F,_){var $=this.shapeType,dt=this.getShapeStyle(F);return _.addShape($,{attrs:dt,draggable:!0,name:"node-shape"})},updateLinkPoints:function(F,_){var $,dt=this.getOptions(F).linkPoints,Gt=_.find(function(Re){return Re.get("className")==="link-point-left"}),Jt=_.find(function(Re){return Re.get("className")==="link-point-right"}),ce=_.find(function(Re){return Re.get("className")==="link-point-top"}),fe=_.find(function(Re){return Re.get("className")==="link-point-bottom"});Gt&&($=Gt.attr()),Jt&&!$&&($=Jt.attr()),ce&&!$&&($=ce.attr()),fe&&!$&&($=fe.attr()),$||($=dt);var De=Object(h.A)({},$,F.linkPoints),We=De.fill,sn=De.stroke,Dn=De.lineWidth,Yt=De.size/2;Yt||(Yt=De.r);var Zt=F.linkPoints?F.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},Ae=Zt.left,Ht=Zt.right,he=Zt.top,En=Zt.bottom,Qn=this.getSize(F),fr=Qn[0],ar=Qn[1],an={r:Yt,fill:We,stroke:sn,lineWidth:Dn};Gt?Ae||Ae===void 0?Gt.attr(Object(s.a)(Object(s.a)({},an),{x:-fr/2,y:0})):Gt.remove():Ae&&_.addShape("circle",{attrs:Object(s.a)(Object(s.a)({},an),{x:-fr/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),Jt?(Ht||Ht===void 0||Jt.remove(),Jt.attr(Object(s.a)(Object(s.a)({},an),{x:fr/2,y:0}))):Ht&&_.addShape("circle",{attrs:Object(s.a)(Object(s.a)({},an),{x:fr/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),ce?(he||he===void 0||ce.remove(),ce.attr(Object(s.a)(Object(s.a)({},an),{x:0,y:-ar/2}))):he&&_.addShape("circle",{attrs:Object(s.a)(Object(s.a)({},an),{x:0,y:-ar/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),fe?En||En===void 0?fe.attr(Object(s.a)(Object(s.a)({},an),{x:0,y:ar/2})):fe.remove():En&&_.addShape("circle",{attrs:Object(s.a)(Object(s.a)({},an),{x:0,y:ar/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(F,_,$,dt){_.get("keyShape").attr(Object(s.a)({},$)),this.updateLabel(F,_),dt&&this.updateIcon(F,_)},updateIcon:function(F,_){var $=this,dt=_.getContainer(),Gt=this.getOptions(F).icon,Jt=(F.icon?F.icon:{show:void 0}).show,ce=dt.find(function(Dn){return Dn.get("className")===$.type+"-icon"});if(ce)if(Jt||Jt===void 0){var fe=Object(h.A)({},ce.attr(),Gt),De=fe.width,We=fe.height;ce.attr(Object(s.a)(Object(s.a)({},fe),{x:-De/2,y:-We/2}))}else ce.remove();else if(Jt){De=Gt.width,We=Gt.height,dt.addShape("image",{attrs:Object(s.a)(Object(s.a)({},Gt),{x:-De/2,y:-We/2}),className:this.type+"-icon",name:this.type+"-icon"});var sn=dt.find(function(Dn){return Dn.get("className")==="node-label"});sn&&sn.toFront()}}},kr=Object(s.a)(Object(s.a)({},Br),Pr);Yr.registerNode("single-node",kr);var mi={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:At.defaultEdge.size,style:{x:0,y:0,stroke:At.defaultEdge.style.stroke,lineAppendWidth:At.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:At.edgeLabel.style.fill,fontSize:At.edgeLabel.style.fontSize}},stateStyles:Object(s.a)({},At.edgeStateStyles)},getPath:function(F){var _=[];return Object(h.f)(F,function($,dt){dt===0?_.push(["M",$.x,$.y]):_.push(["L",$.x,$.y])}),_},getShapeStyle:function(F){var _=this.options.style,$={stroke:F.color},dt=Object(h.A)({},_,$,F.style),Gt=F.size||At.defaultEdge.size,Jt=(F=this.getPathPoints(F)).startPoint,ce=F.endPoint,fe=this.getControlPoints(F),De=[Jt];fe&&(De=De.concat(fe)),De.push(ce);var We=this.getPath(De);return Object(h.A)({},At.defaultEdge.style,{stroke:At.defaultEdge.color,lineWidth:Gt,path:We},dt)},updateShapeStyle:function(F,_){var $=_.getContainer(),dt={stroke:F.color},Gt=$.find(function(En){return En.get("className")==="edge-shape"})||_.getKeyShape(),Jt=F.size,ce=(F=this.getPathPoints(F)).startPoint,fe=F.endPoint,De=this.getControlPoints(F),We=[ce];De&&(We=We.concat(De)),We.push(fe);var sn=Gt.attr(),Dn=Object(h.A)({},dt,sn,F.style),Yt=F.sourceNode,Zt=F.targetNode,Ae={radius:Dn.radius};De||(Ae={source:Yt,target:Zt,offset:Dn.offset,radius:Dn.radius}),sn.endArrow&&Dn.endArrow===!1&&(F.style.endArrow={path:""}),sn.startArrow&&Dn.startArrow===!1&&(F.style.startArrow={path:""});var Ht=this.getPath(We,Ae),he=Object(h.A)(dt,Gt.attr(),{lineWidth:Jt,path:Ht},F.style);Gt&&Gt.attr(he)},getLabelStyleByPosition:function(F,_,$){var dt,Gt=_.position||this.labelPosition,Jt={},ce=$&&$.find(function(Dn){return Dn.get("className")==="edge-shape"});dt=Gt==="start"?0:Gt==="end"?1:.5;var fe=_.refX||this.refX,De=_.refY||this.refY;if(F.startPoint.x===F.endPoint.x&&F.startPoint.y===F.endPoint.y)return Jt.x=F.startPoint.x+fe,Jt.y=F.startPoint.y+De,Jt.text=F.label,Jt;var We=Object(h.s)(_.autoRotate)?this.labelAutoRotate:_.autoRotate,sn=_n(ce,dt,fe,De,We);return Jt.x=sn.x,Jt.y=sn.y,Jt.rotate=sn.rotate,Jt.textAlign=this._getTextAlign(Gt,sn.angle),Jt.text=F.label,Jt},getLabelBgStyleByPosition:function(F,_,$,dt){if(!F)return{};var Gt=F.getBBox(),Jt=$.style&&$.style.background;if(!Jt)return{};var ce,fe=Jt.padding,De=Gt.width+fe[1]+fe[3],We=Gt.height+fe[0]+fe[2],sn=$.position||this.labelPosition,Dn=Object(s.a)(Object(s.a)({},Jt),{width:De,height:We,x:Gt.minX-fe[2],y:Gt.minY-fe[0],rotate:0}),Yt=Object(h.s)($.autoRotate)?this.labelAutoRotate:$.autoRotate,Zt=dt&&dt.find(function(Qn){return Qn.get("className")==="edge-shape"});ce=sn==="start"?0:sn==="end"?1:.5;var Ae=$.refX||this.refX,Ht=$.refY||this.refY;if(_.startPoint.x===_.endPoint.x&&_.startPoint.y===_.endPoint.y)return Dn.x=_.startPoint.x+Ae-De/2,Dn.y=_.startPoint.y+Ht-We/2,Dn;var he=_n(Zt,ce,Ae-De/2,Ht+We/2,Yt),En=he.angle;return En>.5*Math.PI&&En<1.5*Math.PI&&(he=_n(Zt,ce,Ae+De/2,Ht+We/2,Yt)),Yt&&(Dn.x=he.x,Dn.y=he.y),Dn.rotate=he.rotate,Dn},_getTextAlign:function(F,_){var $="center";return _?(_%=2*Math.PI,F!=="center"&&($=_>=0&&_<=Math.PI/2||_>=1.5*Math.PI&&_<2*Math.PI?F:function(dt){var Gt=dt;return dt==="start"?Gt="end":dt==="end"&&(Gt="start"),Gt}(F)),$):F},getControlPoints:function(F){return F.controlPoints},getPathPoints:function(F){return F},drawShape:function(F,_){var $=this.getShapeStyle(F);return _.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:$})},drawLabel:function(F,_){var $=this.options.labelCfg,dt=Object(h.e)({fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},$,F.labelCfg),Gt=this.getLabelStyle(F,dt,_),Jt=Gt.rotate;delete Gt.rotate;var ce=_.addShape("text",{attrs:Gt,name:"text-shape"});if(Jt&&ce.rotateAtStart(Jt),Gt.background){var fe=this.drawLabelBg(F,_,ce),De=this.itemType+"-label-bg";fe.set("classname",De),ce.toFront()}return ce},drawLabelBg:function(F,_,$){var dt=this.options.labelCfg,Gt=Object(h.e)({},dt,F.labelCfg),Jt=this.getLabelStyle(F,Gt,_).rotate,ce=this.getLabelBgStyleByPosition($,F,Gt,_);delete ce.rotate;var fe=_.addShape("rect",{name:"text-bg-shape",attrs:ce});return Jt&&fe.rotateAtStart(Jt),fe}},$r=Object(s.a)(Object(s.a)({},Br),mi);Yr.registerEdge("single-edge",$r),Yr.registerEdge("line",{getControlPoints:function(){}},"single-edge"),Yr.registerEdge("spline",{getPath:function(F){return Ni(F)}},"single-edge"),Yr.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(F){var _,$,dt=F.startPoint,Gt=F.endPoint,Jt=(dt.x+Gt.x)/2,ce=(dt.y+Gt.y)/2;if(F.controlPoints!==void 0){if($=F.controlPoints[0],_=ft(dt,$,Gt),dt.x<=Gt.x&&dt.y>Gt.y?this.clockwise=_.x>$.x?0:1:dt.x<=Gt.x&&dt.y<Gt.y?this.clockwise=_.x>$.x?1:0:dt.x>Gt.x&&dt.y<=Gt.y?this.clockwise=_.y<$.y?0:1:this.clockwise=_.y<$.y?1:0,($.x-dt.x)/($.y-dt.y)==(Gt.x-dt.x)/(Gt.y-dt.y))return[]}else{F.curveOffset===void 0&&(F.curveOffset=this.curveOffset),Object(h.m)(F.curveOffset)&&(F.curveOffset=F.curveOffset[0]),F.curveOffset<0?this.clockwise=0:this.clockwise=1;var fe={x:Gt.x-dt.x,y:Gt.y-dt.y},De=Math.atan2(fe.y,fe.x);$={x:F.curveOffset*Math.cos(-Math.PI/2+De)+Jt,y:F.curveOffset*Math.sin(-Math.PI/2+De)+ce},_=ft(dt,$,Gt)}var We=st(dt,_);return[{x:We,y:We}]},getPath:function(F){var _=[];return _.push(["M",F[0].x,F[0].y]),F.length===2?_.push(["L",F[1].x,F[1].y]):_.push(["A",F[1].x,F[1].y,0,0,this.clockwise,F[2].x,F[2].y]),_}},"single-edge"),Yr.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(F){var _=F.controlPoints;if(!_||!_.length){var $=F.startPoint,dt=F.endPoint;F.curveOffset===void 0&&(F.curveOffset=this.curveOffset),F.curvePosition===void 0&&(F.curvePosition=this.curvePosition),Object(h.m)(this.curveOffset)&&(F.curveOffset=F.curveOffset[0]),Object(h.m)(this.curvePosition)&&(F.curvePosition=F.curveOffset[0]),_=[ji($,dt,F.curvePosition,F.curveOffset)]}return _},getPath:function(F){var _=[];return _.push(["M",F[0].x,F[0].y]),_.push(["Q",F[1].x,F[1].y,F[2].x,F[2].y]),_}},"single-edge"),Yr.registerEdge("cubic",{curvePosition:[.5,.5],curveOffset:[-20,20],getControlPoints:function(F){var _=F.controlPoints;if(F.curveOffset===void 0&&(F.curveOffset=this.curveOffset),F.curvePosition===void 0&&(F.curvePosition=this.curvePosition),Object(h.t)(F.curveOffset)&&(F.curveOffset=[F.curveOffset,-F.curveOffset]),Object(h.t)(F.curvePosition)&&(F.curvePosition=[F.curvePosition,1-F.curvePosition]),!_||!_.length||_.length<2){var $=F.startPoint,dt=F.endPoint;_=[ji($,dt,F.curvePosition[0],F.curveOffset[0]),ji($,dt,F.curvePosition[1],F.curveOffset[1])]}return _},getPath:function(F){var _=[];return _.push(["M",F[0].x,F[0].y]),_.push(["C",F[1].x,F[1].y,F[2].x,F[2].y,F[3].x,F[3].y]),_}},"single-edge"),Yr.registerEdge("cubic-vertical",{curvePosition:[.5,.5],getControlPoints:function(F){var _=F.startPoint,$=F.endPoint;return F.curvePosition!==void 0&&(this.curvePosition=F.curvePosition),Object(h.t)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]),[{x:_.x,y:($.y-_.y)*this.curvePosition[0]+_.y},{x:$.x,y:($.y-_.y)*this.curvePosition[1]+_.y}]}},"cubic"),Yr.registerEdge("cubic-horizontal",{curvePosition:[.5,.5],getControlPoints:function(F){var _=F.startPoint,$=F.endPoint;return F.curvePosition!==void 0&&(this.curvePosition=F.curvePosition),Object(h.t)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]),[{x:($.x-_.x)*this.curvePosition[0]+_.x,y:_.y},{x:($.x-_.x)*this.curvePosition[1]+_.x,y:$.y}]}},"cubic"),Yr.registerEdge("loop",{getPathPoints:function(F){return Hn(F)},getControlPoints:function(F){return F.controlPoints},afterDraw:function(F){F.controlPoints=void 0},afterUpdate:function(F){F.controlPoints=void 0}},"cubic");var Xr={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:At.comboLabel.refX,refY:At.comboLabel.refY,options:{style:{stroke:At.defaultCombo.style.stroke,fill:At.defaultCombo.style.fill,lineWidth:At.defaultCombo.style.lineWidth},labelCfg:{style:{fill:At.comboLabel.style.fill,fontSize:At.comboLabel.style.fontSize}},stateStyles:Object(s.a)({},At.comboStateStyles)},getSize:function(F){var _=Object(h.c)(F.size||this.options.size||At.defaultCombo.size);return Object(h.m)(_)&&_.length===1&&(_=[_[0],_[0]]),Object(h.m)(_)||(_=[_,_]),_},getLabelStyleByPosition:function(F,_){var $=_.position||this.labelPosition,dt=F.style,Gt=F.padding||this.options.padding;Object(h.m)(Gt)&&(Gt=Gt[0]);var Jt=_.refX,ce=_.refY;Object(h.s)(Jt)&&(Jt=this.refX),Object(h.s)(ce)&&(ce=this.refY);var fe,De=this.getSize(F),We=(Math.max(dt.r,De[0]/2)||De[0]/2)+Gt;switch($){case"top":fe={x:0,y:-We-ce,textBaseline:"bottom",textAlign:"center"};break;case"bottom":fe={x:0,y:We+ce,textBaseline:"bottom",textAlign:"center"};break;case"left":fe={x:-We+Jt,y:0,textAlign:"left"};break;case"center":fe={x:0,y:0,text:F.label,textAlign:"center"};break;default:fe={x:We+Jt,y:0,textAlign:"right"}}return fe.text=F.label,fe},drawShape:function(F,_){var $=this.shapeType,dt=this.getShapeStyle(F);return _.addShape($,{attrs:dt,draggable:!0,name:"combo-shape"})},updateShape:function(F,_,$){var dt=_.get("keyShape");(F.animate===void 0?this.options.animate:F.animate)&&dt.animate?dt.animate($,{duration:200,easing:"easeLinear"}):dt.attr(Object(s.a)({},$)),this.updateLabel(F,_)}},Nr=Object(s.a)(Object(s.a)({},Br),Xr);Yr.registerCombo("single-combo",Nr),Yr.registerCombo("circle",{options:{size:[At.defaultCombo.size[0],At.defaultCombo.size[0]],padding:At.defaultCombo.padding[0],animate:!0,style:{stroke:At.defaultCombo.style.stroke,fill:At.defaultCombo.style.fill,lineWidth:At.defaultCombo.style.lineWidth},labelCfg:{style:{fill:At.comboLabel.style.fill,fontSize:At.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:Object(s.a)({},At.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(F,_){var $=this.getShapeStyle(F);return delete $.height,delete $.width,_.addShape("circle",{attrs:$,className:"circle-combo",name:"circle-combo",draggable:!0})},getShapeStyle:function(F){var _=this.options.style,$=F.padding||this.options.padding;Object(h.m)($)&&($=$[0]);var dt,Gt={stroke:F.color},Jt=Object(h.A)({},_,Gt,F.style),ce=this.getSize(F);dt=!Object(h.t)(Jt.r)||isNaN(Jt.r)?ce[0]/2||At.defaultCombo.style.r:Math.max(Jt.r,ce[0]/2)||ce[0]/2,Jt.r=dt+$;var fe=Object(s.a)({x:0,y:0},Jt);return F.style?F.style.r=dt:F.style={r:dt},fe},update:function(F,_){var $=this.getSize(F),dt=F.padding||this.options.padding;Object(h.m)(dt)&&(dt=dt[0]);var Gt=Object(h.c)(F.style),Jt=Math.max(Gt.r,$[0]/2)||$[0]/2;Gt.r=Jt+dt;var ce=_.get("sizeCache");ce&&(ce.r=Gt.r);var fe={stroke:F.color},De=_.get("keyShape"),We=Object(h.A)({},De.attr(),fe,Gt);F.style?F.style.r=Jt:F.style={r:Jt},this.updateShape(F,_,We,!0)}},"single-combo"),Yr.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:At.defaultCombo.style.stroke,fill:At.defaultCombo.style.fill,lineWidth:At.defaultCombo.style.lineWidth},labelCfg:{style:{fill:At.comboLabel.style.fill,fontSize:At.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(s.a)({},At.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(F,_){var $=this.getShapeStyle(F);return _.addShape("rect",{attrs:$,className:"rect-combo",name:"rect-combo",draggable:!0})},getLabelStyleByPosition:function(F,_){var $=_.position||this.labelPosition,dt=F.style,Gt=F.padding||this.options.padding;Object(h.t)(Gt)&&(Gt=[Gt,Gt,Gt,Gt]);var Jt=_.refX,ce=_.refY;Object(h.s)(Jt)&&(Jt=this.refX),Object(h.s)(ce)&&(ce=this.refY);var fe,De=dt.width/2+Gt[3],We=dt.height/2+Gt[0];switch($){case"top":fe={x:0-De+Jt,y:0-We+ce,textBaseline:"top",textAlign:"left"};break;case"bottom":fe={x:0,y:We+ce,textBaseline:"bottom",textAlign:"center"};break;case"left":fe={x:0-De+ce,y:0,textAlign:"left"};break;case"center":fe={x:0,y:0,text:F.label,textAlign:"center"};break;default:fe={x:De+Jt,y:0,textAlign:"right"}}return fe.text=F.label,fe},getShapeStyle:function(F){var _=this.options.style,$=F.padding||this.options.padding;Object(h.t)($)&&($=[$,$,$,$]);var dt,Gt,Jt={stroke:F.color},ce=Object(h.A)({},_,Jt,F.style),fe=this.getSize(F);dt=!Object(h.t)(ce.width)||isNaN(ce.width)?fe[0]||At.defaultCombo.style.width:Math.max(ce.width,fe[0])||fe[0],Gt=!Object(h.t)(ce.height)||isNaN(ce.height)?fe[1]||At.defaultCombo.style.height:Math.max(ce.height,fe[1])||fe[1];var De=-dt/2-$[3],We=-Gt/2-$[0];ce.width=dt+$[1]+$[3],ce.height=Gt+$[0]+$[2];var sn=Object(s.a)({x:De,y:We},ce);return F.style?(F.style.width=dt,F.style.height=Gt):F.style={width:dt,height:Gt},sn},update:function(F,_){var $=this.getSize(F),dt=F.padding||this.options.padding;Object(h.t)(dt)&&(dt=[dt,dt,dt,dt]);var Gt=Object(h.c)(F.style),Jt=Math.max(Gt.width,$[0])||$[0],ce=Math.max(Gt.height,$[1])||$[1];Gt.width=Jt+dt[1]+dt[3],Gt.height=ce+dt[0]+dt[2];var fe=_.get("sizeCache");fe&&(fe.width=Gt.width,fe.height=Gt.height),Gt.x=-Jt/2-dt[3],Gt.y=-ce/2-dt[0];var De={stroke:F.color},We=_.get("keyShape"),sn=Object(h.A)({},We.attr(),De,Gt);F.style?(F.style.width=Jt,F.style.height=ce):F.style={width:Jt,height:ce},this.updateShape(F,_,sn,!1)},updateShape:function(F,_,$){var dt=_.get("keyShape");(F.animate===void 0?this.options.animate:F.animate)&&dt.animate?dt.animate($,{duration:200,easing:"easeLinear"}):dt.attr(Object(s.a)({},$)),this.updateLabel(F,_)}},"single-combo"),Yr.registerNode("simple-circle",{options:{size:At.defaultNode.size,style:{x:0,y:0,stroke:At.defaultNode.style.stroke,fill:At.defaultNode.style.fill,lineWidth:At.defaultNode.style.lineWidth},labelCfg:{style:{fill:At.nodeLabel.style.fill,fontSize:At.nodeLabel.style.fontSize}},stateStyles:Object(s.a)({},At.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",drawShape:function(F,_){var $=this.getShapeStyle(F);return _.addShape("circle",{attrs:$,className:this.type+"-keyShape",draggable:!0})},getShapeStyle:function(F){var _=this.getOptions(F).style,$={stroke:F.color},dt=Object(h.e)({},_,$),Gt=this.getSize(F)[0]/2;return Object(s.a)({x:0,y:0,r:Gt},dt)},update:function(F,_){var $=this.getSize(F),dt={stroke:F.color,r:$[0]/2},Gt=_.get("keyShape"),Jt=Object(h.e)({},Gt.attr(),dt,F.style);this.updateShape(F,_,Jt,!0)}},"single-node"),Yr.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:At.defaultNode.style.stroke,fill:At.defaultNode.style.fill,lineWidth:At.defaultNode.style.lineWidth},labelCfg:{style:{fill:At.nodeLabel.style.fill,fontSize:At.nodeLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(s.a)({},At.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(F,_){var $=this.getShapeStyle(F);return _.addShape("rect",{attrs:$,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0})},getShapeStyle:function(F){var _=this.getOptions(F).style,$={stroke:F.color},dt=Object(h.A)({},_,$),Gt=this.getSize(F),Jt=dt.width||Gt[0],ce=dt.height||Gt[1];return Object(s.a)({x:-Jt/2,y:-ce/2,width:Jt,height:ce},dt)},update:function(F,_){_.getContainer();var $=this.getOptions({}).style,dt=this.getSize(F),Gt=_.get("keyShape");F.size||(dt[0]=Gt.attr("width")||$.width,dt[1]=Gt.attr("height")||$.height);var Jt={stroke:F.color,x:-dt[0]/2,y:-dt[1]/2,width:dt[0],height:dt[1]},ce=Object(h.A)({},$,Gt.attr(),Jt);ce=Object(h.A)(ce,F.style),this.updateShape(F,_,ce,!1)}},"single-node"),Yr.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(F,_){var $=this.shapeType,dt=this.getShapeStyle(F);delete dt.fill;var Gt=_.addShape($,{attrs:dt,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(F,Gt),Gt},drawClip:function(F,_){var $=this.getOptions(F).clipCfg;if($.show){var dt=$.type,Gt=$.x,Jt=$.y,ce=$.style;if(dt==="circle"){var fe=$.r;_.setClip({type:"circle",attrs:Object(s.a)({r:fe,x:Gt,y:Jt},ce)})}else if(dt==="rect"){var De=$.width,We=$.height,sn=Gt-De/2,Dn=Jt-We/2;_.setClip({type:"rect",attrs:Object(s.a)({x:sn,y:Dn,width:De,height:We},ce)})}else if(dt==="ellipse"){var Yt=$.rx,Zt=$.ry;_.setClip({type:"ellipse",attrs:Object(s.a)({x:Gt,y:Jt,rx:Yt,ry:Zt},ce)})}else if(dt==="polygon"){var Ae=$.points;_.setClip({type:"polygon",attrs:Object(s.a)({points:Ae},ce)})}else if(dt==="path"){var Ht=$.path;_.setClip({type:"path",attrs:Object(s.a)({path:Ht},ce)})}}},getShapeStyle:function(F){var _=this.getOptions(F).style,$=this.getSize(F),dt=this.getOptions(F).img,Gt=$[0],Jt=$[1];return _&&(Gt=_.width||$[0],Jt=_.height||$[1]),Object(s.a)({x:-Gt/2,y:-Jt/2,width:Gt,height:Jt,img:dt},_)},updateShapeStyle:function(F,_){var $=_.getContainer(),dt=this.itemType+"-shape",Gt=$.find(function(ce){return ce.get("className")===dt})||_.getKeyShape(),Jt=this.getShapeStyle(F);Gt&&Gt.attr(Jt)}},"single-node");var Hr,oi={triangle:function(F,_,$){F===void 0&&(F=10),_===void 0&&(_=15),$===void 0&&($=0);var dt=2*$;return"M "+dt+",0 L "+(dt+_)+",-"+F/2+" L "+(dt+_)+","+F/2+" Z"},vee:function(F,_,$){F===void 0&&(F=15),_===void 0&&(_=20),$===void 0&&($=0);var dt=2*$;return"M "+dt+",0 L "+(dt+_)+",-"+F/2+`
        L `+(dt+2*_/3)+",0 L "+(dt+_)+","+F/2+" Z"},circle:function(F,_){return F===void 0&&(F=5),_===void 0&&(_=0),"M "+2*_+`, 0
            a `+F+","+F+" 0 1,0 "+2*F+`,0
            a `+F+","+F+" 0 1,0 "+2*-F+",0"},rect:function(F,_,$){F===void 0&&(F=10),_===void 0&&(_=10),$===void 0&&($=0);var dt=2*$;return"M "+dt+","+-F/2+` 
        L `+(dt+_)+","+-F/2+` 
        L `+(dt+_)+","+F/2+` 
        L `+dt+","+F/2+" Z"},diamond:function(F,_,$){F===void 0&&(F=15),_===void 0&&(_=15),$===void 0&&($=0);var dt=2*$;return"M "+dt+`,0 
        L `+(dt+_/2)+","+-F/2+` 
        L `+(dt+_)+`,0 
        L `+(dt+_/2)+","+F/2+" Z"},triangleRect:function(F,_,$,dt,Gt,Jt){F===void 0&&(F=15),_===void 0&&(_=15),$===void 0&&($=15),dt===void 0&&(dt=3),Gt===void 0&&(Gt=5),Jt===void 0&&(Jt=0);var ce=2*Jt,fe=ce+_+Gt;return"M "+ce+",0 L "+(ce+_)+",-"+F/2+" L "+(ce+_)+","+F/2+` Z
            M `+fe+", -"+$/2+`
            L `+(fe+dt)+" -"+$/2+`
            L `+(fe+dt)+" "+$/2+`
            L `+fe+" "+$/2+`
            Z`}},yi={collapse:function(F,_,$){return[["M",F-$,_],["a",$,$,0,1,0,2*$,0],["a",$,$,0,1,0,2*-$,0],["M",F-$+4,_],["L",F+$-4,_]]},expand:function(F,_,$){return[["M",F-$,_],["a",$,$,0,1,0,2*$,0],["a",$,$,0,1,0,2*-$,0],["M",F-$+4,_],["L",F-$+2*$-4,_],["M",F-$+$,_-$+4],["L",F,_+$-4]]},upTriangle:function(F,_,$){var dt=$*Math.cos(Math.PI/6),Gt=$*Math.sin(Math.PI/6);return[["M",F-dt,_+Gt],["L",F+dt,_+Gt],["L",F,_-$],["Z"]]},downTriangle:function(F,_,$){var dt=$*Math.cos(Math.PI/6),Gt=$*Math.sin(Math.PI/6);return[["M",F-dt,_-Gt],["L",F+dt,_-Gt],["L",F,_+$],["Z"]]}},si=Yr,ti=v.a.transform,zi=Object(s.a)(Object(s.a)(Object(s.a)(Object(s.a)(Object(s.a)({},d),S),b),n),{transform:ti,mat3:v.b}),qi=function(){function ge(F){this.graph=F,this.layoutCfg=F.get("layout")||{},this.layoutType=this.layoutCfg.type,this.initLayout()}return ge.prototype.initLayout=function(){},ge.prototype.getLayoutType=function(){return this.layoutCfg.type},ge.prototype.refreshLayout=function(){var F=this.graph;F&&(F.get("animate")?F.positionsAnimate():F.refreshPositions())},ge.prototype.changeLayout=function(F){var _=this.graph,$=this.layoutMethod;this.layoutType=F,this.layoutCfg=_.get("layout")||{},this.layoutCfg.type=F,$&&$.destroy(),this.layout()},ge.prototype.changeData=function(){var F=this.layoutMethod;F&&F.destroy(),this.layout()},ge.prototype.destroyLayout=function(){var F=this.layoutMethod,_=this.graph;F&&F.destroy(),_.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethod=void 0},ge.prototype.setDataFromGraph=function(){for(var F=[],_=[],$=[],dt=this.graph.getNodes(),Gt=this.graph.getEdges(),Jt=this.graph.getCombos(),ce=dt.length,fe=0;fe<ce;fe++){var De=dt[fe];if(De.isVisible()){var We=De.getModel();F.push(We)}}var sn=Gt.length;for(fe=0;fe<sn;fe++){var Dn=Gt[fe];Dn&&!Dn.destroyed&&Dn.isVisible()&&((We=Dn.getModel()).isComboEdge||_.push(We))}var Yt=Jt.length;for(fe=0;fe<Yt;fe++){var Zt=Jt[fe];!Zt.destroyed&&Zt.isVisible()&&(We=Zt.getModel(),$.push(We))}return{nodes:F,edges:_,combos:$}},ge.prototype.relayout=function(F){var _=this.graph,$=this.layoutMethod,dt=this.layoutCfg;if(F){this.data=this.setDataFromGraph();var Gt=this.data.nodes;if(!Gt)return!1;this.initPositions(dt.center,Gt),$.init(this.data)}this.layoutType==="force"&&($.ticking=!1,$.forceSimulation.stop()),_.emit("beforelayout"),$.execute(F),$.isCustomLayout&&dt.onLayoutEnd&&dt.onLayoutEnd()},ge.prototype.layoutAnimate=function(){},ge.prototype.moveToZero=function(){var F=this.graph.get("data").nodes;if(F[0].x!==void 0&&F[0].x!==null&&!$t(F[0].x)){for(var _=[0,0],$=F.length,dt=0;dt<$;dt++){var Gt=F[dt];_[0]+=Gt.x,_[1]+=Gt.y}for(_[0]/=F.length,_[1]/=F.length,dt=0;dt<$;dt++)(Gt=F[dt]).x-=_[0],Gt.y-=_[1]}},ge.prototype.initPositions=function(F,_){var $=this.graph;if(!_)return!1;var dt=!0,Gt=.85*$.get("width"),Jt=.85*$.get("height"),ce=_.length,fe=Math.ceil(Math.sqrt(ce)*(Gt/Jt)),De=Gt/(fe-1),We=Jt/(Math.ceil(ce/fe)-1);isFinite(De)&&De||(De=0),isFinite(We)&&De||(We=0);for(var sn=F[0]-Gt/2,Dn=F[1]-Jt/2,Yt=_.length,Zt=0;Zt<Yt;Zt++){var Ae=_[Zt];$t(Ae.x)&&(dt=!1,Ae.x=Zt%fe*De+sn),$t(Ae.y)&&(dt=!1,Ae.y=Math.floor(Zt/fe)*We+Dn)}return dt},ge.prototype.destroy=function(){var F=this.layoutMethod;this.graph=null,F&&(F.destroy(),F.destroyed=!0),this.destroyed=!0},ge}(),Sa=function(F){this.graph=F,this.destroyed=!1,this.initEvents()};(function(ge){ge.CLICK="click",ge.DBLCLICK="dblclick",ge.MOUSEDOWN="mousedown",ge.MOUDEUP="mouseup",ge.CONTEXTMENU="contextmenu",ge.MOUSEENTER="mouseenter",ge.MOUSEOUT="mouseout",ge.MOUSEOVER="mouseover",ge.MOUSEMOVE="mousemove",ge.MOUSELEAVE="mouseleave",ge.DRAGSTART="dragstart",ge.DRAGEND="dragend",ge.DRAG="drag",ge.DRAGENTER="dragenter",ge.DRAGLEAVE="dragleave",ge.DRAGOVER="dragover",ge.DRAGOUT="dragout",ge.DDROP="drop",ge.KEYUP="keyup",ge.KEYDOWN="keydown",ge.WHEEL="wheel",ge.FOCUS="focus",ge.BLUR="blur",ge.TOUCHSTART="touchstart",ge.TOUCHMOVE="touchmove",ge.TOUCHEND="touchend",ge.NODE_CONTEXTMENU="node:contextmenu",ge.NODE_CLICK="node:click",ge.NODE_DBLCLICK="node:dblclick",ge.NODE_MOUSEDOWN="node:mousedown",ge.NODE_MOUSEUP="node:mouseup",ge.NODE_MOUSEENTER="node:mouseenter",ge.NODE_MOUSELEAVE="node:mouseleave",ge.NODE_MOUSEMOVE="node:mousemove",ge.NODE_MOUSEOUT="node:mouseout",ge.NODE_MOUSEOVER="node:mouseover",ge.NODE_DROP="node:drop",ge.NODE_DRAGOVER="node:dragover",ge.NODE_DRAGENTER="node:dragenter",ge.NODE_DRAGLEAVE="node:dragleave",ge.NODE_DRAGSTART="node:dragstart",ge.NODE_DRAG="node:drag",ge.NODE_DRAGEND="node:dragend",ge.COMBO_CONTEXTMENU="combo:contextmenu",ge.COMBO_CLICK="combo:click",ge.COMBO_DBLCLICK="combo:dblclick",ge.COMBO_MOUSEDOWN="combo:mousedown",ge.COMBO_MOUSEUP="combo:mouseup",ge.COMBO_MOUSEENTER="combo:mouseenter",ge.COMBO_MOUSELEAVE="combo:mouseleave",ge.COMBO_MOUSEMOVE="combo:mousemove",ge.COMBO_MOUSEOUT="combo:mouseout",ge.COMBO_MOUSEOVER="combo:mouseover",ge.COMBO_DROP="combo:drop",ge.COMBO_DRAGOVER="combo:dragover",ge.COMBO_DRAGENTER="combo:dragenter",ge.COMBO_DRAGLEAVE="combo:dragleave",ge.COMBO_DRAGSTART="combo:dragstart",ge.COMBO_DRAG="combo:drag",ge.COMBO_DRAGEND="combo:dragend",ge.EDGE_CONTEXTMENU="edge:contextmenu",ge.EDGE_CLICK="edge:click",ge.EDGE_DBLCLICK="edge:dblclick",ge.EDGE_MOUSEDOWN="edge:mousedown",ge.EDGE_MOUSEUP="edge:mouseup",ge.EDGE_MOUSEENTER="edge:mouseenter",ge.EDGE_MOUSELEAVE="edge:mouseleave",ge.EDGE_MOUSEMOVE="edge:mousemove",ge.EDGE_MOUSEOUT="edge:mouseout",ge.EDGE_MOUSEOVER="edge:mouseover",ge.EDGE_DROP="edge:drop",ge.EDGE_DRAGOVER="edge:dragover",ge.EDGE_DRAGENTER="edge:dragenter",ge.EDGE_DRAGLEAVE="edge:dragleave",ge.CANVAS_CONTEXTMENU="canvas:contextmenu",ge.CANVAS_CLICK="canvas:click",ge.CANVAS_DBLCLICK="canvas:dblclick",ge.CANVAS_MOUSEDOWN="canvas:mousedown",ge.CANVAS_MOUSEUP="canvas:mouseup",ge.CANVAS_MOUSEENTER="canvas:mouseenter",ge.CANVAS_MOUSELEAVE="canvas:mouseleave",ge.CANVAS_MOUSEMOVE="canvas:mousemove",ge.CANVAS_MOUSEOUT="canvas:mouseout",ge.CANVAS_MOUSEOVER="canvas:mouseover",ge.CANVAS_DROP="canvas:drop",ge.CANVAS_DRAGENTER="canvas:dragenter",ge.CANVAS_DRAGLEAVE="canvas:dragleave",ge.CANVAS_DRAGSTART="canvas:dragstart",ge.CANVAS_DRAG="canvas:drag",ge.CANVAS_DRAGEND="canvas:dragend",ge.BEFORERENDER="beforerender",ge.AFTERRENDER="afterrender",ge.BEFOREADDITEM="beforeadditem",ge.AFTERADDITEM="afteradditem",ge.BEFOREREMOVEITEM="beforeremoveitem",ge.AFTERREMOVEITEM="afterremoveitem",ge.BEFOREUPDATEITEM="beforeupdateitem",ge.AFTERUPDATEITEM="afterupdateitem",ge.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",ge.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",ge.BEFOREITEMSTATECHANGE="beforeitemstatechange",ge.AFTERITEMSTATECHANGE="afteritemstatechange",ge.BEFOREITEMREFRESH="beforeitemrefresh",ge.AFTERITEMREFRESH="afteritemrefresh",ge.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",ge.AFTERITEMSTATESCLEAR="afteritemstatesclear",ge.BEFOREMODECHANGE="beforemodechange",ge.AFTERMODECHANGE="aftermodechange",ge.BEFORELAYOUT="beforelayout",ge.AFTERLAYOUT="afterlayout",ge.BEFORECREATEEDGE="beforecreateedge",ge.AFTERCREATEEDGE="aftercreateedge",ge.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",ge.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",ge.BEFOREGRAPHREFRESH="beforegraphrefresh",ge.AFTERGRAPHREFRESH="aftergraphrefresh",ge.BEFOREANIMATE="beforeanimate",ge.AFTERANIMATE="afteranimate",ge.BEFOREPAINT="beforepaint",ge.AFTERPAINT="afterpaint",ge.BEFORECOLLAPSEEXPANDCOMBO="beforecollapseexpandcombo",ge.AFTERCOLLAPSEEXPANDCOMBO="aftercollapseexpandcombo",ge.GRAPHSTATECHANGE="graphstatechange",ge.AFTERACTIVATERELATIONS="afteractivaterelations",ge.NODESELECTCHANGE="nodeselectchange",ge.TOOLTIPCHANGE="tooltipchange",ge.WHEELZOOM="wheelzoom",ge.VIEWPORTCHANGE="viewportchange",ge.DRAGNODEEND="dragnodeend",ge.STACKCHANGE="stackchange"})(Hr||(Hr={}));var ea=si.registerNode,Fa=si.registerEdge,Ua=si.registerCombo,Na=o.registerBehavior,va=At;si.registerNode,si.registerEdge,si.registerCombo,o.registerBehavior},function(a,M){a.exports=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),function(n){n.TextureCompressionBC="texture-compression-bc"}(M.ExtensionName||(M.ExtensionName={})),function(n){n.ClampToEdge="clamp-to-edge",n.Repeat="repeat",n.MirrorRepeat="mirror-repeat"}(M.AddressMode||(M.AddressMode={})),function(n){n.UniformBuffer="uniform-buffer",n.StorageBuffer="storage-buffer",n.ReadonlyStorageBuffer="readonly-storage-buffer",n.Sampler="sampler",n.ComparisonSampler="comparison-sampler",n.SampledTexture="sampled-texture",n.ReadonlyStorageTexture="readonly-storage-texture",n.WriteonlyStorageTexture="writeonly-storage-texture"}(M.BindingType||(M.BindingType={})),function(n){n.Zero="zero",n.One="one",n.SrcColor="src-color",n.OneMinusSrcColor="one-minus-src-color",n.SrcAlpha="src-alpha",n.OneMinusSrcAlpha="one-minus-src-alpha",n.DstColor="dst-color",n.OneMinusDstColor="one-minus-dst-color",n.DstAlpha="dst-alpha",n.OneMinusDstAlpha="one-minus-dst-alpha",n.SrcAlphaSaturated="src-alpha-saturated",n.BlendColor="blend-color",n.OneMinusBlendColor="one-minus-blend-color"}(M.BlendFactor||(M.BlendFactor={})),function(n){n.Add="add",n.Subtract="subtract",n.ReverseSubtract="reverse-subtract",n.Min="min",n.Max="max"}(M.BlendOperation||(M.BlendOperation={})),function(n){n.Never="never",n.Less="less",n.Equal="equal",n.LessEqual="less-equal",n.Greater="greater",n.NotEqual="not-equal",n.GreaterEqual="greater-equal",n.Always="always"}(M.CompareFunction||(M.CompareFunction={})),function(n){n.None="none",n.Front="front",n.Back="back"}(M.CullMode||(M.CullMode={})),function(n){n.Nearest="nearest",n.Linear="linear"}(M.FilterMode||(M.FilterMode={})),function(n){n.CCW="ccw",n.CW="cw"}(M.FrontFace||(M.FrontFace={})),function(n){n.Uint16="uint16",n.Uint32="uint32"}(M.IndexFormat||(M.IndexFormat={})),function(n){n.Vertex="vertex",n.Instance="instance"}(M.InputStepMode||(M.InputStepMode={})),function(n){n.Load="load"}(M.LoadOp||(M.LoadOp={})),function(n){n.PointList="point-list",n.LineList="line-list",n.LineStrip="line-strip",n.TriangleList="triangle-list",n.TriangleStrip="triangle-strip"}(M.PrimitiveTopology||(M.PrimitiveTopology={})),function(n){n.Keep="keep",n.Zero="zero",n.Replace="replace",n.Invert="invert",n.IncrementClamp="increment-clamp",n.DecrementClamp="decrement-clamp",n.IncrementWrap="increment-wrap",n.DecrementWrap="decrement-wrap"}(M.StencilOperation||(M.StencilOperation={})),function(n){n.Store="store",n.Clear="clear"}(M.StoreOp||(M.StoreOp={})),function(n){n.E1d="1d",n.E2d="2d",n.E3d="3d"}(M.TextureDimension||(M.TextureDimension={})),function(n){n.R8Unorm="r8unorm",n.R8Snorm="r8snorm",n.R8Uint="r8uint",n.R8Sint="r8sint",n.R16Uint="r16uint",n.R16Sint="r16sint",n.R16Float="r16float",n.RG8Unorm="rg8unorm",n.RG8Snorm="rg8snorm",n.RG8Uint="rg8uint",n.RG8Sint="rg8sint",n.R32Uint="r32uint",n.R32Sint="r32sint",n.R32Float="r32float",n.RG16Uint="rg16uint",n.RG16Sint="rg16sint",n.RG16Float="rg16float",n.RGBA8Unorm="rgba8unorm",n.RGBA8UnormSRGB="rgba8unorm-srgb",n.RGBA8Snorm="rgba8snorm",n.RGBA8Uint="rgba8uint",n.RGBA8Sint="rgba8sint",n.BGRA8Unorm="bgra8unorm",n.BGRA8UnormSRGB="bgra8unorm-srgb",n.RGB10A2Unorm="rgb10a2unorm",n.RG11B10Float="rg11b10float",n.RG32Uint="rg32uint",n.RG32Sint="rg32sint",n.RG32Float="rg32float",n.RGBA16Uint="rgba16uint",n.RGBA16Sint="rgba16sint",n.RGBA16Float="rgba16float",n.RGBA32Uint="rgba32uint",n.RGBA32Sint="rgba32sint",n.RGBA32Float="rgba32float",n.Depth32Float="depth32float",n.Depth24Plus="depth24plus",n.Depth24PlusStencil8="depth24plus-stencil8"}(M.TextureFormat||(M.TextureFormat={})),function(n){n.Float="float",n.Sint="sint",n.Uint="uint"}(M.TextureComponentType||(M.TextureComponentType={})),function(n){n.E1d="1d",n.E2d="2d",n.E2dArray="2d-array",n.Cube="cube",n.CubeArray="cube-array",n.E3d="3d"}(M.TextureViewDimension||(M.TextureViewDimension={})),function(n){n.Uchar2="uchar2",n.Uchar4="uchar4",n.Char2="char2",n.Char4="char4",n.Uchar2Norm="uchar2norm",n.Uchar4Norm="uchar4norm",n.Char2Norm="char2norm",n.Char4Norm="char4norm",n.Ushort2="ushort2",n.Ushort4="ushort4",n.Short2="short2",n.Short4="short4",n.Ushort2Norm="ushort2norm",n.Ushort4Norm="ushort4norm",n.Short2Norm="short2norm",n.Short4Norm="short4norm",n.Half2="half2",n.Half4="half4",n.Float="float",n.Float2="float2",n.Float3="float3",n.Float4="float4",n.Uint="uint",n.Uint2="uint2",n.Uint3="uint3",n.Uint4="uint4",n.Int="int",n.Int2="int2",n.Int3="int3",n.Int4="int4"}(M.VertexFormat||(M.VertexFormat={})),function(n){n.All="all",n.StencilOnly="stencil-only",n.DepthOnly="depth-only"}(M.TextureAspect||(M.TextureAspect={})),function(n){n.Error="error",n.Warning="warning",n.Info="info"}(M.CompilationMessageType||(M.CompilationMessageType={})),function(n){n.Occlusion="occlusion"}(M.QueryType||(M.QueryType={})),function(n){n[n.MapRead=1]="MapRead",n[n.MapWrite=2]="MapWrite",n[n.CopySrc=4]="CopySrc",n[n.CopyDst=8]="CopyDst",n[n.Index=16]="Index",n[n.Vertex=32]="Vertex",n[n.Uniform=64]="Uniform",n[n.Storage=128]="Storage",n[n.Indirect=256]="Indirect",n[n.QueryResolve=512]="QueryResolve"}(M.BufferUsage||(M.BufferUsage={})),function(n){n[n.Red=1]="Red",n[n.Green=2]="Green",n[n.Blue=4]="Blue",n[n.Alpha=8]="Alpha",n[n.All=15]="All"}(M.ColorWrite||(M.ColorWrite={})),function(n){n[n.Vertex=1]="Vertex",n[n.Fragment=2]="Fragment",n[n.Compute=4]="Compute"}(M.ShaderStage||(M.ShaderStage={})),function(n){n[n.CopySrc=1]="CopySrc",n[n.CopyDst=2]="CopyDst",n[n.Sampled=4]="Sampled",n[n.Storage=8]="Storage",n[n.OutputAttachment=16]="OutputAttachment"}(M.TextureUsage||(M.TextureUsage={})),function(n){n[n.Read=1]="Read",n[n.Write=2]="Write"}(M.MapMode||(M.MapMode={}))},function(a,M){function t(n,d){for(var S=0;S<d.length;S++){var b=d[S];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(n,b.key,b)}}a.exports=function(n,d,S){return d&&t(n.prototype,d),S&&t(n,S),n}},function(a,M,t){a.exports=t(442)},function(a,M,t){"use strict";t.d(M,"b",function(){return d.a}),t.d(M,"c",function(){return d.d}),t.d(M,"d",function(){return d.e}),t.d(M,"a",function(){return n});var n={};t.r(n),t.d(n,"leftTranslate",function(){return S}),t.d(n,"leftRotate",function(){return b}),t.d(n,"leftScale",function(){return h}),t.d(n,"transform",function(){return E}),t.d(n,"direction",function(){return T}),t.d(n,"angleTo",function(){return o}),t.d(n,"vertical",function(){return s});var d=t(2);function S(u,v,C){var O=[0,0,0,0,0,0,0,0,0];return d.a.fromTranslation(O,C),d.a.multiply(u,O,v)}function b(u,v,C){var O=[0,0,0,0,0,0,0,0,0];return d.a.fromRotation(O,C),d.a.multiply(u,O,v)}function h(u,v,C){var O=[0,0,0,0,0,0,0,0,0];return d.a.fromScaling(O,C),d.a.multiply(u,O,v)}function E(u,v){for(var C,O,j,p=u?[].concat(u):[1,0,0,0,1,0,0,0,1],x=0,A=v.length;x<A;x++){var k=v[x];switch(k[0]){case"t":S(p,p,[k[1],k[2]]);break;case"s":h(p,p,[k[1],k[2]]);break;case"r":b(p,p,k[1]);break;case"m":C=p,O=p,j=k[1],d.a.multiply(C,j,O)}}return p}function T(u,v){return u[0]*v[1]-v[0]*u[1]}function o(u,v,C){var O=d.d.angle(u,v),j=T(u,v)>=0;return C?j?2*Math.PI-O:O:j?O:2*Math.PI-O}function s(u,v,C){return C?(u[0]=v[1],u[1]=-1*v[0]):(u[0]=-1*v[1],u[1]=v[0]),u}},function(a,M,t){"use strict";t.d(M,"b",function(){return n}),t.d(M,"a",function(){return d}),t.d(M,"c",function(){return S});var n=1e-6,d=typeof Float32Array!="undefined"?Float32Array:Array,S=Math.random;Math.hypot||(Math.hypot=function(){for(var b=0,h=arguments.length;h--;)b+=arguments[h]*arguments[h];return Math.sqrt(b)})},function(a,M){a.exports=function(t,n,d,S){d&&Object.defineProperty(t,n,{enumerable:d.enumerable,configurable:d.configurable,writable:d.writable,value:d.initializer?d.initializer.call(S):void 0})}},function(a,M){a.exports=function(t,n,d,S,b){var h={};return Object.keys(S).forEach(function(E){h[E]=S[E]}),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=d.slice().reverse().reduce(function(E,T){return T(t,n,E)||E},h),b&&h.initializer!==void 0&&(h.value=h.initializer?h.initializer.call(b):void 0,h.initializer=void 0),h.initializer===void 0&&(Object.defineProperty(t,n,h),h=null),h}},function(a,M,t){"use strict";function n(o,s,u){if(o){if(typeof o.addEventListener=="function")return o.addEventListener(s,u,!1),{remove:function(){o.removeEventListener(s,u,!1)}};if(typeof o.attachEvent=="function")return o.attachEvent("on"+s,u),{remove:function(){o.detachEvent("on"+s,u)}}}}var d,S,b,h;function E(o){d||(d=document.createElement("table"),S=document.createElement("tr"),b=/^\s*<(\w+|!)[^>]*>/,h={tr:document.createElement("tbody"),tbody:d,thead:d,tfoot:d,td:S,th:S,"*":document.createElement("div")});var s=b.test(o)&&RegExp.$1;s&&s in h||(s="*");var u=h[s];o=o.replace(/(^\s*)|(\s*$)/g,""),u.innerHTML=""+o;var v=u.childNodes[0];return u.removeChild(v),v}function T(o,s){if(o)for(var u in s)s.hasOwnProperty(u)&&(o.style[u]=s[u]);return o}t.d(M,"a",function(){return n}),t.d(M,"b",function(){return E}),t.d(M,"c",function(){return T})},function(a,M){function t(n,d,S,b,h,E,T){try{var o=n[E](T),s=o.value}catch(u){return void S(u)}o.done?d(s):Promise.resolve(s).then(b,h)}a.exports=function(n){return function(){var d=this,S=arguments;return new Promise(function(b,h){var E=n.apply(d,S);function T(s){t(E,b,h,T,o,"next",s)}function o(s){t(E,b,h,T,o,"throw",s)}T(void 0)})}}},function(a,M,t){"use strict";t.d(M,"a",function(){return n}),t.d(M,"b",function(){return d});var n={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},d={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"}},function(a,M,t){"use strict";t.d(M,"d",function(){return d}),t.d(M,"b",function(){return S}),t.d(M,"e",function(){return b}),t.d(M,"f",function(){return h}),t.d(M,"l",function(){return E}),t.d(M,"j",function(){return T});var n=t(0);function d(){return window?window.devicePixelRatio:1}function S(o,s,u,v){var C=o-u,O=s-v;return Math.sqrt(C*C+O*O)}function b(o,s,u,v,C,O){return C>=o&&C<=o+u&&O>=s&&O<=s+v}function h(o,s){return!(s.minX>o.maxX||s.maxX<o.minX||s.minY>o.maxY||s.maxY<o.minY)}function E(o,s){return o&&s?{minX:Math.min(o.minX,s.minX),minY:Math.min(o.minY,s.minY),maxX:Math.max(o.maxX,s.maxX),maxY:Math.max(o.maxY,s.maxY)}:o||s}function T(o,s){return o[0]===s[0]&&o[1]===s[1]}t.d(M,"i",function(){return n.s}),t.d(M,"k",function(){return n.x}),t.d(M,"h",function(){return n.r}),t.d(M,"g",function(){return n.m}),t.d(M,"c",function(){return n.f}),t.d(M,"o",function(){return n.G}),t.d(M,"m",function(){return n.B}),t.d(M,"n",function(){return n.D}),t.d(M,"a",function(){return n.b})},function(a,M,t){"use strict";var n=t(51);t.d(M,"PathUtil",function(){return n});var d=t(156);t.o(d,"ICanvas")&&t.d(M,"ICanvas",function(){return d.ICanvas}),t.o(d,"IGroup")&&t.d(M,"IGroup",function(){return d.IGroup}),t.o(d,"IShape")&&t.d(M,"IShape",function(){return d.IShape});var S=t(157);t.o(S,"ICanvas")&&t.d(M,"ICanvas",function(){return S.ICanvas}),t.o(S,"IGroup")&&t.d(M,"IGroup",function(){return S.IGroup}),t.o(S,"IShape")&&t.d(M,"IShape",function(){return S.IShape});var b=t(115);t.d(M,"Event",function(){return b.a}),t(116);var h=t(247);t.d(M,"AbstractCanvas",function(){return h.a});var E=t(159);t.d(M,"AbstractGroup",function(){return E.a});var T=t(160);t.d(M,"AbstractShape",function(){return T.a});var o=t(248);t.d(M,"getBBoxMethod",function(){return o.a});var s=t(69);t.d(M,"getTextHeight",function(){return s.b}),t.d(M,"assembleFont",function(){return s.a});var u=t(19);t.d(M,"isAllowCapture",function(){return u.b});var v=t(39);t.d(M,"multiplyVec2",function(){return v.c}),t.d(M,"invert",function(){return v.a});var C=t(117);t.d(M,"getOffScreenContext",function(){return C.a})},function(a,M,t){"use strict";t.d(M,"j",function(){return d}),t.d(M,"c",function(){return S}),t.d(M,"g",function(){return b}),t.d(M,"b",function(){return h});var n=t(0);function d(E,T){var o=E.indexOf(T);o!==-1&&E.splice(o,1)}t.d(M,"e",function(){return n.s}),t.d(M,"d",function(){return n.r}),t.d(M,"h",function(){return n.x}),t.d(M,"f",function(){return n.v}),t.d(M,"i",function(){return n.A}),t.d(M,"a",function(){return n.f}),t.d(M,"k",function(){return n.I});var S=typeof window!="undefined"&&window.document!==void 0;function b(E,T){if(E.isCanvas())return!0;for(var o=T.getParent(),s=!1;o;){if(o===E){s=!0;break}o=o.getParent()}return s}function h(E){return E.cfg.visible&&E.cfg.capture}},function(a,M,t){"use strict";t.d(M,"e",function(){return x}),t.d(M,"b",function(){return ft}),t.d(M,"a",function(){return It}),t.d(M,"c",function(){return u}),t.d(M,"d",function(){return wt}),t.d(M,"f",function(){return n});var n={};function d(Q){return Math.min.apply(null,Q)}function S(Q){return Math.max.apply(null,Q)}function b(Q,ct,it,U){var D=Q-it,W=ct-U;return Math.sqrt(D*D+W*W)}function h(Q,ct){return Math.abs(Q-ct)<.001}function E(Q,ct){var it=d(Q),U=d(ct);return{x:it,y:U,width:S(Q)-it,height:S(ct)-U}}function T(Q,ct,it,U){return{minX:d([Q,it]),maxX:S([Q,it]),minY:d([ct,U]),maxY:S([ct,U])}}function o(Q){return(Q+2*Math.PI)%(2*Math.PI)}t.r(n),t.d(n,"distance",function(){return b}),t.d(n,"isNumberEqual",function(){return h}),t.d(n,"getBBoxByArray",function(){return E}),t.d(n,"getBBoxRange",function(){return T}),t.d(n,"piMod",function(){return o});var s=t(81),u={box:function(ct,it,U,D){return E([ct,U],[it,D])},length:function(ct,it,U,D){return b(ct,it,U,D)},pointAt:function(ct,it,U,D,W){return{x:(1-W)*ct+W*U,y:(1-W)*it+W*D}},pointDistance:function(ct,it,U,D,W,P){var m=(U-ct)*(W-ct)+(D-it)*(P-it);return m<0?b(ct,it,W,P):m>(U-ct)*(U-ct)+(D-it)*(D-it)?b(U,D,W,P):this.pointToLine(ct,it,U,D,W,P)},pointToLine:function(ct,it,U,D,W,P){var m=[U-ct,D-it];if(s.exactEquals(m,[0,0]))return Math.sqrt((W-ct)*(W-ct)+(P-it)*(P-it));var y=[-m[1],m[0]];s.normalize(y,y);var V=[W-ct,P-it];return Math.abs(s.dot(V,y))},tangentAngle:function(ct,it,U,D){return Math.atan2(D-it,U-ct)}};function v(Q,ct,it,U,D,W){var P,m=1/0,y=[it,U],V=20;W&&W>200&&(V=W/10);for(var J=1/V,ht=J/10,gt=0;gt<=V;gt++){var Mt=gt*J,Lt=[D.apply(null,Q.concat([Mt])),D.apply(null,ct.concat([Mt]))];(Dt=b(y[0],y[1],Lt[0],Lt[1]))<m&&(P=Mt,m=Dt)}if(P===0)return{x:Q[0],y:ct[0]};if(P===1){var At=Q.length;return{x:Q[At-1],y:ct[At-1]}}for(m=1/0,gt=0;gt<32&&!(ht<1e-4);gt++){var Ct=P-ht,Ot=P+ht,Dt=(Lt=[D.apply(null,Q.concat([Ct])),D.apply(null,ct.concat([Ct]))],b(y[0],y[1],Lt[0],Lt[1]));if(Ct>=0&&Dt<m)P=Ct,m=Dt;else{var Ft=[D.apply(null,Q.concat([Ot])),D.apply(null,ct.concat([Ot]))],Xt=b(y[0],y[1],Ft[0],Ft[1]);Ot<=1&&Xt<m?(P=Ot,m=Xt):ht*=.5}}return{x:D.apply(null,Q.concat([P])),y:D.apply(null,ct.concat([P]))}}function C(Q,ct,it,U){var D=1-U;return D*D*Q+2*U*D*ct+U*U*it}function O(Q,ct,it){var U=Q+it-2*ct;if(h(U,0))return[.5];var D=(Q-ct)/U;return D<=1&&D>=0?[D]:[]}function j(Q,ct,it,U){return 2*(1-U)*(ct-Q)+2*U*(it-ct)}function p(Q,ct,it,U,D,W,P){var m=C(Q,it,D,P),y=C(ct,U,W,P),V=u.pointAt(Q,ct,it,U,P),J=u.pointAt(it,U,D,W,P);return[[Q,ct,V.x,V.y,m,y],[m,y,J.x,J.y,D,W]]}var x={box:function(ct,it,U,D,W,P){var m=O(ct,U,W)[0],y=O(it,D,P)[0],V=[ct,W],J=[it,P];return m!==void 0&&V.push(C(ct,U,W,m)),y!==void 0&&J.push(C(it,D,P,y)),E(V,J)},length:function(ct,it,U,D,W,P){return function m(y,V,J,ht,gt,Mt,Lt){if(Lt===0)return(b(y,V,J,ht)+b(J,ht,gt,Mt)+b(y,V,gt,Mt))/2;var At=p(y,V,J,ht,gt,Mt,.5),Ct=At[0],Ot=At[1];return Ct.push(Lt-1),Ot.push(Lt-1),m.apply(null,Ct)+m.apply(null,Ot)}(ct,it,U,D,W,P,3)},nearestPoint:function(ct,it,U,D,W,P,m,y){return v([ct,U,W],[it,D,P],m,y,C)},pointDistance:function(ct,it,U,D,W,P,m,y){var V=this.nearestPoint(ct,it,U,D,W,P,m,y);return b(V.x,V.y,m,y)},interpolationAt:C,pointAt:function(ct,it,U,D,W,P,m){return{x:C(ct,U,W,m),y:C(it,D,P,m)}},divide:function(ct,it,U,D,W,P,m){return p(ct,it,U,D,W,P,m)},tangentAngle:function(ct,it,U,D,W,P,m){var y=j(ct,U,W,m),V=j(it,D,P,m);return o(Math.atan2(V,y))}};function A(Q,ct,it,U,D){var W=1-D;return W*W*W*Q+3*ct*D*W*W+3*it*D*D*W+U*D*D*D}function k(Q,ct,it,U,D){var W=1-D;return 3*(W*W*(ct-Q)+2*W*D*(it-ct)+D*D*(U-it))}function X(Q,ct,it,U){var D,W,P,m=-3*Q+9*ct-9*it+3*U,y=6*Q-12*ct+6*it,V=3*ct-3*Q,J=[];if(h(m,0))h(y,0)||(D=-V/y)>=0&&D<=1&&J.push(D);else{var ht=y*y-4*m*V;h(ht,0)?J.push(-y/(2*m)):ht>0&&(W=(-y-(P=Math.sqrt(ht)))/(2*m),(D=(-y+P)/(2*m))>=0&&D<=1&&J.push(D),W>=0&&W<=1&&J.push(W))}return J}function et(Q,ct,it,U,D,W,P,m,y){var V=A(Q,it,D,P,y),J=A(ct,U,W,m,y),ht=u.pointAt(Q,ct,it,U,y),gt=u.pointAt(it,U,D,W,y),Mt=u.pointAt(D,W,P,m,y),Lt=u.pointAt(ht.x,ht.y,gt.x,gt.y,y),At=u.pointAt(gt.x,gt.y,Mt.x,Mt.y,y);return[[Q,ct,ht.x,ht.y,Lt.x,Lt.y,V,J],[V,J,At.x,At.y,Mt.x,Mt.y,P,m]]}function tt(Q,ct,it,U,D,W,P,m,y){if(y===0)return function(gt,Mt){for(var Lt=0,At=gt.length,Ct=0;Ct<At;Ct++)Lt+=b(gt[Ct],Mt[Ct],gt[(Ct+1)%At],Mt[(Ct+1)%At]);return Lt/2}([Q,it,D,P],[ct,U,W,m]);var V=et(Q,ct,it,U,D,W,P,m,.5),J=V[0],ht=V[1];return J.push(y-1),ht.push(y-1),tt.apply(null,J)+tt.apply(null,ht)}var ft={extrema:X,box:function(ct,it,U,D,W,P,m,y){for(var V=[ct,m],J=[it,y],ht=X(ct,U,W,m),gt=X(it,D,P,y),Mt=0;Mt<ht.length;Mt++)V.push(A(ct,U,W,m,ht[Mt]));for(Mt=0;Mt<gt.length;Mt++)J.push(A(it,D,P,y,gt[Mt]));return E(V,J)},length:function(ct,it,U,D,W,P,m,y){return tt(ct,it,U,D,W,P,m,y,3)},nearestPoint:function(ct,it,U,D,W,P,m,y,V,J,ht){return v([ct,U,W,m],[it,D,P,y],V,J,A,ht)},pointDistance:function(ct,it,U,D,W,P,m,y,V,J,ht){var gt=this.nearestPoint(ct,it,U,D,W,P,m,y,V,J,ht);return b(gt.x,gt.y,V,J)},interpolationAt:A,pointAt:function(ct,it,U,D,W,P,m,y,V){return{x:A(ct,U,W,m,V),y:A(it,D,P,y,V)}},divide:function(ct,it,U,D,W,P,m,y,V){return et(ct,it,U,D,W,P,m,y,V)},tangentAngle:function(ct,it,U,D,W,P,m,y,V){var J=k(ct,U,W,m,V),ht=k(it,D,P,y,V);return o(Math.atan2(ht,J))}};function st(Q,ct){var it=Math.abs(Q);return ct>0?it:-1*it}var vt=function(ct,it,U,D,W,P){var m=U,y=D;if(m===0||y===0)return{x:ct,y:it};for(var V,J,ht=W-ct,gt=P-it,Mt=Math.abs(ht),Lt=Math.abs(gt),At=m*m,Ct=y*y,Ot=Math.PI/4,Dt=0;Dt<4;Dt++){V=m*Math.cos(Ot),J=y*Math.sin(Ot);var Ft=(At-Ct)*Math.pow(Math.cos(Ot),3)/m,Xt=(Ct-At)*Math.pow(Math.sin(Ot),3)/y,Rt=V-Ft,Kt=J-Xt,$t=Mt-Ft,le=Lt-Xt,Me=Math.hypot(Kt,Rt),on=Math.hypot(le,$t);Ot+=Me*Math.asin((Rt*le-Kt*$t)/(Me*on))/Math.sqrt(At+Ct-V*V-J*J),Ot=Math.min(Math.PI/2,Math.max(0,Ot))}return{x:ct+st(V,ht),y:it+st(J,gt)}};function mt(Q,ct,it,U,D,W){return it*Math.cos(D)*Math.cos(W)-U*Math.sin(D)*Math.sin(W)+Q}function pt(Q,ct,it,U,D,W){return it*Math.sin(D)*Math.cos(W)+U*Math.cos(D)*Math.sin(W)+ct}function rt(Q,ct,it){return{x:Q*Math.cos(it),y:ct*Math.sin(it)}}function Bt(Q,ct,it){var U=Math.cos(it),D=Math.sin(it);return[Q*U-ct*D,Q*D+ct*U]}var It={box:function(ct,it,U,D,W,P,m){for(var y=function(Rt,Kt,$t){return Math.atan(-Kt/Rt*Math.tan($t))}(U,D,W),V=1/0,J=-1/0,ht=[P,m],gt=2*-Math.PI;gt<=2*Math.PI;gt+=Math.PI){var Mt=y+gt;P<m?P<Mt&&Mt<m&&ht.push(Mt):m<Mt&&Mt<P&&ht.push(Mt)}for(gt=0;gt<ht.length;gt++){var Lt=mt(ct,0,U,D,W,ht[gt]);Lt<V&&(V=Lt),Lt>J&&(J=Lt)}var At=function(Rt,Kt,$t){return Math.atan(Kt/(Rt*Math.tan($t)))}(U,D,W),Ct=1/0,Ot=-1/0,Dt=[P,m];for(gt=2*-Math.PI;gt<=2*Math.PI;gt+=Math.PI){var Ft=At+gt;P<m?P<Ft&&Ft<m&&Dt.push(Ft):m<Ft&&Ft<P&&Dt.push(Ft)}for(gt=0;gt<Dt.length;gt++){var Xt=pt(0,it,U,D,W,Dt[gt]);Xt<Ct&&(Ct=Xt),Xt>Ot&&(Ot=Xt)}return{x:V,y:Ct,width:J-V,height:Ot-Ct}},length:function(ct,it,U,D,W,P,m){},nearestPoint:function(ct,it,U,D,W,P,m,y,V){var J=Bt(y-ct,V-it,-W),ht=J[0],gt=J[1],Mt=vt(0,0,U,D,ht,gt),Lt=function(Ct,Ot,Dt,Ft){return(Math.atan2(Ft*Ct,Dt*Ot)+2*Math.PI)%(2*Math.PI)}(U,D,Mt.x,Mt.y);Lt<P?Mt=rt(U,D,P):Lt>m&&(Mt=rt(U,D,m));var At=Bt(Mt.x,Mt.y,W);return{x:At[0]+ct,y:At[1]+it}},pointDistance:function(ct,it,U,D,W,P,m,y,V){var J=this.nearestPoint(ct,it,U,D,y,V);return b(J.x,J.y,y,V)},pointAt:function(ct,it,U,D,W,P,m,y){var V=(m-P)*y+P;return{x:mt(ct,0,U,D,W,V),y:pt(0,it,U,D,W,V)}},tangentAngle:function(ct,it,U,D,W,P,m,y){var V=(m-P)*y+P,J=function(gt,Mt,Lt,At,Ct,Ot,Dt,Ft){return-1*Lt*Math.cos(Ct)*Math.sin(Ft)-At*Math.sin(Ct)*Math.cos(Ft)}(0,0,U,D,W,0,0,V),ht=function(gt,Mt,Lt,At,Ct,Ot,Dt,Ft){return-1*Lt*Math.sin(Ct)*Math.sin(Ft)+At*Math.cos(Ct)*Math.cos(Ft)}(0,0,U,D,W,0,0,V);return o(Math.atan2(ht,J))}};function St(Q){for(var ct=0,it=[],U=0;U<Q.length-1;U++){var D=Q[U],W=Q[U+1],P=b(D[0],D[1],W[0],W[1]),m={from:D,to:W,length:P};it.push(m),ct+=P}return{segments:it,totalLength:ct}}function H(Q){if(Q.length<2)return 0;for(var ct=0,it=0;it<Q.length-1;it++){var U=Q[it],D=Q[it+1];ct+=b(U[0],U[1],D[0],D[1])}return ct}function ot(Q,ct){if(ct>1||ct<0||Q.length<2)return null;var it=St(Q),U=it.segments,D=it.totalLength;if(D===0)return{x:Q[0][0],y:Q[0][1]};for(var W=0,P=null,m=0;m<U.length;m++){var y=U[m],V=y.from,J=y.to,ht=y.length/D;if(ct>=W&&ct<=W+ht){var gt=(ct-W)/ht;P=u.pointAt(V[0],V[1],J[0],J[1],gt);break}W+=ht}return P}function yt(Q,ct){if(ct>1||ct<0||Q.length<2)return 0;for(var it=St(Q),U=it.segments,D=it.totalLength,W=0,P=0,m=0;m<U.length;m++){var y=U[m],V=y.from,J=y.to,ht=y.length/D;if(ct>=W&&ct<=W+ht){P=Math.atan2(J[1]-V[1],J[0]-V[0]);break}W+=ht}return P}function xt(Q,ct,it){for(var U=1/0,D=0;D<Q.length-1;D++){var W=Q[D],P=Q[D+1],m=u.pointDistance(W[0],W[1],P[0],P[1],ct,it);m<U&&(U=m)}return U}var wt={box:function(ct){for(var it=[],U=[],D=0;D<ct.length;D++){var W=ct[D];it.push(W[0]),U.push(W[1])}return E(it,U)},length:function(ct){return H(ct)},pointAt:function(ct,it){return ot(ct,it)},pointDistance:function(ct,it,U){return xt(ct,it,U)},tangentAngle:function(ct,it){return yt(ct,it)}}},function(a,M){function t(n){return a.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},t(n)}a.exports=t},function(a,M,t){"use strict";t.d(M,"b",function(){return S}),t.d(M,"a",function(){return b}),t.d(M,"d",function(){return h}),t.d(M,"c",function(){return E});var n=t(0),d=t(16);function S(T){return document.createElementNS("http://www.w3.org/2000/svg",T)}function b(T){var o=d.a[T.type],s=T.getParent();if(!o)throw new Error("the type "+T.type+" is not supported by svg");var u=S(o);if(T.get("id")&&(u.id=T.get("id")),T.set("el",u),T.set("attrs",{}),s){var v=s.get("el");v||(v=s.createDom(),s.set("el",v)),v.appendChild(u)}return u}function h(T,o){var s=T.get("el"),u=Object(n.F)(s.children).sort(o),v=document.createDocumentFragment();u.forEach(function(C){v.appendChild(C)}),s.appendChild(v)}function E(T,o){var s=T.parentNode,u=Array.from(s.childNodes).filter(function(j){return j.nodeType===1&&j.nodeName.toLowerCase()!=="defs"}),v=u[o],C=u.indexOf(T);if(v){if(C>o)s.insertBefore(T,v);else if(C<o){var O=u[o+1];O?s.insertBefore(T,O):s.appendChild(T)}}else s.appendChild(T)}},function(a,M,t){var n=t(474),d=t(475),S=t(218),b=t(476);a.exports=function(h){return n(h)||d(h)||S(h)||b()}},function(a,M,t){var n;try{n={cloneDeep:t(383),constant:t(134),defaults:t(384),each:t(181),filter:t(184),find:t(385),flatten:t(212),forEach:t(182),forIn:t(390),has:t(195),isUndefined:t(196),last:t(391),map:t(197),mapValues:t(392),max:t(393),merge:t(395),min:t(400),minBy:t(401),now:t(402),pick:t(403),range:t(408),reduce:t(199),sortBy:t(411),uniqueId:t(416),values:t(205),zipObject:t(417)}}catch(d){}n||(n=window._),a.exports=n},function(a,M){a.exports=function(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(a,M){var t=Array.isArray;a.exports=t},function(a,M,t){var n=t(472);a.exports=function(d,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(S&&S.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),S&&n(d,S)}},function(a,M,t){var n=t(91),d=t(25);a.exports=function(S,b){return!b||n(b)!=="object"&&typeof b!="function"?d(S):b}},function(a,M,t){"use strict";t.d(M,"a",function(){return T}),t.d(M,"d",function(){return o}),t.d(M,"b",function(){return s}),t.d(M,"c",function(){return u}),t.d(M,"e",function(){return O}),t.d(M,"h",function(){return j}),t.d(M,"f",function(){return p}),t.d(M,"g",function(){return x});var n=t(0),d=t(121),S=t(90),b=t(17),h=t(34),E={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function T(A,k){var X=k.attr();for(var et in X){var tt=X[et],ft=E[et]?E[et]:et;ft==="matrix"&&tt?A.transform(tt[0],tt[1],tt[3],tt[4],tt[6],tt[7]):ft==="lineDash"&&A.setLineDash?Object(n.m)(tt)&&A.setLineDash(tt):(ft==="strokeStyle"||ft==="fillStyle"?tt=Object(d.b)(A,k,tt):ft==="globalAlpha"&&(tt*=A.globalAlpha),A[ft]=tt)}}function o(A,k,X){for(var et=0;et<k.length;et++){var tt=k[et];tt.cfg.visible?tt.draw(A,X):tt.skipDraw()}}function s(A,k,X){var et=A.get("refreshElements");Object(n.f)(et,function(tt){if(tt!==A)for(var ft=tt.cfg.parent;ft&&ft!==A&&!ft.cfg.refresh;)ft.cfg.refresh=!0,ft=ft.cfg.parent}),et[0]===A?v(k,X):function tt(ft,st){for(var vt=0;vt<ft.length;vt++){var mt=ft[vt];if(mt.cfg.visible)if(mt.cfg.hasChanged)mt.cfg.refresh=!0,mt.isGroup()&&v(mt.cfg.children,st);else if(mt.cfg.refresh)mt.isGroup()&&tt(mt.cfg.children,st);else{var pt=C(mt,st);mt.cfg.refresh=pt,pt&&mt.isGroup()&&tt(mt.cfg.children,st)}}}(k,X)}function u(A){for(var k=0;k<A.length;k++){var X=A[k];X.cfg.hasChanged=!1,X.isGroup()&&!X.destroyed&&u(X.cfg.children)}}function v(A,k){for(var X=0;X<A.length;X++){var et=A[X];et.cfg.refresh=!0,et.isGroup()&&v(et.get("children"),k)}}function C(A,k){var X=A.cfg.cacheCanvasBBox;return A.cfg.isInView&&X&&Object(b.f)(X,k)}function O(A,k,X,et){var tt=X.path,ft=X.startArrow,st=X.endArrow;if(tt){var vt=[0,0],mt=[0,0],pt={dx:0,dy:0};k.beginPath();for(var rt=0;rt<tt.length;rt++){var Bt=tt[rt],It=Bt[0];if(rt===0&&ft&&ft.d){var St=A.getStartTangent();pt=h.c(St[0][0],St[0][1],St[1][0],St[1][1],ft.d)}else rt===tt.length-2&&tt[rt+1][0]==="Z"&&st&&st.d?tt[rt+1][0]==="Z"&&(St=A.getEndTangent(),pt=h.c(St[0][0],St[0][1],St[1][0],St[1][1],st.d)):rt===tt.length-1&&st&&st.d&&tt[0]!=="Z"&&(St=A.getEndTangent(),pt=h.c(St[0][0],St[0][1],St[1][0],St[1][1],st.d));var H=pt.dx,ot=pt.dy;switch(It){case"M":k.moveTo(Bt[1]-H,Bt[2]-ot),mt=[Bt[1],Bt[2]];break;case"L":k.lineTo(Bt[1]-H,Bt[2]-ot);break;case"Q":k.quadraticCurveTo(Bt[1],Bt[2],Bt[3]-H,Bt[4]-ot);break;case"C":k.bezierCurveTo(Bt[1],Bt[2],Bt[3],Bt[4],Bt[5]-H,Bt[6]-ot);break;case"A":var yt=void 0;et?(yt=et[rt])||(yt=Object(S.a)(vt,Bt),et[rt]=yt):yt=Object(S.a)(vt,Bt);var xt=yt.cx,wt=yt.cy,Q=yt.rx,ct=yt.ry,it=yt.startAngle,U=yt.endAngle,D=yt.xRotation,W=yt.sweepFlag;if(k.ellipse)k.ellipse(xt,wt,Q,ct,D,it,U,1-W);else{var P=Q>ct?Q:ct,m=Q>ct?1:Q/ct,y=Q>ct?ct/Q:1;k.translate(xt,wt),k.rotate(D),k.scale(m,y),k.arc(0,0,P,it,U,1-W),k.scale(1/m,1/y),k.rotate(-D),k.translate(-xt,-wt)}break;case"Z":k.closePath()}if(It==="Z")vt=mt;else{var V=Bt.length;vt=[Bt[V-2],Bt[V-1]]}}}}function j(A,k){var X=A.get("canvas");X&&(k==="remove"&&(A._cacheCanvasBBox=A.get("cacheCanvasBBox")),A.get("hasChanged")||(A.set("hasChanged",!0),A.cfg.parent&&A.cfg.parent.get("hasChanged")||(X.refreshElement(A,k,X),X.get("autoDraw")&&X.draw())))}function p(A){if(!A.length)return null;var k=[],X=[],et=[],tt=[];return Object(n.f)(A,function(ft){var st=function(vt){var mt;if(vt.destroyed)mt=vt._cacheCanvasBBox;else{var pt=vt.get("cacheCanvasBBox"),rt=pt&&!(!pt.width||!pt.height),Bt=vt.getCanvasBBox(),It=Bt&&!(!Bt.width||!Bt.height);rt&&It?mt=Object(b.l)(pt,Bt):rt?mt=pt:It&&(mt=Bt)}return mt}(ft);st&&(k.push(st.minX),X.push(st.minY),et.push(st.maxX),tt.push(st.maxY))}),{minX:Math.min.apply(null,k),minY:Math.min.apply(null,X),maxX:Math.max.apply(null,et),maxY:Math.max.apply(null,tt)}}function x(A,k){return A&&k&&Object(b.f)(A,k)?{minX:Math.max(A.minX,k.minX),minY:Math.max(A.minY,k.minY),maxX:Math.min(A.maxX,k.maxX),maxY:Math.min(A.maxY,k.maxY)}:null}},function(a,M){a.exports=function(t,n){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}},function(a,M,t){"use strict";t.d(M,"a",function(){return h}),t.d(M,"b",function(){return s}),t.d(M,"c",function(){return C}),t.d(M,"d",function(){return X});var n=t(0),d=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,S=/[^\s\,]+/gi,b=function(tt){var ft=tt||[];return Object(n.m)(ft)?ft:Object(n.x)(ft)?(ft=ft.match(d),Object(n.f)(ft,function(st,vt){if((st=st.match(S))[0].length>1){var mt=st[0].charAt(0);st.splice(1,0,st[0].substr(1)),st[0]=mt}Object(n.f)(st,function(pt,rt){isNaN(pt)||(st[rt]=+pt)}),ft[vt]=st}),ft):void 0};function h(et,tt){for(var ft=[],st=0,vt=et.length;vt-2*!tt>st;st+=2){var mt=[{x:+et[st-2],y:+et[st-1]},{x:+et[st],y:+et[st+1]},{x:+et[st+2],y:+et[st+3]},{x:+et[st+4],y:+et[st+5]}];tt?st?vt-4===st?mt[3]={x:+et[0],y:+et[1]}:vt-2===st&&(mt[2]={x:+et[0],y:+et[1]},mt[3]={x:+et[2],y:+et[3]}):mt[0]={x:+et[vt-2],y:+et[vt-1]}:vt-4===st?mt[3]=mt[2]:st||(mt[0]={x:+et[st],y:+et[st+1]}),ft.push(["C",(-mt[0].x+6*mt[1].x+mt[2].x)/6,(-mt[0].y+6*mt[1].y+mt[2].y)/6,(mt[1].x+6*mt[2].x-mt[3].x)/6,(mt[1].y+6*mt[2].y-mt[3].y)/6,mt[2].x,mt[2].y])}return ft}var E=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,T=new RegExp("([a-z])["+E+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+E+"]*,?["+E+"]*)+)","ig"),o=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+E+"]*,?["+E+"]*","ig");function s(et){if(!et)return null;if(Object(n.m)(et))return et;var tt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},ft=[];return String(et).replace(T,function(st,vt,mt){var pt=[],rt=vt.toLowerCase();if(mt.replace(o,function(Bt,It){It&&pt.push(+It)}),rt==="m"&&pt.length>2&&(ft.push([vt].concat(pt.splice(0,2))),rt="l",vt=vt==="m"?"l":"L"),rt==="o"&&pt.length===1&&ft.push([vt,pt[0]]),rt==="r")ft.push([vt].concat(pt));else for(;pt.length>=tt[rt]&&(ft.push([vt].concat(pt.splice(0,tt[rt]))),tt[rt]););return""}),ft}var u=/[a-z]/;function v(et,tt){return[tt[0]+(tt[0]-et[0]),tt[1]+(tt[1]-et[1])]}function C(et){var tt=s(et);if(!tt||!tt.length)return[["M",0,0]];for(var ft=!1,st=0;st<tt.length;st++){var vt=tt[st][0];if(u.test(vt)||["V","H","T","S"].indexOf(vt)>=0){ft=!0;break}}if(!ft)return tt;var mt=[],pt=0,rt=0,Bt=0,It=0,St=0,H=tt[0];H[0]!=="M"&&H[0]!=="m"||(Bt=pt=+H[1],It=rt=+H[2],St++,mt[0]=["M",pt,rt]),st=St;for(var ot=tt.length;st<ot;st++){var yt=tt[st],xt=mt[st-1],wt=[],Q=(vt=yt[0]).toUpperCase();if(vt!==Q)switch(wt[0]=Q,Q){case"A":wt[1]=yt[1],wt[2]=yt[2],wt[3]=yt[3],wt[4]=yt[4],wt[5]=yt[5],wt[6]=+yt[6]+pt,wt[7]=+yt[7]+rt;break;case"V":wt[1]=+yt[1]+rt;break;case"H":wt[1]=+yt[1]+pt;break;case"M":Bt=+yt[1]+pt,It=+yt[2]+rt;break;default:for(var ct=1,it=yt.length;ct<it;ct++)wt[ct]=+yt[ct]+(ct%2?pt:rt)}else wt=tt[st];switch(Q){case"Z":pt=+Bt,rt=+It;break;case"H":wt=["L",pt=wt[1],rt];break;case"V":wt=["L",pt,rt=wt[1]];break;case"T":pt=wt[1],rt=wt[2];var U=v([xt[1],xt[2]],[xt[3],xt[4]]);wt=["Q",U[0],U[1],pt,rt];break;case"S":pt=wt[wt.length-2],rt=wt[wt.length-1];var D=xt.length,W=v([xt[D-4],xt[D-3]],[xt[D-2],xt[D-1]]);wt=["C",W[0],W[1],wt[1],wt[2],pt,rt];break;case"M":Bt=wt[wt.length-2],It=wt[wt.length-1];break;default:pt=wt[wt.length-2],rt=wt[wt.length-1]}mt.push(wt)}return mt}function O(et){return Math.sqrt(et[0]*et[0]+et[1]*et[1])}function j(et,tt){return O(et)*O(tt)?(et[0]*tt[0]+et[1]*tt[1])/(O(et)*O(tt)):1}function p(et,tt){return(et[0]*tt[1]<et[1]*tt[0]?-1:1)*Math.acos(j(et,tt))}function x(et,tt){return et[0]===tt[0]&&et[1]===tt[1]}function A(et,tt){var ft=tt[1],st=tt[2],vt=Object(n.B)(Object(n.G)(tt[3]),2*Math.PI),mt=tt[4],pt=tt[5],rt=et[0],Bt=et[1],It=tt[6],St=tt[7],H=Math.cos(vt)*(rt-It)/2+Math.sin(vt)*(Bt-St)/2,ot=-1*Math.sin(vt)*(rt-It)/2+Math.cos(vt)*(Bt-St)/2,yt=H*H/(ft*ft)+ot*ot/(st*st);yt>1&&(ft*=Math.sqrt(yt),st*=Math.sqrt(yt));var xt=ft*ft*(ot*ot)+st*st*(H*H),wt=xt?Math.sqrt((ft*ft*(st*st)-xt)/xt):1;mt===pt&&(wt*=-1),isNaN(wt)&&(wt=0);var Q=st?wt*ft*ot/st:0,ct=ft?wt*-st*H/ft:0,it=(rt+It)/2+Math.cos(vt)*Q-Math.sin(vt)*ct,U=(Bt+St)/2+Math.sin(vt)*Q+Math.cos(vt)*ct,D=[(H-Q)/ft,(ot-ct)/st],W=[(-1*H-Q)/ft,(-1*ot-ct)/st],P=p([1,0],D),m=p(D,W);return j(D,W)<=-1&&(m=Math.PI),j(D,W)>=1&&(m=0),pt===0&&m>0&&(m-=2*Math.PI),pt===1&&m<0&&(m+=2*Math.PI),{cx:it,cy:U,rx:x(et,[It,St])?0:ft,ry:x(et,[It,St])?0:st,startAngle:P,endAngle:P+m,xRotation:vt,arcFlag:mt,sweepFlag:pt}}function k(et,tt){return[tt[0]+(tt[0]-et[0]),tt[1]+(tt[1]-et[1])]}function X(et){for(var tt=[],ft=null,st=null,vt=null,mt=0,pt=(et=b(et)).length,rt=0;rt<pt;rt++){var Bt=et[rt];st=et[rt+1];var It=Bt[0],St={command:It,prePoint:ft,params:Bt,startTangent:null,endTangent:null};switch(It){case"M":vt=[Bt[1],Bt[2]],mt=rt;break;case"A":var H=A(ft,Bt);St.arcParams=H}if(It==="Z")ft=vt,st=et[mt+1];else{var ot=Bt.length;ft=[Bt[ot-2],Bt[ot-1]]}st&&st[0]==="Z"&&(st=et[mt],tt[mt]&&(tt[mt].prePoint=ft)),St.currentPoint=ft,tt[mt]&&x(ft,tt[mt].currentPoint)&&(tt[mt].prePoint=St.prePoint);var yt=st?[st[st.length-2],st[st.length-1]]:null;St.nextPoint=yt;var xt=St.prePoint;if(["L","H","V"].includes(It))St.startTangent=[xt[0]-ft[0],xt[1]-ft[1]],St.endTangent=[ft[0]-xt[0],ft[1]-xt[1]];else if(It==="Q"){var wt=[Bt[1],Bt[2]];St.startTangent=[xt[0]-wt[0],xt[1]-wt[1]],St.endTangent=[ft[0]-wt[0],ft[1]-wt[1]]}else if(It==="T")wt=k((it=tt[rt-1]).currentPoint,xt),it.command==="Q"?(St.command="Q",St.startTangent=[xt[0]-wt[0],xt[1]-wt[1]],St.endTangent=[ft[0]-wt[0],ft[1]-wt[1]]):(St.command="TL",St.startTangent=[xt[0]-ft[0],xt[1]-ft[1]],St.endTangent=[ft[0]-xt[0],ft[1]-xt[1]]);else if(It==="C"){var Q=[Bt[1],Bt[2]],ct=[Bt[3],Bt[4]];St.startTangent=[xt[0]-Q[0],xt[1]-Q[1]],St.endTangent=[ft[0]-ct[0],ft[1]-ct[1]]}else if(It==="S"){var it;Q=k((it=tt[rt-1]).currentPoint,xt),ct=[Bt[1],Bt[2]],it.command==="C"?(St.command="C",St.startTangent=[xt[0]-Q[0],xt[1]-Q[1]],St.endTangent=[ft[0]-ct[0],ft[1]-ct[1]]):(St.command="SQ",St.startTangent=[xt[0]-ct[0],xt[1]-ct[1]],St.endTangent=[ft[0]-ct[0],ft[1]-ct[1]])}else if(It==="A"){var U=.001,D=St.arcParams||{},W=D.cx,P=W===void 0?0:W,m=D.cy,y=m===void 0?0:m,V=D.rx,J=V===void 0?0:V,ht=D.ry,gt=ht===void 0?0:ht,Mt=D.sweepFlag,Lt=Mt===void 0?0:Mt,At=D.startAngle,Ct=At===void 0?0:At,Ot=D.endAngle,Dt=Ot===void 0?0:Ot;Lt===0&&(U*=-1);var Ft=J*Math.cos(Ct-U)+P,Xt=gt*Math.sin(Ct-U)+y;St.startTangent=[Ft-vt[0],Xt-vt[1]];var Rt=J*Math.cos(Ct+Dt+U)+P,Kt=gt*Math.sin(Ct+Dt-U)+y;St.endTangent=[xt[0]-Rt,xt[1]-Kt]}tt.push(St)}return tt}},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.POST_CONSTRUCT=M.DESIGN_PARAM_TYPES=M.PARAM_TYPES=M.TAGGED_PROP=M.TAGGED=M.MULTI_INJECT_TAG=M.INJECT_TAG=M.OPTIONAL_TAG=M.UNMANAGED_TAG=M.NAME_TAG=M.NAMED_TAG=void 0,M.NAMED_TAG="named",M.NAME_TAG="name",M.UNMANAGED_TAG="unmanaged",M.OPTIONAL_TAG="optional",M.INJECT_TAG="inject",M.MULTI_INJECT_TAG="multi_inject",M.TAGGED="inversify:tagged",M.TAGGED_PROP="inversify:tagged_props",M.PARAM_TYPES="inversify:paramtypes",M.DESIGN_PARAM_TYPES="design:paramtypes",M.POST_CONSTRUCT="post_construct"},function(a,M,t){var n,d,S;function b(h){return(b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(h)}(function(h,E){b(M)=="object"&&a!==void 0?E(M):(d=[M],(S=typeof(n=E)=="function"?n.apply(M,d):n)===void 0||(a.exports=S))})(0,function(h){"use strict";var E=function(ot,yt){var xt=ot.nodes,wt=ot.edges,Q=[],ct={};if(!xt)throw Error("invalid nodes data!");return xt&&xt.forEach(function(it,U){ct[it.id]=U,Q.push([])}),wt&&wt.forEach(function(it){var U=ct[it.source],D=ct[it.target];Q[U][D]=1,yt||(Q[D][U]=1)}),Q};function T(H,ot){if(!(H instanceof ot))throw new TypeError("Cannot call a class as a function")}function o(H,ot){for(var yt=0;ot.length>yt;yt++){var xt=ot[yt];xt.enumerable=xt.enumerable||!1,xt.configurable=!0,"value"in xt&&(xt.writable=!0),Object.defineProperty(H,xt.key,xt)}}function s(H,ot,yt){return ot&&o(H.prototype,ot),yt&&o(H,yt),H}function u(H){return function(ot){if(Array.isArray(ot))return C(ot)}(H)||function(ot){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(ot))return Array.from(ot)}(H)||v(H)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v(H,ot){if(H){if(typeof H=="string")return C(H,ot);var yt=Object.prototype.toString.call(H).slice(8,-1);return yt==="Object"&&H.constructor&&(yt=H.constructor.name),yt==="Map"||yt==="Set"?Array.from(H):yt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(yt)?C(H,ot):void 0}}function C(H,ot){(ot==null||ot>H.length)&&(ot=H.length);for(var yt=0,xt=Array(ot);ot>yt;yt++)xt[yt]=H[yt];return xt}function O(H,ot){var yt;if(typeof Symbol=="undefined"||H[Symbol.iterator]==null){if(Array.isArray(H)||(yt=v(H))||ot&&H&&typeof H.length=="number"){yt&&(H=yt);var xt=0,wt=function(){};return{s:wt,n:function(){return H.length>xt?{done:!1,value:H[xt++]}:{done:!0}},e:function(D){throw D},f:wt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Q,ct=!0,it=!1;return{s:function(){yt=H[Symbol.iterator]()},n:function(){var D=yt.next();return ct=D.done,D},e:function(D){it=!0,Q=D},f:function(){try{ct||yt.return==null||yt.return()}finally{if(it)throw Q}}}}var j=function(ot,yt){return ot===yt},p=function(){function H(ot){var yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;T(this,H),this.value=ot,this.next=yt}return s(H,[{key:"toString",value:function(yt){return yt?yt(this.value):"".concat(this.value)}}]),H}(),x=function(){function H(){var ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j;T(this,H),this.head=null,this.tail=null,this.compare=ot}return s(H,[{key:"prepend",value:function(yt){var xt=new p(yt,this.head);return this.head=xt,this.tail||(this.tail=xt),this}},{key:"append",value:function(yt){var xt=new p(yt);return this.head?(this.tail.next=xt,this.tail=xt,this):(this.head=xt,this.tail=xt,this)}},{key:"delete",value:function(yt){if(!this.head)return null;for(var xt=null;this.head&&this.compare(this.head.value,yt);)xt=this.head,this.head=this.head.next;var wt=this.head;if(wt!==null)for(;wt.next;)this.compare(wt.next.value,yt)?(xt=wt.next,wt.next=wt.next.next):wt=wt.next;return this.compare(this.tail.value,yt)&&(this.tail=wt),xt}},{key:"find",value:function(yt){var xt=yt.value,wt=xt===void 0?void 0:xt,Q=yt.callback,ct=Q===void 0?void 0:Q;if(!this.head)return null;for(var it=this.head;it;){if(ct&&ct(it.value)||wt!==void 0&&this.compare(it.value,wt))return it;it=it.next}return null}},{key:"deleteTail",value:function(){var yt=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,yt;for(var xt=this.head;xt.next;)xt.next.next?xt=xt.next:xt.next=null;return this.tail=xt,yt}},{key:"deleteHead",value:function(){if(!this.head)return null;var yt=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),yt}},{key:"fromArray",value:function(yt){var xt=this;return yt.forEach(function(wt){return xt.append(wt)}),this}},{key:"toArray",value:function(){for(var yt=[],xt=this.head;xt;)yt.push(xt),xt=xt.next;return yt}},{key:"reverse",value:function(){for(var yt=this.head,xt=null,wt=null;yt;)wt=yt.next,yt.next=xt,xt=yt,yt=wt;this.tail=this.head,this.head=xt}},{key:"toString",value:function(){var yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return""+this.toArray().map(function(xt){return xt.toString(yt)})}}]),H}(),A=function(){function H(){T(this,H),this.linkedList=new x}return s(H,[{key:"isEmpty",value:function(){return!this.linkedList.head}},{key:"peek",value:function(){return this.linkedList.head?this.linkedList.head.value:null}},{key:"enqueue",value:function(yt){this.linkedList.append(yt)}},{key:"dequeue",value:function(){var yt=this.linkedList.deleteHead();return yt?yt.value:null}},{key:"toString",value:function(yt){return this.linkedList.toString(yt)}}]),H}(),k=function(ot){var yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],xt=arguments.length>2?arguments[2]:void 0,wt=yt.filter(function(U){return U.source===ot||U.target===ot});if(xt==="target"){var Q=function(D){return D.source===ot};return wt.filter(Q).map(function(U){return U.target})}if(xt==="source"){var ct=function(D){return D.target===ot};return wt.filter(ct).map(function(U){return U.source})}var it=function(D){return D.source===ot?D.target:D.source};return wt.map(it)},X=function(ot,yt){return yt.filter(function(xt){return xt.source===ot||xt.target===ot})},et=function(){var ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,yt="".concat(Math.random()).split(".")[1].substr(0,5),xt="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(ot,"-").concat(yt).concat(xt)},tt=function(ot){var yt={},xt=ot.nodes,wt=ot.edges,Q=wt===void 0?[]:wt;return(xt===void 0?[]:xt).forEach(function(ct){yt[ct.id]={degree:0,inDegree:0,outDegree:0}}),Q.forEach(function(ct){yt[ct.source].degree++,yt[ct.source].outDegree++,yt[ct.target].degree++,yt[ct.target].inDegree++}),yt};function ft(H,ot,yt){(function xt(wt,Q,ct,it){it.enter({current:Q,previous:ct});var U=wt.edges;k(Q,U===void 0?[]:U,"target").forEach(function(D){it.allowTraversal({previous:ct,current:Q,next:D})&&xt(wt,D,Q,it)}),it.leave({current:Q,previous:ct})})(H,ot,"",function(){var xt,wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=wt,ct=function(){},it=(xt={},function(U){var D=U.next;return!xt[D]&&(xt[D]=!0,!0)});return Q.allowTraversal=wt.allowTraversal||it,Q.enter=wt.enter||ct,Q.leave=wt.leave||ct,Q}(yt))}var st=function(ot,yt,xt,wt){var Q=ot.nodes,ct=Q===void 0?[]:Q,it=ot.edges,U=it===void 0?[]:it,D={},W={},P={};ct.forEach(function(Lt,At){var Ct=Lt.id;W[Ct]=1/0,Ct===yt&&(W[Ct]=0)});for(var m=ct.length,y=function(At){var Ct=function(Dt,Ft,Xt){for(var Rt,Kt=1/0,$t=0;Ft.length>$t;$t++){var le=Ft[$t].id;Xt[le]||Dt[le]>Kt||(Kt=Dt[le],Rt=Ft[$t])}return Rt}(W,ct,D),Ot=Ct.id;if(D[Ot]=!0,W[Ot]===1/0)return"continue";(xt?function(Dt,Ft){return Ft.filter(function(Xt){return Xt.source===Dt})}(Ot,U):X(Ot,U)).forEach(function(Dt){var Ft=Dt.target,Xt=Ft===Ot?Dt.source:Ft,Rt=wt&&Dt[wt]?Dt[wt]:1;W[Xt]>W[Ct.id]+Rt?(W[Xt]=W[Ct.id]+Rt,P[Xt]=[Ct.id]):W[Xt]===W[Ct.id]+Rt&&P[Xt].push(Ct.id)})},V=0;m>V;V++)y();P[yt]=[yt];var J={};for(var ht in W)W[ht]!==1/0&&vt(yt,ht,P,J);var gt={};for(var Mt in J)gt[Mt]=J[Mt][0];return{length:W,path:gt,allPaths:J}};function vt(H,ot,yt,xt){if(H===ot)return[H];if(xt[ot])return xt[ot];var wt,Q=[],ct=O(yt[ot]);try{for(ct.s();!(wt=ct.n()).done;){var it,U=O(vt(H,wt.value,yt,xt));try{for(U.s();!(it=U.n()).done;)Q.push([].concat(u(it.value),[ot]))}catch(D){U.e(D)}finally{U.f()}}}catch(D){ct.e(D)}finally{ct.f()}xt[ot]=Q}var mt=function(ot,yt,xt,wt){for(var Q=yt.length,ct=2*wt,it=0,U=0;Q>U;U++)for(var D=ot[U].clusterId,W=0;Q>W;W++)D===ot[W].clusterId&&(it+=(yt[U][W]||0)-(xt[U]||0)*(xt[W]||0)/ct);return it*(1/ct)},pt=function(){function H(ot){T(this,H),this.count=ot.length,this.parent={};var yt,xt=O(ot);try{for(xt.s();!(yt=xt.n()).done;){var wt=yt.value;this.parent[wt]=wt}}catch(Q){xt.e(Q)}finally{xt.f()}}return s(H,[{key:"find",value:function(yt){for(;this.parent[yt]!==yt;)yt=this.parent[yt];return yt}},{key:"union",value:function(yt,xt){var wt=this.find(yt),Q=this.find(xt);wt!==Q&&(Q>wt?(this.parent[xt]!==xt&&this.union(this.parent[xt],yt),this.parent[xt]=this.parent[yt]):(this.parent[yt]!==yt&&this.union(this.parent[yt],xt),this.parent[yt]=this.parent[xt]))}},{key:"connected",value:function(yt,xt){return this.find(yt)===this.find(xt)}}]),H}(),rt=function(ot,yt){return ot-yt},Bt=function(){function H(){var ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:rt;T(this,H),this.compareFn=ot,this.list=[]}return s(H,[{key:"getLeft",value:function(yt){return 2*yt+1}},{key:"getRight",value:function(yt){return 2*yt+2}},{key:"getParent",value:function(yt){return yt===0?null:Math.floor((yt-1)/2)}},{key:"isEmpty",value:function(){return 0>=this.list.length}},{key:"top",value:function(){return this.isEmpty()?void 0:this.list[0]}},{key:"delMin",value:function(){var yt=this.top(),xt=this.list.pop();return this.list.length>0&&(this.list[0]=xt,this.moveDown(0)),yt}},{key:"insert",value:function(yt){return yt!==null&&(this.list.push(yt),this.moveUp(this.list.length-1),!0)}},{key:"moveUp",value:function(yt){for(var xt=this.getParent(yt);yt&&yt>0&&this.compareFn(this.list[xt],this.list[yt])>0;){var wt=this.list[xt];this.list[xt]=this.list[yt],this.list[yt]=wt,xt=this.getParent(yt=xt)}}},{key:"moveDown",value:function(yt){var xt=yt,wt=this.getLeft(yt),Q=this.getRight(yt),ct=this.list.length;if(wt!==null&&ct>wt&&this.compareFn(this.list[xt],this.list[wt])>0?xt=wt:Q!==null&&ct>Q&&this.compareFn(this.list[xt],this.list[Q])>0&&(xt=Q),yt!==xt){var it=[this.list[xt],this.list[yt]];this.list[yt]=it[0],this.list[xt]=it[1],this.moveDown(xt)}}}]),H}(),It=function(ot,yt){var xt=[],wt=ot.nodes,Q=wt===void 0?[]:wt,ct=ot.edges,it=ct===void 0?[]:ct;if(Q.length===0)return xt;var U=Q[0],D=new Set;D.add(U);var W=new Bt(function(V,J){return yt?V.weight-J.weight:0});for(X(U.id,it).forEach(function(V){W.insert(V)});!W.isEmpty();){var P=W.delMin(),m=P.source,y=P.target;D.has(m)&&D.has(y)||(xt.push(P),D.has(m)||(D.add(m),X(m,it).forEach(function(V){W.insert(V)})),D.has(y)||(D.add(y),X(y,it).forEach(function(V){W.insert(V)})))}return xt},St=function(ot,yt){var xt=[],wt=ot.nodes,Q=wt===void 0?[]:wt,ct=ot.edges;if(Q.length===0)return xt;var it=(ct===void 0?[]:ct).map(function(m){return m});yt&&it.sort(function(m,y){return m.weight-y.weight});for(var U=new pt(Q.map(function(m){return m.id}));it.length>0;){var D=it.shift(),W=D.source,P=D.target;U.connected(W,P)||(xt.push(D),U.union(W,P))}return xt};h.Stack=function(){function H(){var ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;T(this,H),this.linkedList=new x,this.maxStep=ot}return s(H,[{key:"isEmpty",value:function(){return!this.linkedList.head}},{key:"isMaxStack",value:function(){return this.toArray().length>=this.maxStep}},{key:"peek",value:function(){return this.isEmpty()?null:this.linkedList.head.value}},{key:"push",value:function(yt){this.linkedList.prepend(yt),this.length>this.maxStep&&this.linkedList.deleteTail()}},{key:"pop",value:function(){var yt=this.linkedList.deleteHead();return yt?yt.value:null}},{key:"toArray",value:function(){return this.linkedList.toArray().map(function(yt){return yt.value})}},{key:"clear",value:function(){for(;!this.isEmpty();)this.pop()}},{key:"length",get:function(){return this.linkedList.toArray().length}}]),H}(),h.breadthFirstSearch=function(H,ot,yt){var xt=function(){var D,W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=W,m=function(){},y=(D={},function(V){var J=V.next;return!D[J]&&(D[J]=!0,!0)});return P.allowTraversal=W.allowTraversal||y,P.enter=W.enter||m,P.leave=W.leave||m,P}(yt),wt=new A,Q=H.edges,ct=Q===void 0?[]:Q;wt.enqueue(ot);for(var it="",U=function(){var W=wt.dequeue();xt.enter({current:W,previous:it}),k(W,ct,"target").forEach(function(P){xt.allowTraversal({previous:it,current:W,next:P})&&wt.enqueue(P)}),xt.leave({current:W,previous:it}),it=W};!wt.isEmpty();)U()},h.connectedComponent=function(H,ot){return ot?function(yt){var xt,wt=yt.nodes,Q=wt===void 0?[]:wt,ct=yt.edges,it=ct===void 0?[]:ct,U=[],D={},W={},P={},m=[],y=0,V=function gt(Mt){W[Mt.id]=y,P[Mt.id]=y,y+=1,U.push(Mt),D[Mt.id]=!0;for(var Lt=k(Mt.id,it,"target").filter(function(Ft){return Q.map(function(Xt){return Xt.id}).indexOf(Ft)>-1}),At=function(Xt){var Rt=Lt[Xt];if(W[Rt]||W[Rt]===0)D[Rt]&&(P[Mt.id]=Math.min(P[Mt.id],W[Rt]));else{var Kt=Q.filter(function($t){return $t.id===Rt});Kt.length>0&&gt(Kt[0]),P[Mt.id]=Math.min(P[Mt.id],P[Rt])}},Ct=0;Lt.length>Ct;Ct++)At(Ct);if(P[Mt.id]===W[Mt.id]){for(var Ot=[];U.length>0;){var Dt=U.pop();if(D[Dt.id]=!1,Ot.push(Dt),Dt===Mt)break}Ot.length>0&&m.push(Ot)}},J=O(Q);try{for(J.s();!(xt=J.n()).done;){var ht=xt.value;W[ht.id]||W[ht.id]===0||V(ht)}}catch(gt){J.e(gt)}finally{J.f()}return m}(H):function(yt){for(var xt=yt.nodes,wt=xt===void 0?[]:xt,Q=yt.edges,ct=Q===void 0?[]:Q,it=[],U={},D=[],W=function V(J){D.push(J),U[J.id]=!0;for(var ht=k(J.id,ct),gt=function(At){var Ct=ht[At];if(!U[Ct]){var Ot=wt.filter(function(Dt){return Dt.id===Ct});Ot.length>0&&V(Ot[0])}},Mt=0;ht.length>Mt;++Mt)gt(Mt)},P=0;wt.length>P;P++){var m=wt[P];if(!U[m.id]){W(m);for(var y=[];D.length>0;)y.push(D.pop());it.push(y)}}return it}(H)},h.depthFirstSearch=ft,h.detectCycle=function(H){var ot=null,yt=H.nodes,xt={},wt={},Q={},ct={};(yt===void 0?[]:yt).forEach(function(U){wt[U.id]=U});for(var it={enter:function(D){var W=D.current,P=D.previous;if(Q[W]){ot={};for(var m=W,y=P;y!==W;)ot[m]=y,m=y,y=xt[y];ot[m]=y}else Q[W]=W,delete wt[W],xt[W]=P},leave:function(D){var W=D.current;ct[W]=W,delete Q[W]},allowTraversal:function(D){return!ot&&!ct[D.next]}};Object.keys(wt).length;)ft(H,Object.keys(wt)[0],it);return ot},h.dijkstra=st,h.findAllPath=function(H,ot,yt,xt){if(ot===yt)return[[ot]];var wt,Q,ct=H.edges,it=ct===void 0?[]:ct,U=[ot],D=((Q=ot)in(wt={})?Object.defineProperty(wt,Q,{value:!0,enumerable:!0,configurable:!0,writable:!0}):wt[Q]=!0,wt),W=[],P=[],m=xt?k(ot,it,"target"):k(ot,it);for(W.push(m);U.length>0&&W.length>0;){var y=W[W.length-1];if(y.length){var V=y.shift();if(V&&(U.push(V),D[V]=!0,m=xt?k(V,it,"target"):k(V,it),W.push(m.filter(function(Mt){return!D[Mt]}))),U[U.length-1]===yt){var J=U.map(function(Mt){return Mt});P.push(J);var ht=U.pop();D[ht]=!1,W.pop()}}else{var gt=U.pop();D[gt]=!1,W.pop()}}return P},h.findShortestPath=function(H,ot,yt,xt,wt){var Q=st(H,ot,xt,wt);return{length:Q.length[yt],path:Q.path[yt],allPath:Q.allPaths[yt]}},h.floydWarshall=function(H,ot){for(var yt=E(H,ot),xt=[],wt=yt.length,Q=0;wt>Q;Q+=1){xt[Q]=[];for(var ct=0;wt>ct;ct+=1)xt[Q][ct]=Q===ct?0:yt[Q][ct]!==0&&yt[Q][ct]?yt[Q][ct]:1/0}for(var it=0;wt>it;it+=1)for(var U=0;wt>U;U+=1)for(var D=0;wt>D;D+=1)xt[U][D]>xt[U][it]+xt[it][D]&&(xt[U][D]=xt[U][it]+xt[it][D]);return xt},h.getAdjMatrix=E,h.getDegree=tt,h.getInDegree=function(H,ot){return tt(H)[ot]?tt(H)[ot].inDegree:0},h.getNeighbors=k,h.getOutDegree=function(H,ot){return tt(H)[ot]?tt(H)[ot].outDegree:0},h.labelPropagation=function(H){var ot=arguments.length>1&&arguments[1]!==void 0&&arguments[1],yt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"weight",xt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e3,wt=H.nodes,Q=wt===void 0?[]:wt,ct=H.edges,it=ct===void 0?[]:ct,U={},D={};Q.forEach(function(gt,Mt){var Lt=et();gt.clusterId=Lt,U[Lt]={id:Lt,nodes:[gt]},D[gt.id]={node:gt,idx:Mt}});var W=E(H,ot),P={};W.forEach(function(gt,Mt){var Lt=Q[Mt].id;P[Lt]={},gt.forEach(function(At,Ct){At&&(P[Lt][Q[Ct].id]=At)})});for(var m=0;xt>m;){var y=!1;if(Q.forEach(function(gt){var Mt={};Object.keys(P[gt.id]).forEach(function(Rt){var Kt=P[gt.id][Rt],$t=D[Rt].node.clusterId;Mt[$t]||(Mt[$t]=0),Mt[$t]+=Kt});var Lt=-1/0,At=[];if(Object.keys(Mt).forEach(function(Rt){Mt[Rt]>Lt?(Lt=Mt[Rt],At=[Rt]):Lt===Mt[Rt]&&At.push(Rt)}),At.length!==1||At[0]!==gt.clusterId){var Ct=At.indexOf(gt.clusterId);if(0>Ct||At.splice(Ct,1),At&&At.length){y=!0;var Ot=U[gt.clusterId],Dt=Ot.nodes.indexOf(gt);Ot.nodes.splice(Dt,1);var Ft=Math.floor(Math.random()*At.length),Xt=U[At[Ft]];Xt.nodes.push(gt),gt.clusterId=Xt.id}}}),!y)break;m++}Object.keys(U).forEach(function(gt){var Mt=U[gt];Mt.nodes&&Mt.nodes.length||delete U[gt]});var V=[],J={};it.forEach(function(gt){var Mt=gt[yt]||1,Lt=D[gt.source].node.clusterId,At=D[gt.target].node.clusterId,Ct="".concat(Lt,"---").concat(At);if(J[Ct])J[Ct].weight+=Mt,J[Ct].count++;else{var Ot={source:Lt,target:At,weight:Mt,count:1};J[Ct]=Ot,V.push(Ot)}});var ht=[];return Object.keys(U).forEach(function(gt){ht.push(U[gt])}),{clusters:ht,clusterEdges:V}},h.louvain=function(H){var ot=arguments.length>1&&arguments[1]!==void 0&&arguments[1],yt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"weight",xt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e-4,wt=H.nodes,Q=wt===void 0?[]:wt,ct=H.edges,it=ct===void 0?[]:ct,U={},D={};Q.forEach(function(At,Ct){var Ot=et();At.clusterId=Ot,U[Ot]={id:Ot,nodes:[At]},D[At.id]={node:At,idx:Ct}});var W=E(H,ot),P=[],m={},y=0;W.forEach(function(At,Ct){var Ot=0,Dt=Q[Ct].id;m[Dt]={},At.forEach(function(Ft,Xt){Ft&&(Ot+=Ft,m[Dt][Q[Xt].id]=Ft,y+=Ft)}),P.push(Ot)}),y/=2;for(var V=1/0,J=1/0,ht=0;V=mt(Q,W,P,y),Math.abs(V-J)>=xt&&100>=ht;)J=V,ht++,Object.keys(U).forEach(function(At){var Ct=0;it.forEach(function(Ot){var Dt=D[Ot.source].node.clusterId,Ft=D[Ot.target].node.clusterId;(Dt===At&&Ft!==At||Ft===At&&Dt!==At)&&(Ct+=Ot[yt]||1)}),U[At].sumTot=Ct}),Q.forEach(function(At,Ct){var Ot,Dt=U[At.clusterId],Ft=0,Xt=P[Ct]/(2*y),Rt=0;Dt.nodes.forEach(function(hn){Rt+=W[Ct][D[hn.id].idx]||0});var Kt=Rt-Dt.sumTot*Xt;if(Object.keys(m[At.id]).forEach(function(hn){var Cn=D[hn].node.clusterId;if(Cn!==At.clusterId){var He=U[Cn],mn=He.nodes;if(mn&&mn.length){var dn=0;mn.forEach(function(Xn){dn+=W[Ct][D[Xn.id].idx]||0});var Un=dn-He.sumTot*Xt-Kt;Un>Ft&&(Ft=Un,Ot=He)}}}),Ft>0){Ot.nodes.push(At);var $t=At.clusterId;At.clusterId=Ot.id;var le=Dt.nodes.indexOf(At);Dt.nodes.splice(le,1);var Me=0,on=0;it.forEach(function(hn){var Cn=D[hn.source].node.clusterId,He=D[hn.target].node.clusterId;(Cn===Ot.id&&He!==Ot.id||He===Ot.id&&Cn!==Ot.id)&&(Me+=hn[yt]||1),(Cn===$t&&He!==$t||He===$t&&Cn!==$t)&&(on+=hn[yt]||1)}),Ot.sumTot=Me,Dt.sumTot=on}});Object.keys(U).forEach(function(At){var Ct=U[At];Ct.nodes&&Ct.nodes.length||delete U[At]});var gt=[],Mt={};it.forEach(function(At){var Ct=At[yt]||1,Ot=D[At.source].node.clusterId,Dt=D[At.target].node.clusterId,Ft="".concat(Ot,"---").concat(Dt);if(Mt[Ft])Mt[Ft].weight+=Ct,Mt[Ft].count++;else{var Xt={source:Ot,target:Dt,weight:Ct,count:1};Mt[Ft]=Xt,gt.push(Xt)}});var Lt=[];return Object.keys(U).forEach(function(At){Lt.push(U[At])}),{clusters:Lt,clusterEdges:gt}},h.minimumSpanningTree=function(H,ot,yt){return yt?{prim:It,kruskal:St}[yt](H,ot):St(H,ot)},h.pageRank=function(H,ot,yt){typeof ot!="number"&&(ot=1e-6),typeof yt!="number"&&(yt=.85);for(var xt,wt=1,Q=0,ct=1e3,it=H.nodes,U=it===void 0?[]:it,D=H.edges,W=D===void 0?[]:D,P=U.length,m={},y={},V=0;P>V;++V){var J=U[V].id;m[J]=1/P,y[J]=1/P}for(var ht=tt(H);ct>0&&wt>ot;){Q=0;for(var gt=0;P>gt;++gt){var Mt=U[gt],Lt=Mt.id;if(xt=0,ht[Mt.id].inDegree===0)m[Lt]=0;else{for(var At=k(Lt,W,"source"),Ct=0;At.length>Ct;++Ct){var Ot=At[Ct],Dt=ht[Ot].outDegree;Dt>0&&(xt+=y[Ot]/Dt)}m[Lt]=yt*xt,Q+=m[Lt]}}Q=(1-Q)/P,wt=0;for(var Ft=0;P>Ft;++Ft){var Xt=U[Ft].id;wt+=Math.abs((xt=m[Xt]+Q)-y[Xt]),y[Xt]=xt}ct-=1}return y},Object.defineProperty(h,"__esModule",{value:!0})})},function(a,M,t){"use strict";t.d(M,"c",function(){return u}),t.d(M,"b",function(){return v}),t.d(M,"a",function(){return C});var n=t(1),d=t(56);function S(O){return(S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(O)}var b=Math.sin,h=Math.cos,E=Math.atan2,T=Math.PI;function o(O,j,p,x,A,k,X){var et=j.stroke,tt=j.lineWidth,ft=E(x-k,p-A),st=new d.Path({type:"path",canvas:O.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*h(T/6)+","+10*b(T/6)+" L0,0 L"+10*h(T/6)+",-"+10*b(T/6),stroke:et,lineWidth:tt}});st.translate(A,k),st.rotateAtPoint(A,k,ft),O.set(X?"startArrowShape":"endArrowShape",st)}function s(O,j,p,x,A,k,X){var et=j.startArrow,tt=j.endArrow,ft=j.stroke,st=j.lineWidth,vt=X?et:tt,mt=vt.d,pt=vt.fill,rt=vt.stroke,Bt=vt.lineWidth,It=Object(n.c)(vt,["d","fill","stroke","lineWidth"]),St=E(x-k,p-A);mt&&(A-=h(St)*mt,k-=b(St)*mt);var H=new d.Path({type:"path",canvas:O.get("canvas"),isArrowShape:!0,attrs:Object(n.a)(Object(n.a)({},It),{stroke:rt||ft,lineWidth:Bt||st,fill:pt})});H.translate(A,k),H.rotateAtPoint(A,k,St),O.set(X?"startArrowShape":"endArrowShape",H)}function u(O,j,p,x,A){var k=E(x-j,p-O);return{dx:h(k)*A,dy:b(k)*A}}function v(O,j,p,x,A,k){S(j.startArrow)==="object"?s(O,j,p,x,A,k,!0):j.startArrow?o(O,j,p,x,A,k,!0):O.set("startArrowShape",null)}function C(O,j,p,x,A,k){S(j.endArrow)==="object"?s(O,j,p,x,A,k,!1):j.endArrow?o(O,j,p,x,A,k,!1):O.set("startArrowShape",null)}},function(a,M,t){"use strict";var n={};t.r(n),t.d(n,"default",function(){return Un}),t.d(n,"assign",function(){return gt}),t.d(n,"format",function(){return mn}),t.d(n,"parse",function(){return dn}),t.d(n,"defaultI18n",function(){return Ct}),t.d(n,"setGlobalDateI18n",function(){return Dt}),t.d(n,"setGlobalDateMasks",function(){return He});var d={};t.r(d),t.d(d,"compare",function(){return De}),t.d(d,"getLineIntersect",function(){return sn}),t.d(d,"getRectIntersectByPoint",function(){return Dn}),t.d(d,"getCircleIntersectByPoint",function(){return Yt}),t.d(d,"getEllipseIntersectByPoint",function(){return Zt}),t.d(d,"applyMatrix",function(){return Ae}),t.d(d,"invertMatrix",function(){return Ht}),t.d(d,"getCircleCenterByPoints",function(){return he}),t.d(d,"distance",function(){return En}),t.d(d,"scaleMatrix",function(){return Qn}),t.d(d,"floydWarshall",function(){return fr}),t.d(d,"getAdjMatrix",function(){return ar}),t.d(d,"translate",function(){return an}),t.d(d,"move",function(){return Re}),t.d(d,"scale",function(){return L}),t.d(d,"rotate",function(){return bt}),t.d(d,"getDegree",function(){return ie}),t.d(d,"isPointInPolygon",function(){return te}),t.d(d,"intersectBBox",function(){return pe}),t.d(d,"isPolygonsIntersect",function(){return ve}),t.d(d,"Line",function(){return de}),t.d(d,"getBBoxBoundLine",function(){return Pe}),t.d(d,"itemIntersectByLine",function(){return Je}),t.d(d,"fractionToLine",function(){return Ve}),t.d(d,"getPointsCenter",function(){return cn}),t.d(d,"squareDist",function(){return Be}),t.d(d,"pointLineSquareDist",function(){return Mn}),t.d(d,"isPointsOverlap",function(){return On}),t.d(d,"pointRectSquareDist",function(){return pn});var S={};t.r(S),t.d(S,"uniqueId",function(){return we}),t.d(S,"formatPadding",function(){return Ye}),t.d(S,"cloneEvent",function(){return un}),t.d(S,"isViewportChanged",function(){return zn}),t.d(S,"isNaN",function(){return Nn}),t.d(S,"calculationItemsBBox",function(){return or}),t.d(S,"processParallelEdges",function(){return Rr});var b={};t.r(b),t.d(b,"getBBox",function(){return Xo}),t.d(b,"getLoopCfgs",function(){return Wa}),t.d(b,"getLabelPosition",function(){return Zo}),t.d(b,"traverseTree",function(){return Ho}),t.d(b,"traverseTreeUp",function(){return Ta}),t.d(b,"getLetterWidth",function(){return Ha}),t.d(b,"getTextSize",function(){return So}),t.d(b,"plainCombosToTrees",function(){return ss}),t.d(b,"reconstructTree",function(){return hs}),t.d(b,"getComboBBox",function(){return us}),t.d(b,"shouldRefreshEdge",function(){return Rs}),t.d(b,"cloneBesidesImg",function(){return Hi});var h={};t.r(h),t.d(h,"getSpline",function(){return Au}),t.d(h,"getControlPoint",function(){return eu}),t.d(h,"pointsToPolygon",function(){return lo}),t.d(h,"pathToPoints",function(){return tc}),t.d(h,"getClosedSpline",function(){return ds}),t.d(h,"roundedHull",function(){return nu}),t.d(h,"paddedHull",function(){return gs});var E,T=t(14),o=t(0),s=function(){function Nt(f){this._cfgs=Object(o.e)(this.getDefaultCfgs(),f),this._events={},this.destroyed=!1}return Nt.prototype.getDefaultCfgs=function(){return{}},Nt.prototype.initPlugin=function(f){var c=this;c.set("graph",f);var R=c.getEvents(),Y={};Object(o.f)(R,function(ut,jt){var Ut=Object(o.J)(c,ut);Y[jt]=Ut,f.on(jt,Ut)}),this._events=Y,this.init()},Nt.prototype.getEvents=function(){return{}},Nt.prototype.get=function(f){return this._cfgs[f]},Nt.prototype.set=function(f,c){this._cfgs[f]=c},Nt.prototype.destroy=function(){},Nt.prototype.destroyPlugin=function(){this.destroy();var f=this.get("graph"),c=this._events;Object(o.f)(c,function(R,Y){f.off(Y,R)}),this._events=null,this._cfgs=null,this.destroyed=!0},Nt}(),u=(E=function(f,c){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,Y){R.__proto__=Y}||function(R,Y){for(var ut in Y)Object.prototype.hasOwnProperty.call(Y,ut)&&(R[ut]=Y[ut])})(f,c)},function(Nt,f){function c(){this.constructor=Nt}E(Nt,f),Nt.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}),v="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",C=function(Nt){function f(){return Nt!==null&&Nt.apply(this,arguments)||this}return u(f,Nt),f.prototype.getDefaultCfgs=function(){return{img:v}},f.prototype.init=function(){var c=this.get("graph"),R=c.get("minZoom"),Y=c.get("container"),ut=c.get("canvas").get("el"),jt=c.get("width"),Ut=c.get("height"),Et=this.get("img")||v,qt=Object(T.b)(`<div class='g6-grid-container' style="position: absolute; left:0;top:0;right:0;bottom:0;overflow: hidden;z-index: -1;"></div>`),se=Object(T.b)(`<div 
        class='g6-grid' 
        style='position:absolute;
        transform-origin: 0% 0% 0px;
        background-image: `+Et+`;
        user-select: none
        '></div>`);qt.appendChild(se),Object(T.c)(qt,{width:jt+"px",height:Ut+"px",left:Y.offsetLeft+"px",top:Y.offsetTop+"px"}),Object(T.c)(se,{width:jt/R+"px",height:Ut/R+"px",left:"0px",top:"0px"}),Y.insertBefore(qt,ut),this.set("container",qt),this.set("gridContainer",se)},f.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},f.prototype.updateGrid=function(c){var R=this.get("gridContainer"),Y=c.matrix;Y||(Y=[1,0,0,0,1,0,0,0,1]);var ut="matrix("+Y[0]+", "+Y[1]+", "+Y[3]+", "+Y[4]+", 0, 0)";Object(T.c)(R,{transform:ut})},f.prototype.getContainer=function(){return this.get("container")},f.prototype.destroy=function(){var c=this.get("graph").get("container"),R=this.get("container");c.removeChild(R)},f}(s),O=t(82),j=t.n(O),p=function(){var Nt=function(c,R){return(Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,ut){Y.__proto__=ut}||function(Y,ut){for(var jt in ut)Object.prototype.hasOwnProperty.call(ut,jt)&&(Y[jt]=ut[jt])})(c,R)};return function(f,c){function R(){this.constructor=f}Nt(f,c),f.prototype=c===null?Object.create(c):(R.prototype=c.prototype,new R)}}();j()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var x=function(Nt){function f(){return Nt!==null&&Nt.apply(this,arguments)||this}return p(f,Nt),f.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(R){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(R){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"]}},f.prototype.getEvents=function(){return{contextmenu:"onMenuShow"}},f.prototype.init=function(){var c=this.get("className"),R=Object(T.b)("<div class="+(c||"g6-component-contextmenu")+"></div>");Object(T.c)(R,{top:"0px",position:"absolute",visibility:"hidden"});var Y=this.get("container");Y||(Y=this.get("graph").get("container")),Object(o.x)(Y)&&(Y=document.getElementById(Y)),Y.appendChild(R),this.set("menu",R)},f.prototype.onMenuShow=function(c){var R=this;c.preventDefault(),c.stopPropagation();var Y=this.get("itemTypes");if(c.item){if(c.item&&c.item.getType&&Y.indexOf(c.item.getType())===-1)return void R.onMenuHide()}else if(Y.indexOf("canvas")===-1)return;if(this.get("shouldBegin")(c)){var ut=this.get("menu"),jt=this.get("getContent"),Ut=this.get("graph"),Et=jt(c,Ut);Object(o.x)(Et)?ut.innerHTML=Et:ut.innerHTML=Et.outerHTML,this.removeMenuEventListener();var qt=this.get("handleMenuClick");if(qt){var se=function(mr){qt(mr.target,c.item,Ut)};this.set("handleMenuClickWrapper",se),ut.addEventListener("click",se)}var je=Ut.get("width"),Ie=Ut.get("height"),Ue=ut.getBoundingClientRect(),Ke=this.get("offsetX")||0,An=this.get("offsetY")||0,Bn=Ut.getContainer().offsetTop,Wn=Ut.getContainer().offsetLeft,Yn=c.canvasX+Wn+Ke,Jn=c.canvasY+Bn+An;Yn+Ue.width>je&&(Yn=c.canvasX-Ue.width-Ke+Wn),Jn+Ue.height>Ie&&(Jn=c.canvasY-Ue.height-An+Bn),Object(T.c)(ut,{top:Jn+"px",left:Yn+"px",visibility:"visible"});var Ar=function(mr){R.onMenuHide()};document.body.addEventListener("click",Ar),this.set("handler",Ar)}},f.prototype.removeMenuEventListener=function(){var c=this.get("handleMenuClickWrapper"),R=this.get("handler");c&&(this.get("menu").removeEventListener("click",c),this.set("handleMenuClickWrapper",null)),R&&document.body.removeEventListener("click",R)},f.prototype.onMenuHide=function(){var c=this.get("menu");c&&Object(T.c)(c,{visibility:"hidden"}),this.removeMenuEventListener()},f.prototype.destroy=function(){var c=this.get("menu");if(this.removeMenuEventListener(),c){var R=this.get("container");R||(R=this.get("graph").get("container")),Object(o.x)(R)&&(R=document.getElementById(R)),R.removeChild(c)}},f}(s),A=t(52),k=t(63),X=t(62),et=function(){var Nt=function(c,R){return(Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,ut){Y.__proto__=ut}||function(Y,ut){for(var jt in ut)Object.prototype.hasOwnProperty.call(ut,jt)&&(Y[jt]=ut[jt])})(c,R)};return function(f,c){function R(){this.constructor=f}Nt(f,c),f.prototype=c===null?Object.create(c):(R.prototype=c.prototype,new R)}}(),tt=function(){return(tt=Object.assign||function(f){for(var c,R=1,Y=arguments.length;R<Y;R++)for(var ut in c=arguments[R])Object.prototype.hasOwnProperty.call(c,ut)&&(f[ut]=c[ut]);return f}).apply(this,arguments)},ft=Math.max,st=X.a.transform,vt=function(Nt){function f(){var c=Nt!==null&&Nt.apply(this,arguments)||this;return c.handleUpdateCanvas=Object(o.d)(function(R){var Y=c;Y.destroyed||Y.updateCanvas()},100,!1),c}return et(f,Nt),f.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},f.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},f.prototype.disableRefresh=function(){this.set("refresh",!1)},f.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},f.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},f.prototype.initViewport=function(){var c=this,R=this._cfgs,Y=R.size,ut=R.graph;if(!this.destroyed){var jt=this.get("canvas").get("container"),Ut=Object(T.b)(`
      <div
        class=`+R.viewportClassName+`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          outline: 2px solid #1980ff'
        draggable=true>
      </div>`),Et=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,qt=0,se=0,je=!1,Ie=0,Ue=0,Ke=0,An=0,Bn=0,Wn=0;Ut.addEventListener("dragstart",function(Yn){var Jn,Ar;if(Yn.dataTransfer){var ur=new Image;ur.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",(Ar=(Jn=Yn.dataTransfer).setDragImage)===null||Ar===void 0||Ar.call(Jn,ur,0,0);try{Yn.dataTransfer.setData("text/html","view-port-minimap")}catch(ii){Yn.dataTransfer.setData("text","view-port-minimap")}}if(R.refresh=!1,Yn.target===Ut){var mr=Ut.style;Ie=parseInt(mr.left,10),Ue=parseInt(mr.top,10),Ke=parseInt(mr.width,10),An=parseInt(mr.height,10),Ke>Y[0]||An>Y[1]||(Wn=ut.getZoom(),Bn=c.get("ratio"),je=!0,qt=Yn.clientX,se=Yn.clientY)}},!1),Ut.addEventListener(Et?"dragover":"drag",function(Yn){if(je&&!Object(o.s)(Yn.clientX)&&!Object(o.s)(Yn.clientY)){var Jn=qt-Yn.clientX,Ar=se-Yn.clientY;(Ie-Jn<0||Ie-Jn+Ke>=Y[0])&&(Jn=0),(Ue-Ar<0||Ue-Ar+An>=Y[1])&&(Ar=0),Ie-=Jn,Ue-=Ar,Object(T.c)(Ut,{left:Ie+"px",top:Ue+"px"}),ut.translate(Jn*Wn/Bn,Ar*Wn/Bn),qt=Yn.clientX,se=Yn.clientY}},!1),Ut.addEventListener("dragend",function(){je=!1,R.refresh=!0},!1),this.set("viewport",Ut),jt.appendChild(Ut)}},f.prototype.updateViewport=function(){if(!this.destroyed){var c=this.get("ratio"),R=(this.get("dx"),this.get("dy"),this.get("totaldx")),Y=this.get("totaldy"),ut=this.get("graph"),jt=this.get("size"),Ut=ut.get("width"),Et=ut.get("height"),qt=ut.getPointByCanvas(0,0),se=ut.getPointByCanvas(Ut,Et),je=this.get("viewport");je||this.initViewport(),ut.getZoom();var Ie=(se.x-qt.x)*c,Ue=(se.y-qt.y)*c,Ke=qt.x*c+R,An=qt.y*c+Y,Bn=Ke+Ie,Wn=An+Ue;Ke<0&&(Ie+=Ke,Ke=0),Bn>jt[0]&&(Ie-=Bn-jt[0]),An<0&&(Ue+=An,An=0),Wn>jt[1]&&(Ue-=Wn-jt[1]),this.set("ratio",c);var Yn=Ke+"px",Jn=An+"px";Object(T.c)(je,{left:Yn,top:Jn,width:Ie+"px",height:Ue+"px"})}},f.prototype.updateGraphShapes=function(){var c=this._cfgs.graph,R=this.get("canvas"),Y=c.get("group");if(!Y.destroyed){var ut=Y.clone();ut.resetMatrix(),R.clear(),R.add(ut),c.get("renderer")==="svg"&&this.updateVisible(ut)}},f.prototype.updateVisible=function(c){var R=this;if(c.isGroup()||c.get("visible")){var Y=c.get("children");if(!Y||!Y.length)return;Y.forEach(function(ut){ut.get("visible")||ut.hide(),R.updateVisible(ut)})}else c.hide()},f.prototype.updateKeyShapes=function(){var c=this,R=this._cfgs.graph;Object(o.f)(R.getEdges(),function(Y){c.updateOneEdgeKeyShape(Y)}),Object(o.f)(R.getNodes(),function(Y){c.updateOneNodeKeyShape(Y)}),this.clearDestroyedShapes()},f.prototype.updateOneNodeKeyShape=function(c){var R=this.get("canvas"),Y=R.get("children")[0]||R.addGroup(),ut=this.get("itemMap")||{},jt=ut[c.get("id")],Ut=c.getBBox(),Et=c.get("keyShape").clone(),qt=Et.attr(),se={x:Ut.centerX,y:Ut.centerY};jt?se=Object.assign(qt,se):(jt=Et,Y.add(jt));var je=jt.get("type");je!=="rect"&&je!=="image"||(se.x=Ut.minX,se.y=Ut.minY),jt.attr(se),c.isVisible()||jt.hide(),jt.exist=!0,ut[c.get("id")]=jt,this.set("itemMap",ut)},f.prototype.updateDelegateShapes=function(){var c=this,R=this._cfgs.graph;Object(o.f)(R.getEdges(),function(Y){c.updateOneEdgeKeyShape(Y)}),Object(o.f)(R.getNodes(),function(Y){c.updateOneNodeDelegateShape(Y)}),this.clearDestroyedShapes()},f.prototype.clearDestroyedShapes=function(){var c=this.get("itemMap")||{},R=Object.keys(c);if(R&&R.length!==0)for(var Y=R.length-1;Y>=0;Y--){var ut=c[R[Y]],jt=ut.exist;ut.exist=!1,jt||(ut.remove(),delete c[R[Y]])}},f.prototype.updateOneEdgeKeyShape=function(c){var R=this.get("canvas"),Y=R.get("children")[0]||R.addGroup(),ut=this.get("itemMap")||{},jt=ut[c.get("id")];if(jt){var Ut=c.get("keyShape").attr("path");jt.attr("path",Ut)}else jt=c.get("keyShape").clone(),Y.add(jt),jt.toBack();c.isVisible()||jt.hide(),jt.exist=!0,ut[c.get("id")]=jt,this.set("itemMap",ut)},f.prototype.updateOneNodeDelegateShape=function(c){var R=this.get("canvas"),Y=R.get("children")[0]||R.addGroup(),ut=this.get("delegateStyle"),jt=this.get("itemMap")||{},Ut=jt[c.get("id")],Et=c.getBBox();if(Ut){var qt={x:Et.minX,y:Et.minY,width:Et.width,height:Et.height};Ut.attr(qt)}else Ut=Y.addShape("rect",{attrs:tt({x:Et.minX,y:Et.minY,width:Et.width,height:Et.height},ut),name:"minimap-node-shape"});c.isVisible()||Ut.hide(),Ut.exist=!0,jt[c.get("id")]=Ut,this.set("itemMap",jt)},f.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},f.prototype.initContainer=function(){var c=this.get("graph"),R=this.get("size"),Y=this.get("className"),ut=this.get("container"),jt=Object(T.b)("<div class='"+Y+"' style='width: "+R[0]+"px; height: "+R[1]+"px; overflow: hidden'></div>");Object(o.x)(ut)&&(ut=document.getElementById(ut)),ut?ut.appendChild(jt):c.get("container").appendChild(jt),this.set("container",jt);var Ut,Et=Object(T.b)('<div class="g6-minimap-container" style="position: relative;"></div>');jt.appendChild(Et),Ut=c.get("renderer")==="svg"?new k.Canvas({container:Et,width:R[0],height:R[1]}):new A.Canvas({container:Et,width:R[0],height:R[1]}),this.set("canvas",Ut),this.updateCanvas()},f.prototype.updateCanvas=function(){if(this.get("refresh")){var c=this.get("graph");if(!c.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var R=this.get("size"),Y=this.get("canvas"),ut=this.get("type"),jt=this.get("padding");if(!Y.destroyed){switch(ut){case"default":this.updateGraphShapes();break;case"keyShape":this.updateKeyShapes();break;case"delegate":this.updateDelegateShapes()}var Ut=Y.get("children")[0];if(Ut){Ut.resetMatrix();var Et=Ut.getCanvasBBox(),qt=c.get("canvas").getCanvasBBox(),se=qt.width,je=qt.height;Number.isFinite(Et.width)&&(se=ft(Et.width,se),je=ft(Et.height,je)),se+=2*jt,je+=2*jt;var Ie=Math.min(R[0]/se,R[1]/je),Ue=[1,0,0,0,1,0,0,0,1],Ke=0,An=0;Number.isFinite(Et.minX)&&(Ke=-Et.minX),Number.isFinite(Et.minY)&&(An=-Et.minY);var Bn=(R[0]-(se-2*jt)*Ie)/2,Wn=(R[1]-(je-2*jt)*Ie)/2;Ue=st(Ue,[["t",Ke,An],["s",Ie,Ie],["t",Bn,Wn]]),Ut.setMatrix(Ue),this.set("ratio",Ie),this.set("totaldx",Bn+Ke*Ie),this.set("totaldy",Wn+An*Ie),this.set("dx",Bn),this.set("dy",Wn),this.updateViewport()}}}}},f.prototype.getCanvas=function(){return this.get("canvas")},f.prototype.getViewport=function(){return this.get("viewport")},f.prototype.getContainer=function(){return this.get("container")},f.prototype.destroy=function(){this.get("canvas").destroy();var c=this.get("container");c.parentNode.removeChild(c)},f}(s),mt=function(){var Nt=function(c,R){return(Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,ut){Y.__proto__=ut}||function(Y,ut){for(var jt in ut)Object.prototype.hasOwnProperty.call(ut,jt)&&(Y[jt]=ut[jt])})(c,R)};return function(f,c){function R(){this.constructor=f}Nt(f,c),f.prototype=c===null?Object.create(c):(R.prototype=c.prototype,new R)}}();function pt(Nt,f,c){var R=Nt.x-f.x,Y=Nt.y-f.y;return!c||Math.abs(R)>c||Math.abs(Y)>c?Math.sqrt(R*R+Y*Y):c}function rt(Nt,f){var c=(f.source.y-f.target.y)/(f.source.x-f.target.x),R=(c*c*f.source.x+c*(Nt.y-f.source.y)+Nt.x)/(c*c+1);return{x:R,y:c*(R-f.source.x)+f.source.y}}var Bt=function(Nt){function f(){return Nt!==null&&Nt.apply(this,arguments)||this}return mt(f,Nt),f.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},f.prototype.init=function(){var c=this.get("graph"),R=this.get("onTick");this.set("tick",function(){R&&R(),c.refreshPositions()})},f.prototype.bundling=function(c){var R=this;if(R.set("data",c),!R.isTicking()){var Y=c.edges||[],ut=c.nodes||[],jt={},Ut=!1;if(ut.forEach(function(Jn){Jn.x!==null&&!Jn.y!==null&&Jn.x!==void 0&&!Jn.y!==void 0||(Ut=!0),jt[Jn.id]=Jn}),Ut)throw new Error("please layout the graph or assign x and y for nodes first");R.set("nodeIdMap",jt);var Et=R.get("divisions"),qt=R.get("divRate"),se=R.divideEdges(Et);R.set("edgePoints",se);var je=R.getEdgeBundles();R.set("edgeBundles",je);for(var Ie=R.get("cycles"),Ue=R.get("iterations"),Ke=R.get("iterRate"),An=R.get("lambda"),Bn=0;Bn<Ie;Bn++){for(var Wn=function(Ar){var ur=[];Y.forEach(function(mr,ii){if(mr.source!==mr.target){var Li=jt[mr.source],ci=jt[mr.target];ur[ii]=R.getEdgeForces({source:Li,target:ci},ii,Et,An);for(var Yi=0;Yi<Et+1;Yi++)se[ii][Yi].x+=ur[ii][Yi].x,se[ii][Yi].y+=ur[ii][Yi].y}})},Yn=0;Yn<Ue;Yn++)Wn();An/=2,Et*=qt,Ue*=Ke,se=R.divideEdges(Et),R.set("edgePoints",se)}Y.forEach(function(Jn,Ar){Jn.source!==Jn.target&&(Jn.type="polyline",Jn.controlPoints=se[Ar].slice(1,se[Ar].length-1))}),R.get("graph").refresh()}},f.prototype.updateBundling=function(c){var R=this,Y=c.data;if(Y&&R.set("data",Y),R.get("ticking")&&R.set("ticking",!1),Object.keys(c).forEach(function(jt){R.set(jt,c[jt])}),c.onTick){var ut=this.get("graph");R.set("tick",function(){c.onTick(),ut.refresh()})}R.bundling(Y)},f.prototype.divideEdges=function(c){var R=this,Y=R.get("data").edges,ut=R.get("nodeIdMap"),jt=R.get("edgePoints");return jt&&jt!==void 0||(jt=[]),Y.forEach(function(Ut,Et){jt[Et]&&jt[Et]!==void 0||(jt[Et]=[]);var qt=ut[Ut.source],se=ut[Ut.target];if(c===1)jt[Et].push({x:qt.x,y:qt.y}),jt[Et].push({x:.5*(qt.x+se.x),y:.5*(qt.y+se.y)}),jt[Et].push({x:se.x,y:se.y});else{var je=(jt[Et]&&jt[Et]!==[]?R.getEdgeLength(jt[Et]):pt({x:qt.x,y:qt.y},{x:se.x,y:se.y}))/(c+1),Ie=je,Ue=[{x:qt.x,y:qt.y}];jt[Et].forEach(function(Ke,An){if(An!==0){for(var Bn=pt(Ke,jt[Et][An-1]);Bn>Ie;){var Wn=Ie/Bn,Yn={x:jt[Et][An-1].x,y:jt[Et][An-1].y};Yn.x+=Wn*(Ke.x-jt[Et][An-1].x),Yn.y+=Wn*(Ke.y-jt[Et][An-1].y),Ue.push(Yn),Bn-=Ie,Ie=je}Ie-=Bn}}),Ue.push({x:se.x,y:se.y}),jt[Et]=Ue}}),jt},f.prototype.getEdgeLength=function(c){var R=0;return c.forEach(function(Y,ut){ut!==0&&(R+=pt(Y,c[ut-1]))}),R},f.prototype.getEdgeBundles=function(){var c=this,R=c.get("data").edges||[],Y=c.get("bundleThreshold"),ut=c.get("nodeIdMap"),jt=c.get("edgeBundles");return jt||(jt=[]),R.forEach(function(Ut,Et){jt[Et]&&jt[Et]!==void 0||(jt[Et]=[])}),R.forEach(function(Ut,Et){var qt=ut[Ut.source],se=ut[Ut.target];R.forEach(function(je,Ie){if(!(Ie<=Et)){var Ue=ut[je.source],Ke=ut[je.target];c.getBundleScore({source:qt,target:se},{source:Ue,target:Ke})>=Y&&(jt[Et].push(Ie),jt[Ie].push(Et))}})}),jt},f.prototype.getBundleScore=function(c,R){return c.vx=c.target.x-c.source.x,c.vy=c.target.y-c.source.y,R.vx=R.target.x-R.source.x,R.vy=R.target.y-R.source.y,c.length=pt({x:c.source.x,y:c.source.y},{x:c.target.x,y:c.target.y}),R.length=pt({x:R.source.x,y:R.source.y},{x:R.target.x,y:R.target.y}),this.getAngleScore(c,R)*this.getScaleScore(c,R)*this.getPositionScore(c,R)*this.getVisibilityScore(c,R)},f.prototype.getAngleScore=function(c,R){return function(Y,ut){return Y.x*ut.x+Y.y*ut.y}({x:c.vx,y:c.vy},{x:R.vx,y:R.vy})/(c.length*R.length)},f.prototype.getScaleScore=function(c,R){var Y=(c.length+R.length)/2;return 2/(Y/Math.min(c.length,R.length)+Math.max(c.length,R.length)/Y)},f.prototype.getPositionScore=function(c,R){var Y=(c.length+R.length)/2;return Y/(Y+pt({x:(c.source.x+c.target.x)/2,y:(c.source.y+c.target.y)/2},{x:(R.source.x+R.target.x)/2,y:(R.source.y+R.target.y)/2}))},f.prototype.getVisibilityScore=function(c,R){var Y=this.getEdgeVisibility(c,R),ut=this.getEdgeVisibility(R,c);return Y<ut?Y:ut},f.prototype.getEdgeVisibility=function(c,R){var Y=rt(R.source,c),ut=rt(R.target,c),jt={x:(Y.x+ut.x)/2,y:(Y.y+ut.y)/2},Ut={x:(c.source.x+c.target.x)/2,y:(c.source.y+c.target.y)/2};return Math.max(0,1-2*pt(jt,Ut)/pt(Y,ut))},f.prototype.getEdgeForces=function(c,R,Y,ut){for(var jt=this.get("edgePoints"),Ut=this.get("K")/(pt(c.source,c.target)*(Y+1)),Et=[{x:0,y:0}],qt=1;qt<Y;qt++){var se={x:0,y:0},je=this.getSpringForce({pre:jt[R][qt-1],cur:jt[R][qt],next:jt[R][qt+1]},Ut),Ie=this.getElectrostaticForce(qt,R);se.x=ut*(je.x+Ie.x),se.y=ut*(je.y+Ie.y),Et.push(se)}return Et.push({x:0,y:0}),Et},f.prototype.getSpringForce=function(c,R){var Y=c.pre.x+c.next.x-2*c.cur.x,ut=c.pre.y+c.next.y-2*c.cur.y;return{x:Y*=R,y:ut*=R}},f.prototype.getElectrostaticForce=function(c,R){var Y=this.get("eps"),ut=this.get("edgeBundles"),jt=this.get("edgePoints"),Ut=ut[R],Et={x:0,y:0};return Ut.forEach(function(qt){var se={x:jt[qt][c].x-jt[R][c].x,y:jt[qt][c].y-jt[R][c].y};if(Math.abs(se.x)>Y||Math.abs(se.y)>Y){var je=1/pt(jt[qt][c],jt[R][c]);Et.x+=se.x*je,Et.y+=se.y*je}}),Et},f.prototype.isTicking=function(){return this.get("ticking")},f.prototype.getSimulation=function(){return this.get("forceSimulation")},f.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),Nt.prototype.destroy.call(this)},f}(s),It=function(){var Nt=function(c,R){return(Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,ut){Y.__proto__=ut}||function(Y,ut){for(var jt in ut)Object.prototype.hasOwnProperty.call(ut,jt)&&(Y[jt]=ut[jt])})(c,R)};return function(f,c){function R(){this.constructor=f}Nt(f,c),f.prototype=c===null?Object.create(c):(R.prototype=c.prototype,new R)}}(),St=function(){return(St=Object.assign||function(f){for(var c,R=1,Y=arguments.length;R<Y;R++)for(var ut in c=arguments[R])Object.prototype.hasOwnProperty.call(c,ut)&&(f[ut]=c[ut]);return f}).apply(this,arguments)},H={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},ot=function(Nt){function f(){return Nt!==null&&Nt.apply(this,arguments)||this}return It(f,Nt),f.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:Object(o.c)(H),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},f.prototype.getEvents=function(){var c;switch(this.get("trigger")){case"click":c={click:"magnify"};break;case"drag":c={click:"createDelegate"};break;default:c={mousemove:"magnify"}}return c},f.prototype.init=function(){var c=this.get("r");this.set("cachedMagnifiedModels",[]),this.set("cachedOriginPositions",{}),this.set("r2",c*c);var R=this.get("d");this.set("molecularParam",(R+1)*c)},f.prototype.createDelegate=function(c){var R=this,Y=this,ut=Y.get("delegate");ut&&!ut.destroyed||(Y.magnify(c),(ut=Y.get("delegate")).on("dragstart",function(jt){Y.set("delegateCenterDiff",{x:ut.attr("x")-jt.x,y:ut.attr("y")-jt.y})}),ut.on("drag",function(jt){Y.magnify(jt)}),this.get("scaleDBy")==="wheel"&&ut.on("mousewheel",function(jt){R.scaleDByWheel(jt)}),this.get("scaleRBy")==="wheel"&&ut.on("mousewheel",function(jt){Y.scaleRByWheel(jt)}))},f.prototype.scaleRByWheel=function(c){if(c&&c.originalEvent){c.preventDefault&&c.preventDefault();var R,Y=this.get("graph"),ut=this.get("delegate"),jt=(ut?{x:ut.attr("x"),y:ut.attr("y")}:void 0)||Y.getPointByClient(c.clientX,c.clientY);R=c.originalEvent.wheelDelta<0?.95:1/.95;var Ut=this.get("maxR"),Et=this.get("minR"),qt=this.get("r");(qt>(Ut||Y.get("height"))&&R>1||qt<(Et||.05*Y.get("height"))&&R<1)&&(R=1),qt*=R,this.set("r",qt),this.set("r2",qt*qt);var se=this.get("d");this.set("molecularParam",(se+1)*qt),this.set("delegateCenterDiff",void 0),this.magnify(c,jt)}},f.prototype.scaleRByDrag=function(c){if(c){var R,Y=this.get("dragPrePos"),ut=this.get("graph"),jt=ut.getPointByClient(c.clientX,c.clientY);R=c.x-Y.x<0?.95:1/.95;var Ut=this.get("maxR"),Et=this.get("minR"),qt=this.get("r");(qt>(Ut||ut.get("height"))&&R>1||qt<(Et||.05*ut.get("height"))&&R<1)&&(R=1),qt*=R,this.set("r",qt),this.set("r2",qt*qt);var se=this.get("d");this.set("molecularParam",(se+1)*qt),this.magnify(c,jt),this.set("dragPrePos",{x:c.x,y:c.y})}},f.prototype.scaleDByWheel=function(c){if(c||c.originalEvent){c.preventDefault&&c.preventDefault();var R=0;R=c.originalEvent.wheelDelta<0?-.1:.1;var Y=this.get("d")+R,ut=this.get("maxD"),jt=this.get("minD");if(Y<ut&&Y>jt){this.set("d",Y);var Ut=this.get("r");this.set("molecularParam",(Y+1)*Ut);var Et=this.get("delegate"),qt=Et?{x:Et.attr("x"),y:Et.attr("y")}:void 0;this.set("delegateCenterDiff",void 0),this.magnify(c,qt)}}},f.prototype.scaleDByDrag=function(c){var R=this.get("dragPrePos"),Y=c.x-R.x>0?.1:-.1,ut=this.get("d")+Y,jt=this.get("maxD"),Ut=this.get("minD");if(ut<jt&&ut>Ut){this.set("d",ut);var Et=this.get("r");this.set("molecularParam",(ut+1)*Et),this.magnify(c)}this.set("dragPrePos",{x:c.x,y:c.y})},f.prototype.magnify=function(c,R){this.restoreCache();var Y=this.get("graph"),ut=this.get("cachedMagnifiedModels"),jt=this.get("cachedOriginPositions"),Ut=this.get("showLabel"),Et=this.get("r"),qt=this.get("r2"),se=this.get("d"),je=this.get("molecularParam"),Ie=Y.getNodes(),Ue=Ie.length,Ke=R?{x:R.x,y:R.y}:{x:c.x,y:c.y};!this.get("dragging")||this.get("trigger")!=="mousemove"&&this.get("trigger")!=="click"||(Ke=this.get("cacheCenter"));var An=this.get("delegateCenterDiff");An&&(Ke.x+=An.x,Ke.y+=An.y),this.updateDelegate(Ke,Et);for(var Bn=0;Bn<Ue;Bn++){var Wn=Ie[Bn].getModel(),Yn=Wn.x,Jn=Wn.y;if(!isNaN(Yn)&&!isNaN(Jn)){var Ar=(Yn-Ke.x)*(Yn-Ke.x)+(Jn-Ke.y)*(Jn-Ke.y);if(!isNaN(Ar)&&Ar<qt&&Ar!==0){var ur=Math.sqrt(Ar),mr=je*ur/(se*ur+Et),ii=(Yn-Ke.x)/ur,Li=(Jn-Ke.y)/ur;if(Wn.x=ii*mr+Ke.x,Wn.y=Li*mr+Ke.y,jt[Wn.id]||(jt[Wn.id]={x:Yn,y:Jn,texts:[]}),ut.push(Wn),Ut&&2*ur<Et)for(var ci=Ie[Bn].getContainer().getChildren(),Yi=ci.length,qa=0;qa<Yi;qa++){var wa=ci[qa];wa.get("type")==="text"&&(jt[Wn.id].texts.push({visible:wa.get("visible"),shape:wa}),wa.set("visible",!0))}}}}Y.refreshPositions()},f.prototype.restoreCache=function(){for(var c=this.get("cachedMagnifiedModels"),R=this.get("cachedOriginPositions"),Y=c.length,ut=0;ut<Y;ut++){var jt=c[ut],Ut=R[jt.id];jt.x=Ut.x,jt.y=Ut.y;for(var Et=Ut.texts.length,qt=0;qt<Et;qt++){var se=Ut.texts[qt];se.shape.set("visible",se.visible)}}this.set("cachedMagnifiedModels",[]),this.set("cachedOriginPositions",{})},f.prototype.updateParams=function(c){var R=c.r,Y=c.d,ut=c.trigger,jt=c.minD,Ut=c.maxD,Et=c.minR,qt=c.maxR,se=c.scaleDBy,je=c.scaleRBy;isNaN(c.r)||(this.set("r",R),this.set("r2",R*R)),isNaN(Y)||this.set("d",Y),isNaN(Ut)||this.set("maxD",Ut),isNaN(jt)||this.set("minD",jt),isNaN(qt)||this.set("maxR",qt),isNaN(Et)||this.set("minR",Et);var Ie,Ue=this.get("d"),Ke=this.get("r");this.set("molecularParam",(Ue+1)*Ke),ut!=="mousemove"&&ut!=="click"&&ut!=="drag"||this.set("trigger",ut),(se==="drag"||se==="wheel"||se==="unset")&&(this.set("scaleDBy",se),this.get("delegate").remove(),this.get("delegate").destroy(),(Ie=this.get("dPercentText"))&&(Ie.remove(),Ie.destroy())),je!=="drag"&&je!=="wheel"&&je!=="unset"||(this.set("scaleRBy",je),this.get("delegate").remove(),this.get("delegate").destroy(),(Ie=this.get("dPercentText"))&&(Ie.remove(),Ie.destroy()))},f.prototype.updateDelegate=function(c,R){var Y=this,ut=this,jt=ut.get("graph"),Ut=ut.get("delegate");if(!Ut||Ut.destroyed){var Et=jt.get("group"),qt=ut.get("delegateStyle")||H;Ut=Et.addShape("circle",{attrs:St({r:R/1.5,x:c.x,y:c.y},qt),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?Ut.on("mousewheel",function(Ue){ut.scaleRByWheel(Ue)}):this.get("scaleRBy")==="drag"&&(Ut.on("dragstart",function(Ue){ut.set("dragging",!0),ut.set("cacheCenter",{x:Ue.x,y:Ue.y}),ut.set("dragPrePos",{x:Ue.x,y:Ue.y})}),Ut.on("drag",function(Ue){ut.scaleRByDrag(Ue)}),Ut.on("dragend",function(Ue){ut.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?Ut.on("mousewheel",function(Ue){Y.scaleDByWheel(Ue)}):this.get("scaleDBy")==="drag"&&(Ut.on("dragstart",function(Ue){ut.set("dragging",!0),ut.set("cacheCenter",{x:Ue.x,y:Ue.y}),ut.set("dragPrePos",{x:Ue.x,y:Ue.y})}),Ut.on("drag",function(Ue){Y.scaleDByDrag(Ue)}),Ut.on("dragend",function(Ue){ut.set("dragging",!1)})))}else Ut.attr({x:c.x,y:c.y,r:R/1.5});if(ut.get("showDPercent")){var se=Math.round((ut.get("d")-ut.get("minD"))/(ut.get("maxD")-ut.get("minD"))*100),je=ut.get("dPercentText"),Ie=c.y+R/1.5+16;!je||je.destroyed?(je=jt.get("group").addShape("text",{attrs:{text:se+"%",x:c.x,y:Ie,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),ut.set("dPercentText",je)):je.attr({text:se+"%",x:c.x,y:Ie})}ut.set("delegate",Ut)},f.prototype.clear=function(){var c=this.get("graph");this.restoreCache(),c.refreshPositions();var R=this.get("delegate");R&&!R.destroyed&&(R.remove(),R.destroy());var Y=this.get("dPercentText");Y&&!Y.destroyed&&(Y.remove(),Y.destroy())},f.prototype.destroy=function(){this.clear()},f}(s),yt=function(){var Nt=function(c,R){return(Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,ut){Y.__proto__=ut}||function(Y,ut){for(var jt in ut)Object.prototype.hasOwnProperty.call(ut,jt)&&(Y[jt]=ut[jt])})(c,R)};return function(f,c){function R(){this.constructor=f}Nt(f,c),f.prototype=c===null?Object.create(c):(R.prototype=c.prototype,new R)}}();j()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var xt=function(Nt){function f(){return Nt!==null&&Nt.apply(this,arguments)||this}return yt(f,Nt),f.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(R){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `},zoomSensitivity:2}},f.prototype.init=function(){var c=this,R=this.get("graph"),Y=this.get("getContent")(R),ut=Y;Object(o.x)(Y)&&(ut=Object(T.b)(Y));var jt=this.get("className");ut.setAttribute("class",jt||"g6-component-toolbar");var Ut=this.get("container");Ut||(Ut=this.get("graph").get("container")),Object(o.x)(Ut)&&(Ut=document.getElementById(Ut)),Ut.appendChild(ut),this.set("toolBar",ut);var Et=this.get("handleClick");ut.addEventListener("click",function(se){var je=function(Ue){if(!Ue)return[];if(Ue.composedPath)return Ue.composedPath();for(var Ke=[],An=Ue.target;An;){if(Ke.push(An),An.tagName==="HTML")return Ke.push(document,window),Ke;An=An.parentElement}return Ke}(se).filter(function(Ue){return Ue.nodeName==="LI"});if(je.length!==0){var Ie=je[0].getAttribute("code");Ie&&(Et?Et(Ie,R):c.handleDefaultOperator(Ie,R))}});var qt=this.get("position");qt&&Object(T.c)(ut,{top:qt.y+"px",left:qt.x+"px"}),this.bindUndoRedo()},f.prototype.bindUndoRedo=function(){var c=this.get("graph"),R=document.querySelector('.g6-component-toolbar li[code="undo"]'),Y=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),ut=document.querySelector('.g6-component-toolbar li[code="redo"]'),jt=document.querySelector('.g6-component-toolbar li[code="redo"] svg');R&&Y&&ut&&jt&&c.on("stackchange",function(Ut){var Et=Ut.undoStack,qt=Ut.redoStack,se=Et.length,je=qt.length;se===1?(R.setAttribute("style","cursor: not-allowed"),Y.setAttribute("style","opacity: 0.4")):(R.removeAttribute("style"),Y.removeAttribute("style")),je===0?(ut.setAttribute("style","cursor: not-allowed"),jt.setAttribute("style","opacity: 0.4")):(ut.removeAttribute("style"),jt.removeAttribute("style"))})},f.prototype.undo=function(){var c=this.get("graph"),R=c.getUndoStack();if(R&&R.length!==0){var Y=R.pop();if(Y){var ut=Y.action;c.pushStack(ut,Object(o.c)(Y.data),"redo");var jt=Y.data.before;if(ut==="add"&&(jt=Y.data.after),!jt)return;switch(ut){case"visible":Object.keys(jt).forEach(function(Ut){var Et=jt[Ut];Et&&Et.forEach(function(qt){var se=c.findById(qt.id);qt.visible?c.showItem(se,!1):c.hideItem(se,!1)})});break;case"render":case"update":Object.keys(jt).forEach(function(Ut){var Et=jt[Ut];Et&&Et.forEach(function(qt){c.updateItem(qt.id,qt,!1)})});break;case"changedata":c.changeData(jt,!1);break;case"delete":Object.keys(jt).forEach(function(Ut){var Et=jt[Ut];Et&&Et.forEach(function(qt){var se=qt.itemType;delete qt.itemType,c.addItem(se,qt,!1)})});break;case"add":Object.keys(jt).forEach(function(Ut){var Et=jt[Ut];Et&&Et.forEach(function(qt){c.removeItem(qt.id,!1)})});break;case"updateComboTree":Object.keys(jt).forEach(function(Ut){var Et=jt[Ut];Et&&Et.forEach(function(qt){c.updateComboTree(qt.id,qt.parentId,!1)})})}}}},f.prototype.redo=function(){var c=this.get("graph"),R=c.getRedoStack();if(R&&R.length!==0){var Y=R.pop();if(Y){var ut=Y.action,jt=Y.data.after;if(c.pushStack(ut,Object(o.c)(Y.data)),ut==="delete"&&(jt=Y.data.before),!jt)return;switch(ut){case"visible":Object.keys(jt).forEach(function(Ut){var Et=jt[Ut];Et&&Et.forEach(function(qt){var se=c.findById(qt.id);qt.visible?c.showItem(se,!1):c.hideItem(se,!1)})});break;case"render":case"update":Object.keys(jt).forEach(function(Ut){var Et=jt[Ut];Et&&Et.forEach(function(qt){c.updateItem(qt.id,qt,!1)})});break;case"changedata":c.changeData(jt,!1);break;case"delete":jt.edges&&jt.edges.forEach(function(Ut){c.removeItem(Ut.id,!1)}),jt.nodes&&jt.nodes.forEach(function(Ut){c.removeItem(Ut.id,!1)}),jt.combos&&jt.combos.forEach(function(Ut){c.removeItem(Ut.id,!1)});break;case"add":Object.keys(jt).forEach(function(Ut){var Et=jt[Ut];Et&&Et.forEach(function(qt){var se=qt.itemType;delete qt.itemType,c.addItem(se,qt,!1)})});break;case"updateComboTree":Object.keys(jt).forEach(function(Ut){var Et=jt[Ut];Et&&Et.forEach(function(qt){c.updateComboTree(qt.id,qt.parentId,!1)})})}}}},f.prototype.handleDefaultOperator=function(c,R){var Y=R.getZoom();switch(c){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":var ut=1/(1-.05*this.get("zoomSensitivity"));if(ut*Y>(this.get("maxZoom")||R.get("maxZoom")))return;R.zoomTo(Y*ut);break;case"zoomIn":var jt=1-.05*this.get("zoomSensitivity");if(jt*Y<(this.get("minZoom")||R.get("minZoom")))return;R.zoomTo(Y*jt);break;case"realZoom":R.zoomTo(1);break;case"autoZoom":R.fitView([20,20])}},f.prototype.destroy=function(){var c=this.get("toolBar");if(c){var R=this.get("container");R||(R=this.get("graph").get("container")),Object(o.x)(R)&&(R=document.getElementById(R)),R.removeChild(c)}var Y=this.get("handleClick");Y&&c.removeEventListener("click",Y)},f}(s),wt=function(){var Nt=function(c,R){return(Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,ut){Y.__proto__=ut}||function(Y,ut){for(var jt in ut)Object.prototype.hasOwnProperty.call(ut,jt)&&(Y[jt]=ut[jt])})(c,R)};return function(f,c){function R(){this.constructor=f}Nt(f,c),f.prototype=c===null?Object.create(c):(R.prototype=c.prototype,new R)}}();j()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var Q=function(Nt){function f(){return Nt!==null&&Nt.apply(this,arguments)||this}return wt(f,Nt),f.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(R){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`+R.item.getType()+`</h4>
          <span class='tooltip-id'>ID\uFF1A`+R.item.getID()+`</span>
        `},shouldBegin:function(R){return!0},itemTypes:["node","edge","combo"]}},f.prototype.getEvents=function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},f.prototype.init=function(){var c=this.get("className")||"g6-component-tooltip",R=Object(T.b)("<div class="+c+"></div>"),Y=this.get("container");Y||(Y=this.get("graph").get("container")),Object(o.x)(Y)&&(Y=document.getElementById(Y)),Object(T.c)(R,{position:"absolute",visibility:"hidden"}),Y.appendChild(R),this.set("tooltip",R)},f.prototype.onMouseEnter=function(c){var R=this.get("itemTypes");if(!c.item||!c.item.getType||R.indexOf(c.item.getType())!==-1){var Y=c.item,ut=this.get("graph");this.currentTarget=Y,this.showTooltip(c),ut.emit("tooltipchange",{item:c.item,action:"show"})}},f.prototype.onMouseMove=function(c){var R=this.get("itemTypes");c.item&&c.item.getType&&R.indexOf(c.item.getType())===-1||this.currentTarget&&c.item===this.currentTarget&&this.showTooltip(c)},f.prototype.onMouseLeave=function(){this.hideTooltip(),this.get("graph").emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},f.prototype.showTooltip=function(c){if(c.item){var R=this.get("itemTypes");if(!c.item.getType||R.indexOf(c.item.getType())!==-1){var Y=this.get("tooltip"),ut=this.get("getContent")(c);Object(o.x)(ut)?Y.innerHTML=ut:Y.innerHTML=ut.outerHTML,this.updatePosition(c)}}},f.prototype.hideTooltip=function(){var c=this.get("tooltip");c&&Object(T.c)(c,{visibility:"hidden"})},f.prototype.updatePosition=function(c){var R=this.get("shouldBegin"),Y=this.get("tooltip");if(R(c)){var ut=this.get("graph"),jt=ut.get("width"),Ut=ut.get("height"),Et=this.get("offsetX")||0,qt=this.get("offsetY")||0,se=ut.getPointByClient(c.clientX,c.clientY),je=ut.getCanvasByPoint(se.x,se.y),Ie=je.x,Ue=je.y;Ie+=Et,Ue+=qt;var Ke=Y.getBoundingClientRect();Ie+Ke.width>jt&&(Ie=Ie-Ke.width-Et),Ue+Ke.height>Ut&&(Ue=Ue-Ke.height-qt),Object(T.c)(Y,{left:Ie+"px",top:Ue+"px",visibility:"visible"})}else Object(T.c)(Y,{visibility:"hidden"})},f.prototype.hide=function(){this.onMouseLeave()},f.prototype.destroy=function(){var c=this.get("tooltip");if(c){var R=this.get("container");R||(R=this.get("graph").get("container")),Object(o.x)(R)&&(R=document.getElementById(R)),R.removeChild(c)}},f}(s),ct=t(31),it={};function U(Nt,f){it[Nt]=f}var D=function(){function Nt(f){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=f,this.initCfg(),this.init()}return Nt.prototype.translate=function(f){return f},Nt.prototype.change=function(f){Object(o.a)(this.__cfg__,f),this.init()},Nt.prototype.clone=function(){return this.constructor(this.__cfg__)},Nt.prototype.getTicks=function(){var f=this;return Object(o.z)(this.ticks,function(c,R){return Object(o.v)(c)?c:{text:f.getText(c,R),tickValue:c,value:f.scale(c)}})},Nt.prototype.getText=function(f,c){var R=this.formatter,Y=R?R(f,c):f;return Object(o.s)(Y)||!Object(o.r)(Y.toString)?"":Y.toString()},Nt.prototype.getConfig=function(f){return this.__cfg__[f]},Nt.prototype.init=function(){Object(o.a)(this,this.__cfg__),this.setDomain(),Object(o.p)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},Nt.prototype.initCfg=function(){},Nt.prototype.setDomain=function(){},Nt.prototype.calculateTicks=function(){var f=this.tickMethod,c=[];if(Object(o.x)(f)){var R=it[f];if(!R)throw new Error("There is no method to to calculate ticks!");c=R(this)}else Object(o.r)(f)&&(c=f(this));return c},Nt.prototype.rangeMin=function(){return Object(o.k)(this.range)},Nt.prototype.rangeMax=function(){return Object(o.y)(this.range)},Nt.prototype.calcPercent=function(f,c,R){return Object(o.t)(f)?(f-c)/(R-c):NaN},Nt.prototype.calcValue=function(f,c,R){return c+f*(R-c)},Nt}(),W=t(1),P=function(Nt){function f(){var c=Nt!==null&&Nt.apply(this,arguments)||this;return c.type="cat",c.isCategory=!0,c.cache=new Map,c}return Object(W.b)(f,Nt),f.prototype.translate=function(c){if(this.cache.has(c))return this.cache.get(c);var R=Object(o.l)(this.values,c);return R===-1&&(R=Object(o.t)(c)?c:NaN),this.cache.set(c,R),R},f.prototype.scale=function(c){var R=this.translate(c),Y=this.calcPercent(R,this.min,this.max);return this.calcValue(Y,this.rangeMin(),this.rangeMax())},f.prototype.invert=function(c){var R=this.max-this.min,Y=this.calcPercent(c,this.rangeMin(),this.rangeMax()),ut=Math.round(R*Y)+this.min;return ut<this.min||ut>this.max?NaN:this.values[ut]},f.prototype.getText=function(c){for(var R=[],Y=1;Y<arguments.length;Y++)R[Y-1]=arguments[Y];var ut=c;return Object(o.t)(c)&&!this.values.includes(c)&&(ut=this.values[ut]),Nt.prototype.getText.apply(this,Object(W.d)([ut],R))},f.prototype.initCfg=function(){this.tickMethod="cat"},f.prototype.setDomain=function(){if(Object(o.s)(this.getConfig("min"))&&(this.min=0),Object(o.s)(this.getConfig("max"))){var c=this.values.length;this.max=c>1?c-1:c}this.cache&&this.cache.clear()},f}(D),m=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,y="[^\\s]+",V=/\[([^]*?)\]/gm;function J(Nt,f){for(var c=[],R=0,Y=Nt.length;R<Y;R++)c.push(Nt[R].substr(0,f));return c}var ht=function(f){return function(c,R){var Y=R[f].map(function(ut){return ut.toLowerCase()}).indexOf(c.toLowerCase());return Y>-1?Y:null}};function gt(Nt){for(var f=[],c=1;c<arguments.length;c++)f[c-1]=arguments[c];for(var R=0,Y=f;R<Y.length;R++){var ut=Y[R];for(var jt in ut)Nt[jt]=ut[jt]}return Nt}var Mt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Lt=["January","February","March","April","May","June","July","August","September","October","November","December"],At=J(Lt,3),Ct={dayNamesShort:J(Mt,3),dayNames:Mt,monthNamesShort:At,monthNames:Lt,amPm:["am","pm"],DoFn:function(f){return f+["th","st","nd","rd"][f%10>3?0:(f-f%10!=10?1:0)*f%10]}},Ot=gt({},Ct),Dt=function(f){return Ot=gt(Ot,f)},Ft=function(f){return f.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Xt=function(f,c){for(c===void 0&&(c=2),f=String(f);f.length<c;)f="0"+f;return f},Rt={D:function(f){return String(f.getDate())},DD:function(f){return Xt(f.getDate())},Do:function(f,c){return c.DoFn(f.getDate())},d:function(f){return String(f.getDay())},dd:function(f){return Xt(f.getDay())},ddd:function(f,c){return c.dayNamesShort[f.getDay()]},dddd:function(f,c){return c.dayNames[f.getDay()]},M:function(f){return String(f.getMonth()+1)},MM:function(f){return Xt(f.getMonth()+1)},MMM:function(f,c){return c.monthNamesShort[f.getMonth()]},MMMM:function(f,c){return c.monthNames[f.getMonth()]},YY:function(f){return Xt(String(f.getFullYear()),4).substr(2)},YYYY:function(f){return Xt(f.getFullYear(),4)},h:function(f){return String(f.getHours()%12||12)},hh:function(f){return Xt(f.getHours()%12||12)},H:function(f){return String(f.getHours())},HH:function(f){return Xt(f.getHours())},m:function(f){return String(f.getMinutes())},mm:function(f){return Xt(f.getMinutes())},s:function(f){return String(f.getSeconds())},ss:function(f){return Xt(f.getSeconds())},S:function(f){return String(Math.round(f.getMilliseconds()/100))},SS:function(f){return Xt(Math.round(f.getMilliseconds()/10),2)},SSS:function(f){return Xt(f.getMilliseconds(),3)},a:function(f,c){return f.getHours()<12?c.amPm[0]:c.amPm[1]},A:function(f,c){return f.getHours()<12?c.amPm[0].toUpperCase():c.amPm[1].toUpperCase()},ZZ:function(f){var c=f.getTimezoneOffset();return(c>0?"-":"+")+Xt(100*Math.floor(Math.abs(c)/60)+Math.abs(c)%60,4)},Z:function(f){var c=f.getTimezoneOffset();return(c>0?"-":"+")+Xt(Math.floor(Math.abs(c)/60),2)+":"+Xt(Math.abs(c)%60,2)}},Kt=function(f){return+f-1},$t=[null,"[1-9]\\d?"],le=[null,y],Me=["isPm",y,function(Nt,f){var c=Nt.toLowerCase();return c===f.amPm[0]?0:c===f.amPm[1]?1:null}],on=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(Nt){var f=(Nt+"").match(/([+-]|\d\d)/gi);if(f){var c=60*+f[1]+parseInt(f[2],10);return f[0]==="+"?c:-c}return 0}],hn={D:["day","[1-9]\\d?"],DD:["day","\\d\\d"],Do:["day","[1-9]\\d?"+y,function(Nt){return parseInt(Nt,10)}],M:["month","[1-9]\\d?",Kt],MM:["month","\\d\\d",Kt],YY:["year","\\d\\d",function(Nt){var f=+(""+new Date().getFullYear()).substr(0,2);return+(""+(+Nt>68?f-1:f)+Nt)}],h:["hour","[1-9]\\d?",void 0,"isPm"],hh:["hour","\\d\\d",void 0,"isPm"],H:["hour","[1-9]\\d?"],HH:["hour","\\d\\d"],m:["minute","[1-9]\\d?"],mm:["minute","\\d\\d"],s:["second","[1-9]\\d?"],ss:["second","\\d\\d"],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(Nt){return 100*+Nt}],SS:["millisecond","\\d\\d",function(Nt){return 10*+Nt}],SSS:["millisecond","\\d{3}"],d:$t,dd:$t,ddd:le,dddd:le,MMM:["month",y,ht("monthNamesShort")],MMMM:["month",y,ht("monthNames")],a:Me,A:Me,ZZ:on,Z:on},Cn={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},He=function(f){return gt(Cn,f)},mn=function(f,c,R){if(c===void 0&&(c=Cn.default),R===void 0&&(R={}),typeof f=="number"&&(f=new Date(f)),Object.prototype.toString.call(f)!=="[object Date]"||isNaN(f.getTime()))throw new Error("Invalid Date pass to format");var Y=[];c=(c=Cn[c]||c).replace(V,function(jt,Ut){return Y.push(Ut),"@@@"});var ut=gt(gt({},Ot),R);return(c=c.replace(m,function(jt){return Rt[jt](f,ut)})).replace(/@@@/g,function(){return Y.shift()})};function dn(Nt,f,c){if(c===void 0&&(c={}),typeof f!="string")throw new Error("Invalid format in fecha parse");if(f=Cn[f]||f,Nt.length>1e3)return null;var R={year:new Date().getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},Y=[],ut=[],jt=f.replace(V,function(Jn,Ar){return ut.push(Ft(Ar)),"@@@"}),Ut={},Et={};jt=Ft(jt).replace(m,function(Jn){var Ar=hn[Jn],ur=Ar[0],mr=Ar[1],ii=Ar[3];if(Ut[ur])throw new Error("Invalid format. "+ur+" specified twice in format");return Ut[ur]=!0,ii&&(Et[ii]=!0),Y.push(Ar),"("+mr+")"}),Object.keys(Et).forEach(function(Jn){if(!Ut[Jn])throw new Error("Invalid format. "+Jn+" is required in specified format")}),jt=jt.replace(/@@@/g,function(){return ut.shift()});var qt=Nt.match(new RegExp(jt,"i"));if(!qt)return null;for(var se=gt(gt({},Ot),c),je=1;je<qt.length;je++){var Ie=Y[je-1],Ue=Ie[0],Ke=Ie[2],An=Ke?Ke(qt[je],se):+qt[je];if(An==null)return null;R[Ue]=An}R.isPm===1&&R.hour!=null&&+R.hour!=12?R.hour=+R.hour+12:R.isPm===0&&+R.hour==12&&(R.hour=0);for(var Bn=new Date(R.year,R.month,R.day,R.hour,R.minute,R.second,R.millisecond),Wn=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],Yn=(je=0,Wn.length);je<Yn;je++)if(Ut[Wn[je][0]]&&R[Wn[je][0]]!==Bn[Wn[je][1]]())return null;return R.timezoneOffset==null?Bn:new Date(Date.UTC(R.year,R.month,R.day,R.hour,R.minute-R.timezoneOffset,R.second,R.millisecond))}var Un={format:mn,parse:dn,defaultI18n:Ct,setGlobalDateI18n:Dt,setGlobalDateMasks:He};function Xn(Nt,f){return(n.format||Un.format)(Nt,f)}function Hn(Nt){return Object(o.x)(Nt)&&(Nt=Nt.indexOf("T")>0?new Date(Nt).getTime():new Date(Nt.replace(/-/gi,"/")).getTime()),Object(o.o)(Nt)&&(Nt=Nt.getTime()),Nt}var _n=36e5,$n=24*_n,ir=31*$n,dr=[["HH:mm:ss",1e3],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",6e4],["HH:mm",6e5],["HH:mm",18e5],["HH",_n],["HH",6*_n],["HH",12*_n],["YYYY-MM-DD",$n],["YYYY-MM-DD",4*$n],["YYYY-WW",7*$n],["YYYY-MM",ir],["YYYY-MM",4*ir],["YYYY-MM",6*ir],["YYYY",380*$n]];function xr(Nt,f,c){var R,Y=(R=function(Ut){return Ut[1]},function(jt,Ut,Et,qt){for(var se=Object(o.s)(Et)?0:Et,je=Object(o.s)(qt)?jt.length:qt;se<je;){var Ie=se+je>>>1;R(jt[Ie])>Ut?je=Ie:se=Ie+1}return se})(dr,(f-Nt)/c)-1,ut=dr[Y];return Y<0?ut=dr[0]:Y>=dr.length&&(ut=Object(o.y)(dr)),ut}var Qr=function(Nt){function f(){var c=Nt!==null&&Nt.apply(this,arguments)||this;return c.type="timeCat",c}return Object(W.b)(f,Nt),f.prototype.translate=function(c){c=Hn(c);var R=this.values.indexOf(c);return R===-1&&(R=Object(o.t)(c)&&c<this.values.length?c:NaN),R},f.prototype.getText=function(c,R){var Y=this.translate(c);if(Y>-1){var ut=this.values[Y],jt=this.formatter;return ut=jt?jt(ut,R):Xn(ut,this.mask)}return c},f.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},f.prototype.setDomain=function(){var c=this.values;Object(o.f)(c,function(R,Y){c[Y]=Hn(R)}),c.sort(function(R,Y){return R-Y}),Nt.prototype.setDomain.call(this)},f}(P),Mr=function(Nt){function f(){var c=Nt!==null&&Nt.apply(this,arguments)||this;return c.isContinuous=!0,c}return Object(W.b)(f,Nt),f.prototype.scale=function(c){if(Object(o.s)(c))return NaN;var R=this.rangeMin(),Y=this.rangeMax();return this.max===this.min?R:R+this.getScalePercent(c)*(Y-R)},f.prototype.init=function(){Nt.prototype.init.call(this);var c=this.ticks,R=Object(o.k)(c),Y=Object(o.y)(c);R<this.min&&(this.min=R),Y>this.max&&(this.max=Y),Object(o.s)(this.minLimit)||(this.min=R),Object(o.s)(this.maxLimit)||(this.max=Y)},f.prototype.setDomain=function(){var c=Object(o.j)(this.values),R=c.min,Y=c.max;Object(o.s)(this.min)&&(this.min=R),Object(o.s)(this.max)&&(this.max=Y),this.min>this.max&&(this.min=R,this.max=Y)},f.prototype.calculateTicks=function(){var c=this,R=Nt.prototype.calculateTicks.call(this);return this.nice||(R=Object(o.g)(R,function(Y){return Y>=c.min&&Y<=c.max})),R},f.prototype.getScalePercent=function(c){var R=this.max,Y=this.min;return(c-Y)/(R-Y)},f.prototype.getInvertPercent=function(c){return(c-this.rangeMin())/(this.rangeMax()-this.rangeMin())},f}(D),Er=function(Nt){function f(){var c=Nt!==null&&Nt.apply(this,arguments)||this;return c.type="linear",c.isLinear=!0,c}return Object(W.b)(f,Nt),f.prototype.invert=function(c){var R=this.getInvertPercent(c);return this.min+R*(this.max-this.min)},f.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},f}(Mr);function Dr(Nt,f){var c=Math.E;return f>=0?Math.pow(c,Math.log(f)/Nt):-1*Math.pow(c,Math.log(-f)/Nt)}function hi(Nt,f){return Nt===1?1:Math.log(f)/Math.log(Nt)}function Wi(Nt,f,c){Object(o.s)(c)&&(c=Math.max.apply(null,Nt));var R=c;return Object(o.f)(Nt,function(Y){Y>0&&Y<R&&(R=Y)}),R===c&&(R=c/f),R>1&&(R=1),R}var oa=function(Nt){function f(){var c=Nt!==null&&Nt.apply(this,arguments)||this;return c.type="log",c}return Object(W.b)(f,Nt),f.prototype.invert=function(c){var R,Y=this.base,ut=hi(Y,this.max),jt=this.rangeMin(),Ut=this.rangeMax()-jt,Et=this.positiveMin;if(Et){if(c===0)return 0;var qt=1/(ut-(R=hi(Y,Et/Y)))*Ut;if(c<qt)return c/qt*Et}else R=hi(Y,this.min);var se=(c-jt)/Ut*(ut-R)+R;return Math.pow(Y,se)},f.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},f.prototype.setDomain=function(){Nt.prototype.setDomain.call(this);var c=this.min;if(c<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");c===0&&(this.positiveMin=Wi(this.values,this.base,this.max))},f.prototype.getScalePercent=function(c){var R=this.max,Y=this.min;if(R===Y||c<=0)return 0;var ut=this.base,jt=this.positiveMin;return jt&&(Y=1*jt/ut),c<jt?c/jt/(hi(ut,R)-hi(ut,Y)):(hi(ut,c)-hi(ut,Y))/(hi(ut,R)-hi(ut,Y))},f}(Mr),Za=function(Nt){function f(){var c=Nt!==null&&Nt.apply(this,arguments)||this;return c.type="pow",c}return Object(W.b)(f,Nt),f.prototype.invert=function(c){var R=this.getInvertPercent(c),Y=this.exponent,ut=Dr(Y,this.max),jt=Dr(Y,this.min),Ut=R*(ut-jt)+jt,Et=Ut>=0?1:-1;return Math.pow(Ut,Y)*Et},f.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},f.prototype.getScalePercent=function(c){var R=this.max,Y=this.min;if(R===Y)return 0;var ut=this.exponent;return(Dr(ut,c)-Dr(ut,Y))/(Dr(ut,R)-Dr(ut,Y))},f}(Mr),ao=function(Nt){function f(){var c=Nt!==null&&Nt.apply(this,arguments)||this;return c.type="time",c}return Object(W.b)(f,Nt),f.prototype.getText=function(c,R){var Y=this.translate(c),ut=this.formatter;return ut?ut(Y,R):Xn(Y,this.mask)},f.prototype.scale=function(c){var R=c;return(Object(o.x)(R)||Object(o.o)(R))&&(R=this.translate(R)),Nt.prototype.scale.call(this,R)},f.prototype.translate=function(c){return Hn(c)},f.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},f.prototype.setDomain=function(){var c=this.values,R=this.getConfig("min"),Y=this.getConfig("max");if(Object(o.s)(R)&&Object(o.t)(R)||(this.min=this.translate(this.min)),Object(o.s)(Y)&&Object(o.t)(Y)||(this.max=this.translate(this.max)),c&&c.length){var ut=[],jt=1/0,Ut=jt,Et=0;Object(o.f)(c,function(qt){var se=Hn(qt);if(isNaN(se))throw new TypeError("Invalid Time: "+qt+" in time scale!");jt>se?(Ut=jt,jt=se):Ut>se&&(Ut=se),Et<se&&(Et=se),ut.push(se)}),c.length>1&&(this.minTickInterval=Ut-jt),Object(o.s)(R)&&(this.min=jt),Object(o.s)(Y)&&(this.max=Et)}},f}(Er),Ji=function(Nt){function f(){var c=Nt!==null&&Nt.apply(this,arguments)||this;return c.type="quantize",c}return Object(W.b)(f,Nt),f.prototype.invert=function(c){var R=this.ticks,Y=R.length,ut=this.getInvertPercent(c),jt=Math.floor(ut*(Y-1));if(jt>=Y-1)return Object(o.y)(R);if(jt<0)return Object(o.k)(R);var Ut=R[jt],Et=jt/(Y-1);return Ut+(ut-Et)/((jt+1)/(Y-1)-Et)*(R[jt+1]-Ut)},f.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},f.prototype.calculateTicks=function(){var c=Nt.prototype.calculateTicks.call(this);return this.nice||(Object(o.y)(c)!==this.max&&c.push(this.max),Object(o.k)(c)!==this.min&&c.unshift(this.min)),c},f.prototype.getScalePercent=function(c){var R=this.ticks;if(c<Object(o.k)(R))return 0;if(c>Object(o.y)(R))return 1;var Y=0;return Object(o.f)(R,function(ut,jt){if(!(c>=ut))return!1;Y=jt}),Y/(R.length-1)},f}(Mr),Ya=function(Nt){function f(){var c=Nt!==null&&Nt.apply(this,arguments)||this;return c.type="quantile",c}return Object(W.b)(f,Nt),f.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},f}(Ji),Ca={};function La(Nt,f){if(function(c){return Ca[c]}(Nt))throw new Error("type '"+Nt+"' existed.");Ca[Nt]=f}var Ba=function(Nt){function f(){var c=Nt!==null&&Nt.apply(this,arguments)||this;return c.type="identity",c.isIdentity=!0,c}return Object(W.b)(f,Nt),f.prototype.calculateTicks=function(){return this.values},f.prototype.scale=function(c){return this.values[0]!==c&&Object(o.t)(c)?c:this.range[0]},f.prototype.invert=function(c){var R=this.range;return c<R[0]||c>R[1]?NaN:this.values[0]},f}(D),oo=[1,5,2,2.5,4,3],Yr=100*Number.EPSILON;function $a(Nt,f,c,R,Y,ut){var jt=Object(o.E)(f),Ut=Object(o.l)(f,Nt),Et=0,qt=function(se,je){return(se%je+je)%je}(R,ut);return(qt<Yr||ut-qt<Yr)&&R<=0&&Y>=0&&(Et=1),1-Ut/(jt-1)-c+Et}function Ma(Nt,f,c){var R=Object(o.E)(f);return 1-Object(o.l)(f,Nt)/(R-1)-c+1}function to(Nt,f,c,R,Y,ut){var jt=(Nt-1)/(ut-Y),Ut=(f-1)/(Math.max(ut,R)-Math.min(c,Y));return 2-Math.max(jt/Ut,Ut/jt)}function Aa(Nt,f){return Nt>=f?2-(Nt-1)/(f-1):1}function Vr(Nt,f,c,R){var Y=f-Nt;return 1-.5*(Math.pow(f-R,2)+Math.pow(Nt-c,2))/Math.pow(.1*Y,2)}function Pi(Nt,f,c){var R=f-Nt;if(c>R){var Y=(c-R)/2;return 1-Math.pow(Y,2)/Math.pow(.1*R,2)}return 1}function wi(Nt,f,c,R,Y,ut){if(c===void 0&&(c=5),R===void 0&&(R=!0),Y===void 0&&(Y=oo),ut===void 0&&(ut=[.25,.2,.5,.05]),typeof Nt!="number"||typeof f!="number"||!c)return{min:0,max:0,ticks:[]};if(f-Nt<1e-15||c===1)return{min:Nt,max:f,ticks:[Nt]};for(var jt={score:-2,lmin:0,lmax:0,lstep:0},Ut=1;Ut<1/0;){for(var Et=0,qt=Y;Et<qt.length;Et++){var se=qt[Et],je=Ma(se,Y,Ut);if(Number.isNaN(je))throw new Error("NaN");if(ut[0]*je+ut[1]+ut[2]+ut[3]<jt.score){Ut=1/0;break}for(var Ie=2;Ie<1/0;){var Ue=Aa(Ie,c);if(ut[0]*je+ut[1]+ut[2]*Ue+ut[3]<jt.score)break;for(var Ke=(f-Nt)/(Ie+1)/Ut/se,An=Math.ceil(Math.log10(Ke));An<1/0;){var Bn=Ut*se*Math.pow(10,An),Wn=Pi(Nt,f,Bn*(Ie-1));if(ut[0]*je+ut[1]*Wn+ut[2]*Ue+ut[3]<jt.score)break;var Yn=Math.floor(f/Bn)*Ut-(Ie-1)*Ut,Jn=Math.ceil(Nt/Bn)*Ut;if(Yn>Jn)An+=1;else{for(var Ar=Yn;Ar<=Jn;Ar+=1){var ur=Ar*(Bn/Ut),mr=ur+Bn*(Ie-1),ii=Bn,Li=$a(se,Y,Ut,ur,mr,ii),ci=Vr(Nt,f,ur,mr),Yi=to(Ie,c,Nt,f,ur,mr),qa=ut[0]*Li+ut[1]*ci+ut[2]*Yi+1*ut[3];qa>jt.score&&(!R||ur<=Nt&&mr>=f)&&(jt.lmin=ur,jt.lmax=mr,jt.lstep=ii,jt.score=qa)}An+=1}}Ie+=1}}Ut+=1}for(var wa=Number.isInteger(jt.lstep)?0:Math.ceil(Math.abs(Math.log10(jt.lstep))),fo=[],ga=jt.lmin;ga<=jt.lmax;ga+=jt.lstep)fo.push(ga);var Ia=wa?Object(o.z)(fo,function(ko){return Number.parseFloat(ko.toFixed(wa))}):fo;return{min:Math.min(Nt,Object(o.k)(Ia)),max:Math.max(f,Object(o.y)(Ia)),ticks:Ia}}function Ei(Nt){var f=Nt.values,c=Nt.tickInterval,R=Nt.tickCount,Y=f;if(Object(o.t)(c))return Object(o.g)(Y,function(Et,qt){return qt%c==0});var ut=Nt.min,jt=Nt.max;if(Object(o.s)(ut)&&(ut=0),Object(o.s)(jt)&&(jt=f.length-1),Object(o.t)(R)&&R<jt-ut){var Ut=wi(ut,jt,R,!1,[1,2,5,3,4,7,6,8,9]).ticks;return Object(o.g)(Ut,function(Et){return Et>=ut&&Et<=jt}).map(function(Et){return f[Et]})}return f.slice(ut,jt+1)}var bi=Math.sqrt(50),Di=Math.sqrt(10),Fi=Math.sqrt(2),Ni=function(){function Nt(){this._domain=[0,1]}return Nt.prototype.domain=function(f){return f?(this._domain=Array.from(f,Number),this):this._domain.slice()},Nt.prototype.nice=function(f){var c,R;f===void 0&&(f=5);var Y,ut=this._domain.slice(),jt=0,Ut=this._domain.length-1,Et=this._domain[jt],qt=this._domain[Ut];return qt<Et&&(Et=(c=[qt,Et])[0],qt=c[1],jt=(R=[Ut,jt])[0],Ut=R[1]),(Y=ji(Et,qt,f))>0?Y=ji(Et=Math.floor(Et/Y)*Y,qt=Math.ceil(qt/Y)*Y,f):Y<0&&(Y=ji(Et=Math.ceil(Et*Y)/Y,qt=Math.floor(qt*Y)/Y,f)),Y>0?(ut[jt]=Math.floor(Et/Y)*Y,ut[Ut]=Math.ceil(qt/Y)*Y,this.domain(ut)):Y<0&&(ut[jt]=Math.ceil(Et*Y)/Y,ut[Ut]=Math.floor(qt*Y)/Y,this.domain(ut)),this},Nt.prototype.ticks=function(f){return f===void 0&&(f=5),function(c,R,Y){var ut,jt,Ut,Et,qt=-1;if(Y=+Y,(c=+c)==(R=+R)&&Y>0)return[c];if((ut=R<c)&&(jt=c,c=R,R=jt),(Et=ji(c,R,Y))===0||!isFinite(Et))return[];if(Et>0)for(c=Math.ceil(c/Et),R=Math.floor(R/Et),Ut=new Array(jt=Math.ceil(R-c+1));++qt<jt;)Ut[qt]=(c+qt)*Et;else for(c=Math.floor(c*Et),R=Math.ceil(R*Et),Ut=new Array(jt=Math.ceil(c-R+1));++qt<jt;)Ut[qt]=(c-qt)/Et;return ut&&Ut.reverse(),Ut}(this._domain[0],this._domain[this._domain.length-1],f||5)},Nt}();function ji(Nt,f,c){var R=(f-Nt)/Math.max(0,c),Y=Math.floor(Math.log(R)/Math.LN10),ut=R/Math.pow(10,Y);return Y>=0?(ut>=bi?10:ut>=Di?5:ut>=Fi?2:1)*Math.pow(10,Y):-Math.pow(10,-Y)/(ut>=bi?10:ut>=Di?5:ut>=Fi?2:1)}function Xi(Nt,f,c){return(c==="ceil"?Math.ceil(Nt/f):c==="floor"?Math.floor(Nt/f):Math.round(Nt/f))*f}function Ki(Nt,f,c){var R=Xi(Nt,c,"floor"),Y=Xi(f,c,"ceil");R=Object(o.h)(R,c),Y=Object(o.h)(Y,c);for(var ut=[],jt=R;jt<=Y;jt+=c){var Ut=Object(o.h)(jt,c);ut.push(Ut)}return{min:R,max:Y,ticks:ut}}function la(Nt,f,c){var R,Y=Nt.minLimit,ut=Nt.maxLimit,jt=Nt.min,Ut=Nt.max,Et=Nt.tickCount,qt=Et===void 0?5:Et,se=Object(o.s)(Y)?Object(o.s)(f)?jt:f:Y,je=Object(o.s)(ut)?Object(o.s)(c)?Ut:c:ut;if(se>je&&(je=(R=[se,je])[0],se=R[1]),qt<=2)return[se,je];for(var Ie=(je-se)/(qt-1),Ue=[],Ke=0;Ke<qt;Ke++)Ue.push(se+Ie*Ke);return Ue}function ta(Nt,f,c){c===void 0&&(c=5);var R={max:0,min:0,ticks:[]};if(Nt===f)return{max:f,min:Nt,ticks:[Nt]};var Y=(f-Nt)/c,ut=Math.pow(10,Math.floor(Math.log10(Y))),jt=ut<1?Math.ceil(Math.abs(Math.log10(ut))):0,Ut=ut;2*ut-Y<1.5*(Y-Ut)&&5*ut-Y<2.75*(Y-(Ut=2*ut))&&10*ut-Y<1.5*(Y-(Ut=5*ut))&&(Ut=10*ut);var Et=Math.ceil(f/Ut),qt=Math.floor(Nt/Ut);R.max=Math.max(Et*Ut,f),R.min=Math.min(qt*Ut,Nt);for(var se=Number.parseFloat((qt*Ut).toFixed(jt));se<f;)R.ticks.push(se),se+=Ut,jt&&(se=Number.parseFloat(se.toFixed(jt)));return R.ticks.push(se),R}function ma(Nt,f){var c=Nt.length*f;return f===1?Nt[Nt.length-1]:f===0?Nt[0]:c%1!=0?Nt[Math.ceil(c)-1]:Nt.length%2==0?(Nt[c-1]+Nt[c])/2:Nt[c]}function Oa(Nt){return new Date(Nt).getFullYear()}function uo(Nt){return new Date(Nt,0,1).getTime()}function sa(Nt){return new Date(Nt).getMonth()}function Xa(Nt,f){return new Date(Nt,f,1).getTime()}U("cat",Ei),U("time-cat",function(Nt){var f=Ei(Nt),c=Object(o.y)(Nt.values);return c!==Object(o.y)(f)&&f.push(c),f}),U("wilkinson-extended",function(Nt){var f=Nt.min,c=Nt.max,R=Nt.tickCount,Y=Nt.nice,ut=Nt.tickInterval,jt=Nt.minLimit,Ut=Nt.maxLimit,Et=wi(f,c,R,Y).ticks;return Object(o.s)(jt)&&Object(o.s)(Ut)?ut?Ki(f,c,ut).ticks:Et:la(Nt,Object(o.k)(Et),Object(o.y)(Et))}),U("r-pretty",function(Nt){var f=Nt.min,c=Nt.max,R=Nt.tickCount,Y=Nt.tickInterval,ut=Nt.minLimit,jt=Nt.maxLimit,Ut=ta(f,c,R).ticks;return Object(o.s)(ut)&&Object(o.s)(jt)?Y?Ki(f,c,Y).ticks:Ut:la(Nt,Object(o.k)(Ut),Object(o.y)(Ut))}),U("time",function(Nt){var f=Nt.min,c=Nt.max,R=Nt.minTickInterval,Y=Nt.tickInterval,ut=Nt.tickCount;if(Y)ut=Math.ceil((c-f)/Y);else{var jt=(c-f)/(Y=xr(f,c,ut)[1])/ut;jt>1&&(Y*=Math.ceil(jt)),R&&Y<R&&(Y=R)}for(var Ut=[],Et=f;Et<c+Y;Et+=Y)Ut.push(Et);return Ut}),U("time-pretty",function(Nt){var f=Nt.min,c=Nt.max,R=Nt.minTickInterval,Y=Nt.tickCount,ut=Nt.tickInterval,jt=[];ut||(ut=(c-f)/Y,R&&ut<R&&(ut=R));var Ut=Oa(f);if(ut>31536e6)for(var Et=Oa(c),qt=Math.ceil(ut/31536e6),se=Ut;se<=Et+qt;se+=qt)jt.push(uo(se));else if(ut>ir){var je=Math.ceil(ut/ir),Ie=sa(f),Ue=function(fo,ga){var Ia=Oa(fo),ko=Oa(ga),No=sa(fo);return 12*(ko-Ia)+(sa(ga)-No)%12}(f,c);for(se=0;se<=Ue+je;se+=je)jt.push(Xa(Ut,se+Ie))}else if(ut>$n){var Ke=(Jn=new Date(f)).getFullYear(),An=Jn.getMonth(),Bn=Jn.getDate(),Wn=Math.ceil(ut/$n),Yn=function(fo,ga){return Math.ceil((ga-fo)/$n)}(f,c);for(se=0;se<Yn+Wn;se+=Wn)jt.push(new Date(Ke,An,Bn+se).getTime())}else if(ut>_n){Ke=(Jn=new Date(f)).getFullYear(),An=Jn.getMonth(),Wn=Jn.getDate();var Jn,Ar=Jn.getHours(),ur=Math.ceil(ut/_n),mr=function(fo,ga){return Math.ceil((ga-fo)/_n)}(f,c);for(se=0;se<=mr+ur;se+=ur)jt.push(new Date(Ke,An,Wn,Ar+se).getTime())}else if(ut>6e4){var ii=function(fo,ga){return Math.ceil((ga-fo)/6e4)}(f,c),Li=Math.ceil(ut/6e4);for(se=0;se<=ii+Li;se+=Li)jt.push(f+6e4*se)}else{var ci=ut;ci<1e3&&(ci=1e3);var Yi=1e3*Math.floor(f/1e3),qa=Math.ceil((c-f)/1e3),wa=Math.ceil(ci/1e3);for(se=0;se<qa+wa;se+=wa)jt.push(Yi+1e3*se)}return jt.length>=512&&console.warn("Notice: current ticks length("+jt.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+ut+") is too small, increase the value to solve the problem!"),jt}),U("log",function(Nt){var f,c=Nt.base,R=Nt.tickCount,Y=Nt.min,ut=Nt.max,jt=Nt.values,Ut=hi(c,ut);if(Y>0)f=Math.floor(hi(c,Y));else{var Et=Wi(jt,c,ut);f=Math.floor(hi(c,Et))}for(var qt=Ut-f,se=Math.ceil(qt/R),je=[],Ie=f;Ie<Ut+se;Ie+=se)je.push(Math.pow(c,Ie));return Y<=0&&je.unshift(0),je}),U("pow",function(Nt){var f=Nt.exponent,c=Nt.tickCount,R=Math.ceil(Dr(f,Nt.max));return ta(Math.floor(Dr(f,Nt.min)),R,c).ticks.map(function(Y){var ut=Y>=0?1:-1;return Math.pow(Y,f)*ut})}),U("quantile",function(Nt){var f=Nt.tickCount,c=Nt.values;if(!c||!c.length)return[];for(var R=c.slice().sort(function(Ut,Et){return Ut-Et}),Y=[],ut=0;ut<f;ut++){var jt=ut/(f-1);Y.push(ma(R,jt))}return Y}),U("d3-linear",function(Nt){var f=Nt.min,c=Nt.max,R=Nt.tickInterval,Y=Nt.minLimit,ut=Nt.maxLimit,jt=function(Ut){var Et=Ut.min,qt=Ut.max,se=Ut.nice,je=Ut.tickCount,Ie=new Ni;return Ie.domain([Et,qt]),se&&Ie.nice(je),Ie.ticks(je)}(Nt);return Object(o.s)(Y)&&Object(o.s)(ut)?R?Ki(f,c,R).ticks:jt:la(Nt,Object(o.k)(jt),Object(o.y)(jt))}),La("cat",P),La("category",P),La("identity",Ba),La("linear",Er),La("log",oa),La("pow",Za),La("time",ao),La("timeCat",Qr),La("quantize",Ji),La("quantile",Ya);var po=function(){for(var f=0,c=0,R=arguments.length;c<R;c++)f+=arguments[c].length;var Y=Array(f),ut=0;for(c=0;c<R;c++)for(var jt=arguments[c],Ut=0,Et=jt.length;Ut<Et;Ut++,ut++)Y[ut]=jt[Ut];return Y};function bo(Nt){return function(f){return Object(o.z)(f,function(c,R){return[R===0?"M":"L",c[0],c[1]]})}(Nt)}function Mo(Nt,f,c,R){R===void 0&&(R=!0);var Y=new Er({values:Nt}),ut=new P({values:Object(o.z)(Nt,function(Ut,Et){return Et})}),jt=Object(o.z)(Nt,function(Ut,Et){return[ut.scale(Et)*f,c-Y.scale(Ut)*c]});return R?function(Ut){if(Ut.length<=2)return bo(Ut);var Et=[];Object(o.f)(Ut,function(Ue){Object(o.q)(Ue,Et.slice(Et.length-2))||Et.push(Ue[0],Ue[1])});var qt=ct.a(Et,!1),se=Object(o.k)(Ut),je=se[0],Ie=se[1];return qt.unshift(["M",je,Ie]),qt}(jt):bo(jt)}function Po(Nt,f,c){for(var R=new Er({values:Nt}),Y=new P({values:Object(o.z)(Nt,function(se,je){return je})}),ut=Object(o.z)(Nt,function(se,je){return[Y.scale(je)*f,c-R.scale(se)*c]}),jt=[],Ut=0;Ut<ut.length;Ut++){var Et=ut[Ut],qt=Qt({x:Et[0],y:Et[1],y0:c,size:5});jt.push.apply(jt,qt)}return function(se,je){je===void 0&&(je=!0);var Ie=[],Ue=se[0];Ie.push(["M",Ue.x,Ue.y]);for(var Ke=1,An=se.length;Ke<An;Ke++)Ie.push(["L",se[Ke].x,se[Ke].y]);return je&&(Ie.push(["L",Ue.x,Ue.y]),Ie.push(["z"])),Ie}(jt)}function ue(Nt,f,c,R){var Y=po(Nt),ut=function(jt,Ut){var Et=new Er({values:jt}),qt=Math.max(0,Et.min);return Ut-Et.scale(qt)*Ut}(R,c);return Y.push(["L",f,ut]),Y.push(["L",0,ut]),Y.push(["Z"]),Y}function Qt(Nt){var f,c,R,Y,ut=Nt.x,jt=Nt.y,Ut=Nt.y0,Et=Nt.size;Object(o.m)(jt)?(f=jt[0],c=jt[1]):(f=Ut,c=jt),Object(o.m)(ut)?(R=ut[0],Y=ut[1]):(R=ut-Et/2,Y=ut+Et/2);var qt=[{x:R,y:f},{x:R,y:c}];return qt.push({x:Y,y:c},{x:Y,y:f}),qt}var ne=function(){return(ne=Object.assign||function(f){for(var c,R=1,Y=arguments.length;R<Y;R++)for(var ut in c=arguments[R])Object.prototype.hasOwnProperty.call(c,ut)&&(f[ut]=c[ut]);return f}).apply(this,arguments)},Ce={stroke:"#C5C5C5",strokeOpacity:.85},en={fill:"#CACED4",opacity:.85},kn=function(){function Nt(f){var c=f.x,R=c===void 0?0:c,Y=f.y,ut=Y===void 0?0:Y,jt=f.width,Ut=jt===void 0?200:jt,Et=f.height,qt=Et===void 0?26:Et,se=f.smooth,je=se===void 0||se,Ie=f.isArea,Ue=Ie!==void 0&&Ie,Ke=f.data,An=Ke===void 0?[]:Ke,Bn=f.lineStyle,Wn=f.areaStyle,Yn=f.group,Jn=f.interval,Ar=Jn===void 0?null:Jn;this.group=Yn,this.x=R,this.y=ut,this.width=Ut,this.height=qt,this.data=An,this.smooth=je,this.isArea=Ue,this.lineStyle=Object.assign({},Ce,Bn),this.areaStyle=Object.assign({},en,Wn),this.intervalConfig=Ar,this.renderLine()}return Nt.prototype.renderLine=function(){var f=this,c=f.x,R=f.y,Y=f.width,ut=f.height,jt=f.data,Ut=f.smooth,Et=f.isArea,qt=(f.backgroundStyle,f.lineStyle),se=f.areaStyle,je=this.group.addGroup({name:"trend-group"});if(jt){var Ie=Mo(jt,Y,ut,Ut);if(je.addShape("path",{attrs:ne({path:Ie},qt)}),Et){var Ue=ue(Ie,Y,ut,jt);je.addShape("path",{attrs:ne({path:Ue},se)})}}this.intervalConfig&&je.addShape("path",{attrs:ne({path:Po(this.intervalConfig.data,Y,ut)},this.intervalConfig.style)}),je.move(c,R)},Nt.prototype.destory=function(){this.group.destroy()},Nt}(),sr=function(){return(sr=Object.assign||function(f){for(var c,R=1,Y=arguments.length;R<Y;R++)for(var ut in c=arguments[R])Object.prototype.hasOwnProperty.call(c,ut)&&(f[ut]=c[ut]);return f}).apply(this,arguments)},pr={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},ln={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},vn=function(){function Nt(f){var c=f.group,R=f.name,Y=f.type,ut=f.x,jt=ut===void 0?0:ut,Ut=f.y,Et=Ut===void 0?0:Ut,qt=f.width,se=qt===void 0?2:qt,je=f.height,Ie=je===void 0?24:je,Ue=f.style,Ke=Ue===void 0?{}:Ue;this.group=c,this.name=R,this.handleType=Y,this.x=jt,this.y=Et,this.width=se,this.height=Ie,Y==="trend"?this.style=sr(sr({},pr),Ke):Y==="simple"&&(this.style=sr(sr({},ln),Ke)),this.renderHandle()}return Nt.prototype.setX=function(f){this.setXY(f,void 0)},Nt.prototype.setY=function(f){this.setXY(void 0,f)},Nt.prototype.setXY=function(f,c){Object(o.t)(f)&&(this.x=f),Object(o.t)(c)&&(this.y=c),this.updateXY()},Nt.prototype.renderHandle=function(){var f=this.width,c=this.height,R=this.style,Y=this.name,ut=R.fill,jt=R.stroke,Ut=R.radius,Et=R.opacity,qt=R.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.background=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:f,height:c,fill:ut,stroke:jt,radius:Ut,opacity:Et,cursor:qt},name:Y+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:f/2,y:0,r:2*f,fill:ut,stroke:jt,radius:Ut,opacity:Et,cursor:qt},name:Y+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:f/2,y:c,r:2*f,fill:ut,stroke:jt,radius:Ut,opacity:Et,cursor:qt},name:Y+"-handler"})):this.handleType==="simple"&&(this.handleGroup.addShape("circle",{attrs:{x:f/2,y:c/2,r:2*f,fill:ut,stroke:jt,radius:Ut,opacity:Et,cursor:qt},name:Y+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:f/2,y:c/2,r:2*f,fill:ut,stroke:jt,radius:Ut,opacity:Et,cursor:qt},name:Y+"-handler"})),this.updateXY(),this.handleType==="trend"&&this.bindEvents()},Nt.prototype.bindEvents=function(){var f=this,c=this.name;this.handleGroup.on(c+"-handler:mouseenter",function(){var R=f.style.highLightFill;f.background.attr("fill",R)}),this.handleGroup.on(c+"-handler:mouseleave",function(){var R=f.style.fill;f.background.attr("fill",R)})},Nt.prototype.show=function(){this.handleGroup.show()},Nt.prototype.hide=function(){this.handleGroup.hide()},Nt.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},Nt}(),xn=function(){return(xn=Object.assign||function(f){for(var c,R=1,Y=arguments.length;R<Y;R++)for(var ut in c=arguments[R])Object.prototype.hasOwnProperty.call(c,ut)&&(f[ut]=c[ut]);return f}).apply(this,arguments)},Or=function(){function Nt(f){this.config=Object(o.e)({},f),this.init()}return Nt.prototype.update=function(f){this.config=Object(o.e)({},this.config,f),this.updateElement(),this.renderMarker()},Nt.prototype.init=function(){this.initElement(),this.renderMarker()},Nt.prototype.initElement=function(){var f=this.config,c=f.group,R=f.style;this.circle=c.addShape("circle",{attrs:xn({x:this.config.x,y:this.config.y,r:this.config.r},R)}),this.startMarker=c.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ccc"},name:"playPauseBtn"}),this.pauseGroupMarker=c.addGroup();var Y=1/4*this.config.r,ut=.5*this.config.r*Math.sqrt(3);this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-.375*this.config.r,y:this.config.y-ut/2,width:2.5*Y,height:ut,fill:"#fff"},name:"playPauseBtn"}),this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-.375*this.config.r,y:this.config.y-ut/2,width:Y,height:ut,fill:"#ccc"},name:"playPauseBtn"}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-ut/2,width:Y,height:ut,fill:"#ccc"},name:"playPauseBtn"})},Nt.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var f=1/4*this.config.r,c=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-.375*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-c/2),this.pauseLeftMarker.attr("width",f),this.pauseLeftMarker.attr("height",c),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-c/2),this.pauseRightMarker.attr("width",f),this.pauseRightMarker.attr("height",c)},Nt.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},Nt.prototype.getStartMarkerPath=function(){var f=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-f/Math.sqrt(3)/2,this.config.y-f/2],["L",this.config.x+f/Math.sqrt(3),this.config.y],["L",this.config.x-f/Math.sqrt(3)/2,this.config.y+f/2]]},Nt}(),Br=function(){return(Br=Object.assign||function(f){for(var c,R=1,Y=arguments.length;R<Y;R++)for(var ut in c=arguments[R])Object.prototype.hasOwnProperty.call(c,ut)&&(f[ut]=c[ut]);return f}).apply(this,arguments)},Pr={fill:"#607889",stroke:"#607889"},kr={fill:"#fff"},mi={fill:"green"},$r={speed:2,loop:!1,fill:"#fff",stroke:"#fff",hiddleToggle:!1,preBtnStyle:{fill:"#ccc",stroke:"#ccc"},nextBtnStyle:{fill:"#ccc",stroke:"#ccc"},playBtnStyle:{fill:"#fff",stroke:"#ccc"}},Xr=function(){function Nt(f){this.controllerCfg=Object(o.e)({},$r,f),this.group=f.group,this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.fontFamily=f.fontFamily||"Arial, sans-serif",this.init()}return Nt.prototype.init=function(){this.renderPlayButton()},Nt.prototype.getNextMarkerPath=function(f,c,R){return[["M",f,c-R],["L",f+R,c],["L",f,c+R]]},Nt.prototype.getPreMarkerPath=function(f,c,R){return[["M",f,c-R],["L",f-R,c],["L",f,c+R]]},Nt.prototype.renderPlayButton=function(){var f=this.controllerCfg,c=f.width,R=f.height,Y=f.x,ut=f.y,jt=f.hiddleToggle,Ut=f.fill,Et=Ut===void 0?"#ccc":Ut,qt=f.stroke,se=qt===void 0?"green":qt,je=f.playBtnStyle,Ie=je===void 0?Pr:je,Ue=f.preBtnStyle,Ke=Ue===void 0?kr:Ue,An=f.nextBtnStyle,Bn=An===void 0?mi:An,Wn=R/2-5,Yn=ut+10,Jn=this.group.addShape("rect",{attrs:{x:Y,y:Yn,width:c,height:R,stroke:se,fill:Et},name:"container-rect"});this.playButton?this.playButton.update({x:c/2,y:Yn,r:Wn}):this.playButton=new Or({group:this.group,x:c/2,y:Yn+Wn+5,r:Wn,isPlay:this.isPlay,style:Ie}),this.group.addShape("path",{attrs:Br({path:this.getPreMarkerPath(c/2-5*Wn,Yn+Wn+5,.5*Wn)},Ke),name:"preStepBtn"}),this.group.addShape("path",{attrs:Br({path:this.getPreMarkerPath(c/2-4.5*Wn,Yn+Wn+5,.5*Wn)},Ke),name:"preStepBtn"}),this.group.addShape("path",{attrs:Br({path:this.getNextMarkerPath(c/2+5*Wn,Yn+Wn+5,.5*Wn)},Bn),name:"nextStepBtn"}),this.group.addShape("path",{attrs:Br({path:this.getNextMarkerPath(c/2+4.5*Wn,Yn+Wn+5,.5*Wn)},Bn),name:"nextStepBtn"}),Jn.toBack(),this.renderSpeedBtn(),jt||this.renderToggleTime(),this.bindEvent()},Nt.prototype.renderSpeedBtn=function(){var f=this.controllerCfg,c=f.y,R=f.width,Y=f.hiddleToggle,ut=this.group.addGroup({name:"speed-group"});this.speedGroup=ut;for(var jt=1,Ut=[],Et=9,qt=0;qt<5;qt++){var se=c+15+qt*(qt+1)+jt;ut.addShape("rect",{attrs:{x:R-(Y?50:110),y:se,width:15,height:2,fill:"#ccc"},speed:Et,name:"speed-rect"}),this.speedAxisY.push(se),Ut.push(Et),Et-=2,jt++}for(qt=0;qt<4;qt++)ut.addShape("rect",{attrs:{x:R-(Y?50:110),y:this.speedAxisY[qt]+2,width:15,height:2*qt+1,fill:"#fff",opacity:.3},speed:Ut[qt]-1,name:"speed-rect"});this.speedText=ut.addShape("text",{attrs:{x:R-(Y?50:110)+20,y:this.speedAxisY[1]+15,text:"1.0X",fill:"#ccc",fontFamily:this.fontFamily||"Arial, sans-serif"}}),this.speedPoint=ut.addShape("path",{attrs:{path:this.getPath(R-(Y?50:110),this.speedAxisY[4]),fill:"#ccc"}})},Nt.prototype.getPath=function(f,c){return[["M",f,c],["L",f-12,c-6],["L",f-12,c+6],["Z"]]},Nt.prototype.renderToggleTime=function(){var f,c=this.controllerCfg.width;this.toggleGroup=this.group.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:{width:14,height:14,x:c-50,y:this.speedAxisY[1],fill:"#fff",stroke:"#ccc",lineWidth:2,radius:3},isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:{path:[["M",c-50+3,this.speedAxisY[1]+6],["L",c-50+7,this.speedAxisY[1]+10],["L",c-50+12,this.speedAxisY[1]+4]],stroke:"green",lineWidth:3},capture:!1}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:{text:((f=this.controllerCfg)===null||f===void 0?void 0:f.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4",x:c-50+20,y:this.speedAxisY[1]+15,fill:"#ccc",fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}})},Nt.prototype.bindEvent=function(){var f=this,c=this.controllerCfg,R=c.width,Y=c.hiddleToggle;this.speedGroup.on("speed-rect:click",function(ut){f.speedPoint.attr("path",f.getPath(R-(Y?50:110),ut.y)),f.currentSpeed=ut.target.get("speed"),f.speedText.attr("text",f.currentSpeed+".0X"),f.group.emit("timebarConfigChanged",{speed:f.currentSpeed,type:f.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(ut){var jt,Ut,Et=ut.target.get("isChecked");Et?(f.checkedIcon.hide(),f.checkedText.attr("text",((Ut=f.controllerCfg)===null||Ut===void 0?void 0:Ut.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4"),f.currentType="range"):(f.checkedIcon.show(),f.checkedText.attr("text",((jt=f.controllerCfg)===null||jt===void 0?void 0:jt.timeRangeControllerText)||"\u65F6\u95F4\u8303\u56F4"),f.currentType="single"),ut.target.set("isChecked",!Et),f.group.emit("timebarConfigChanged",{type:f.currentType,speed:f.currentSpeed})})},Nt.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},Nt}(),Nr=function(){return(Nr=Object.assign||function(f){for(var c,R=1,Y=arguments.length;R<Y;R++)for(var ut in c=arguments[R])Object.prototype.hasOwnProperty.call(c,ut)&&(f[ut]=c[ut]);return f}).apply(this,arguments)},Hr={fill:"#416180",opacity:.05},oi={fill:"#416180",opacity:.15,radius:5},yi={fill:"#5B8FF9",opacity:.3,cursor:"move"},si={width:2,height:24},ti={textBaseline:"middle",fill:"#000",opacity:.45},zi=function(){function Nt(f){var c=this;this.prevX=0,this.onMouseDown=function(ho){return function(Qa){c.currentHandler=ho;var jo=Qa.originalEvent;jo.stopPropagation(),jo.preventDefault(),c.prevX=Object(o.i)(jo,"touches.0.pageX",jo.pageX);var Lo=c.canvas.get("container");Lo.addEventListener("mousemove",c.onMouseMove),Lo.addEventListener("mouseup",c.onMouseUp),Lo.addEventListener("mouseleave",c.onMouseUp),Lo.addEventListener("touchmove",c.onMouseMove),Lo.addEventListener("touchend",c.onMouseUp),Lo.addEventListener("touchcancel",c.onMouseUp)}},this.onMouseMove=function(ho){ho.stopPropagation(),ho.preventDefault();var Qa=Object(o.i)(ho,"touches.0.pageX",ho.pageX),jo=Qa-c.prevX,Lo=c.adjustOffsetRange(jo/c.width);c.updateStartEnd(Lo),c.updateUI(),c.prevX=Qa},this.onMouseUp=function(){c.currentHandler&&(c.currentHandler=void 0);var ho=c.canvas.get("container");ho&&(ho.removeEventListener("mousemove",c.onMouseMove),ho.removeEventListener("mouseup",c.onMouseUp),ho.removeEventListener("mouseleave",c.onMouseUp),ho.removeEventListener("touchmove",c.onMouseMove),ho.removeEventListener("touchend",c.onMouseUp),ho.removeEventListener("touchcancel",c.onMouseUp))};var R=f.x,Y=R===void 0?0:R,ut=f.y,jt=ut===void 0?0:ut,Ut=f.width,Et=Ut===void 0?100:Ut,qt=f.height,se=f.padding,je=se===void 0?10:se,Ie=f.trendCfg,Ue=f.controllerCfg,Ke=Ue===void 0?{speed:1}:Ue,An=f.backgroundStyle,Bn=An===void 0?{}:An,Wn=f.foregroundStyle,Yn=Wn===void 0?{}:Wn,Jn=f.handlerStyle,Ar=Jn===void 0?{}:Jn,ur=f.textStyle,mr=ur===void 0?{}:ur,ii=f.start,Li=ii===void 0?0:ii,ci=f.end,Yi=ci===void 0?1:ci,qa=f.minText,wa=qa===void 0?"":qa,fo=f.maxText,ga=fo===void 0?"":fo,Ia=f.group,ko=f.graph,No=f.canvas,no=f.ticks,Ja=f.type;this.graph=ko,this.canvas=No,this.group=Ia,this.timeBarType=Ja,this.x=Y,this.y=jt,this.width=Et,this.height=qt,this.padding=je,this.ticks=no,this.trendCfg=Ie,this.controllerCfg=Ke,this.currentSpeed=Ke.speed||1,Ja==="trend"?this.backgroundStyle=Nr(Nr({},Hr),Bn):Ja==="simple"&&(this.backgroundStyle=Nr(Nr({},oi),Bn)),this.foregroundStyle=Nr(Nr({},yi),Yn),this.handlerStyle=Nr(Nr({},si),Ar),this.textStyle=Nr(Nr({},ti),mr),this.currentMode="range",this.start=Li,this.end=Yi,this.minText=wa,this.maxText=ga,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}return Nt.prototype.update=function(f){var c=f.x,R=f.y,Y=f.width,ut=f.height,jt=f.minText,Ut=f.maxText,Et=f.start,qt=f.end;this.start=Math.min(1,Math.max(Et,0)),this.end=Math.min(1,Math.max(qt,0)),Object(o.a)(this,{x:c,y:R,width:Y,height:ut,minText:jt,maxText:Ut}),this.updateUI()},Nt.prototype.setText=function(f,c){this.minTextShape.attr("text",f),this.maxTextShape.attr("text",c)},Nt.prototype.renderSlider=function(){var f=this,c=this.width,R=this.height,Y=this.timeBarType;if(Y==="trend"&&Object(o.E)(Object(o.i)(this.trendCfg,"data"))){var ut=new kn(Nr(Nr({x:this.x,y:this.y,width:c,height:R},this.trendCfg),{group:this.group}));this.trendComponent=ut}var jt=this.group.addGroup({name:"slider-group"});jt.addShape("rect",{attrs:Nr({x:0,y:0,width:c,height:R},this.backgroundStyle)});var Ut=this.group.addGroup();Y==="trend"?(this.minTextShape=Ut.addShape("text",{attrs:Nr({x:0,y:R/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1}),this.maxTextShape=Ut.addShape("text",{attrs:Nr({y:R/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1})):(this.minTextShape=Ut.addShape("text",{attrs:Nr({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1}),this.maxTextShape=Ut.addShape("text",{attrs:Nr({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:Nr({x:0,y:this.y,height:R},this.foregroundStyle)});var Et=Object(o.i)(this.handlerStyle,"width",2),qt=Object(o.i)(this.handlerStyle,"height",24),se=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new vn(Nr({name:"minHandlerShape",group:se,type:Y,x:this.x,y:this.y,width:Et,height:qt,cursor:"ew-resize"},this.handlerStyle));var je=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new vn(Nr({name:"maxHandlerShape",group:je,type:Y,x:this.x,y:this.y,width:Et,height:qt,cursor:"ew-resize"},this.handlerStyle));var Ie=this.ticks,Ue=c/(Ie.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(An){An.destroy()});var Ke=-1/0;this.textList=Ie.map(function(An,Bn){f.tickPosList.push(f.x+Bn*Ue);var Wn=f.group.addShape("text",{attrs:{x:f.x+Bn*Ue,y:f.y+R+5,text:An,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35,fontFamily:f.fontFamily||"Arial, sans-serif"}}),Yn=f.group.addShape("line",{attrs:{x1:f.x+Bn*Ue,y1:f.y+R+2,x2:f.x+Bn*Ue,y2:f.y+R+6,lineWidth:1,stroke:"#ccc"}}),Jn=Wn.getBBox();return Jn.minX>Ke?(Wn.show(),Yn.show(),Ke=Jn.minX+Jn.width+10):(Wn.hide(),Yn.hide()),Wn}),this.controllerBtnGroup=new Xr(Nr({group:this.group,x:this.x,y:this.y+R+25,width:c,height:40},this.controllerCfg)),this.updateUI(),jt.move(this.x,this.y),this.bindEvents()},Nt.prototype.bindEvents=function(){var f=this,c=this.group.find(function(Y){return Y.get("name")==="minHandlerShape"});c&&(c.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),c.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var R=this.group.find(function(Y){return Y.get("name")==="maxHandlerShape"});R&&(R.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),R.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on("playPauseBtn:click",function(){f.isPlay=!f.isPlay,f.currentHandler=f.maxHandlerShape,f.changePlayStatus()}),this.group.on("nextStepBtn:click",function(){f.currentHandler=f.maxHandlerShape,f.updateStartEnd(.01),f.updateUI()}),this.group.on("preStepBtn:click",function(){f.currentHandler=f.maxHandlerShape,f.updateStartEnd(-.01),f.updateUI()}),this.group.on("timebarConfigChanged",function(Y){var ut=Y.type,jt=Y.speed;f.currentSpeed=jt,f.currentMode=ut,ut==="single"?(f.minHandlerShape.hide(),f.foregroundShape.hide(),f.minTextShape.hide()):ut==="range"&&(f.minHandlerShape.show(),f.foregroundShape.show(),f.minTextShape.show())})},Nt.prototype.adjustTickIndex=function(f){for(var c=0;c<this.tickPosList.length-1;c++)if(this.tickPosList[c]<=f&&f<=this.tickPosList[c+1])return Math.abs(this.tickPosList[c]-f)<Math.abs(f-this.tickPosList[c+1])?c:c+1},Nt.prototype.adjustOffsetRange=function(f){switch(this.currentHandler){case this.minHandlerShape:var c=0-this.start,R=1-this.start;return Math.min(R,Math.max(c,f));case this.maxHandlerShape:return c=0-this.end,R=1-this.end,Math.min(R,Math.max(c,f));case this.foregroundShape:return c=0-this.start,R=1-this.end,Math.min(R,Math.max(c,f));default:return 0}},Nt.prototype.updateStartEnd=function(f){switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=f,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)];break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=f,this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;case this.foregroundShape:this.start+=f,this.end+=f,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)],this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)]}},Nt.prototype.updateUI=function(){var f=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var c=this.start*this.width,R=this.end*this.width;this.foregroundShape.attr("x",c),this.foregroundShape.attr("width",R-c);var Y=Object(o.i)(this.handlerStyle,"width",2);this.setText(this.minText,this.maxText);var ut=this.dodgeText([c,R]),jt=ut[0],Ut=ut[1];this.minHandlerShape.setX(c-Y/2),Object(o.f)(jt,function(Et,qt){return f.minTextShape.attr(qt,Et)}),this.maxHandlerShape.setX(R-Y/2),Object(o.f)(Ut,function(Et,qt){return f.maxTextShape.attr(qt,Et)}),this.currentMode==="range"?this.graph.emit("valueChange",{value:[this.start,this.end].sort()}):this.currentMode==="single"&&this.graph.emit("valueChange",{value:[this.end,this.end]})},Nt.prototype.dodgeText=function(f){var c,R,Y=Object(o.i)(this.handlerStyle,"width",2),ut=this.minTextShape,jt=this.maxTextShape,Ut=f[0],Et=f[1],qt=!1;Ut>Et&&(Ut=(c=[Et,Ut])[0],Et=c[1],ut=(R=[jt,ut])[0],jt=R[1],qt=!0);var se=ut.getBBox(),je=jt.getBBox(),Ie=null,Ue=null;return this.timeBarType==="trend"?(Ie=se.width>Ut-2?{x:Ut+Y/2+2,textAlign:"left"}:{x:Ut-Y/2-2,textAlign:"right"},Ue=je.width>this.width-Et-2?{x:Et-Y/2-2,textAlign:"right"}:{x:Et+Y/2+2,textAlign:"left"}):this.timeBarType==="simple"&&(Ie=se.width>Ut-2?{x:Ut+Y/2+2,textAlign:"center"}:{x:Ut-Y/2-2,textAlign:"center"},Ue=je.width>this.width-Et-2?{x:Et-Y/2-2,textAlign:"center"}:{x:Et+Y/2+2,textAlign:"center"}),qt?[Ue,Ie]:[Ie,Ue]},Nt.prototype.startPlay=function(){var f=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var c=f,R=c.ticks,Y=c.width,ut=f.currentSpeed,jt=Y/R.length/(1e3*(10-ut)/60),Ut=f.adjustOffsetRange(jt/f.width);f.updateStartEnd(Ut),f.updateUI(),f.isPlay&&(f.playHandler=f.startPlay())}):void 0},Nt.prototype.changePlayStatus=function(f){f===void 0&&(f=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit("timelinestart",null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),f&&this.graph.emit("timelineend",null))},Nt.prototype.destory=function(){this.graph.off("valueChange");var f=this.group,c=f.find(function(Y){return Y.get("name")==="minHandlerShape"});c&&(c.off("minHandlerShape-handler:mousedown"),c.off("minHandlerShape-handler:touchstart"),c.destroy());var R=f.find(function(Y){return Y.get("name")==="maxHandlerShape"});R&&(R.off("maxHandlerShape-handler:mousedown"),R.off("maxHandlerShape-handler:touchstart"),R.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),f.off("playPauseBtn:click"),f.off("nextStepBtn:click"),f.off("preStepBtn:click"),f.off("timebarConfigChanged"),f.destroy(),this.trendComponent&&this.trendComponent.destory()},Nt}(),qi=function(){function Nt(f){var c=f.x,R=c===void 0?0:c,Y=f.y,ut=Y===void 0?0:Y,jt=f.container,Ut=f.text,Et=f.padding,qt=Et===void 0?[4,4,4,4]:Et,se=f.className,je=se===void 0?"g6-component-timebar-tooltip":se,Ie=f.backgroundColor,Ue=Ie===void 0?"#000":Ie,Ke=f.textColor,An=Ke===void 0?"#fff":Ke,Bn=f.opacity,Wn=Bn===void 0?.8:Bn,Yn=f.fontSize,Jn=Yn===void 0?12:Yn;this.container=jt,this.className=je,this.backgroundColor=Ue,this.textColor=An,this.x=R,this.y=ut,this.text=Ut,this.padding=qt,this.opacity=Wn,this.fontSize=Jn,this.render()}return Nt.prototype.render=function(){var f=this.className,c=(this.x,this.y,this.backgroundColor),R=this.textColor,Y=this.text,ut=this.padding,jt=this.opacity,Ut=this.fontSize,Et=this.container,qt=Object(T.b)("<div class='"+f+`' style="position: absolute; width: fit-content; height: fit-content; opacity: `+jt+'"></div>');Object(o.x)(Et)&&(Et=document.getElementById(Et)),Et.appendChild(qt),this.parentHeight=Et.offsetHeight,this.parentWidth=Et.offsetWidth,Object(T.c)(qt,{visibility:"hidden",top:0,left:0});var se=Object(T.b)(`
      <div style='position: absolute; white-space:nowrap; background-color: `+c+"; font-size: "+Ut+"px; border-radius: 4px; width: fit-content; height: fit-content; color: "+R+"; padding: "+ut[0]+"px "+ut[1]+"px "+ut[2]+"px "+ut[3]+"px'></div>");se.innerHTML=Y,qt.appendChild(se),this.backgroundDOM=se;var je=Object(T.b)("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid "+c+"'></div>");qt.appendChild(je),this.arrowDOM=je,this.container=qt},Nt.prototype.show=function(f){var c=f.text,R=f.x;f.y,f.clientX,f.clientY,this.backgroundDOM.innerHTML=c;var Y=this.backgroundDOM.offsetWidth,ut=this.backgroundDOM.offsetHeight,jt=this.arrowDOM.offsetWidth,Ut=this.arrowDOM.offsetHeight;Object(T.c)(this.container,{top:-ut-Ut+"px",left:R+"px",visibility:"visible"}),Object(T.c)(this.backgroundDOM,{marginLeft:-Y/2+"px"}),Object(T.c)(this.arrowDOM,{marginLeft:-jt/2+"px",top:ut+"px"});var Et=R-Y/2,qt=R+Y/2;Et<0?Object(T.c)(this.backgroundDOM,{marginLeft:-Y/2-Et+"px"}):qt>this.parentWidth&&Object(T.c)(this.backgroundDOM,{marginLeft:-Y/2-qt+this.parentWidth+12+"px"})},Nt.prototype.hide=function(){Object(T.c)(this.container,{top:0,left:0,visibility:"hidden"})},Nt}(),Sa=function(){return(Sa=Object.assign||function(f){for(var c,R=1,Y=arguments.length;R<Y;R++)for(var ut in c=arguments[R])Object.prototype.hasOwnProperty.call(c,ut)&&(f[ut]=c[ut]);return f}).apply(this,arguments)},ea={fill:"#5B8FF9"},Fa={fill:"#e6e8e9"},Ua=function(){function Nt(f){this.frameCount=0,this.fontFamily="Arial, sans-serif";var c=f.graph,R=f.canvas,Y=f.group,ut=f.width,jt=f.height,Ut=f.padding,Et=f.data,qt=f.start,se=f.end,je=f.x,Ie=je===void 0?0:je,Ue=f.y,Ke=Ue===void 0?0:Ue,An=f.tickLabelFormatter,Bn=f.selectedTickStyle,Wn=Bn===void 0?ea:Bn,Yn=f.unselectedTickStyle,Jn=Yn===void 0?Fa:Yn,Ar=f.tooltipBackgroundColor,ur=f.tooltipFomatter;this.graph=c,this.group=Y,this.sliceGroup=Y.addGroup({name:"slice-group"}),this.canvas=R,this.width=ut,this.height=jt,this.padding=Ut,this.data=Et,this.start=qt,this.end=se,this.tickLabelFormatter=An,this.selectedTickStyle=Wn,this.unselectedTickStyle=Jn,this.x=Ie,this.y=Ke,this.tooltipBackgroundColor=Ar,this.tooltipFomatter=ur,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}return Nt.prototype.renderSlices=function(){var f=this,c=this,R=c.width,Y=c.height,ut=c.padding,jt=c.data,Ut=c.start,Et=c.end,qt=c.tickLabelFormatter,se=c.selectedTickStyle,je=c.unselectedTickStyle,Ie=R-2*ut,Ue=Y-(3*ut+4+10)-2*ut,Ke=jt.length,An=(Ie-2*(Ke-1))/Ke;this.tickWidth=An;var Bn=this.sliceGroup,Wn=[],Yn=[],Jn=Math.round(Ke*Ut),Ar=Math.round(Ke*Et);this.startTickRectId=Jn,this.endTickRectId=Ar,jt.forEach(function(mr,ii){var Li=ii>=Jn&&ii<=Ar?se:je,ci=Bn.addShape("rect",{attrs:Sa({x:ut+ii*(An+2),y:ut,width:An,height:Ue},Li),draggable:!0,name:"tick-rect-"+ii}),Yi=Bn.addShape("rect",{attrs:{x:ut+ii*An+2*(2*ii-1)/2,y:ut,width:ii===0||ii===Ke-1?An+1:An+2,height:Ue,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-"+ii});Yi.toFront();var qa,wa=ci.getBBox(),fo=(wa.minX+wa.maxX)/2;if(Wn.push({rect:ci,pickRect:Yi,value:mr.date,x:fo,y:wa.minY}),qt?(qa=qt(mr),!Object(o.x)(qa)&&qa&&(qa=mr.date)):ii%Math.round(Ke/10)==0&&(qa=mr.date),qa){Yn.push(qa);var ga=wa.maxY+2*ut;Bn.addShape("line",{attrs:{stroke:"#BFBFBF",x1:fo,y1:ga,x2:fo,y2:ga+4}});var Ia=ga+4+ut,ko=Bn.addShape("text",{attrs:{fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:fo,y:Ia,textAlign:"center",text:qa,textBaseline:"top",fontSize:10,fontFamily:f.fontFamily||"Arial, sans-serif"},capture:!1}),No=ko.getBBox();No.maxX>R?ko.attr("textAlign","right"):No.minX<0&&ko.attr("textAlign","left")}}),this.tickRects=Wn;var ur=this.group;this.currentSpeed=1,this.controllerBtnGroup=new Xr({group:ur,x:this.x,y:this.y+Y+5,width:R,height:40,hiddleToggle:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"})},Nt.prototype.initEvent=function(){var f=this,c=this.sliceGroup;c.on("click",function(qt){var se=qt.target;if(se.get("type")==="rect"&&se.get("name")){var je=parseInt(se.get("name").split("-")[2],10);if(!isNaN(je)){var Ie=f.tickRects,Ue=f.unselectedTickStyle;Ie.forEach(function(Bn){Bn.rect.attr(Ue)});var Ke=f.selectedTickStyle;Ie[je].rect.attr(Ke),f.startTickRectId=je,f.endTickRectId=je;var An=je/Ie.length;f.graph.emit("valueChange",{value:[An,An]})}}}),c.on("dragstart",function(qt){var se=f.tickRects,je=f.unselectedTickStyle;se.forEach(function(Bn){Bn.rect.attr(je)});var Ie=qt.target,Ue=parseInt(Ie.get("name").split("-")[2],10),Ke=f.selectedTickStyle;se[Ue].rect.attr(Ke),f.startTickRectId=Ue;var An=Ue/se.length;f.graph.emit("valueChange",{value:[An,An]}),f.dragging=!0}),c.on("dragover",function(qt){if(f.dragging&&qt.target.get("type")==="rect"){for(var se=parseInt(qt.target.get("name").split("-")[2],10),je=f.startTickRectId,Ie=f.tickRects,Ue=f.selectedTickStyle,Ke=f.unselectedTickStyle,An=0;An<Ie.length;An++){var Bn=An>=je&&An<=se?Ue:Ke;Ie[An].rect.attr(Bn)}var Wn=Ie.length;f.endTickRectId=se;var Yn=je/Wn,Jn=se/Wn;f.graph.emit("valueChange",{value:[Yn,Jn]})}}),c.on("drop",function(qt){if(f.dragging&&(f.dragging=!1,qt.target.get("type")==="rect")){var se=f.startTickRectId,je=parseInt(qt.target.get("name").split("-")[2],10);if(!(je<se)){var Ie=f.selectedTickStyle,Ue=f.tickRects;Ue[je].rect.attr(Ie),f.endTickRectId=je;var Ke=Ue.length,An=se/Ke,Bn=je/Ke;f.graph.emit("valueChange",{value:[An,Bn]})}}});var R=this.tooltipBackgroundColor,Y=this.tooltipFomatter,ut=this.canvas,jt=new qi({container:ut.get("container"),backgroundColor:R}),Ut=this.tickRects;Ut.forEach(function(qt){var se=qt.pickRect;se.on("mouseenter",function(je){var Ie=je.target;if(Ie.get("type")==="rect"){var Ue=parseInt(Ie.get("name").split("-")[2],10),Ke=ut.getClientByPoint(Ut[Ue].x,Ut[Ue].y);jt.show({x:Ut[Ue].x,y:Ut[Ue].y,clientX:Ke.x,clientY:Ke.y,text:Y?Y(Ut[Ue].value):Ut[Ue].value})}}),se.on("mouseleave",function(je){jt.hide()})});var Et=this.group;Et.on("playPauseBtn:click",function(){f.isPlay=!f.isPlay,f.changePlayStatus()}),Et.on("nextStepBtn:click",function(){f.updateStartEnd(1)}),Et.on("preStepBtn:click",function(){f.updateStartEnd(-1)}),Et.on("timebarConfigChanged",function(qt){qt.type;var se=qt.speed;f.currentSpeed=se})},Nt.prototype.changePlayStatus=function(f){f===void 0&&(f=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit("timelinestart",null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),f&&this.graph.emit("timelineend",null))},Nt.prototype.startPlay=function(){var f=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var c=f.currentSpeed;f.frameCount%(60/c)==0&&(f.frameCount=0,f.updateStartEnd(1)),f.frameCount++,f.isPlay&&(f.playHandler=f.startPlay())}):void 0},Nt.prototype.updateStartEnd=function(f){var c=this.tickRects,R=c.length,Y=this.unselectedTickStyle,ut=this.selectedTickStyle,jt=this.endTickRectId;if(f>0?this.endTickRectId++:(c[this.endTickRectId].rect.attr(Y),this.endTickRectId--),jt!==this.startTickRectId)this.endTickRectId<this.startTickRectId&&(this.startTickRectId=this.endTickRectId);else{for(var Ut=this.startTickRectId;Ut<=this.endTickRectId-1;Ut++)c[Ut].rect.attr(Y);this.startTickRectId=this.endTickRectId}if(c[this.endTickRectId]){c[this.endTickRectId].rect.attr(ut);var Et=this.startTickRectId/R,qt=this.endTickRectId/R;this.graph.emit("valueChange",{value:[Et,qt]})}},Nt.prototype.destory=function(){this.graph.off("valueChange");var f=this.sliceGroup;f.off("click"),f.off("dragstart"),f.off("dragover"),f.off("drop"),this.tickRects.forEach(function(c){var R=c.pickRect;R.off("mouseenter"),R.off("mouseleave")}),this.tickRects.length=0,f.off("playPauseBtn:click"),f.off("nextStepBtn:click"),f.off("preStepBtn:click"),f.off("timebarConfigChanged"),this.sliceGroup.destroy()},Nt}(),Na=function(){var Nt=function(c,R){return(Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,ut){Y.__proto__=ut}||function(Y,ut){for(var jt in ut)Object.prototype.hasOwnProperty.call(ut,jt)&&(Y[jt]=ut[jt])})(c,R)};return function(f,c){function R(){this.constructor=f}Nt(f,c),f.prototype=c===null?Object.create(c):(R.prototype=c.prototype,new R)}}(),va=function(){return(va=Object.assign||function(f){for(var c,R=1,Y=arguments.length;R<Y;R++)for(var ut in c=arguments[R])Object.prototype.hasOwnProperty.call(c,ut)&&(f[ut]=c[ut]);return f}).apply(this,arguments)},ge=function(f,c){var R={};for(var Y in f)Object.prototype.hasOwnProperty.call(f,Y)&&c.indexOf(Y)<0&&(R[Y]=f[Y]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function"){var ut=0;for(Y=Object.getOwnPropertySymbols(f);ut<Y.length;ut++)c.indexOf(Y[ut])<0&&Object.prototype.propertyIsEnumerable.call(f,Y[ut])&&(R[Y[ut]]=f[Y[ut]])}return R},F=function(Nt){function f(){return Nt!==null&&Nt.apply(this,arguments)||this}return Na(f,Nt),f.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:2,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{}}},f.prototype.initContainer=function(){var c,R,Y=this.get("graph"),ut=this._cfgs,jt=ut.width,Ut=ut.height,Et=this.get("className")||"g6-component-timebar",qt=this.get("container"),se=this.get("graph").get("container");qt?(Object(o.x)(qt)&&(qt=document.getElementById(qt)),c=qt):(c=Object(T.b)("<div class='"+Et+"'></div>"),Object(T.c)(c,{position:"relative"})),se.appendChild(c),this.set("timeBarContainer",c),R=Y.get("renderer")==="SVG"?new k.Canvas({container:c,width:jt,height:Ut}):new A.Canvas({container:c,width:jt,height:Ut}),this.set("canvas",R)},f.prototype.init=function(){this.initContainer();var c=this.get("canvas").addGroup({name:"timebar-group"});this.set("timeBarGroup",c),this.renderTrend(),this.initEvent();var R=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";this.set("fontFamily",R)},f.prototype.renderTrend=function(){var c=this._cfgs,R=c.width,Y=c.x,ut=c.y,jt=c.padding,Ut=c.type,Et=c.trend,qt=c.slider,se=c.controllerCfg,je=c.textStyle,Ie=Et.data,Ue=ge(Et,["data"]),Ke=R-2*jt,An=Ut==="trend"?26:8,Bn=this.get("graph"),Wn=this.get("timeBarGroup"),Yn=this.get("canvas"),Jn=null;if(Ut==="trend"||Ut==="simple")Jn=new zi(va(va({graph:Bn,canvas:Yn,group:Wn,type:Ut,x:Y+jt,y:Ut==="trend"?ut+jt:ut+jt+15,width:Ke,height:An,padding:jt,trendCfg:va(va({},Ue),{data:Ie.map(function(ur){return ur.value})})},qt),{ticks:Ie.map(function(ur){return ur.date}),handlerStyle:va(va({},qt.handlerStyle),{height:qt.height||An}),controllerCfg:se,textStyle:je}));else if(Ut==="tick"){var Ar=this._cfgs.tick;Jn=new Ua(va({graph:Bn,canvas:Yn,group:Wn,x:Y+jt,y:ut+jt},Ar))}this.set("timebar",Jn)},f.prototype.filterData=function(c){var R=c.value,Y=null,ut=this._cfgs.type;if(ut==="trend"||ut==="simple"?Y=this._cfgs.trend.data:ut==="tick"&&(Y=this._cfgs.tick.data),Y&&Y.length!==0){var jt=this.get("rangeChange"),Ut=this.get("graph"),Et=Math.round(Y.length*R[0]),qt=Math.round(Y.length*R[1]);qt=qt>=Y.length?Y.length-1:qt;var se=Y[Et].date,je=Y[qt].date;if(ut!=="tick"&&this.get("timebar").setText(se,je),jt)jt(Ut,se,je);else{var Ie=Ut.save();(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=Ie);var Ue=this.cacheGraphData.nodes.filter(function(Bn){return Bn.date>=se&&Bn.date<=je}),Ke=Ue.map(function(Bn){return Bn.id}),An=this.cacheGraphData.edges.filter(function(Bn){return Ke.includes(Bn.source)&&Ke.includes(Bn.target)});Ut.changeData({nodes:Ue,edges:An})}}else console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E")},f.prototype.initEvent=function(){var c=this,R=0,Y=0,ut=this._cfgs.type;ut&&ut!=="trend"&&ut!=="simple"?ut==="tick"&&(R=this._cfgs.tick.start,Y=this._cfgs.tick.end):(R=this._cfgs.slider.start,Y=this._cfgs.slider.end);var jt=this.get("graph");jt.on("afterrender",function(){c.filterData({value:[R,Y]})}),jt.on("valueChange",function(Ut){c.filterData(Ut)})},f.prototype.destroy=function(){var c=this.get("timebar");c&&c.destory&&c.destory(),Nt.prototype.destroy.call(this);var R=this.get("timeBarContainer");if(R){var Y=this.get("container");Y||(Y=this.get("graph").get("container")),Object(o.x)(Y)&&(Y=document.getElementById(Y)),Y.removeChild(R)}},f}(s),_={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(f){return Object.assign(this,f),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(f){var c=this,R=this.events;this.graph=f,this.type!=="drag-canvas"&&this.type!=="brush-select"&&this.type!=="lasso-select"||f.get("canvas").set("draggable",!0),Object(o.f)(R,function(Y,ut){f.on(ut,Y)}),document.addEventListener("visibilitychange",function(){c.keydown=!1})},unbind:function(f){var c=this.events;this.type!=="drag-canvas"&&this.type!=="brush-select"&&this.type!=="lasso-select"||f.get("canvas").set("draggable",!1),Object(o.f)(c,function(R,Y){f.off(Y,R)})},get:function(f){return this[f]},set:function(f,c){return this[f]=c,this}},$=function(){function Nt(){}return Nt.registerBehavior=function(f,c){if(!c)throw new Error("please specify handler for this behavior: "+f);var R=Object(o.c)(_);Object.assign(R,c);var Y=function(jt){var Ut=this;Object.assign(this,this.getDefaultCfg(),jt);var Et=this.getEvents();this.events=null;var qt={};Et&&(Object(o.f)(Et,function(se,je){qt[je]=Object(o.J)(Ut,se)}),this.events=qt)};Y.prototype=R,Nt.types[f]=Y},Nt.hasBehavior=function(f){return!!Nt.types[f]},Nt.getBehavior=function(f){return Nt.types[f]},Nt.types={},Nt}(),dt=$,Gt=t(80),Jt=t(10),ce=t(33),fe=Jt.a.transform,De=function(f){return function(c,R){return c[f]-R[f]}},We=function(f,c,R){return f>=c&&f<=R},sn=function(f,c,R,Y){var ut=R.x-f.x,jt=R.y-f.y,Ut=c.x-f.x,Et=c.y-f.y,qt=Y.x-R.x,se=Y.y-R.y,je=Ut*se-Et*qt,Ie=null;if(je*je>.001*(Ut*Ut+Et*Et)*(qt*qt+se*se)){var Ue=(ut*se-jt*qt)/je,Ke=(ut*Et-jt*Ut)/je;We(Ue,0,1)&&We(Ke,0,1)&&(Ie={x:f.x+Ue*Ut,y:f.y+Ue*Et})}return Ie},Dn=function(f,c){var R=f.x,Y=f.y,ut=f.width,jt=f.height,Ut=[],Et={x:R+ut/2,y:Y+jt/2};Ut.push({x:R,y:Y}),Ut.push({x:R+ut,y:Y}),Ut.push({x:R+ut,y:Y+jt}),Ut.push({x:R,y:Y+jt}),Ut.push({x:R,y:Y});for(var qt=null,se=1;se<Ut.length&&!(qt=sn(Ut[se-1],Ut[se],Et,c));se++);return qt},Yt=function(f,c){var R=f.x,Y=f.y,ut=f.r,jt=c.x-R,Ut=c.y-Y;if(Math.sqrt(jt*jt+Ut*Ut)<ut)return null;var Et=Math.sign(jt),qt=Math.sign(Ut),se=Math.atan(Ut/jt);return{x:R+Math.abs(ut*Math.cos(se))*Et,y:Y+Math.abs(ut*Math.sin(se))*qt}},Zt=function(f,c){var R=f.rx,Y=f.ry,ut=f.x,jt=f.y,Ut=c.x-ut,Et=c.y-jt,qt=Math.atan2(Et/Y,Ut/R);return qt<0&&(qt+=2*Math.PI),{x:ut+R*Math.cos(qt),y:jt+Y*Math.sin(qt)}},Ae=function(f,c,R){R===void 0&&(R=1);var Y=[f.x,f.y,R];return c&&!isNaN(c[0])||(c=[1,0,0,0,1,0,0,0,1]),Jt.d.transformMat3(Y,Y,c),{x:Y[0],y:Y[1]}},Ht=function(f,c,R){R===void 0&&(R=1),c&&!isNaN(c[0])||(c=[1,0,0,0,1,0,0,0,1]);var Y=Jt.b.invert([1,0,0,0,1,0,0,0,1],c);Y||(Y=[1,0,0,0,1,0,0,0,1]);var ut=[f.x,f.y,R];return Jt.d.transformMat3(ut,ut,Y),{x:ut[0],y:ut[1]}},he=function(f,c,R){var Y=f.x-c.x,ut=f.y-c.y,jt=f.x-R.x,Ut=f.y-R.y,Et=(f.x*f.x-c.x*c.x-c.y*c.y+f.y*f.y)/2,qt=(f.x*f.x-R.x*R.x-R.y*R.y+f.y*f.y)/2,se=ut*jt-Y*Ut;return{x:-(Ut*Et-ut*qt)/se,y:-(Y*qt-jt*Et)/se}},En=function(f,c){var R=f.x-c.x,Y=f.y-c.y;return Math.sqrt(R*R+Y*Y)},Qn=function(f,c){var R=[];return f.forEach(function(Y){var ut=[];Y.forEach(function(jt){ut.push(jt*c)}),R.push(ut)}),R},fr=function(f){for(var c=[],R=f.length,Y=0;Y<R;Y+=1){c[Y]=[];for(var ut=0;ut<R;ut+=1)Y===ut?c[Y][ut]=0:f[Y][ut]!==0&&f[Y][ut]?c[Y][ut]=f[Y][ut]:c[Y][ut]=1/0}for(var jt=0;jt<R;jt+=1)for(Y=0;Y<R;Y+=1)for(ut=0;ut<R;ut+=1)c[Y][ut]>c[Y][jt]+c[jt][ut]&&(c[Y][ut]=c[Y][jt]+c[jt][ut]);return c},ar=function(f,c){var R=f.nodes,Y=f.edges,ut=[],jt={};if(!R)throw new Error("invalid nodes data!");return R&&R.forEach(function(Ut,Et){jt[Ut.id]=Et,ut.push([])}),Y&&Y.forEach(function(Ut){var Et=Ut.source,qt=Ut.target,se=jt[Et],je=jt[qt];ut[se][je]=1,c||(ut[je][se]=1)}),ut},an=function(f,c){f.translate(c.x,c.y)},Re=function(f,c){var R=f.getMatrix();R||(R=[1,0,0,0,1,0,0,0,1]);var Y=f.getCanvasBBox(),ut=c.x-Y.minX,jt=c.y-Y.minY,Ut=fe(R,[["t",ut,jt]]);f.setMatrix(Ut)},L=function(f,c){var R=f.getMatrix();R||(R=[1,0,0,0,1,0,0,0,1]);var Y=c;Object(o.m)(c)||(Y=[c,c]),Object(o.m)(c)&&c.length===1&&(Y=[c[0],c[0]]),R=fe(R,[["s",Y[0],Y[1]]]),f.setMatrix(R)},bt=function(f,c){var R=f.getMatrix();R||(R=[1,0,0,0,1,0,0,0,1]),R=fe(R,[["r",c]]),f.setMatrix(R)},ie=function(f,c,R){for(var Y=[],ut=0;ut<f;ut++)Y[ut]=0;return R.forEach(function(jt){jt.source&&(Y[c[jt.source]]+=1),jt.target&&(Y[c[jt.target]]+=1)}),Y};function Ee(Nt,f,c){return(c[0]-Nt[0])*(f[1]-Nt[1])==(f[0]-Nt[0])*(c[1]-Nt[1])&&Math.min(Nt[0],f[0])<=c[0]&&c[0]<=Math.max(Nt[0],f[0])&&Math.min(Nt[1],f[1])<=c[1]&&c[1]<=Math.max(Nt[1],f[1])}var te=function(f,c,R){var Y=!1,ut=f.length;function jt(se){return Math.abs(se)<1e-6?0:se<0?-1:1}if(ut<=2)return!1;for(var Ut=0;Ut<ut;Ut++){var Et=f[Ut],qt=f[(Ut+1)%ut];if(Ee(Et,qt,[c,R]))return!0;jt(Et[1]-R)>0!=jt(qt[1]-R)>0&&jt(c-(R-Et[1])*(Et[0]-qt[0])/(Et[1]-qt[1])-Et[0])<0&&(Y=!Y)}return Y},pe=function(f,c){return!(c.minX>f.maxX||c.maxX<f.minX||c.minY>f.maxY||c.maxY<f.minY)},ve=function(f,c){var R=function(Ie){var Ue=Ie.map(function(An){return An[0]}),Ke=Ie.map(function(An){return An[1]});return{minX:Math.min.apply(null,Ue),maxX:Math.max.apply(null,Ue),minY:Math.min.apply(null,Ke),maxY:Math.max.apply(null,Ke)}},Y=function(Ie){for(var Ue=[],Ke=Ie.length,An=0;An<Ke-1;An++){var Bn=Ie[An],Wn=Ie[An+1];Ue.push({from:{x:Bn[0],y:Bn[1]},to:{x:Wn[0],y:Wn[1]}})}if(Ue.length>1){var Yn=Ie[0],Jn=Ie[Ke-1];Ue.push({from:{x:Jn[0],y:Jn[1]},to:{x:Yn[0],y:Yn[1]}})}return Ue};if(f.length<2||c.length<2)return!1;var ut=R(f),jt=R(c);if(!pe(ut,jt))return!1;var Ut=!1;if(Object(o.f)(c,function(je){if(te(f,je[0],je[1]))return Ut=!0,!1}),Ut||(Object(o.f)(f,function(je){if(te(c,je[0],je[1]))return Ut=!0,!1}),Ut))return!0;var Et=Y(f),qt=Y(c),se=!1;return Object(o.f)(qt,function(je){if(function(Ie,Ue){var Ke=!1;return Object(o.f)(Ie,function(An){if(sn(An.from,An.to,Ue.from,Ue.to))return Ke=!0,!1}),Ke}(Et,je))return se=!0,!1}),se},de=function(){function Nt(f,c,R,Y){this.x1=f,this.y1=c,this.x2=R,this.y2=Y}return Nt.prototype.getBBox=function(){var f=Math.min(this.x1,this.x2),c=Math.min(this.y1,this.y2),R=Math.max(this.x1,this.x2),Y=Math.max(this.y1,this.y2);return{x:f,y:c,minX:f,minY:c,maxX:R,maxY:Y,width:R-f,height:Y-c}},Nt}(),Pe=function(f,c){return{top:[f.minX,f.minY,f.maxX,f.minY],left:[f.minX,f.minY,f.minX,f.maxY],bottom:[f.minX,f.maxY,f.maxX,f.maxY],right:[f.maxX,f.minY,f.maxX,f.maxY]}[c]},ze=function(f,c){var R=(c.x2-c.x1)*(f.y1-c.y1)-(c.y2-c.y1)*(f.x1-c.x1),Y=(f.x2-f.x1)*(f.y1-c.y1)-(f.y2-f.y1)*(f.x1-c.x1),ut=(c.y2-c.y1)*(f.x2-f.x1)-(c.x2-c.x1)*(f.y2-f.y1);if(ut){var jt=R/ut,Ut=Y/ut;if(jt>=0&&jt<=1&&Ut>=0&&Ut<=1)return jt}return Number.POSITIVE_INFINITY},Je=function(f,c){for(var R=["top","left","bottom","right"],Y=f.getBBox(),ut=0,jt=[],Ut=0;Ut<4;Ut++){var Et=Pe(Y,R[Ut]),qt=Et[0],se=Et[1],je=Et[2],Ie=Et[3];jt[Ut]=sn({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},{x:qt,y:se},{x:je,y:Ie}),jt[Ut]&&(ut+=1)}return[jt,ut]},Ve=function(f,c){for(var R=["top","left","bottom","right"],Y=f.getBBox(),ut=Number.POSITIVE_INFINITY,jt=0,Ut=0;Ut<4;Ut++){var Et=Pe(Y,R[Ut]),qt=Et[0],se=Et[1],je=Et[2],Ie=Et[3],Ue=ze(c,new de(qt,se,je,Ie));(Ue=Math.abs(Ue-.5))>=0&&Ue<=1&&(jt+=1,ut=Ue<ut?Ue:ut)}return jt===0?-1:ut},cn=function(f){var c=0,R=0;if(f.length>0){for(var Y=0,ut=f;Y<ut.length;Y++){var jt=ut[Y];c+=jt.x,R+=jt.y}c/=f.length,R/=f.length}return{x:c,y:R}},Be=function(f,c){return Math.pow(f.x-c.x,2)+Math.pow(f.y-c.y,2)},Mn=function(f,c){var R,Y=c.x1,ut=c.y1,jt=c.x2-Y,Ut=c.y2-ut,Et=f.x-Y,qt=f.y-ut,se=Et*jt+qt*Ut;R=se<=0||(se=(Et=jt-Et)*jt+(qt=Ut-qt)*Ut)<=0?0:se*se/(jt*jt+Ut*Ut);var je=Et*Et+qt*qt-R;return je<0&&(je=0),je},On=function(f,c,R){return R===void 0&&(R=.001),Math.pow(f.x-c.x,2)+Math.pow(f.y-c.y,2)<Math.pow(R,2)},pn=function(f,c){var R=f.x<c.x,Y=f.x>c.x+c.width,ut=f.y>c.y+c.height,jt=f.y<c.y;if(!(R||Y||ut||jt))return 0;if(ut&&!R&&!Y)return Math.pow(c.y+c.height-f.y,2);if(jt&&!R&&!Y)return Math.pow(f.y-c.y,2);if(R&&!ut&&!jt)return Math.pow(c.x-f.x,2);if(Y&&!ut&&!jt)return Math.pow(c.x+c.width-f.x,2);var Ut=Math.min(Math.abs(c.x-f.x),Math.abs(c.x+c.width-f.x)),Et=Math.min(Math.abs(c.y-f.y),Math.abs(c.y+c.height-f.y));return Ut*Ut+Et*Et},Sn="rgb(95, 149, 255)",Rn="rgb(253, 253, 253)",lr="rgb(247, 250, 255)",Fn="rgb(224, 224, 224)",tr="rgb(224, 224, 224)",me={version:"0.0.8",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Sn,fill:"rgb(239, 244, 255)"},size:20,color:Sn,linkPoints:{size:8,lineWidth:1,fill:lr,stroke:Sn}},nodeStateStyles:{active:{fill:lr,stroke:Sn,lineWidth:2,shadowColor:Sn,shadowBlur:10},selected:{fill:"rgb(255, 255, 255)",stroke:Sn,lineWidth:4,shadowColor:Sn,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:"rgb(223, 234, 255)",stroke:"#4572d9",lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:"rgb(247, 250, 255)",stroke:"rgb(191, 213, 255)",lineWidth:1},disable:{fill:"rgb(250, 250, 250)",stroke:"rgb(224, 224, 224)",lineWidth:1}},edgeLabel:{style:{fill:"rgb(0, 0, 0)",textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Fn,lineAppendWidth:2},color:Fn},edgeStateStyles:{active:{stroke:Sn,lineWidth:1},selected:{stroke:Sn,lineWidth:2,shadowColor:Sn,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Sn,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:"rgb(234, 234, 234)",lineWidth:1},disable:{stroke:"rgb(245, 245, 245)",lineWidth:1}},comboLabel:{style:{fill:"rgb(0, 0, 0)",textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Rn,lineWidth:1,stroke:tr,r:5,width:20,height:10},size:[20,5],color:tr,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:Sn,lineWidth:1,fill:"rgb(247, 250, 255)"},selected:{stroke:Sn,lineWidth:2,fill:Rn,shadowColor:Sn,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:"#4572d9",lineWidth:2,fill:Rn,"text-shape":{fontWeight:500}},inactive:{stroke:"rgb(224, 224, 224)",fill:Rn,lineWidth:1},disable:{stroke:"rgb(234, 234, 234)",fill:"rgb(250, 250, 250)",lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]}},Se=function(){function Nt(f){this.graph=f,this.destroyed=!1,this.modes=f.get("modes")||{default:[]},this.formatModes(),this.mode=f.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return Nt.prototype.formatModes=function(){var f=this.modes;Object(o.f)(f,function(c){Object(o.f)(c,function(R,Y){Object(o.x)(R)&&(c[Y]={type:R})})})},Nt.prototype.setBehaviors=function(f){var c,R=this.graph,Y=this.modes[f],ut=[];Object(o.f)(Y||[],function(jt){var Ut=$.getBehavior(jt.type||jt);Ut&&(c=new Ut(jt))&&(c.bind(R),ut.push(c))}),this.currentBehaves=ut},Nt.mergeBehaviors=function(f,c){return Object(o.f)(c,function(R){f.indexOf(R)<0&&(Object(o.x)(R)&&(R={type:R}),f.push(R))}),f},Nt.filterBehaviors=function(f,c){var R=[];return f.forEach(function(Y){var ut="";ut=Object(o.x)(Y)?Y:Y.type,c.indexOf(ut)<0&&R.push(Y)}),R},Nt.prototype.setMode=function(f){var c=this.modes,R=this.graph,Y=f;c[Y]&&(R.emit("beforemodechange",{mode:f}),Object(o.f)(this.currentBehaves,function(ut){ut.delegate&&ut.delegate.remove(),ut.unbind(R)}),this.setBehaviors(Y),R.emit("aftermodechange",{mode:f}),this.mode=f)},Nt.prototype.getMode=function(){return this.mode},Nt.prototype.manipulateBehaviors=function(f,c,R){var Y,ut=this;if(Y=Object(o.m)(f)?f:[f],Object(o.m)(c))return Object(o.f)(c,function(Ut){ut.modes[Ut]?ut.modes[Ut]=R?Nt.mergeBehaviors(ut.modes[Ut]||[],Y):Nt.filterBehaviors(ut.modes[Ut]||[],Y):R&&(ut.modes[Ut]=Y)}),this;var jt=c;return c||(jt=this.mode),this.modes[jt]||R&&(this.modes[jt]=Y),this.modes[jt]=R?Nt.mergeBehaviors(this.modes[jt]||[],Y):Nt.filterBehaviors(this.modes[jt]||[],Y),this.setMode(this.mode),this},Nt.prototype.updateBehavior=function(f,c,R){Object(o.x)(f)&&(f={type:f});var Y=[];if(R&&R!==this.mode&&R!=="default"){if(!(Y=this.modes[R])||!Y.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;var ut=Y.length;for(Ut=0;Ut<ut;Ut++){if((Et=Y[Ut]).type===f.type||Et===f.type)return Et===f.type&&(Et={type:Et}),Object.assign(Et,c),Y[Ut]=Et,this;Ut===ut-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(!(Y=this.currentBehaves)||!Y.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var jt=Y.length,Ut=0;Ut<jt;Ut++){var Et;if((Et=Y[Ut]).type===f.type)return Et.updateCfg(c),this;Ut===jt-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},Nt.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},Nt}(),ke=function(Nt){function f(c,R){var Y=Nt.call(this,c,R)||this;return Y.item=R.item,Y.canvasX=R.canvasX,Y.canvasY=R.canvasY,Y.wheelDelta=R.wheelDelta,Y.detail=R.detail,Y}return Object(W.b)(f,Nt),f}(t(18).Event),we=function(f){return f+"-"+Math.random()+Date.now()},Ye=function(f){var c=0,R=0,Y=0,ut=0;return Object(o.t)(f)?c=R=Y=ut=f:Object(o.x)(f)?c=R=Y=ut=parseInt(f,10):Object(o.m)(f)&&(c=f[0],Y=Object(o.s)(f[1])?f[0]:f[1],ut=Object(o.s)(f[2])?f[0]:f[2],R=Object(o.s)(f[3])?Y:f[3]),[c,Y,ut,R]},un=function(f){var c=new ke(f.type,f);return c.clientX=f.clientX,c.clientY=f.clientY,c.x=f.x,c.y=f.y,c.target=f.target,c.currentTarget=f.currentTarget,c.bubbles=!0,c.item=f.item,c},zn=function(f){if(!f)return!1;for(var c=[1,0,0,0,1,0,0,0,1],R=0;R<9;R++)if(f[R]!==c[R])return!0;return!1},Nn=function(f){return Number.isNaN(Number(f))},or=function(f){for(var c=1/0,R=-1/0,Y=1/0,ut=-1/0,jt=0;jt<f.length;jt++){var Ut=f[jt].getBBox(),Et=Ut.minX,qt=Ut.minY,se=Ut.maxX,je=Ut.maxY;Et<c&&(c=Et),qt<Y&&(Y=qt),se>R&&(R=se),je>ut&&(ut=je)}return{x:Math.floor(c),y:Math.floor(Y),width:Math.ceil(R)-Math.floor(c),height:Math.ceil(ut)-Math.floor(Y),minX:c,minY:Y,maxX:R,maxY:ut}},Rr=function(f,c,R,Y,ut){c===void 0&&(c=15),R===void 0&&(R="quadratic");for(var jt=f.length,Ut=2*c,Et=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],qt={},se=[],je={},Ie=0;Ie<jt;Ie++){var Ue=f[Ie],Ke=Ue.source,An=Ue.target,Bn=Ke+"-"+An;if(!se[Ie]){qt[Bn]||(qt[Bn]=[]),se[Ie]=!0,qt[Bn].push(Ue);for(var Wn=0;Wn<jt;Wn++)if(Ie!==Wn){var Yn=f[Wn],Jn=Yn.source,Ar=Yn.target;se[Wn]||(Ke===Ar&&An===Jn?(qt[Bn].push(Yn),se[Wn]=!0,je[Jn+"|"+Ar+"|"+(qt[Bn].length-1)]=!0):Ke===Jn&&An===Ar&&(qt[Bn].push(Yn),se[Wn]=!0))}}}for(var ur in qt)for(var mr=qt[ur],ii=mr.length,Li=0;Li<ii;Li++){var ci=mr[Li];if(ci.source!==ci.target)if(ii===1&&Y&&ci.source!==ci.target)ci.type=Y;else{ci.type=R;var Yi=(Li%2==0?1:-1)*(je[ci.source+"|"+ci.target+"|"+Li]?-1:1);ci.curveOffset=ii%2==1?Yi*Math.ceil(Li/2)*Ut:Yi*(Math.floor(Li/2)*Ut+c)}else ut&&(ci.type=ut),ci.loopCfg={position:Et[Li%8],dist:20*Math.floor(Li/8)+50}}return f},xi=function(){function Nt(f){this.destroyed=!1,this.graph=f,this.destroyed=!1}return Nt.prototype.getViewCenter=function(){var f=this.getFormatPadding(),c=this.graph,R=this.graph.get("width"),Y=c.get("height");return{x:(R-f[1]-f[3])/2+f[3],y:(Y-f[0]-f[2])/2+f[0]}},Nt.prototype.fitCenter=function(){var f=this.graph,c=f.get("group");c.resetMatrix();var R=c.getCanvasBBox();if(R.width!==0&&R.height!==0){var Y=this.getViewCenter(),ut=R.x+R.width/2,jt=R.y+R.height/2;f.translate(Y.x-ut,Y.y-jt)}},Nt.prototype.fitView=function(){var f=this.graph,c=this.getFormatPadding(),R=f.get("width"),Y=f.get("height"),ut=f.get("group");ut.resetMatrix();var jt=ut.getCanvasBBox();if(jt.width!==0&&jt.height!==0){var Ut=this.getViewCenter(),Et=jt.x+jt.width/2,qt=jt.y+jt.height/2;f.translate(Ut.x-Et,Ut.y-qt);var se=(R-c[1]-c[3])/jt.width,je=(Y-c[0]-c[2])/jt.height,Ie=se;se>je&&(Ie=je),f.zoom(Ie,Ut)}},Nt.prototype.getFormatPadding=function(){var f=this.graph.get("fitViewPadding");return Ye(f)},Nt.prototype.focusPoint=function(f,c,R){var Y=this,ut=this.getViewCenter(),jt=this.getPointByCanvas(ut.x,ut.y),Ut=this.graph.get("group").getMatrix();if(Ut||(Ut=[1,0,0,0,1,0,0,0,1]),c){var Et=(jt.x-f.x)*Ut[0],qt=(jt.y-f.y)*Ut[4],se=0,je=0,Ie=0,Ue=0;this.graph.get("canvas").animate(function(Ke){Ie=Et*Ke,Ue=qt*Ke,Y.graph.translate(Ie-se,Ue-je),se=Ie,je=Ue},Object(W.a)({},R))}else this.graph.translate((jt.x-f.x)*Ut[0],(jt.y-f.y)*Ut[4])},Nt.prototype.getPointByCanvas=function(f,c){var R=this.graph.get("group").getMatrix();return R||(R=[1,0,0,0,1,0,0,0,1]),Ht({x:f,y:c},R)},Nt.prototype.getPointByClient=function(f,c){var R=this.graph.get("canvas").getPointByClient(f,c);return this.getPointByCanvas(R.x,R.y)},Nt.prototype.getClientByPoint=function(f,c){var R=this.graph.get("canvas"),Y=this.getCanvasByPoint(f,c),ut=R.getClientByPoint(Y.x,Y.y);return{x:ut.x,y:ut.y}},Nt.prototype.getCanvasByPoint=function(f,c){var R=this.graph.get("group").getMatrix();return R||(R=[1,0,0,0,1,0,0,0,1]),Ae({x:f,y:c},R)},Nt.prototype.focus=function(f,c,R){Object(o.x)(f)&&(f=this.graph.findById(f));var Y=f.get("group").getMatrix();Y||(Y=[1,0,0,0,1,0,0,0,1]),f&&this.focusPoint({x:Y[6],y:Y[7]},c,R)},Nt.prototype.changeSize=function(f,c){var R=this.graph;if(!Object(o.t)(f)||!Object(o.t)(c))throw Error("invalid canvas width & height, please make sure width & height type is number");R.set({width:f,height:c}),R.get("canvas").changeSize(f,c),R.get("plugins").forEach(function(Y){if(Y.get("gridContainer")){var ut=R.get("minZoom");Object(T.c)(Y.get("container"),{width:f+"px",height:c+"px"}),Object(T.c)(Y.get("gridContainer"),{width:f/ut+"px",height:c/ut+"px",left:0,top:0})}})},Nt.prototype.destroy=function(){this.graph=null,this.destroyed=!1},Nt}(),pi={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},Kr=Math.PI,Ii=Math.sin,Gi=Math.cos,Si=Ii(Kr/8),aa=Gi(Kr/8),Xo=function(f,c){var R=f.getBBox(),Y={x:R.minX,y:R.minY},ut={x:R.maxX,y:R.maxY};if(c){var jt=c.getMatrix();jt||(jt=[1,0,0,0,1,0,0,0,1]),Y=Ae(Y,jt),ut=Ae(ut,jt)}var Ut=Y.x,Et=Y.y,qt=ut.x,se=ut.y;return{x:Ut,y:Et,minX:Ut,minY:Et,maxX:qt,maxY:se,width:qt-Ut,height:se-Et}},Wa=function(f){var c=f.sourceNode||f.targetNode,R=c.get("group").getMatrix();R||(R=[1,0,0,0,1,0,0,0,1]);var Y=c.getKeyShape().getBBox(),ut=f.loopCfg||{},jt=ut.dist||2*Math.max(Y.width,Y.height),Ut=ut.position||me.defaultLoopPosition,Et=[R[6],R[7]],qt=[f.startPoint.x,f.startPoint.y],se=[f.endPoint.x,f.endPoint.y],je=Y.height/2,Ie=Y.height/2,Ue=je*Si,Ke=je*aa,An=Ie*Si,Bn=Ie*aa;if(qt[0]===se[0]&&qt[1]===se[1]){switch(Ut){case"top":qt=[Et[0]-Ue,Et[1]-Ke],se=[Et[0]+An,Et[1]-Bn];break;case"top-right":je=Y.height/2,Ie=Y.width/2,qt=[Et[0]+(Ue=je*Si),Et[1]-(Ke=je*aa)],se=[Et[0]+(Bn=Ie*aa),Et[1]-(An=Ie*Si)];break;case"right":je=Y.width/2,Ie=Y.width/2,qt=[Et[0]+(Ke=je*aa),Et[1]-(Ue=je*Si)],se=[Et[0]+(Bn=Ie*aa),Et[1]+(An=Ie*Si)];break;case"bottom-right":je=Y.width/2,Ie=Y.height/2,qt=[Et[0]+(Ke=je*aa),Et[1]+(Ue=je*Si)],se=[Et[0]+(An=Ie*Si),Et[1]+(Bn=Ie*aa)];break;case"bottom":je=Y.height/2,Ie=Y.height/2,qt=[Et[0]+(Ue=je*Si),Et[1]+(Ke=je*aa)],se=[Et[0]-(An=Ie*Si),Et[1]+(Bn=Ie*aa)];break;case"bottom-left":je=Y.height/2,Ie=Y.width/2,qt=[Et[0]-(Ue=je*Si),Et[1]+(Ke=je*aa)],se=[Et[0]-(Bn=Ie*aa),Et[1]+(An=Ie*Si)];break;case"left":je=Y.width/2,Ie=Y.width/2,qt=[Et[0]-(Ke=je*aa),Et[1]+(Ue=je*Si)],se=[Et[0]-(Bn=Ie*aa),Et[1]-(An=Ie*Si)];break;case"top-left":je=Y.width/2,Ie=Y.height/2,qt=[Et[0]-(Ke=je*aa),Et[1]-(Ue=je*Si)],se=[Et[0]-(An=Ie*Si),Et[1]-(Bn=Ie*aa)];break;default:je=Y.width/2,Ie=Y.width/2,qt=[Et[0]-(Ue=je*Si),Et[1]-(Ke=je*aa)],se=[Et[0]+(An=Ie*Si),Et[1]-(Bn=Ie*aa)]}if(ut.clockwise===!1){var Wn=[qt[0],qt[1]];qt=[se[0],se[1]],se=[Wn[0],Wn[1]]}}var Yn=[qt[0]-Et[0],qt[1]-Et[1]],Jn=(je+jt)/je,Ar=(Ie+jt)/Ie;ut.clockwise===!1&&(Jn=(Ie+jt)/Ie,Ar=(je+jt)/je);var ur=Jt.c.scale([0,0],Yn,Jn),mr=[Et[0]+ur[0],Et[1]+ur[1]],ii=[se[0]-Et[0],se[1]-Et[1]],Li=Jt.c.scale([0,0],ii,Ar),ci=[Et[0]+Li[0],Et[1]+Li[1]];return f.startPoint={x:qt[0],y:qt[1]},f.endPoint={x:se[0],y:se[1]},f.controlPoints=[{x:mr[0],y:mr[1]},{x:ci[0],y:ci[1]}],f},Zo=function(f,c,R,Y,ut){var jt=[],Ut=f.getPoint(c);if(Ut===null)return{x:0,y:0,angle:0};if(c<1e-4)jt=f.getStartTangent().reverse();else if(c>.9999)jt=f.getEndTangent();else{var Et=f.getPoint(c+1e-4);jt.push([Ut.x,Ut.y]),jt.push([Et.x,Et.y])}var qt=Math.atan2(jt[1][1]-jt[0][1],jt[1][0]-jt[0][0]);if(qt<0&&(qt+=2*Kr),R&&(Ut.x+=Gi(qt)*R,Ut.y+=Ii(qt)*R),Y){var se=qt-Kr/2;qt>.5*Kr&&qt<1.5*Kr&&(se-=Kr),Ut.x+=Gi(se)*Y,Ut.y+=Ii(se)*Y}var je={x:Ut.x,y:Ut.y,angle:qt};return ut?(qt>.5*Kr&&qt<1.5*Kr&&(qt-=Kr),Object(W.a)({rotate:qt},je)):je},tu=function Nt(f,c){if(c(f)===!1)return!1;if(f&&f.children){for(var R=f.children.length-1;R>=0;R--)if(!Nt(f.children[R],c))return!1}return!0},Ho=function(f,c){typeof c=="function"&&tu(f,c)},Ta=function(f,c){typeof c=="function"&&function R(Y,ut){if(Y&&Y.children){for(var jt=Y.children.length-1;jt>=0;jt--)if(!R(Y.children[jt],ut))return}return ut(Y)!==!1}(f,c)},Ha=function(f,c){return c*(pi[f]||1)},So=function(f,c){var R=0,Y=new RegExp("[\u4E00-\u9FA5]+");return f.split("").forEach(function(ut){Y.test(ut)?R+=c:R+=Ha(ut,c)}),[R,c]},ss=function(f,c){var R=[],Y={},ut={};f.forEach(function(Et){ut[Et.id]=Et}),f.forEach(function(Et,qt){var se=Object(o.c)(Et);se.itemType="combo",se.children=void 0,se.parentId===se.id?(console.warn("The parentId for combo "+se.id+" can not be the same as the combo's id"),delete se.parentId):se.parentId&&!ut[se.parentId]&&(console.warn("The parent combo for combo "+se.id+" does not exist!"),delete se.parentId);var je=Y[se.id];if(je){if(se.children=je.children,Y[se.id]=se,!(je=se).parentId)return void R.push(je);var Ie=Y[je.parentId];if(Ie)Ie.children?Ie.children.push(se):Ie.children=[se];else{var Ue={id:je.parentId,children:[je]};Y[je.parentId]=Ue,Y[se.id]=se}}else if(Object(o.x)(Et.parentId)){var Ke=Y[Et.parentId];if(Ke)Ke.children?Ke.children.push(se):Ke.children=[se],Y[se.id]=se;else{var An={id:Et.parentId,children:[se]};Y[An.id]=An,Y[se.id]=se}}else R.push(se),Y[se.id]=se});var jt={};(c||[]).forEach(function(Et){jt[Et.id]=Et;var qt=Y[Et.comboId];if(qt){var se={id:Et.id,comboId:Et.comboId};qt.children?qt.children.push(se):qt.children=[se],se.itemType="node",Y[Et.id]=se}});var Ut=0;return R.forEach(function(Et){Et.depth=Ut+10,tu(Et,function(qt){var se,je=Y[qt.id].itemType;se=je==="node"?Y[qt.comboId]:Y[qt.parentId],qt.depth=se&&je==="node"?Ut+1:Ut+10,Ut<qt.depth&&(Ut=qt.depth);var Ie=jt[qt.id];return Ie&&(Ie.depth=qt.depth),!0})}),R},hs=function(f,c,R){var Y,ut=f,jt={root:{children:f}},Ut=!1,Et="root";(f||[]).forEach(function(Ue){if(!Ut)return Ue.id===c?(Y=Ue,Ue.itemType==="combo"?Y.parentId=R:Y.comboId=R,void(Ut=!0)):void Ho(Ue,function(Ke){return jt[Ke.id]={children:Ke.children},ut=jt[Ke.parentId||Ke.comboId||"root"].children,!Ke||!Ke.removed&&c!==Ke.id||!ut||(Et=Ke.parentId||Ke.comboId||"root",Y=Ke,Ke.itemType==="combo"?Y.parentId=R:Y.comboId=R,Ut=!0,!1)})});var qt=(ut=jt[Et].children)?ut.indexOf(Y):-1;if(qt>-1&&ut.splice(qt,1),Ut||(Y={id:c,itemType:"node",comboId:R},jt[c]={children:void 0}),c){var se=!1;if(R){var je=0;(f||[]).forEach(function(Ue){se||Ho(Ue,function(Ke){return R!==Ke.id||(se=!0,Ke.children?Ke.children.push(Y):Ke.children=[Y],je=Ke.depth,Y.itemType==="node"?Y.depth=je+2:Y.depth=je+1,!1)})})}else R&&se||Y.itemType==="node"||f.push(Y);var Ie=Y.depth;Ho(Y,function(Ue){return Ue.itemType==="node"?Ie+=2:Ie+=1,Ue.depth=Ie,!0})}return f},us=function(f,c){var R={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return f&&f.length!==0&&(f.forEach(function(Y){var ut=c.findById(Y.id);if(ut&&ut.isVisible()){ut.set("bboxCanvasCache",void 0);var jt=ut.getCanvasBBox();jt.x&&R.minX>jt.minX&&(R.minX=jt.minX),jt.y&&R.minY>jt.minY&&(R.minY=jt.minY),jt.x&&R.maxX<jt.maxX&&(R.maxX=jt.maxX),jt.y&&R.maxY<jt.maxY&&(R.maxY=jt.maxY)}}),R.x=(R.minX+R.maxX)/2,R.y=(R.minY+R.maxY)/2,R.width=R.maxX-R.minX,R.height=R.maxY-R.minY,R.centerX=(R.minX+R.maxX)/2,R.centerY=(R.minY+R.maxY)/2,Object.keys(R).forEach(function(Y){R[Y]!==1/0&&R[Y]!==-1/0||(R[Y]=void 0)})),R},Rs=function(f){var c=Object(o.t)(f.x)||Object(o.t)(f.y)||f.type||f.anchorPoints||f.size;return f.style&&(c=c||Object(o.t)(f.style.r)||Object(o.t)(f.style.width)||Object(o.t)(f.style.height)||Object(o.t)(f.style.rx)||Object(o.t)(f.style.ry)),c},Hi=function(f){var c={};return Object.keys(f).forEach(function(R){var Y=f[R];if(Object(o.v)(Y)){var ut={};Object.keys(Y).forEach(function(jt){var Ut=Y[jt];(jt!=="img"||Object(o.x)(Ut))&&(ut[jt]=Object(o.c)(Ut))}),c[R]=ut}else c[R]=Object(o.c)(Y)}),c};function yc(Nt){return(yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(Nt)}function ua(Nt){if(typeof Nt!="string")return Nt;var f=function(mr){if(typeof mr!="string")return mr;try{return JSON.parse(mr.trim())}catch(ii){return mr.trim()}},c=f(Nt);if(typeof c!="string")return c;for(var R=function(mr){return mr[mr.length-1]},Y=Nt.trim(),ut=[],jt=[],Ut=function(){for(var mr=[],ii=0;ii<arguments.length;ii++)mr[ii]=arguments[ii];return mr.some(function(Li){return R(jt)===Li})},Et=null,qt=0,se="";qt<Y.length;){var je=Y[qt],Ie=Ut('"',"'");if(Ie||je.trim()){var Ue=Y[qt-1]==="\\",Ke=Ut("}"),An=Ut("]"),Bn=Ut(","),Wn=R(ut);if(Ie)if(R(jt)!==je||Ue)se+=je;else{jt.pop();var Yn=f(se);Wn.push(Yn),Et=Yn,se=""}else if(An&&je===",")se&&(Wn.push(f(se)),se="");else if(Ke&&je===":")jt.push(","),se&&(Wn.push(se),se="");else if(Bn&&je===",")se&&(Wn.push(f(se)),se=""),jt.pop();else if(je==="}"&&(Ke||Bn)){se&&(Wn.push(f(se)),se=""),Bn&&jt.pop();for(var Jn={},Ar=1;Ar<Wn.length;Ar+=2)Jn[Wn[Ar-1]]=Wn[Ar];ut.pop(),ut.length&&R(ut).push(Jn),jt.pop(),Et=Jn}else je==="]"&&An?(se&&(Wn.push(f(se)),se=""),ut.pop(),ut.length&&R(ut).push(Wn),jt.pop(),Et=Wn):je==="{"?(ut.push([]),jt.push("}")):je==="["?(ut.push([]),jt.push("]")):je==='"'?jt.push('"'):je==="'"?jt.push("'"):se+=je;qt+=1}else qt+=1}return Et||se}function Cu(Nt,f){var c;f===void 0&&(f={x:0,y:0});var R=Object(W.a)({x:0,y:0,width:0,height:0},f);if((c=Nt.children)===null||c===void 0?void 0:c.length){var Y=Nt.attrs,ut=Y===void 0?{}:Y,jt=ut.marginTop,Ut=Object(W.a)({},f);jt&&(Ut.y+=jt);for(var Et=0;Et<Nt.children.length;Et++){Nt.children[Et].attrs.key=(ut.key||"root")+" -"+Et+" ";var qt=Cu(Nt.children[Et],Ut);if(qt.bbox){var se=qt.bbox;qt.attrs.next==="inline"?Ut.x+=qt.bbox.width:Ut.y+=qt.bbox.height,se.width+se.x>R.width&&(R.width=se.width+se.x),se.height+se.y>R.height&&(R.height=se.height+se.y)}}}return Nt.bbox=function(je,Ie,Ue){var Ke,An,Bn=je.attrs,Wn=Bn===void 0?{}:Bn,Yn={x:Ie.x||0,y:Ie.y||0,width:Ue.width||0,height:Ue.height||0};switch(je.type){case"maker":case"circle":Wn.r&&(An=2*Wn.r,Ke=2*Wn.r);break;case"text":Wn.text&&(An=So(Wn.text,Wn.fontSize||12)[0],Ke=16,Yn.y+=Ke,Yn.height=Ke,Yn.width=An,je.attrs=Object(W.a)({fontSize:12,fill:"#000"},Wn));break;default:Wn.width&&(An=Wn.width),Wn.height&&(Ke=Wn.height)}return Ke>=0&&(Yn.height=Ke),An>=0&&(Yn.width=An),Wn.marginTop&&(Yn.y+=Wn.marginTop),Wn.marginLeft&&(Yn.x+=Wn.marginLeft),Yn}(Nt,f,R),Nt.attrs=Object(W.a)(Object(W.a)({},Nt.attrs),Nt.bbox),Nt}function ja(Nt){var f={},c=function(Y){var ut=function(Et){return function(qt){for(var se=Et.length,je=[],Ie=0,Ue="";Ie<se;)if(Et[Ie]==="{"&&Et[Ie+1]==="{")je.push(Ue),Ue="",Ie+=2;else if(Et[Ie]==="}"&&Et[Ie+1]==="}"){if(je.length){var Ke=je.pop();Ue=Object(o.i)(qt,Ue,Ke.endsWith("=")?'"{'+Ue+'}"':Ue),je.push(Ke+Ue)}Ie+=2,Ue=""}else Ue+=Et[Ie],Ie+=1;return je.push(Ue),je.map(function(An,Bn){return je[Bn-1]&&je[Bn-1].endsWith("=")?'"{'+An+'}"':An}).join("")}}(typeof Nt=="function"?Nt(Y):Nt)(Y),jt=document.createElement("div");jt.innerHTML=ut;var Ut=Cu(function Et(qt,se){var je={},Ie=qt.getAttributeNames&&qt.getAttributeNames()||[],Ue=qt.children&&Array.from(qt.children).map(function(Bn){return Et(Bn,se)}),Ke={},An=qt.tagName?qt.tagName.toLowerCase():"group";return An==="text"&&(je.text=qt.innerText),Ke.type=An,An==="img"&&(Ke.type="image"),Array.from(Ie).forEach(function(Bn){var Wn=Bn.split("-").reduce(function(Ar,ur){return Ar+ur.charAt(0).toUpperCase()+ur.slice(1)}),Yn=qt.getAttribute(Bn);try{if(Wn==="style"||Wn==="attrs"){var Jn=ua(Yn);je=Object(W.a)(Object(W.a)({},je),Jn)}else Ke[Wn]=ua(Yn)}catch(Ar){if(Wn==="style")throw Ar;Ke[Wn]=Yn}}),Ke.attrs=je,se&&se.style&&Ke.name&&yc(se.style[Ke.name])==="object"&&(Ke.attrs=Object(W.a)(Object(W.a)({},Ke.attrs),se.style[Ke.name])),se&&se.style&&Ke.keyshape&&(Ke.attrs=Object(W.a)(Object(W.a)({},Ke.attrs),se.style)),Ue.length&&(Ke.children=Ue),Ke}(jt.children[0],Y));return jt.remove(),Ut};return{draw:function(Y,ut){var jt=c(Y),Ut=ut;return function Et(qt){var se=qt.attrs,je=se===void 0?{}:se,Ie=qt.bbox,Ue=qt.type,Ke=qt.children,An=Object(W.c)(qt,["attrs","bbox","type","children"]);if(qt.type!=="group"){var Bn=ut.addShape(qt.type,Object(W.a)({attrs:je,origin:{bbox:Ie,type:Ue,children:Ke}},An));qt.keyshape&&(Ut=Bn)}qt.children&&qt.children.forEach(function(Wn){return Et(Wn)})}(jt),f[Y.id]=[jt],Ut},update:function(Y,ut){f[Y.id]||(f[Y.id]=[]);var jt=ut.getContainer(),Ut=jt.get("children"),Et=c(Y),qt=function Ie(Ue,Ke){var An,Bn,Wn,Yn,Jn=(Ue||{}).type,Ar=((Ke==null?void 0:Ke.attrs)||{}).key;if(Ar&&Ue&&(Ue.attrs.key=Ar),!Ue&&Ke)return{action:"delete",val:Ke,type:Jn,key:Ar};if(Ue&&!Ke)return{action:"add",val:Ue,type:Jn};if(!Ue&&!Ke)return{action:"same",type:Jn};var ur=[];if(((An=Ue.children)===null||An===void 0?void 0:An.length)>0||((Bn=Ke.children)===null||Bn===void 0?void 0:Bn.length)>0)for(var mr=Math.max((Wn=Ue.children)===null||Wn===void 0?void 0:Wn.length,(Yn=Ke.children)===null||Yn===void 0?void 0:Yn.length),ii=Ke.children||[],Li=Ue.children||[],ci=0;ci<mr;ci+=1)ur.push(Ie(Li[ci],ii[ci]));var Yi=Object.keys(Ke.attrs),qa=Object.keys(Ue.attrs);return Ke.type!==Ue.type?{action:"restructure",nowTarget:Ue,formerTarget:Ke,key:Ar,children:ur}:Yi.filter(function(wa){return wa!=="children"}).some(function(wa){return Ue.attrs[wa]!==Ke.attrs[wa]||!qa.includes(wa)})?{action:"change",val:Ue,children:ur,type:Jn,key:Ar}:{action:"same",children:ur,type:Jn,key:Ar}}(Et,f[Y.id].pop()),se=function Ie(Ue){var Ke;Ue.type!=="group"&&jt.addShape(Ue.type,{attrs:Ue.attrs}),((Ke=Ue.children)===null||Ke===void 0?void 0:Ke.length)&&Ue.children.map(function(An){return Ie(An)})},je=function Ie(Ue){var Ke,An=Ut.find(function(Bn){return Bn.attrs.key===Ue.attrs.key});An&&jt.removeChild(An),((Ke=Ue.children)===null||Ke===void 0?void 0:Ke.length)&&Ue.children.map(function(Bn){return Ie(Bn)})};(function Ie(Ue){var Ke=Ue.key;if(Ue.type!=="group"){var An=Ut.find(function(Wn){return Wn.attrs.key===Ke});switch(Ue.action){case"change":if(An){var Bn=Ue.val.keyshape?ut.getOriginStyle():{};An.attr(Object(W.a)(Object(W.a)({},Bn),Ue.val.attrs))}break;case"add":se(Ue.val);break;case"delete":je(Ue.val);break;case"restructure":je(Ue.formerTarget),se(Ue.nowTarget)}}Ue.children&&Ue.children.forEach(function(Wn){return Ie(Wn)})})(qt),f[Y.id].push(Et)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var zu={};function fa(Nt){return zu[Nt]||(zu[Nt]=Object(o.I)(Nt)),zu[Nt]}var Cr={defaultShapeType:"defaultType",className:null,getShape:function(f){return this[f]||this[this.defaultShapeType]||this["simple-circle"]},draw:function(f,c,R){var Y=this.getShape(f),ut=Y.draw(c,R);return Y.afterDraw&&Y.afterDraw(c,R,ut),ut},baseUpdate:function(f,c,R){var Y=this.getShape(f);Y.update&&Y.update(c,R),Y.afterUpdate&&Y.afterUpdate(c,R)},setState:function(f,c,R,Y){this.getShape(f).setState(c,R,Y)},shouldUpdate:function(f){return!!this.getShape(f).update},getControlPoints:function(f,c){return this.getShape(f).getControlPoints(c)},getAnchorPoints:function(f,c){return this.getShape(f).getAnchorPoints(c)}},gr={options:{},draw:function(f,c){return this.drawShape(f,c)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(f){return f.controlPoints},getAnchorPoints:function(f){var c=this.options.anchorPoints;return f.anchorPoints||c}},zr=function(){function Nt(){}return Nt.registerFactory=function(f,c){var R=fa(f),Y=Cr,ut=Object(W.a)(Object(W.a)({},Y),c);return Nt[R]=ut,ut.className=R,ut},Nt.getFactory=function(f){return Nt[fa(f)]},Nt.registerNode=function(f,c,R){var Y,ut=Nt.Node;if(typeof c=="string"||typeof c=="function"){var jt=ja(c);Y=Object(W.a)(Object(W.a)({},ut.getShape("single-node")),jt)}else if(c.jsx)jt=ja(c.jsx),Y=Object(W.a)(Object(W.a)(Object(W.a)({},ut.getShape("single-node")),jt),c);else{ut.getShape(R);var Ut=R?ut.getShape(R):gr;Y=Object(W.a)(Object(W.a)({},Ut),c)}return Y.type=f,Y.itemType="node",ut[f]=Y,Y},Nt.registerEdge=function(f,c,R){var Y=Nt.Edge,ut=R?Y.getShape(R):gr,jt=Object(W.a)(Object(W.a)({},ut),c);return jt.type=f,jt.itemType="edge",Y[f]=jt,jt},Nt.registerCombo=function(f,c,R){var Y=Nt.Combo,ut=R?Y.getShape(R):gr,jt=Object(W.a)(Object(W.a)({},ut),c);return jt.type=f,jt.itemType="combo",Y[f]=jt,jt},Nt}(),qr=zr;zr.registerFactory("node",{defaultShapeType:"circle"}),zr.registerFactory("edge",{defaultShapeType:"line"}),zr.registerFactory("combo",{defaultShapeType:"circle"});var Ka=["startArrow","endArrow"],so=function(){function Nt(f){this._cfg={},this.destroyed=!1;var c={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(c,this.getDefaultCfg(),f);var R=this.get("model"),Y=R.id,ut=this.get("type");Y||(Y=we(ut),this.get("model").id=Y),this.set("id",Y);var jt=f.group;jt&&(jt.set("item",this),jt.set("id",Y)),this.init(),this.draw();var Ut=R.shape||R.type||(ut==="edge"?"line":"circle"),Et=this.get("shapeFactory");if(Et&&Et[Ut]){var qt=Et[Ut].options;if(qt&&qt.stateStyles){var se=this.get("styles")||R.stateStyles;se=Object(o.e)({},qt.stateStyles,se),this.set("styles",se)}}}return Nt.prototype.calculateBBox=function(){var f=this.get("keyShape"),c=this.get("group"),R=Xo(f,c);return R.x=R.minX,R.y=R.minY,R.width=R.maxX-R.minX,R.height=R.maxY-R.minY,R.centerX=(R.minX+R.maxX)/2,R.centerY=(R.minY+R.maxY)/2,R},Nt.prototype.calculateCanvasBBox=function(){var f=this.get("keyShape"),c=this.get("group"),R=Xo(f,c);return R.x=R.minX,R.y=R.minY,R.width=R.maxX-R.minX,R.height=R.maxY-R.minY,R.centerX=(R.minX+R.maxX)/2,R.centerY=(R.minY+R.maxY)/2,R},Nt.prototype.drawInner=function(){var f=this.get("shapeFactory"),c=this.get("group"),R=this.get("model");c.clear();var Y=R.visible;if(Y===void 0||Y||this.changeVisibility(Y),f){this.updatePosition(R);var ut=this.getShapeCfg(R),jt=ut.type,Ut=f.draw(jt,ut,c);Ut&&(this.set("keyShape",Ut),Ut.set("isKeyShape",!0),Ut.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",jt),this.restoreStates(f,jt)}},Nt.prototype.setOriginStyle=function(f){var c=this.get("group").get("children"),R=this.getKeyShape(),Y=this,ut=R.get("name");if(this.get("originStyle")){var jt=this.getOriginStyle();ut&&!jt[ut]&&(jt[ut]={});var Ut=this.getCurrentStatesStyle();Object(o.f)(c,function(qt){var se=qt.get("name"),je=qt.attr();if(se&&se!==ut){var Ie=Ut[se];jt[se]||(jt[se]={}),Ie?Object.keys(je).forEach(function(An){var Bn=je[An];Bn!==Ie[An]&&(jt[se][An]=Bn)}):jt[se]=Object(o.c)(je)}else{var Ue=qt.attr(),Ke=Object(W.a)(Object(W.a)({},Ut),Ut[ut]);Object.keys(Ue).forEach(function(An){var Bn=Ue[An];Object(o.w)(Bn)&&Ka.indexOf(se)===-1||Ke[An]!==Bn&&(ut?jt[ut][An]=Bn:jt[An]=Bn)})}}),jt.path&&delete jt.path,jt.matrix&&delete jt.matrix,Y.set("originStyle",jt)}else{var Et={};Object(o.f)(c,function(qt){var se=qt.get("type"),je=qt.get("name");if(je&&je!==ut)Et[je]=se!=="image"?Object(o.c)(qt.attr()):Y.getShapeStyleByName(je);else{var Ie=Y.getShapeStyleByName();if(Ie.path&&delete Ie.path,Ie.matrix&&delete Ie.matrix,ut)if(je)Et[ut]=Ie;else{var Ue=we("shape");qt.set("name",Ue),Et[Ue]=se!=="image"?Object(o.c)(qt.attr()):Y.getShapeStyleByName(je)}else Object.assign(Et,Ie)}}),Y.set("originStyle",Et)}},Nt.prototype.restoreStates=function(f,c){var R=this,Y=R.get("states");Object(o.f)(Y,function(ut){f.setState(c,ut,!0,R)})},Nt.prototype.init=function(){var f=qr.getFactory(this.get("type"));this.set("shapeFactory",f)},Nt.prototype.get=function(f){return this._cfg[f]},Nt.prototype.set=function(f,c){Object(o.w)(f)?this._cfg=Object(W.a)(Object(W.a)({},this._cfg),f):this._cfg[f]=c},Nt.prototype.getDefaultCfg=function(){return{}},Nt.prototype.clearCache=function(){this.set("bboxCache",null),this.set("bboxCanvasCache",null)},Nt.prototype.beforeDraw=function(){},Nt.prototype.afterDraw=function(){},Nt.prototype.afterUpdate=function(){},Nt.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},Nt.prototype.getShapeStyleByName=function(f){var c,R=this.get("group");if(c=f?R.find(function(ut){return ut.get("name")===f}):this.getKeyShape()){var Y={};return Object(o.f)(c.attr(),function(ut,jt){jt!=="img"&&(Y[jt]=ut)}),Y}return{}},Nt.prototype.getShapeCfg=function(f){var c=this.get("styles");if(c){var R=f;return R.style=Object(W.a)(Object(W.a)({},c),f.style),R}return f},Nt.prototype.getStateStyle=function(f){var c=this.get("styles");return c&&c[f]},Nt.prototype.getOriginStyle=function(){return this.get("originStyle")},Nt.prototype.getCurrentStatesStyle=function(){var f=this,c={},R=f.getStates();return R&&R.length?(Object(o.f)(f.getStates(),function(Y){c=Object.assign(c,f.getStateStyle(Y))}),c):this.getOriginStyle()},Nt.prototype.setState=function(f,c){var R=this.get("states"),Y=this.get("shapeFactory"),ut=f,jt=f;Object(o.x)(c)&&(ut=f+":"+c,jt=f+":");var Ut=R;if(Object(o.n)(c)){var Et=R.indexOf(jt);if(c){if(Et>-1)return;R.push(ut)}else Et>-1&&R.splice(Et,1)}else if(Object(o.x)(c)){var qt=R.filter(function(je){return je.includes(jt)});qt.length>0&&this.clearStates(qt),(Ut=Ut.filter(function(je){return!je.includes(jt)})).push(ut),this.set("states",Ut)}if(Y){var se=this.get("model").type;Y.setState(se,f,c,this)}},Nt.prototype.clearStates=function(f){var c=this,R=c.getStates(),Y=c.get("shapeFactory"),ut=c.get("model").type;f||(f=R),Object(o.x)(f)&&(f=[f]);var jt=R.filter(function(Ut){return f.indexOf(Ut)===-1});c.set("states",jt),f.forEach(function(Ut){Y.setState(ut,Ut,!1,c)})},Nt.prototype.getContainer=function(){return this.get("group")},Nt.prototype.getKeyShape=function(){return this.get("keyShape")},Nt.prototype.getModel=function(){return this.get("model")},Nt.prototype.getType=function(){return this.get("type")},Nt.prototype.getID=function(){return this.get("id")},Nt.prototype.isItem=function(){return!0},Nt.prototype.getStates=function(){return this.get("states")},Nt.prototype.hasState=function(f){return this.getStates().indexOf(f)>=0},Nt.prototype.refresh=function(){var f=this.get("model");this.updatePosition(f),this.updateShape(),this.afterUpdate(),this.clearCache()},Nt.prototype.isOnlyMove=function(f){return!1},Nt.prototype.update=function(f,c){c===void 0&&(c=!1);var R=this.get("model"),Y=R.visible,ut=f.visible;Y!==ut&&ut!==void 0&&this.changeVisibility(ut);var jt=R.x,Ut=R.y;f.x=isNaN(f.x)?R.x:f.x,f.y=isNaN(f.y)?R.y:f.y;var Et=this.get("styles");if(f.stateStyles){var qt=f.stateStyles;Object(o.A)(Et,qt),delete f.stateStyles}Object.assign(R,f),c?this.updatePosition(f):(jt===f.x&&Ut===f.y||this.updatePosition(f),this.updateShape()),this.afterUpdate(),this.clearCache()},Nt.prototype.updateShape=function(){var f=this.get("shapeFactory"),c=this.get("model"),R=c.type;if(f.shouldUpdate(R)&&R===this.get("currentShape")){var Y=this.getShapeCfg(c);f.baseUpdate(R,Y,this)}else this.draw();this.setOriginStyle(c),this.restoreStates(f,R)},Nt.prototype.updatePosition=function(f){var c=this.get("model"),R=Object(o.s)(f.x)?c.x:f.x,Y=Object(o.s)(f.y)?c.y:f.y,ut=this.get("group");Object(o.s)(R)||Object(o.s)(Y)||(ut.resetMatrix(),an(ut,{x:R,y:Y}),c.x=R,c.y=Y,this.clearCache())},Nt.prototype.getBBox=function(){var f=this.get("bboxCache");return f||(f=this.calculateBBox(),this.set("bboxCache",f)),f},Nt.prototype.getCanvasBBox=function(){var f=this.get("bboxCanvasCache");return f||(f=this.calculateCanvasBBox(),this.set("bboxCanvasCache",f)),f},Nt.prototype.toFront=function(){this.get("group").toFront()},Nt.prototype.toBack=function(){this.get("group").toBack()},Nt.prototype.show=function(){this.changeVisibility(!0)},Nt.prototype.hide=function(){this.changeVisibility(!1)},Nt.prototype.changeVisibility=function(f){var c=this.get("group");f?c.show():c.hide(),this.set("visible",f)},Nt.prototype.isVisible=function(){return this.get("visible")},Nt.prototype.enableCapture=function(f){var c=this.get("group");c&&c.set("capture",f)},Nt.prototype.destroy=function(){if(!this.destroyed){var f=this.get("animate"),c=this.get("group");f&&c.stopAnimate(),this.clearCache(),c.remove(),this._cfg=null,this.destroyed=!0}},Nt}(),xo={source:"start",target:"end"},co=function(Nt){function f(){return Nt!==null&&Nt.apply(this,arguments)||this}return Object(W.b)(f,Nt),f.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},f.prototype.setEnd=function(c,R){var Y=xo[c]+"Point",ut=c+"Node",jt=this.get(ut);jt&&!jt.destroyed&&jt.removeEdge(this),Object(o.w)(R)?(this.set(Y,R),this.set(ut,null)):(R.addEdge(this),this.set(ut,R),this.set(Y,null))},f.prototype.getLinkPoint=function(c,R,Y){var ut=xo[c]+"Point",jt=c+"Node",Ut=this.get(ut);if(!Ut){var Et=this.get(jt),qt=c+"Anchor",se=this.getPrePoint(c,Y),je=R[qt];Object(o.s)(je)||(Ut=Et.getLinkPointByAnchor(je)),Ut=Ut||Et.getLinkPoint(se),Object(o.s)(Ut.index)||this.set(c+"AnchorIndex",Ut.index)}return Ut},f.prototype.getPrePoint=function(c,R){if(R&&R.length)return R[c==="source"?0:R.length-1];var Y=c==="source"?"target":"source";return this.getEndPoint(Y)},f.prototype.getEndPoint=function(c){var R=c+"Node",Y=xo[c]+"Point",ut=this.get(R);return ut?ut.get("model"):this.get(Y)},f.prototype.getControlPointsByCenter=function(c){var R=this.getEndPoint("source"),Y=this.getEndPoint("target"),ut=this.get("shapeFactory"),jt=c.type;return ut.getControlPoints(jt,{startPoint:R,endPoint:Y})},f.prototype.getEndCenter=function(c){var R=c+"Node",Y=xo[c]+"Point",ut=this.get(R);if(ut){var jt=ut.getBBox();return{x:jt.centerX,y:jt.centerY}}return this.get(Y)},f.prototype.init=function(){Nt.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},f.prototype.getShapeCfg=function(c){var R=this.get("linkCenter"),Y=Nt.prototype.getShapeCfg.call(this,c);if(R)Y.startPoint=this.getEndCenter("source"),Y.endPoint=this.getEndCenter("target");else{var ut=Y.controlPoints||this.getControlPointsByCenter(Y);Y.startPoint=this.getLinkPoint("source",c,ut),Y.endPoint=this.getLinkPoint("target",c,ut)}return Y.sourceNode=this.get("sourceNode"),Y.targetNode=this.get("targetNode"),Y},f.prototype.getModel=function(){var c=this.get("model"),R=this.get("sourceNode"),Y=this.get("targetNode");return R?delete c.sourceNode:c.source=this.get("startPoint"),Y?delete c.targetNode:c.target=this.get("endPoint"),Object(o.x)(c.source)||Object(o.w)(c.source)||(c.source=c.source.getID()),Object(o.x)(c.target)||Object(o.w)(c.target)||(c.target=c.target.getID()),c},f.prototype.setSource=function(c){this.setEnd("source",c),this.set("source",c)},f.prototype.setTarget=function(c){this.setEnd("target",c),this.set("target",c)},f.prototype.getSource=function(){return this.get("source")},f.prototype.getTarget=function(){return this.get("target")},f.prototype.updatePosition=function(){},f.prototype.update=function(c,R){R===void 0&&(R=!1);var Y=this.get("model"),ut=Y.visible,jt=c.visible;ut!==jt&&jt!==void 0&&this.changeVisibility(jt);var Ut=this.get("styles");if(c.stateStyles){var Et=c.stateStyles;Object(o.A)(Ut,Et),delete c.stateStyles}Object.assign(Y,c),this.updateShape(),this.afterUpdate(),this.clearCache()},f.prototype.destroy=function(){var c=this.get("sourceNode"),R=this.get("targetNode");c&&!c.destroyed&&c.removeEdge(this),R&&!R.destroyed&&R.removeEdge(this),Nt.prototype.destroy.call(this)},f}(so),hu=function(Nt){function f(){return Nt!==null&&Nt.apply(this,arguments)||this}return Object(W.b)(f,Nt),f.prototype.getNearestPoint=function(c,R){for(var Y=0,ut=c[0],jt=En(c[0],R),Ut=0;Ut<c.length;Ut++){var Et=c[Ut],qt=En(Et,R);qt<jt&&(ut=Et,jt=qt,Y=Ut)}return ut.anchorIndex=Y,ut},f.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},f.prototype.getEdges=function(){return this.get("edges")},f.prototype.getInEdges=function(){var c=this;return this.get("edges").filter(function(R){return R.get("target")===c})},f.prototype.getOutEdges=function(){var c=this;return this.get("edges").filter(function(R){return R.get("source")===c})},f.prototype.getNeighbors=function(c){var R=this,Y=this.get("edges");return c==="target"?Y.filter(function(ut){return ut.getSource()===R}).map(function(ut){return ut.getTarget()}):c==="source"?Y.filter(function(ut){return ut.getTarget()===R}).map(function(ut){return ut.getSource()}):Y.map(function(ut){return ut.getSource()===R?ut.getTarget():ut.getSource()})},f.prototype.getLinkPointByAnchor=function(c){return this.getAnchorPoints()[c]},f.prototype.getLinkPoint=function(c){var R,Y,ut=this.get("keyShape").get("type"),jt=this.get("type"),Ut=this.getBBox();jt==="combo"?(R=Ut.centerX||(Ut.maxX+Ut.minX)/2,Y=Ut.centerY||(Ut.maxY+Ut.minY)/2):(R=Ut.centerX,Y=Ut.centerY);var Et,qt=this.getAnchorPoints();switch(ut){case"circle":Et=Yt({x:R,y:Y,r:Ut.width/2},c);break;case"ellipse":Et=Zt({x:R,y:Y,rx:Ut.width/2,ry:Ut.height/2},c);break;default:Et=Dn(Ut,c)}var se=Et;return qt.length&&(se||(se=c),se=this.getNearestPoint(qt,se)),se||(se={x:R,y:Y}),se},f.prototype.getAnchorPoints=function(){var c=this.get("anchorPointsCache");if(!c){c=[];var R=this.get("shapeFactory"),Y=this.getBBox(),ut=this.get("model"),jt=this.getShapeCfg(ut),Ut=ut.type,Et=R.getAnchorPoints(Ut,jt)||[];Object(o.f)(Et,function(qt,se){var je={x:Y.minX+qt[0]*Y.width,y:Y.minY+qt[1]*Y.height,anchorIndex:se};c.push(je)}),this.set("anchorPointsCache",c)}return c},f.prototype.addEdge=function(c){this.get("edges").push(c)},f.prototype.lock=function(){this.set("locked",!0)},f.prototype.unlock=function(){this.set("locked",!1)},f.prototype.hasLocked=function(){return this.get("locked")},f.prototype.removeEdge=function(c){var R=this.getEdges(),Y=R.indexOf(c);Y>-1&&R.splice(Y,1)},f.prototype.clearCache=function(){this.set("bboxCache",null),this.set("anchorPointsCache",null)},f.prototype.isOnlyMove=function(c){if(!c)return!1;var R=!Object(o.s)(c.x),Y=!Object(o.s)(c.y),ut=Object.keys(c);return ut.length===1&&(R||Y)||ut.length===2&&R&&Y},f}(so),Wu=function(Nt){function f(){return Nt!==null&&Nt.apply(this,arguments)||this}return Object(W.b)(f,Nt),f.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},f.prototype.getShapeCfg=function(c){var R=this.get("styles"),Y=this.get("bbox");if(R&&Y){var ut=c,jt={r:Math.hypot(Y.height,Y.width)/2||me.defaultCombo.size[0]/2,width:Y.width||me.defaultCombo.size[0],height:Y.height||me.defaultCombo.size[1]};ut.style=Object(W.a)(Object(W.a)(Object(W.a)({},R),c.style),jt);var Ut=c.padding||me.defaultCombo.padding;return Object(o.t)(Ut)?(jt.r+=Ut,jt.width+=2*Ut,jt.height+=2*Ut):(jt.r+=Ut[0],jt.width+=Ut[1]+Ut[3]||2*Ut[1],jt.height+=Ut[0]+Ut[2]||2*Ut[0]),this.set("sizeCache",jt),ut}return c},f.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var c=this.get("keyShape"),R=this.get("group"),Y=Xo(c,R);Y.centerX=(Y.minX+Y.maxX)/2,Y.centerY=(Y.minY+Y.maxY)/2;var ut=this.get("sizeCache"),jt=this.get("bboxCache")||{},Ut=jt.x,Et=jt.x;return ut?(c.get("type")==="circle"?(Y.width=2*ut.r,Y.height=2*ut.r):(Y.width=ut.width,Y.height=ut.height),Y.minX=Y.centerX-Y.width/2,Y.minY=Y.centerY-Y.height/2,Y.maxX=Y.centerX+Y.width/2,Y.maxY=Y.centerY+Y.height/2):(Y.width=Y.maxX-Y.minX,Y.height=Y.maxY-Y.minY,Y.centerX=(Y.minX+Y.maxX)/2,Y.centerY=(Y.minY+Y.maxY)/2),Y.x=Y.minX,Y.y=Y.minY,Y.x===Ut&&Y.y===Et||this.set("anchorPointsCache",null),Y}},f.prototype.getChildren=function(){return{nodes:this.getNodes(),combos:this.getCombos()}},f.prototype.getNodes=function(){return this.get("nodes")},f.prototype.getCombos=function(){return this.get("combos")},f.prototype.addChild=function(c){switch(c.getType()){case"node":this.addNode(c);break;case"combo":this.addCombo(c);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},f.prototype.addCombo=function(c){return this.get("combos").push(c),!0},f.prototype.addNode=function(c){return this.get("nodes").push(c),!0},f.prototype.removeChild=function(c){switch(c.getType()){case"node":this.removeNode(c);break;case"combo":this.removeCombo(c);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},f.prototype.removeCombo=function(c){if(c){var R=this.getCombos(),Y=R.indexOf(c);return Y>-1&&(R.splice(Y,1),!0)}},f.prototype.removeNode=function(c){if(c){var R=this.getNodes(),Y=R.indexOf(c);return Y>-1&&(R.splice(Y,1),!0)}},f.prototype.isOnlyMove=function(c){return!1},f.prototype.getBBox=function(){return this.set("bboxCanvasCache",null),this.calculateCanvasBBox()},f.prototype.clearCache=function(){this.set("bboxCache",null),this.set("bboxCanvasCache",null),this.set("anchorPointsCache",null)},f.prototype.destroy=function(){if(!this.destroyed){var c=this.get("animate"),R=this.get("group");c&&R.stopAnimate(),this.clearCache(),this.set("sizeCache",null),this.set("bbox",null),R.remove(),this._cfg=null,this.destroyed=!0}},f}(hu),ui=function(){function Nt(f){this.graph=f,this.destroyed=!1}return Nt.prototype.addItem=function(f,c){var R=this,Y=this.graph,ut=f==="vedge"?"edge":f,jt=Y.get(ut+"Group")||Y.get("group"),Ut=Object(o.I)(ut),Et=null,qt=Y.get(ut+Object(o.I)("stateStyles"))||{},se=Y.get("default"+Ut);c.stateStyles&&(qt=c.stateStyles),se&&Object(o.f)(se,function(Jn,Ar){Object(o.v)(Jn)&&!Object(o.m)(Jn)?c[Ar]=Object(o.e)({},Jn,c[Ar]):Object(o.m)(Jn)?c[Ar]=c[Ar]||Object(o.c)(se[Ar]):c[Ar]=c[Ar]||se[Ar]});var je=Y.get(ut+"Mapper");if(je){var Ie=je(c);Ie.stateStyles&&(qt=Ie.stateStyles,delete Ie.stateStyles),Object(o.f)(Ie,function(Jn,Ar){Object(o.v)(Jn)&&!Object(o.m)(Jn)?c[Ar]=Object(o.e)({},c[Ar],Jn):c[Ar]=Ie[Ar]||c[Ar]})}if(Y.emit("beforeadditem",{type:f,model:c}),f==="edge"||f==="vedge"){var Ue=void 0,Ke=void 0;if(Ue=c.source,Ke=c.target,Ue&&Object(o.x)(Ue)&&(Ue=Y.findById(Ue)),Ke&&Object(o.x)(Ke)&&(Ke=Y.findById(Ke)),!Ue||!Ke)return void console.warn("The source or target node of edge "+c.id+" does not exist!");Ue.getType&&Ue.getType()==="combo"&&(c.isComboEdge=!0),Ke.getType&&Ke.getType()==="combo"&&(c.isComboEdge=!0),Et=new co({model:c,source:Ue,target:Ke,styles:qt,linkCenter:Y.get("linkCenter"),group:jt.addGroup()})}else if(f==="node")Et=new hu({model:c,styles:qt,group:jt.addGroup()});else if(f==="combo"){var An=c.children,Bn=us(An,Y);c.x=Bn.x||c.x||100*Math.random(),c.y=Bn.y||c.y||100*Math.random();var Wn=jt.addGroup();Wn.setZIndex(c.depth);var Yn=(Et=new Wu({model:c,styles:qt,bbox:Bn,group:Wn})).getModel();(An||[]).forEach(function(Jn){var Ar=Y.findById(Jn.id);Et.addChild(Ar),Jn.depth=Yn.depth+2}),c.collapsed&&setTimeout(function(){Y.collapseCombo(Et),R.updateCombo(Et,[])},250)}if(Et)return Y.get(f+"s").push(Et),Y.get("itemMap")[Et.get("id")]=Et,Y.emit("afteradditem",{item:Et,model:c}),Et},Nt.prototype.updateItem=function(f,c){var R,Y,ut=this.graph;if(Object(o.x)(f)&&(f=ut.findById(f)),f&&!f.destroyed){var jt="";f.getType&&(jt=f.getType());var Ut=ut.get(jt+"Mapper"),Et=f.getModel(),qt=f.isOnlyMove(c);if(Ut){var se=Ut(Object(o.e)({},Et,c)),je=Object(o.e)({},Et,se,c);se.stateStyles&&(f.set("styles",je.stateStyles),delete je.stateStyles),Object(o.f)(je,function(Yn,Jn){c[Jn]=Yn})}else Object(o.f)(c,function(Yn,Jn){Et[Jn]&&Object(o.v)(Yn)&&!Object(o.m)(Yn)&&(c[Jn]=Object(W.a)(Object(W.a)({},Et[Jn]),c[Jn]))});if(ut.emit("beforeupdateitem",{item:f,cfg:c}),jt==="edge"){if(c.source){var Ie=c.source;Object(o.x)(Ie)&&(Ie=ut.findById(Ie)),f.setSource(Ie)}if(c.target){var Ue=c.target;Object(o.x)(Ue)&&(Ue=ut.findById(Ue)),f.setTarget(Ue)}f.update(c)}if(jt==="node"||jt==="combo"){f.update(c,qt);var Ke=f.getEdges(),An=Rs(c);if(An&&jt==="node")Object(o.f)(Ke,function(Yn){Yn.refresh()});else if(An&&jt==="combo"){var Bn=f.get("shapeFactory"),Wn=Et.type||"circle";(Et.animate===void 0||c.animate===void 0?(Y=(R=Bn[Wn])===null||R===void 0?void 0:R.options)===null||Y===void 0?void 0:Y.animate:Et.animate||c.animate)?setTimeout(function(){if(f&&!f.destroyed){var Yn=f.getKeyShape();Yn&&!Yn.destroyed&&Object(o.f)(Ke,function(Jn){Jn&&!Jn.destroyed&&Jn.refresh()})}},201):Object(o.f)(Ke,function(Yn){Yn.refresh()})}}ut.emit("afterupdateitem",{item:f,cfg:c})}},Nt.prototype.updateCombo=function(f,c){var R,Y,ut=this.graph;if(Object(o.x)(f)&&(f=ut.findById(f)),f&&!f.destroyed){var jt=us(c,ut);f.set("bbox",jt),f.update({x:jt.x,y:jt.y});var Ut=f.getEdges()||[],Et=Ut.length,qt=f.getModel(),se=f.get("shapeFactory"),je=qt.type||"circle";if(qt.animate===void 0?(Y=(R=se[je])===null||R===void 0?void 0:R.options)===null||Y===void 0?void 0:Y.animate:qt.animate)setTimeout(function(){if(f&&!f.destroyed){var Ke=f.getKeyShape();if(Ke&&!Ke.destroyed)for(var An=0;An<Et;An++){var Bn=Ut[An];Bn&&!Bn.destroyed&&Bn.refresh()}}},201);else for(var Ie=0;Ie<Et;Ie++){var Ue=Ut[Ie];Ue&&!Ue.destroyed&&Ue.refresh()}}},Nt.prototype.collapseCombo=function(f){var c=this.graph;Object(o.x)(f)&&(f=c.findById(f));var R=f.getChildren();R.nodes.forEach(function(Y){c.hideItem(Y)}),R.combos.forEach(function(Y){c.hideItem(Y)})},Nt.prototype.expandCombo=function(f){var c=this.graph;Object(o.x)(f)&&(f=c.findById(f));var R=f.getChildren();R.nodes.forEach(function(Y){c.showItem(Y)}),R.combos.forEach(function(Y){Y.getModel().collapsed?Y.show():c.showItem(Y)})},Nt.prototype.removeItem=function(f){var c=this,R=this.graph;if(Object(o.x)(f)&&(f=R.findById(f)),f&&!f.destroyed){var Y=Object(o.c)(f.getModel());R.emit("beforeremoveitem",{item:Y});var ut="";f.getType&&(ut=f.getType());var jt=R.get(ut+"s"),Ut=jt.indexOf(f);if(Ut>-1&&jt.splice(Ut,1),ut==="edge"){var Et=R.get("v"+ut+"s"),qt=Et.indexOf(f);qt>-1&&Et.splice(qt,1)}var se=f.get("id");delete R.get("itemMap")[se];var je=R.get("comboTrees"),Ie=f.get("id");if(ut==="node"){var Ue=f.getModel().comboId;if(je){var Ke=je,An=!1;je.forEach(function(ur){An||Ho(ur,function(mr){if(mr.id===Ie&&Ke){var ii=Ke.indexOf(mr);return Ke.splice(ii,1),An=!0,!1}return Ke=mr.children,!0})})}for(var Bn=(Ar=f.getEdges()).length-1;Bn>=0;Bn--)R.removeItem(Ar[Bn],!1);Ue&&R.updateCombo(Ue)}else if(ut==="combo"){var Wn,Yn=f.getModel().parentId,Jn=!1;(je||[]).forEach(function(ur){Jn||Ho(ur,function(mr){return mr.id!==Ie||(Wn=mr,Jn=!0,!1)})}),Wn.removed=!0,Wn&&Wn.children&&Wn.children.forEach(function(ur){c.removeItem(ur.id)});var Ar;for(Bn=(Ar=f.getEdges()).length;Bn>=0;Bn--)R.removeItem(Ar[Bn],!1);Yn&&R.updateCombo(Yn)}f.destroy(),R.emit("afterremoveitem",{item:Y})}},Nt.prototype.setItemState=function(f,c,R){var Y=this.graph,ut=c;Object(o.x)(R)&&(ut=c+":"+R),f.hasState(ut)===R&&R||Object(o.x)(R)&&f.hasState(ut)||(Y.emit("beforeitemstatechange",{item:f,state:ut,enabled:R}),f.setState(c,R),Y.autoPaint(),Y.emit("afteritemstatechange",{item:f,state:ut,enabled:R}))},Nt.prototype.priorityState=function(f,c){var R=this.graph,Y=f;Object(o.x)(f)&&(Y=R.findById(f)),this.setItemState(Y,c,!1),this.setItemState(Y,c,!0)},Nt.prototype.clearItemStates=function(f,c){var R=this.graph;Object(o.x)(f)&&(f=R.findById(f)),R.emit("beforeitemstatesclear",{item:f,states:c}),f.clearStates(c),R.emit("afteritemstatesclear",{item:f,states:c})},Nt.prototype.refreshItem=function(f){var c=this.graph;Object(o.x)(f)&&(f=c.findById(f)),c.emit("beforeitemrefresh",{item:f}),f.refresh(),c.emit("afteritemrefresh",{item:f})},Nt.prototype.addCombos=function(f,c){var R=this,Y=this.graph;(f||[]).forEach(function(jt){Ta(jt,function(Ut){var Et;return c.forEach(function(qt){qt.id===Ut.id&&(qt.children=Ut.children,qt.depth=Ut.depth,Et=qt)}),Et&&R.addItem("combo",Et),!0})});var ut=Y.get("comboGroup");ut&&ut.sort()},Nt.prototype.changeItemVisibility=function(f,c){var R=this,Y=this.graph;if(Object(o.x)(f)&&(f=Y.findById(f)),f){if(Y.emit("beforeitemvisibilitychange",{item:f,visible:c}),f.changeVisibility(c),f.getType&&f.getType()==="node"){var ut=f.getEdges();Object(o.f)(ut,function(se){(!c||se.get("source").isVisible()&&se.get("target").isVisible())&&R.changeItemVisibility(se,c)})}else if(f.getType&&f.getType()==="combo"){var jt=Y.get("comboTrees"),Ut=f.get("id"),Et=[],qt=!1;(jt||[]).forEach(function(se){qt||se.children&&se.children.length!==0&&Ho(se,function(je){return je.id!==Ut||(Et=je.children,qt=!0,!1)})}),Et&&Et.forEach(function(se){var je=Y.findById(se.id);R.changeItemVisibility(je,c)}),ut=f.getEdges(),Object(o.f)(ut,function(se){(!c||se.get("source").isVisible()&&se.get("target").isVisible())&&R.changeItemVisibility(se,c)})}return Y.emit("afteritemvisibilitychange",{item:f,visible:c}),f}console.warn("The item to be shown or hidden does not exist!")},Nt.prototype.destroy=function(){this.graph=null,this.destroyed=!0},Nt}(),Jr=null,Gs=function(){function Nt(f){this.graph=f,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return Nt.checkCache=function(f,c,R){if(R[c]){var Y=R[c].indexOf(f);Y>=0&&R[c].splice(Y,1)}},Nt.cacheState=function(f,c,R){R[c]||(R[c]=[]),R[c].push(f)},Nt.prototype.updateState=function(f,c,R){var Y=this,ut=Nt.checkCache,jt=Nt.cacheState;if(!f.destroyed){var Ut=this.cachedStates,Et=Ut.enabled,qt=Ut.disabled;R?(ut(f,c,qt),jt(f,c,Et)):(ut(f,c,Et),jt(f,c,qt)),Jr&&clearTimeout(Jr),Jr=setTimeout(function(){Jr=null,Y.updateGraphStates()},16)}},Nt.prototype.updateStates=function(f,c,R){var Y=this;Object(o.x)(c)?this.updateState(f,c,R):c.forEach(function(ut){Y.updateState(f,ut,R)})},Nt.prototype.updateGraphStates=function(){var f=this.graph.get("states"),c=this.cachedStates;Object(o.f)(c.disabled,function(R,Y){f[Y]&&(f[Y]=f[Y].filter(function(ut){return R.indexOf(ut)<0&&!R.destroyed}))}),Object(o.f)(c.enabled,function(R,Y){if(f[Y]){var ut={};f[Y].forEach(function(jt){jt.destroyed||(ut[jt.get("id")]=!0)}),R.forEach(function(jt){if(!jt.destroyed){var Ut=jt.get("id");ut[Ut]||(ut[Ut]=!0,f[Y].push(jt))}})}else f[Y]=R}),this.graph.emit("graphstatechange",{states:f}),this.cachedStates={enabled:{},disabled:{}}},Nt.prototype.destroy=function(){this.graph=null,this.cachedStates=null,Jr&&clearTimeout(Jr),Jr=null,this.destroyed=!0},Nt}(),Mu=function(f,c){return f&&c?f.replace(/\\?\{([^{}]+)\}/g,function(R,Y){if(R.charAt(0)==="\\")return R.slice(1);var ut=c[Y];return ut===0&&(ut="0"),ut||""}):f},Au=function(f){var c=[];if(f.length<2)throw new Error("point length must largn than 2, now it's "+f.length);for(var R=0,Y=f;R<Y.length;R++){var ut=Y[R],jt=ut.x,Ut=ut.y;c.push(jt),c.push(Ut)}var Et=Object(ct.a)(c);return Et.unshift(["M",f[0].x,f[0].y]),Et},eu=function(f,c,R,Y){R===void 0&&(R=0),Y===void 0&&(Y=0);var ut={x:(1-R)*f.x+R*c.x,y:(1-R)*f.y+R*c.y},jt=[0,0];Jt.c.normalize(jt,[c.x-f.x,c.y-f.y]),jt&&(jt[0]||jt[1])||(jt=[0,0]);var Ut=[-jt[1]*Y,jt[0]*Y];return ut.x+=Ut[0],ut.y+=Ut[1],ut},lo=function(f,c){var R=f.length;if(!R)return"";for(var Y="",ut=0;ut<R;ut++){var jt=f[ut];Y+=Mu(ut===0?"M{x} {y}":"L{x} {y}",jt)}return c&&(Y+="Z"),Y},tc=function(f){var c=[];return f.forEach(function(R){if(R[0]!=="A")for(var Y=1;Y<R.length;Y+=2)c.push([R[Y],R[Y+1]]);else{var ut=R.length;c.push([R[ut-2],R[ut-1]])}}),c},ds=function(f){if(f.length<2)throw new Error("point length must largn than 2, now it's "+f.length);var c=f[0],R=f[1],Y=f[f.length-1],ut=f[f.length-2];f.unshift(Y),f.unshift(ut),f.push(c),f.push(R);for(var jt=[],Ut=1;Ut<f.length-2;Ut+=1){var Et=f[Ut-1].x,qt=f[Ut-1].y,se=f[Ut].x,je=f[Ut].y,Ie=f[Ut+1].x,Ue=f[Ut+1].y,Ke=se+(Ie-Et)/6,An=je+(Ue-qt)/6,Bn=Ie-((Ut!==f.length-2?f[Ut+2].x:Ie)-se)/6,Wn=Ue-((Ut!==f.length-2?f[Ut+2].y:Ue)-je)/6;jt.push(["C",Ke,An,Bn,Wn,Ie,Ue])}return jt.unshift(["M",Y.x,Y.y]),jt},Us=function(f,c){return Jt.c.scale([0,0],Jt.c.normalize([0,0],f),c)},Uo=function(f,c){var R=[f[1]-c[1],c[0]-f[0]],Y=Math.sqrt(R[0]*R[0]+R[1]*R[1]);if(Y===0)throw new Error("p0 should not be equal to p1");return[R[0]/Y,R[1]/Y]},bc=function(f,c){return[c[0]-f[0],c[1]-f[1]]};function nu(Nt,f){if(!Nt||Nt.length<1)return"";if(Nt.length===1)return function(Et){var qt=[Et[0][0],Et[0][1]-f],se=[Et[0][0],Et[0][1]+f];return"M "+qt+" A "+f+","+f+",0,0,0,"+se+" A "+f+","+f+",0,0,0,"+qt}(Nt);if(Nt.length===2)return function(Et){var qt=Jt.c.scale([0,0],Uo(Et[0],Et[1]),f),se=Jt.c.scale([0,0],qt,-1),je=Jt.c.add([0,0],Et[0],qt),Ie=Jt.c.add([0,0],Et[1],qt),Ue=Jt.c.add([0,0],Et[1],se),Ke=Jt.c.add([0,0],Et[0],se);return"M "+je+" L "+Ie+" A "+[f,f,"0,0,0",Ue].join(",")+" L "+Ke+" A "+[f,f,"0,0,0",je].join(",")}(Nt);for(var c=new Array(Nt.length),R=0;R<c.length;++R){var Y=R===0?Nt[Nt.length-1]:Nt[R-1],ut=Nt[R],jt=Jt.c.scale([0,0],Uo(Y,ut),f);c[R]=[Jt.c.add([0,0],Y,jt),Jt.c.add([0,0],ut,jt)]}var Ut="A "+[f,f,"0,0,0,"].join(",");return(c=c.map(function(Et,qt){var se="";return qt===0&&(se="M "+c[c.length-1][1]+" "),se+=Ut+Et[0]+" L "+Et[1]})).join(" ")}function gs(Nt,f){var c,R,Y,ut=Nt.length;if(!Nt||ut<1)return"";if(ut===1)return R=[(c=Nt)[0][0],c[0][1]-f],Y=[c[0][0],c[0][1]+f],"M "+R+" A "+[f,f,"0,0,0",Y].join(",")+" A "+[f,f,"0,0,0",R].join(",");if(ut===2)return function(se){var je=bc(se[0],se[1]),Ie=Us(je,f),Ue=Jt.c.add([0,0],se[0],Jt.c.scale([0,0],Ie,-1)),Ke=Jt.c.add([0,0],se[1],Ie),An=1.2*f,Bn=Us(Jt.c.normalize([0,0],je),An),Wn=Jt.c.scale([0,0],Bn,-1),Yn=Jt.c.add([0,0],Ue,Wn),Jn=Jt.c.add([0,0],Ke,Wn),Ar=Jt.c.add([0,0],Ue,Bn);return"M "+Ue+" C "+[Yn,Jn,Ke].join(",")+" S "+[Ar,Ue].join(",")+" Z"}(Nt);for(var jt=Nt.map(function(se,je){var Ie=Nt[(je+1)%ut];return{p:se,v:Jt.c.normalize([0,0],bc(se,Ie))}}),Ut=0;Ut<jt.length;++Ut){var Et=Ut>0?Ut-1:ut-1,qt=Jt.c.normalize([0,0],Jt.c.add([0,0],jt[Et].v,Jt.c.scale([0,0],jt[Ut].v,-1)));jt[Ut].p=Jt.c.add([0,0],jt[Ut].p,Jt.c.scale([0,0],qt,f))}return jt.map(function(se){var je=se.p;return{x:je[0],y:je[1]}})}var ks=function(f,c,R){return(f.y-R.y)*(c.x-R.x)-(f.x-R.x)*(c.y-R.y)},ru=function(f){var c=f.map(function(jt){return{x:jt.getModel().x,y:jt.getModel().y}});if(c.sort(function(jt,Ut){return jt.x===Ut.x?jt.y-Ut.y:jt.x-Ut.x}),c.length===1)return c;for(var R=[],Y=0;Y<c.length;Y++){for(;R.length>=2&&ks(R[R.length-2],R[R.length-1],c[Y])<=0;)R.pop();R.push(c[Y])}var ut=[];for(Y=c.length-1;Y>=0;Y--){for(;ut.length>=2&&ks(ut[ut.length-2],ut[ut.length-1],c[Y])<=0;)ut.pop();ut.push(c[Y])}return ut.pop(),R.pop(),R.concat(ut)},xe={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function rn(Nt,f,c){var R=!1,Y=function(Et,qt){return f.cells[Et+qt*f.width]},ut=function(Et,qt){var se=0;return Y(Et-1,qt-1)>=c&&(se+=1),Y(Et,qt-1)>c&&(se+=2),Y(Et-1,qt)>c&&(se+=4),Y(Et,qt)>c&&(se+=8),se},jt=function(Et,qt){for(var se,je,Ie=Et,Ue=qt,Ke=0;Ke<f.width*f.height;Ke++){if(se=Ie,je=Ue,Nt.findIndex(function(Bn){return Bn.x===Ie&&Bn.y===Ue})>-1){if(Nt[0].x===Ie&&Nt[0].y===Ue)return!0}else Nt.push({x:Ie,y:Ue});var An=ut(Ie,Ue);switch(An){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:Ie++;break;case 12:case 14:case 4:Ie--;break;case 6:se===0&&(je===-1?Ie-=1:Ie+=1);break;case 1:case 13:case 5:Ue--;break;case 9:se===1&&(je===0?Ue-=1:Ue+=1);break;case 10:case 8:case 11:Ue++;break;default:return console.warn("Marching squares invalid state: "+An),!0}}};this.march=function(){for(var Ut=0;Ut<f.width&&!R;Ut+=1)for(var Et=0;Et<f.height&&!R;Et+=1)Y(Ut,Et)>c&&ut(Ut,Et)!==15&&(R=jt(Ut,Et));return R}}var bn=function(f,c){var R=Number.POSITIVE_INFINITY,Y=null;return f.forEach(function(ut){var jt=Ve(ut,c);jt>=0&&jt<R&&(Y=ut,R=jt)}),Y};function Ge(Nt,f,c,R,Y){var ut=function(jt,Ut,Et){var qt=null,se=Number.POSITIVE_INFINITY;return Ut.forEach(function(je){var Ie={x:jt.getModel().x,y:jt.getModel().y},Ue={x:je.getModel().x,y:je.getModel().y},Ke=Be(Ie,Ue),An=new de(Ie.x,Ie.y,Ue.x,Ue.y),Bn=Et.reduce(function(Wn,Yn){return Ve(Yn,An)>0?Wn+1:Wn},0);Ke*Math.pow(Bn+1,2)<se&&(qt=je,se=Ke*Math.pow(Bn+1,2))}),qt}(Nt,c,f);return ut===null?[]:function(jt){for(var Ut=[];jt.length>0;){var Et=jt.pop();if(jt.length===0){Ut.push(Et);break}var qt=jt.pop(),se=new de(Et.x1,Et.y1,qt.x2,qt.y2);bn(f,se)?(Ut.push(Et),jt.push(qt)):jt.push(se)}return Ut}(function(jt,Ut,Et,qt){var se=[],je=[];je.push(jt);for(var Ie=!0,Ue=0,Ke=function(Yn,Jn){var Ar=!1;return Jn.forEach(function(ur){Ar||(On(Yn,{x:ur.x1,y:ur.y1})||On(Yn,{x:ur.x2,y:ur.y2}))&&(Ar=!0)}),Ar},An=function(Yn,Jn){for(var Ar=0,ur=Jn;Ar<ur.length;Ar++){var mr=ur[Ar].getBBox(),ii=[[mr.x,mr.y],[mr.x+mr.width,mr.y],[mr.x,mr.y+mr.height],[mr.x+mr.width,mr.y+mr.height]];if(te(ii,Yn.x,Yn.y))return!0}return!1};Ie&&Ue<Et;){Ie=!1;for(var Bn=function(){var Yn=je.pop(),Jn=bn(Ut,Yn);if(Jn){var Ar=Je(Jn,Yn),ur=Ar[0];if(Ar[1]===2){var mr=function(Li){for(var ci=qt,Yi=Ln(Jn,ci,ur,Li),qa=Ke(Yi,je)||Ke(Yi,se),wa=An(Yi,Ut);!qa&&wa&&ci>=1;)Yi=Ln(Jn,ci/=1.5,ur,Li),qa=Ke(Yi,je)||Ke(Yi,se),wa=An(Yi,Ut);!Yi||qa||Li&&wa||(je.push(new de(Yn.x1,Yn.y1,Yi.x,Yi.y)),je.push(new de(Yi.x,Yi.y,Yn.x2,Yn.y2)),Ie=!0)};mr(!0),Ie||mr(!1)}}Ie||se.push(Yn),Ue+=1};!Ie&&je.length;)Bn()}for(;je.length;)se.push(je.pop());return se}(new de(Nt.getModel().x,Nt.getModel().y,ut.getModel().x,ut.getModel().y),f,R,Y))}var Fe=function(f,c,R){var Y=Object.assign(xe,R),ut=cn(f.map(function(mr){return{x:mr.getModel().x,y:mr.getModel().y}}));f=f.sort(function(mr,ii){return Be({x:mr.getModel().x,y:mr.getModel().y},ut)-Be({x:ii.getModel().x,y:ii.getModel().y},ut)});var jt=[],Ut=[];f.forEach(function(mr){Ge(mr,c,jt,Y.maxRoutingIterations,Y.morphBuffer).forEach(function(ii){Ut.push(ii)}),jt.push(mr)});for(var Et,qt,se,je,Ie,Ue=function(mr,ii,Li){var ci={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},Yi=[];mr.forEach(function(ga){Yi.push(ga.getBBox())}),ii.forEach(function(ga){Yi.push(ga.getBBox())});for(var qa=0,wa=Yi;qa<wa.length;qa++){var fo=wa[qa];ci.minX=(fo.minX<ci.minX?fo.minX:ci.minX)-Li,ci.minY=(fo.minY<ci.minY?fo.minY:ci.minY)-Li,ci.maxX=(fo.maxX>ci.maxX?fo.maxX:ci.maxX)+Li,ci.maxY=(fo.maxY>ci.maxY?fo.maxY:ci.maxY)+Li}return ci.width=ci.maxX-ci.minX,ci.height=ci.maxY-ci.minY,ci.x=ci.minX,ci.y=ci.minY,ci}(f,Ut,Y.nodeR0),Ke=(Et=Ue.width,qt=Ue.height,se=Y.pixelGroupSize,je=Math.ceil(Et/se),Ie=Math.ceil(qt/se),{cells:new Float32Array(Math.max(0,je*Ie)).fill(0),width:je,height:Ie}),An=[],Bn=[],Wn=0;Wn<Y.maxMarchingIterations;Wn++)if(wn(f,c,Ut,Ue,Ke,Y),Bn=[],new rn(An=[],Ke,Y.threshold).march()){var Yn=An.map(function(mr){return{x:Math.round(mr.x*Y.pixelGroupSize+Ue.minX),y:Math.round(mr.y*Y.pixelGroupSize+Ue.minY)}});if(Yn){var Jn=Yn.length;if(Y.skip>1)for(Jn=Math.floor(Yn.length/Y.skip);Jn<3&&Y.skip>1;)Y.skip-=1,Jn=Math.floor(Yn.length/Y.skip);for(var Ar=0,ur=0;ur<Jn;ur+=1,Ar+=Y.skip)Bn.push({x:Yn[Ar].x,y:Yn[Ar].y})}if(Bn&&function(){for(var mr=0,ii=f;mr<ii.length;mr++){var Li=ii[mr],ci=Bn.map(function(Yi){return[Yi.x,Yi.y]});if(!te(ci,Li.getBBox().centerX,Li.getBBox().centerY))return!1}return!0}())return Bn;if(Y.threshold*=.9,Wn<=.5*Y.maxMarchingIterations)Y.memberInfluenceFactor*=1.2,Y.edgeInfluenceFactor*=1.2;else{if(!(Y.nonMemberInfluenceFactor!==0&&c.length>0))break;Y.nonMemberInfluenceFactor*=.8}}return Bn};function wn(Nt,f,c,R,Y,ut){function jt(Ie,Ue){var Ke=Math.floor((Ie-Ue)/ut.pixelGroupSize);return Ke<0?0:Ke}function Ut(Ie,Ue){return Ie*ut.pixelGroupSize+Ue}var Et=(ut.nodeR0-ut.nodeR1)*(ut.nodeR0-ut.nodeR1),qt=(ut.edgeR0-ut.edgeR1)*(ut.edgeR0-ut.edgeR1),se=function(Ue,Ke){return[Math.min(jt(Ue.minX,Ke+R.minX),Y.width),Math.min(jt(Ue.minY,Ke+R.minY),Y.height),Math.min(jt(Ue.maxX,-Ke+R.minX),Y.width),Math.min(jt(Ue.maxY,-Ke+R.minY),Y.height)]},je=function(Ue,Ke){for(var An=Ue.getBBox(),Bn=se(An,ut.nodeR1),Wn=Bn[0],Yn=Bn[1],Jn=Bn[2],Ar=Bn[3],ur=Yn;ur<Ar;ur+=1)for(var mr=Wn;mr<Jn;mr+=1)if(!(Ke<0&&Y[mr+ur*Y.width]<=0)){var ii=Ut(mr,R.minX),Li=Ut(ur,R.minY),ci=pn({x:ii,y:Li},{x:An.minX,y:An.minY,width:An.width,height:An.height});if(ci<Math.pow(ut.nodeR1,2)){var Yi=Math.sqrt(ci)-ut.nodeR1;Y.cells[mr+ur*Y.width]+=Ke*Yi*Yi}}};ut.nodeInfluenceFactor&&Nt.forEach(function(Ie){je(Ie,ut.nodeInfluenceFactor/Et)}),ut.edgeInfluenceFactor&&c.forEach(function(Ie){(function(Ue,Ke){for(var An=Ue.getBBox(),Bn=se(An,ut.edgeR1),Wn=Bn[0],Yn=Bn[1],Jn=Bn[2],Ar=Bn[3],ur=Yn;ur<Ar;ur+=1)for(var mr=Wn;mr<Jn;mr+=1)if(!(Ke<0&&Y.cells[mr+ur*Y.width]<=0)){var ii=Ut(mr,R.minX),Li=Ut(ur,R.minY),ci=Mn({x:ii,y:Li},Ue);if(ci<Math.pow(ut.edgeR1,2)){var Yi=Math.sqrt(ci)-ut.edgeR1;Y.cells[mr+ur*Y.width]+=Ke*Yi*Yi}}})(Ie,ut.edgeInfluenceFactor/qt)}),ut.negativeNodeInfluenceFactor&&f.forEach(function(Ie){je(Ie,ut.negativeNodeInfluenceFactor/Et)})}function Ln(Nt,f,c,R){var Y=Nt.getBBox(),ut=c[0],jt=c[1],Ut=c[2],Et=c[3],qt={topLeft:{x:Y.minX-f,y:Y.minY-f},topRight:{x:Y.maxX+f,y:Y.minY-f},bottomLeft:{x:Y.minX-f,y:Y.maxY+f},bottomRight:{x:Y.maxX+f,y:Y.maxY+f}},se=Y.height*Y.width;function je(Ie,Ue){return Y.width*(.5*(Ie.y-Y.minY+(Ue.y-Y.minY)))}if(jt)return ut?R?qt.topLeft:qt.bottomRight:Ut?R?qt.bottomLeft:qt.topRight:je(jt,Et)<.5*se?jt.y>Et.y?R?qt.topLeft:qt.bottomRight:R?qt.topRight:qt.bottomLeft:jt.y<Et.y?R?qt.bottomLeft:qt.topRight:R?qt.bottomRight:qt.topLeft;if(Et){if(ut)return R?qt.topRight:qt.bottomLeft;if(Ut)return R?qt.bottomRight:qt.topLeft}return je(ut,Ut)<.5*se?ut.x>Ut.x?R?qt.topLeft:qt.bottomRight:R?qt.bottomLeft:qt.topRight:ut.x<Ut.x?R?qt.topRight:qt.bottomLeft:R?qt.bottomRight:qt.topLeft}var Ze=function(){function Nt(f,c){this.cfg=Object(o.e)(this.getDefaultCfg(),c),this.graph=f,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(R){return Object(o.x)(R)?f.findById(R):R}),this.nonMembers=this.cfg.nonMembers.map(function(R){return Object(o.x)(R)?f.findById(R):R}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return Nt.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},Nt.prototype.setPadding=function(){var f=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+f:10+f,this.cfg.bubbleCfg={nodeR0:this.padding-f,nodeR1:this.padding-f,morphBuffer:this.padding-f}},Nt.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},Nt.prototype.calcPath=function(f,c){var R,Y,ut;switch(this.type){case"round-convex":ut=nu((R=ru(f)).map(function(jt){return[jt.x,jt.y]}),this.padding),Y=Object(ct.b)(ut);break;case"smooth-convex":(R=ru(f)).length===2?(ut=nu(R.map(function(jt){return[jt.x,jt.y]}),this.padding),Y=Object(ct.b)(ut)):R.length>2&&(ut=gs(R.map(function(jt){return[jt.x,jt.y]}),this.padding),Y=ds(ut));break;case"bubble":Y=(R=Fe(f,c,this.cfg.bubbleCfg)).length>=2&&ds(R)}return Y},Nt.prototype.render=function(){this.group.addShape("path",{attrs:Object(W.a)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},Nt.prototype.addMember=function(f){if(f){Object(o.x)(f)&&(f=this.graph.findById(f)),this.members.push(f);var c=this.nonMembers.indexOf(f);return c>-1&&this.nonMembers.splice(c,1),this.updateData(this.members,this.nonMembers),!0}},Nt.prototype.addNonMember=function(f){if(f){Object(o.x)(f)&&(f=this.graph.findById(f)),this.nonMembers.push(f);var c=this.members.indexOf(f);return c>-1&&this.members.splice(c,1),this.updateData(this.members,this.nonMembers),!0}},Nt.prototype.removeMember=function(f){if(f){Object(o.x)(f)&&(f=this.graph.findById(f));var c=this.members.indexOf(f);return c>-1&&(this.members.splice(c,1),this.updateData(this.members,this.nonMembers),!0)}},Nt.prototype.removeNonMember=function(f){if(f){Object(o.x)(f)&&(f=this.graph.findById(f));var c=this.nonMembers.indexOf(f);return c>-1&&(this.nonMembers.splice(c,1),this.updateData(this.members,this.nonMembers),!0)}},Nt.prototype.updateData=function(f,c){var R=this;this.group.findById(this.id).remove(),f&&(this.members=f.map(function(Y){return Object(o.x)(Y)?R.graph.findById(Y):Y})),c&&(this.nonMembers=c.map(function(Y){return Object(o.x)(Y)?R.graph.findById(Y):Y})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},Nt.prototype.updateStyle=function(f){this.group.findById(this.id).attr(Object(W.a)({},f))},Nt.prototype.updateCfg=function(f){var c=this;this.cfg=Object(o.e)(this.cfg,f),this.id=this.cfg.id,this.group=this.cfg.group,f.members&&(this.members=this.cfg.members.map(function(R){return Object(o.x)(R)?c.graph.findById(R):R})),f.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(R){return Object(o.x)(R)?c.graph.findById(R):R})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},Nt.prototype.contain=function(f){var c,R,Y=this,ut=(c=Object(o.x)(f)?this.graph.findById(f):f).getKeyShape();if(c.get("type")==="path")R=tc(ut.attr("path"));else{var jt=ut.getCanvasBBox();R=[[jt.minX,jt.minY],[jt.maxX,jt.minY],[jt.maxX,jt.maxY],[jt.minX,jt.maxY]]}return R=R.map(function(Ut){var Et=Y.graph.getPointByCanvas(Ut[0],Ut[1]);return[Et.x,Et.y]}),ve(R,tc(this.path))},Nt.prototype.destroy=function(){this.group.remove(),this.cfg=null},Nt}(),Vn=Jt.a.transform;(function(Nt){function f(c){var R=Nt.call(this)||this;return R.cfg=Object(o.e)(R.getDefaultCfg(),c),R.init(),R.animating=!1,R.destroyed=!1,R.cfg.enabledStack&&(R.undoStack=new ce.Stack(R.cfg.maxStep),R.redoStack=new ce.Stack(R.cfg.maxStep)),R}Object(W.b)(f,Nt),f.prototype.init=function(){this.initCanvas();var c=new xi(this),R=new Se(this),Y=new ui(this),ut=new Gs(this);this.set({viewController:c,modeController:R,itemController:Y,stateController:ut}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},f.prototype.initGroups=function(){var c=this.get("canvas"),R=this.get("canvas").get("el").id,Y=c.addGroup({id:R+"-root",className:me.rootContainerClassName});if(this.get("groupByTypes")){var ut=Y.addGroup({id:R+"-edge",className:me.edgeContainerClassName}),jt=Y.addGroup({id:R+"-node",className:me.nodeContainerClassName}),Ut=Y.addGroup({id:R+"-combo",className:me.comboContainerClassName});Ut.toBack(),this.set({nodeGroup:jt,edgeGroup:ut,comboGroup:Ut})}var Et=Y.addGroup({id:R+"-delegate",className:me.delegateContainerClassName});this.set({delegateGroup:Et}),this.set("group",Y)},f.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[]}},f.prototype.set=function(c,R){return Object(o.w)(c)?this.cfg=Object(W.a)(Object(W.a)({},this.cfg),c):this.cfg[c]=R,this},f.prototype.get=function(c){return this.cfg[c]},f.prototype.getGroup=function(){return this.get("group")},f.prototype.getContainer=function(){return this.get("container")},f.prototype.getMinZoom=function(){return this.get("minZoom")},f.prototype.setMinZoom=function(c){return this.set("minZoom",c)},f.prototype.getMaxZoom=function(){return this.get("maxZoom")},f.prototype.setMaxZoom=function(c){return this.set("maxZoom",c)},f.prototype.getWidth=function(){return this.get("width")},f.prototype.getHeight=function(){return this.get("height")},f.prototype.clearItemStates=function(c,R){Object(o.x)(c)&&(c=this.findById(c));var Y=this.get("itemController");R||(R=c.get("states")),Y.clearItemStates(c,R),this.get("stateController").updateStates(c,R,!1)},f.prototype.node=function(c){typeof c=="function"&&this.set("nodeMapper",c)},f.prototype.edge=function(c){typeof c=="function"&&this.set("edgeMapper",c)},f.prototype.combo=function(c){typeof c=="function"&&this.set("comboMapper",c)},f.prototype.findById=function(c){return this.get("itemMap")[c]},f.prototype.find=function(c,R){var Y,ut=this.get(c+"s");return Object(o.f)(ut,function(jt,Ut){if(R(jt,Ut))return Y=jt}),Y},f.prototype.findAll=function(c,R){var Y=[];return Object(o.f)(this.get(c+"s"),function(ut,jt){R(ut,jt)&&Y.push(ut)}),Y},f.prototype.findAllByState=function(c,R){return this.findAll(c,function(Y){return Y.hasState(R)})},f.prototype.translate=function(c,R){var Y=this.get("group"),ut=Object(o.c)(Y.getMatrix());ut||(ut=[1,0,0,0,1,0,0,0,1]),ut=Vn(ut,[["t",c,R]]),Y.setMatrix(ut),this.emit("viewportchange",{action:"translate",matrix:Y.getMatrix()}),this.autoPaint()},f.prototype.moveTo=function(c,R){var Y=this.get("group");Re(Y,{x:c,y:R}),this.emit("viewportchange",{action:"move",matrix:Y.getMatrix()})},f.prototype.fitView=function(c){c&&this.set("fitViewPadding",c),this.get("viewController").fitView(),this.autoPaint()},f.prototype.fitCenter=function(){this.get("viewController").fitCenter(),this.autoPaint()},f.prototype.addBehaviors=function(c,R){return this.get("modeController").manipulateBehaviors(c,R,!0),this},f.prototype.removeBehaviors=function(c,R){return this.get("modeController").manipulateBehaviors(c,R,!1),this},f.prototype.updateBehavior=function(c,R,Y){return this.get("modeController").updateBehavior(c,R,Y),this},f.prototype.zoom=function(c,R){var Y=this.get("group"),ut=Object(o.c)(Y.getMatrix()),jt=this.get("minZoom"),Ut=this.get("maxZoom");ut||(ut=[1,0,0,0,1,0,0,0,1]),ut=Vn(ut,R?[["t",-R.x,-R.y],["s",c,c],["t",R.x,R.y]]:[["s",c,c]]),jt&&ut[0]<jt||Ut&&ut[0]>Ut||(Y.setMatrix(ut),this.emit("viewportchange",{action:"zoom",matrix:ut}),this.autoPaint())},f.prototype.zoomTo=function(c,R){var Y=c/this.getZoom();this.zoom(Y,R)},f.prototype.focusItem=function(c,R,Y){var ut=this.get("viewController"),jt=!1;R?jt=!0:R===void 0&&(jt=this.get("animate"));var Ut={};Y?Ut=Y:Y===void 0&&(Ut=this.get("animateCfg")),ut.focus(c,jt,Ut),this.autoPaint()},f.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},f.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},f.prototype.getPointByClient=function(c,R){return this.get("viewController").getPointByClient(c,R)},f.prototype.getClientByPoint=function(c,R){return this.get("viewController").getClientByPoint(c,R)},f.prototype.getPointByCanvas=function(c,R){return this.get("viewController").getPointByCanvas(c,R)},f.prototype.getCanvasByPoint=function(c,R){return this.get("viewController").getCanvasByPoint(c,R)},f.prototype.showItem=function(c,R){R===void 0&&(R=!0);var Y=this.get("itemController").changeItemVisibility(c,!0);if(R&&this.get("enabledStack")){var ut=Y.getID(),jt={},Ut={};switch(Y.getType()){case"node":jt.nodes=[{id:ut,visible:!1}],Ut.nodes=[{id:ut,visible:!0}];break;case"edge":jt.nodes=[{id:ut,visible:!1}],Ut.edges=[{id:ut,visible:!0}];break;case"combo":jt.nodes=[{id:ut,visible:!1}],Ut.combos=[{id:ut,visible:!0}]}this.pushStack("visible",{before:jt,after:Ut})}},f.prototype.hideItem=function(c,R){R===void 0&&(R=!0);var Y=this.get("itemController").changeItemVisibility(c,!1);if(R&&this.get("enabledStack")){var ut=Y.getID(),jt={},Ut={};switch(Y.getType()){case"node":jt.nodes=[{id:ut,visible:!0}],Ut.nodes=[{id:ut,visible:!1}];break;case"edge":jt.nodes=[{id:ut,visible:!0}],Ut.edges=[{id:ut,visible:!1}];break;case"combo":jt.nodes=[{id:ut,visible:!0}],Ut.combos=[{id:ut,visible:!1}]}this.pushStack("visible",{before:jt,after:Ut})}},f.prototype.refreshItem=function(c){this.get("itemController").refreshItem(c)},f.prototype.setAutoPaint=function(c){this.set("autoPaint",c),this.get("canvas").set("autoDraw",c)},f.prototype.remove=function(c,R){R===void 0&&(R=!0),this.removeItem(c,R)},f.prototype.removeItem=function(c,R){R===void 0&&(R=!0);var Y=c;if(Object(o.x)(c)&&(Y=this.findById(c)),!Y&&Object(o.x)(c))console.warn("The item to be removed does not exist!");else if(Y){var ut="";if(Y.getType&&(ut=Y.getType()),R&&this.get("enabledStack")){var jt=Object(W.a)(Object(W.a)({},Y.getModel()),{itemType:ut}),Ut={};switch(ut){case"node":Ut.nodes=[jt],Ut.edges=[];for(var Et=Y.getEdges(),qt=Et.length-1;qt>=0;qt--)Ut.edges.push(Object(W.a)(Object(W.a)({},Et[qt].getModel()),{itemType:"edge"}));break;case"edge":Ut.edges=[jt];break;case"combo":Ut.combos=[jt]}this.pushStack("delete",{before:Ut,after:{}})}if(ut==="node"&&Y.getModel().comboId&&this.updateComboTree(Y),this.get("itemController").removeItem(Y),ut==="combo"){var se=hs(this.get("comboTrees"));this.set("comboTrees",se)}}},f.prototype.addItem=function(c,R,Y,ut){Y===void 0&&(Y=!0),ut===void 0&&(ut=!0);var jt=this.get("comboSorted");this.set("comboSorted",jt&&!ut);var Ut=this.get("itemController");if(!R.id||!this.findById(R.id)){var Et,qt=this.get("comboTrees");if(qt||(qt=[]),c==="combo"){var se=this.get("itemMap"),je=!1;if(qt.forEach(function(Ar){je||Ta(Ar,function(ur){if(R.parentId===ur.id){je=!0;var mr=Object(W.a)({id:R.id,depth:ur.depth+2},R);ur.children?ur.children.push(mr):ur.children=[mr],R.depth=mr.depth,Et=Ut.addItem(c,R)}var ii=se[ur.id];return je&&ii&&ii.getType&&ii.getType()==="combo"&&Ut.updateCombo(ii,ur.children),!0})}),!je){var Ie=Object(W.a)({id:R.id,depth:0},R);R.depth=Ie.depth,qt.push(Ie),Et=Ut.addItem(c,R)}this.set("comboTrees",qt)}else if(c==="node"&&Object(o.x)(R.comboId)&&qt){var Ue;if((Ue=this.findById(R.comboId))&&Ue.getType&&Ue.getType()!=="combo")return void console.warn("'"+R.comboId+"' is a not id of a combo in the graph, the node will be added without combo.");Et=Ut.addItem(c,R);var Ke=this.get("itemMap"),An=!1,Bn=!1;(qt||[]).forEach(function(Ar){Bn||An||Ta(Ar,function(ur){if(ur.id===R.id)return Bn=!0,!1;if(R.comboId===ur.id&&!Bn){An=!0;var mr=Object(o.c)(R);mr.itemType="node",ur.children?ur.children.push(mr):ur.children=[mr],R.depth=ur.depth+1}return An&&Ke[ur.id].getType&&Ke[ur.id].getType()==="combo"&&Ut.updateCombo(Ke[ur.id],ur.children),!0})})}else Et=Ut.addItem(c,R);(c==="node"&&R.comboId||c==="combo"&&R.parentId)&&(Ue=this.findById(R.comboId||R.parentId))&&Ue.addChild(Et);var Wn=this.get("combos");if(Wn&&Wn.length>0&&this.sortCombos(),this.autoPaint(),Y&&this.get("enabledStack")){var Yn=Object(W.a)(Object(W.a)({},Et.getModel()),{itemType:c}),Jn={};switch(c){case"node":Jn.nodes=[Yn];break;case"edge":Jn.edges=[Yn];break;case"combo":Jn.combos=[Yn]}this.pushStack("add",{before:{},after:Jn})}return Et}console.warn("This item exists already. Be sure the id %c"+R.id+"%c is unique.","font-size: 20px; color: red;","")},f.prototype.add=function(c,R,Y,ut){return Y===void 0&&(Y=!0),ut===void 0&&(ut=!0),this.addItem(c,R,Y,ut)},f.prototype.updateItem=function(c,R,Y){var ut=this;Y===void 0&&(Y=!0);var jt,Ut=this.get("itemController");jt=Object(o.x)(c)?this.findById(c):c;var Et=Object(o.c)(jt.getModel()),qt="";jt.getType&&(qt=jt.getType());var se=Object(W.d)(jt.getStates());if(qt==="combo"&&Object(o.f)(se,function(Ke){return ut.setItemState(jt,Ke,!1)}),Ut.updateItem(jt,R),qt==="combo"&&Object(o.f)(se,function(Ke){return ut.setItemState(jt,Ke,!0)}),Y&&this.get("enabledStack")){var je={nodes:[],edges:[],combos:[]},Ie={nodes:[],edges:[],combos:[]},Ue=Object(W.a)({id:Et.id},R);switch(qt){case"node":je.nodes.push(Et),Ie.nodes.push(Ue);break;case"edge":je.edges.push(Et),Ie.edges.push(Ue);break;case"combo":je.combos.push(Et),Ie.combos.push(Ue)}qt==="node"&&je.nodes.push(Et),this.pushStack("update",{before:je,after:Ie})}},f.prototype.update=function(c,R,Y){Y===void 0&&(Y=!0),this.updateItem(c,R,Y)},f.prototype.setItemState=function(c,R,Y){Object(o.x)(c)&&(c=this.findById(c)),this.get("itemController").setItemState(c,R,Y);var ut=this.get("stateController");Object(o.x)(Y)?ut.updateState(c,R+":"+Y,!0):ut.updateState(c,R,Y)},f.prototype.priorityState=function(c,R){this.get("itemController").priorityState(c,R)},f.prototype.data=function(c){this.set("data",c)},f.prototype.render=function(){var c=this;this.set("comboSorted",!1);var R=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!R)throw new Error("data must be defined first");var Y=R.nodes,ut=Y===void 0?[]:Y,jt=R.edges,Ut=jt===void 0?[]:jt,Et=R.combos,qt=Et===void 0?[]:Et;if(this.clear(),this.emit("beforerender"),Object(o.f)(ut,function(Ue){c.add("node",Ue,!1,!1)}),qt&&qt.length!==0){var se=ss(qt,ut);this.set("comboTrees",se),c.addCombos(qt)}Object(o.f)(Ut,function(Ue){c.add("edge",Ue,!1,!1)});var je=c.get("animate");(c.get("fitView")||c.get("fitCenter"))&&c.set("animate",!1);var Ie=c.get("layoutController");if(Ie){if(Ie.layout(function(){c.get("fitView")?c.fitView():c.get("fitCenter")&&c.fitCenter(),c.autoPaint(),c.emit("afterrender"),(c.get("fitView")||c.get("fitCenter"))&&c.set("animate",je)}),this.destroyed)return}else c.get("fitView")&&c.fitView(),c.get("fitCenter")&&c.fitCenter(),c.emit("afterrender"),c.set("animate",je);this.get("groupByTypes")||(qt&&qt.length!==0?this.sortCombos():R.nodes&&R.edges&&R.nodes.length<R.edges.length?this.getNodes().forEach(function(Ue){Ue.toFront()}):this.getEdges().forEach(function(Ue){Ue.toBack()})),this.get("enabledStack")&&this.pushStack("render")},f.prototype.read=function(c){this.data(c),this.render()},f.prototype.diffItems=function(c,R,Y){var ut,jt=this,Ut=this.get("itemMap");Object(o.f)(Y,function(Et){if(ut=Ut[Et.id]){if(jt.get("animate")&&c==="node"){var qt=ut.getContainer().getMatrix();qt||(qt=[1,0,0,0,1,0,0,0,1]),ut.set("originAttrs",{x:qt[6],y:qt[7]})}jt.updateItem(ut,Et,!1)}else ut=jt.addItem(c,Et,!1);ut&&R[c+"s"].push(ut)})},f.prototype.changeData=function(c,R){R===void 0&&(R=!0);var Y=this;if(!c)return this;R&&this.get("enabledStack")&&this.pushStack("changedata",{before:Y.save(),after:c}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map(function(Ke){return Y.clearItemStates(Ke)}),this.getEdges().map(function(Ke){return Y.clearItemStates(Ke)});var ut=this.get("canvas"),jt=ut.get("localRefresh");ut.set("localRefresh",!1),Y.get("data")||(Y.data(c),Y.render());var Ut=this.get("itemMap"),Et={nodes:[],edges:[]},qt=c.combos;if(qt){var se=ss(qt,c.nodes);this.set("comboTrees",se)}this.diffItems("node",Et,c.nodes),Object(o.f)(Ut,function(Ke,An){Ut[An].getModel().depth=0,Ke.getType&&Ke.getType()==="edge"||(Ke.getType&&Ke.getType()==="combo"?(delete Ut[An],Ke.destroy()):Et.nodes.indexOf(Ke)<0&&(delete Ut[An],Y.remove(Ke,!1)))});for(var je=this.getCombos(),Ie=je.length-1;Ie>=0;Ie--)je[Ie].destroyed&&je.splice(Ie,1);qt&&(Y.addCombos(qt),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",Et,c.edges),Object(o.f)(Ut,function(Ke,An){(!Ke.getType||Ke.getType()!=="node"&&Ke.getType()!=="combo")&&Et.edges.indexOf(Ke)<0&&(delete Ut[An],Y.remove(Ke,!1))}),this.set({nodes:Et.nodes,edges:Et.edges});var Ue=this.get("layoutController");return Ue&&(Ue.changeData(),Y.get("animate")&&!Ue.getLayoutType()?Y.positionsAnimate():Y.autoPaint()),setTimeout(function(){ut.set("localRefresh",jt)},16),this},f.prototype.addCombos=function(c){var R=this.get("comboTrees");this.get("itemController").addCombos(R,c)},f.prototype.createCombo=function(c,R){var Y=this;this.set("comboSorted",!1);var ut,jt="";if(c){if(Object(o.x)(c))jt=c,ut={id:c};else{if(!(jt=c.id))return void console.warn("Create combo failed. Please assign a unique string id for the adding combo.");ut=c}var Ut=R.map(function(qt){var se=Y.findById(qt),je="";se.getType&&(je=se.getType());var Ie={id:se.getID(),itemType:je};return je==="combo"?Ie.parentId=jt:je==="node"&&(Ie.comboId=jt),Ie});ut.children=Ut,this.addItem("combo",ut,!1),this.set("comboSorted",!1);var Et=this.get("comboTrees");(Et||[]).forEach(function(qt){Ta(qt,function(se){return se.id!==jt||(se.itemType="combo",se.children=Ut,!1)})}),Et&&this.sortCombos()}},f.prototype.uncombo=function(c){var R=this,Y=c;if(Object(o.x)(c)&&(Y=this.findById(c)),!Y||Y.getType&&Y.getType()!=="combo")console.warn("The item is not a combo!");else{var ut=Y.getModel().parentId,jt=this.get("comboTrees");jt||(jt=[]);var Ut,Et=this.get("itemMap"),qt=Y.get("id"),se=[],je=this.get("combos"),Ie=this.findById(ut);if(jt.forEach(function(Ke){Ut||Ta(Ke,function(An){if(An.id===qt){Ut=An,Y.getEdges().forEach(function(Wn){R.removeItem(Wn,!1)});var Bn=je.indexOf(c);je.splice(Bn,1),delete Et[qt],Y.destroy()}return!ut||!Ut||An.id!==ut||(Ie.removeCombo(Y),(Bn=(se=An.children).indexOf(Ut))!==-1&&se.splice(Bn,1),Ut.children.forEach(function(Wn){var Yn=R.findById(Wn.id),Jn=Yn.getModel();Yn.getType&&Yn.getType()==="combo"?(Wn.parentId=ut,delete Wn.comboId,Jn.parentId=ut,delete Jn.comboId):Yn.getType&&Yn.getType()==="node"&&(Wn.comboId=ut,Jn.comboId=ut),Ie.addChild(Yn),se.push(Wn)}),!1)})}),!ut&&Ut){var Ue=jt.indexOf(Ut);jt.splice(Ue,1),Ut.children.forEach(function(Ke){Ke.parentId=void 0,R.findById(Ke.id).getModel().parentId=void 0,Ke.itemType!=="node"&&jt.push(Ke)})}}},f.prototype.updateCombos=function(){var c=this,R=this.get("comboTrees"),Y=this.get("itemController"),ut=this.get("itemMap");(R||[]).forEach(function(jt){Ta(jt,function(Ut){if(!Ut)return!0;var Et=ut[Ut.id];if(Et&&Et.getType&&Et.getType()==="combo"){var qt=Object(W.d)(Et.getStates());Object(o.f)(qt,function(se){return c.setItemState(Et,se,!1)}),Y.updateCombo(Et,Ut.children),Object(o.f)(qt,function(se){return c.setItemState(Et,se,!0)})}return!0})}),this.sortCombos()},f.prototype.updateCombo=function(c){var R,Y=this,ut=c;if(Object(o.x)(c)&&(ut=this.findById(c)),!ut||ut.getType&&ut.getType()!=="combo")console.warn("The item to be updated is not a combo!");else{R=ut.get("id");var jt=this.get("comboTrees"),Ut=this.get("itemController"),Et=this.get("itemMap");(jt||[]).forEach(function(qt){Ta(qt,function(se){if(!se)return!0;var je=Et[se.id];if(R===se.id&&je&&je.getType&&je.getType()==="combo"){var Ie=Object(W.d)(je.getStates());Object(o.f)(Ie,function(Ue){je.getStateStyle(Ue)&&Y.setItemState(je,Ue,!1)}),Ut.updateCombo(je,se.children),Object(o.f)(Ie,function(Ue){je.getStateStyle(Ue)&&Y.setItemState(je,Ue,!0)}),R&&(R=se.parentId)}return!0})})}},f.prototype.updateComboTree=function(c,R,Y){Y===void 0&&(Y=!0);var ut;this.set("comboSorted",!1);var jt,Ut=(ut=Object(o.x)(c)?this.findById(c):c).getModel(),Et=Ut.comboId||Ut.parentId,qt="";if(ut.getType&&(qt=ut.getType()),R&&qt==="combo"){var se,je=this.get("comboTrees"),Ie=!0;if((je||[]).forEach(function(Wn){se||Ho(Wn,function(Yn){if(!se)return Yn.id===ut.getID()&&(se=Yn),!0})}),Ho(se,function(Wn){return Wn.id!==R||(Ie=!1,!1)}),!Ie)return void console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!")}if(Y&&this.get("enabledStack")){var Ue={},Ke={};qt==="combo"?(Ue.combos=[{id:Ut.id,parentId:Ut.parentId}],Ke.combos=[{id:Ut.id,parentId:R}]):qt==="node"&&(Ue.nodes=[{id:Ut.id,parentId:Ut.comboId}],Ke.nodes=[{id:Ut.id,parentId:R}]),this.pushStack("updateComboTree",{before:Ue,after:Ke})}if(Ut.parentId||Ut.comboId){var An=this.findById(Ut.parentId||Ut.comboId);An&&An.removeChild(ut)}qt==="combo"?Ut.parentId=R:qt==="node"&&(Ut.comboId=R),R&&(jt=this.findById(R))&&jt.addChild(ut),Et&&(jt=this.findById(Et))&&jt.removeChild(ut);var Bn=hs(this.get("comboTrees"),Ut.id,R);this.set("comboTrees",Bn),this.updateCombos()},f.prototype.save=function(){var c=[],R=[],Y=[];return Object(o.f)(this.get("nodes"),function(ut){c.push(ut.getModel())}),Object(o.f)(this.get("edges"),function(ut){R.push(ut.getModel())}),Object(o.f)(this.get("combos"),function(ut){Y.push(ut.getModel())}),{nodes:c,edges:R,combos:Y}},f.prototype.changeSize=function(c,R){return this.get("viewController").changeSize(c,R),this},f.prototype.refresh=function(){if(this.emit("beforegraphrefresh"),this.get("animate"))this.positionsAnimate();else{var c=this.get("nodes"),R=this.get("edges"),Y=this.get("edges");Object(o.f)(c,function(ut){ut.refresh()}),Object(o.f)(R,function(ut){ut.refresh()}),Object(o.f)(Y,function(ut){ut.refresh()})}this.emit("aftergraphrefresh"),this.autoPaint()},f.prototype.getNodes=function(){return this.get("nodes")},f.prototype.getEdges=function(){return this.get("edges")},f.prototype.getCombos=function(){return this.get("combos")},f.prototype.getComboChildren=function(c){if(Object(o.x)(c)&&(c=this.findById(c)),c&&(!c.getType||c.getType()==="combo"))return c.getChildren();console.warn("The combo does not exist!")},f.prototype.positionsAnimate=function(){var c=this;c.emit("beforeanimate");var R=c.get("animateCfg"),Y=R.onFrame,ut=c.getNodes(),jt=ut.map(function(Ut){var Et=Ut.getModel();return{id:Et.id,x:Et.x,y:Et.y}});c.isAnimating()&&c.stopAnimate(),c.get("canvas").animate(function(Ut){Object(o.f)(jt,function(Et){var qt=c.findById(Et.id);if(qt&&!qt.destroyed){var se=qt.get("originAttrs"),je=qt.get("model");if(!se){var Ie=qt.getContainer().getMatrix();Ie||(Ie=[1,0,0,0,1,0,0,0,1]),se={x:Ie[6],y:Ie[7]},qt.set("originAttrs",se)}if(Y){var Ue=Y(qt,Ut,Et,se);qt.set("model",Object.assign(je,Ue))}else je.x=se.x+(Et.x-se.x)*Ut,je.y=se.y+(Et.y-se.y)*Ut}}),c.refreshPositions()},{duration:R.duration,easing:R.easing,callback:function(){Object(o.f)(ut,function(Et){Et.set("originAttrs",null)}),R.callback&&R.callback(),c.emit("afteranimate"),c.animating=!1}})},f.prototype.refreshPositions=function(){this.emit("beforegraphrefreshposition");var c,R=this.get("nodes"),Y=this.get("edges"),ut=this.get("vedges"),jt=this.get("combos"),Ut={};Object(o.f)(R,function(Et){c=Et.getModel();var qt=Et.get("originAttrs");qt&&c.x===qt.x&&c.y===qt.y||(Et.updatePosition({x:c.x,y:c.y}),Ut[c.id]=!0,c.comboId&&(Ut[c.comboId]=!0))}),jt&&jt.length!==0&&this.updateCombos(),Object(o.f)(Y,function(Et){var qt=Et.getSource().getModel(),se=Et.getTarget().getModel();(Ut[qt.id]||Ut[se.id]||Et.getModel().isComboEdge)&&Et.refresh()}),Object(o.f)(ut,function(Et){Et.refresh()}),this.emit("aftergraphrefreshposition"),this.autoPaint()},f.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},f.prototype.isAnimating=function(){return this.animating},f.prototype.getZoom=function(){var c=this.get("group").getMatrix();return c?c[0]:1},f.prototype.getCurrentMode=function(){return this.get("modeController").getMode()},f.prototype.setMode=function(c){return this.get("modeController").setMode(c),this},f.prototype.clear=function(){return this.get("canvas").clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),this.emit("afterrender"),this},f.prototype.updateLayout=function(c){var R,Y=this.get("layoutController");Object(o.x)(c)?c={type:R=c}:R=c.type;var ut=this.get("layout"),jt=ut?ut.type:void 0;if(R&&jt!==R||c.gpuEnabled!==void 0&&c.gpuEnabled!==ut.gpuEnabled)R||(R=jt),this.set("layout",c),Y.changeLayout(R);else{var Ut={};Object.assign(Ut,ut,c),Ut.type=jt||"random",this.set("layout",Ut),Y.updateLayoutCfg(Ut)}},f.prototype.destroyLayout=function(){this.get("layoutController").destroyLayout()},f.prototype.layout=function(){var c=this.get("layoutController"),R=this.get("layout");R&&c&&(R.workerEnabled?c.layout():c.layoutMethod?c.relayout(!0):c.layout())},f.prototype.collapseCombo=function(c){var R=this;if(Object(o.x)(c)&&(c=this.findById(c)),c){this.emit("beforecollapseexpandcombo",{action:"expand",item:c});var Y=c.getModel();this.get("itemController").collapseCombo(c),Y.collapsed=!0;var ut=this.getEdges().concat(this.get("vedges")),jt=[],Ut=[],Et=this.get("comboTrees"),qt=!1,se={};(Et||[]).forEach(function(Ue){se[Ue.id]=Ue}),(Et||[]).forEach(function(Ue){qt||Ho(Ue,function(Ke){if(qt&&se[Ke.id])return!1;if(Y.parentId===Ke.id?(se={},Ke.children.forEach(function(Bn){se[Bn.id]=Bn})):Y.id===Ke.id&&(qt=!0),qt){var An=R.findById(Ke.id);An&&An.getType&&An.getType()==="combo"&&(jt=jt.concat(An.getNodes()),Ut=Ut.concat(An.getCombos()))}return!0})});var je={},Ie=[];ut.forEach(function(Ue){if(!Ue.isVisible()||Ue.getModel().isVEdge){var Ke=Ue.getSource(),An=Ue.getTarget();if((jt.includes(Ke)||Ut.includes(Ke))&&!jt.includes(An)&&!Ut.includes(An)||Ke.getModel().id===Y.id){if((Jn=Ue.getModel()).isVEdge)return void R.removeItem(Ue,!1);for(var Bn=An.getModel();!An.isVisible();){if(!(An=R.findById(Bn.parentId||Bn.comboId))||!Bn.parentId&&!Bn.comboId)return;Bn=An.getModel()}var Wn=Bn.id;if(je[Y.id+"-"+Wn])return void(je[Y.id+"-"+Wn]+=Jn.size||1);var Yn=R.addItem("vedge",{source:Y.id,target:Wn,isVEdge:!0},!1);je[Y.id+"-"+Wn]=Jn.size||1,Ie.push(Yn)}else if(!jt.includes(Ke)&&!Ut.includes(Ke)&&(jt.includes(An)||Ut.includes(An))||An.getModel().id===Y.id){var Jn;if((Jn=Ue.getModel()).isVEdge)return void R.removeItem(Ue,!1);for(var Ar=Ke.getModel();!Ke.isVisible();){if(!(Ke=R.findById(Ar.parentId||Ar.comboId))||!Ar.parentId&&!Ar.comboId)return;Ar=Ke.getModel()}var ur=Ar.id;if(je[ur+"-"+Y.id])return void(je[ur+"-"+Y.id]+=Jn.size||1);Yn=R.addItem("vedge",{target:Y.id,source:ur,isVEdge:!0},!1),je[ur+"-"+Y.id]=Jn.size||1,Ie.push(Yn)}}}),Ie.forEach(function(Ue){var Ke=Ue.getModel();R.updateItem(Ue,{size:je[Ke.source+"-"+Ke.target]},!1)}),this.emit("aftercollapseexpandcombo",{action:"collapse",item:c})}else console.warn("The combo to be collapsed does not exist!")},f.prototype.expandCombo=function(c){var R=this;if(Object(o.x)(c)&&(c=this.findById(c)),!c||c.getType&&c.getType()!=="combo")console.warn("The combo to be collapsed does not exist!");else{this.emit("beforecollapseexpandcombo",{action:"expand",item:c});var Y=c.getModel();this.get("itemController").expandCombo(c),Y.collapsed=!1;var ut=this.getEdges().concat(this.get("vedges")),jt=[],Ut=[],Et=this.get("comboTrees"),qt=!1,se={};(Et||[]).forEach(function(Ue){se[Ue.id]=Ue}),(Et||[]).forEach(function(Ue){qt||Ho(Ue,function(Ke){if(qt&&se[Ke.id])return!1;if(Y.parentId===Ke.id?(se={},Ke.children.forEach(function(Bn){se[Bn.id]=Bn})):Y.id===Ke.id&&(qt=!0),qt){var An=R.findById(Ke.id);An&&An.getType&&An.getType()==="combo"&&(jt=jt.concat(An.getNodes()),Ut=Ut.concat(An.getCombos()))}return!0})});var je={},Ie={};ut.forEach(function(Ue){if(!Ue.isVisible()||Ue.getModel().isVEdge){var Ke=Ue.getSource(),An=Ue.getTarget(),Bn=Ke.get("id"),Wn=An.get("id");if((jt.includes(Ke)||Ut.includes(Ke))&&!jt.includes(An)&&!Ut.includes(An)||Bn===Y.id){if(Ue.getModel().isVEdge)return void R.removeItem(Ue,!1);for(var Yn=An.getModel();!An.isVisible();){if(!(An=R.findById(Yn.comboId||Yn.parentId))||!Yn.parentId&&!Yn.comboId)return;Yn=An.getModel()}Wn=Yn.id;for(var Jn=Ke.getModel();!Ke.isVisible();){if(!(Ke=R.findById(Jn.comboId||Jn.parentId))||!Jn.parentId&&!Jn.comboId)return;if(Jn.comboId===Y.id||Jn.parentId===Y.id)break;Jn=Ke.getModel()}if(Bn=Jn.id,Wn){if(je[ur=Bn+"-"+Wn])return je[ur]+=Ue.getModel().size||1,void R.updateItem(Ie[ur],{size:je[ur]},!1);var Ar=R.addItem("vedge",{source:Bn,target:Wn,isVEdge:!0},!1);je[ur]=Ue.getModel().size||1,Ie[ur]=Ar}}else if(!jt.includes(Ke)&&!Ut.includes(Ke)&&(jt.includes(An)||Ut.includes(An))||Wn===Y.id){if(Ue.getModel().isVEdge)return void R.removeItem(Ue,!1);for(Jn=Ke.getModel();!Ke.isVisible();){if(!(Ke=R.findById(Jn.comboId||Jn.parentId))||!Jn.parentId&&!Jn.comboId)return;Jn=Ke.getModel()}for(Bn=Jn.id,Yn=An.getModel();!An.isVisible();){if(!(An=R.findById(Yn.comboId||Yn.parentId))||!Yn.parentId&&!Yn.comboId)return;if(Yn.comboId===Y.id||Yn.parentId===Y.id)break;Yn=An.getModel()}if(Wn=Yn.id,Bn){var ur;if(je[ur=Bn+"-"+Wn])return je[ur]+=Ue.getModel().size||1,void R.updateItem(Ie[ur],{size:je[ur]},!1);Ar=R.addItem("vedge",{target:Wn,source:Bn,isVEdge:!0},!1),je[ur]=Ue.getModel().size||1,Ie[ur]=Ar}}else(jt.includes(Ke)||Ut.includes(Ke))&&(jt.includes(An)||Ut.includes(An))&&Ke.isVisible()&&An.isVisible()&&Ue.show()}}),this.emit("aftercollapseexpandcombo",{action:"expand",item:c})}},f.prototype.collapseExpandCombo=function(c){if(Object(o.x)(c)&&(c=this.findById(c)),!c.getType||c.getType()==="combo"){for(var R=c.getModel(),Y=this.findById(R.parentId);Y;){var ut=Y.getModel();if(ut.collapsed)return console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),void(Y=void 0);Y=this.findById(ut.parentId)}R.collapsed?this.expandCombo(c):this.collapseCombo(c),this.updateCombo(c)}},f.prototype.sortCombos=function(){var c=this;if(!this.get("comboSorted")){this.set("comboSorted",!0);var R=[],Y={};(this.get("comboTrees")||[]).forEach(function(ut){Ho(ut,function(jt){return R[jt.depth]?R[jt.depth].push(jt.id):R[jt.depth]=[jt.id],Y[jt.id]=jt.depth,!0})}),(this.getEdges().concat(this.get("vedges"))||[]).forEach(function(ut){var jt=ut.getModel(),Ut=Y[jt.source]||0,Et=Y[jt.target]||0,qt=Math.max(Ut,Et);R[qt]?R[qt].push(jt.id):R[qt]=[jt.id]}),R.forEach(function(ut){if(ut&&ut.length)for(var jt=ut.length-1;jt>=0;jt--){var Ut=c.findById(ut[jt]);Ut&&Ut.toFront()}})}},f.prototype.getNeighbors=function(c,R){var Y=c;return Object(o.x)(c)&&(Y=this.findById(c)),Y.getNeighbors(R)},f.prototype.getNodeDegree=function(c,R){R===void 0&&(R=void 0);var Y=c;Object(o.x)(c)&&(Y=this.findById(c));var ut=this.get("degrees");ut||(ut=Object(ce.getDegree)(this.get("data"))),this.set("degees",ut);var jt,Ut=ut[Y.getID()];switch(R){case"in":jt=Ut.inDegree;break;case"out":jt=Ut.outDegree;break;case"all":jt=Ut;break;default:jt=Ut.degree}return jt},f.prototype.getUndoStack=function(){return this.undoStack},f.prototype.getRedoStack=function(){return this.redoStack},f.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},f.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},f.prototype.pushStack=function(c,R,Y){if(c===void 0&&(c="update"),Y===void 0&&(Y="undo"),this.get("enabledStack")){var ut=R?Object(o.c)(R):{before:{},after:Object(o.c)(this.save())};Y==="redo"?this.redoStack.push({action:c,data:ut}):this.undoStack.push({action:c,data:ut}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})}else console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !")},f.prototype.getAdjMatrix=function(c,R){c===void 0&&(c=!0),R===void 0&&(R=this.get("directed"));var Y=this.get("adjMatrix");return Y&&c||(Y=Object(ce.getAdjMatrix)(this.save(),R),this.set("adjMatrix",Y)),Y},f.prototype.getShortestPathMatrix=function(c,R){c===void 0&&(c=!0),R===void 0&&(R=this.get("directed"));var Y=this.get("adjMatrix"),ut=this.get("shortestPathMatrix");return Y&&c||(Y=Object(ce.getAdjMatrix)(this.save(),R),this.set("adjMatrix",Y)),ut&&c||(ut=Object(ce.floydWarshall)(this.save(),R),this.set("shortestPathMatrix",ut)),ut},f.prototype.on=function(c,R,Y){return Nt.prototype.on.call(this,c,R,Y)},f.prototype.destroy=function(){this.clear(),this.clearStack(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("canvas").destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},f.prototype.createHull=function(c){if(c.members&&!(c.members.length<1)){var R=this.get("hullGroup"),Y=this.get("hullMap");if(Y||(Y={},this.set("hullMap",Y)),R||((R=this.get("group").addGroup({id:"hullGroup"})).toBack(),this.set("hullGroup",R)),Y[c.id])return console.warn("Existed hull id."),Y[c.id];var ut=R.addGroup({id:c.id+"-container"}),jt=new Ze(this,Object(W.a)(Object(W.a)({},c),{group:ut}));return Y[jt.id]=jt,jt}console.warn("Create hull failed! The members is empty.")},f.prototype.getHulls=function(){return this.get("hullMap")},f.prototype.getHullById=function(c){return this.get("hullMap")[c]},f.prototype.removeHull=function(c){var R;R=Object(o.x)(c)?this.getHullById(c):c,delete this.get("hullMap")[R.id],R.destroy()},f.prototype.removeHulls=function(){var c=this.getHulls();c&&Object.keys(c).length&&(c.forEach(function(R){R.destroy()}),this.set("hullMap",{}))}})(Gt.a);function Zn(Nt){return(Zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(Nt)}var hr=Jt.a.transform,rr=["startArrow","endArrow"],Ir={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},yn={edge:{lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},node:Ir,combo:Ir},oe={options:{},itemType:"",type:"",getCustomConfig:function(f){return{}},getOptions:function(f){return Object(o.e)({labelCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(f)||{},f)},draw:function(f,c){var R=this.drawShape(f,c);return R.set("className",this.itemType+"-shape"),f.label&&this.drawLabel(f,c).set("className",this.itemType+"-label"),R},afterDraw:function(f,c,R){},drawShape:function(f,c){return null},drawLabel:function(f,c){var R=this.getOptions(f).labelCfg||{},Y=this.getLabelStyle(f,R,c),ut=Y.rotate;delete Y.rotate;var jt=c.addShape("text",{attrs:Y,draggable:!0,className:"text-shape",name:"text-shape"});if(ut){var Ut=jt.getBBox(),Et=jt.getMatrix();if(Et||(Et=[1,0,0,0,1,0,0,0,1]),Y.rotateCenter)switch(Y.rotateCenter){case"center":Et=hr(Et,[["t",-Ut.width/2,-Ut.height/2],["r",ut],["t",Ut.width/2,Ut.height/2]]);break;case"lefttop":Et=hr(Et,[["t",-Y.x,-Y.y],["r",ut],["t",Y.x,Y.y]]);break;case"leftcenter":Et=hr(Et,[["t",-Y.x,-Y.y-Ut.height/2],["r",ut],["t",Y.x,Y.y+Ut.height/2]]);break;default:Et=hr(Et,[["t",-Ut.width/2,-Ut.height/2],["r",ut],["t",Ut.width/2,Ut.height/2]])}else Et=hr(Et,[["t",-Y.x,-Y.y-Ut.height/2],["r",ut],["t",Y.x,Y.y+Ut.height/2]]);jt.setMatrix(Et)}if(Y.background){var qt=this.drawLabelBg(f,c,jt),se=this.itemType+"-label-bg";qt.set("classname",se),jt.toFront()}return jt},drawLabelBg:function(f,c,R){var Y=this.options.labelCfg,ut=Object(o.A)({},Y,f.labelCfg),jt=this.getLabelBgStyleByPosition(R,f,ut,c);return c.addShape("rect",{name:"text-bg-shape",attrs:jt})},getLabelStyleByPosition:function(f,c,R){return{text:f.label}},getLabelBgStyleByPosition:function(f,c,R,Y){return{}},getLabelStyle:function(f,c,R){var Y=this.getLabelStyleByPosition(f,c,R),ut=this.itemType+"Label",jt=me[ut]?me[ut].style:null;return Object(W.a)(Object(W.a)(Object(W.a)({},jt),Y),c.style)},getShapeStyle:function(f){return f.style},update:function(f,c){this.updateShapeStyle(f,c),this.updateLabel(f,c)},updateShapeStyle:function(f,c){var R=c.getContainer(),Y=c.getKeyShape(),ut=Object(o.A)({},Y.attr(),f.style),jt=function(qt){var se,je=ut[qt];if(Object(o.w)(je)){var Ie=R.find(function(Ue){return Ue.get("name")===qt});Ie&&Ie.attr(je)}else Y.attr(((se={})[qt]=je,se))};for(var Ut in ut)jt(Ut)},updateLabel:function(f,c){var R=c.getContainer(),Y=this.getOptions({}).labelCfg,ut=this.itemType+"-label",jt=R.find(function(Ar){return Ar.get("className")===ut}),Ut=this.itemType+"-label-bg",Et=R.find(function(Ar){return Ar.get("classname")===Ut});if(f.label||f.label==="")if(jt){var qt={};c.getModel&&(qt=c.getModel().labelCfg);var se=Object(o.e)({},Y,qt,f.labelCfg),je=this.getLabelStyleByPosition(f,se,R),Ie=f.labelCfg?f.labelCfg.style:void 0,Ue=se.style&&se.style.background,Ke=Object(W.a)(Object(W.a)(Object(W.a)({},jt.attr()),je),Ie),An=Ke.rotate;if(delete Ke.rotate,An){var Bn=[1,0,0,0,1,0,0,0,1];Bn=hr(Bn,[["t",-Ke.x,-Ke.y],["r",An],["t",Ke.x,Ke.y]]),jt.resetMatrix(),jt.attr(Object(W.a)(Object(W.a)({},Ke),{matrix:Bn}))}else jt.resetMatrix(),jt.attr(Ke);if(Et)if(Ke.background){var Wn=this.getLabelBgStyleByPosition(jt,f,se,R),Yn=Object(W.a)(Object(W.a)({},Wn),Ue);if(Et.resetMatrix(),An){var Jn=[1,0,0,0,1,0,0,0,1];Jn=hr(Jn,[["t",-Yn.x,-Yn.y],["r",An],["t",Yn.x,Yn.y]]),Yn.matrix=Jn}Et.attr(Yn)}else R.removeChild(Et);else Ke.background&&((Et=this.drawLabelBg(f,R,jt)).set("classname",Ut),jt.toFront())}else this.drawLabel(f,R).set("className",ut)},afterUpdate:function(f,c){},setState:function(f,c,R){var Y,ut,jt=R.get("keyShape");if(jt){var Ut=R.getType(),Et=Object(o.n)(c)?f:f+":"+c,qt=this.getStateStyle(Et,R),se=R.getStateStyle(Et);if(se||qt){var je=Object(o.A)({},se||qt),Ie=R.getContainer(),Ue={x:1,y:1,cx:1,cy:1};if(Ut==="combo"&&(Ue.r=1,Ue.width=1,Ue.height=1),c){var Ke=function(Ia){var ko,No=je[Ia];if(Object(o.w)(No)&&!rr.includes(Ia)){var no=Ie.find(function(Ja){return Ja.get("name")===Ia});no&&no.attr(No)}else jt.attr(((ko={})[Ia]=No,ko))};for(var An in je)Ke(An)}else{var Bn=Hi(R.getCurrentStatesStyle()),Wn=R.getModel(),Yn=Object(o.A)({},Wn.style,Hi(R.getOriginStyle())),Jn=jt.get("name"),Ar=jt.attr(),ur={};Object.keys(Ar).forEach(function(ga){if(ga!=="img"){var Ia=Ar[ga];Ia&&Zn(Ia)==="object"?ur[ga]=Object(o.c)(Ia):ur[ga]=Ia}});var mr={},ii=function(Ia){var ko=je[Ia];if(Object(o.w)(ko)&&!rr.includes(Ia)){var No=Ie.find(function(ho){return ho.get("name")===Ia});if(No){var no=Object(o.c)(No.attr());Object(o.f)(ko,function(ho,Qa){if(Ia===Jn&&ur[Qa]&&!Ue[Qa]){delete ur[Qa];var jo=Yn[Ia][Qa]||yn[Ut][Qa];jt.attr(Qa,jo)}else if(no[Qa]||no[Qa]===0){delete no[Qa];var Lo=Yn[Ia][Qa]||yn[Ut][Qa];No.attr(Qa,Lo)}}),mr[Ia]=no}}else if(ur[Ia]&&!Ue[Ia]){delete ur[Ia];var Ja=Yn[Ia]||(Yn[Jn]?Yn[Jn][Ia]:void 0)||yn[Ut][Ia];jt.attr(Ia,Ja)}};for(var Li in je)ii(Li);for(var An in Jn?mr[Jn]=ur:Object(o.A)(mr,ur),Bn)if(!Ue[An]){var ci=Bn[An];Object(o.w)(ci)&&!rr.includes(An)||(Jn?(Object(o.A)(Yn[Jn],((ut={})[An]=ci,ut)),delete Yn[An]):Object(o.A)(Yn,((Y={})[An]=ci,Y)),delete Bn[An])}var Yi={};Object(o.e)(Yi,Yn,mr,Bn);var qa=!1,wa=function(Ia){var ko,No,no=Yi[Ia];if(Object(o.w)(no)&&!rr.includes(Ia)){var Ja=Ie.find(function(Qa){return Qa.get("name")===Ia});Ja&&(Ia===Jn&&(Ut==="combo"&&(delete no.r,delete no.width,delete no.height),qa=!0),Ja.attr(no))}else if(!qa){var ho=no||yn[Ut][Ia];Ut==="combo"?Jn||jt.attr(((ko={})[Ia]=ho,ko)):jt.attr(((No={})[Ia]=ho,No))}};for(var fo in Yi)wa(fo)}}}},getStateStyle:function(f,c){var R=c.getModel(),Y=c.getType(),ut=this.getOptions(R),jt=ut.stateStyles,Ut=ut.style,Et=Ut===void 0?{}:Ut,qt=R.stateStyles?R.stateStyles[f]:jt&&jt[f];return Y==="combo"?Object(o.c)(qt):Object(o.A)({},Et,qt)},getControlPoints:function(f){return f.controlPoints},getAnchorPoints:function(f){return this.getOptions(f).anchorPoints}},Oi={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:me.nodeLabel.offset,getSize:function(f){var c=f.size||this.getOptions({}).size||me.defaultNode.size;return Object(o.m)(c)&&c.length===1&&(c=[c[0],c[0]]),Object(o.m)(c)||(c=[c,c]),c},getLabelStyleByPosition:function(f,c){var R=c.position||this.labelPosition;if(R==="center")return{x:0,y:0,text:f.label};var Y=c.offset;Object(o.s)(Y)&&(Y=this.offset);var ut,jt=this.getSize(f),Ut=jt[0],Et=jt[1];switch(R){case"top":ut={x:0,y:0-Et/2-Y,textBaseline:"bottom"};break;case"bottom":ut={x:0,y:Et/2+Y,textBaseline:"top"};break;case"left":ut={x:0-Ut/2-Y,y:0,textAlign:"right"};break;default:ut={x:Ut/2+Y,y:0,textAlign:"left"}}return ut.text=f.label,ut},getLabelBgStyleByPosition:function(f,c,R,Y){if(!f)return{};var ut=f.getBBox(),jt=R.style&&R.style.background;if(!jt)return{};var Ut,Et=Ye(jt.padding),qt=ut.width+Et[1]+Et[3],se=ut.height+Et[0]+Et[2],je=R.offset;return Object(o.s)(je)&&(je=this.offset),Ut={x:ut.minX-Et[3],y:ut.minY-Et[0]},Ut=Object(W.a)(Object(W.a)(Object(W.a)({},Ut),jt),{width:qt,height:se})},drawShape:function(f,c){var R=this.shapeType,Y=this.getShapeStyle(f);return c.addShape(R,{attrs:Y,draggable:!0,name:"node-shape"})},updateLinkPoints:function(f,c){var R,Y=this.getOptions(f).linkPoints,ut=c.find(function(ii){return ii.get("className")==="link-point-left"}),jt=c.find(function(ii){return ii.get("className")==="link-point-right"}),Ut=c.find(function(ii){return ii.get("className")==="link-point-top"}),Et=c.find(function(ii){return ii.get("className")==="link-point-bottom"});ut&&(R=ut.attr()),jt&&!R&&(R=jt.attr()),Ut&&!R&&(R=Ut.attr()),Et&&!R&&(R=Et.attr()),R||(R=Y);var qt=Object(o.A)({},R,f.linkPoints),se=qt.fill,je=qt.stroke,Ie=qt.lineWidth,Ue=qt.size/2;Ue||(Ue=qt.r);var Ke=f.linkPoints?f.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},An=Ke.left,Bn=Ke.right,Wn=Ke.top,Yn=Ke.bottom,Jn=this.getSize(f),Ar=Jn[0],ur=Jn[1],mr={r:Ue,fill:se,stroke:je,lineWidth:Ie};ut?An||An===void 0?ut.attr(Object(W.a)(Object(W.a)({},mr),{x:-Ar/2,y:0})):ut.remove():An&&c.addShape("circle",{attrs:Object(W.a)(Object(W.a)({},mr),{x:-Ar/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),jt?(Bn||Bn===void 0||jt.remove(),jt.attr(Object(W.a)(Object(W.a)({},mr),{x:Ar/2,y:0}))):Bn&&c.addShape("circle",{attrs:Object(W.a)(Object(W.a)({},mr),{x:Ar/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),Ut?(Wn||Wn===void 0||Ut.remove(),Ut.attr(Object(W.a)(Object(W.a)({},mr),{x:0,y:-ur/2}))):Wn&&c.addShape("circle",{attrs:Object(W.a)(Object(W.a)({},mr),{x:0,y:-ur/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),Et?Yn||Yn===void 0?Et.attr(Object(W.a)(Object(W.a)({},mr),{x:0,y:ur/2})):Et.remove():Yn&&c.addShape("circle",{attrs:Object(W.a)(Object(W.a)({},mr),{x:0,y:ur/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(f,c,R,Y){c.get("keyShape").attr(Object(W.a)({},R)),this.updateLabel(f,c),Y&&this.updateIcon(f,c)},updateIcon:function(f,c){var R=this,Y=c.getContainer(),ut=this.getOptions(f).icon,jt=(f.icon?f.icon:{show:void 0}).show,Ut=Y.find(function(Ie){return Ie.get("className")===R.type+"-icon"});if(Ut)if(jt||jt===void 0){var Et=Object(o.A)({},Ut.attr(),ut),qt=Et.width,se=Et.height;Ut.attr(Object(W.a)(Object(W.a)({},Et),{x:-qt/2,y:-se/2}))}else Ut.remove();else if(jt){qt=ut.width,se=ut.height,Y.addShape("image",{attrs:Object(W.a)(Object(W.a)({},ut),{x:-qt/2,y:-se/2}),className:this.type+"-icon",name:this.type+"-icon"});var je=Y.find(function(Ie){return Ie.get("className")==="node-label"});je&&je.toFront()}}},ei=Object(W.a)(Object(W.a)({},oe),Oi);qr.registerNode("single-node",ei);var Zr={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:me.defaultEdge.size,style:{x:0,y:0,stroke:me.defaultEdge.style.stroke,lineAppendWidth:me.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:me.edgeLabel.style.fill,fontSize:me.edgeLabel.style.fontSize}},stateStyles:Object(W.a)({},me.edgeStateStyles)},getPath:function(f){var c=[];return Object(o.f)(f,function(R,Y){Y===0?c.push(["M",R.x,R.y]):c.push(["L",R.x,R.y])}),c},getShapeStyle:function(f){var c=this.options.style,R={stroke:f.color},Y=Object(o.A)({},c,R,f.style),ut=f.size||me.defaultEdge.size,jt=(f=this.getPathPoints(f)).startPoint,Ut=f.endPoint,Et=this.getControlPoints(f),qt=[jt];Et&&(qt=qt.concat(Et)),qt.push(Ut);var se=this.getPath(qt);return Object(o.A)({},me.defaultEdge.style,{stroke:me.defaultEdge.color,lineWidth:ut,path:se},Y)},updateShapeStyle:function(f,c){var R=c.getContainer(),Y={stroke:f.color},ut=R.find(function(Yn){return Yn.get("className")==="edge-shape"})||c.getKeyShape(),jt=f.size,Ut=(f=this.getPathPoints(f)).startPoint,Et=f.endPoint,qt=this.getControlPoints(f),se=[Ut];qt&&(se=se.concat(qt)),se.push(Et);var je=ut.attr(),Ie=Object(o.A)({},Y,je,f.style),Ue=f.sourceNode,Ke=f.targetNode,An={radius:Ie.radius};qt||(An={source:Ue,target:Ke,offset:Ie.offset,radius:Ie.radius}),je.endArrow&&Ie.endArrow===!1&&(f.style.endArrow={path:""}),je.startArrow&&Ie.startArrow===!1&&(f.style.startArrow={path:""});var Bn=this.getPath(se,An),Wn=Object(o.A)(Y,ut.attr(),{lineWidth:jt,path:Bn},f.style);ut&&ut.attr(Wn)},getLabelStyleByPosition:function(f,c,R){var Y,ut=c.position||this.labelPosition,jt={},Ut=R&&R.find(function(Ie){return Ie.get("className")==="edge-shape"});Y=ut==="start"?0:ut==="end"?1:.5;var Et=c.refX||this.refX,qt=c.refY||this.refY;if(f.startPoint.x===f.endPoint.x&&f.startPoint.y===f.endPoint.y)return jt.x=f.startPoint.x+Et,jt.y=f.startPoint.y+qt,jt.text=f.label,jt;var se=Object(o.s)(c.autoRotate)?this.labelAutoRotate:c.autoRotate,je=Zo(Ut,Y,Et,qt,se);return jt.x=je.x,jt.y=je.y,jt.rotate=je.rotate,jt.textAlign=this._getTextAlign(ut,je.angle),jt.text=f.label,jt},getLabelBgStyleByPosition:function(f,c,R,Y){if(!f)return{};var ut=f.getBBox(),jt=R.style&&R.style.background;if(!jt)return{};var Ut,Et=jt.padding,qt=ut.width+Et[1]+Et[3],se=ut.height+Et[0]+Et[2],je=R.position||this.labelPosition,Ie=Object(W.a)(Object(W.a)({},jt),{width:qt,height:se,x:ut.minX-Et[2],y:ut.minY-Et[0],rotate:0}),Ue=Object(o.s)(R.autoRotate)?this.labelAutoRotate:R.autoRotate,Ke=Y&&Y.find(function(Jn){return Jn.get("className")==="edge-shape"});Ut=je==="start"?0:je==="end"?1:.5;var An=R.refX||this.refX,Bn=R.refY||this.refY;if(c.startPoint.x===c.endPoint.x&&c.startPoint.y===c.endPoint.y)return Ie.x=c.startPoint.x+An-qt/2,Ie.y=c.startPoint.y+Bn-se/2,Ie;var Wn=Zo(Ke,Ut,An-qt/2,Bn+se/2,Ue),Yn=Wn.angle;return Yn>.5*Math.PI&&Yn<1.5*Math.PI&&(Wn=Zo(Ke,Ut,An+qt/2,Bn+se/2,Ue)),Ue&&(Ie.x=Wn.x,Ie.y=Wn.y),Ie.rotate=Wn.rotate,Ie},_getTextAlign:function(f,c){var R="center";return c?(c%=2*Math.PI,f!=="center"&&(R=c>=0&&c<=Math.PI/2||c>=1.5*Math.PI&&c<2*Math.PI?f:function(Y){var ut=Y;return Y==="start"?ut="end":Y==="end"&&(ut="start"),ut}(f)),R):f},getControlPoints:function(f){return f.controlPoints},getPathPoints:function(f){return f},drawShape:function(f,c){var R=this.getShapeStyle(f);return c.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:R})},drawLabel:function(f,c){var R=this.options.labelCfg,Y=Object(o.e)({fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},R,f.labelCfg),ut=this.getLabelStyle(f,Y,c),jt=ut.rotate;delete ut.rotate;var Ut=c.addShape("text",{attrs:ut,name:"text-shape"});if(jt&&Ut.rotateAtStart(jt),ut.background){var Et=this.drawLabelBg(f,c,Ut),qt=this.itemType+"-label-bg";Et.set("classname",qt),Ut.toFront()}return Ut},drawLabelBg:function(f,c,R){var Y=this.options.labelCfg,ut=Object(o.e)({},Y,f.labelCfg),jt=this.getLabelStyle(f,ut,c).rotate,Ut=this.getLabelBgStyleByPosition(R,f,ut,c);delete Ut.rotate;var Et=c.addShape("rect",{name:"text-bg-shape",attrs:Ut});return jt&&Et.rotateAtStart(jt),Et}},di=Object(W.a)(Object(W.a)({},oe),Zr);qr.registerEdge("single-edge",di),qr.registerEdge("line",{getControlPoints:function(){}},"single-edge"),qr.registerEdge("spline",{getPath:function(f){return Au(f)}},"single-edge"),qr.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(f){var c,R,Y=f.startPoint,ut=f.endPoint,jt=(Y.x+ut.x)/2,Ut=(Y.y+ut.y)/2;if(f.controlPoints!==void 0){if(R=f.controlPoints[0],c=he(Y,R,ut),Y.x<=ut.x&&Y.y>ut.y?this.clockwise=c.x>R.x?0:1:Y.x<=ut.x&&Y.y<ut.y?this.clockwise=c.x>R.x?1:0:Y.x>ut.x&&Y.y<=ut.y?this.clockwise=c.y<R.y?0:1:this.clockwise=c.y<R.y?1:0,(R.x-Y.x)/(R.y-Y.y)==(ut.x-Y.x)/(ut.y-Y.y))return[]}else{f.curveOffset===void 0&&(f.curveOffset=this.curveOffset),Object(o.m)(f.curveOffset)&&(f.curveOffset=f.curveOffset[0]),f.curveOffset<0?this.clockwise=0:this.clockwise=1;var Et={x:ut.x-Y.x,y:ut.y-Y.y},qt=Math.atan2(Et.y,Et.x);R={x:f.curveOffset*Math.cos(-Math.PI/2+qt)+jt,y:f.curveOffset*Math.sin(-Math.PI/2+qt)+Ut},c=he(Y,R,ut)}var se=En(Y,c);return[{x:se,y:se}]},getPath:function(f){var c=[];return c.push(["M",f[0].x,f[0].y]),f.length===2?c.push(["L",f[1].x,f[1].y]):c.push(["A",f[1].x,f[1].y,0,0,this.clockwise,f[2].x,f[2].y]),c}},"single-edge"),qr.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(f){var c=f.controlPoints;if(!c||!c.length){var R=f.startPoint,Y=f.endPoint;f.curveOffset===void 0&&(f.curveOffset=this.curveOffset),f.curvePosition===void 0&&(f.curvePosition=this.curvePosition),Object(o.m)(this.curveOffset)&&(f.curveOffset=f.curveOffset[0]),Object(o.m)(this.curvePosition)&&(f.curvePosition=f.curveOffset[0]),c=[eu(R,Y,f.curvePosition,f.curveOffset)]}return c},getPath:function(f){var c=[];return c.push(["M",f[0].x,f[0].y]),c.push(["Q",f[1].x,f[1].y,f[2].x,f[2].y]),c}},"single-edge"),qr.registerEdge("cubic",{curvePosition:[.5,.5],curveOffset:[-20,20],getControlPoints:function(f){var c=f.controlPoints;if(f.curveOffset===void 0&&(f.curveOffset=this.curveOffset),f.curvePosition===void 0&&(f.curvePosition=this.curvePosition),Object(o.t)(f.curveOffset)&&(f.curveOffset=[f.curveOffset,-f.curveOffset]),Object(o.t)(f.curvePosition)&&(f.curvePosition=[f.curvePosition,1-f.curvePosition]),!c||!c.length||c.length<2){var R=f.startPoint,Y=f.endPoint;c=[eu(R,Y,f.curvePosition[0],f.curveOffset[0]),eu(R,Y,f.curvePosition[1],f.curveOffset[1])]}return c},getPath:function(f){var c=[];return c.push(["M",f[0].x,f[0].y]),c.push(["C",f[1].x,f[1].y,f[2].x,f[2].y,f[3].x,f[3].y]),c}},"single-edge"),qr.registerEdge("cubic-vertical",{curvePosition:[.5,.5],getControlPoints:function(f){var c=f.startPoint,R=f.endPoint;return f.curvePosition!==void 0&&(this.curvePosition=f.curvePosition),Object(o.t)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]),[{x:c.x,y:(R.y-c.y)*this.curvePosition[0]+c.y},{x:R.x,y:(R.y-c.y)*this.curvePosition[1]+c.y}]}},"cubic"),qr.registerEdge("cubic-horizontal",{curvePosition:[.5,.5],getControlPoints:function(f){var c=f.startPoint,R=f.endPoint;return f.curvePosition!==void 0&&(this.curvePosition=f.curvePosition),Object(o.t)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]),[{x:(R.x-c.x)*this.curvePosition[0]+c.x,y:c.y},{x:(R.x-c.x)*this.curvePosition[1]+c.x,y:R.y}]}},"cubic"),qr.registerEdge("loop",{getPathPoints:function(f){return Wa(f)},getControlPoints:function(f){return f.controlPoints},afterDraw:function(f){f.controlPoints=void 0},afterUpdate:function(f){f.controlPoints=void 0}},"cubic");var ri={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:me.comboLabel.refX,refY:me.comboLabel.refY,options:{style:{stroke:me.defaultCombo.style.stroke,fill:me.defaultCombo.style.fill,lineWidth:me.defaultCombo.style.lineWidth},labelCfg:{style:{fill:me.comboLabel.style.fill,fontSize:me.comboLabel.style.fontSize}},stateStyles:Object(W.a)({},me.comboStateStyles)},getSize:function(f){var c=Object(o.c)(f.size||this.options.size||me.defaultCombo.size);return Object(o.m)(c)&&c.length===1&&(c=[c[0],c[0]]),Object(o.m)(c)||(c=[c,c]),c},getLabelStyleByPosition:function(f,c){var R=c.position||this.labelPosition,Y=f.style,ut=f.padding||this.options.padding;Object(o.m)(ut)&&(ut=ut[0]);var jt=c.refX,Ut=c.refY;Object(o.s)(jt)&&(jt=this.refX),Object(o.s)(Ut)&&(Ut=this.refY);var Et,qt=this.getSize(f),se=(Math.max(Y.r,qt[0]/2)||qt[0]/2)+ut;switch(R){case"top":Et={x:0,y:-se-Ut,textBaseline:"bottom",textAlign:"center"};break;case"bottom":Et={x:0,y:se+Ut,textBaseline:"bottom",textAlign:"center"};break;case"left":Et={x:-se+jt,y:0,textAlign:"left"};break;case"center":Et={x:0,y:0,text:f.label,textAlign:"center"};break;default:Et={x:se+jt,y:0,textAlign:"right"}}return Et.text=f.label,Et},drawShape:function(f,c){var R=this.shapeType,Y=this.getShapeStyle(f);return c.addShape(R,{attrs:Y,draggable:!0,name:"combo-shape"})},updateShape:function(f,c,R){var Y=c.get("keyShape");(f.animate===void 0?this.options.animate:f.animate)&&Y.animate?Y.animate(R,{duration:200,easing:"easeLinear"}):Y.attr(Object(W.a)({},R)),this.updateLabel(f,c)}},_i=Object(W.a)(Object(W.a)({},oe),ri);qr.registerCombo("single-combo",_i),qr.registerCombo("circle",{options:{size:[me.defaultCombo.size[0],me.defaultCombo.size[0]],padding:me.defaultCombo.padding[0],animate:!0,style:{stroke:me.defaultCombo.style.stroke,fill:me.defaultCombo.style.fill,lineWidth:me.defaultCombo.style.lineWidth},labelCfg:{style:{fill:me.comboLabel.style.fill,fontSize:me.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:Object(W.a)({},me.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(f,c){var R=this.getShapeStyle(f);return delete R.height,delete R.width,c.addShape("circle",{attrs:R,className:"circle-combo",name:"circle-combo",draggable:!0})},getShapeStyle:function(f){var c=this.options.style,R=f.padding||this.options.padding;Object(o.m)(R)&&(R=R[0]);var Y,ut={stroke:f.color},jt=Object(o.A)({},c,ut,f.style),Ut=this.getSize(f);Y=!Object(o.t)(jt.r)||isNaN(jt.r)?Ut[0]/2||me.defaultCombo.style.r:Math.max(jt.r,Ut[0]/2)||Ut[0]/2,jt.r=Y+R;var Et=Object(W.a)({x:0,y:0},jt);return f.style?f.style.r=Y:f.style={r:Y},Et},update:function(f,c){var R=this.getSize(f),Y=f.padding||this.options.padding;Object(o.m)(Y)&&(Y=Y[0]);var ut=Object(o.c)(f.style),jt=Math.max(ut.r,R[0]/2)||R[0]/2;ut.r=jt+Y;var Ut=c.get("sizeCache");Ut&&(Ut.r=ut.r);var Et={stroke:f.color},qt=c.get("keyShape"),se=Object(o.A)({},qt.attr(),Et,ut);f.style?f.style.r=jt:f.style={r:jt},this.updateShape(f,c,se,!0)}},"single-combo"),qr.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:me.defaultCombo.style.stroke,fill:me.defaultCombo.style.fill,lineWidth:me.defaultCombo.style.lineWidth},labelCfg:{style:{fill:me.comboLabel.style.fill,fontSize:me.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(W.a)({},me.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(f,c){var R=this.getShapeStyle(f);return c.addShape("rect",{attrs:R,className:"rect-combo",name:"rect-combo",draggable:!0})},getLabelStyleByPosition:function(f,c){var R=c.position||this.labelPosition,Y=f.style,ut=f.padding||this.options.padding;Object(o.t)(ut)&&(ut=[ut,ut,ut,ut]);var jt=c.refX,Ut=c.refY;Object(o.s)(jt)&&(jt=this.refX),Object(o.s)(Ut)&&(Ut=this.refY);var Et,qt=Y.width/2+ut[3],se=Y.height/2+ut[0];switch(R){case"top":Et={x:0-qt+jt,y:0-se+Ut,textBaseline:"top",textAlign:"left"};break;case"bottom":Et={x:0,y:se+Ut,textBaseline:"bottom",textAlign:"center"};break;case"left":Et={x:0-qt+Ut,y:0,textAlign:"left"};break;case"center":Et={x:0,y:0,text:f.label,textAlign:"center"};break;default:Et={x:qt+jt,y:0,textAlign:"right"}}return Et.text=f.label,Et},getShapeStyle:function(f){var c=this.options.style,R=f.padding||this.options.padding;Object(o.t)(R)&&(R=[R,R,R,R]);var Y,ut,jt={stroke:f.color},Ut=Object(o.A)({},c,jt,f.style),Et=this.getSize(f);Y=!Object(o.t)(Ut.width)||isNaN(Ut.width)?Et[0]||me.defaultCombo.style.width:Math.max(Ut.width,Et[0])||Et[0],ut=!Object(o.t)(Ut.height)||isNaN(Ut.height)?Et[1]||me.defaultCombo.style.height:Math.max(Ut.height,Et[1])||Et[1];var qt=-Y/2-R[3],se=-ut/2-R[0];Ut.width=Y+R[1]+R[3],Ut.height=ut+R[0]+R[2];var je=Object(W.a)({x:qt,y:se},Ut);return f.style?(f.style.width=Y,f.style.height=ut):f.style={width:Y,height:ut},je},update:function(f,c){var R=this.getSize(f),Y=f.padding||this.options.padding;Object(o.t)(Y)&&(Y=[Y,Y,Y,Y]);var ut=Object(o.c)(f.style),jt=Math.max(ut.width,R[0])||R[0],Ut=Math.max(ut.height,R[1])||R[1];ut.width=jt+Y[1]+Y[3],ut.height=Ut+Y[0]+Y[2];var Et=c.get("sizeCache");Et&&(Et.width=ut.width,Et.height=ut.height),ut.x=-jt/2-Y[3],ut.y=-Ut/2-Y[0];var qt={stroke:f.color},se=c.get("keyShape"),je=Object(o.A)({},se.attr(),qt,ut);f.style?(f.style.width=jt,f.style.height=Ut):f.style={width:jt,height:Ut},this.updateShape(f,c,je,!1)},updateShape:function(f,c,R){var Y=c.get("keyShape");(f.animate===void 0?this.options.animate:f.animate)&&Y.animate?Y.animate(R,{duration:200,easing:"easeLinear"}):Y.attr(Object(W.a)({},R)),this.updateLabel(f,c)}},"single-combo"),qr.registerNode("simple-circle",{options:{size:me.defaultNode.size,style:{x:0,y:0,stroke:me.defaultNode.style.stroke,fill:me.defaultNode.style.fill,lineWidth:me.defaultNode.style.lineWidth},labelCfg:{style:{fill:me.nodeLabel.style.fill,fontSize:me.nodeLabel.style.fontSize}},stateStyles:Object(W.a)({},me.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",drawShape:function(f,c){var R=this.getShapeStyle(f);return c.addShape("circle",{attrs:R,className:this.type+"-keyShape",draggable:!0})},getShapeStyle:function(f){var c=this.getOptions(f).style,R={stroke:f.color},Y=Object(o.e)({},c,R),ut=this.getSize(f)[0]/2;return Object(W.a)({x:0,y:0,r:ut},Y)},update:function(f,c){var R=this.getSize(f),Y={stroke:f.color,r:R[0]/2},ut=c.get("keyShape"),jt=Object(o.e)({},ut.attr(),Y,f.style);this.updateShape(f,c,jt,!0)}},"single-node"),qr.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:me.defaultNode.style.stroke,fill:me.defaultNode.style.fill,lineWidth:me.defaultNode.style.lineWidth},labelCfg:{style:{fill:me.nodeLabel.style.fill,fontSize:me.nodeLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(W.a)({},me.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(f,c){var R=this.getShapeStyle(f);return c.addShape("rect",{attrs:R,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0})},getShapeStyle:function(f){var c=this.getOptions(f).style,R={stroke:f.color},Y=Object(o.A)({},c,R),ut=this.getSize(f),jt=Y.width||ut[0],Ut=Y.height||ut[1];return Object(W.a)({x:-jt/2,y:-Ut/2,width:jt,height:Ut},Y)},update:function(f,c){c.getContainer();var R=this.getOptions({}).style,Y=this.getSize(f),ut=c.get("keyShape");f.size||(Y[0]=ut.attr("width")||R.width,Y[1]=ut.attr("height")||R.height);var jt={stroke:f.color,x:-Y[0]/2,y:-Y[1]/2,width:Y[0],height:Y[1]},Ut=Object(o.A)({},R,ut.attr(),jt);Ut=Object(o.A)(Ut,f.style),this.updateShape(f,c,Ut,!1)}},"single-node"),qr.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(f,c){var R=this.shapeType,Y=this.getShapeStyle(f);delete Y.fill;var ut=c.addShape(R,{attrs:Y,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(f,ut),ut},drawClip:function(f,c){var R=this.getOptions(f).clipCfg;if(R.show){var Y=R.type,ut=R.x,jt=R.y,Ut=R.style;if(Y==="circle"){var Et=R.r;c.setClip({type:"circle",attrs:Object(W.a)({r:Et,x:ut,y:jt},Ut)})}else if(Y==="rect"){var qt=R.width,se=R.height,je=ut-qt/2,Ie=jt-se/2;c.setClip({type:"rect",attrs:Object(W.a)({x:je,y:Ie,width:qt,height:se},Ut)})}else if(Y==="ellipse"){var Ue=R.rx,Ke=R.ry;c.setClip({type:"ellipse",attrs:Object(W.a)({x:ut,y:jt,rx:Ue,ry:Ke},Ut)})}else if(Y==="polygon"){var An=R.points;c.setClip({type:"polygon",attrs:Object(W.a)({points:An},Ut)})}else if(Y==="path"){var Bn=R.path;c.setClip({type:"path",attrs:Object(W.a)({path:Bn},Ut)})}}},getShapeStyle:function(f){var c=this.getOptions(f).style,R=this.getSize(f),Y=this.getOptions(f).img,ut=R[0],jt=R[1];return c&&(ut=c.width||R[0],jt=c.height||R[1]),Object(W.a)({x:-ut/2,y:-jt/2,width:ut,height:jt,img:Y},c)},updateShapeStyle:function(f,c){var R=c.getContainer(),Y=this.itemType+"-shape",ut=R.find(function(Ut){return Ut.get("className")===Y})||c.getKeyShape(),jt=this.getShapeStyle(f);ut&&ut.attr(jt)}},"single-node");var na,pa=qr,Pn=Jt.a.transform,Ui=Object(W.a)(Object(W.a)(Object(W.a)(Object(W.a)(Object(W.a)({},S),b),h),d),{transform:Pn,mat3:Jt.b});(function(){function Nt(f){this.graph=f,this.layoutCfg=f.get("layout")||{},this.layoutType=this.layoutCfg.type,this.initLayout()}Nt.prototype.initLayout=function(){},Nt.prototype.getLayoutType=function(){return this.layoutCfg.type},Nt.prototype.refreshLayout=function(){var f=this.graph;f&&(f.get("animate")?f.positionsAnimate():f.refreshPositions())},Nt.prototype.changeLayout=function(f){var c=this.graph,R=this.layoutMethod;this.layoutType=f,this.layoutCfg=c.get("layout")||{},this.layoutCfg.type=f,R&&R.destroy(),this.layout()},Nt.prototype.changeData=function(){var f=this.layoutMethod;f&&f.destroy(),this.layout()},Nt.prototype.destroyLayout=function(){var f=this.layoutMethod,c=this.graph;f&&f.destroy(),c.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethod=void 0},Nt.prototype.setDataFromGraph=function(){for(var f=[],c=[],R=[],Y=this.graph.getNodes(),ut=this.graph.getEdges(),jt=this.graph.getCombos(),Ut=Y.length,Et=0;Et<Ut;Et++){var qt=Y[Et];if(qt.isVisible()){var se=qt.getModel();f.push(se)}}var je=ut.length;for(Et=0;Et<je;Et++){var Ie=ut[Et];Ie&&!Ie.destroyed&&Ie.isVisible()&&((se=Ie.getModel()).isComboEdge||c.push(se))}var Ue=jt.length;for(Et=0;Et<Ue;Et++){var Ke=jt[Et];!Ke.destroyed&&Ke.isVisible()&&(se=Ke.getModel(),R.push(se))}return{nodes:f,edges:c,combos:R}},Nt.prototype.relayout=function(f){var c=this.graph,R=this.layoutMethod,Y=this.layoutCfg;if(f){this.data=this.setDataFromGraph();var ut=this.data.nodes;if(!ut)return!1;this.initPositions(Y.center,ut),R.init(this.data)}this.layoutType==="force"&&(R.ticking=!1,R.forceSimulation.stop()),c.emit("beforelayout"),R.execute(f),R.isCustomLayout&&Y.onLayoutEnd&&Y.onLayoutEnd()},Nt.prototype.layoutAnimate=function(){},Nt.prototype.moveToZero=function(){var f=this.graph.get("data").nodes;if(f[0].x!==void 0&&f[0].x!==null&&!Nn(f[0].x)){for(var c=[0,0],R=f.length,Y=0;Y<R;Y++){var ut=f[Y];c[0]+=ut.x,c[1]+=ut.y}for(c[0]/=f.length,c[1]/=f.length,Y=0;Y<R;Y++)(ut=f[Y]).x-=c[0],ut.y-=c[1]}},Nt.prototype.initPositions=function(f,c){var R=this.graph;if(!c)return!1;var Y=!0,ut=.85*R.get("width"),jt=.85*R.get("height"),Ut=c.length,Et=Math.ceil(Math.sqrt(Ut)*(ut/jt)),qt=ut/(Et-1),se=jt/(Math.ceil(Ut/Et)-1);isFinite(qt)&&qt||(qt=0),isFinite(se)&&qt||(se=0);for(var je=f[0]-ut/2,Ie=f[1]-jt/2,Ue=c.length,Ke=0;Ke<Ue;Ke++){var An=c[Ke];Nn(An.x)&&(Y=!1,An.x=Ke%Et*qt+je),Nn(An.y)&&(Y=!1,An.y=Math.floor(Ke/Et)*se+Ie)}return Y},Nt.prototype.destroy=function(){var f=this.layoutMethod;this.graph=null,f&&(f.destroy(),f.destroyed=!0),this.destroyed=!0}})(),function(Nt){Nt.CLICK="click",Nt.DBLCLICK="dblclick",Nt.MOUSEDOWN="mousedown",Nt.MOUDEUP="mouseup",Nt.CONTEXTMENU="contextmenu",Nt.MOUSEENTER="mouseenter",Nt.MOUSEOUT="mouseout",Nt.MOUSEOVER="mouseover",Nt.MOUSEMOVE="mousemove",Nt.MOUSELEAVE="mouseleave",Nt.DRAGSTART="dragstart",Nt.DRAGEND="dragend",Nt.DRAG="drag",Nt.DRAGENTER="dragenter",Nt.DRAGLEAVE="dragleave",Nt.DRAGOVER="dragover",Nt.DRAGOUT="dragout",Nt.DDROP="drop",Nt.KEYUP="keyup",Nt.KEYDOWN="keydown",Nt.WHEEL="wheel",Nt.FOCUS="focus",Nt.BLUR="blur",Nt.TOUCHSTART="touchstart",Nt.TOUCHMOVE="touchmove",Nt.TOUCHEND="touchend",Nt.NODE_CONTEXTMENU="node:contextmenu",Nt.NODE_CLICK="node:click",Nt.NODE_DBLCLICK="node:dblclick",Nt.NODE_MOUSEDOWN="node:mousedown",Nt.NODE_MOUSEUP="node:mouseup",Nt.NODE_MOUSEENTER="node:mouseenter",Nt.NODE_MOUSELEAVE="node:mouseleave",Nt.NODE_MOUSEMOVE="node:mousemove",Nt.NODE_MOUSEOUT="node:mouseout",Nt.NODE_MOUSEOVER="node:mouseover",Nt.NODE_DROP="node:drop",Nt.NODE_DRAGOVER="node:dragover",Nt.NODE_DRAGENTER="node:dragenter",Nt.NODE_DRAGLEAVE="node:dragleave",Nt.NODE_DRAGSTART="node:dragstart",Nt.NODE_DRAG="node:drag",Nt.NODE_DRAGEND="node:dragend",Nt.COMBO_CONTEXTMENU="combo:contextmenu",Nt.COMBO_CLICK="combo:click",Nt.COMBO_DBLCLICK="combo:dblclick",Nt.COMBO_MOUSEDOWN="combo:mousedown",Nt.COMBO_MOUSEUP="combo:mouseup",Nt.COMBO_MOUSEENTER="combo:mouseenter",Nt.COMBO_MOUSELEAVE="combo:mouseleave",Nt.COMBO_MOUSEMOVE="combo:mousemove",Nt.COMBO_MOUSEOUT="combo:mouseout",Nt.COMBO_MOUSEOVER="combo:mouseover",Nt.COMBO_DROP="combo:drop",Nt.COMBO_DRAGOVER="combo:dragover",Nt.COMBO_DRAGENTER="combo:dragenter",Nt.COMBO_DRAGLEAVE="combo:dragleave",Nt.COMBO_DRAGSTART="combo:dragstart",Nt.COMBO_DRAG="combo:drag",Nt.COMBO_DRAGEND="combo:dragend",Nt.EDGE_CONTEXTMENU="edge:contextmenu",Nt.EDGE_CLICK="edge:click",Nt.EDGE_DBLCLICK="edge:dblclick",Nt.EDGE_MOUSEDOWN="edge:mousedown",Nt.EDGE_MOUSEUP="edge:mouseup",Nt.EDGE_MOUSEENTER="edge:mouseenter",Nt.EDGE_MOUSELEAVE="edge:mouseleave",Nt.EDGE_MOUSEMOVE="edge:mousemove",Nt.EDGE_MOUSEOUT="edge:mouseout",Nt.EDGE_MOUSEOVER="edge:mouseover",Nt.EDGE_DROP="edge:drop",Nt.EDGE_DRAGOVER="edge:dragover",Nt.EDGE_DRAGENTER="edge:dragenter",Nt.EDGE_DRAGLEAVE="edge:dragleave",Nt.CANVAS_CONTEXTMENU="canvas:contextmenu",Nt.CANVAS_CLICK="canvas:click",Nt.CANVAS_DBLCLICK="canvas:dblclick",Nt.CANVAS_MOUSEDOWN="canvas:mousedown",Nt.CANVAS_MOUSEUP="canvas:mouseup",Nt.CANVAS_MOUSEENTER="canvas:mouseenter",Nt.CANVAS_MOUSELEAVE="canvas:mouseleave",Nt.CANVAS_MOUSEMOVE="canvas:mousemove",Nt.CANVAS_MOUSEOUT="canvas:mouseout",Nt.CANVAS_MOUSEOVER="canvas:mouseover",Nt.CANVAS_DROP="canvas:drop",Nt.CANVAS_DRAGENTER="canvas:dragenter",Nt.CANVAS_DRAGLEAVE="canvas:dragleave",Nt.CANVAS_DRAGSTART="canvas:dragstart",Nt.CANVAS_DRAG="canvas:drag",Nt.CANVAS_DRAGEND="canvas:dragend",Nt.BEFORERENDER="beforerender",Nt.AFTERRENDER="afterrender",Nt.BEFOREADDITEM="beforeadditem",Nt.AFTERADDITEM="afteradditem",Nt.BEFOREREMOVEITEM="beforeremoveitem",Nt.AFTERREMOVEITEM="afterremoveitem",Nt.BEFOREUPDATEITEM="beforeupdateitem",Nt.AFTERUPDATEITEM="afterupdateitem",Nt.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",Nt.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",Nt.BEFOREITEMSTATECHANGE="beforeitemstatechange",Nt.AFTERITEMSTATECHANGE="afteritemstatechange",Nt.BEFOREITEMREFRESH="beforeitemrefresh",Nt.AFTERITEMREFRESH="afteritemrefresh",Nt.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",Nt.AFTERITEMSTATESCLEAR="afteritemstatesclear",Nt.BEFOREMODECHANGE="beforemodechange",Nt.AFTERMODECHANGE="aftermodechange",Nt.BEFORELAYOUT="beforelayout",Nt.AFTERLAYOUT="afterlayout",Nt.BEFORECREATEEDGE="beforecreateedge",Nt.AFTERCREATEEDGE="aftercreateedge",Nt.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",Nt.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",Nt.BEFOREGRAPHREFRESH="beforegraphrefresh",Nt.AFTERGRAPHREFRESH="aftergraphrefresh",Nt.BEFOREANIMATE="beforeanimate",Nt.AFTERANIMATE="afteranimate",Nt.BEFOREPAINT="beforepaint",Nt.AFTERPAINT="afterpaint",Nt.BEFORECOLLAPSEEXPANDCOMBO="beforecollapseexpandcombo",Nt.AFTERCOLLAPSEEXPANDCOMBO="aftercollapseexpandcombo",Nt.GRAPHSTATECHANGE="graphstatechange",Nt.AFTERACTIVATERELATIONS="afteractivaterelations",Nt.NODESELECTCHANGE="nodeselectchange",Nt.TOOLTIPCHANGE="tooltipchange",Nt.WHEELZOOM="wheelzoom",Nt.VIEWPORTCHANGE="viewportchange",Nt.DRAGNODEEND="dragnodeend",Nt.STACKCHANGE="stackchange"}(na||(na={})),pa.registerNode,pa.registerEdge,pa.registerCombo,dt.registerBehavior,pa.registerNode,pa.registerEdge,pa.registerCombo,dt.registerBehavior;var za=function(){var Nt=function(c,R){return(Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,ut){Y.__proto__=ut}||function(Y,ut){for(var jt in ut)Object.prototype.hasOwnProperty.call(ut,jt)&&(Y[jt]=ut[jt])})(c,R)};return function(f,c){function R(){this.constructor=f}Nt(f,c),f.prototype=c===null?Object.create(c):(R.prototype=c.prototype,new R)}}(),Ci=Ui.applyMatrix,Qi=function(Nt){function f(){return Nt!==null&&Nt.apply(this,arguments)||this}return za(f,Nt),f.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},f.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},f.prototype.disableRefresh=function(){this.set("refresh",!1)},f.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},f.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},f.prototype.initViewport=function(){var c=this,R=this._cfgs,Y=R.graph;if(!this.destroyed){var ut=this.get("container");Object(o.x)(ut)&&(ut=document.getElementById(ut));var jt=Object(T.b)("<div class="+R.viewportClassName+`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff'>
      </div>`),Ut=0,Et=0,qt=!1,se=0,je=0,Ie=0,Ue=0,Ke=0,An=0;ut.addEventListener("mousedown",function(Bn){if(R.refresh=!1,Bn.target===jt){var Wn=jt.style;Ie=parseInt(Wn.width,10),Ue=parseInt(Wn.height,10);var Yn=c.get("width"),Jn=c.get("height");Ie>Yn||Ue>Jn||(An=Y.getZoom(),Ke=c.get("ratio"),qt=!0,Ut=Bn.clientX,Et=Bn.clientY)}},!1),ut.addEventListener("mousemove",function(Bn){if(qt&&!Object(o.s)(Bn.clientX)&&!Object(o.s)(Bn.clientY)){var Wn=c.get("width"),Yn=c.get("height"),Jn=jt.style;se=parseInt(Jn.left,10),je=parseInt(Jn.top,10),Ie=parseInt(Jn.width,10),Ue=parseInt(Jn.height,10);var Ar=Ut-Bn.clientX,ur=Et-Bn.clientY;se-Ar<0?Ar=se:se-Ar+Ie>=Wn&&(Ar=0),je-ur<0?ur=je:je-ur+Ue>=Yn&&(ur=0),se-=Ar,je-=ur,Object(T.c)(jt,{left:se+"px",top:je+"px"}),Y.translate(Ar*An/Ke,ur*An/Ke),Ut=Bn.clientX,Et=Bn.clientY}},!1),ut.addEventListener("mouseleave",function(){qt=!1,R.refresh=!0},!1),ut.addEventListener("mouseup",function(){qt=!1,R.refresh=!0},!1),this.set("viewport",jt),ut.appendChild(jt)}},f.prototype.updateViewport=function(){if(!this.destroyed){var c=this.get("ratio"),R=this.get("width"),Y=this.get("height"),ut=this.get("graph"),jt=ut.get("width"),Ut=jt/ut.get("height"),Et=ut.getGroup(),qt=Et.getCanvasBBox(),se=[(qt.minX+qt.maxX)/2,(qt.minY+qt.maxY)/2],je=[qt.maxX-qt.minX,qt.maxY-qt.minY],Ie={centerX:se[0],centerY:se[1],width:0,height:0,minX:0,minY:0};qt[0]/qt[1]>Ut?(Ie.width=je[0],Ie.height=Ie.width/Ut):(Ie.height=je[1],Ie.width=Ie.height*Ut),Ie.minX=se[0]-Ie.width/2,Ie.minY=se[1]-Ie.height/2;var Ue=Et.getMatrix();Ue||(Ue=[1,0,0,0,1,0,0,0,1]);var Ke=X.b.invert([1,0,0,0,1,0,0,0,1],Ue),An=Ci({x:Ie.minX,y:Ie.minY},Ke),Bn=ut.getCanvasByPoint(An.x,An.y),Wn=this.get("viewport");Wn||this.initViewport();var Yn=jt/Ie.width,Jn=Yn*R,Ar=Yn*Y,ur=R*-Bn.x/Ie.width,mr=Y*-Bn.y/Ie.height,ii=ur+Jn,Li=mr+Ar;ur<0&&(Jn+=ur,ur=0),ii>R&&(Jn-=ii-R),mr<0&&(Ar+=mr,mr=0),Li>Y&&(Ar-=Li-Y),this.set("ratio",c);var ci=ur+"px",Yi=mr+"px";Object(T.c)(Wn,{left:ci,top:Yi,width:Jn+"px",height:Ar+"px"})}},f.prototype.init=function(){this.initContainer()},f.prototype.initContainer=function(){var c=this.get("graph"),R=c.get("width"),Y=c.get("height")/R,ut=this.get("className"),jt=this.get("container"),Ut=this.get("width"),Et=this.get("height");Ut||Et||(Ut=200),Ut?(Et=Y*Ut,this.set("height",Et)):(Ut=1/Y*Et,this.set("width",Ut));var qt=Object(T.b)("<div class='"+ut+"' style='width: "+Ut+"px; height: "+Et+"px; overflow: hidden; position: relative;'></div>");Object(o.x)(jt)&&(jt=document.getElementById(jt)),jt?jt.appendChild(qt):c.get("container").appendChild(qt),this.set("container",qt);var se=Object(T.b)('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');qt.appendChild(se);var je=Object(T.b)('<span style="display: table-cell; vertical-align: middle; "></span>');se.appendChild(je),this.set("containerDOM",se),this.set("containerSpan",je);var Ie=Object(T.b)('<img alt="" src="'+this.get("graphImg")+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');this.set("imgDOM",Ie),this.updateImgSize(),je.appendChild(Ie),this.updateCanvas()},f.prototype.updateImgSize=function(){var c=this.get("imgDOM"),R=this.get("width"),Y=this.get("height");c.onload=function(){var ut=function(jt,Ut){var Et,qt;if(jt.naturalWidth)Et=jt.naturalWidth,qt=jt.naturalHeight;else{var se=new Image;se.src=jt.src,se.onload=function(){Ut&&Ut(se.width,se.height)}}return[Et,qt]}(c);ut[0]>ut[1]?c.width=R:c.height=Y}},f.prototype.updateCanvas=function(){if(this.get("refresh")){var c=this.get("graph");if(!c.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var R=this.get("width")/c.get("canvas").getCanvasBBox().width;this.set("ratio",R),this.updateViewport()}}},f.prototype.getViewport=function(){return this.get("viewport")},f.prototype.getContainer=function(){return this.get("container")},f.prototype.updateGraphImg=function(c){this.get("imgDOM").remove(),this.set("graphImg",c);var R=Object(T.b)('<img alt="" src="'+c+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');this.set("imgDOM",R),R.src=c,this.updateImgSize(),this.get("containerSpan").appendChild(R),this.updateCanvas()},f.prototype.destroy=function(){var c=this.get("container");c.parentNode.removeChild(c)},f}(s),Pa=function(){var Nt=function(c,R){return(Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,ut){Y.__proto__=ut}||function(Y,ut){for(var jt in ut)Object.prototype.hasOwnProperty.call(ut,jt)&&(Y[jt]=ut[jt])})(c,R)};return function(f,c){function R(){this.constructor=f}Nt(f,c),f.prototype=c===null?Object.create(c):(R.prototype=c.prototype,new R)}}(),Ri=function(){return(Ri=Object.assign||function(f){for(var c,R=1,Y=arguments.length;R<Y;R++)for(var ut in c=arguments[R])Object.prototype.hasOwnProperty.call(c,ut)&&(f[ut]=c[ut]);return f}).apply(this,arguments)},Vi=Ui.distance,Zi={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},eo={PluginBase:s,Menu:x,Grid:C,Minimap:vt,Bundling:Bt,ToolBar:xt,Tooltip:Q,Fisheye:ot,TimeBar:F,ImageMinimap:Qi,EdgeFilterLens:function(Nt){function f(){return Nt!==null&&Nt.apply(this,arguments)||this}return Pa(f,Nt),f.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:Object(o.c)(Zi),showLabel:"edge",scaleRBy:"wheel"}},f.prototype.getEvents=function(){var c;switch(this.get("trigger")){case"click":c={click:"filter"};break;case"drag":c={click:"createDelegate"};break;default:c={mousemove:"filter"}}return c},f.prototype.init=function(){var c=this.get("showLabel"),R=c==="node"||c==="both",Y=c==="edge"||c==="both";this.set("showNodeLabel",R),this.set("showEdgeLabel",Y),this.get("shouldShow")||this.set("shouldShow",function(){return!0})},f.prototype.createDelegate=function(c){var R=this,Y=R.get("delegate");Y&&!Y.destroyed||(R.filter(c),(Y=R.get("delegate")).on("dragstart",function(ut){}),Y.on("drag",function(ut){R.filter(ut)}),this.get("scaleRBy")==="wheel"&&Y.on("mousewheel",function(ut){R.scaleRByWheel(ut)}))},f.prototype.scaleRByWheel=function(c){if(c&&c.originalEvent){c.preventDefault&&c.preventDefault();var R,Y=this.get("graph"),ut=this.get("delegate");(ut?{x:ut.attr("x"),y:ut.attr("y")}:void 0)||Y.getPointByClient(c.clientX,c.clientY),R=c.originalEvent.wheelDelta<0?.95:1/.95;var jt=this.get("maxR"),Ut=this.get("minR"),Et=this.get("r");(Et>(jt||Y.get("height"))&&R>1||Et<(Ut||.05*Y.get("height"))&&R<1)&&(R=1),Et*=R,this.set("r",Et),this.filter(c)}},f.prototype.filter=function(c){var R=this.get("graph"),Y=R.getNodes(),ut={},jt=this.get("r"),Ut=this.get("type"),Et={x:c.x,y:c.y};this.updateDelegate(Et,jt);var qt=this.get("shouldShow"),se=this.get("vShapes");se&&se.forEach(function(Bn){Bn.remove(),Bn.destroy()}),se=[],Y.forEach(function(Bn){var Wn=Bn.getModel(),Yn=Wn.x,Jn=Wn.y;Vi({x:Yn,y:Jn},Et)<jt&&(ut[Wn.id]=Bn)});var je=R.getEdges(),Ie=[];je.forEach(function(Bn){var Wn=Bn.getModel(),Yn=Wn.source,Jn=Wn.target;qt(Wn)&&(Ut==="only-source"||Ut==="one"?ut[Yn]&&!ut[Jn]&&Ie.push(Bn):Ut==="only-target"||Ut==="one"?ut[Jn]&&!ut[Yn]&&Ie.push(Bn):Ut==="both"&&ut[Yn]&&ut[Jn]&&Ie.push(Bn))});var Ue=this.get("showNodeLabel"),Ke=this.get("showEdgelabel"),An=R.get("group");Ie.forEach(function(Bn){Bn.get("group").get("children").forEach(function(Wn){var Yn=Wn.get("type"),Jn=An.addShape(Yn,{attrs:Wn.attr()});se.push(Jn),Ue&&Yn==="text"&&Jn.set("visible",!0)})}),Object.keys(ut).forEach(function(Bn){var Wn=ut[Bn].get("group").clone();if(An.add(Wn),se.push(Wn),Ke)for(var Yn=Wn.get("children"),Jn=0;Jn<Yn.length;Jn++){var Ar=Yn[Jn];Ar.get("type")==="text"&&Ar.set("visible",!0)}}),this.set("vShapes",se)},f.prototype.updateParams=function(c){var R=c.r,Y=c.trigger,ut=c.minR,jt=c.maxR,Ut=c.scaleRBy,Et=c.showLabel,qt=c.shouldShow;if(isNaN(c.r)||this.set("r",R),isNaN(jt)||this.set("maxR",jt),isNaN(ut)||this.set("minR",ut),Y!=="mousemove"&&Y!=="click"||this.set("trigger",Y),Ut==="wheel"||Ut==="unset"){this.set("scaleRBy",Ut),this.get("delegate").remove(),this.get("delegate").destroy();var se=this.get("dPercentText");se&&(se.remove(),se.destroy())}Et!=="node"&&Et!=="both"||this.set("showNodeLabel",!0),Et!=="edge"&&Et!=="both"||this.set("showEdgeLabel",!0),qt&&this.set("shouldShow",qt)},f.prototype.updateDelegate=function(c,R){var Y=this,ut=Y.get("graph"),jt=Y.get("delegate");if(!jt||jt.destroyed){var Ut=ut.get("group"),Et=Y.get("delegateStyle")||Zi;jt=Ut.addShape("circle",{attrs:Ri({r:R,x:c.x,y:c.y},Et),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&jt.on("mousewheel",function(qt){Y.scaleRByWheel(qt)})}else jt.attr({x:c.x,y:c.y,r:R});Y.set("delegate",jt)},f.prototype.clear=function(){var c=this.get("vShapes");c&&c.forEach(function(Y){Y.remove(),Y.destroy()}),c=[],this.set("vShapes",c);var R=this.get("delegate");R&&!R.destroyed&&(R.remove(),R.destroy())},f.prototype.destroy=function(){this.clear()},f}(s)};M.a=eo},function(a,M,t){"use strict";t.d(M,"b",function(){return d}),t.d(M,"c",function(){return S}),t.d(M,"a",function(){return b});var n=t(22);function d(h,E){var T=h.cfg.el,o=h.attr(),s={dx:o.shadowOffsetX,dy:o.shadowOffsetY,blur:o.shadowBlur,color:o.shadowColor};if(s.dx||s.dy||s.blur||s.color){var u=E.find("filter",s);u||(u=E.addShadow(s)),T.setAttribute("filter","url(#"+u+")")}else T.removeAttribute("filter")}function S(h){var E=h.attr().matrix;if(E){for(var T=h.cfg.el,o=[],s=0;s<9;s+=3)o.push(E[s]+","+E[s+1]);(o=o.join(",")).indexOf("NaN")===-1?T.setAttribute("transform","matrix("+o+")"):console.warn("invalid matrix:",E)}}function b(h,E){var T=h.getClip(),o=h.get("el");if(T){if(T&&!o.hasAttribute("clip-path")){Object(n.a)(T),T.createPath(E);var s=E.addClip(T);o.setAttribute("clip-path","url(#"+s+")")}}else o.removeAttribute("clip-path")}},function(a,M,t){"use strict";var n=t(24),d=t(46).Graph;function S(h,E,T,o){var s;do s=n.uniqueId(o);while(h.hasNode(s));return T.dummy=E,h.setNode(s,T),s}function b(h){return n.max(n.map(h.nodes(),function(E){var T=h.node(E).rank;if(!n.isUndefined(T))return T}))}a.exports={addDummyNode:S,simplify:function(E){var T=new d().setGraph(E.graph());return n.forEach(E.nodes(),function(o){T.setNode(o,E.node(o))}),n.forEach(E.edges(),function(o){var s=T.edge(o.v,o.w)||{weight:0,minlen:1},u=E.edge(o);T.setEdge(o.v,o.w,{weight:s.weight+u.weight,minlen:Math.max(s.minlen,u.minlen)})}),T},asNonCompoundGraph:function(E){var T=new d({multigraph:E.isMultigraph()}).setGraph(E.graph());return n.forEach(E.nodes(),function(o){E.children(o).length||T.setNode(o,E.node(o))}),n.forEach(E.edges(),function(o){T.setEdge(o,E.edge(o))}),T},successorWeights:function(E){var T=n.map(E.nodes(),function(o){var s={};return n.forEach(E.outEdges(o),function(u){s[u.w]=(s[u.w]||0)+E.edge(u).weight}),s});return n.zipObject(E.nodes(),T)},predecessorWeights:function(E){var T=n.map(E.nodes(),function(o){var s={};return n.forEach(E.inEdges(o),function(u){s[u.v]=(s[u.v]||0)+E.edge(u).weight}),s});return n.zipObject(E.nodes(),T)},intersectRect:function(E,T){var o,s,u=E.x,v=E.y,C=T.x-u,O=T.y-v,j=E.width/2,p=E.height/2;if(!C&&!O)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(O)*j>Math.abs(C)*p?(O<0&&(p=-p),o=p*C/O,s=p):(C<0&&(j=-j),o=j,s=j*O/C),{x:u+o,y:v+s}},buildLayerMatrix:function(E){var T=n.map(n.range(b(E)+1),function(){return[]});return n.forEach(E.nodes(),function(o){var s=E.node(o),u=s.rank;n.isUndefined(u)||(T[u][s.order]=o)}),T},normalizeRanks:function(E){var T=n.min(n.map(E.nodes(),function(o){return E.node(o).rank}));n.forEach(E.nodes(),function(o){var s=E.node(o);n.has(s,"rank")&&(s.rank-=T)})},removeEmptyRanks:function(E){var T=n.min(n.map(E.nodes(),function(v){return E.node(v).rank})),o=[];n.forEach(E.nodes(),function(v){var C=E.node(v).rank-T;o[C]||(o[C]=[]),o[C].push(v)});var s=0,u=E.graph().nodeRankFactor;n.forEach(o,function(v,C){n.isUndefined(v)&&C%u!=0?--s:s&&n.forEach(v,function(O){E.node(O).rank+=s})})},addBorderNode:function(E,T,o,s){var u={width:0,height:0};return arguments.length>=4&&(u.rank=o,u.order=s),S(E,"border",u,T)},maxRank:b,partition:function(E,T){var o={lhs:[],rhs:[]};return n.forEach(E,function(s){T(s)?o.lhs.push(s):o.rhs.push(s)}),o},time:function(E,T){var o=n.now();try{return T()}finally{console.log(E+" time: "+(n.now()-o)+"ms")}},notime:function(E,T){return T()}}},function(a,M,t){"use strict";var n={};t.r(n),t.d(n,"proccessToFunc",function(){return T}),t.d(n,"buildTextureData",function(){return o}),t.d(n,"buildTextureDataWithOneEdgeAttr",function(){return s}),t.d(n,"buildTextureDataWithTwoEdgeAttr",function(){return u}),t.d(n,"attributesToTextureData",function(){return v}),t.d(n,"arrayToTextureData",function(){return C}),t.d(n,"radialLayout",function(){return O});var d=t(1),S=t(123),b=t(5),h=t(0),E=b.n.traverseTree,T=function(A,k){return A?Object(h.t)(A)?function(X){return A}:A:function(X){return k||1}},o=function(A,k){var X=[],et=[],tt={},ft=0;for(ft=0;ft<A.length;ft++){var st=A[ft];tt[st.id]=ft,X.push(st.x),X.push(st.y),X.push(0),X.push(0),et.push([])}for(ft=0;ft<k.length;ft++){var vt=k[ft];et[tt[vt.source]].push(tt[vt.target]),et[tt[vt.target]].push(tt[vt.source])}var mt=0;for(ft=0;ft<A.length;ft++){var pt=X.length,rt=et[ft],Bt=rt.length;X[4*ft+2]=pt,X[4*ft+3]=rt.length,mt=Math.max(mt,rt.length);for(var It=0;It<Bt;++It){var St=rt[It];X.push(+St)}}for(;X.length%4!=0;)X.push(0);return{array:new Float32Array(X),maxEdgePerVetex:mt}},s=function(A,k,X){var et=[],tt=[],ft={},st=0;for(st=0;st<A.length;st++){var vt=A[st];ft[vt.id]=st,et.push(vt.x),et.push(vt.y),et.push(0),et.push(0),tt.push([])}for(st=0;st<k.length;st++){var mt=k[st];tt[ft[mt.source]].push(ft[mt.target]),tt[ft[mt.source]].push(X(mt)),tt[ft[mt.target]].push(ft[mt.source]),tt[ft[mt.target]].push(X(mt))}var pt=0;for(st=0;st<A.length;st++){var rt=et.length,Bt=tt[st],It=Bt.length;et[4*st+2]=rt,et[4*st+3]=It/2,pt=Math.max(pt,It/2);for(var St=0;St<It;++St){var H=Bt[St];et.push(+H)}}for(;et.length%4!=0;)et.push(0);return{array:new Float32Array(et),maxEdgePerVetex:pt}},u=function(A,k,X,et){var tt=[],ft=[],st={},vt=0;for(vt=0;vt<A.length;vt++){var mt=A[vt];st[mt.id]=vt,tt.push(mt.x),tt.push(mt.y),tt.push(0),tt.push(0),ft.push([])}for(vt=0;vt<k.length;vt++){var pt=k[vt];ft[st[pt.source]].push(st[pt.target]),ft[st[pt.source]].push(X(pt)),ft[st[pt.source]].push(et(pt)),ft[st[pt.source]].push(0),ft[st[pt.target]].push(st[pt.source]),ft[st[pt.target]].push(X(pt)),ft[st[pt.target]].push(et(pt)),ft[st[pt.target]].push(0)}var rt=0;for(vt=0;vt<A.length;vt++){var Bt=tt.length,It=ft[vt],St=It.length;tt[4*vt+2]=Bt+1048576*St/4,tt[4*vt+3]=0,rt=Math.max(rt,St/4);for(var H=0;H<St;++H){var ot=It[H];tt.push(+ot)}}for(;tt.length%4!=0;)tt.push(0);return{array:new Float32Array(tt),maxEdgePerVetex:rt}},v=function(A,k){var X=[],et=A.length,tt={};return k.forEach(function(ft){A.forEach(function(st,vt){if(tt[ft[st]]===void 0&&(tt[ft[st]]=Object.keys(tt).length),X.push(tt[ft[st]]),vt===et-1)for(;X.length%4!=0;)X.push(0)})}),{array:new Float32Array(X),count:Object.keys(tt).length}},C=function(A){for(var k=[],X=A.length,et=A[0].length,tt=function(vt){A.forEach(function(mt,pt){if(k.push(mt[vt]),pt===X-1)for(;k.length%4!=0;)k.push(0)})},ft=0;ft<et;ft++)tt(ft);return new Float32Array(k)},O=function(A,k){var X={x:1/0,y:1/0},et={x:-1/0,y:-1/0},tt="x",ft="y";k&&["V","TB","BT"].indexOf(k)>=0&&(ft="x",tt="y");var st=0;E(A,function(pt){return st++,pt.x>et.x&&(et.x=pt.x),pt.x<X.x&&(X.x=pt.x),pt.y>et.y&&(et.y=pt.y),pt.y<X.y&&(X.y=pt.y),!0});var vt=2*Math.PI/st,mt=et[ft]-X[ft];return mt===0||E(A,function(pt){var rt=(pt[ft]-X[ft])/mt*(2*Math.PI-vt)+vt,Bt=Math.abs(tt==="x"?pt.x-A.x:pt.y-A.y);return pt.x=Bt*Math.cos(rt),pt.y=Bt*Math.sin(rt),!0}),A},j=t(122),p=Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)({},b.n),S),n),j);M.a=p},function(a,M,t){"use strict";function n(b,h){var E=[],T=b[0],o=b[1],s=b[2],u=b[3],v=b[4],C=b[5],O=b[6],j=b[7],p=b[8],x=h[0],A=h[1],k=h[2],X=h[3],et=h[4],tt=h[5],ft=h[6],st=h[7],vt=h[8];return E[0]=x*T+A*u+k*O,E[1]=x*o+A*v+k*j,E[2]=x*s+A*C+k*p,E[3]=X*T+et*u+tt*O,E[4]=X*o+et*v+tt*j,E[5]=X*s+et*C+tt*p,E[6]=ft*T+st*u+vt*O,E[7]=ft*o+st*v+vt*j,E[8]=ft*s+st*C+vt*p,E}function d(b,h){var E=[],T=h[0],o=h[1];return E[0]=b[0]*T+b[3]*o+b[6],E[1]=b[1]*T+b[4]*o+b[7],E}function S(b){var h=[],E=b[0],T=b[1],o=b[2],s=b[3],u=b[4],v=b[5],C=b[6],O=b[7],j=b[8],p=j*u-v*O,x=-j*s+v*C,A=O*s-u*C,k=E*p+T*x+o*A;return k?(k=1/k,h[0]=p*k,h[1]=(-j*T+o*O)*k,h[2]=(v*T-o*u)*k,h[3]=x*k,h[4]=(j*E-o*C)*k,h[5]=(-v*E+o*s)*k,h[6]=A*k,h[7]=(-O*E+T*C)*k,h[8]=(u*E-T*s)*k,h):null}t.d(M,"b",function(){return n}),t.d(M,"c",function(){return d}),t.d(M,"a",function(){return S})},function(a,M,t){"use strict";t.r(M),t.d(M,"create",function(){return d}),t.d(M,"clone",function(){return S}),t.d(M,"length",function(){return b}),t.d(M,"fromValues",function(){return h}),t.d(M,"copy",function(){return E}),t.d(M,"set",function(){return T}),t.d(M,"add",function(){return o}),t.d(M,"subtract",function(){return s}),t.d(M,"multiply",function(){return u}),t.d(M,"divide",function(){return v}),t.d(M,"ceil",function(){return C}),t.d(M,"floor",function(){return O}),t.d(M,"min",function(){return j}),t.d(M,"max",function(){return p}),t.d(M,"round",function(){return x}),t.d(M,"scale",function(){return A}),t.d(M,"scaleAndAdd",function(){return k}),t.d(M,"distance",function(){return X}),t.d(M,"squaredDistance",function(){return et}),t.d(M,"squaredLength",function(){return tt}),t.d(M,"negate",function(){return ft}),t.d(M,"inverse",function(){return st}),t.d(M,"normalize",function(){return vt}),t.d(M,"dot",function(){return mt}),t.d(M,"cross",function(){return pt}),t.d(M,"lerp",function(){return rt}),t.d(M,"hermite",function(){return Bt}),t.d(M,"bezier",function(){return It}),t.d(M,"random",function(){return St}),t.d(M,"transformMat4",function(){return H}),t.d(M,"transformMat3",function(){return ot}),t.d(M,"transformQuat",function(){return yt}),t.d(M,"rotateX",function(){return xt}),t.d(M,"rotateY",function(){return wt}),t.d(M,"rotateZ",function(){return Q}),t.d(M,"angle",function(){return ct}),t.d(M,"zero",function(){return it}),t.d(M,"str",function(){return U}),t.d(M,"exactEquals",function(){return D}),t.d(M,"equals",function(){return W}),t.d(M,"sub",function(){return m}),t.d(M,"mul",function(){return y}),t.d(M,"div",function(){return V}),t.d(M,"dist",function(){return J}),t.d(M,"sqrDist",function(){return ht}),t.d(M,"len",function(){return gt}),t.d(M,"sqrLen",function(){return Mt}),t.d(M,"forEach",function(){return Lt});var n=t(11);function d(){var At=new n.a(3);return n.a!=Float32Array&&(At[0]=0,At[1]=0,At[2]=0),At}function S(At){var Ct=new n.a(3);return Ct[0]=At[0],Ct[1]=At[1],Ct[2]=At[2],Ct}function b(At){var Ct=At[0],Ot=At[1],Dt=At[2];return Math.hypot(Ct,Ot,Dt)}function h(At,Ct,Ot){var Dt=new n.a(3);return Dt[0]=At,Dt[1]=Ct,Dt[2]=Ot,Dt}function E(At,Ct){return At[0]=Ct[0],At[1]=Ct[1],At[2]=Ct[2],At}function T(At,Ct,Ot,Dt){return At[0]=Ct,At[1]=Ot,At[2]=Dt,At}function o(At,Ct,Ot){return At[0]=Ct[0]+Ot[0],At[1]=Ct[1]+Ot[1],At[2]=Ct[2]+Ot[2],At}function s(At,Ct,Ot){return At[0]=Ct[0]-Ot[0],At[1]=Ct[1]-Ot[1],At[2]=Ct[2]-Ot[2],At}function u(At,Ct,Ot){return At[0]=Ct[0]*Ot[0],At[1]=Ct[1]*Ot[1],At[2]=Ct[2]*Ot[2],At}function v(At,Ct,Ot){return At[0]=Ct[0]/Ot[0],At[1]=Ct[1]/Ot[1],At[2]=Ct[2]/Ot[2],At}function C(At,Ct){return At[0]=Math.ceil(Ct[0]),At[1]=Math.ceil(Ct[1]),At[2]=Math.ceil(Ct[2]),At}function O(At,Ct){return At[0]=Math.floor(Ct[0]),At[1]=Math.floor(Ct[1]),At[2]=Math.floor(Ct[2]),At}function j(At,Ct,Ot){return At[0]=Math.min(Ct[0],Ot[0]),At[1]=Math.min(Ct[1],Ot[1]),At[2]=Math.min(Ct[2],Ot[2]),At}function p(At,Ct,Ot){return At[0]=Math.max(Ct[0],Ot[0]),At[1]=Math.max(Ct[1],Ot[1]),At[2]=Math.max(Ct[2],Ot[2]),At}function x(At,Ct){return At[0]=Math.round(Ct[0]),At[1]=Math.round(Ct[1]),At[2]=Math.round(Ct[2]),At}function A(At,Ct,Ot){return At[0]=Ct[0]*Ot,At[1]=Ct[1]*Ot,At[2]=Ct[2]*Ot,At}function k(At,Ct,Ot,Dt){return At[0]=Ct[0]+Ot[0]*Dt,At[1]=Ct[1]+Ot[1]*Dt,At[2]=Ct[2]+Ot[2]*Dt,At}function X(At,Ct){var Ot=Ct[0]-At[0],Dt=Ct[1]-At[1],Ft=Ct[2]-At[2];return Math.hypot(Ot,Dt,Ft)}function et(At,Ct){var Ot=Ct[0]-At[0],Dt=Ct[1]-At[1],Ft=Ct[2]-At[2];return Ot*Ot+Dt*Dt+Ft*Ft}function tt(At){var Ct=At[0],Ot=At[1],Dt=At[2];return Ct*Ct+Ot*Ot+Dt*Dt}function ft(At,Ct){return At[0]=-Ct[0],At[1]=-Ct[1],At[2]=-Ct[2],At}function st(At,Ct){return At[0]=1/Ct[0],At[1]=1/Ct[1],At[2]=1/Ct[2],At}function vt(At,Ct){var Ot=Ct[0],Dt=Ct[1],Ft=Ct[2],Xt=Ot*Ot+Dt*Dt+Ft*Ft;return Xt>0&&(Xt=1/Math.sqrt(Xt)),At[0]=Ct[0]*Xt,At[1]=Ct[1]*Xt,At[2]=Ct[2]*Xt,At}function mt(At,Ct){return At[0]*Ct[0]+At[1]*Ct[1]+At[2]*Ct[2]}function pt(At,Ct,Ot){var Dt=Ct[0],Ft=Ct[1],Xt=Ct[2],Rt=Ot[0],Kt=Ot[1],$t=Ot[2];return At[0]=Ft*$t-Xt*Kt,At[1]=Xt*Rt-Dt*$t,At[2]=Dt*Kt-Ft*Rt,At}function rt(At,Ct,Ot,Dt){var Ft=Ct[0],Xt=Ct[1],Rt=Ct[2];return At[0]=Ft+Dt*(Ot[0]-Ft),At[1]=Xt+Dt*(Ot[1]-Xt),At[2]=Rt+Dt*(Ot[2]-Rt),At}function Bt(At,Ct,Ot,Dt,Ft,Xt){var Rt=Xt*Xt,Kt=Rt*(2*Xt-3)+1,$t=Rt*(Xt-2)+Xt,le=Rt*(Xt-1),Me=Rt*(3-2*Xt);return At[0]=Ct[0]*Kt+Ot[0]*$t+Dt[0]*le+Ft[0]*Me,At[1]=Ct[1]*Kt+Ot[1]*$t+Dt[1]*le+Ft[1]*Me,At[2]=Ct[2]*Kt+Ot[2]*$t+Dt[2]*le+Ft[2]*Me,At}function It(At,Ct,Ot,Dt,Ft,Xt){var Rt=1-Xt,Kt=Rt*Rt,$t=Xt*Xt,le=Kt*Rt,Me=3*Xt*Kt,on=3*$t*Rt,hn=$t*Xt;return At[0]=Ct[0]*le+Ot[0]*Me+Dt[0]*on+Ft[0]*hn,At[1]=Ct[1]*le+Ot[1]*Me+Dt[1]*on+Ft[1]*hn,At[2]=Ct[2]*le+Ot[2]*Me+Dt[2]*on+Ft[2]*hn,At}function St(At,Ct){Ct=Ct||1;var Ot=2*n.c()*Math.PI,Dt=2*n.c()-1,Ft=Math.sqrt(1-Dt*Dt)*Ct;return At[0]=Math.cos(Ot)*Ft,At[1]=Math.sin(Ot)*Ft,At[2]=Dt*Ct,At}function H(At,Ct,Ot){var Dt=Ct[0],Ft=Ct[1],Xt=Ct[2],Rt=Ot[3]*Dt+Ot[7]*Ft+Ot[11]*Xt+Ot[15];return Rt=Rt||1,At[0]=(Ot[0]*Dt+Ot[4]*Ft+Ot[8]*Xt+Ot[12])/Rt,At[1]=(Ot[1]*Dt+Ot[5]*Ft+Ot[9]*Xt+Ot[13])/Rt,At[2]=(Ot[2]*Dt+Ot[6]*Ft+Ot[10]*Xt+Ot[14])/Rt,At}function ot(At,Ct,Ot){var Dt=Ct[0],Ft=Ct[1],Xt=Ct[2];return At[0]=Dt*Ot[0]+Ft*Ot[3]+Xt*Ot[6],At[1]=Dt*Ot[1]+Ft*Ot[4]+Xt*Ot[7],At[2]=Dt*Ot[2]+Ft*Ot[5]+Xt*Ot[8],At}function yt(At,Ct,Ot){var Dt=Ot[0],Ft=Ot[1],Xt=Ot[2],Rt=Ot[3],Kt=Ct[0],$t=Ct[1],le=Ct[2],Me=Ft*le-Xt*$t,on=Xt*Kt-Dt*le,hn=Dt*$t-Ft*Kt,Cn=Ft*hn-Xt*on,He=Xt*Me-Dt*hn,mn=Dt*on-Ft*Me,dn=2*Rt;return Me*=dn,on*=dn,hn*=dn,Cn*=2,He*=2,mn*=2,At[0]=Kt+Me+Cn,At[1]=$t+on+He,At[2]=le+hn+mn,At}function xt(At,Ct,Ot,Dt){var Ft=[],Xt=[];return Ft[0]=Ct[0]-Ot[0],Ft[1]=Ct[1]-Ot[1],Ft[2]=Ct[2]-Ot[2],Xt[0]=Ft[0],Xt[1]=Ft[1]*Math.cos(Dt)-Ft[2]*Math.sin(Dt),Xt[2]=Ft[1]*Math.sin(Dt)+Ft[2]*Math.cos(Dt),At[0]=Xt[0]+Ot[0],At[1]=Xt[1]+Ot[1],At[2]=Xt[2]+Ot[2],At}function wt(At,Ct,Ot,Dt){var Ft=[],Xt=[];return Ft[0]=Ct[0]-Ot[0],Ft[1]=Ct[1]-Ot[1],Ft[2]=Ct[2]-Ot[2],Xt[0]=Ft[2]*Math.sin(Dt)+Ft[0]*Math.cos(Dt),Xt[1]=Ft[1],Xt[2]=Ft[2]*Math.cos(Dt)-Ft[0]*Math.sin(Dt),At[0]=Xt[0]+Ot[0],At[1]=Xt[1]+Ot[1],At[2]=Xt[2]+Ot[2],At}function Q(At,Ct,Ot,Dt){var Ft=[],Xt=[];return Ft[0]=Ct[0]-Ot[0],Ft[1]=Ct[1]-Ot[1],Ft[2]=Ct[2]-Ot[2],Xt[0]=Ft[0]*Math.cos(Dt)-Ft[1]*Math.sin(Dt),Xt[1]=Ft[0]*Math.sin(Dt)+Ft[1]*Math.cos(Dt),Xt[2]=Ft[2],At[0]=Xt[0]+Ot[0],At[1]=Xt[1]+Ot[1],At[2]=Xt[2]+Ot[2],At}function ct(At,Ct){var Ot=At[0],Dt=At[1],Ft=At[2],Xt=Ct[0],Rt=Ct[1],Kt=Ct[2],$t=Math.sqrt(Ot*Ot+Dt*Dt+Ft*Ft)*Math.sqrt(Xt*Xt+Rt*Rt+Kt*Kt),le=$t&&mt(At,Ct)/$t;return Math.acos(Math.min(Math.max(le,-1),1))}function it(At){return At[0]=0,At[1]=0,At[2]=0,At}function U(At){return"vec3("+At[0]+", "+At[1]+", "+At[2]+")"}function D(At,Ct){return At[0]===Ct[0]&&At[1]===Ct[1]&&At[2]===Ct[2]}function W(At,Ct){var Ot=At[0],Dt=At[1],Ft=At[2],Xt=Ct[0],Rt=Ct[1],Kt=Ct[2];return Math.abs(Ot-Xt)<=n.b*Math.max(1,Math.abs(Ot),Math.abs(Xt))&&Math.abs(Dt-Rt)<=n.b*Math.max(1,Math.abs(Dt),Math.abs(Rt))&&Math.abs(Ft-Kt)<=n.b*Math.max(1,Math.abs(Ft),Math.abs(Kt))}var P,m=s,y=u,V=v,J=X,ht=et,gt=b,Mt=tt,Lt=(P=d(),function(At,Ct,Ot,Dt,Ft,Xt){var Rt,Kt;for(Ct||(Ct=3),Ot||(Ot=0),Kt=Dt?Math.min(Dt*Ct+Ot,At.length):At.length,Rt=Ot;Rt<Kt;Rt+=Ct)P[0]=At[Rt],P[1]=At[Rt+1],P[2]=At[Rt+2],Ft(P,P,Xt),At[Rt]=P[0],At[Rt+1]=P[1],At[Rt+2]=P[2];return At})},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.STACK_OVERFLOW=M.CIRCULAR_DEPENDENCY_IN_FACTORY=M.POST_CONSTRUCT_ERROR=M.MULTIPLE_POST_CONSTRUCT_METHODS=M.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=M.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=M.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=M.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=M.ARGUMENTS_LENGTH_MISMATCH=M.INVALID_DECORATOR_OPERATION=M.INVALID_TO_SELF_VALUE=M.INVALID_FUNCTION_BINDING=M.INVALID_MIDDLEWARE_RETURN=M.NO_MORE_SNAPSHOTS_AVAILABLE=M.INVALID_BINDING_TYPE=M.NOT_IMPLEMENTED=M.CIRCULAR_DEPENDENCY=M.UNDEFINED_INJECT_ANNOTATION=M.MISSING_INJECT_ANNOTATION=M.MISSING_INJECTABLE_ANNOTATION=M.NOT_REGISTERED=M.CANNOT_UNBIND=M.AMBIGUOUS_MATCH=M.KEY_NOT_FOUND=M.NULL_ARGUMENT=M.DUPLICATED_METADATA=M.DUPLICATED_INJECTABLE_DECORATOR=void 0,M.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",M.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",M.NULL_ARGUMENT="NULL argument",M.KEY_NOT_FOUND="Key Not Found",M.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",M.CANNOT_UNBIND="Could not unbind serviceIdentifier:",M.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",M.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",M.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",M.UNDEFINED_INJECT_ANNOTATION=function(n){return"@inject called with undefined this could mean that the class "+n+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},M.CIRCULAR_DEPENDENCY="Circular dependency found:",M.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",M.INVALID_BINDING_TYPE="Invalid binding type:",M.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",M.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",M.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",M.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",M.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",M.ARGUMENTS_LENGTH_MISMATCH=function(){for(var n=[],d=0;d<arguments.length;d++)n[d]=arguments[d];return"The number of constructor arguments in the derived class "+n[0]+" must be >= than the number of constructor arguments of its base class."},M.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",M.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",M.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",M.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",M.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",M.POST_CONSTRUCT_ERROR=function(){for(var n=[],d=0;d<arguments.length;d++)n[d]=arguments[d];return"@postConstruct error in class "+n[0]+": "+n[1]},M.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var n=[],d=0;d<arguments.length;d++)n[d]=arguments[d];return"It looks like there is a circular dependency in one of the '"+n[0]+"' bindings. Please investigate bindings withservice identifier '"+n[1]+"'."},M.STACK_OVERFLOW="Maximum call stack size exceeded"},function(a,M,t){var n;try{n={clone:t(272),constant:t(134),each:t(181),filter:t(184),has:t(195),isArray:t(26),isEmpty:t(348),isFunction:t(84),isUndefined:t(196),keys:t(58),map:t(197),reduce:t(199),size:t(351),transform:t(357),union:t(358),values:t(205)}}catch(d){}n||(n=window._),a.exports=n},function(a,M){function t(n){return(t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(n)}a.exports=function(n){var d=t(n);return n!=null&&(d=="object"||d=="function")}},function(a,M,t){var n=t(305),d=t(104),S=t(129),b=S&&S.isTypedArray,h=b?d(b):n;a.exports=h},function(a,M,t){"use strict";var n=t(123),d=Object(n.getColorsWithSubjectColor)("rgb(95, 149, 255)","rgb(255, 255, 255)");M.a={version:"0.0.14",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:d.mainStroke,fill:d.mainFill},size:20,color:d.mainStroke,linkPoints:{size:8,lineWidth:1,fill:d.activeFill,stroke:d.activeStroke}},nodeStateStyles:{active:{fill:d.activeFill,stroke:d.activeStroke,lineWidth:2,shadowColor:d.mainStroke,shadowBlur:10},selected:{fill:d.selectedFill,stroke:d.selectedStroke,lineWidth:4,shadowColor:d.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:d.highlightFill,stroke:d.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:d.inactiveFill,stroke:d.inactiveStroke,lineWidth:1},disable:{fill:d.disableFill,stroke:d.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:"rgb(0, 0, 0)",textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:d.edgeMainStroke,lineAppendWidth:2},color:d.edgeMainStroke},edgeStateStyles:{active:{stroke:d.edgeActiveStroke,lineWidth:1},selected:{stroke:d.edgeSelectedStroke,lineWidth:2,shadowColor:d.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:d.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:d.edgeInactiveStroke,lineWidth:1},disable:{stroke:d.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:"rgb(0, 0, 0)",textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:d.comboMainFill,lineWidth:1,stroke:d.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:d.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:d.comboActiveStroke,lineWidth:1,fill:d.comboActiveFill},selected:{stroke:d.comboSelectedStroke,lineWidth:2,fill:d.comboSelectedFill,shadowColor:d.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:d.comboHighlightStroke,lineWidth:2,fill:d.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:d.comboInactiveStroke,fill:d.comboInactiveFill,lineWidth:1},disable:{stroke:d.comboDisableStroke,fill:d.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"}},function(a,M,t){var n;try{n=t(270)}catch(d){}n||(n=window.graphlib),a.exports=n},function(a,M,t){function n(h){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(h)}var d=t(163),S=(typeof self=="undefined"?"undefined":n(self))=="object"&&self&&self.Object===Object&&self,b=d||S||Function("return this")();a.exports=b},function(a,M){function t(n){return(t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(n)}a.exports=function(n){return n!=null&&t(n)=="object"}},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Metadata=void 0;var n=t(32),d=function(){function S(b,h){this.key=b,this.value=h}return S.prototype.toString=function(){return this.key===n.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},S}();M.Metadata=d},function(a,M){},function(a,M,t){"use strict";t.r(M),t.d(M,"catmullRomToBezier",function(){return E}),t.d(M,"fillPath",function(){return Bt}),t.d(M,"fillPathByDiff",function(){return H}),t.d(M,"formatPath",function(){return xt}),t.d(M,"intersection",function(){return mt}),t.d(M,"parsePathArray",function(){return j}),t.d(M,"parsePathString",function(){return h}),t.d(M,"pathToAbsolute",function(){return o}),t.d(M,"pathToCurve",function(){return C}),t.d(M,"rectPath",function(){return et});var n=t(0),d=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,S=new RegExp("([a-z])["+d+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+d+"]*,?["+d+"]*)+)","ig"),b=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+d+"]*,?["+d+"]*","ig"),h=function(Q){if(!Q)return null;if(Object(n.m)(Q))return Q;var ct={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},it=[];return String(Q).replace(S,function(U,D,W){var P=[],m=D.toLowerCase();if(W.replace(b,function(y,V){V&&P.push(+V)}),m==="m"&&P.length>2&&(it.push([D].concat(P.splice(0,2))),m="l",D=D==="m"?"l":"L"),m==="o"&&P.length===1&&it.push([D,P[0]]),m==="r")it.push([D].concat(P));else for(;P.length>=ct[m]&&(it.push([D].concat(P.splice(0,ct[m]))),ct[m]););return Q}),it},E=function(Q,ct){for(var it=[],U=0,D=Q.length;D-2*!ct>U;U+=2){var W=[{x:+Q[U-2],y:+Q[U-1]},{x:+Q[U],y:+Q[U+1]},{x:+Q[U+2],y:+Q[U+3]},{x:+Q[U+4],y:+Q[U+5]}];ct?U?D-4===U?W[3]={x:+Q[0],y:+Q[1]}:D-2===U&&(W[2]={x:+Q[0],y:+Q[1]},W[3]={x:+Q[2],y:+Q[3]}):W[0]={x:+Q[D-2],y:+Q[D-1]}:D-4===U?W[3]=W[2]:U||(W[0]={x:+Q[U],y:+Q[U+1]}),it.push(["C",(-W[0].x+6*W[1].x+W[2].x)/6,(-W[0].y+6*W[1].y+W[2].y)/6,(W[1].x+6*W[2].x-W[3].x)/6,(W[1].y+6*W[2].y-W[3].y)/6,W[2].x,W[2].y])}return it},T=function(Q,ct,it,U,D){var W=[];if(D===null&&U===null&&(U=it),Q=+Q,ct=+ct,it=+it,U=+U,D!==null){var P=Math.PI/180,m=Q+it*Math.cos(-U*P),y=Q+it*Math.cos(-D*P);W=[["M",m,ct+it*Math.sin(-U*P)],["A",it,it,0,+(D-U>180),0,y,ct+it*Math.sin(-D*P)]]}else W=[["M",Q,ct],["m",0,-U],["a",it,U,0,1,1,0,2*U],["a",it,U,0,1,1,0,-2*U],["z"]];return W},o=function(Q){if(!(Q=h(Q))||!Q.length)return[["M",0,0]];var ct,it,U=[],D=0,W=0,P=0,m=0,y=0;Q[0][0]==="M"&&(P=D=+Q[0][1],m=W=+Q[0][2],y++,U[0]=["M",D,W]);for(var V=Q.length===3&&Q[0][0]==="M"&&Q[1][0].toUpperCase()==="R"&&Q[2][0].toUpperCase()==="Z",J=void 0,ht=void 0,gt=y,Mt=Q.length;gt<Mt;gt++){if(U.push(J=[]),(ct=(ht=Q[gt])[0])!==ct.toUpperCase())switch(J[0]=ct.toUpperCase(),J[0]){case"A":J[1]=ht[1],J[2]=ht[2],J[3]=ht[3],J[4]=ht[4],J[5]=ht[5],J[6]=+ht[6]+D,J[7]=+ht[7]+W;break;case"V":J[1]=+ht[1]+W;break;case"H":J[1]=+ht[1]+D;break;case"R":for(var Lt=2,At=(it=[D,W].concat(ht.slice(1))).length;Lt<At;Lt++)it[Lt]=+it[Lt]+D,it[++Lt]=+it[Lt]+W;U.pop(),U=U.concat(E(it,V));break;case"O":U.pop(),(it=T(D,W,ht[1],ht[2])).push(it[0]),U=U.concat(it);break;case"U":U.pop(),U=U.concat(T(D,W,ht[1],ht[2],ht[3])),J=["U"].concat(U[U.length-1].slice(-2));break;case"M":P=+ht[1]+D,m=+ht[2]+W;break;default:for(Lt=1,At=ht.length;Lt<At;Lt++)J[Lt]=+ht[Lt]+(Lt%2?D:W)}else if(ct==="R")it=[D,W].concat(ht.slice(1)),U.pop(),U=U.concat(E(it,V)),J=["R"].concat(ht.slice(-2));else if(ct==="O")U.pop(),(it=T(D,W,ht[1],ht[2])).push(it[0]),U=U.concat(it);else if(ct==="U")U.pop(),U=U.concat(T(D,W,ht[1],ht[2],ht[3])),J=["U"].concat(U[U.length-1].slice(-2));else for(var Ct=0,Ot=ht.length;Ct<Ot;Ct++)J[Ct]=ht[Ct];if((ct=ct.toUpperCase())!=="O")switch(J[0]){case"Z":D=+P,W=+m;break;case"H":D=J[1];break;case"V":W=J[1];break;case"M":P=J[J.length-2],m=J[J.length-1];break;default:D=J[J.length-2],W=J[J.length-1]}}return U},s=function(Q,ct,it,U){return[Q,ct,it,U,it,U]},u=function(Q,ct,it,U,D,W){return[1/3*Q+2/3*it,1/3*ct+2/3*U,1/3*D+2/3*it,1/3*W+2/3*U,D,W]},v=function wt(Q,ct,it,U,D,W,P,m,y,V){it===U&&(it+=1);var J,ht,gt,Mt,Lt,At=120*Math.PI/180,Ct=Math.PI/180*(+D||0),Ot=[],Dt=function(hi,Wi,oa){return{x:hi*Math.cos(oa)-Wi*Math.sin(oa),y:hi*Math.sin(oa)+Wi*Math.cos(oa)}};if(V)ht=V[0],gt=V[1],Mt=V[2],Lt=V[3];else{Q=(J=Dt(Q,ct,-Ct)).x,ct=J.y,m=(J=Dt(m,y,-Ct)).x,y=J.y,Q===m&&ct===y&&(m+=1,y+=1);var Ft=(Q-m)/2,Xt=(ct-y)/2,Rt=Ft*Ft/(it*it)+Xt*Xt/(U*U);Rt>1&&(it*=Rt=Math.sqrt(Rt),U*=Rt);var Kt=it*it,$t=U*U,le=(W===P?-1:1)*Math.sqrt(Math.abs((Kt*$t-Kt*Xt*Xt-$t*Ft*Ft)/(Kt*Xt*Xt+$t*Ft*Ft)));Mt=le*it*Xt/U+(Q+m)/2,Lt=le*-U*Ft/it+(ct+y)/2,ht=Math.asin(((ct-Lt)/U).toFixed(9)),gt=Math.asin(((y-Lt)/U).toFixed(9)),ht=Q<Mt?Math.PI-ht:ht,gt=m<Mt?Math.PI-gt:gt,ht<0&&(ht=2*Math.PI+ht),gt<0&&(gt=2*Math.PI+gt),P&&ht>gt&&(ht-=2*Math.PI),!P&&gt>ht&&(gt-=2*Math.PI)}var Me=gt-ht;if(Math.abs(Me)>At){var on=gt,hn=m,Cn=y;gt=ht+At*(P&&gt>ht?1:-1),Ot=wt(m=Mt+it*Math.cos(gt),y=Lt+U*Math.sin(gt),it,U,D,0,P,hn,Cn,[gt,on,Mt,Lt])}Me=gt-ht;var He=Math.cos(ht),mn=Math.sin(ht),dn=Math.cos(gt),Un=Math.sin(gt),Xn=Math.tan(Me/4),Hn=4/3*it*Xn,_n=4/3*U*Xn,$n=[Q,ct],ir=[Q+Hn*mn,ct-_n*He],dr=[m+Hn*Un,y-_n*dn],xr=[m,y];if(ir[0]=2*$n[0]-ir[0],ir[1]=2*$n[1]-ir[1],V)return[ir,dr,xr].concat(Ot);for(var Qr=[],Mr=0,Er=(Ot=[ir,dr,xr].concat(Ot).join().split(",")).length;Mr<Er;Mr++)Qr[Mr]=Mr%2?Dt(Ot[Mr-1],Ot[Mr],Ct).y:Dt(Ot[Mr],Ot[Mr+1],Ct).x;return Qr},C=function(Q,ct){var it,U=o(Q),D=ct&&o(ct),W={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},P={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},m=[],y=[],V="",J="",ht=function(Xt,Rt,Kt){var $t,le;if(!Xt)return["C",Rt.x,Rt.y,Rt.x,Rt.y,Rt.x,Rt.y];switch(!(Xt[0]in{T:1,Q:1})&&(Rt.qx=Rt.qy=null),Xt[0]){case"M":Rt.X=Xt[1],Rt.Y=Xt[2];break;case"A":Xt=["C"].concat(v.apply(0,[Rt.x,Rt.y].concat(Xt.slice(1))));break;case"S":Kt==="C"||Kt==="S"?($t=2*Rt.x-Rt.bx,le=2*Rt.y-Rt.by):($t=Rt.x,le=Rt.y),Xt=["C",$t,le].concat(Xt.slice(1));break;case"T":Kt==="Q"||Kt==="T"?(Rt.qx=2*Rt.x-Rt.qx,Rt.qy=2*Rt.y-Rt.qy):(Rt.qx=Rt.x,Rt.qy=Rt.y),Xt=["C"].concat(u(Rt.x,Rt.y,Rt.qx,Rt.qy,Xt[1],Xt[2]));break;case"Q":Rt.qx=Xt[1],Rt.qy=Xt[2],Xt=["C"].concat(u(Rt.x,Rt.y,Xt[1],Xt[2],Xt[3],Xt[4]));break;case"L":Xt=["C"].concat(s(Rt.x,Rt.y,Xt[1],Xt[2]));break;case"H":Xt=["C"].concat(s(Rt.x,Rt.y,Xt[1],Rt.y));break;case"V":Xt=["C"].concat(s(Rt.x,Rt.y,Rt.x,Xt[1]));break;case"Z":Xt=["C"].concat(s(Rt.x,Rt.y,Rt.X,Rt.Y))}return Xt},gt=function(Xt,Rt){if(Xt[Rt].length>7){Xt[Rt].shift();for(var Kt=Xt[Rt];Kt.length;)m[Rt]="A",D&&(y[Rt]="A"),Xt.splice(Rt++,0,["C"].concat(Kt.splice(0,6)));Xt.splice(Rt,1),it=Math.max(U.length,D&&D.length||0)}},Mt=function(Xt,Rt,Kt,$t,le){Xt&&Rt&&Xt[le][0]==="M"&&Rt[le][0]!=="M"&&(Rt.splice(le,0,["M",$t.x,$t.y]),Kt.bx=0,Kt.by=0,Kt.x=Xt[le][1],Kt.y=Xt[le][2],it=Math.max(U.length,D&&D.length||0))};it=Math.max(U.length,D&&D.length||0);for(var Lt=0;Lt<it;Lt++){U[Lt]&&(V=U[Lt][0]),V!=="C"&&(m[Lt]=V,Lt&&(J=m[Lt-1])),U[Lt]=ht(U[Lt],W,J),m[Lt]!=="A"&&V==="C"&&(m[Lt]="C"),gt(U,Lt),D&&(D[Lt]&&(V=D[Lt][0]),V!=="C"&&(y[Lt]=V,Lt&&(J=y[Lt-1])),D[Lt]=ht(D[Lt],P,J),y[Lt]!=="A"&&V==="C"&&(y[Lt]="C"),gt(D,Lt)),Mt(U,D,W,P,Lt),Mt(D,U,P,W,Lt);var At=U[Lt],Ct=D&&D[Lt],Ot=At.length,Dt=D&&Ct.length;W.x=At[Ot-2],W.y=At[Ot-1],W.bx=parseFloat(At[Ot-4])||W.x,W.by=parseFloat(At[Ot-3])||W.y,P.bx=D&&(parseFloat(Ct[Dt-4])||P.x),P.by=D&&(parseFloat(Ct[Dt-3])||P.y),P.x=D&&Ct[Dt-2],P.y=D&&Ct[Dt-1]}return D?[U,D]:U},O=/,?([a-z]),?/gi,j=function(Q){return Q.join(",").replace(O,"$1")},p=function(Q,ct,it,U,D){return Q*(Q*(-3*ct+9*it-9*U+3*D)+6*ct-12*it+6*U)-3*ct+3*it},x=function(Q,ct,it,U,D,W,P,m,y){y===null&&(y=1);for(var V=(y=y>1?1:y<0?0:y)/2,J=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],ht=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],gt=0,Mt=0;Mt<12;Mt++){var Lt=V*J[Mt]+V,At=p(Lt,Q,it,D,P),Ct=p(Lt,ct,U,W,m),Ot=At*At+Ct*Ct;gt+=ht[Mt]*Math.sqrt(Ot)}return V*gt},A=function(Q,ct,it,U,D,W,P,m){for(var y,V,J,ht,gt=[],Mt=[[],[]],Lt=0;Lt<2;++Lt)if(Lt===0?(V=6*Q-12*it+6*D,y=-3*Q+9*it-9*D+3*P,J=3*it-3*Q):(V=6*ct-12*U+6*W,y=-3*ct+9*U-9*W+3*m,J=3*U-3*ct),Math.abs(y)<1e-12){if(Math.abs(V)<1e-12)continue;(ht=-J/V)>0&&ht<1&&gt.push(ht)}else{var At=V*V-4*J*y,Ct=Math.sqrt(At);if(!(At<0)){var Ot=(-V+Ct)/(2*y);Ot>0&&Ot<1&&gt.push(Ot);var Dt=(-V-Ct)/(2*y);Dt>0&&Dt<1&&gt.push(Dt)}}for(var Ft,Xt=gt.length,Rt=Xt;Xt--;)Ft=1-(ht=gt[Xt]),Mt[0][Xt]=Ft*Ft*Ft*Q+3*Ft*Ft*ht*it+3*Ft*ht*ht*D+ht*ht*ht*P,Mt[1][Xt]=Ft*Ft*Ft*ct+3*Ft*Ft*ht*U+3*Ft*ht*ht*W+ht*ht*ht*m;return Mt[0][Rt]=Q,Mt[1][Rt]=ct,Mt[0][Rt+1]=P,Mt[1][Rt+1]=m,Mt[0].length=Mt[1].length=Rt+2,{min:{x:Math.min.apply(0,Mt[0]),y:Math.min.apply(0,Mt[1])},max:{x:Math.max.apply(0,Mt[0]),y:Math.max.apply(0,Mt[1])}}},k=function(Q,ct,it,U,D,W,P,m){if(!(Math.max(Q,it)<Math.min(D,P)||Math.min(Q,it)>Math.max(D,P)||Math.max(ct,U)<Math.min(W,m)||Math.min(ct,U)>Math.max(W,m))){var y=(Q-it)*(W-m)-(ct-U)*(D-P);if(y){var V=((Q*U-ct*it)*(D-P)-(Q-it)*(D*m-W*P))/y,J=((Q*U-ct*it)*(W-m)-(ct-U)*(D*m-W*P))/y,ht=+V.toFixed(2),gt=+J.toFixed(2);if(!(ht<+Math.min(Q,it).toFixed(2)||ht>+Math.max(Q,it).toFixed(2)||ht<+Math.min(D,P).toFixed(2)||ht>+Math.max(D,P).toFixed(2)||gt<+Math.min(ct,U).toFixed(2)||gt>+Math.max(ct,U).toFixed(2)||gt<+Math.min(W,m).toFixed(2)||gt>+Math.max(W,m).toFixed(2)))return{x:V,y:J}}}},X=function(Q,ct,it){return ct>=Q.x&&ct<=Q.x+Q.width&&it>=Q.y&&it<=Q.y+Q.height},et=function(Q,ct,it,U,D){if(D)return[["M",+Q+ +D,ct],["l",it-2*D,0],["a",D,D,0,0,1,D,D],["l",0,U-2*D],["a",D,D,0,0,1,-D,D],["l",2*D-it,0],["a",D,D,0,0,1,-D,-D],["l",0,2*D-U],["a",D,D,0,0,1,D,-D],["z"]];var W=[["M",Q,ct],["l",it,0],["l",0,U],["l",-it,0],["z"]];return W.parsePathArray=j,W},tt=function(Q,ct,it,U){return Q===null&&(Q=ct=it=U=0),ct===null&&(ct=Q.y,it=Q.width,U=Q.height,Q=Q.x),{x:Q,y:ct,width:it,w:it,height:U,h:U,x2:Q+it,y2:ct+U,cx:Q+it/2,cy:ct+U/2,r1:Math.min(it,U)/2,r2:Math.max(it,U)/2,r0:Math.sqrt(it*it+U*U)/2,path:et(Q,ct,it,U),vb:[Q,ct,it,U].join(" ")}},ft=function(Q,ct,it,U,D,W,P,m){Object(n.m)(Q)||(Q=[Q,ct,it,U,D,W,P,m]);var y=A.apply(null,Q);return tt(y.min.x,y.min.y,y.max.x-y.min.x,y.max.y-y.min.y)},st=function(Q,ct,it,U,D,W,P,m,y){var V=1-y,J=Math.pow(V,3),ht=Math.pow(V,2),gt=y*y,Mt=gt*y,Lt=Q+2*y*(it-Q)+gt*(D-2*it+Q),At=ct+2*y*(U-ct)+gt*(W-2*U+ct),Ct=it+2*y*(D-it)+gt*(P-2*D+it),Ot=U+2*y*(W-U)+gt*(m-2*W+U);return{x:J*Q+3*ht*y*it+3*V*y*y*D+Mt*P,y:J*ct+3*ht*y*U+3*V*y*y*W+Mt*m,m:{x:Lt,y:At},n:{x:Ct,y:Ot},start:{x:V*Q+y*it,y:V*ct+y*U},end:{x:V*D+y*P,y:V*W+y*m},alpha:90-180*Math.atan2(Lt-Ct,At-Ot)/Math.PI}},vt=function(Q,ct,it){if(!function(Rt,Kt){return Rt=tt(Rt),Kt=tt(Kt),X(Kt,Rt.x,Rt.y)||X(Kt,Rt.x2,Rt.y)||X(Kt,Rt.x,Rt.y2)||X(Kt,Rt.x2,Rt.y2)||X(Rt,Kt.x,Kt.y)||X(Rt,Kt.x2,Kt.y)||X(Rt,Kt.x,Kt.y2)||X(Rt,Kt.x2,Kt.y2)||(Rt.x<Kt.x2&&Rt.x>Kt.x||Kt.x<Rt.x2&&Kt.x>Rt.x)&&(Rt.y<Kt.y2&&Rt.y>Kt.y||Kt.y<Rt.y2&&Kt.y>Rt.y)}(ft(Q),ft(ct)))return it?0:[];for(var U=~~(x.apply(0,Q)/8),D=~~(x.apply(0,ct)/8),W=[],P=[],m={},y=it?0:[],V=0;V<U+1;V++){var J=st.apply(0,Q.concat(V/U));W.push({x:J.x,y:J.y,t:V/U})}for(V=0;V<D+1;V++)J=st.apply(0,ct.concat(V/D)),P.push({x:J.x,y:J.y,t:V/D});for(V=0;V<U;V++)for(var ht=0;ht<D;ht++){var gt=W[V],Mt=W[V+1],Lt=P[ht],At=P[ht+1],Ct=Math.abs(Mt.x-gt.x)<.001?"y":"x",Ot=Math.abs(At.x-Lt.x)<.001?"y":"x",Dt=k(gt.x,gt.y,Mt.x,Mt.y,Lt.x,Lt.y,At.x,At.y);if(Dt){if(m[Dt.x.toFixed(4)]===Dt.y.toFixed(4))continue;m[Dt.x.toFixed(4)]=Dt.y.toFixed(4);var Ft=gt.t+Math.abs((Dt[Ct]-gt[Ct])/(Mt[Ct]-gt[Ct]))*(Mt.t-gt.t),Xt=Lt.t+Math.abs((Dt[Ot]-Lt[Ot])/(At[Ot]-Lt[Ot]))*(At.t-Lt.t);Ft>=0&&Ft<=1&&Xt>=0&&Xt<=1&&(it?y+=1:y.push({x:Dt.x,y:Dt.y,t1:Ft,t2:Xt}))}}return y},mt=function(Q,ct){return function(it,U,D){var W,P,m,y,V,J,ht,gt,Mt,Lt;it=C(it),U=C(U);for(var At=D?0:[],Ct=0,Ot=it.length;Ct<Ot;Ct++){var Dt=it[Ct];if(Dt[0]==="M")W=V=Dt[1],P=J=Dt[2];else{Dt[0]==="C"?(Mt=[W,P].concat(Dt.slice(1)),W=Mt[6],P=Mt[7]):(Mt=[W,P,W,P,V,J,V,J],W=V,P=J);for(var Ft=0,Xt=U.length;Ft<Xt;Ft++){var Rt=U[Ft];if(Rt[0]==="M")m=ht=Rt[1],y=gt=Rt[2];else{Rt[0]==="C"?(Lt=[m,y].concat(Rt.slice(1)),m=Lt[6],y=Lt[7]):(Lt=[m,y,m,y,ht,gt,ht,gt],m=ht,y=gt);var Kt=vt(Mt,Lt,D);if(D)At+=Kt;else{for(var $t=0,le=Kt.length;$t<le;$t++)Kt[$t].segment1=Ct,Kt[$t].segment2=Ft,Kt[$t].bez1=Mt,Kt[$t].bez2=Lt;At=At.concat(Kt)}}}}}return At}(Q,ct)};function pt(wt,Q){var ct=[],it=[];return wt.length&&function U(D,W){if(D.length===1)ct.push(D[0]),it.push(D[0]);else{for(var P=[],m=0;m<D.length-1;m++)m===0&&ct.push(D[0]),m===D.length-2&&it.push(D[m+1]),P[m]=[(1-W)*D[m][0]+W*D[m+1][0],(1-W)*D[m][1]+W*D[m+1][1]];U(P,W)}}(wt,Q),{left:ct,right:it.reverse()}}var rt=function(Q,ct,it){if(it===1)return[[].concat(Q)];var U=[];if(ct[0]==="L"||ct[0]==="C"||ct[0]==="Q")U=U.concat(function(P,m,y){var V=[[P[1],P[2]]];y=y||2;var J=[];m[0]==="A"?(V.push(m[6]),V.push(m[7])):m[0]==="C"?(V.push([m[1],m[2]]),V.push([m[3],m[4]]),V.push([m[5],m[6]])):m[0]==="S"||m[0]==="Q"?(V.push([m[1],m[2]]),V.push([m[3],m[4]])):V.push([m[1],m[2]]);for(var ht=V,gt=1/y,Mt=0;Mt<y-1;Mt++){var Lt=pt(ht,gt/(1-gt*Mt));J.push(Lt.left),ht=Lt.right}return J.push(ht),J.map(function(At){var Ct=[];return At.length===4&&(Ct.push("C"),Ct=Ct.concat(At[2])),At.length>=3&&(At.length===3&&Ct.push("Q"),Ct=Ct.concat(At[1])),At.length===2&&Ct.push("L"),Ct=Ct.concat(At[At.length-1])})}(Q,ct,it));else{var D=[].concat(Q);D[0]==="M"&&(D[0]="L");for(var W=0;W<=it-1;W++)U.push(D)}return U},Bt=function(Q,ct){if(Q.length===1)return Q;var it=Q.length-1,U=ct.length-1,D=it/U,W=[];if(Q.length===1&&Q[0][0]==="M"){for(var P=0;P<U-it;P++)Q.push(Q[0]);return Q}for(P=0;P<U;P++){var m=Math.floor(D*P);W[m]=(W[m]||0)+1}var y=W.reduce(function(V,J,ht){return ht===it?V.concat(Q[it]):V.concat(rt(Q[ht],Q[ht+1],J))},[]);return y.unshift(Q[0]),ct[U]!=="Z"&&ct[U]!=="z"||y.push("Z"),y},It=function(Q,ct){if(Q.length!==ct.length)return!1;var it=!0;return Object(n.f)(Q,function(U,D){if(U!==ct[D])return it=!1,!1}),it};function St(wt,Q,ct){var it=null,U=ct;return Q<U&&(U=Q,it="add"),wt<U&&(U=wt,it="del"),{type:it,min:U}}var H=function(Q,ct){var it=function(gt,Mt){var Lt,At,Ct=gt.length,Ot=Mt.length,Dt=0;if(Ct===0||Ot===0)return null;for(var Ft=[],Xt=0;Xt<=Ct;Xt++)Ft[Xt]=[],Ft[Xt][0]={min:Xt};for(var Rt=0;Rt<=Ot;Rt++)Ft[0][Rt]={min:Rt};for(Xt=1;Xt<=Ct;Xt++)for(Lt=gt[Xt-1],Rt=1;Rt<=Ot;Rt++){At=Mt[Rt-1],Dt=It(Lt,At)?0:1;var Kt=Ft[Xt-1][Rt].min+1,$t=Ft[Xt][Rt-1].min+1,le=Ft[Xt-1][Rt-1].min+Dt;Ft[Xt][Rt]=St(Kt,$t,le)}return Ft}(Q,ct),U=Q.length,D=ct.length,W=[],P=1,m=1;if(it[U][D].min!==U){for(var y=1;y<=U;y++){var V=it[y][y].min;m=y;for(var J=P;J<=D;J++)it[y][J].min<V&&(V=it[y][J].min,m=J);P=m,it[y][P].type&&W.push({index:y-1,type:it[y][P].type})}for(y=W.length-1;y>=0;y--)P=W[y].index,W[y].type==="add"?Q.splice(P,0,[].concat(Q[P])):Q.splice(P,1)}var ht=D-(U=Q.length);if(U<D)for(y=0;y<ht;y++)Q[U-1][0]==="z"||Q[U-1][0]==="Z"?Q.splice(U-2,0,Q[U-2]):Q.push(Q[U-1]),U+=1;return Q};function ot(wt,Q,ct){for(var it,U=[].concat(wt),D=1/(ct+1),W=yt(Q)[0],P=1;P<=ct;P++)D*=P,(it=Math.floor(wt.length*D))===0?U.unshift([W[0]*D+wt[it][0]*(1-D),W[1]*D+wt[it][1]*(1-D)]):U.splice(it,0,[W[0]*D+wt[it][0]*(1-D),W[1]*D+wt[it][1]*(1-D)]);return U}function yt(wt){var Q=[];switch(wt[0]){case"M":case"L":Q.push([wt[1],wt[2]]);break;case"A":Q.push([wt[6],wt[7]]);break;case"Q":Q.push([wt[3],wt[4]]),Q.push([wt[1],wt[2]]);break;case"T":Q.push([wt[1],wt[2]]);break;case"C":Q.push([wt[5],wt[6]]),Q.push([wt[1],wt[2]]),Q.push([wt[3],wt[4]]);break;case"S":Q.push([wt[3],wt[4]]),Q.push([wt[1],wt[2]]);break;case"H":case"V":Q.push([wt[1],wt[1]])}return Q}var xt=function(Q,ct){if(Q.length<=1)return Q;for(var it,U=0;U<ct.length;U++)if(Q[U][0]!==ct[U][0])switch(it=yt(Q[U]),ct[U][0]){case"M":Q[U]=["M"].concat(it[0]);break;case"L":Q[U]=["L"].concat(it[0]);break;case"A":Q[U]=[].concat(ct[U]),Q[U][6]=it[0][0],Q[U][7]=it[0][1];break;case"Q":if(it.length<2){if(!(U>0)){Q[U]=ct[U];break}it=ot(it,Q[U-1],1)}Q[U]=["Q"].concat(it.reduce(function(D,W){return D.concat(W)},[]));break;case"T":Q[U]=["T"].concat(it[0]);break;case"C":if(it.length<3){if(!(U>0)){Q[U]=ct[U];break}it=ot(it,Q[U-1],2)}Q[U]=["C"].concat(it.reduce(function(D,W){return D.concat(W)},[]));break;case"S":if(it.length<2){if(!(U>0)){Q[U]=ct[U];break}it=ot(it,Q[U-1],1)}Q[U]=["S"].concat(it.reduce(function(D,W){return D.concat(W)},[]));break;default:Q[U]=ct[U]}return Q}},function(a,M,t){"use strict";t(56),t(18);var n=t(250);t.d(M,"Canvas",function(){return n.a}),t(77),t(90)},function(a,M,t){var n=t(84),d=t(128);a.exports=function(S){return S!=null&&d(S.length)&&!n(S)}},function(a,M,t){function n(T){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(T)}var d=t(328),S=t(338),b=t(67),h=t(26),E=t(345);a.exports=function(T){return typeof T=="function"?T:T==null?b:n(T)=="object"?h(T)?S(T[0],T[1]):d(T):E(T)}},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.TargetTypeEnum=M.BindingTypeEnum=M.BindingScopeEnum=void 0,M.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"},M.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},M.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},function(a,M,t){"use strict";t.r(M),t.d(M,"Base",function(){return T}),t.d(M,"Circle",function(){return o}),t.d(M,"Ellipse",function(){return u}),t.d(M,"Image",function(){return C}),t.d(M,"Line",function(){return x}),t.d(M,"Marker",function(){return et}),t.d(M,"Path",function(){return H}),t.d(M,"Polygon",function(){return yt}),t.d(M,"Polyline",function(){return xt}),t.d(M,"Rect",function(){return Q}),t.d(M,"Text",function(){return ct});var n={};t.r(n),t.d(n,"Base",function(){return T}),t.d(n,"Circle",function(){return o}),t.d(n,"Ellipse",function(){return u}),t.d(n,"Image",function(){return C}),t.d(n,"Line",function(){return x}),t.d(n,"Marker",function(){return et}),t.d(n,"Path",function(){return H}),t.d(n,"Polygon",function(){return yt}),t.d(n,"Polyline",function(){return xt}),t.d(n,"Rect",function(){return Q}),t.d(n,"Text",function(){return ct});var d=t(1),S=t(18),b=t(17),h=t(29),E=t(77),T=function(it){function U(){return it!==null&&it.apply(this,arguments)||this}return Object(d.b)(U,it),U.prototype.getDefaultAttrs=function(){var D=it.prototype.getDefaultAttrs.call(this);return Object(d.a)(Object(d.a)({},D),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},U.prototype.getShapeBase=function(){return n},U.prototype.getGroupBase=function(){return E.a},U.prototype.onCanvasChange=function(D){Object(h.h)(this,D)},U.prototype.calculateBBox=function(){var D=this.get("type"),W=this.getHitLineWidth(),P=Object(S.getBBoxMethod)(D)(this),m=W/2,y=P.x-m,V=P.y-m,J=P.x+P.width+m,ht=P.y+P.height+m;return{x:y,minX:y,y:V,minY:V,width:P.width+W,height:P.height+W,maxX:J,maxY:ht}},U.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},U.prototype.isStroke=function(){return!!this.attrs.stroke},U.prototype._applyClip=function(D,W){W&&(D.save(),Object(h.a)(D,W),W.createPath(D),D.restore(),D.clip(),W._afterDraw())},U.prototype.draw=function(D,W){var P=this.cfg.clipShape;if(W){if(this.cfg.refresh===!1)return void this.set("hasChanged",!1);var m=this.getCanvasBBox();if(!Object(b.f)(W,m))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}D.save(),Object(h.a)(D,this),this._applyClip(D,P),this.drawPath(D),D.restore(),this._afterDraw()},U.prototype.getCanvasViewBox=function(){var D=this.cfg.canvas;return D?D.getViewRange():null},U.prototype.cacheCanvasBBox=function(){var D=this.getCanvasViewBox();if(D){var W=this.getCanvasBBox(),P=Object(b.f)(W,D);this.set("isInView",P),P?this.set("cacheCanvasBBox",W):this.set("cacheCanvasBBox",null)}},U.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},U.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},U.prototype.drawPath=function(D){this.createPath(D),this.strokeAndFill(D),this.afterDrawPath(D)},U.prototype.fill=function(D){D.fill()},U.prototype.stroke=function(D){D.stroke()},U.prototype.strokeAndFill=function(D){var W=this.attrs,P=W.lineWidth,m=W.opacity,y=W.strokeOpacity,V=W.fillOpacity;this.isFill()&&(Object(b.i)(V)||V===1?this.fill(D):(D.globalAlpha=V,this.fill(D),D.globalAlpha=m)),this.isStroke()&&P>0&&(Object(b.i)(y)||y===1||(D.globalAlpha=y),this.stroke(D)),this.afterDrawPath(D)},U.prototype.createPath=function(D){},U.prototype.afterDrawPath=function(D){},U.prototype.isInShape=function(D,W){var P=this.isStroke(),m=this.isFill(),y=this.getHitLineWidth();return this.isInStrokeOrPath(D,W,P,m,y)},U.prototype.isInStrokeOrPath=function(D,W,P,m,y){return!1},U.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var D=this.attrs;return D.lineWidth+D.lineAppendWidth},U}(S.AbstractShape),o=function(it){function U(){return it!==null&&it.apply(this,arguments)||this}return Object(d.b)(U,it),U.prototype.getDefaultAttrs=function(){var D=it.prototype.getDefaultAttrs.call(this);return Object(d.a)(Object(d.a)({},D),{x:0,y:0,r:0})},U.prototype.isInStrokeOrPath=function(D,W,P,m,y){var V=this.attr(),J=V.x,ht=V.y,gt=V.r,Mt=y/2,Lt=Object(b.b)(J,ht,D,W);return m&&P?Lt<=gt+Mt:m?Lt<=gt:!!P&&Lt>=gt-Mt&&Lt<=gt+Mt},U.prototype.createPath=function(D){var W=this.attr(),P=W.x,m=W.y,y=W.r;D.beginPath(),D.arc(P,m,y,0,2*Math.PI,!1),D.closePath()},U}(T);function s(it,U,D,W){return it/(D*D)+U/(W*W)}var u=function(it){function U(){return it!==null&&it.apply(this,arguments)||this}return Object(d.b)(U,it),U.prototype.getDefaultAttrs=function(){var D=it.prototype.getDefaultAttrs.call(this);return Object(d.a)(Object(d.a)({},D),{x:0,y:0,rx:0,ry:0})},U.prototype.isInStrokeOrPath=function(D,W,P,m,y){var V=this.attr(),J=y/2,ht=V.x,gt=V.y,Mt=V.rx,Lt=V.ry,At=(D-ht)*(D-ht),Ct=(W-gt)*(W-gt);return m&&P?s(At,Ct,Mt+J,Lt+J)<=1:m?s(At,Ct,Mt,Lt)<=1:!!P&&s(At,Ct,Mt-J,Lt-J)>=1&&s(At,Ct,Mt+J,Lt+J)<=1},U.prototype.createPath=function(D){var W=this.attr(),P=W.x,m=W.y,y=W.rx,V=W.ry;if(D.beginPath(),D.ellipse)D.ellipse(P,m,y,V,0,0,2*Math.PI,!1);else{var J=y>V?y:V,ht=y>V?1:y/V,gt=y>V?V/y:1;D.save(),D.translate(P,m),D.scale(ht,gt),D.arc(0,0,J,0,2*Math.PI),D.restore(),D.closePath()}},U}(T);function v(it){return it instanceof HTMLElement&&Object(b.k)(it.nodeName)&&it.nodeName.toUpperCase()==="CANVAS"}var C=function(it){function U(){return it!==null&&it.apply(this,arguments)||this}return Object(d.b)(U,it),U.prototype.getDefaultAttrs=function(){var D=it.prototype.getDefaultAttrs.call(this);return Object(d.a)(Object(d.a)({},D),{x:0,y:0,width:0,height:0})},U.prototype.initAttrs=function(D){this._setImage(D.img)},U.prototype.isStroke=function(){return!1},U.prototype.isOnlyHitBox=function(){return!0},U.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var D=this.get("canvas");D?D.draw():this.createPath(this.get("context"))}},U.prototype._setImage=function(D){var W=this,P=this.attrs;if(Object(b.k)(D)){var m=new Image;m.onload=function(){if(W.destroyed)return!1;W.attr("img",m),W.set("loading",!1),W._afterLoading();var y=W.get("callback");y&&y.call(W)},m.crossOrigin="Anonymous",m.src=D,this.set("loading",!0)}else D instanceof Image?(P.width||(P.width=D.width),P.height||(P.height=D.height)):v(D)&&(P.width||(P.width=Number(D.getAttribute("width"))),P.height||(P.height,Number(D.getAttribute("height"))))},U.prototype.onAttrChange=function(D,W,P){it.prototype.onAttrChange.call(this,D,W,P),D==="img"&&this._setImage(W)},U.prototype.createPath=function(D){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",D);var W=this.attr(),P=W.x,m=W.y,y=W.width,V=W.height,J=W.sx,ht=W.sy,gt=W.swidth,Mt=W.sheight,Lt=W.img;(Lt instanceof Image||v(Lt))&&(Object(b.i)(J)||Object(b.i)(ht)||Object(b.i)(gt)||Object(b.i)(Mt)?D.drawImage(Lt,P,m,y,V):D.drawImage(Lt,J,ht,gt,Mt,P,m,y,V))},U}(T),O=t(20);function j(it,U,D,W,P,m,y){var V=Math.min(it,D),J=Math.max(it,D),ht=Math.min(U,W),gt=Math.max(U,W),Mt=P/2;return m>=V-Mt&&m<=J+Mt&&y>=ht-Mt&&y<=gt+Mt&&O.c.pointToLine(it,U,D,W,m,y)<=P/2}var p=t(34),x=function(it){function U(){return it!==null&&it.apply(this,arguments)||this}return Object(d.b)(U,it),U.prototype.getDefaultAttrs=function(){var D=it.prototype.getDefaultAttrs.call(this);return Object(d.a)(Object(d.a)({},D),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},U.prototype.initAttrs=function(D){this.setArrow()},U.prototype.onAttrChange=function(D,W,P){it.prototype.onAttrChange.call(this,D,W,P),this.setArrow()},U.prototype.setArrow=function(){var D=this.attr(),W=D.x1,P=D.y1,m=D.x2,y=D.y2,V=D.startArrow,J=D.endArrow;V&&p.b(this,D,m,y,W,P),J&&p.a(this,D,W,P,m,y)},U.prototype.isInStrokeOrPath=function(D,W,P,m,y){if(!P||!y)return!1;var V=this.attr();return j(V.x1,V.y1,V.x2,V.y2,y,D,W)},U.prototype.createPath=function(D){var W=this.attr(),P=W.x1,m=W.y1,y=W.x2,V=W.y2,J=W.startArrow,ht=W.endArrow,gt={dx:0,dy:0},Mt={dx:0,dy:0};J&&J.d&&(gt=p.c(P,m,y,V,W.startArrow.d)),ht&&ht.d&&(Mt=p.c(P,m,y,V,W.endArrow.d)),D.beginPath(),D.moveTo(P+gt.dx,m+gt.dy),D.lineTo(y-Mt.dx,V-Mt.dy)},U.prototype.afterDrawPath=function(D){var W=this.get("startArrowShape"),P=this.get("endArrowShape");W&&W.draw(D),P&&P.draw(D)},U.prototype.getTotalLength=function(){var D=this.attr(),W=D.x1,P=D.y1,m=D.x2,y=D.y2;return O.c.length(W,P,m,y)},U.prototype.getPoint=function(D){var W=this.attr(),P=W.x1,m=W.y1,y=W.x2,V=W.y2;return O.c.pointAt(P,m,y,V,D)},U}(T),A=t(0),k=t(31),X={circle:function(U,D,W){return[["M",U-W,D],["A",W,W,0,1,0,U+W,D],["A",W,W,0,1,0,U-W,D]]},square:function(U,D,W){return[["M",U-W,D-W],["L",U+W,D-W],["L",U+W,D+W],["L",U-W,D+W],["Z"]]},diamond:function(U,D,W){return[["M",U-W,D],["L",U,D-W],["L",U+W,D],["L",U,D+W],["Z"]]},triangle:function(U,D,W){var P=W*Math.sin(1/3*Math.PI);return[["M",U-W,D+P],["L",U,D-P],["L",U+W,D+P],["Z"]]},"triangle-down":function(U,D,W){var P=W*Math.sin(1/3*Math.PI);return[["M",U-W,D-P],["L",U+W,D-P],["L",U,D+P],["Z"]]}},et=function(it){function U(){return it!==null&&it.apply(this,arguments)||this}return Object(d.b)(U,it),U.prototype.initAttrs=function(D){this._resetParamsCache()},U.prototype._resetParamsCache=function(){this.set("paramsCache",{})},U.prototype.onAttrChange=function(D,W,P){it.prototype.onAttrChange.call(this,D,W,P),["symbol","x","y","r","radius"].indexOf(D)!==-1&&this._resetParamsCache()},U.prototype.isOnlyHitBox=function(){return!0},U.prototype._getR=function(D){return Object(A.s)(D.r)?D.radius:D.r},U.prototype._getPath=function(){var D,W,P=this.attr(),m=P.x,y=P.y,V=P.symbol||"circle",J=this._getR(P);if(Object(b.h)(V))W=(D=V)(m,y,J),W=Object(k.c)(W);else{if(!(D=U.Symbols[V]))return console.warn(V+" marker is not supported."),null;W=D(m,y,J)}return W},U.prototype.createPath=function(D){var W=this._getPath(),P=this.get("paramsCache");Object(h.e)(this,D,{path:W},P)},U.Symbols=X,U}(T);function tt(it,U,D){var W=Object(S.getOffScreenContext)();return it.createPath(W),W.isPointInPath(U,D)}function ft(it){return Math.abs(it)<1e-6?0:it<0?-1:1}function st(it,U,D){return(D[0]-it[0])*(U[1]-it[1])==(U[0]-it[0])*(D[1]-it[1])&&Math.min(it[0],U[0])<=D[0]&&D[0]<=Math.max(it[0],U[0])&&Math.min(it[1],U[1])<=D[1]&&D[1]<=Math.max(it[1],U[1])}function vt(it,U,D){var W=!1,P=it.length;if(P<=2)return!1;for(var m=0;m<P;m++){var y=it[m],V=it[(m+1)%P];if(st(y,V,[U,D]))return!0;ft(y[1]-D)>0!=ft(V[1]-D)>0&&ft(U-(D-y[1])*(y[0]-V[0])/(y[1]-V[1])-y[0])<0&&(W=!W)}return W}var mt=t(10),pt=t(40);function rt(it,U,D,W,P,m,y,V){var J=(Math.atan2(V-U,y-it)+2*Math.PI)%(2*Math.PI);if(J<W||J>P)return!1;var ht={x:it+D*Math.cos(J),y:U+D*Math.sin(J)};return Object(b.b)(ht.x,ht.y,y,V)<=m/2}var Bt=mt.a.transform,It=Object(d.a)({hasArc:function(U){for(var D=!1,W=U.length,P=0;P<W;P++){var m=U[P][0];if(m==="C"||m==="A"||m==="Q"){D=!0;break}}return D},extractPolygons:function(U){for(var D=U.length,W=[],P=[],m=[],y=0;y<D;y++){var V=U[y],J=V[0];J==="M"?(m.length&&(P.push(m),m=[]),m.push([V[1],V[2]])):J==="Z"?m.length&&(W.push(m),m=[]):m.push([V[1],V[2]])}return m.length>0&&P.push(m),{polygons:W,polylines:P}},isPointInStroke:function(U,D,W,P,m){for(var y=!1,V=D/2,J=0;J<U.length;J++){var ht=U[J],gt=ht.currentPoint,Mt=ht.params,Lt=ht.prePoint,At=ht.box;if(!At||Object(b.e)(At.x-V,At.y-V,At.width+D,At.height+D,W,P)){switch(ht.command){case"L":case"Z":y=j(Lt[0],Lt[1],gt[0],gt[1],D,W,P);break;case"Q":y=O.e.pointDistance(Lt[0],Lt[1],Mt[1],Mt[2],Mt[3],Mt[4],W,P)<=D/2;break;case"C":y=O.b.pointDistance(Lt[0],Lt[1],Mt[1],Mt[2],Mt[3],Mt[4],Mt[5],Mt[6],W,P,m)<=D/2;break;case"A":var Ct=ht.arcParams,Ot=Ct.cx,Dt=Ct.cy,Ft=Ct.rx,Xt=Ct.ry,Rt=Ct.startAngle,Kt=Ct.endAngle,$t=Ct.xRotation,le=[W,P,1],Me=Ft>Xt?Ft:Xt,on=Bt(null,[["t",-Ot,-Dt],["r",-$t],["s",1/(Ft>Xt?1:Ft/Xt),1/(Ft>Xt?Xt/Ft:1)]]);pt.transformMat3(le,le,on),y=rt(0,0,Me,Rt,Kt,D,le[0],le[1])}if(y)break}}return y}},S.PathUtil);function St(it,U,D){for(var W=!1,P=0;P<it.length&&!(W=vt(it[P],U,D));P++);return W}var H=function(it){function U(){return it!==null&&it.apply(this,arguments)||this}return Object(d.b)(U,it),U.prototype.getDefaultAttrs=function(){var D=it.prototype.getDefaultAttrs.call(this);return Object(d.a)(Object(d.a)({},D),{startArrow:!1,endArrow:!1})},U.prototype.initAttrs=function(D){this._setPathArr(D.path),this.setArrow()},U.prototype.onAttrChange=function(D,W,P){it.prototype.onAttrChange.call(this,D,W,P),D==="path"&&this._setPathArr(W),this.setArrow()},U.prototype._setPathArr=function(D){this.attrs.path=Object(k.c)(D);var W=It.hasArc(D);this.set("hasArc",W),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},U.prototype.getSegments=function(){var D=this.get("segements");return D||(D=Object(k.d)(this.attr("path")),this.set("segments",D)),D},U.prototype.setArrow=function(){var D=this.attr(),W=D.startArrow,P=D.endArrow;if(W){var m=this.getStartTangent();p.b(this,D,m[0][0],m[0][1],m[1][0],m[1][1])}P&&(m=this.getEndTangent(),p.a(this,D,m[0][0],m[0][1],m[1][0],m[1][1]))},U.prototype.isInStrokeOrPath=function(D,W,P,m,y){var V=this.getSegments(),J=this.get("hasArc"),ht=!1;if(P){var gt=this.getTotalLength();ht=It.isPointInStroke(V,y,D,W,gt)}if(!ht&&m)if(J)ht=tt(this,D,W);else{var Mt=this.attr("path"),Lt=It.extractPolygons(Mt);ht=St(Lt.polygons,D,W)||St(Lt.polylines,D,W)}return ht},U.prototype.createPath=function(D){var W=this.attr(),P=this.get("paramsCache");Object(h.e)(this,D,W,P)},U.prototype.afterDrawPath=function(D){var W=this.get("startArrowShape"),P=this.get("endArrowShape");W&&W.draw(D),P&&P.draw(D)},U.prototype.getTotalLength=function(){var D=this.get("totalLength");return Object(A.s)(D)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):D},U.prototype.getPoint=function(D){var W,P,m=this.get("tCache");m||(this._calculateCurve(),this._setTcache(),m=this.get("tCache"));var y=this.get("curve");if(!m||m.length===0)return y?{x:y[0][1],y:y[0][2]}:null;Object(A.f)(m,function(gt,Mt){D>=gt[0]&&D<=gt[1]&&(W=(D-gt[0])/(gt[1]-gt[0]),P=Mt)});var V=y[P];if(Object(A.s)(V)||Object(A.s)(P))return null;var J=V.length,ht=y[P+1];return O.b.pointAt(V[J-2],V[J-1],ht[1],ht[2],ht[3],ht[4],ht[5],ht[6],W)},U.prototype._calculateCurve=function(){var D=this.attr().path;this.set("curve",It.pathToCurve(D))},U.prototype._setTcache=function(){var D,W,P,m,y=0,V=0,J=[],ht=this.get("curve");ht&&(Object(A.f)(ht,function(gt,Mt){P=ht[Mt+1],m=gt.length,P&&(y+=O.b.length(gt[m-2],gt[m-1],P[1],P[2],P[3],P[4],P[5],P[6])||0)}),this.set("totalLength",y),y!==0?(Object(A.f)(ht,function(gt,Mt){P=ht[Mt+1],m=gt.length,P&&((D=[])[0]=V/y,W=O.b.length(gt[m-2],gt[m-1],P[1],P[2],P[3],P[4],P[5],P[6]),V+=W||0,D[1]=V/y,J.push(D))}),this.set("tCache",J)):this.set("tCache",[]))},U.prototype.getStartTangent=function(){var D,W=this.getSegments();if(W.length>1){var P=W[0].currentPoint,m=W[1].currentPoint,y=W[1].startTangent;D=[],y?(D.push([P[0]-y[0],P[1]-y[1]]),D.push([P[0],P[1]])):(D.push([m[0],m[1]]),D.push([P[0],P[1]]))}return D},U.prototype.getEndTangent=function(){var D,W=this.getSegments(),P=W.length;if(P>1){var m=W[P-2].currentPoint,y=W[P-1].currentPoint,V=W[P-1].endTangent;D=[],V?(D.push([y[0]-V[0],y[1]-V[1]]),D.push([y[0],y[1]])):(D.push([m[0],m[1]]),D.push([y[0],y[1]]))}return D},U}(T);function ot(it,U,D,W,P){var m=it.length;if(m<2)return!1;for(var y=0;y<m-1;y++)if(j(it[y][0],it[y][1],it[y+1][0],it[y+1][1],U,D,W))return!0;if(P){var V=it[0],J=it[m-1];if(j(V[0],V[1],J[0],J[1],U,D,W))return!0}return!1}var yt=function(it){function U(){return it!==null&&it.apply(this,arguments)||this}return Object(d.b)(U,it),U.prototype.isInStrokeOrPath=function(D,W,P,m,y){var V=this.attr().points,J=!1;return P&&(J=ot(V,y,D,W,!0)),!J&&m&&(J=vt(V,D,W)),J},U.prototype.createPath=function(D){var W=this.attr().points;if(!(W.length<2)){D.beginPath();for(var P=0;P<W.length;P++){var m=W[P];P===0?D.moveTo(m[0],m[1]):D.lineTo(m[0],m[1])}D.closePath()}},U}(T),xt=function(it){function U(){return it!==null&&it.apply(this,arguments)||this}return Object(d.b)(U,it),U.prototype.getDefaultAttrs=function(){var D=it.prototype.getDefaultAttrs.call(this);return Object(d.a)(Object(d.a)({},D),{startArrow:!1,endArrow:!1})},U.prototype.initAttrs=function(D){this.setArrow()},U.prototype.onAttrChange=function(D,W,P){it.prototype.onAttrChange.call(this,D,W,P),this.setArrow(),["points"].indexOf(D)!==-1&&this._resetCache()},U.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},U.prototype.setArrow=function(){var D=this.attr(),W=this.attrs,P=W.points,m=W.startArrow,y=W.endArrow,V=P.length,J=P[0][0],ht=P[0][1],gt=P[V-1][0],Mt=P[V-1][1];m&&p.b(this,D,P[1][0],P[1][1],J,ht),y&&p.a(this,D,P[V-2][0],P[V-2][1],gt,Mt)},U.prototype.isFill=function(){return!1},U.prototype.isInStrokeOrPath=function(D,W,P,m,y){return!(!P||!y)&&ot(this.attr().points,y,D,W,!1)},U.prototype.isStroke=function(){return!0},U.prototype.createPath=function(D){var W=this.attr(),P=W.points,m=W.startArrow,y=W.endArrow,V=P.length;if(!(P.length<2)){var J,ht=P[0][0],gt=P[0][1],Mt=P[V-1][0],Lt=P[V-1][1];m&&m.d&&(ht+=(J=p.c(ht,gt,P[1][0],P[1][1],m.d)).dx,gt+=J.dy),y&&y.d&&(Mt-=(J=p.c(P[V-2][0],P[V-2][1],Mt,Lt,y.d)).dx,Lt-=J.dy),D.beginPath(),D.moveTo(ht,gt);for(var At=0;At<V-1;At++){var Ct=P[At];D.lineTo(Ct[0],Ct[1])}D.lineTo(Mt,Lt)}},U.prototype.afterDrawPath=function(D){var W=this.get("startArrowShape"),P=this.get("endArrowShape");W&&W.draw(D),P&&P.draw(D)},U.prototype.getTotalLength=function(){var D=this.attr().points,W=this.get("totalLength");return Object(A.s)(W)?(this.set("totalLength",O.d.length(D)),this.get("totalLength")):W},U.prototype.getPoint=function(D){var W,P,m=this.attr().points,y=this.get("tCache");return y||(this._setTcache(),y=this.get("tCache")),Object(A.f)(y,function(V,J){D>=V[0]&&D<=V[1]&&(W=(D-V[0])/(V[1]-V[0]),P=J)}),O.c.pointAt(m[P][0],m[P][1],m[P+1][0],m[P+1][1],W)},U.prototype._setTcache=function(){var D=this.attr().points;if(D&&D.length!==0){var W=this.getTotalLength();if(!(W<=0)){var P,m,y=0,V=[];Object(A.f)(D,function(J,ht){D[ht+1]&&((P=[])[0]=y/W,m=O.c.length(J[0],J[1],D[ht+1][0],D[ht+1][1]),y+=m,P[1]=y/W,V.push(P))}),this.set("tCache",V)}}},U.prototype.getStartTangent=function(){var D=this.attr().points,W=[];return W.push([D[1][0],D[1][1]]),W.push([D[0][0],D[0][1]]),W},U.prototype.getEndTangent=function(){var D=this.attr().points,W=D.length-1,P=[];return P.push([D[W-1][0],D[W-1][1]]),P.push([D[W][0],D[W][1]]),P},U}(T),wt=t(121),Q=function(it){function U(){return it!==null&&it.apply(this,arguments)||this}return Object(d.b)(U,it),U.prototype.getDefaultAttrs=function(){var D=it.prototype.getDefaultAttrs.call(this);return Object(d.a)(Object(d.a)({},D),{x:0,y:0,width:0,height:0,radius:0})},U.prototype.isInStrokeOrPath=function(D,W,P,m,y){var V=this.attr(),J=V.x,ht=V.y,gt=V.width,Mt=V.height,Lt=V.radius;if(Lt){var At=!1;return P&&(At=function(Ot,Dt,Ft,Xt,Rt,Kt,$t,le){return j(Ot+Rt,Dt,Ot+Ft-Rt,Dt,Kt,$t,le)||j(Ot+Ft,Dt+Rt,Ot+Ft,Dt+Xt-Rt,Kt,$t,le)||j(Ot+Ft-Rt,Dt+Xt,Ot+Rt,Dt+Xt,Kt,$t,le)||j(Ot,Dt+Xt-Rt,Ot,Dt+Rt,Kt,$t,le)||rt(Ot+Ft-Rt,Dt+Rt,Rt,1.5*Math.PI,2*Math.PI,Kt,$t,le)||rt(Ot+Ft-Rt,Dt+Xt-Rt,Rt,0,.5*Math.PI,Kt,$t,le)||rt(Ot+Rt,Dt+Xt-Rt,Rt,.5*Math.PI,Math.PI,Kt,$t,le)||rt(Ot+Rt,Dt+Rt,Rt,Math.PI,1.5*Math.PI,Kt,$t,le)}(J,ht,gt,Mt,Lt,y,D,W)),!At&&m&&(At=tt(this,D,W)),At}var Ct=y/2;return m&&P?Object(b.e)(J-Ct,ht-Ct,gt+Ct,Mt+Ct,D,W):m?Object(b.e)(J,ht,gt,Mt,D,W):P?function(Ot,Dt,Ft,Xt,Rt,Kt,$t){var le=Rt/2;return Object(b.e)(Ot-le,Dt-le,Ft,Rt,Kt,$t)||Object(b.e)(Ot+Ft-le,Dt-le,Rt,Xt,Kt,$t)||Object(b.e)(Ot+le,Dt+Xt-le,Ft,Rt,Kt,$t)||Object(b.e)(Ot-le,Dt+le,Rt,Xt,Kt,$t)}(J,ht,gt,Mt,y,D,W):void 0},U.prototype.createPath=function(D){var W=this.attr(),P=W.x,m=W.y,y=W.width,V=W.height,J=W.radius;if(D.beginPath(),J===0)D.rect(P,m,y,V);else{var ht=Object(wt.a)(J),gt=ht[0],Mt=ht[1],Lt=ht[2],At=ht[3];D.moveTo(P+gt,m),D.lineTo(P+y-Mt,m),Mt!==0&&D.arc(P+y-Mt,m+Mt,Mt,-Math.PI/2,0),D.lineTo(P+y,m+V-Lt),Lt!==0&&D.arc(P+y-Lt,m+V-Lt,Lt,0,Math.PI/2),D.lineTo(P+At,m+V),At!==0&&D.arc(P+At,m+V-At,At,Math.PI/2,Math.PI),D.lineTo(P,m+gt),gt!==0&&D.arc(P+gt,m+gt,gt,Math.PI,1.5*Math.PI),D.closePath()}},U}(T),ct=function(it){function U(){return it!==null&&it.apply(this,arguments)||this}return Object(d.b)(U,it),U.prototype.getDefaultAttrs=function(){var D=it.prototype.getDefaultAttrs.call(this);return Object(d.a)(Object(d.a)({},D),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},U.prototype.isOnlyHitBox=function(){return!0},U.prototype.initAttrs=function(D){this._assembleFont(),D.text&&this._setText(D.text)},U.prototype._assembleFont=function(){var D=this.attrs;D.font=Object(S.assembleFont)(D)},U.prototype._setText=function(D){var W=null;Object(b.k)(D)&&D.indexOf(`
`)!==-1&&(W=D.split(`
`)),this.set("textArr",W)},U.prototype.onAttrChange=function(D,W,P){it.prototype.onAttrChange.call(this,D,W,P),D.startsWith("font")&&this._assembleFont(),D==="text"&&this._setText(W)},U.prototype._getSpaceingY=function(){var D=this.attrs,W=D.lineHeight,P=1*D.fontSize;return W?W-P:.14*P},U.prototype._drawTextArr=function(D,W,P){var m,y=this.attrs,V=y.textBaseline,J=y.x,ht=y.y,gt=1*y.fontSize,Mt=this._getSpaceingY(),Lt=Object(S.getTextHeight)(y.text,y.fontSize,y.lineHeight);Object(b.c)(W,function(At,Ct){m=ht+Ct*(Mt+gt)-Lt+gt,V==="middle"&&(m+=Lt-gt-(Lt-gt)/2),V==="top"&&(m+=Lt-gt),P?D.fillText(At,J,m):D.strokeText(At,J,m)})},U.prototype._drawText=function(D,W){var P=this.attr(),m=P.x,y=P.y,V=this.get("textArr");if(V)this._drawTextArr(D,V,W);else{var J=P.text;W?D.fillText(J,m,y):D.strokeText(J,m,y)}},U.prototype.strokeAndFill=function(D){var W=this.attrs,P=W.lineWidth,m=W.opacity,y=W.strokeOpacity,V=W.fillOpacity;this.isStroke()&&P>0&&(Object(b.i)(y)||y===1||(D.globalAlpha=m),this.stroke(D)),this.isFill()&&(Object(b.i)(V)||V===1?this.fill(D):(D.globalAlpha=V,this.fill(D),D.globalAlpha=m)),this.afterDrawPath(D)},U.prototype.fill=function(D){this._drawText(D,!0)},U.prototype.stroke=function(D){this._drawText(D,!1)},U}(T)},function(a,M,t){var n=t(73),d=t(284),S=t(285),b=n?n.toStringTag:void 0;a.exports=function(h){return h==null?h===void 0?"[object Undefined]":"[object Null]":b&&b in Object(h)?d(h):S(h)}},function(a,M,t){var n=t(167),d=t(130),S=t(53);a.exports=function(b){return S(b)?n(b):d(b)}},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.tagProperty=M.tagParameter=M.decorate=void 0;var n=t(41),d=t(32);function S(E,T,o,s,u){var v={},C=typeof u=="number",O=u!==void 0&&C?u.toString():o;if(C&&o!==void 0)throw new Error(n.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(E,T)&&(v=Reflect.getMetadata(E,T));var j=v[O];if(Array.isArray(j))for(var p=0,x=j;p<x.length;p++){var A=x[p];if(A.key===s.key)throw new Error(n.DUPLICATED_METADATA+" "+A.key.toString())}else j=[];j.push(s),v[O]=j,Reflect.defineMetadata(E,v,T)}function b(E,T){Reflect.decorate(E,T)}function h(E,T){return function(o,s){T(o,s,E)}}M.tagParameter=function(E,T,o,s){S(d.TAGGED,E,T,s,o)},M.tagProperty=function(E,T,o){S(d.TAGGED_PROP,E.constructor,T,o)},M.decorate=function(E,T,o){typeof o=="number"?b([h(o,E)],T):typeof o=="string"?Reflect.decorate([E],T,o):b([E],T)}},function(a,M,t){var n=t(443),d=t(444),S=t(218),b=t(445);a.exports=function(h,E){return n(h)||d(h,E)||S(h,E)||b()}},function(a,M,t){var n=t(57),d=t(48);a.exports=function(S){return typeof S=="number"||d(S)&&n(S)=="[object Number]"}},function(a,M,t){"use strict";t.d(M,"b",function(){return d.a}),t.d(M,"a",function(){return n});var n={};t.r(n),t.d(n,"leftTranslate",function(){return S}),t.d(n,"leftRotate",function(){return b}),t.d(n,"leftScale",function(){return h}),t.d(n,"transform",function(){return E}),t.d(n,"direction",function(){return T}),t.d(n,"angleTo",function(){return o}),t.d(n,"vertical",function(){return s});var d=t(2);function S(u,v,C){var O=[0,0,0,0,0,0,0,0,0];return d.a.fromTranslation(O,C),d.a.multiply(u,O,v)}function b(u,v,C){var O=[0,0,0,0,0,0,0,0,0];return d.a.fromRotation(O,C),d.a.multiply(u,O,v)}function h(u,v,C){var O=[0,0,0,0,0,0,0,0,0];return d.a.fromScaling(O,C),d.a.multiply(u,O,v)}function E(u,v){for(var C,O,j,p=u?[].concat(u):[1,0,0,0,1,0,0,0,1],x=0,A=v.length;x<A;x++){var k=v[x];switch(k[0]){case"t":S(p,p,[k[1],k[2]]);break;case"s":h(p,p,[k[1],k[2]]);break;case"r":b(p,p,k[1]);break;case"m":C=p,O=p,j=k[1],d.a.multiply(C,j,O)}}return p}function T(u,v){return u[0]*v[1]-v[0]*u[1]}function o(u,v,C){var O=d.d.angle(u,v),j=T(u,v)>=0;return C?j?2*Math.PI-O:O:j?O:2*Math.PI-O}function s(u,v,C){return C?(u[0]=v[1],u[1]=-1*v[0]):(u[0]=-1*v[1],u[1]=v[0]),u}},function(a,M,t){"use strict";t(79),t(18);var n=t(249);t.d(M,"Canvas",function(){return n.a}),t(78)},function(a,M,t){var n=t(236),d=t(235),S=t(243),b=t(150),h=t(244),E=[0,0];a.exports.computeMiter=function(T,o,s,u,v){return n(T,s,u),S(T,T),d(o,-T[1],T[0]),d(E,-s[1],s[0]),v/h(o,E)},a.exports.normal=function(T,o){return d(T,-o[1],o[0]),T},a.exports.direction=function(T,o,s){return b(T,o,s),S(T,T),T}},function(a,M,t){var n=t(283),d=t(288);a.exports=function(S,b){var h=d(S,b);return n(h)?h:void 0}},function(a,M,t){var n=t(167),d=t(308),S=t(53);a.exports=function(b){return S(b)?n(b,!0):d(b)}},function(a,M){a.exports=function(t){return t}},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.id=void 0;var n=0;M.id=function(){return n++}},function(a,M,t){"use strict";t.d(M,"b",function(){return S}),t.d(M,"c",function(){return b}),t.d(M,"a",function(){return h});var n=t(19),d=t(117);function S(E,T,o){var s=1;return Object(n.h)(E)&&(s=E.split(`
`).length),s>1?T*s+function(u,v){return v?v-u:.14*u}(T,o)*(s-1):T}function b(E,T){var o=Object(d.a)(),s=0;if(Object(n.e)(E)||E==="")return s;if(o.save(),o.font=T,Object(n.h)(E)&&E.includes(`
`)){var u=E.split(`
`);Object(n.a)(u,function(v){var C=o.measureText(v).width;s<C&&(s=C)})}else s=o.measureText(E).width;return o.restore(),s}function h(E){var T=E.fontSize,o=E.fontFamily,s=E.fontWeight;return[E.fontStyle,E.fontVariant,s,T+"px",o].join(" ").trim()}},function(a,M,t){"use strict";t.d(M,"a",function(){return ca}),t.d(M,"b",function(){return ka});var n,d,S=function(G){return typeof G=="string"},b=/-(\w)/g,h=(n=function(G){return G.replace(b,function(w,B){return B?B.toUpperCase():""})},d=Object.create(null),Array.isArray),E=function(G){return typeof G=="number"},T=function(G){return Number.isNaN(Number(G))},o=function(G,w,B){for(var Z=[],Pt=0;Pt<G;Pt++)Z[Pt]=0;return B&&B.forEach(function(_t){_t.source&&(Z[w[_t.source]]+=1),_t.target&&(Z[w[_t.target]]+=1)}),Z},s=function(G){for(var w=[],B=G.length,Z=0;Z<B;Z+=1){w[Z]=[];for(var Pt=0;Pt<B;Pt+=1)Z===Pt?w[Z][Pt]=0:G[Z][Pt]!==0&&G[Z][Pt]?w[Z][Pt]=G[Z][Pt]:w[Z][Pt]=1/0}for(var _t=0;_t<B;_t+=1)for(var q=0;q<B;q+=1)for(var kt=0;kt<B;kt+=1)w[q][kt]>w[q][_t]+w[_t][kt]&&(w[q][kt]=w[q][_t]+w[_t][kt]);return w},u=function(G,w){var B=G.nodes,Z=G.edges,Pt=[],_t={};if(!B)throw new Error("invalid nodes data!");return B&&B.forEach(function(q,kt){_t[q.id]=kt,Pt.push([])}),Z&&Z.forEach(function(q){var kt=q.source,ee=q.target,re=_t[kt],Te=_t[ee];Pt[re][Te]=1,w||(Pt[Te][re]=1)}),Pt},v=function(G,w){typeof w=="function"&&function B(Z,Pt){if(Z&&Z.children){for(var _t=Z.children.length-1;_t>=0;_t--)if(!B(Z.children[_t],Pt))return}return!!Pt(Z)}(G,w)};function C(K){return(C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(K)}var O=function K(G){if(G===null)return G;if(G instanceof Date)return new Date(G.getTime());if(G instanceof Array){var w=[];return G.forEach(function(Z){w.push(Z)}),w.map(function(Z){return K(Z)})}if(C(G)==="object"&&G!=={}){var B=Object.assign({},G);return Object.keys(B).forEach(function(Z){B[Z]=K(B[Z])}),B}return G},j=function(G){return typeof G=="function"};function p(K,G){for(var w=0;w<G.length;w++){var B=G[w];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(K,B.key,B)}}var x=function(){function K(){(function(Z,Pt){if(!(Z instanceof Pt))throw new TypeError("Cannot call a class as a function")})(this,K),this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}var G,w,B;return G=K,(w=[{key:"layout",value:function(Pt){return this.init(Pt),this.execute(!0)}},{key:"init",value:function(Pt){this.nodes=Pt.nodes||[],this.edges=Pt.edges||[],this.combos=Pt.combos||[]}},{key:"execute",value:function(Pt){}},{key:"executeWithWorker",value:function(){}},{key:"getDefaultCfg",value:function(){return{}}},{key:"updateCfg",value:function(Pt){Pt&&Object.assign(this,Pt)}},{key:"getType",value:function(){return"base"}},{key:"destroy",value:function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0}}])&&p(G.prototype,w),B&&p(G,B),K}();function A(K){return(A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(K)}function k(K,G){for(var w=0;w<G.length;w++){var B=G[w];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(K,B.key,B)}}function X(K,G){return(X=Object.setPrototypeOf||function(w,B){return w.__proto__=B,w})(K,G)}function et(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=ft(K);if(G){var Z=ft(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return tt(this,w)}}function tt(K,G){return!G||A(G)!=="object"&&typeof G!="function"?function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(K):G}function ft(K){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)})(K)}var st=function(K){(function(_t,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");_t.prototype=Object.create(q&&q.prototype,{constructor:{value:_t,writable:!0,configurable:!0}}),q&&X(_t,q)})(Pt,K);var G,w,B,Z=et(Pt);function Pt(_t){var q;return function(kt,ee){if(!(kt instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,Pt),(q=Z.call(this)).begin=[0,0],q.preventOverlap=!0,q.preventOverlapPadding=10,q.condense=!1,q.sortBy="degree",q.nodeSize=30,q.nodes=[],q.edges=[],q.width=300,q.height=300,q.row=0,q.col=0,q.cellWidth=0,q.cellHeight=0,q.cellUsed={},q.id2manPos={},q.onLayoutEnd=function(){},q.updateCfg(_t),q}return G=Pt,(w=[{key:"getDefaultCfg",value:function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}}},{key:"execute",value:function(){var q=this,kt=q.nodes,ee=kt.length,re=q.begin;if(ee!==0){if(ee===1)return kt[0].x=re[0],kt[0].y=re[1],void(q.onLayoutEnd&&q.onLayoutEnd());var Te=q.edges,Le=[];kt.forEach(function(Sr){Le.push(Sr)});var tn={};if(Le.forEach(function(Sr,_r){tn[Sr.id]=_r}),(q.sortBy==="degree"||!S(q.sortBy)||Le[0][q.sortBy]===void 0)&&(q.sortBy="degree",T(kt[0].degree))){var _e=o(Le.length,tn,Te);Le.forEach(function(Sr,_r){Sr.degree=_e[_r]})}Le.sort(function(Sr,_r){return _r[q.sortBy]-Sr[q.sortBy]}),q.width||typeof window=="undefined"||(q.width=window.innerWidth),q.height||typeof window=="undefined"||(q.height=window.innerHeight);var $e=q.rows,nn=q.cols!=null?q.cols:q.columns;if(q.cells=ee,$e!=null&&nn!=null?(q.rows=$e,q.cols=nn):$e!=null&&nn==null?(q.rows=$e,q.cols=Math.ceil(q.cells/q.rows)):$e==null&&nn!=null?(q.cols=nn,q.rows=Math.ceil(q.cells/q.cols)):(q.splits=Math.sqrt(q.cells*q.height/q.width),q.rows=Math.round(q.splits),q.cols=Math.round(q.width/q.height*q.splits)),q.cols*q.rows>q.cells){var Xe=q.small(),fn=q.large();(Xe-1)*fn>=q.cells?q.small(Xe-1):(fn-1)*Xe>=q.cells&&q.large(fn-1)}else for(;q.cols*q.rows<q.cells;){var jn=q.small(),er=q.large();(er+1)*jn>=q.cells?q.large(er+1):q.small(jn+1)}q.cellWidth=q.width/q.cols,q.cellHeight=q.height/q.rows,q.condense&&(q.cellWidth=0,q.cellHeight=0),q.preventOverlap&&Le.forEach(function(Sr){var _r,Wr;Sr.x&&Sr.y||(Sr.x=0,Sr.y=0),h(Sr.size)?(_r=Sr.size[0],Wr=Sr.size[1]):E(Sr.size)&&(_r=Sr.size,Wr=Sr.size),_r!==void 0&&Wr!==void 0||(h(q.nodeSize)?(_r=q.nodeSize[0],Wr=q.nodeSize[1]):E(q.nodeSize)?(_r=q.nodeSize,Wr=q.nodeSize):(_r=30,Wr=30));var Tr=q.preventOverlapPadding,Ur=_r+Tr,ni=Wr+Tr;q.cellWidth=Math.max(q.cellWidth,Ur),q.cellHeight=Math.max(q.cellHeight,ni)}),q.cellUsed={},q.row=0,q.col=0,q.id2manPos={};for(var Gn=0;Gn<Le.length;Gn++){var Kn=Le[Gn],nr=void 0;if(q.position&&(nr=q.position(Kn)),nr&&(nr.row!==void 0||nr.col!==void 0)){var yr={row:nr.row,col:nr.col};if(yr.col===void 0)for(yr.col=0;q.used(yr.row,yr.col);)yr.col++;else if(yr.row===void 0)for(yr.row=0;q.used(yr.row,yr.col);)yr.row++;q.id2manPos[Kn.id]=yr,q.use(yr.row,yr.col)}q.getPos(Kn)}return q.onLayoutEnd&&q.onLayoutEnd(),{edges:Te,nodes:Le}}q.onLayoutEnd&&q.onLayoutEnd()}},{key:"small",value:function(q){var kt,ee=this.rows||5,re=this.cols||5;return q==null?kt=Math.min(ee,re):Math.min(ee,re)===this.rows?this.rows=q:this.cols=q,kt}},{key:"large",value:function(q){var kt,ee=this.rows||5,re=this.cols||5;return q==null?kt=Math.max(ee,re):Math.max(ee,re)===this.rows?this.rows=q:this.cols=q,kt}},{key:"used",value:function(q,kt){return this.cellUsed["c-".concat(q,"-").concat(kt)]||!1}},{key:"use",value:function(q,kt){this.cellUsed["c-".concat(q,"-").concat(kt)]=!0}},{key:"moveToNextCell",value:function(){var q=this.cols||5;this.col++,this.col>=q&&(this.col=0,this.row++)}},{key:"getPos",value:function(q){var kt,ee,re=this.begin,Te=this.cellWidth,Le=this.cellHeight,tn=this.id2manPos[q.id];if(tn)kt=tn.col*Te+Te/2+re[0],ee=tn.row*Le+Le/2+re[1];else{for(;this.used(this.row,this.col);)this.moveToNextCell();kt=this.col*Te+Te/2+re[0],ee=this.row*Le+Le/2+re[1],this.use(this.row,this.col),this.moveToNextCell()}q.x=kt,q.y=ee}},{key:"getType",value:function(){return"grid"}}])&&k(G.prototype,w),B&&k(G,B),Pt}(x);function vt(K){return(vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(K)}function mt(K,G){for(var w=0;w<G.length;w++){var B=G[w];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(K,B.key,B)}}function pt(K,G){return(pt=Object.setPrototypeOf||function(w,B){return w.__proto__=B,w})(K,G)}function rt(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=It(K);if(G){var Z=It(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return Bt(this,w)}}function Bt(K,G){return!G||vt(G)!=="object"&&typeof G!="function"?function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(K):G}function It(K){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)})(K)}var St=function(K){(function(_t,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");_t.prototype=Object.create(q&&q.prototype,{constructor:{value:_t,writable:!0,configurable:!0}}),q&&pt(_t,q)})(Pt,K);var G,w,B,Z=rt(Pt);function Pt(_t){var q;return function(kt,ee){if(!(kt instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,Pt),(q=Z.call(this)).center=[0,0],q.width=300,q.height=300,q.nodes=[],q.edges=[],q.onLayoutEnd=function(){},q.updateCfg(_t),q}return G=Pt,(w=[{key:"getDefaultCfg",value:function(){return{center:[0,0],width:300,height:300}}},{key:"execute",value:function(){var q=this,kt=q.nodes,ee=q.center;return q.width||typeof window=="undefined"||(q.width=window.innerWidth),q.height||typeof window=="undefined"||(q.height=window.innerHeight),kt&&kt.forEach(function(re){re.x=.9*(Math.random()-.5)*q.width+ee[0],re.y=.9*(Math.random()-.5)*q.height+ee[1]}),q.onLayoutEnd&&q.onLayoutEnd(),{nodes:kt,edges:this.edges}}},{key:"getType",value:function(){return"random"}}])&&mt(G.prototype,w),B&&mt(G,B),Pt}(x);function H(K){return(H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(K)}function ot(K,G){for(var w=0;w<G.length;w++){var B=G[w];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(K,B.key,B)}}function yt(K,G){return(yt=Object.setPrototypeOf||function(w,B){return w.__proto__=B,w})(K,G)}function xt(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=Q(K);if(G){var Z=Q(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return wt(this,w)}}function wt(K,G){return!G||H(G)!=="object"&&typeof G!="function"?function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(K):G}function Q(K){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)})(K)}var ct=function(G,w){return G?E(G)?function(B){return G}:G:function(B){return w||1}},it=function(K){(function(_t,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");_t.prototype=Object.create(q&&q.prototype,{constructor:{value:_t,writable:!0,configurable:!0}}),q&&yt(_t,q)})(Pt,K);var G,w,B,Z=xt(Pt);function Pt(_t){var q;return function(kt,ee){if(!(kt instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,Pt),(q=Z.call(this)).maxIteration=1e3,q.edgeStrength=200,q.nodeStrength=1e3,q.coulombDisScale=.005,q.damping=.9,q.maxSpeed=1e3,q.minMovement=.5,q.interval=.02,q.factor=1,q.linkDistance=1,q.gravity=10,q.preventOverlap=!0,q.tick=function(){},q.nodes=[],q.edges=[],q.width=300,q.height=300,q.nodeMap={},q.nodeIdxMap={},q.updateCfg(_t),q}return G=Pt,(w=[{key:"getDefaultCfg",value:function(){return{maxIteration:500,gravity:10,enableTick:!0}}},{key:"execute",value:function(){var q=this,kt=q.nodes;if(q.timeInterval!==void 0&&typeof window!="undefined"&&window.clearInterval(q.timeInterval),kt&&kt.length!==0){q.width||typeof window=="undefined"||(q.width=window.innerWidth),q.height||typeof window=="undefined"||(q.height=window.innerHeight),q.center||(q.center=[q.width/2,q.height/2]);var ee=q.center;if(kt.length===1)return kt[0].x=ee[0],kt[0].y=ee[1],void(q.onLayoutEnd&&q.onLayoutEnd());var re={},Te={};kt.forEach(function(Xe,fn){E(Xe.x)||(Xe.x=Math.random()*q.width),E(Xe.y)||(Xe.y=Math.random()*q.height),re[Xe.id]=Xe,Te[Xe.id]=fn}),q.nodeMap=re,q.nodeIdxMap=Te,q.linkDistance=ct(q.linkDistance,1),q.nodeStrength=ct(q.nodeStrength,1),q.edgeStrength=ct(q.edgeStrength,1);var Le,tn=q.nodeSize;if(q.preventOverlap){var _e,$e=q.nodeSpacing;_e=E($e)?function(){return $e}:j($e)?$e:function(){return 0},Le=tn?h(tn)?function(Xe){return(tn[0]>tn[1]?tn[0]:tn[1])+_e(Xe)}:function(Xe){return tn+_e(Xe)}:function(Xe){return Xe.size?h(Xe.size)?(Xe.size[0]>Xe.size[1]?Xe.size[0]:Xe.size[1])+_e(Xe):Xe.size+_e(Xe):10+_e(Xe)}}q.nodeSize=Le;var nn=q.edges;q.degrees=o(kt.length,q.nodeIdxMap,nn),q.getMass||(q.getMass=function(Xe){return q.degrees[q.nodeIdxMap[Xe.id]]}),q.run()}else q.onLayoutEnd&&q.onLayoutEnd()}},{key:"run",value:function(){var q=this,kt=q.nodes,ee=q.edges,re=q.maxIteration;if(typeof window!="undefined"){var Te=0;this.timeInterval=window.setInterval(function(){var Le=[],tn=[];if(kt){kt.forEach(function(Xe,fn){Le[2*fn]=0,Le[2*fn+1]=0,tn[2*fn]=0,tn[2*fn+1]=0}),q.calRepulsive(Le,kt),ee&&q.calAttractive(Le,ee),q.calGravity(Le,kt);var _e=Math.max(.02,q.interval-.002*Te);q.updateVelocity(Le,tn,_e,kt);var $e=[];kt.forEach(function(Xe){$e.push({x:Xe.x,y:Xe.y})}),q.updatePosition(tn,_e,kt),q.tick&&q.tick();var nn=0;kt.forEach(function(Xe,fn){var jn=Xe.x-$e[fn].x,er=Xe.y-$e[fn].y;nn+=Math.sqrt(jn*jn+er*er)}),(nn/=kt.length)<q.minMovement&&(window.clearInterval(q.timeInterval),q.onLayoutEnd&&q.onLayoutEnd()),++Te>re&&(window.clearInterval(q.timeInterval),q.onLayoutEnd&&q.onLayoutEnd())}},0)}}},{key:"calRepulsive",value:function(q,kt){var ee=this.getMass,re=this.nodeStrength,Te=this.factor,Le=this.coulombDisScale,tn=this.preventOverlap,_e=this.nodeSize;kt.forEach(function($e,nn){var Xe=ee?ee($e):1;kt.forEach(function(fn,jn){if(!(nn>=jn)){var er=$e.x-fn.x,Gn=$e.y-fn.y,Kn=Math.sqrt(er*er+Gn*Gn)+.01,nr=(Kn+.1)*Le,yr=er/Kn,Sr=Gn/Kn,_r=(re($e)+re(fn))/2*Te/(nr*nr),Wr=ee?ee(fn):1;if(q[2*nn]+=yr*_r/Xe,q[2*nn+1]+=Sr*_r/Xe,q[2*jn]-=yr*_r/Wr,q[2*jn+1]-=Sr*_r/Wr,tn&&Kn<(_e($e)+_e(fn))/2){var Tr=(re($e)+re(fn))/2/(Kn*Kn);q[2*nn]+=yr*Tr/Xe,q[2*nn+1]+=Sr*Tr/Xe,q[2*jn]-=yr*Tr/Wr,q[2*jn+1]-=Sr*Tr/Wr}}})})}},{key:"calAttractive",value:function(q,kt){var ee=this.nodeMap,re=this.nodeIdxMap,Te=this.linkDistance,Le=this.edgeStrength,tn=this.getMass;kt.forEach(function(_e,$e){var nn=ee[_e.source],Xe=ee[_e.target],fn=Xe.x-nn.x,jn=Xe.y-nn.y,er=Math.sqrt(fn*fn+jn*jn)+.01,Gn=fn/er,Kn=jn/er,nr=((Te(_e)||1)-er)*Le(_e),yr=re[_e.source],Sr=re[_e.target],_r=tn?tn(nn):1,Wr=tn?tn(Xe):1;q[2*yr]-=Gn*nr/_r,q[2*yr+1]-=Kn*nr/_r,q[2*Sr]+=Gn*nr/Wr,q[2*Sr+1]+=Kn*nr/Wr})}},{key:"calGravity",value:function(q,kt){for(var ee=this.center,re=this.gravity,Te=this.degrees,Le=kt.length,tn=0;tn<Le;tn++){var _e=kt[tn],$e=_e.x-ee[0],nn=_e.y-ee[1],Xe=re;if(this.getCenter){var fn=this.getCenter(_e,Te[tn]);fn&&E(fn[0])&&E(fn[1])&&E(fn[2])&&($e=_e.x-fn[0],nn=_e.y-fn[1],Xe=fn[2])}Xe&&(q[2*tn]-=Xe*$e,q[2*tn+1]-=Xe*nn)}}},{key:"updateVelocity",value:function(q,kt,ee,re){var Te=this,Le=ee*Te.damping;re.forEach(function(tn,_e){var $e=q[2*_e]*Le||.01,nn=q[2*_e+1]*Le||.01,Xe=Math.sqrt($e*$e+nn*nn);if(Xe>Te.maxSpeed){var fn=Te.maxSpeed/Xe;$e*=fn,nn*=fn}kt[2*_e]=$e,kt[2*_e+1]=nn})}},{key:"updatePosition",value:function(q,kt,ee){ee.forEach(function(re,Te){var Le=q[2*Te]*kt,tn=q[2*Te+1]*kt;re.x+=Le,re.y+=tn})}},{key:"stop",value:function(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)}},{key:"destroy",value:function(){this.stop(),this.tick=null,this.nodes=null,this.edges=null,this.destroyed=!0}},{key:"getType",value:function(){return"gForce"}}])&&ot(G.prototype,w),B&&ot(G,B),Pt}(x);function U(K,G,w,B){if(isNaN(G)||isNaN(w))return K;var Z,Pt,_t,q,kt,ee,re,Te,Le,tn=K._root,_e={data:B},$e=K._x0,nn=K._y0,Xe=K._x1,fn=K._y1;if(!tn)return K._root=_e,K;for(;tn.length;)if((ee=G>=(Pt=($e+Xe)/2))?$e=Pt:Xe=Pt,(re=w>=(_t=(nn+fn)/2))?nn=_t:fn=_t,Z=tn,!(tn=tn[Te=re<<1|ee]))return Z[Te]=_e,K;if(q=+K._x.call(null,tn.data),kt=+K._y.call(null,tn.data),G===q&&w===kt)return _e.next=tn,Z?Z[Te]=_e:K._root=_e,K;do Z=Z?Z[Te]=new Array(4):K._root=new Array(4),(ee=G>=(Pt=($e+Xe)/2))?$e=Pt:Xe=Pt,(re=w>=(_t=(nn+fn)/2))?nn=_t:fn=_t;while((Te=re<<1|ee)==(Le=(kt>=_t)<<1|q>=Pt));return Z[Le]=tn,Z[Te]=_e,K}var D=function(G,w,B,Z,Pt){this.node=G,this.x0=w,this.y0=B,this.x1=Z,this.y1=Pt};function W(K){return K[0]}function P(K){return K[1]}function m(K,G,w){var B=new y(G==null?W:G,w==null?P:w,NaN,NaN,NaN,NaN);return K==null?B:B.addAll(K)}function y(K,G,w,B,Z,Pt){this._x=K,this._y=G,this._x0=w,this._y0=B,this._x1=Z,this._y1=Pt,this._root=void 0}function V(K){for(var G={data:K.data},w=G;K=K.next;)w=w.next={data:K.data};return G}var J=m.prototype=y.prototype;J.copy=function(){var K,G,w=new y(this._x,this._y,this._x0,this._y0,this._x1,this._y1),B=this._root;if(!B)return w;if(!B.length)return w._root=V(B),w;for(K=[{source:B,target:w._root=new Array(4)}];B=K.pop();)for(var Z=0;Z<4;++Z)(G=B.source[Z])&&(G.length?K.push({source:G,target:B.target[Z]=new Array(4)}):B.target[Z]=V(G));return w},J.add=function(K){var G=+this._x.call(null,K),w=+this._y.call(null,K);return U(this.cover(G,w),G,w,K)},J.addAll=function(K){var G,w,B,Z,Pt=K.length,_t=new Array(Pt),q=new Array(Pt),kt=1/0,ee=1/0,re=-1/0,Te=-1/0;for(w=0;w<Pt;++w)isNaN(B=+this._x.call(null,G=K[w]))||isNaN(Z=+this._y.call(null,G))||(_t[w]=B,q[w]=Z,B<kt&&(kt=B),B>re&&(re=B),Z<ee&&(ee=Z),Z>Te&&(Te=Z));if(kt>re||ee>Te)return this;for(this.cover(kt,ee).cover(re,Te),w=0;w<Pt;++w)U(this,_t[w],q[w],K[w]);return this},J.cover=function(K,G){if(isNaN(K=+K)||isNaN(G=+G))return this;var w=this._x0,B=this._y0,Z=this._x1,Pt=this._y1;if(isNaN(w))Z=(w=Math.floor(K))+1,Pt=(B=Math.floor(G))+1;else{for(var _t,q,kt=Z-w||1,ee=this._root;w>K||K>=Z||B>G||G>=Pt;)switch(q=(G<B)<<1|K<w,(_t=new Array(4))[q]=ee,ee=_t,kt*=2,q){case 0:Z=w+kt,Pt=B+kt;break;case 1:w=Z-kt,Pt=B+kt;break;case 2:Z=w+kt,B=Pt-kt;break;case 3:w=Z-kt,B=Pt-kt}this._root&&this._root.length&&(this._root=ee)}return this._x0=w,this._y0=B,this._x1=Z,this._y1=Pt,this},J.data=function(){var K=[];return this.visit(function(G){if(!G.length)do K.push(G.data);while(G=G.next)}),K},J.extent=function(K){return arguments.length?this.cover(+K[0][0],+K[0][1]).cover(+K[1][0],+K[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},J.find=function(K,G,w){var B,Z,Pt,_t,q,kt,ee,re=this._x0,Te=this._y0,Le=this._x1,tn=this._y1,_e=[],$e=this._root;for($e&&_e.push(new D($e,re,Te,Le,tn)),w==null?w=1/0:(re=K-w,Te=G-w,Le=K+w,tn=G+w,w*=w);kt=_e.pop();)if(!(!($e=kt.node)||(Z=kt.x0)>Le||(Pt=kt.y0)>tn||(_t=kt.x1)<re||(q=kt.y1)<Te))if($e.length){var nn=(Z+_t)/2,Xe=(Pt+q)/2;_e.push(new D($e[3],nn,Xe,_t,q),new D($e[2],Z,Xe,nn,q),new D($e[1],nn,Pt,_t,Xe),new D($e[0],Z,Pt,nn,Xe)),(ee=(G>=Xe)<<1|K>=nn)&&(kt=_e[_e.length-1],_e[_e.length-1]=_e[_e.length-1-ee],_e[_e.length-1-ee]=kt)}else{var fn=K-+this._x.call(null,$e.data),jn=G-+this._y.call(null,$e.data),er=fn*fn+jn*jn;if(er<w){var Gn=Math.sqrt(w=er);re=K-Gn,Te=G-Gn,Le=K+Gn,tn=G+Gn,B=$e.data}}return B},J.remove=function(K){if(isNaN(Pt=+this._x.call(null,K))||isNaN(_t=+this._y.call(null,K)))return this;var G,w,B,Z,Pt,_t,q,kt,ee,re,Te,Le,tn=this._root,_e=this._x0,$e=this._y0,nn=this._x1,Xe=this._y1;if(!tn)return this;if(tn.length)for(;;){if((ee=Pt>=(q=(_e+nn)/2))?_e=q:nn=q,(re=_t>=(kt=($e+Xe)/2))?$e=kt:Xe=kt,G=tn,!(tn=tn[Te=re<<1|ee]))return this;if(!tn.length)break;(G[Te+1&3]||G[Te+2&3]||G[Te+3&3])&&(w=G,Le=Te)}for(;tn.data!==K;)if(B=tn,!(tn=tn.next))return this;return(Z=tn.next)&&delete tn.next,B?(Z?B.next=Z:delete B.next,this):G?(Z?G[Te]=Z:delete G[Te],(tn=G[0]||G[1]||G[2]||G[3])&&tn===(G[3]||G[2]||G[1]||G[0])&&!tn.length&&(w?w[Le]=tn:this._root=tn),this):(this._root=Z,this)},J.removeAll=function(K){for(var G=0,w=K.length;G<w;++G)this.remove(K[G]);return this},J.root=function(){return this._root},J.size=function(){var K=0;return this.visit(function(G){if(!G.length)do++K;while(G=G.next)}),K},J.visit=function(K){var G,w,B,Z,Pt,_t,q=[],kt=this._root;for(kt&&q.push(new D(kt,this._x0,this._y0,this._x1,this._y1));G=q.pop();)if(!K(kt=G.node,B=G.x0,Z=G.y0,Pt=G.x1,_t=G.y1)&&kt.length){var ee=(B+Pt)/2,re=(Z+_t)/2;(w=kt[3])&&q.push(new D(w,ee,re,Pt,_t)),(w=kt[2])&&q.push(new D(w,B,re,ee,_t)),(w=kt[1])&&q.push(new D(w,ee,Z,Pt,re)),(w=kt[0])&&q.push(new D(w,B,Z,ee,re))}return this},J.visitAfter=function(K){var G,w=[],B=[];for(this._root&&w.push(new D(this._root,this._x0,this._y0,this._x1,this._y1));G=w.pop();){var Z=G.node;if(Z.length){var Pt,_t=G.x0,q=G.y0,kt=G.x1,ee=G.y1,re=(_t+kt)/2,Te=(q+ee)/2;(Pt=Z[0])&&w.push(new D(Pt,_t,q,re,Te)),(Pt=Z[1])&&w.push(new D(Pt,re,q,kt,Te)),(Pt=Z[2])&&w.push(new D(Pt,_t,Te,re,ee)),(Pt=Z[3])&&w.push(new D(Pt,re,Te,kt,ee))}B.push(G)}for(;G=B.pop();)K(G.node,G.x0,G.y0,G.x1,G.y1);return this},J.x=function(K){return arguments.length?(this._x=K,this):this._x},J.y=function(K){return arguments.length?(this._y=K,this):this._y};var ht=function(G){return function(){return G}},gt=function(G){return 1e-6*(G()-.5)},Mt={value:function(){}};function Lt(){for(var K,G=0,w=arguments.length,B={};G<w;++G){if(!(K=arguments[G]+"")||K in B||/[\s.]/.test(K))throw new Error("illegal type: "+K);B[K]=[]}return new At(B)}function At(K){this._=K}function Ct(K,G){return K.trim().split(/^|\s+/).map(function(w){var B="",Z=w.indexOf(".");if(Z>=0&&(B=w.slice(Z+1),w=w.slice(0,Z)),w&&!G.hasOwnProperty(w))throw new Error("unknown type: "+w);return{type:w,name:B}})}function Ot(K,G){for(var w,B=0,Z=K.length;B<Z;++B)if((w=K[B]).name===G)return w.value}function Dt(K,G,w){for(var B=0,Z=K.length;B<Z;++B)if(K[B].name===G){K[B]=Mt,K=K.slice(0,B).concat(K.slice(B+1));break}return w!=null&&K.push({name:G,value:w}),K}At.prototype=Lt.prototype={constructor:At,on:function(G,w){var B,Z=this._,Pt=Ct(G+"",Z),_t=-1,q=Pt.length;if(!(arguments.length<2)){if(w!=null&&typeof w!="function")throw new Error("invalid callback: "+w);for(;++_t<q;)if(B=(G=Pt[_t]).type)Z[B]=Dt(Z[B],G.name,w);else if(w==null)for(B in Z)Z[B]=Dt(Z[B],G.name,null);return this}for(;++_t<q;)if((B=(G=Pt[_t]).type)&&(B=Ot(Z[B],G.name)))return B},copy:function(){var G={},w=this._;for(var B in w)G[B]=w[B].slice();return new At(G)},call:function(G,w){if((B=arguments.length-2)>0)for(var B,Z,Pt=new Array(B),_t=0;_t<B;++_t)Pt[_t]=arguments[_t+2];if(!this._.hasOwnProperty(G))throw new Error("unknown type: "+G);for(_t=0,B=(Z=this._[G]).length;_t<B;++_t)Z[_t].value.apply(w,Pt)},apply:function(G,w,B){if(!this._.hasOwnProperty(G))throw new Error("unknown type: "+G);for(var Z=this._[G],Pt=0,_t=Z.length;Pt<_t;++Pt)Z[Pt].value.apply(w,B)}};var Ft=Lt;function Xt(K){return(Xt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(K)}var Rt,Kt,$t=0,le=0,Me=0,on=0,hn=0,Cn=0,He=(typeof performance=="undefined"?"undefined":Xt(performance))==="object"&&performance.now?performance:Date,mn=(typeof window=="undefined"?"undefined":Xt(window))==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(K){setTimeout(K,17)};function dn(){return hn||(mn(Un),hn=He.now()+Cn)}function Un(){hn=0}function Xn(){this._call=this._time=this._next=null}function Hn(K,G,w){var B=new Xn;return B.restart(K,G,w),B}function _n(){hn=(on=He.now())+Cn,$t=le=0;try{(function(){dn(),++$t;for(var K,G=Rt;G;)(K=hn-G._time)>=0&&G._call.call(null,K),G=G._next;--$t})()}finally{$t=0,function(){for(var K,G,w=Rt,B=1/0;w;)w._call?(B>w._time&&(B=w._time),K=w,w=w._next):(G=w._next,w._next=null,w=K?K._next=G:Rt=G);Kt=K,ir(B)}(),hn=0}}function $n(){var K=He.now(),G=K-on;G>1e3&&(Cn-=G,on=K)}function ir(K){$t||(le&&(le=clearTimeout(le)),K-hn>24?(K<1/0&&(le=setTimeout(_n,K-He.now()-Cn)),Me&&(Me=clearInterval(Me))):(Me||(on=He.now(),Me=setInterval($n,1e3)),$t=1,mn(_n)))}Xn.prototype=Hn.prototype={constructor:Xn,restart:function(G,w,B){if(typeof G!="function")throw new TypeError("callback is not a function");B=(B==null?dn():+B)+(w==null?0:+w),this._next||Kt===this||(Kt?Kt._next=this:Rt=this,Kt=this),this._call=G,this._time=B,ir()},stop:function(){this._call&&(this._call=null,this._time=1/0,ir())}};function dr(K){return K.x}function xr(K){return K.y}var Qr=Math.PI*(3-Math.sqrt(5)),Mr=function(G){var w,B,Z=1,Pt=.001,_t=1-Math.pow(Pt,1/300),q=0,kt=.6,ee=new Map,re=Hn(tn),Te=Ft("tick","end"),Le=(B=1,function(){return(B=(1664525*B+1013904223)%4294967296)/4294967296});function tn(){_e(),Te.call("tick",w),Z<Pt&&(re.stop(),Te.call("end",w))}function _e(Xe){var fn,jn,er=G.length;Xe===void 0&&(Xe=1);for(var Gn=0;Gn<Xe;++Gn)for(Z+=(q-Z)*_t,ee.forEach(function(Kn){Kn(Z)}),fn=0;fn<er;++fn)(jn=G[fn]).fx==null?jn.x+=jn.vx*=kt:(jn.x=jn.fx,jn.vx=0),jn.fy==null?jn.y+=jn.vy*=kt:(jn.y=jn.fy,jn.vy=0);return w}function $e(){for(var Xe,fn=0,jn=G.length;fn<jn;++fn){if((Xe=G[fn]).index=fn,Xe.fx!=null&&(Xe.x=Xe.fx),Xe.fy!=null&&(Xe.y=Xe.fy),isNaN(Xe.x)||isNaN(Xe.y)){var er=10*Math.sqrt(.5+fn),Gn=fn*Qr;Xe.x=er*Math.cos(Gn),Xe.y=er*Math.sin(Gn)}(isNaN(Xe.vx)||isNaN(Xe.vy))&&(Xe.vx=Xe.vy=0)}}function nn(Xe){return Xe.initialize&&Xe.initialize(G,Le),Xe}return G==null&&(G=[]),$e(),w={tick:_e,restart:function(){return re.restart(tn),w},stop:function(){return re.stop(),w},nodes:function(fn){return arguments.length?(G=fn,$e(),ee.forEach(nn),w):G},alpha:function(fn){return arguments.length?(Z=+fn,w):Z},alphaMin:function(fn){return arguments.length?(Pt=+fn,w):Pt},alphaDecay:function(fn){return arguments.length?(_t=+fn,w):+_t},alphaTarget:function(fn){return arguments.length?(q=+fn,w):q},velocityDecay:function(fn){return arguments.length?(kt=1-fn,w):1-kt},randomSource:function(fn){return arguments.length?(Le=fn,ee.forEach(nn),w):Le},force:function(fn,jn){return arguments.length>1?(jn==null?ee.delete(fn):ee.set(fn,nn(jn)),w):ee.get(fn)},find:function(fn,jn,er){var Gn,Kn,nr,yr,Sr,_r=0,Wr=G.length;for(er==null?er=1/0:er*=er,_r=0;_r<Wr;++_r)(nr=(Gn=fn-(yr=G[_r]).x)*Gn+(Kn=jn-yr.y)*Kn)<er&&(Sr=yr,er=nr);return Sr},on:function(fn,jn){return arguments.length>1?(Te.on(fn,jn),w):Te.on(fn)}}},Er=function(){var G,w,B,Z,Pt,_t=ht(-30),q=1,kt=1/0,ee=.81;function re(_e){var $e,nn=G.length,Xe=m(G,dr,xr).visitAfter(Le);for(Z=_e,$e=0;$e<nn;++$e)w=G[$e],Xe.visit(tn)}function Te(){if(G){var _e,$e,nn=G.length;for(Pt=new Array(nn),_e=0;_e<nn;++_e)$e=G[_e],Pt[$e.index]=+_t($e,_e,G)}}function Le(_e){var $e,nn,Xe,fn,jn,er=0,Gn=0;if(_e.length){for(Xe=fn=jn=0;jn<4;++jn)($e=_e[jn])&&(nn=Math.abs($e.value))&&(er+=$e.value,Gn+=nn,Xe+=nn*$e.x,fn+=nn*$e.y);_e.x=Xe/Gn,_e.y=fn/Gn}else{($e=_e).x=$e.data.x,$e.y=$e.data.y;do er+=Pt[$e.data.index];while($e=$e.next)}_e.value=er}function tn(_e,$e,nn,Xe){if(!_e.value)return!0;var fn=_e.x-w.x,jn=_e.y-w.y,er=Xe-$e,Gn=fn*fn+jn*jn;if(er*er/ee<Gn)return Gn<kt&&(fn===0&&(Gn+=(fn=gt(B))*fn),jn===0&&(Gn+=(jn=gt(B))*jn),Gn<q&&(Gn=Math.sqrt(q*Gn)),w.vx+=fn*_e.value*Z/Gn,w.vy+=jn*_e.value*Z/Gn),!0;if(!(_e.length||Gn>=kt)){(_e.data!==w||_e.next)&&(fn===0&&(Gn+=(fn=gt(B))*fn),jn===0&&(Gn+=(jn=gt(B))*jn),Gn<q&&(Gn=Math.sqrt(q*Gn)));do _e.data!==w&&(er=Pt[_e.data.index]*Z/Gn,w.vx+=fn*er,w.vy+=jn*er);while(_e=_e.next)}}return re.initialize=function(_e,$e){G=_e,B=$e,Te()},re.strength=function(_e){return arguments.length?(_t=typeof _e=="function"?_e:ht(+_e),Te(),re):_t},re.distanceMin=function(_e){return arguments.length?(q=_e*_e,re):Math.sqrt(q)},re.distanceMax=function(_e){return arguments.length?(kt=_e*_e,re):Math.sqrt(kt)},re.theta=function(_e){return arguments.length?(ee=_e*_e,re):Math.sqrt(ee)},re};function Dr(K){return(Dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(K)}function hi(K){return K.index}function Wi(K,G){var w=K.get(G);if(!w)throw new Error("node not found: "+G);return w}var oa=function(G){var w,B,Z,Pt,_t,q,kt=hi,ee=function(Xe){return 1/Math.min(Pt[Xe.source.index],Pt[Xe.target.index])},re=ht(30),Te=1;function Le(nn){for(var Xe=0,fn=G.length;Xe<Te;++Xe)for(var jn,er,Gn,Kn,nr,yr,Sr,_r=0;_r<fn;++_r)er=(jn=G[_r]).source,Kn=(Gn=jn.target).x+Gn.vx-er.x-er.vx||gt(q),nr=Gn.y+Gn.vy-er.y-er.vy||gt(q),Kn*=yr=((yr=Math.sqrt(Kn*Kn+nr*nr))-B[_r])/yr*nn*w[_r],nr*=yr,Gn.vx-=Kn*(Sr=_t[_r]),Gn.vy-=nr*Sr,er.vx+=Kn*(Sr=1-Sr),er.vy+=nr*Sr}function tn(){if(Z){var nn,Xe,fn=Z.length,jn=G.length,er=new Map(Z.map(function(Gn,Kn){return[kt(Gn,Kn,Z),Gn]}));for(nn=0,Pt=new Array(fn);nn<jn;++nn)(Xe=G[nn]).index=nn,Dr(Xe.source)!=="object"&&(Xe.source=Wi(er,Xe.source)),Dr(Xe.target)!=="object"&&(Xe.target=Wi(er,Xe.target)),Pt[Xe.source.index]=(Pt[Xe.source.index]||0)+1,Pt[Xe.target.index]=(Pt[Xe.target.index]||0)+1;for(nn=0,_t=new Array(jn);nn<jn;++nn)Xe=G[nn],_t[nn]=Pt[Xe.source.index]/(Pt[Xe.source.index]+Pt[Xe.target.index]);w=new Array(jn),_e(),B=new Array(jn),$e()}}function _e(){if(Z)for(var nn=0,Xe=G.length;nn<Xe;++nn)w[nn]=+ee(G[nn],nn,G)}function $e(){if(Z)for(var nn=0,Xe=G.length;nn<Xe;++nn)B[nn]=+re(G[nn],nn,G)}return G==null&&(G=[]),Le.initialize=function(nn,Xe){Z=nn,q=Xe,tn()},Le.links=function(nn){return arguments.length?(G=nn,tn(),Le):G},Le.id=function(nn){return arguments.length?(kt=nn,Le):kt},Le.iterations=function(nn){return arguments.length?(Te=+nn,Le):Te},Le.strength=function(nn){return arguments.length?(ee=typeof nn=="function"?nn:ht(+nn),_e(),Le):ee},Le.distance=function(nn){return arguments.length?(re=typeof nn=="function"?nn:ht(+nn),$e(),Le):re},Le};function Za(K){return K.x+K.vx}function ao(K){return K.y+K.vy}var Ji=function(G){var w,B,Z,Pt=1,_t=1;function q(){for(var re,Te,Le,tn,_e,$e,nn,Xe=w.length,fn=0;fn<_t;++fn)for(Te=m(w,Za,ao).visitAfter(kt),re=0;re<Xe;++re)Le=w[re],$e=B[Le.index],nn=$e*$e,tn=Le.x+Le.vx,_e=Le.y+Le.vy,Te.visit(jn);function jn(er,Gn,Kn,nr,yr){var Sr=er.data,_r=er.r,Wr=$e+_r;if(!Sr)return Gn>tn+Wr||nr<tn-Wr||Kn>_e+Wr||yr<_e-Wr;if(Sr.index>Le.index){var Tr=tn-Sr.x-Sr.vx,Ur=_e-Sr.y-Sr.vy,ni=Tr*Tr+Ur*Ur;ni<Wr*Wr&&(Tr===0&&(ni+=(Tr=gt(Z))*Tr),Ur===0&&(ni+=(Ur=gt(Z))*Ur),ni=(Wr-(ni=Math.sqrt(ni)))/ni*Pt,Le.vx+=(Tr*=ni)*(Wr=(_r*=_r)/(nn+_r)),Le.vy+=(Ur*=ni)*Wr,Sr.vx-=Tr*(Wr=1-Wr),Sr.vy-=Ur*Wr)}}}function kt(re){if(re.data)return re.r=B[re.data.index];for(var Te=re.r=0;Te<4;++Te)re[Te]&&re[Te].r>re.r&&(re.r=re[Te].r)}function ee(){if(w){var re,Te,Le=w.length;for(B=new Array(Le),re=0;re<Le;++re)Te=w[re],B[Te.index]=+G(Te,re,w)}}return typeof G!="function"&&(G=ht(G==null?1:+G)),q.initialize=function(re,Te){w=re,Z=Te,ee()},q.iterations=function(re){return arguments.length?(_t=+re,q):_t},q.strength=function(re){return arguments.length?(Pt=+re,q):Pt},q.radius=function(re){return arguments.length?(G=typeof re=="function"?re:ht(+re),ee(),q):G},q};function Ya(K,G){return function(w){if(Array.isArray(w))return w}(K)||function(w,B){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(w)))){var Z=[],Pt=!0,_t=!1,q=void 0;try{for(var kt,ee=w[Symbol.iterator]();!(Pt=(kt=ee.next()).done)&&(Z.push(kt.value),!B||Z.length!==B);Pt=!0);}catch(re){_t=!0,q=re}finally{try{Pt||ee.return==null||ee.return()}finally{if(_t)throw q}}return Z}}(K,G)||function(w,B){if(!!w){if(typeof w=="string")return Ca(w,B);var Z=Object.prototype.toString.call(w).slice(8,-1);if(Z==="Object"&&w.constructor&&(Z=w.constructor.name),Z==="Map"||Z==="Set")return Array.from(w);if(Z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z))return Ca(w,B)}}(K,G)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ca(K,G){(G==null||G>K.length)&&(G=K.length);for(var w=0,B=new Array(G);w<G;w++)B[w]=K[w];return B}function La(){function K(Kn){return function(){return Kn}}var G,w=function(nr){return nr.cluster},B=K(1),Z=K(-1),Pt=K(100),_t=K(.1),q=[0,0],kt=[],ee={},re=[],Te=100,Le=100,tn={none:{x:0,y:0}},_e=[],$e="force",nn=!0,Xe=.1;function fn(Kn){if(!nn)return fn;G.tick(),er();for(var nr,yr=0,Sr=kt.length,_r=Kn*Xe;yr<Sr;++yr)(nr=kt[yr]).vx+=(tn[w(nr)].x-nr.x)*_r,nr.vy+=(tn[w(nr)].y-nr.y)*_r}function jn(){kt&&function(){if(!(!kt||!kt.length)){if(w(kt[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var Kn=(yr=[],Sr=[],_r={},Wr=[],nr=function(Tr){var Ur={};return Tr.forEach(function(ni){var Gr=w(ni);Ur[Gr]||(Ur[Gr]={count:0,sumforceNodeSize:0})}),Tr.forEach(function(ni){var Gr=w(ni),ki=B(ni),Bi=Ur[Gr];Bi.count=Bi.count+1,Bi.sumforceNodeSize=Bi.sumforceNodeSize+Math.PI*(ki*ki)*1.3,Ur[Gr]=Bi}),Ur}(kt),Wr=function(Tr){var Ur={},ni=[];return Tr.forEach(function(Gr){var ki=function(ha){var ai=w(ee[ha.source]),ia=w(ee[ha.target]);return ai<=ia?"".concat(ai,"~").concat(ia):"".concat(ia,"~").concat(ai)}(Gr),Bi=0;Ur[ki]!==void 0&&(Bi=Ur[ki]),Bi+=1,Ur[ki]=Bi}),Object.entries(Ur).forEach(function(Gr){var ki=Ya(Gr,2),Bi=ki[0],ha=ki[1],ai=Bi.split("~")[0],ia=Bi.split("~")[1];ai!==void 0&&ia!==void 0&&ni.push({source:ai,target:ia,count:ha})}),ni}(re),Object.keys(nr).forEach(function(Tr,Ur){var ni=nr[Tr];yr.push({id:Tr,size:ni.count,r:Math.sqrt(ni.sumforceNodeSize/Math.PI)}),_r[Tr]=Ur}),Wr.forEach(function(Tr){var Ur=_r[Tr.source],ni=_r[Tr.target];Ur!==void 0&&ni!==void 0&&Sr.push({source:Ur,target:ni,count:Tr.count})}),{nodes:yr,links:Sr}),nr,yr,Sr,_r,Wr;G=Mr(Kn.nodes).force("x",function(Tr){var Ur,ni,Gr,ki=ht(.1);function Bi(ai){for(var ia,da=0,ya=Ur.length;da<ya;++da)(ia=Ur[da]).vx+=(Gr[da]-ia.x)*ni[da]*ai}function ha(){if(Ur){var ai,ia=Ur.length;for(ni=new Array(ia),Gr=new Array(ia),ai=0;ai<ia;++ai)ni[ai]=isNaN(Gr[ai]=+Tr(Ur[ai],ai,Ur))?0:+ki(Ur[ai],ai,Ur)}}return typeof Tr!="function"&&(Tr=ht(Tr==null?0:+Tr)),Bi.initialize=function(ai){Ur=ai,ha()},Bi.strength=function(ai){return arguments.length?(ki=typeof ai=="function"?ai:ht(+ai),ha(),Bi):ki},Bi.x=function(ai){return arguments.length?(Tr=typeof ai=="function"?ai:ht(+ai),ha(),Bi):Tr},Bi}(Te).strength(.1)).force("y",function(Tr){var Ur,ni,Gr,ki=ht(.1);function Bi(ai){for(var ia,da=0,ya=Ur.length;da<ya;++da)(ia=Ur[da]).vy+=(Gr[da]-ia.y)*ni[da]*ai}function ha(){if(Ur){var ai,ia=Ur.length;for(ni=new Array(ia),Gr=new Array(ia),ai=0;ai<ia;++ai)ni[ai]=isNaN(Gr[ai]=+Tr(Ur[ai],ai,Ur))?0:+ki(Ur[ai],ai,Ur)}}return typeof Tr!="function"&&(Tr=ht(Tr==null?0:+Tr)),Bi.initialize=function(ai){Ur=ai,ha()},Bi.strength=function(ai){return arguments.length?(ki=typeof ai=="function"?ai:ht(+ai),ha(),Bi):ki},Bi.y=function(ai){return arguments.length?(Tr=typeof ai=="function"?ai:ht(+ai),ha(),Bi):Tr},Bi}(Le).strength(.1)).force("collide",Ji(function(Tr){return Tr.r}).iterations(4)).force("charge",Er().strength(Z)).force("links",oa(Kn.nodes.length?Kn.links:[]).distance(Pt).strength(_t)),_e=G.nodes(),er()}}()}function er(){return tn={none:{x:0,y:0}},_e.forEach(function(Kn){tn[Kn.id]={x:Kn.x-q[0],y:Kn.y-q[1]}}),tn}function Gn(Kn){ee={},Kn.forEach(function(nr){ee[nr.id]=nr})}return fn.initialize=function(Kn){kt=Kn,jn()},fn.template=function(Kn){return arguments.length?($e=Kn,jn(),fn):$e},fn.groupBy=function(Kn){return arguments.length?typeof Kn=="string"?(w=function(yr){return yr[Kn]},fn):(w=Kn,fn):w},fn.enableGrouping=function(Kn){return arguments.length?(nn=Kn,fn):nn},fn.strength=function(Kn){return arguments.length?(Xe=Kn,fn):Xe},fn.centerX=function(Kn){return arguments.length?(Te=Kn,fn):Te},fn.centerY=function(Kn){return arguments.length?(Le=Kn,fn):Le},fn.nodes=function(Kn){return arguments.length?(Gn(Kn||[]),kt=Kn||[],fn):kt},fn.links=function(Kn){return arguments.length?(re=Kn||[],jn(),fn):re},fn.forceNodeSize=function(Kn){return arguments.length?(B=typeof Kn=="function"?Kn:K(+Kn),jn(),fn):B},fn.nodeSize=fn.forceNodeSize,fn.forceCharge=function(Kn){return arguments.length?(Z=typeof Kn=="function"?Kn:K(+Kn),jn(),fn):Z},fn.forceLinkDistance=function(Kn){return arguments.length?(Pt=typeof Kn=="function"?Kn:K(+Kn),jn(),fn):Pt},fn.forceLinkStrength=function(Kn){return arguments.length?(_t=typeof Kn=="function"?Kn:K(+Kn),jn(),fn):_t},fn.offset=function(Kn){return arguments.length?(q=Kn,fn):q},fn.getFocis=er,fn}var Ba="LAYOUT_RUN",oo="LAYOUT_END",Yr="LAYOUT_ERROR",$a="LAYOUT_TICK",Ma="GPU_LAYOUT_RUN",to="GPU_LAYOUT_END";function Aa(K){return(Aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(K)}function Vr(K,G){for(var w=0;w<G.length;w++){var B=G[w];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(K,B.key,B)}}function Pi(K,G){return(Pi=Object.setPrototypeOf||function(w,B){return w.__proto__=B,w})(K,G)}function wi(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=bi(K);if(G){var Z=bi(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return Ei(this,w)}}function Ei(K,G){return!G||Aa(G)!=="object"&&typeof G!="function"?function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(K):G}function bi(K){return(bi=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)})(K)}var Di=function(K){(function(_t,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");_t.prototype=Object.create(q&&q.prototype,{constructor:{value:_t,writable:!0,configurable:!0}}),q&&Pi(_t,q)})(Pt,K);var G,w,B,Z=wi(Pt);function Pt(_t){var q;return function(kt,ee){if(!(kt instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,Pt),(q=Z.call(this)).center=[0,0],q.nodeStrength=null,q.edgeStrength=null,q.preventOverlap=!1,q.clusterNodeStrength=null,q.clusterEdgeStrength=null,q.clusterEdgeDistance=null,q.clusterNodeSize=null,q.clusterFociStrength=null,q.linkDistance=50,q.alphaDecay=.028,q.alphaMin=.001,q.alpha=.3,q.collideStrength=1,q.workerEnabled=!1,q.tick=function(){},q.onLayoutEnd=function(){},q.ticking=void 0,_t&&q.updateCfg(_t),q}return G=Pt,(w=[{key:"getDefaultCfg",value:function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},workerEnabled:!1}}},{key:"init",value:function(q){this.nodes=q.nodes||[];var kt=q.edges||[];this.edges=kt.map(function(ee){var re={},Te=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(ee).forEach(function(Le){Te.indexOf(Le)>-1||(re[Le]=ee[Le])}),re}),this.ticking=!1}},{key:"execute",value:function(q){var kt=this,ee=kt.nodes,re=kt.edges;if(!kt.ticking){var Te=kt.forceSimulation,Le=kt.alphaMin,tn=kt.alphaDecay,_e=kt.alpha;if(Te){if(q){if(kt.clustering&&kt.clusterForce&&(kt.clusterForce.nodes(ee),kt.clusterForce.links(re)),Te.nodes(ee),re&&kt.edgeForce)kt.edgeForce.links(re);else if(re&&!kt.edgeForce){var $e=oa().id(function(Gn){return Gn.id}).links(re);kt.edgeStrength&&$e.strength(kt.edgeStrength),kt.linkDistance&&$e.distance(kt.linkDistance),kt.edgeForce=$e,Te.force("link",$e)}}kt.preventOverlap&&kt.overlapProcess(Te),Te.alpha(_e).restart(),this.ticking=!0}else try{var nn=Er();if(kt.nodeStrength&&nn.strength(kt.nodeStrength),Te=Mr().nodes(ee),kt.clustering){var Xe=La();Xe.centerX(kt.center[0]).centerY(kt.center[1]).template("force").strength(kt.clusterFociStrength),re&&Xe.links(re),ee&&Xe.nodes(ee),Xe.forceLinkDistance(kt.clusterEdgeDistance).forceLinkStrength(kt.clusterEdgeStrength).forceCharge(kt.clusterNodeStrength).forceNodeSize(kt.clusterNodeSize),kt.clusterForce=Xe,Te.force("group",Xe)}if(Te.force("center",function(Gn,Kn){var nr,yr=1;function Sr(){var _r,Wr,Tr=nr.length,Ur=0,ni=0;for(_r=0;_r<Tr;++_r)Ur+=(Wr=nr[_r]).x,ni+=Wr.y;for(Ur=(Ur/Tr-Gn)*yr,ni=(ni/Tr-Kn)*yr,_r=0;_r<Tr;++_r)(Wr=nr[_r]).x-=Ur,Wr.y-=ni}return Gn==null&&(Gn=0),Kn==null&&(Kn=0),Sr.initialize=function(_r){nr=_r},Sr.x=function(_r){return arguments.length?(Gn=+_r,Sr):Gn},Sr.y=function(_r){return arguments.length?(Kn=+_r,Sr):Kn},Sr.strength=function(_r){return arguments.length?(yr=+_r,Sr):yr},Sr}(kt.center[0],kt.center[1])).force("charge",nn).alpha(_e).alphaDecay(tn).alphaMin(Le),kt.preventOverlap&&kt.overlapProcess(Te),re){var fn=oa().id(function(Gn){return Gn.id}).links(re);kt.edgeStrength&&fn.strength(kt.edgeStrength),kt.linkDistance&&fn.distance(kt.linkDistance),kt.edgeForce=fn,Te.force("link",fn)}if(kt.workerEnabled&&!Fi()&&(kt.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),kt.workerEnabled){Te.stop();for(var jn=function(Gn){var Kn=Gn.alphaMin(),nr=Gn.alphaTarget(),yr=Gn.alpha(),Sr=Math.log((Kn-nr)/(yr-nr))/Math.log(1-Gn.alphaDecay());return Math.ceil(Sr)}(Te),er=1;er<=jn;er++)Te.tick(),postMessage({nodes:ee,currentTick:er,totalTicks:jn,type:$a},void 0);kt.ticking=!1}else Te.on("tick",function(){kt.tick()}).on("end",function(){kt.ticking=!1,kt.onLayoutEnd&&kt.onLayoutEnd()}),kt.ticking=!0;kt.forceSimulation=Te,kt.ticking=!0}catch(Gn){kt.ticking=!1,console.warn(Gn)}}}},{key:"overlapProcess",value:function(q){var kt,ee,re=this.nodeSize,Te=this.nodeSpacing,Le=this.collideStrength;if(ee=E(Te)?function(){return Te}:j(Te)?Te:function(){return 0},re)if(j(re))kt=function(nn){return re(nn)+ee(nn)};else if(h(re)){var tn=(re[0]>re[1]?re[0]:re[1])/2;kt=function(nn){return tn+ee(nn)}}else if(E(re)){var _e=re/2;kt=function(nn){return _e+ee(nn)}}else kt=function(){return 10};else kt=function(nn){return nn.size?h(nn.size)?(nn.size[0]>nn.size[1]?nn.size[0]:nn.size[1])/2+ee(nn):nn.size/2+ee(nn):10+ee(nn)};q.force("collisionForce",Ji(kt).strength(Le))}},{key:"updateCfg",value:function(q){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.forceSimulation=null,Object.assign(this,q)}},{key:"destroy",value:function(){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.nodes=null,this.edges=null,this.destroyed=!0}}])&&Vr(G.prototype,w),B&&Vr(G,B),Pt}(x);function Fi(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}function Ni(K){return(Ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(K)}function ji(K,G){for(var w=0;w<G.length;w++){var B=G[w];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(K,B.key,B)}}function Xi(K,G){return(Xi=Object.setPrototypeOf||function(w,B){return w.__proto__=B,w})(K,G)}function Ki(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=ta(K);if(G){var Z=ta(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return la(this,w)}}function la(K,G){return!G||Ni(G)!=="object"&&typeof G!="function"?function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(K):G}function ta(K){return(ta=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)})(K)}function ma(K,G,w,B){K.forEach(function(Z,Pt){K[Pt].children=[],K[Pt].parent=[]}),B?G.forEach(function(Z){var Pt=0;Z.source&&(Pt=w[Z.source]);var _t=0;Z.target&&(_t=w[Z.target]);var q=K[Pt].children,kt=K[_t].parent;q.push(K[_t].id),kt.push(K[Pt].id)}):G.forEach(function(Z){var Pt=0;Z.source&&(Pt=w[Z.source]);var _t=0;Z.target&&(_t=w[Z.target]);var q=K[Pt].children,kt=K[_t].children;q.push(K[_t].id),kt.push(K[Pt].id)})}function Oa(K,G,w){for(var B=w.length,Z=0;Z<B;Z++)if(K.id===w[Z].source&&G.id===w[Z].target||G.id===w[Z].source&&K.id===w[Z].target)return!0;return!1}function uo(K,G){var w=K.degree,B=G.degree;return w<B?-1:w>B?1:0}var sa=function(K){(function(_t,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");_t.prototype=Object.create(q&&q.prototype,{constructor:{value:_t,writable:!0,configurable:!0}}),q&&Xi(_t,q)})(Pt,K);var G,w,B,Z=Ki(Pt);function Pt(_t){var q;return function(kt,ee){if(!(kt instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,Pt),(q=Z.call(this)).radius=null,q.startRadius=null,q.endRadius=null,q.startAngle=0,q.endAngle=2*Math.PI,q.clockwise=!0,q.divisions=1,q.ordering=null,q.angleRatio=1,q.nodes=[],q.edges=[],q.nodeMap={},q.degrees=[],q.width=300,q.height=300,q.updateCfg(_t),q}return G=Pt,(w=[{key:"getDefaultCfg",value:function(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}}},{key:"execute",value:function(){var q=this.nodes,kt=this.edges,ee=q.length;if(ee!==0){this.width||typeof window=="undefined"||(this.width=window.innerWidth),this.height||typeof window=="undefined"||(this.height=window.innerHeight),this.center||(this.center=[this.width/2,this.height/2]);var re=this.center;if(ee===1)return q[0].x=re[0],q[0].y=re[1],void(this.onLayoutEnd&&this.onLayoutEnd());var Te=this.radius,Le=this.startRadius,tn=this.endRadius,_e=this.divisions,$e=this.startAngle,nn=this.endAngle,Xe=(nn-$e)/ee,fn={};q.forEach(function(Tr,Ur){fn[Tr.id]=Ur}),this.nodeMap=fn;var jn=o(q.length,fn,kt);this.degrees=jn,Te||Le||tn?!Le&&tn?Le=tn:Le&&!tn&&(tn=Le):Te=this.height>this.width?this.width/2:this.height/2;var er=Xe*this.angleRatio,Gn=this.ordering,Kn=[];Kn=Gn==="topology"?this.topologyOrdering():Gn==="topology-directed"?this.topologyOrdering(!0):Gn==="degree"?this.degreeOrdering():q;for(var nr=this.clockwise,yr=Math.ceil(ee/_e),Sr=0;Sr<ee;++Sr){var _r=Te;_r||Le===null||tn===null||(_r=Le+Sr*(tn-Le)/(ee-1)),_r||(_r=10+100*Sr/(ee-1));var Wr=$e+Sr%yr*er+2*Math.PI/_e*Math.floor(Sr/yr);nr||(Wr=nn-Sr%yr*er-2*Math.PI/_e*Math.floor(Sr/yr)),Kn[Sr].x=re[0]+Math.cos(Wr)*_r,Kn[Sr].y=re[1]+Math.sin(Wr)*_r,Kn[Sr].weight=jn[Sr]}return this.onLayoutEnd&&this.onLayoutEnd(),{nodes:Kn,edges:this.edges}}this.onLayoutEnd&&this.onLayoutEnd()}},{key:"topologyOrdering",value:function(){var q=arguments.length>0&&arguments[0]!==void 0&&arguments[0],kt=this,ee=kt.degrees,re=kt.edges,Te=kt.nodes,Le=O(Te),tn=kt.nodeMap,_e=[Le[0]],$e=[Te[0]],nn=[],Xe=Te.length;nn[0]=!0,ma(Le,re,tn,q);var fn=0;return Le.forEach(function(jn,er){if(er!==0)if(er!==Xe-1&&ee[er]===ee[er+1]&&!Oa(_e[fn],jn,re)||nn[er]){for(var Gn=_e[fn].children,Kn=!1,nr=0;nr<Gn.length;nr++){var yr=tn[Gn[nr]];if(ee[yr]===ee[er]&&!nn[yr]){_e.push(Le[yr]),$e.push(Te[tn[Le[yr].id]]),nn[yr]=!0,Kn=!0;break}}for(var Sr=0;!Kn&&(nn[Sr]||(_e.push(Le[Sr]),$e.push(Te[tn[Le[Sr].id]]),nn[Sr]=!0,Kn=!0),++Sr!==Xe););}else _e.push(jn),$e.push(Te[tn[jn.id]]),nn[er]=!0,fn++}),$e}},{key:"degreeOrdering",value:function(){var q=this.nodes,kt=[],ee=this.degrees;return q.forEach(function(re,Te){re.degree=ee[Te],kt.push(re)}),kt.sort(uo),kt}},{key:"getType",value:function(){return"circular"}}])&&ji(G.prototype,w),B&&ji(G,B),Pt}(x),Xa=t(153),po=t.n(Xa);function bo(K){return(bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(K)}function Mo(K,G){for(var w=0;w<G.length;w++){var B=G[w];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(K,B.key,B)}}function Po(K,G){return(Po=Object.setPrototypeOf||function(w,B){return w.__proto__=B,w})(K,G)}function ue(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=ne(K);if(G){var Z=ne(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return Qt(this,w)}}function Qt(K,G){return!G||bo(G)!=="object"&&typeof G!="function"?function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(K):G}function ne(K){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)})(K)}var Ce=function(K){(function(_t,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");_t.prototype=Object.create(q&&q.prototype,{constructor:{value:_t,writable:!0,configurable:!0}}),q&&Po(_t,q)})(Pt,K);var G,w,B,Z=ue(Pt);function Pt(_t){var q;return function(kt,ee){if(!(kt instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,Pt),(q=Z.call(this)).rankdir="TB",q.nodesep=50,q.ranksep=50,q.controlPoints=!1,q.sortByCombo=!1,q.nodes=[],q.edges=[],q.onLayoutEnd=function(){},q.updateCfg(_t),q}return G=Pt,(w=[{key:"getDefaultCfg",value:function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}}},{key:"execute",value:function(){var q=this,kt=q.nodes,ee=q.nodeSize,re=q.rankdir;if(kt){var Te,Le=q.edges||[],tn=new po.a.graphlib.Graph;Te=ee?h(ee)?function(){return ee}:function(){return[ee,ee]}:function(Xe){return Xe.size?h(Xe.size)?Xe.size:[Xe.size,Xe.size]:[40,40]};var _e,$e=en(q.nodesepFunc,q.nodesep,50),nn=en(q.ranksepFunc,q.ranksep,50);return re!=="LR"&&re!=="RL"||($e=en(q.ranksepFunc,q.ranksep,50),nn=en(q.nodesepFunc,q.nodesep,50)),tn.setDefaultEdgeLabel(function(){return{}}),tn.setGraph(q),kt.forEach(function(Xe){var fn=Te(Xe),jn=nn(Xe),er=$e(Xe),Gn=fn[0]+2*er,Kn=fn[1]+2*jn;tn.setNode(Xe.id,{width:Gn,height:Kn})}),Le.forEach(function(Xe){tn.setEdge(Xe.source,Xe.target,{weight:Xe.weight||1})}),po.a.layout(tn),tn.nodes().forEach(function(Xe){_e=tn.node(Xe);var fn=kt.findIndex(function(jn){return jn.id===Xe});kt[fn].x=_e.x,kt[fn].y=_e.y}),tn.edges().forEach(function(Xe){_e=tn.edge(Xe);var fn=Le.findIndex(function(jn){return jn.source===Xe.v&&jn.target===Xe.w});q.controlPoints&&Le[fn].type!=="loop"&&(Le[fn].controlPoints=_e.points.slice(1,_e.points.length-1))}),q.sortByCombo&&q.sortLevel("comboId"),q.onLayoutEnd&&q.onLayoutEnd(),{nodes:kt,edges:Le}}}},{key:"sortLevel",value:function(q){var kt=this,ee=kt.nodes,re={};ee.forEach(function(Te){re[Te.y]||(re[Te.y]={y:Te.y,nodes:[]}),re[Te.y].nodes.push(Te)}),Object.keys(re).forEach(function(Te){var Le=re[Te].nodes,tn=Le.length,_e={};if(Le.forEach(function(fn){var jn=fn.comboId;_e[jn]||(_e[jn]={x:0,y:0,count:0}),_e[jn].x+=fn.x,_e[jn].y+=fn.y,_e[jn].count++}),Object.keys(_e).forEach(function(fn){_e[fn].x/=_e[fn].count,_e[fn].y/=_e[fn].count}),tn!==1){var $e=Le.sort(function(fn,jn){return fn.x-jn.x}),nn=$e[0].x,Xe=($e[tn-1].x-nn)/(tn-1);Le.sort(function(fn,jn){var er=fn[q]||"undefined",Gn=jn[q]||"undefined";return er<Gn?-1:er>Gn?1:0}).forEach(function(fn,jn){fn.x=nn+jn*Xe})}else kt.onLayoutEnd&&kt.onLayoutEnd()})}},{key:"getType",value:function(){return"dagre"}}])&&Mo(G.prototype,w),B&&Mo(G,B),Pt}(x);function en(K,G,w){return K||(E(G)?function(){return G}:function(){return w})}var kn=Object.prototype.toString;function sr(K){return kn.call(K).endsWith("Array]")}var pr=function(G){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!sr(G))throw new TypeError("input must be an array");if(G.length===0)throw new TypeError("input must not be empty");var B=w.fromIndex,Z=B===void 0?0:B,Pt=w.toIndex,_t=Pt===void 0?G.length:Pt;if(Z<0||Z>=G.length||!Number.isInteger(Z))throw new Error("fromIndex must be a positive integer smaller than length");if(_t<=Z||_t>G.length||!Number.isInteger(_t))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var q=G[Z],kt=Z+1;kt<_t;kt++)G[kt]>q&&(q=G[kt]);return q},ln=function(G){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!sr(G))throw new TypeError("input must be an array");if(G.length===0)throw new TypeError("input must not be empty");var B=w.fromIndex,Z=B===void 0?0:B,Pt=w.toIndex,_t=Pt===void 0?G.length:Pt;if(Z<0||Z>=G.length||!Number.isInteger(Z))throw new Error("fromIndex must be a positive integer smaller than length");if(_t<=Z||_t>G.length||!Number.isInteger(_t))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var q=G[Z],kt=Z+1;kt<_t;kt++)G[kt]<q&&(q=G[kt]);return q},vn=function(G){var w,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!sr(G))throw new TypeError("input must be an array");if(G.length===0)throw new TypeError("input must not be empty");if(B.output!==void 0){if(!sr(B.output))throw new TypeError("output option must be an array if specified");w=B.output}else w=new Array(G.length);var Z=ln(G),Pt=pr(G);if(Z===Pt)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var _t=B.min,q=_t===void 0?B.autoMinMax?Z:0:_t,kt=B.max,ee=kt===void 0?B.autoMinMax?Pt:1:kt;if(q>=ee)throw new RangeError("min option must be smaller than max option");for(var re=(ee-q)/(Pt-Z),Te=0;Te<G.length;Te++)w[Te]=(G[Te]-Z)*re+q;return w},xn=" ".repeat(2),Or=" ".repeat(4);function Br(K){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=G.maxRows,B=w===void 0?15:w,Z=G.maxColumns,Pt=Z===void 0?10:Z,_t=G.maxNumSize,q=_t===void 0?8:_t;return"".concat(K.constructor.name,` {
`).concat(xn,`[
`).concat(Or).concat(Pr(K,B,Pt,q),`
`).concat(xn,`]
`).concat(xn,"rows: ").concat(K.rows,`
`).concat(xn,"columns: ").concat(K.columns,`
}`)}function Pr(K,G,w,B){for(var Z=K.rows,Pt=K.columns,_t=Math.min(Z,G),q=Math.min(Pt,w),kt=[],ee=0;ee<_t;ee++){for(var re=[],Te=0;Te<q;Te++)re.push(kr(K.get(ee,Te),B));kt.push("".concat(re.join(" ")))}return q!==Pt&&(kt[kt.length-1]+=" ... ".concat(Pt-w," more columns")),_t!==Z&&kt.push("... ".concat(Z-G," more rows")),kt.join(`
`.concat(Or))}function kr(K,G){var w=String(K);if(w.length<=G)return w.padEnd(G," ");var B=K.toPrecision(G-2);if(B.length<=G)return B;var Z=K.toExponential(G-2),Pt=Z.indexOf("e"),_t=Z.slice(Pt);return Z.slice(0,G-_t.length)+_t}function mi(K){return(mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(K)}function $r(K,G,w){var B=w?K.rows:K.rows-1;if(G<0||G>B)throw new RangeError("Row index out of range")}function Xr(K,G,w){var B=w?K.columns:K.columns-1;if(G<0||G>B)throw new RangeError("Column index out of range")}function Nr(K,G){if(G.to1DArray&&(G=G.to1DArray()),G.length!==K.columns)throw new RangeError("vector size must be the same as the number of columns");return G}function Hr(K,G){if(G.to1DArray&&(G=G.to1DArray()),G.length!==K.rows)throw new RangeError("vector size must be the same as the number of rows");return G}function oi(K,G){if(mi(G)!=="object")throw new TypeError("unexpected type for row indices");if(G.some(function(w){return w<0||w>=K.rows}))throw new RangeError("row indices are out of range");return Array.isArray(G)||(G=Array.from(G)),G}function yi(K,G){if(mi(G)!=="object")throw new TypeError("unexpected type for column indices");if(G.some(function(w){return w<0||w>=K.columns}))throw new RangeError("column indices are out of range");return Array.isArray(G)||(G=Array.from(G)),G}function si(K,G,w,B,Z){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(zi("startRow",G),zi("endRow",w),zi("startColumn",B),zi("endColumn",Z),G>w||B>Z||G<0||G>=K.rows||w<0||w>=K.rows||B<0||B>=K.columns||Z<0||Z>=K.columns)throw new RangeError("Submatrix indices are out of range")}function ti(K){for(var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,w=[],B=0;B<K;B++)w.push(G);return w}function zi(K,G){if(typeof G!="number")throw new TypeError("".concat(K," must be a number"))}function qi(K){if(K.isEmpty())throw new Error("Empty matrix has no elements to index")}function Sa(K,G,w){for(var B=K.rows,Z=K.columns,Pt=[],_t=0;_t<B;_t++){for(var q=0,kt=0,ee=0,re=0;re<Z;re++)q+=ee=K.get(_t,re)-w[_t],kt+=ee*ee;G?Pt.push((kt-q*q/Z)/(Z-1)):Pt.push((kt-q*q/Z)/Z)}return Pt}function ea(K,G,w){for(var B=K.rows,Z=K.columns,Pt=[],_t=0;_t<Z;_t++){for(var q=0,kt=0,ee=0,re=0;re<B;re++)q+=ee=K.get(re,_t)-w[_t],kt+=ee*ee;G?Pt.push((kt-q*q/B)/(B-1)):Pt.push((kt-q*q/B)/B)}return Pt}function Fa(K,G,w){for(var B=K.rows,Z=K.columns,Pt=B*Z,_t=0,q=0,kt=0,ee=0;ee<B;ee++)for(var re=0;re<Z;re++)_t+=kt=K.get(ee,re)-w,q+=kt*kt;return G?(q-_t*_t/Pt)/(Pt-1):(q-_t*_t/Pt)/Pt}function Ua(K,G){for(var w=0;w<K.rows;w++)for(var B=0;B<K.columns;B++)K.set(w,B,K.get(w,B)-G[w])}function Na(K,G){for(var w=0;w<K.rows;w++)for(var B=0;B<K.columns;B++)K.set(w,B,K.get(w,B)-G[B])}function va(K,G){for(var w=0;w<K.rows;w++)for(var B=0;B<K.columns;B++)K.set(w,B,K.get(w,B)-G)}function ge(K){for(var G=[],w=0;w<K.rows;w++){for(var B=0,Z=0;Z<K.columns;Z++)B+=Math.pow(K.get(w,Z),2)/(K.columns-1);G.push(Math.sqrt(B))}return G}function F(K,G){for(var w=0;w<K.rows;w++)for(var B=0;B<K.columns;B++)K.set(w,B,K.get(w,B)/G[w])}function _(K){for(var G=[],w=0;w<K.columns;w++){for(var B=0,Z=0;Z<K.rows;Z++)B+=Math.pow(K.get(Z,w),2)/(K.rows-1);G.push(Math.sqrt(B))}return G}function $(K,G){for(var w=0;w<K.rows;w++)for(var B=0;B<K.columns;B++)K.set(w,B,K.get(w,B)/G[B])}function dt(K){for(var G=K.size-1,w=0,B=0;B<K.columns;B++)for(var Z=0;Z<K.rows;Z++)w+=Math.pow(K.get(Z,B),2)/G;return Math.sqrt(w)}function Gt(K,G){for(var w=0;w<K.rows;w++)for(var B=0;B<K.columns;B++)K.set(w,B,K.get(w,B)/G)}function Jt(K,G){return(Jt=Object.setPrototypeOf||function(w,B){return w.__proto__=B,w})(K,G)}function ce(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=De(K);if(G){var Z=De(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return fe(this,w)}}function fe(K,G){return!G||We(G)!=="object"&&typeof G!="function"?function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(K):G}function De(K){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)})(K)}function We(K){return(We=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(K)}function sn(K,G){if(!(K instanceof G))throw new TypeError("Cannot call a class as a function")}function Dn(K,G){for(var w=0;w<G.length;w++){var B=G[w];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(K,B.key,B)}}function Yt(K,G,w){return G&&Dn(K.prototype,G),w&&Dn(K,w),K}var Zt=function(){function K(){sn(this,K)}return Yt(K,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(w){if(typeof w!="function")throw new TypeError("callback must be a function");for(var B=0;B<this.rows;B++)for(var Z=0;Z<this.columns;Z++)w.call(this,B,Z);return this}},{key:"to1DArray",value:function(){for(var w=[],B=0;B<this.rows;B++)for(var Z=0;Z<this.columns;Z++)w.push(this.get(B,Z));return w}},{key:"to2DArray",value:function(){for(var w=[],B=0;B<this.rows;B++){w.push([]);for(var Z=0;Z<this.columns;Z++)w[B].push(this.get(B,Z))}return w}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var w=0;w<this.rows;w++)for(var B=0;B<=w;B++)if(this.get(w,B)!==this.get(B,w))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var w=0,B=0,Z=-1,Pt=!0,_t=!1;w<this.rows&&Pt;){for(B=0,_t=!1;B<this.columns&&_t===!1;)this.get(w,B)===0?B++:this.get(w,B)===1&&B>Z?(_t=!0,Z=B):(Pt=!1,_t=!0);w++}return Pt}},{key:"isReducedEchelonForm",value:function(){for(var w=0,B=0,Z=-1,Pt=!0,_t=!1;w<this.rows&&Pt;){for(B=0,_t=!1;B<this.columns&&_t===!1;)this.get(w,B)===0?B++:this.get(w,B)===1&&B>Z?(_t=!0,Z=B):(Pt=!1,_t=!0);for(var q=B+1;q<this.rows;q++)this.get(w,q)!==0&&(Pt=!1);w++}return Pt}},{key:"echelonForm",value:function(){for(var w=this.clone(),B=0,Z=0;B<w.rows&&Z<w.columns;){for(var Pt=B,_t=B;_t<w.rows;_t++)w.get(_t,Z)>w.get(Pt,Z)&&(Pt=_t);if(w.get(Pt,Z)===0)Z++;else{w.swapRows(B,Pt);for(var q=w.get(B,Z),kt=Z;kt<w.columns;kt++)w.set(B,kt,w.get(B,kt)/q);for(var ee=B+1;ee<w.rows;ee++){var re=w.get(ee,Z)/w.get(B,Z);w.set(ee,Z,0);for(var Te=Z+1;Te<w.columns;Te++)w.set(ee,Te,w.get(ee,Te)-w.get(B,Te)*re)}B++,Z++}}return w}},{key:"reducedEchelonForm",value:function(){for(var w=this.echelonForm(),B=w.columns,Z=w.rows,Pt=Z-1;Pt>=0;)if(w.maxRow(Pt)===0)Pt--;else{for(var _t=0,q=!1;_t<Z&&q===!1;)w.get(Pt,_t)===1?q=!0:_t++;for(var kt=0;kt<Pt;kt++)for(var ee=w.get(kt,_t),re=_t;re<B;re++){var Te=w.get(kt,re)-ee*w.get(Pt,re);w.set(kt,re,Te)}Pt--}return w}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(We(w)!=="object")throw new TypeError("options must be an object");var B=w.rows,Z=B===void 0?1:B,Pt=w.columns,_t=Pt===void 0?1:Pt;if(!Number.isInteger(Z)||Z<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(_t)||_t<=0)throw new TypeError("columns must be a positive integer");for(var q=new En(this.rows*Z,this.columns*_t),kt=0;kt<Z;kt++)for(var ee=0;ee<_t;ee++)q.setSubMatrix(this,this.rows*kt,this.columns*ee);return q}},{key:"fill",value:function(w){for(var B=0;B<this.rows;B++)for(var Z=0;Z<this.columns;Z++)this.set(B,Z,w);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(w){$r(this,w);for(var B=[],Z=0;Z<this.columns;Z++)B.push(this.get(w,Z));return B}},{key:"getRowVector",value:function(w){return En.rowVector(this.getRow(w))}},{key:"setRow",value:function(w,B){$r(this,w),B=Nr(this,B);for(var Z=0;Z<this.columns;Z++)this.set(w,Z,B[Z]);return this}},{key:"swapRows",value:function(w,B){$r(this,w),$r(this,B);for(var Z=0;Z<this.columns;Z++){var Pt=this.get(w,Z);this.set(w,Z,this.get(B,Z)),this.set(B,Z,Pt)}return this}},{key:"getColumn",value:function(w){Xr(this,w);for(var B=[],Z=0;Z<this.rows;Z++)B.push(this.get(Z,w));return B}},{key:"getColumnVector",value:function(w){return En.columnVector(this.getColumn(w))}},{key:"setColumn",value:function(w,B){Xr(this,w),B=Hr(this,B);for(var Z=0;Z<this.rows;Z++)this.set(Z,w,B[Z]);return this}},{key:"swapColumns",value:function(w,B){Xr(this,w),Xr(this,B);for(var Z=0;Z<this.rows;Z++){var Pt=this.get(Z,w);this.set(Z,w,this.get(Z,B)),this.set(Z,B,Pt)}return this}},{key:"addRowVector",value:function(w){w=Nr(this,w);for(var B=0;B<this.rows;B++)for(var Z=0;Z<this.columns;Z++)this.set(B,Z,this.get(B,Z)+w[Z]);return this}},{key:"subRowVector",value:function(w){w=Nr(this,w);for(var B=0;B<this.rows;B++)for(var Z=0;Z<this.columns;Z++)this.set(B,Z,this.get(B,Z)-w[Z]);return this}},{key:"mulRowVector",value:function(w){w=Nr(this,w);for(var B=0;B<this.rows;B++)for(var Z=0;Z<this.columns;Z++)this.set(B,Z,this.get(B,Z)*w[Z]);return this}},{key:"divRowVector",value:function(w){w=Nr(this,w);for(var B=0;B<this.rows;B++)for(var Z=0;Z<this.columns;Z++)this.set(B,Z,this.get(B,Z)/w[Z]);return this}},{key:"addColumnVector",value:function(w){w=Hr(this,w);for(var B=0;B<this.rows;B++)for(var Z=0;Z<this.columns;Z++)this.set(B,Z,this.get(B,Z)+w[B]);return this}},{key:"subColumnVector",value:function(w){w=Hr(this,w);for(var B=0;B<this.rows;B++)for(var Z=0;Z<this.columns;Z++)this.set(B,Z,this.get(B,Z)-w[B]);return this}},{key:"mulColumnVector",value:function(w){w=Hr(this,w);for(var B=0;B<this.rows;B++)for(var Z=0;Z<this.columns;Z++)this.set(B,Z,this.get(B,Z)*w[B]);return this}},{key:"divColumnVector",value:function(w){w=Hr(this,w);for(var B=0;B<this.rows;B++)for(var Z=0;Z<this.columns;Z++)this.set(B,Z,this.get(B,Z)/w[B]);return this}},{key:"mulRow",value:function(w,B){$r(this,w);for(var Z=0;Z<this.columns;Z++)this.set(w,Z,this.get(w,Z)*B);return this}},{key:"mulColumn",value:function(w,B){Xr(this,w);for(var Z=0;Z<this.rows;Z++)this.set(Z,w,this.get(Z,w)*B);return this}},{key:"max",value:function(){if(this.isEmpty())return NaN;for(var w=this.get(0,0),B=0;B<this.rows;B++)for(var Z=0;Z<this.columns;Z++)this.get(B,Z)>w&&(w=this.get(B,Z));return w}},{key:"maxIndex",value:function(){qi(this);for(var w=this.get(0,0),B=[0,0],Z=0;Z<this.rows;Z++)for(var Pt=0;Pt<this.columns;Pt++)this.get(Z,Pt)>w&&(w=this.get(Z,Pt),B[0]=Z,B[1]=Pt);return B}},{key:"min",value:function(){if(this.isEmpty())return NaN;for(var w=this.get(0,0),B=0;B<this.rows;B++)for(var Z=0;Z<this.columns;Z++)this.get(B,Z)<w&&(w=this.get(B,Z));return w}},{key:"minIndex",value:function(){qi(this);for(var w=this.get(0,0),B=[0,0],Z=0;Z<this.rows;Z++)for(var Pt=0;Pt<this.columns;Pt++)this.get(Z,Pt)<w&&(w=this.get(Z,Pt),B[0]=Z,B[1]=Pt);return B}},{key:"maxRow",value:function(w){if($r(this,w),this.isEmpty())return NaN;for(var B=this.get(w,0),Z=1;Z<this.columns;Z++)this.get(w,Z)>B&&(B=this.get(w,Z));return B}},{key:"maxRowIndex",value:function(w){$r(this,w),qi(this);for(var B=this.get(w,0),Z=[w,0],Pt=1;Pt<this.columns;Pt++)this.get(w,Pt)>B&&(B=this.get(w,Pt),Z[1]=Pt);return Z}},{key:"minRow",value:function(w){if($r(this,w),this.isEmpty())return NaN;for(var B=this.get(w,0),Z=1;Z<this.columns;Z++)this.get(w,Z)<B&&(B=this.get(w,Z));return B}},{key:"minRowIndex",value:function(w){$r(this,w),qi(this);for(var B=this.get(w,0),Z=[w,0],Pt=1;Pt<this.columns;Pt++)this.get(w,Pt)<B&&(B=this.get(w,Pt),Z[1]=Pt);return Z}},{key:"maxColumn",value:function(w){if(Xr(this,w),this.isEmpty())return NaN;for(var B=this.get(0,w),Z=1;Z<this.rows;Z++)this.get(Z,w)>B&&(B=this.get(Z,w));return B}},{key:"maxColumnIndex",value:function(w){Xr(this,w),qi(this);for(var B=this.get(0,w),Z=[0,w],Pt=1;Pt<this.rows;Pt++)this.get(Pt,w)>B&&(B=this.get(Pt,w),Z[0]=Pt);return Z}},{key:"minColumn",value:function(w){if(Xr(this,w),this.isEmpty())return NaN;for(var B=this.get(0,w),Z=1;Z<this.rows;Z++)this.get(Z,w)<B&&(B=this.get(Z,w));return B}},{key:"minColumnIndex",value:function(w){Xr(this,w),qi(this);for(var B=this.get(0,w),Z=[0,w],Pt=1;Pt<this.rows;Pt++)this.get(Pt,w)<B&&(B=this.get(Pt,w),Z[0]=Pt);return Z}},{key:"diag",value:function(){for(var w=Math.min(this.rows,this.columns),B=[],Z=0;Z<w;Z++)B.push(this.get(Z,Z));return B}},{key:"norm",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius",B=0;if(w==="max")return this.max();if(w==="frobenius"){for(var Z=0;Z<this.rows;Z++)for(var Pt=0;Pt<this.columns;Pt++)B+=this.get(Z,Pt)*this.get(Z,Pt);return Math.sqrt(B)}throw new RangeError("unknown norm type: ".concat(w))}},{key:"cumulativeSum",value:function(){for(var w=0,B=0;B<this.rows;B++)for(var Z=0;Z<this.columns;Z++)w+=this.get(B,Z),this.set(B,Z,w);return this}},{key:"dot",value:function(w){K.isMatrix(w)&&(w=w.to1DArray());var B=this.to1DArray();if(B.length!==w.length)throw new RangeError("vectors do not have the same size");for(var Z=0,Pt=0;Pt<B.length;Pt++)Z+=B[Pt]*w[Pt];return Z}},{key:"mmul",value:function(w){w=En.checkMatrix(w);for(var B=this.rows,Z=this.columns,Pt=w.columns,_t=new En(B,Pt),q=new Float64Array(Z),kt=0;kt<Pt;kt++){for(var ee=0;ee<Z;ee++)q[ee]=w.get(ee,kt);for(var re=0;re<B;re++){for(var Te=0,Le=0;Le<Z;Le++)Te+=this.get(re,Le)*q[Le];_t.set(re,kt,Te)}}return _t}},{key:"strassen2x2",value:function(w){w=En.checkMatrix(w);var B=new En(2,2),Z=this.get(0,0),Pt=w.get(0,0),_t=this.get(0,1),q=w.get(0,1),kt=this.get(1,0),ee=w.get(1,0),re=this.get(1,1),Te=w.get(1,1),Le=(Z+re)*(Pt+Te),tn=(kt+re)*Pt,_e=Z*(q-Te),$e=re*(ee-Pt),nn=(Z+_t)*Te,Xe=Le+$e-nn+(_t-re)*(ee+Te),fn=_e+nn,jn=tn+$e,er=Le-tn+_e+(kt-Z)*(Pt+q);return B.set(0,0,Xe),B.set(0,1,fn),B.set(1,0,jn),B.set(1,1,er),B}},{key:"strassen3x3",value:function(w){w=En.checkMatrix(w);var B=new En(3,3),Z=this.get(0,0),Pt=this.get(0,1),_t=this.get(0,2),q=this.get(1,0),kt=this.get(1,1),ee=this.get(1,2),re=this.get(2,0),Te=this.get(2,1),Le=this.get(2,2),tn=w.get(0,0),_e=w.get(0,1),$e=w.get(0,2),nn=w.get(1,0),Xe=w.get(1,1),fn=w.get(1,2),jn=w.get(2,0),er=w.get(2,1),Gn=w.get(2,2),Kn=(Z-q)*(-_e+Xe),nr=(-Z+q+kt)*(tn-_e+Xe),yr=(q+kt)*(-tn+_e),Sr=Z*tn,_r=(-Z+re+Te)*(tn-$e+fn),Wr=(-Z+re)*($e-fn),Tr=(re+Te)*(-tn+$e),Ur=(-_t+Te+Le)*(Xe+jn-er),ni=(_t-Le)*(Xe-er),Gr=_t*jn,ki=(Te+Le)*(-jn+er),Bi=(-_t+kt+ee)*(fn+jn-Gn),ha=(_t-ee)*(fn-Gn),ai=(kt+ee)*(-jn+Gn),ia=Sr+Gr+Pt*nn,da=(Z+Pt+_t-q-kt-Te-Le)*Xe+nr+yr+Sr+Ur+Gr+ki,ya=Sr+_r+Tr+(Z+Pt+_t-kt-ee-re-Te)*fn+Gr+Bi+ai,Go=Kn+kt*(-tn+_e+nn-Xe-fn-jn+Gn)+nr+Sr+Gr+Bi+ha,Ao=Kn+nr+yr+Sr+ee*er,ba=Gr+Bi+ha+ai+q*$e,Va=Sr+_r+Wr+Te*(-tn+$e+nn-Xe-fn-jn+er)+Ur+ni+Gr,ts=Ur+ni+Gr+ki+re*_e,fs=Sr+_r+Wr+Tr+Le*Gn;return B.set(0,0,ia),B.set(0,1,da),B.set(0,2,ya),B.set(1,0,Go),B.set(1,1,Ao),B.set(1,2,ba),B.set(2,0,Va),B.set(2,1,ts),B.set(2,2,fs),B}},{key:"mmulStrassen",value:function(w){w=En.checkMatrix(w);var B=this.clone(),Z=B.rows,Pt=B.columns,_t=w.rows,q=w.columns;function kt(Te,Le,tn){var _e=Te.rows,$e=Te.columns;if(_e===Le&&$e===tn)return Te;var nn=K.zeros(Le,tn);return nn=nn.setSubMatrix(Te,0,0)}Pt!==_t&&console.warn("Multiplying ".concat(Z," x ").concat(Pt," and ").concat(_t," x ").concat(q," matrix: dimensions do not match."));var ee=Math.max(Z,_t),re=Math.max(Pt,q);return function Te(Le,tn,_e,$e){if(_e<=512||$e<=512)return Le.mmul(tn);_e%2==1&&$e%2==1?(Le=kt(Le,_e+1,$e+1),tn=kt(tn,_e+1,$e+1)):_e%2==1?(Le=kt(Le,_e+1,$e),tn=kt(tn,_e+1,$e)):$e%2==1&&(Le=kt(Le,_e,$e+1),tn=kt(tn,_e,$e+1));var nn=parseInt(Le.rows/2,10),Xe=parseInt(Le.columns/2,10),fn=Le.subMatrix(0,nn-1,0,Xe-1),jn=tn.subMatrix(0,nn-1,0,Xe-1),er=Le.subMatrix(0,nn-1,Xe,Le.columns-1),Gn=tn.subMatrix(0,nn-1,Xe,tn.columns-1),Kn=Le.subMatrix(nn,Le.rows-1,0,Xe-1),nr=tn.subMatrix(nn,tn.rows-1,0,Xe-1),yr=Le.subMatrix(nn,Le.rows-1,Xe,Le.columns-1),Sr=tn.subMatrix(nn,tn.rows-1,Xe,tn.columns-1),_r=Te(K.add(fn,yr),K.add(jn,Sr),nn,Xe),Wr=Te(K.add(Kn,yr),jn,nn,Xe),Tr=Te(fn,K.sub(Gn,Sr),nn,Xe),Ur=Te(yr,K.sub(nr,jn),nn,Xe),ni=Te(K.add(fn,er),Sr,nn,Xe),Gr=Te(K.sub(Kn,fn),K.add(jn,Gn),nn,Xe),ki=Te(K.sub(er,yr),K.add(nr,Sr),nn,Xe),Bi=K.add(_r,Ur);Bi.sub(ni),Bi.add(ki);var ha=K.add(Tr,ni),ai=K.add(Wr,Ur),ia=K.sub(_r,Wr);ia.add(Tr),ia.add(Gr);var da=K.zeros(2*Bi.rows,2*Bi.columns);return(da=(da=(da=(da=da.setSubMatrix(Bi,0,0)).setSubMatrix(ha,Bi.rows,0)).setSubMatrix(ai,0,Bi.columns)).setSubMatrix(ia,Bi.rows,Bi.columns)).subMatrix(0,_e-1,0,$e-1)}(B=kt(B,ee,re),w=kt(w,ee,re),ee,re)}},{key:"scaleRows",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(We(w)!=="object")throw new TypeError("options must be an object");var B=w.min,Z=B===void 0?0:B,Pt=w.max,_t=Pt===void 0?1:Pt;if(!Number.isFinite(Z))throw new TypeError("min must be a number");if(!Number.isFinite(_t))throw new TypeError("max must be a number");if(Z>=_t)throw new RangeError("min must be smaller than max");for(var q=new En(this.rows,this.columns),kt=0;kt<this.rows;kt++){var ee=this.getRow(kt);ee.length>0&&vn(ee,{min:Z,max:_t,output:ee}),q.setRow(kt,ee)}return q}},{key:"scaleColumns",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(We(w)!=="object")throw new TypeError("options must be an object");var B=w.min,Z=B===void 0?0:B,Pt=w.max,_t=Pt===void 0?1:Pt;if(!Number.isFinite(Z))throw new TypeError("min must be a number");if(!Number.isFinite(_t))throw new TypeError("max must be a number");if(Z>=_t)throw new RangeError("min must be smaller than max");for(var q=new En(this.rows,this.columns),kt=0;kt<this.columns;kt++){var ee=this.getColumn(kt);ee.length&&vn(ee,{min:Z,max:_t,output:ee}),q.setColumn(kt,ee)}return q}},{key:"flipRows",value:function(){for(var w=Math.ceil(this.columns/2),B=0;B<this.rows;B++)for(var Z=0;Z<w;Z++){var Pt=this.get(B,Z),_t=this.get(B,this.columns-1-Z);this.set(B,Z,_t),this.set(B,this.columns-1-Z,Pt)}return this}},{key:"flipColumns",value:function(){for(var w=Math.ceil(this.rows/2),B=0;B<this.columns;B++)for(var Z=0;Z<w;Z++){var Pt=this.get(Z,B),_t=this.get(this.rows-1-Z,B);this.set(Z,B,_t),this.set(this.rows-1-Z,B,Pt)}return this}},{key:"kroneckerProduct",value:function(w){w=En.checkMatrix(w);for(var B=this.rows,Z=this.columns,Pt=w.rows,_t=w.columns,q=new En(B*Pt,Z*_t),kt=0;kt<B;kt++)for(var ee=0;ee<Z;ee++)for(var re=0;re<Pt;re++)for(var Te=0;Te<_t;Te++)q.set(Pt*kt+re,_t*ee+Te,this.get(kt,ee)*w.get(re,Te));return q}},{key:"transpose",value:function(){for(var w=new En(this.columns,this.rows),B=0;B<this.rows;B++)for(var Z=0;Z<this.columns;Z++)w.set(Z,B,this.get(B,Z));return w}},{key:"sortRows",value:function(){for(var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ae,B=0;B<this.rows;B++)this.setRow(B,this.getRow(B).sort(w));return this}},{key:"sortColumns",value:function(){for(var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ae,B=0;B<this.columns;B++)this.setColumn(B,this.getColumn(B).sort(w));return this}},{key:"subMatrix",value:function(w,B,Z,Pt){si(this,w,B,Z,Pt);for(var _t=new En(B-w+1,Pt-Z+1),q=w;q<=B;q++)for(var kt=Z;kt<=Pt;kt++)_t.set(q-w,kt-Z,this.get(q,kt));return _t}},{key:"subMatrixRow",value:function(w,B,Z){if(B===void 0&&(B=0),Z===void 0&&(Z=this.columns-1),B>Z||B<0||B>=this.columns||Z<0||Z>=this.columns)throw new RangeError("Argument out of range");for(var Pt=new En(w.length,Z-B+1),_t=0;_t<w.length;_t++)for(var q=B;q<=Z;q++){if(w[_t]<0||w[_t]>=this.rows)throw new RangeError("Row index out of range: ".concat(w[_t]));Pt.set(_t,q-B,this.get(w[_t],q))}return Pt}},{key:"subMatrixColumn",value:function(w,B,Z){if(B===void 0&&(B=0),Z===void 0&&(Z=this.rows-1),B>Z||B<0||B>=this.rows||Z<0||Z>=this.rows)throw new RangeError("Argument out of range");for(var Pt=new En(Z-B+1,w.length),_t=0;_t<w.length;_t++)for(var q=B;q<=Z;q++){if(w[_t]<0||w[_t]>=this.columns)throw new RangeError("Column index out of range: ".concat(w[_t]));Pt.set(q-B,_t,this.get(q,w[_t]))}return Pt}},{key:"setSubMatrix",value:function(w,B,Z){if((w=En.checkMatrix(w)).isEmpty())return this;si(this,B,B+w.rows-1,Z,Z+w.columns-1);for(var Pt=0;Pt<w.rows;Pt++)for(var _t=0;_t<w.columns;_t++)this.set(B+Pt,Z+_t,w.get(Pt,_t));return this}},{key:"selection",value:function(w,B){for(var Z=function(re,Te,Le){return{row:oi(re,Te),column:yi(re,Le)}}(this,w,B),Pt=new En(w.length,B.length),_t=0;_t<Z.row.length;_t++)for(var q=Z.row[_t],kt=0;kt<Z.column.length;kt++){var ee=Z.column[kt];Pt.set(_t,kt,this.get(q,ee))}return Pt}},{key:"trace",value:function(){for(var w=Math.min(this.rows,this.columns),B=0,Z=0;Z<w;Z++)B+=this.get(Z,Z);return B}},{key:"clone",value:function(){for(var w=new En(this.rows,this.columns),B=0;B<this.rows;B++)for(var Z=0;Z<this.columns;Z++)w.set(B,Z,this.get(B,Z));return w}},{key:"sum",value:function(w){switch(w){case"row":return function(B){for(var Z=ti(B.rows),Pt=0;Pt<B.rows;++Pt)for(var _t=0;_t<B.columns;++_t)Z[Pt]+=B.get(Pt,_t);return Z}(this);case"column":return function(B){for(var Z=ti(B.columns),Pt=0;Pt<B.rows;++Pt)for(var _t=0;_t<B.columns;++_t)Z[_t]+=B.get(Pt,_t);return Z}(this);case void 0:return function(B){for(var Z=0,Pt=0;Pt<B.rows;Pt++)for(var _t=0;_t<B.columns;_t++)Z+=B.get(Pt,_t);return Z}(this);default:throw new Error("invalid option: ".concat(w))}}},{key:"product",value:function(w){switch(w){case"row":return function(B){for(var Z=ti(B.rows,1),Pt=0;Pt<B.rows;++Pt)for(var _t=0;_t<B.columns;++_t)Z[Pt]*=B.get(Pt,_t);return Z}(this);case"column":return function(B){for(var Z=ti(B.columns,1),Pt=0;Pt<B.rows;++Pt)for(var _t=0;_t<B.columns;++_t)Z[_t]*=B.get(Pt,_t);return Z}(this);case void 0:return function(B){for(var Z=1,Pt=0;Pt<B.rows;Pt++)for(var _t=0;_t<B.columns;_t++)Z*=B.get(Pt,_t);return Z}(this);default:throw new Error("invalid option: ".concat(w))}}},{key:"mean",value:function(w){var B=this.sum(w);switch(w){case"row":for(var Z=0;Z<this.rows;Z++)B[Z]/=this.columns;return B;case"column":for(var Pt=0;Pt<this.columns;Pt++)B[Pt]/=this.rows;return B;case void 0:return B/this.size;default:throw new Error("invalid option: ".concat(w))}}},{key:"variance",value:function(w){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(We(w)==="object"&&(B=w,w=void 0),We(B)!=="object")throw new TypeError("options must be an object");var Z=B,Pt=Z.unbiased,_t=Pt===void 0||Pt,q=Z.mean,kt=q===void 0?this.mean(w):q;if(typeof _t!="boolean")throw new TypeError("unbiased must be a boolean");switch(w){case"row":if(!Array.isArray(kt))throw new TypeError("mean must be an array");return Sa(this,_t,kt);case"column":if(!Array.isArray(kt))throw new TypeError("mean must be an array");return ea(this,_t,kt);case void 0:if(typeof kt!="number")throw new TypeError("mean must be a number");return Fa(this,_t,kt);default:throw new Error("invalid option: ".concat(w))}}},{key:"standardDeviation",value:function(w,B){We(w)==="object"&&(B=w,w=void 0);var Z=this.variance(w,B);if(w===void 0)return Math.sqrt(Z);for(var Pt=0;Pt<Z.length;Pt++)Z[Pt]=Math.sqrt(Z[Pt]);return Z}},{key:"center",value:function(w){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(We(w)==="object"&&(B=w,w=void 0),We(B)!=="object")throw new TypeError("options must be an object");var Z=B,Pt=Z.center,_t=Pt===void 0?this.mean(w):Pt;switch(w){case"row":if(!Array.isArray(_t))throw new TypeError("center must be an array");return Ua(this,_t),this;case"column":if(!Array.isArray(_t))throw new TypeError("center must be an array");return Na(this,_t),this;case void 0:if(typeof _t!="number")throw new TypeError("center must be a number");return va(this,_t),this;default:throw new Error("invalid option: ".concat(w))}}},{key:"scale",value:function(w){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(We(w)==="object"&&(B=w,w=void 0),We(B)!=="object")throw new TypeError("options must be an object");var Z=B.scale;switch(w){case"row":if(Z===void 0)Z=ge(this);else if(!Array.isArray(Z))throw new TypeError("scale must be an array");return F(this,Z),this;case"column":if(Z===void 0)Z=_(this);else if(!Array.isArray(Z))throw new TypeError("scale must be an array");return $(this,Z),this;case void 0:if(Z===void 0)Z=dt(this);else if(typeof Z!="number")throw new TypeError("scale must be a number");return Gt(this,Z),this;default:throw new Error("invalid option: ".concat(w))}}},{key:"toString",value:function(w){return Br(this,w)}}],[{key:"from1DArray",value:function(w,B,Z){if(w*B!==Z.length)throw new RangeError("data length does not match given dimensions");for(var Pt=new En(w,B),_t=0;_t<w;_t++)for(var q=0;q<B;q++)Pt.set(_t,q,Z[_t*B+q]);return Pt}},{key:"rowVector",value:function(w){for(var B=new En(1,w.length),Z=0;Z<w.length;Z++)B.set(0,Z,w[Z]);return B}},{key:"columnVector",value:function(w){for(var B=new En(w.length,1),Z=0;Z<w.length;Z++)B.set(Z,0,w[Z]);return B}},{key:"zeros",value:function(w,B){return new En(w,B)}},{key:"ones",value:function(w,B){return new En(w,B).fill(1)}},{key:"rand",value:function(w,B){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(We(Z)!=="object")throw new TypeError("options must be an object");for(var Pt=Z.random,_t=Pt===void 0?Math.random:Pt,q=new En(w,B),kt=0;kt<w;kt++)for(var ee=0;ee<B;ee++)q.set(kt,ee,_t());return q}},{key:"randInt",value:function(w,B){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(We(Z)!=="object")throw new TypeError("options must be an object");var Pt=Z.min,_t=Pt===void 0?0:Pt,q=Z.max,kt=q===void 0?1e3:q,ee=Z.random,re=ee===void 0?Math.random:ee;if(!Number.isInteger(_t))throw new TypeError("min must be an integer");if(!Number.isInteger(kt))throw new TypeError("max must be an integer");if(_t>=kt)throw new RangeError("min must be smaller than max");for(var Te=kt-_t,Le=new En(w,B),tn=0;tn<w;tn++)for(var _e=0;_e<B;_e++){var $e=_t+Math.round(re()*Te);Le.set(tn,_e,$e)}return Le}},{key:"eye",value:function(w,B,Z){B===void 0&&(B=w),Z===void 0&&(Z=1);for(var Pt=Math.min(w,B),_t=this.zeros(w,B),q=0;q<Pt;q++)_t.set(q,q,Z);return _t}},{key:"diag",value:function(w,B,Z){var Pt=w.length;B===void 0&&(B=Pt),Z===void 0&&(Z=B);for(var _t=Math.min(Pt,B,Z),q=this.zeros(B,Z),kt=0;kt<_t;kt++)q.set(kt,kt,w[kt]);return q}},{key:"min",value:function(w,B){w=this.checkMatrix(w),B=this.checkMatrix(B);for(var Z=w.rows,Pt=w.columns,_t=new En(Z,Pt),q=0;q<Z;q++)for(var kt=0;kt<Pt;kt++)_t.set(q,kt,Math.min(w.get(q,kt),B.get(q,kt)));return _t}},{key:"max",value:function(w,B){w=this.checkMatrix(w),B=this.checkMatrix(B);for(var Z=w.rows,Pt=w.columns,_t=new this(Z,Pt),q=0;q<Z;q++)for(var kt=0;kt<Pt;kt++)_t.set(q,kt,Math.max(w.get(q,kt),B.get(q,kt)));return _t}},{key:"checkMatrix",value:function(w){return K.isMatrix(w)?w:new En(w)}},{key:"isMatrix",value:function(w){return w!=null&&w.klass==="Matrix"}}]),K}();function Ae(K,G){return K-G}Zt.prototype.klass="Matrix",typeof Symbol!="undefined"&&(Zt.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return Br(this)}),Zt.random=Zt.rand,Zt.randomInt=Zt.randInt,Zt.diagonal=Zt.diag,Zt.prototype.diagonal=Zt.prototype.diag,Zt.identity=Zt.eye,Zt.prototype.negate=Zt.prototype.neg,Zt.prototype.tensorProduct=Zt.prototype.kroneckerProduct;var Ht,he,En=function(K){(function(B,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(Z&&Z.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Z&&Jt(B,Z)})(w,K);var G=ce(w);function w(B,Z){var Pt;if(sn(this,w),Pt=G.call(this),w.isMatrix(B))return fe(Pt,B.clone());if(Number.isInteger(B)&&B>=0){if(Pt.data=[],!(Number.isInteger(Z)&&Z>=0))throw new TypeError("nColumns must be a positive integer");for(var _t=0;_t<B;_t++)Pt.data.push(new Float64Array(Z))}else{if(!Array.isArray(B))throw new TypeError("First argument must be a positive number or an array");var q=B;if(typeof(Z=(B=q.length)?q[0].length:0)!="number")throw new TypeError("Data must be a 2D array with at least one element");Pt.data=[];for(var kt=0;kt<B;kt++){if(q[kt].length!==Z)throw new RangeError("Inconsistent array dimensions");Pt.data.push(Float64Array.from(q[kt]))}}return Pt.rows=B,Pt.columns=Z,Pt}return Yt(w,[{key:"set",value:function(Z,Pt,_t){return this.data[Z][Pt]=_t,this}},{key:"get",value:function(Z,Pt){return this.data[Z][Pt]}},{key:"removeRow",value:function(Z){return $r(this,Z),this.data.splice(Z,1),this.rows-=1,this}},{key:"addRow",value:function(Z,Pt){return Pt===void 0&&(Pt=Z,Z=this.rows),$r(this,Z,!0),Pt=Float64Array.from(Nr(this,Pt)),this.data.splice(Z,0,Pt),this.rows+=1,this}},{key:"removeColumn",value:function(Z){Xr(this,Z);for(var Pt=0;Pt<this.rows;Pt++){for(var _t=new Float64Array(this.columns-1),q=0;q<Z;q++)_t[q]=this.data[Pt][q];for(var kt=Z+1;kt<this.columns;kt++)_t[kt-1]=this.data[Pt][kt];this.data[Pt]=_t}return this.columns-=1,this}},{key:"addColumn",value:function(Z,Pt){Pt===void 0&&(Pt=Z,Z=this.columns),Xr(this,Z,!0),Pt=Hr(this,Pt);for(var _t=0;_t<this.rows;_t++){for(var q=new Float64Array(this.columns+1),kt=0;kt<Z;kt++)q[kt]=this.data[_t][kt];for(q[kt++]=Pt[_t];kt<this.columns+1;kt++)q[kt]=this.data[_t][kt-1];this.data[_t]=q}return this.columns+=1,this}}]),w}(Zt);function Qn(K){return(Qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(K)}function fr(K,G){for(var w=0;w<G.length;w++){var B=G[w];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(K,B.key,B)}}function ar(K,G){return(ar=Object.setPrototypeOf||function(w,B){return w.__proto__=B,w})(K,G)}function an(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=L(K);if(G){var Z=L(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return Re(this,w)}}function Re(K,G){return!G||Qn(G)!=="object"&&typeof G!="function"?function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(K):G}function L(K){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)})(K)}he=En,(Ht=Zt).prototype.add=function(K){return typeof K=="number"?this.addS(K):this.addM(K)},Ht.prototype.addS=function(K){for(var G=0;G<this.rows;G++)for(var w=0;w<this.columns;w++)this.set(G,w,this.get(G,w)+K);return this},Ht.prototype.addM=function(K){if(K=he.checkMatrix(K),this.rows!==K.rows||this.columns!==K.columns)throw new RangeError("Matrices dimensions must be equal");for(var G=0;G<this.rows;G++)for(var w=0;w<this.columns;w++)this.set(G,w,this.get(G,w)+K.get(G,w));return this},Ht.add=function(K,G){return new he(K).add(G)},Ht.prototype.sub=function(K){return typeof K=="number"?this.subS(K):this.subM(K)},Ht.prototype.subS=function(K){for(var G=0;G<this.rows;G++)for(var w=0;w<this.columns;w++)this.set(G,w,this.get(G,w)-K);return this},Ht.prototype.subM=function(K){if(K=he.checkMatrix(K),this.rows!==K.rows||this.columns!==K.columns)throw new RangeError("Matrices dimensions must be equal");for(var G=0;G<this.rows;G++)for(var w=0;w<this.columns;w++)this.set(G,w,this.get(G,w)-K.get(G,w));return this},Ht.sub=function(K,G){return new he(K).sub(G)},Ht.prototype.subtract=Ht.prototype.sub,Ht.prototype.subtractS=Ht.prototype.subS,Ht.prototype.subtractM=Ht.prototype.subM,Ht.subtract=Ht.sub,Ht.prototype.mul=function(K){return typeof K=="number"?this.mulS(K):this.mulM(K)},Ht.prototype.mulS=function(K){for(var G=0;G<this.rows;G++)for(var w=0;w<this.columns;w++)this.set(G,w,this.get(G,w)*K);return this},Ht.prototype.mulM=function(K){if(K=he.checkMatrix(K),this.rows!==K.rows||this.columns!==K.columns)throw new RangeError("Matrices dimensions must be equal");for(var G=0;G<this.rows;G++)for(var w=0;w<this.columns;w++)this.set(G,w,this.get(G,w)*K.get(G,w));return this},Ht.mul=function(K,G){return new he(K).mul(G)},Ht.prototype.multiply=Ht.prototype.mul,Ht.prototype.multiplyS=Ht.prototype.mulS,Ht.prototype.multiplyM=Ht.prototype.mulM,Ht.multiply=Ht.mul,Ht.prototype.div=function(K){return typeof K=="number"?this.divS(K):this.divM(K)},Ht.prototype.divS=function(K){for(var G=0;G<this.rows;G++)for(var w=0;w<this.columns;w++)this.set(G,w,this.get(G,w)/K);return this},Ht.prototype.divM=function(K){if(K=he.checkMatrix(K),this.rows!==K.rows||this.columns!==K.columns)throw new RangeError("Matrices dimensions must be equal");for(var G=0;G<this.rows;G++)for(var w=0;w<this.columns;w++)this.set(G,w,this.get(G,w)/K.get(G,w));return this},Ht.div=function(K,G){return new he(K).div(G)},Ht.prototype.divide=Ht.prototype.div,Ht.prototype.divideS=Ht.prototype.divS,Ht.prototype.divideM=Ht.prototype.divM,Ht.divide=Ht.div,Ht.prototype.mod=function(K){return typeof K=="number"?this.modS(K):this.modM(K)},Ht.prototype.modS=function(K){for(var G=0;G<this.rows;G++)for(var w=0;w<this.columns;w++)this.set(G,w,this.get(G,w)%K);return this},Ht.prototype.modM=function(K){if(K=he.checkMatrix(K),this.rows!==K.rows||this.columns!==K.columns)throw new RangeError("Matrices dimensions must be equal");for(var G=0;G<this.rows;G++)for(var w=0;w<this.columns;w++)this.set(G,w,this.get(G,w)%K.get(G,w));return this},Ht.mod=function(K,G){return new he(K).mod(G)},Ht.prototype.modulus=Ht.prototype.mod,Ht.prototype.modulusS=Ht.prototype.modS,Ht.prototype.modulusM=Ht.prototype.modM,Ht.modulus=Ht.mod,Ht.prototype.and=function(K){return typeof K=="number"?this.andS(K):this.andM(K)},Ht.prototype.andS=function(K){for(var G=0;G<this.rows;G++)for(var w=0;w<this.columns;w++)this.set(G,w,this.get(G,w)&K);return this},Ht.prototype.andM=function(K){if(K=he.checkMatrix(K),this.rows!==K.rows||this.columns!==K.columns)throw new RangeError("Matrices dimensions must be equal");for(var G=0;G<this.rows;G++)for(var w=0;w<this.columns;w++)this.set(G,w,this.get(G,w)&K.get(G,w));return this},Ht.and=function(K,G){return new he(K).and(G)},Ht.prototype.or=function(K){return typeof K=="number"?this.orS(K):this.orM(K)},Ht.prototype.orS=function(K){for(var G=0;G<this.rows;G++)for(var w=0;w<this.columns;w++)this.set(G,w,this.get(G,w)|K);return this},Ht.prototype.orM=function(K){if(K=he.checkMatrix(K),this.rows!==K.rows||this.columns!==K.columns)throw new RangeError("Matrices dimensions must be equal");for(var G=0;G<this.rows;G++)for(var w=0;w<this.columns;w++)this.set(G,w,this.get(G,w)|K.get(G,w));return this},Ht.or=function(K,G){return new he(K).or(G)},Ht.prototype.xor=function(K){return typeof K=="number"?this.xorS(K):this.xorM(K)},Ht.prototype.xorS=function(K){for(var G=0;G<this.rows;G++)for(var w=0;w<this.columns;w++)this.set(G,w,this.get(G,w)^K);return this},Ht.prototype.xorM=function(K){if(K=he.checkMatrix(K),this.rows!==K.rows||this.columns!==K.columns)throw new RangeError("Matrices dimensions must be equal");for(var G=0;G<this.rows;G++)for(var w=0;w<this.columns;w++)this.set(G,w,this.get(G,w)^K.get(G,w));return this},Ht.xor=function(K,G){return new he(K).xor(G)},Ht.prototype.leftShift=function(K){return typeof K=="number"?this.leftShiftS(K):this.leftShiftM(K)},Ht.prototype.leftShiftS=function(K){for(var G=0;G<this.rows;G++)for(var w=0;w<this.columns;w++)this.set(G,w,this.get(G,w)<<K);return this},Ht.prototype.leftShiftM=function(K){if(K=he.checkMatrix(K),this.rows!==K.rows||this.columns!==K.columns)throw new RangeError("Matrices dimensions must be equal");for(var G=0;G<this.rows;G++)for(var w=0;w<this.columns;w++)this.set(G,w,this.get(G,w)<<K.get(G,w));return this},Ht.leftShift=function(K,G){return new he(K).leftShift(G)},Ht.prototype.signPropagatingRightShift=function(K){return typeof K=="number"?this.signPropagatingRightShiftS(K):this.signPropagatingRightShiftM(K)},Ht.prototype.signPropagatingRightShiftS=function(K){for(var G=0;G<this.rows;G++)for(var w=0;w<this.columns;w++)this.set(G,w,this.get(G,w)>>K);return this},Ht.prototype.signPropagatingRightShiftM=function(K){if(K=he.checkMatrix(K),this.rows!==K.rows||this.columns!==K.columns)throw new RangeError("Matrices dimensions must be equal");for(var G=0;G<this.rows;G++)for(var w=0;w<this.columns;w++)this.set(G,w,this.get(G,w)>>K.get(G,w));return this},Ht.signPropagatingRightShift=function(K,G){return new he(K).signPropagatingRightShift(G)},Ht.prototype.rightShift=function(K){return typeof K=="number"?this.rightShiftS(K):this.rightShiftM(K)},Ht.prototype.rightShiftS=function(K){for(var G=0;G<this.rows;G++)for(var w=0;w<this.columns;w++)this.set(G,w,this.get(G,w)>>>K);return this},Ht.prototype.rightShiftM=function(K){if(K=he.checkMatrix(K),this.rows!==K.rows||this.columns!==K.columns)throw new RangeError("Matrices dimensions must be equal");for(var G=0;G<this.rows;G++)for(var w=0;w<this.columns;w++)this.set(G,w,this.get(G,w)>>>K.get(G,w));return this},Ht.rightShift=function(K,G){return new he(K).rightShift(G)},Ht.prototype.zeroFillRightShift=Ht.prototype.rightShift,Ht.prototype.zeroFillRightShiftS=Ht.prototype.rightShiftS,Ht.prototype.zeroFillRightShiftM=Ht.prototype.rightShiftM,Ht.zeroFillRightShift=Ht.rightShift,Ht.prototype.not=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,~this.get(K,G));return this},Ht.not=function(K){return new he(K).not()},Ht.prototype.abs=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.abs(this.get(K,G)));return this},Ht.abs=function(K){return new he(K).abs()},Ht.prototype.acos=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.acos(this.get(K,G)));return this},Ht.acos=function(K){return new he(K).acos()},Ht.prototype.acosh=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.acosh(this.get(K,G)));return this},Ht.acosh=function(K){return new he(K).acosh()},Ht.prototype.asin=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.asin(this.get(K,G)));return this},Ht.asin=function(K){return new he(K).asin()},Ht.prototype.asinh=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.asinh(this.get(K,G)));return this},Ht.asinh=function(K){return new he(K).asinh()},Ht.prototype.atan=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.atan(this.get(K,G)));return this},Ht.atan=function(K){return new he(K).atan()},Ht.prototype.atanh=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.atanh(this.get(K,G)));return this},Ht.atanh=function(K){return new he(K).atanh()},Ht.prototype.cbrt=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.cbrt(this.get(K,G)));return this},Ht.cbrt=function(K){return new he(K).cbrt()},Ht.prototype.ceil=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.ceil(this.get(K,G)));return this},Ht.ceil=function(K){return new he(K).ceil()},Ht.prototype.clz32=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.clz32(this.get(K,G)));return this},Ht.clz32=function(K){return new he(K).clz32()},Ht.prototype.cos=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.cos(this.get(K,G)));return this},Ht.cos=function(K){return new he(K).cos()},Ht.prototype.cosh=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.cosh(this.get(K,G)));return this},Ht.cosh=function(K){return new he(K).cosh()},Ht.prototype.exp=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.exp(this.get(K,G)));return this},Ht.exp=function(K){return new he(K).exp()},Ht.prototype.expm1=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.expm1(this.get(K,G)));return this},Ht.expm1=function(K){return new he(K).expm1()},Ht.prototype.floor=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.floor(this.get(K,G)));return this},Ht.floor=function(K){return new he(K).floor()},Ht.prototype.fround=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.fround(this.get(K,G)));return this},Ht.fround=function(K){return new he(K).fround()},Ht.prototype.log=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.log(this.get(K,G)));return this},Ht.log=function(K){return new he(K).log()},Ht.prototype.log1p=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.log1p(this.get(K,G)));return this},Ht.log1p=function(K){return new he(K).log1p()},Ht.prototype.log10=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.log10(this.get(K,G)));return this},Ht.log10=function(K){return new he(K).log10()},Ht.prototype.log2=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.log2(this.get(K,G)));return this},Ht.log2=function(K){return new he(K).log2()},Ht.prototype.round=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.round(this.get(K,G)));return this},Ht.round=function(K){return new he(K).round()},Ht.prototype.sign=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.sign(this.get(K,G)));return this},Ht.sign=function(K){return new he(K).sign()},Ht.prototype.sin=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.sin(this.get(K,G)));return this},Ht.sin=function(K){return new he(K).sin()},Ht.prototype.sinh=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.sinh(this.get(K,G)));return this},Ht.sinh=function(K){return new he(K).sinh()},Ht.prototype.sqrt=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.sqrt(this.get(K,G)));return this},Ht.sqrt=function(K){return new he(K).sqrt()},Ht.prototype.tan=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.tan(this.get(K,G)));return this},Ht.tan=function(K){return new he(K).tan()},Ht.prototype.tanh=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.tanh(this.get(K,G)));return this},Ht.tanh=function(K){return new he(K).tanh()},Ht.prototype.trunc=function(){for(var K=0;K<this.rows;K++)for(var G=0;G<this.columns;G++)this.set(K,G,Math.trunc(this.get(K,G)));return this},Ht.trunc=function(K){return new he(K).trunc()},Ht.pow=function(K,G){return new he(K).pow(G)},Ht.prototype.pow=function(K){return typeof K=="number"?this.powS(K):this.powM(K)},Ht.prototype.powS=function(K){for(var G=0;G<this.rows;G++)for(var w=0;w<this.columns;w++)this.set(G,w,Math.pow(this.get(G,w),K));return this},Ht.prototype.powM=function(K){if(K=he.checkMatrix(K),this.rows!==K.rows||this.columns!==K.columns)throw new RangeError("Matrices dimensions must be equal");for(var G=0;G<this.rows;G++)for(var w=0;w<this.columns;w++)this.set(G,w,Math.pow(this.get(G,w),K.get(G,w)));return this};var bt=function(K){(function(_t,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");_t.prototype=Object.create(q&&q.prototype,{constructor:{value:_t,writable:!0,configurable:!0}}),q&&ar(_t,q)})(Pt,K);var G,w,B,Z=an(Pt);function Pt(_t){var q;return function(kt,ee){if(!(kt instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,Pt),(q=Z.call(this)).data=_t,q.rows=_t.length,q.columns=_t[0].length,q}return G=Pt,(w=[{key:"set",value:function(q,kt,ee){return this.data[q][kt]=ee,this}},{key:"get",value:function(q,kt){return this.data[q][kt]}}])&&fr(G.prototype,w),B&&fr(G,B),Pt}(Zt);function ie(K,G){var w=0;return Math.abs(K)>Math.abs(G)?(w=G/K,Math.abs(K)*Math.sqrt(1+w*w)):G!==0?(w=K/G,Math.abs(G)*Math.sqrt(1+w*w)):0}function Ee(K,G){if(!(K instanceof G))throw new TypeError("Cannot call a class as a function")}function te(K,G){for(var w=0;w<G.length;w++){var B=G[w];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(K,B.key,B)}}var pe=function(){function K(Z){var Pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ee(this,K),(Z=bt.checkMatrix(Z)).isEmpty())throw new Error("Matrix must be non-empty");var _t,q=Z.rows,kt=Z.columns,ee=Pt.computeLeftSingularVectors,re=ee===void 0||ee,Te=Pt.computeRightSingularVectors,Le=Te===void 0||Te,tn=Pt.autoTranspose,_e=tn!==void 0&&tn,$e=Boolean(re),nn=Boolean(Le),Xe=!1;if(q<kt)if(_e){q=(_t=Z.transpose()).rows,kt=_t.columns,Xe=!0;var fn=$e;$e=nn,nn=fn}else _t=Z.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else _t=Z.clone();for(var jn=Math.min(q,kt),er=Math.min(q+1,kt),Gn=new Float64Array(er),Kn=new En(q,jn),nr=new En(kt,kt),yr=new Float64Array(kt),Sr=new Float64Array(q),_r=new Float64Array(er),Wr=0;Wr<er;Wr++)_r[Wr]=Wr;for(var Tr=Math.min(q-1,kt),Ur=Math.max(0,Math.min(kt-2,q)),ni=Math.max(Tr,Ur),Gr=0;Gr<ni;Gr++){if(Gr<Tr){Gn[Gr]=0;for(var ki=Gr;ki<q;ki++)Gn[Gr]=ie(Gn[Gr],_t.get(ki,Gr));if(Gn[Gr]!==0){_t.get(Gr,Gr)<0&&(Gn[Gr]=-Gn[Gr]);for(var Bi=Gr;Bi<q;Bi++)_t.set(Bi,Gr,_t.get(Bi,Gr)/Gn[Gr]);_t.set(Gr,Gr,_t.get(Gr,Gr)+1)}Gn[Gr]=-Gn[Gr]}for(var ha=Gr+1;ha<kt;ha++){if(Gr<Tr&&Gn[Gr]!==0){for(var ai=0,ia=Gr;ia<q;ia++)ai+=_t.get(ia,Gr)*_t.get(ia,ha);ai=-ai/_t.get(Gr,Gr);for(var da=Gr;da<q;da++)_t.set(da,ha,_t.get(da,ha)+ai*_t.get(da,Gr))}yr[ha]=_t.get(Gr,ha)}if($e&&Gr<Tr)for(var ya=Gr;ya<q;ya++)Kn.set(ya,Gr,_t.get(ya,Gr));if(Gr<Ur){yr[Gr]=0;for(var Go=Gr+1;Go<kt;Go++)yr[Gr]=ie(yr[Gr],yr[Go]);if(yr[Gr]!==0){yr[Gr+1]<0&&(yr[Gr]=0-yr[Gr]);for(var Ao=Gr+1;Ao<kt;Ao++)yr[Ao]/=yr[Gr];yr[Gr+1]+=1}if(yr[Gr]=-yr[Gr],Gr+1<q&&yr[Gr]!==0){for(var ba=Gr+1;ba<q;ba++)Sr[ba]=0;for(var Va=Gr+1;Va<q;Va++)for(var ts=Gr+1;ts<kt;ts++)Sr[Va]+=yr[ts]*_t.get(Va,ts);for(var fs=Gr+1;fs<kt;fs++)for(var cu=-yr[fs]/yr[Gr+1],lu=Gr+1;lu<q;lu++)_t.set(lu,fs,_t.get(lu,fs)+cu*Sr[lu])}if(nn)for(var Su=Gr+1;Su<kt;Su++)nr.set(Su,Gr,yr[Su])}}var Vo=Math.min(kt,q+1);if(Tr<kt&&(Gn[Tr]=_t.get(Tr,Tr)),q<Vo&&(Gn[Vo-1]=0),Ur+1<Vo&&(yr[Ur]=_t.get(Ur,Vo-1)),yr[Vo-1]=0,$e){for(var Qf=Tr;Qf<jn;Qf++){for(var Yd=0;Yd<q;Yd++)Kn.set(Yd,Qf,0);Kn.set(Qf,Qf,1)}for(var Oo=Tr-1;Oo>=0;Oo--)if(Gn[Oo]!==0){for(var ws=Oo+1;ws<jn;ws++){for(var gd=0,md=Oo;md<q;md++)gd+=Kn.get(md,Oo)*Kn.get(md,ws);gd=-gd/Kn.get(Oo,Oo);for(var Zf=Oo;Zf<q;Zf++)Kn.set(Zf,ws,Kn.get(Zf,ws)+gd*Kn.get(Zf,Oo))}for(var $f=Oo;$f<q;$f++)Kn.set($f,Oo,-Kn.get($f,Oo));Kn.set(Oo,Oo,1+Kn.get(Oo,Oo));for(var Xd=0;Xd<Oo-1;Xd++)Kn.set(Xd,Oo,0)}else{for(var Hd=0;Hd<q;Hd++)Kn.set(Hd,Oo,0);Kn.set(Oo,Oo,1)}}if(nn)for(var $s=kt-1;$s>=0;$s--){if($s<Ur&&yr[$s]!==0)for(var uf=$s+1;uf<kt;uf++){for(var yd=0,bd=$s+1;bd<kt;bd++)yd+=nr.get(bd,$s)*nr.get(bd,uf);yd=-yd/nr.get($s+1,$s);for(var qf=$s+1;qf<kt;qf++)nr.set(qf,uf,nr.get(qf,uf)+yd*nr.get(qf,$s))}for(var xd=0;xd<kt;xd++)nr.set(xd,$s,0);nr.set($s,$s,1)}for(var Kd=Vo-1,rv=Number.EPSILON;Vo>0;){var Ga=void 0,th=void 0;for(Ga=Vo-2;Ga>=-1&&Ga!==-1;Ga--){var ov=Number.MIN_VALUE+rv*Math.abs(Gn[Ga]+Math.abs(Gn[Ga+1]));if(Math.abs(yr[Ga])<=ov||Number.isNaN(yr[Ga])){yr[Ga]=0;break}}if(Ga===Vo-2)th=4;else{var Es=void 0;for(Es=Vo-1;Es>=Ga&&Es!==Ga;Es--){var sv=(Es!==Vo?Math.abs(yr[Es]):0)+(Es!==Ga+1?Math.abs(yr[Es-1]):0);if(Math.abs(Gn[Es])<=rv*sv){Gn[Es]=0;break}}Es===Ga?th=3:Es===Vo-1?th=1:(th=2,Ga=Es)}switch(Ga++,th){case 1:var Jd=yr[Vo-2];yr[Vo-2]=0;for(var wu=Vo-2;wu>=Ga;wu--){var eh=ie(Gn[wu],Jd),Qd=Gn[wu]/eh,Od=Jd/eh;if(Gn[wu]=eh,wu!==Ga&&(Jd=-Od*yr[wu-1],yr[wu-1]=Qd*yr[wu-1]),nn)for(var gc=0;gc<kt;gc++)eh=Qd*nr.get(gc,wu)+Od*nr.get(gc,Vo-1),nr.set(gc,Vo-1,-Od*nr.get(gc,wu)+Qd*nr.get(gc,Vo-1)),nr.set(gc,wu,eh)}break;case 2:var Zd=yr[Ga-1];yr[Ga-1]=0;for(var Bu=Ga;Bu<Vo;Bu++){var nh=ie(Gn[Bu],Zd),$d=Gn[Bu]/nh,qd=Zd/nh;if(Gn[Bu]=nh,Zd=-qd*yr[Bu],yr[Bu]=$d*yr[Bu],$e)for(var Nc=0;Nc<q;Nc++)nh=$d*Kn.get(Nc,Bu)+qd*Kn.get(Nc,Ga-1),Kn.set(Nc,Ga-1,-qd*Kn.get(Nc,Bu)+$d*Kn.get(Nc,Ga-1)),Kn.set(Nc,Bu,nh)}break;case 3:var rh=Math.max(Math.abs(Gn[Vo-1]),Math.abs(Gn[Vo-2]),Math.abs(yr[Vo-2]),Math.abs(Gn[Ga]),Math.abs(yr[Ga])),cf=Gn[Vo-1]/rh,iv=Gn[Vo-2]/rh,Sd=yr[Vo-2]/rh,tv=Gn[Ga]/rh,uv=yr[Ga]/rh,bl=((iv+cf)*(iv-cf)+Sd*Sd)/2,wd=cf*Sd*(cf*Sd),ev=0;bl===0&&wd===0||(ev=wd/(bl+(ev=bl<0?0-Math.sqrt(bl*bl+wd):Math.sqrt(bl*bl+wd))));for(var xl=(tv+cf)*(tv-cf)+ev,lf=tv*uv,Io=Ga;Io<Vo-1;Io++){var qs=ie(xl,lf);qs===0&&(qs=Number.MIN_VALUE);var Fu=xl/qs,_u=lf/qs;if(Io!==Ga&&(yr[Io-1]=qs),xl=Fu*Gn[Io]+_u*yr[Io],yr[Io]=Fu*yr[Io]-_u*Gn[Io],lf=_u*Gn[Io+1],Gn[Io+1]=Fu*Gn[Io+1],nn)for(var Lc=0;Lc<kt;Lc++)qs=Fu*nr.get(Lc,Io)+_u*nr.get(Lc,Io+1),nr.set(Lc,Io+1,-_u*nr.get(Lc,Io)+Fu*nr.get(Lc,Io+1)),nr.set(Lc,Io,qs);if((qs=ie(xl,lf))===0&&(qs=Number.MIN_VALUE),Fu=xl/qs,_u=lf/qs,Gn[Io]=qs,xl=Fu*yr[Io]+_u*Gn[Io+1],Gn[Io+1]=-_u*yr[Io]+Fu*Gn[Io+1],lf=_u*yr[Io+1],yr[Io+1]=Fu*yr[Io+1],$e&&Io<q-1)for(var Bc=0;Bc<q;Bc++)qs=Fu*Kn.get(Bc,Io)+_u*Kn.get(Bc,Io+1),Kn.set(Bc,Io+1,-_u*Kn.get(Bc,Io)+Fu*Kn.get(Bc,Io+1)),Kn.set(Bc,Io,qs)}yr[Vo-2]=xl;break;case 4:if(Gn[Ga]<=0&&(Gn[Ga]=Gn[Ga]<0?-Gn[Ga]:0,nn))for(var Ed=0;Ed<=Kd;Ed++)nr.set(Ed,Ga,-nr.get(Ed,Ga));for(;Ga<Kd&&!(Gn[Ga]>=Gn[Ga+1]);){var ih=Gn[Ga];if(Gn[Ga]=Gn[Ga+1],Gn[Ga+1]=ih,nn&&Ga<kt-1)for(var Fc=0;Fc<kt;Fc++)ih=nr.get(Fc,Ga+1),nr.set(Fc,Ga+1,nr.get(Fc,Ga)),nr.set(Fc,Ga,ih);if($e&&Ga<q-1)for(var Ol=0;Ol<q;Ol++)ih=Kn.get(Ol,Ga+1),Kn.set(Ol,Ga+1,Kn.get(Ol,Ga)),Kn.set(Ol,Ga,ih);Ga++}Vo--}}if(Xe){var av=nr;nr=Kn,Kn=av}this.m=q,this.n=kt,this.s=Gn,this.U=Kn,this.V=nr}var G,w,B;return G=K,(w=[{key:"solve",value:function(Pt){for(var _t=Pt,q=this.threshold,kt=this.s.length,ee=En.zeros(kt,kt),re=0;re<kt;re++)Math.abs(this.s[re])<=q?ee.set(re,re,0):ee.set(re,re,1/this.s[re]);for(var Te=this.U,Le=this.rightSingularVectors,tn=Le.mmul(ee),_e=Le.rows,$e=Te.rows,nn=En.zeros(_e,$e),Xe=0;Xe<_e;Xe++)for(var fn=0;fn<$e;fn++){for(var jn=0,er=0;er<kt;er++)jn+=tn.get(Xe,er)*Te.get(fn,er);nn.set(Xe,fn,jn)}return nn.mmul(_t)}},{key:"solveForDiagonal",value:function(Pt){return this.solve(En.diag(Pt))}},{key:"inverse",value:function(){for(var Pt=this.V,_t=this.threshold,q=Pt.rows,kt=Pt.columns,ee=new En(q,this.s.length),re=0;re<q;re++)for(var Te=0;Te<kt;Te++)Math.abs(this.s[Te])>_t&&ee.set(re,Te,Pt.get(re,Te)/this.s[Te]);for(var Le=this.U,tn=Le.rows,_e=Le.columns,$e=new En(q,tn),nn=0;nn<q;nn++)for(var Xe=0;Xe<tn;Xe++){for(var fn=0,jn=0;jn<_e;jn++)fn+=ee.get(nn,jn)*Le.get(Xe,jn);$e.set(nn,Xe,fn)}return $e}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var Pt=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,_t=0,q=this.s,kt=0,ee=q.length;kt<ee;kt++)q[kt]>Pt&&_t++;return _t}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return En.diag(this.s)}}])&&te(G.prototype,w),B&&te(G,B),K}();function ve(K,G){for(var w=0;w<G.length;w++){var B=G[w];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(K,B.key,B)}}var de=function(){function K(Z){(function(Pt,_t){if(!(Pt instanceof _t))throw new TypeError("Cannot call a class as a function")})(this,K),this.distances=Z.distances,this.dimension=Z.dimension||2,this.linkDistance=Z.linkDistance}var G,w,B;return G=K,(w=[{key:"layout",value:function(){var Pt=this.dimension,_t=this.distances,q=this.linkDistance;try{var kt=En.mul(En.pow(_t,2),-.5),ee=kt.mean("row"),re=kt.mean("column"),Te=kt.mean();kt.add(Te).subRowVector(ee).subColumnVector(re);var Le=new pe(kt),tn=En.sqrt(Le.diagonalMatrix).diagonal();return Le.leftSingularVectors.toJSON().map(function(fn){return En.mul([fn],[tn]).toJSON()[0].splice(0,Pt)})}catch(fn){for(var _e=[],$e=0;$e<_t.length;$e++){var nn=Math.random()*q,Xe=Math.random()*q;_e.push([nn,Xe])}return _e}}}])&&ve(G.prototype,w),B&&ve(G,B),K}();function Pe(K,G){for(var w=0;w<G.length;w++){var B=G[w];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(K,B.key,B)}}var ze=function(){function K(Z){(function(Pt,_t){if(!(Pt instanceof _t))throw new TypeError("Cannot call a class as a function")})(this,K),this.disp=[],this.positions=Z.positions,this.adjMatrix=Z.adjMatrix,this.focusID=Z.focusID,this.radii=Z.radii,this.iterations=Z.iterations||10,this.height=Z.height||10,this.width=Z.width||10,this.speed=Z.speed||100,this.gravity=Z.gravity||10,this.nodeSizeFunc=Z.nodeSizeFunc,this.k=Z.k||5,this.strictRadial=Z.strictRadial,this.nodes=Z.nodes}var G,w,B;return G=K,(w=[{key:"layout",value:function(){var Pt=this.positions,_t=[],q=this.iterations,kt=this.width/10;this.maxDisplace=kt,this.disp=_t;for(var ee=0;ee<q;ee++)Pt.forEach(function(re,Te){_t[Te]={x:0,y:0}}),this.getRepulsion(),this.updatePositions();return Pt}},{key:"getRepulsion",value:function(){var Pt=this,_t=Pt.positions,q=Pt.nodes,kt=Pt.disp,ee=Pt.k,re=Pt.radii||[];_t.forEach(function(Te,Le){kt[Le]={x:0,y:0},_t.forEach(function(tn,_e){if(Le!==_e&&re[Le]===re[_e]){var $e=Te[0]-tn[0],nn=Te[1]-tn[1],Xe=Math.sqrt($e*$e+nn*nn);if(Xe===0){Xe=1;var fn=Le>_e?1:-1;$e=.01*fn,nn=.01*fn}if(Xe<Pt.nodeSizeFunc(q[Le])/2+Pt.nodeSizeFunc(q[_e])/2){var jn=ee*ee/Xe;kt[Le].x+=$e/Xe*jn,kt[Le].y+=nn/Xe*jn}}})})}},{key:"updatePositions",value:function(){var Pt=this.positions,_t=this.disp,q=this.speed,kt=this.strictRadial,ee=this.focusID,re=this.maxDisplace||this.width/10;kt&&_t.forEach(function(Le,tn){var _e=Pt[tn][0]-Pt[ee][0],$e=Pt[tn][1]-Pt[ee][1],nn=Math.sqrt(_e*_e+$e*$e),Xe=$e/nn,fn=-_e/nn,jn=Math.sqrt(Le.x*Le.x+Le.y*Le.y),er=Math.acos((Xe*Le.x+fn*Le.y)/jn);er>Math.PI/2&&(er-=Math.PI/2,Xe*=-1,fn*=-1);var Gn=Math.cos(er)*jn;Le.x=Xe*Gn,Le.y=fn*Gn});var Te=this.radii;Pt.forEach(function(Le,tn){if(tn!==ee){var _e=Math.sqrt(_t[tn].x*_t[tn].x+_t[tn].y*_t[tn].y);if(_e>0&&tn!==ee){var $e=Math.min(re*(q/800),_e);if(Le[0]+=_t[tn].x/_e*$e,Le[1]+=_t[tn].y/_e*$e,kt){var nn=Le[0]-Pt[ee][0],Xe=Le[1]-Pt[ee][1],fn=Math.sqrt(nn*nn+Xe*Xe);nn=nn/fn*Te[tn],Xe=Xe/fn*Te[tn],Le[0]=Pt[ee][0]+nn,Le[1]=Pt[ee][1]+Xe}}}})}}])&&Pe(G.prototype,w),B&&Pe(G,B),K}();function Je(K){return(Je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(K)}function Ve(K){return function(G){if(Array.isArray(G))return cn(G)}(K)||function(G){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(G))return Array.from(G)}(K)||function(G,w){if(!!G){if(typeof G=="string")return cn(G,w);var B=Object.prototype.toString.call(G).slice(8,-1);if(B==="Object"&&G.constructor&&(B=G.constructor.name),B==="Map"||B==="Set")return Array.from(G);if(B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return cn(G,w)}}(K)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function cn(K,G){(G==null||G>K.length)&&(G=K.length);for(var w=0,B=new Array(G);w<G;w++)B[w]=K[w];return B}function Be(K,G){for(var w=0;w<G.length;w++){var B=G[w];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(K,B.key,B)}}function Mn(K,G){return(Mn=Object.setPrototypeOf||function(w,B){return w.__proto__=B,w})(K,G)}function On(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=Sn(K);if(G){var Z=Sn(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return pn(this,w)}}function pn(K,G){return!G||Je(G)!=="object"&&typeof G!="function"?function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(K):G}function Sn(K){return(Sn=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)})(K)}function Rn(K,G){return Math.sqrt((K[0]-G[0])*(K[0]-G[0])+(K[1]-G[1])*(K[1]-G[1]))}var lr=function(K){(function(_t,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");_t.prototype=Object.create(q&&q.prototype,{constructor:{value:_t,writable:!0,configurable:!0}}),q&&Mn(_t,q)})(Pt,K);var G,w,B,Z=On(Pt);function Pt(_t){var q;return function(kt,ee){if(!(kt instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,Pt),(q=Z.call(this)).maxIteration=1e3,q.focusNode=null,q.unitRadius=null,q.linkDistance=50,q.preventOverlap=!1,q.strictRadial=!0,q.maxPreventOverlapIteration=200,q.sortStrength=10,q.nodes=[],q.edges=[],q.updateCfg(_t),q}return G=Pt,(w=[{key:"getDefaultCfg",value:function(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}}},{key:"execute",value:function(){var q=this,kt=q.nodes,ee=q.edges||[];if(kt&&kt.length!==0){q.width||typeof window=="undefined"||(q.width=window.innerWidth),q.height||typeof window=="undefined"||(q.height=window.innerHeight),q.center||(q.center=[q.width/2,q.height/2]);var re=q.center;if(kt.length===1)return kt[0].x=re[0],kt[0].y=re[1],void(q.onLayoutEnd&&q.onLayoutEnd());var Te=q.linkDistance,Le=null;if(S(q.focusNode)){for(var tn=!1,_e=0;_e<kt.length;_e++)kt[_e].id===q.focusNode&&(Le=kt[_e],q.focusNode=Le,tn=!0,_e=kt.length);tn||(Le=null)}else Le=q.focusNode;Le||(Le=kt[0],q.focusNode=Le);var $e,nn,Xe,fn=($e=kt,nn=Le.id,Xe=-1,$e.forEach(function(ba,Va){ba.id===nn&&(Xe=Va)}),Xe);q.focusIndex=fn;var jn=u({nodes:kt,edges:ee},!1),er=s(jn),Gn=q.maxToFocus(er,fn);q.handleInfinity(er,fn,Gn+1),q.distances=er;var Kn=er[fn],nr=q.width||500,yr=q.height||500,Sr=nr-re[0]>re[0]?re[0]:nr-re[0],_r=yr-re[1]>re[1]?re[1]:yr-re[1];Sr===0&&(Sr=nr/2),_r===0&&(_r=yr/2);var Wr=_r>Sr?Sr:_r,Tr=Math.max.apply(Math,Ve(Kn)),Ur=[];Kn.forEach(function(ba,Va){q.unitRadius||(q.unitRadius=Wr/Tr),Ur[Va]=ba*q.unitRadius}),q.radii=Ur;var ni=q.eIdealDisMatrix();q.eIdealDistances=ni;var Gr=function(ba){for(var Va=ba.length,ts=ba[0].length,fs=[],cu=0;cu<Va;cu++){for(var lu=[],Su=0;Su<ts;Su++)ba[cu][Su]!==0?lu.push(1/(ba[cu][Su]*ba[cu][Su])):lu.push(0);fs.push(lu)}return fs}(ni);q.weights=Gr;var ki=new de({linkDistance:Te,distances:ni}).layout();ki.forEach(function(ba){T(ba[0])&&(ba[0]=Math.random()*Te),T(ba[1])&&(ba[1]=Math.random()*Te)}),q.positions=ki,ki.forEach(function(ba,Va){kt[Va].x=ba[0]+re[0],kt[Va].y=ba[1]+re[1]}),ki.forEach(function(ba){ba[0]-=ki[fn][0],ba[1]-=ki[fn][1]}),q.run();var Bi,ha=q.preventOverlap,ai=q.nodeSize,ia=q.strictRadial;if(ha){var da,ya=q.nodeSpacing;da=E(ya)?function(){return ya}:j(ya)?ya:function(){return 0},Bi=ai?h(ai)?function(ba){return(ai[0]>ai[1]?ai[0]:ai[1])+da(ba)}:function(ba){return ai+da(ba)}:function(ba){return ba.size?h(ba.size)?(ba.size[0]>ba.size[1]?ba.size[0]:ba.size[1])+da(ba):ba.size+da(ba):10+da(ba)};var Go={nodes:kt,nodeSizeFunc:Bi,adjMatrix:jn,positions:ki,radii:Ur,height:yr,width:nr,strictRadial:ia,focusID:fn,iterations:q.maxPreventOverlapIteration||200,k:ki.length/4.5},Ao=new ze(Go);ki=Ao.layout()}return ki.forEach(function(ba,Va){kt[Va].x=ba[0]+re[0],kt[Va].y=ba[1]+re[1]}),q.onLayoutEnd&&q.onLayoutEnd(),{nodes:kt,edges:ee}}q.onLayoutEnd&&q.onLayoutEnd()}},{key:"run",value:function(){for(var q=this.maxIteration,kt=this.positions||[],ee=this.weights||[],re=this.eIdealDistances||[],Te=this.radii||[],Le=0;Le<=q;Le++){var tn=Le/q;this.oneIteration(tn,kt,Te,re,ee)}}},{key:"oneIteration",value:function(q,kt,ee,re,Te){var Le=1-q,tn=this.focusIndex;kt.forEach(function(_e,$e){var nn=Rn(_e,[0,0]),Xe=nn===0?0:1/nn;if($e!==tn){var fn=0,jn=0,er=0;kt.forEach(function(Kn,nr){if($e!==nr){var yr=Rn(_e,Kn),Sr=yr===0?0:1/yr,_r=re[nr][$e];er+=Te[$e][nr],fn+=Te[$e][nr]*(Kn[0]+_r*(_e[0]-Kn[0])*Sr),jn+=Te[$e][nr]*(Kn[1]+_r*(_e[1]-Kn[1])*Sr)}});var Gn=ee[$e]===0?0:1/ee[$e];er*=Le,er+=q*Gn*Gn,fn*=Le,fn+=q*Gn*_e[0]*Xe,_e[0]=fn/er,jn*=Le,jn+=q*Gn*_e[1]*Xe,_e[1]=jn/er}})}},{key:"eIdealDisMatrix",value:function(){var q=this,kt=q.nodes;if(!kt)return[];var ee=q.distances,re=q.linkDistance,Te=q.radii||[],Le=q.unitRadius||50,tn=[];return ee&&ee.forEach(function(_e,$e){var nn=[];_e.forEach(function(Xe,fn){if($e===fn)nn.push(0);else if(Te[$e]===Te[fn])if(q.sortBy==="data")nn.push(Xe*(Math.abs($e-fn)*q.sortStrength)/(Te[$e]/Le));else if(q.sortBy){var jn=kt[$e][q.sortBy]||0,er=kt[fn][q.sortBy]||0;S(jn)&&(jn=jn.charCodeAt(0)),S(er)&&(er=er.charCodeAt(0)),nn.push(Xe*(Math.abs(jn-er)*q.sortStrength)/(Te[$e]/Le))}else nn.push(Xe*re/(Te[$e]/Le));else{var Gn=(re+Le)/2;nn.push(Xe*Gn)}}),tn.push(nn)}),tn}},{key:"handleInfinity",value:function(q,kt,ee){for(var re=q.length,Te=0;Te<re;Te++)if(q[kt][Te]===1/0){q[kt][Te]=ee,q[Te][kt]=ee;for(var Le=0;Le<re;Le++)q[Te][Le]!==1/0&&q[kt][Le]===1/0&&(q[kt][Le]=ee+q[Te][Le],q[Le][kt]=ee+q[Te][Le])}for(var tn=0;tn<re;tn++)if(tn!==kt){for(var _e=0;_e<re;_e++)if(q[tn][_e]===1/0){var $e=Math.abs(q[kt][tn]-q[kt][_e]);$e=$e===0?1:$e,q[tn][_e]=$e}}}},{key:"maxToFocus",value:function(q,kt){for(var ee=0,re=0;re<q[kt].length;re++)q[kt][re]!==1/0&&(ee=q[kt][re]>ee?q[kt][re]:ee);return ee}},{key:"getType",value:function(){return"radial"}}])&&Be(G.prototype,w),B&&Be(G,B),Pt}(x);function Fn(K){return(Fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(K)}function tr(K,G){return(tr=Object.setPrototypeOf||function(w,B){return w.__proto__=B,w})(K,G)}function me(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=we(K);if(G){var Z=we(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return Se(this,w)}}function Se(K,G){return!G||Fn(G)!=="object"&&typeof G!="function"?ke(K):G}function ke(K){if(K===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K}function we(K){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)})(K)}var Ye=new Map,un=function(G,w){if(Ye.get(G)&&console.warn("The layout with the name ".concat(G," exists already, it will be overridden")),(Z=w)!==null&&C(Z)==="object"){var B=function(Pt){(function(kt,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function");kt.prototype=Object.create(ee&&ee.prototype,{constructor:{value:kt,writable:!0,configurable:!0}}),ee&&tr(kt,ee)})(q,Pt);var _t=me(q);function q(kt){var ee;(function(tn,_e){if(!(tn instanceof _e))throw new TypeError("Cannot call a class as a function")})(this,q);var re=ke(ee=_t.call(this)),Te={},Le=re.getDefaultCfg();return Object.assign(Te,Le,w,kt),Object.keys(Te).forEach(function(tn){var _e=Te[tn];re[tn]=_e}),ee}return q}(x);Ye.set(G,B)}else Ye.set(G,w);var Z},zn=function(G){return Ye.has(G)?Ye.get(G):null};function Nn(K){return(Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(K)}function or(K,G){for(var w=0;w<G.length;w++){var B=G[w];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(K,B.key,B)}}function Rr(K,G){return(Rr=Object.setPrototypeOf||function(w,B){return w.__proto__=B,w})(K,G)}function xi(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=Kr(K);if(G){var Z=Kr(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return pi(this,w)}}function pi(K,G){return!G||Nn(G)!=="object"&&typeof G!="function"?function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(K):G}function Kr(K){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)})(K)}var Ii=function(K){(function(_t,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");_t.prototype=Object.create(q&&q.prototype,{constructor:{value:_t,writable:!0,configurable:!0}}),q&&Rr(_t,q)})(Pt,K);var G,w,B,Z=xi(Pt);function Pt(_t){var q;return function(kt,ee){if(!(kt instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,Pt),(q=Z.call(this)).nodeSize=30,q.minNodeSpacing=10,q.preventOverlap=!1,q.equidistant=!1,q.startAngle=1.5*Math.PI,q.clockwise=!0,q.sortBy="degree",q.nodes=[],q.edges=[],q.width=300,q.height=300,q.onLayoutEnd=function(){},q.updateCfg(_t),q}return G=Pt,(w=[{key:"getDefaultCfg",value:function(){return{nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}}},{key:"execute",value:function(){var q=this,kt=q.nodes,ee=q.edges,re=kt.length;if(re!==0){q.width||typeof window=="undefined"||(q.width=window.innerWidth),q.height||typeof window=="undefined"||(q.height=window.innerHeight),q.center||(q.center=[q.width/2,q.height/2]);var Te=q.center;if(re===1)return kt[0].x=Te[0],kt[0].y=Te[1],void(q.onLayoutEnd&&q.onLayoutEnd());var Le,tn=[];Le=h(q.nodeSize)?Math.max(q.nodeSize[0],q.nodeSize[1]):q.nodeSize,kt.forEach(function(Wr){tn.push(Wr);var Tr=Le;h(Wr.size)?Tr=Math.max(Wr.size[0],Wr.size[1]):E(Wr.size)&&(Tr=Wr.size),Le=Math.max(Le,Tr)}),q.clockwise=q.counterclockwise!==void 0?!q.counterclockwise:q.clockwise;var _e={},$e={};if(tn.forEach(function(Wr,Tr){_e[Wr.id]=Wr,$e[Wr.id]=Tr}),!(q.sortBy!=="degree"&&S(q.sortBy)&&tn[0][q.sortBy]!==void 0||(q.sortBy="degree",E(kt[0].degree)))){var nn=o(kt.length,$e,ee);tn.forEach(function(Wr,Tr){Wr.degree=nn[Tr]})}tn.sort(function(Wr,Tr){return Tr[q.sortBy]-Wr[q.sortBy]}),q.maxValueNode=tn[0],q.maxLevelDiff=q.maxLevelDiff||q.maxValueNode[q.sortBy]/4;var Xe=[[]],fn=Xe[0];tn.forEach(function(Wr){if(fn.length>0){var Tr=Math.abs(fn[0][q.sortBy]-Wr[q.sortBy]);q.maxLevelDiff&&Tr>=q.maxLevelDiff&&(fn=[],Xe.push(fn))}fn.push(Wr)});var jn=Le+q.minNodeSpacing;if(!q.preventOverlap){var er=Xe.length>0&&Xe[0].length>1,Gn=(Math.min(q.width,q.height)/2-jn)/(Xe.length+(er?1:0));jn=Math.min(jn,Gn)}var Kn=0;if(Xe.forEach(function(Wr){var Tr=q.sweep;Tr===void 0&&(Tr=2*Math.PI-2*Math.PI/Wr.length);var Ur=Wr.dTheta=Tr/Math.max(1,Wr.length-1);if(Wr.length>1&&q.preventOverlap){var ni=Math.cos(Ur)-Math.cos(0),Gr=Math.sin(Ur)-Math.sin(0),ki=Math.sqrt(jn*jn/(ni*ni+Gr*Gr));Kn=Math.max(ki,Kn)}Wr.r=Kn,Kn+=jn}),q.equidistant){for(var nr=0,yr=0,Sr=0;Sr<Xe.length;Sr++){var _r=Xe[Sr].r-yr;nr=Math.max(nr,_r)}yr=0,Xe.forEach(function(Wr,Tr){Tr===0&&(yr=Wr.r),Wr.r=yr,yr+=nr})}return Xe.forEach(function(Wr){var Tr=Wr.dTheta,Ur=Wr.r;Wr.forEach(function(ni,Gr){var ki=q.startAngle+(q.clockwise?1:-1)*Tr*Gr;ni.x=Te[0]+Ur*Math.cos(ki),ni.y=Te[1]+Ur*Math.sin(ki)})}),q.onLayoutEnd&&q.onLayoutEnd(),{nodes:kt,edges:ee}}q.onLayoutEnd&&q.onLayoutEnd()}},{key:"getType",value:function(){return"concentric"}}])&&or(G.prototype,w),B&&or(G,B),Pt}(x);function Gi(K){return(Gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(K)}function Si(K,G){for(var w=0;w<G.length;w++){var B=G[w];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(K,B.key,B)}}function aa(K,G){return(aa=Object.setPrototypeOf||function(w,B){return w.__proto__=B,w})(K,G)}function Xo(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=Zo(K);if(G){var Z=Zo(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return Wa(this,w)}}function Wa(K,G){return!G||Gi(G)!=="object"&&typeof G!="function"?function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(K):G}function Zo(K){return(Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)})(K)}var tu=function(K){(function(_t,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");_t.prototype=Object.create(q&&q.prototype,{constructor:{value:_t,writable:!0,configurable:!0}}),q&&aa(_t,q)})(Pt,K);var G,w,B,Z=Xo(Pt);function Pt(_t){var q;return function(kt,ee){if(!(kt instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,Pt),(q=Z.call(this)).center=[0,0],q.linkDistance=50,q.nodes=[],q.edges=[],q.onLayoutEnd=function(){},q.updateCfg(_t),q}return G=Pt,(w=[{key:"getDefaultCfg",value:function(){return{center:[0,0],linkDistance:50}}},{key:"execute",value:function(){var q=this.nodes,kt=this.edges,ee=kt===void 0?[]:kt,re=this.center;if(q&&q.length!==0){if(q.length===1)return q[0].x=re[0],q[0].y=re[1],void(this.onLayoutEnd&&this.onLayoutEnd());var Te=this.linkDistance,Le=u({nodes:q,edges:ee},!1),tn=s(Le);this.handleInfinity(tn);var _e,$e,nn=(_e=Te,$e=[],tn.forEach(function(fn){var jn=[];fn.forEach(function(er){jn.push(er*_e)}),$e.push(jn)}),$e);this.scaledDistances=nn;var Xe=this.runMDS();return this.positions=Xe,Xe.forEach(function(fn,jn){q[jn].x=fn[0]+re[0],q[jn].y=fn[1]+re[1]}),this.onLayoutEnd&&this.onLayoutEnd(),{nodes:q,edges:ee}}this.onLayoutEnd&&this.onLayoutEnd()}},{key:"runMDS",value:function(){var q=this.scaledDistances,kt=En.mul(En.pow(q,2),-.5),ee=kt.mean("row"),re=kt.mean("column"),Te=kt.mean();kt.add(Te).subRowVector(ee).subColumnVector(re);var Le=new pe(kt),tn=En.sqrt(Le.diagonalMatrix).diagonal();return Le.leftSingularVectors.toJSON().map(function(_e){return En.mul([_e],[tn]).toJSON()[0].splice(0,2)})}},{key:"handleInfinity",value:function(q){var kt=-999999;q.forEach(function(ee){ee.forEach(function(re){re!==1/0&&kt<re&&(kt=re)})}),q.forEach(function(ee,re){ee.forEach(function(Te,Le){Te===1/0&&(q[re][Le]=kt)})})}},{key:"getType",value:function(){return"mds"}}])&&Si(G.prototype,w),B&&Si(G,B),Pt}(x);function Ho(K){return(Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(K)}function Ta(K,G){for(var w=0;w<G.length;w++){var B=G[w];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(K,B.key,B)}}function Ha(K,G){return(Ha=Object.setPrototypeOf||function(w,B){return w.__proto__=B,w})(K,G)}function So(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=hs(K);if(G){var Z=hs(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return ss(this,w)}}function ss(K,G){return!G||Ho(G)!=="object"&&typeof G!="function"?function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(K):G}function hs(K){return(hs=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)})(K)}var us=function(K){(function(_t,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");_t.prototype=Object.create(q&&q.prototype,{constructor:{value:_t,writable:!0,configurable:!0}}),q&&Ha(_t,q)})(Pt,K);var G,w,B,Z=So(Pt);function Pt(_t){var q;return function(kt,ee){if(!(kt instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,Pt),(q=Z.call(this)).maxIteration=1e3,q.gravity=10,q.speed=1,q.clustering=!1,q.clusterGravity=10,q.nodes=[],q.edges=[],q.width=300,q.height=300,q.nodeMap={},q.nodeIdxMap={},q.onLayoutEnd=function(){},q.updateCfg(_t),q}return G=Pt,(w=[{key:"getDefaultCfg",value:function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}},{key:"execute",value:function(){var q=this,kt=this.nodes;if(kt&&kt.length!==0){this.width||typeof window=="undefined"||(this.width=window.innerWidth),this.height||typeof window=="undefined"||(this.height=window.innerHeight),this.center||(this.center=[this.width/2,this.height/2]);var ee=this.center;if(kt.length===1)return kt[0].x=ee[0],kt[0].y=ee[1],void(this.onLayoutEnd&&this.onLayoutEnd());var re={},Te={};return kt.forEach(function(Le,tn){E(Le.x)||(Le.x=Math.random()*q.width),E(Le.y)||(Le.y=Math.random()*q.height),re[Le.id]=Le,Te[Le.id]=tn}),this.nodeMap=re,this.nodeIdxMap=Te,this.run()}this.onLayoutEnd&&this.onLayoutEnd()}},{key:"run",value:function(){var q=this,kt=q.nodes,ee=q.edges,re=q.maxIteration,Te=q.center,Le=q.height*q.width,tn=Math.sqrt(Le)/10,_e=Le/(kt.length+1),$e=Math.sqrt(_e),nn=q.gravity,Xe=q.speed,fn=q.clustering,jn={};if(fn)for(var er in kt.forEach(function(nr){if(jn[nr.cluster]===void 0){var yr={name:nr.cluster,cx:0,cy:0,count:0};jn[nr.cluster]=yr}var Sr=jn[nr.cluster];E(nr.x)&&(Sr.cx+=nr.x),E(nr.y)&&(Sr.cy+=nr.y),Sr.count++}),jn)jn[er].cx/=jn[er].count,jn[er].cy/=jn[er].count;for(var Gn=function(yr){var Sr=[];if(kt.forEach(function(Ur,ni){Sr[ni]={x:0,y:0}}),q.applyCalculate(kt,ee,Sr,$e,_e),fn){var _r=q.clusterGravity||nn;for(var Wr in kt.forEach(function(Ur,ni){if(E(Ur.x)&&E(Ur.y)){var Gr=jn[Ur.cluster],ki=Math.sqrt((Ur.x-Gr.cx)*(Ur.x-Gr.cx)+(Ur.y-Gr.cy)*(Ur.y-Gr.cy)),Bi=$e*_r;Sr[ni].x-=Bi*(Ur.x-Gr.cx)/ki,Sr[ni].y-=Bi*(Ur.y-Gr.cy)/ki}}),jn)jn[Wr].cx=0,jn[Wr].cy=0,jn[Wr].count=0;for(var Tr in kt.forEach(function(Ur){var ni=jn[Ur.cluster];E(Ur.x)&&(ni.cx+=Ur.x),E(Ur.y)&&(ni.cy+=Ur.y),ni.count++}),jn)jn[Tr].cx/=jn[Tr].count,jn[Tr].cy/=jn[Tr].count}kt.forEach(function(Ur,ni){if(E(Ur.x)&&E(Ur.y)){var Gr=.01*$e*nn;Sr[ni].x-=Gr*(Ur.x-Te[0]),Sr[ni].y-=Gr*(Ur.y-Te[1])}}),kt.forEach(function(Ur,ni){if(E(Ur.x)&&E(Ur.y)){var Gr=Math.sqrt(Sr[ni].x*Sr[ni].x+Sr[ni].y*Sr[ni].y);if(Gr>0){var ki=Math.min(tn*(Xe/800),Gr);Ur.x+=Sr[ni].x/Gr*ki,Ur.y+=Sr[ni].y/Gr*ki}}})},Kn=0;Kn<re;Kn++)Gn();return q.onLayoutEnd&&q.onLayoutEnd(),{nodes:kt,edges:ee}}},{key:"applyCalculate",value:function(q,kt,ee,re,Te){this.calRepulsive(q,ee,Te),this.calAttractive(kt,ee,re)}},{key:"calRepulsive",value:function(q,kt,ee){q.forEach(function(re,Te){kt[Te]={x:0,y:0},q.forEach(function(Le,tn){if(Te!==tn&&E(re.x)&&E(Le.x)&&E(re.y)&&E(Le.y)){var _e=re.x-Le.x,$e=re.y-Le.y,nn=_e*_e+$e*$e;if(nn===0){nn=1;var Xe=Te>tn?1:-1;_e=.01*Xe,$e=.01*Xe}var fn=ee/nn;kt[Te].x+=_e*fn,kt[Te].y+=$e*fn}})})}},{key:"calAttractive",value:function(q,kt,ee){var re=this;q.forEach(function(Te){if(Te.source&&Te.target){var Le=re.nodeIdxMap[Te.source],tn=re.nodeIdxMap[Te.target];if(Le!==tn){var _e=re.nodeMap[Te.source],$e=re.nodeMap[Te.target];if(E($e.x)&&E(_e.x)&&E($e.y)&&E(_e.y)){var nn=$e.x-_e.x,Xe=$e.y-_e.y,fn=Math.sqrt(nn*nn+Xe*Xe),jn=fn*fn/ee;kt[tn].x-=nn/fn*jn,kt[tn].y-=Xe/fn*jn,kt[Le].x+=nn/fn*jn,kt[Le].y+=Xe/fn*jn}}}})}},{key:"getType",value:function(){return"fruchterman"}}])&&Ta(G.prototype,w),B&&Ta(G,B),Pt}(x),Rs=t(12),Hi=t.n(Rs),yc=t(6),ua=t.n(yc),Cu=t(8),ja=t.n(Cu),zu=t(13),fa=t.n(zu),Cr=(t(30),t(217),t(9)),gr=t.n(Cr),zr=t(15),qr=t.n(zr),Ka=1;function so(){return Ka++}var xo=function K(G){ua()(this,K)},co=function(){function K(w){ua()(this,K),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=w}var G;return ja()(K,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(B){return this.lookup[B]>-1}},{key:"create",value:function(B,Z){this.lookup[B]=this.components.length;var Pt=new this.clazz(Z||{});return this.components.push(Pt),this.entities.push(B),Pt}},{key:"remove",value:function(B){var Z=this.lookup[B];Z>-1&&Z<this.components.length-1&&(this.components[Z]=this.components[this.components.length-1],this.entities[Z]=this.entities[this.entities.length-1],this.lookup[this.entities[Z]]=Z),this.components.pop(),this.entities.pop(),delete this.lookup[B]}},{key:"removeKeepSorted",value:function(B){var Z=this.lookup[B];if(Z>-1){var Pt=this.entities[Z];if(Z<this.components.length-1){for(var _t=Z+1;_t<this.components.length;++_t)this.components[_t-1]=this.components[_t];for(var q=Z+1;q<this.entities.length;++q)this.entities[q-1]=this.entities[q],this.lookup[this.entities[q-1]]=q-1}this.components.pop(),this.entities.pop(),delete this.lookup[Pt]}}},{key:"moveItem",value:function(B,Z){if(B!==Z){for(var Pt=this.components[B],_t=this.entities[B],q=B<Z?1:-1,kt=B;kt!==Z;kt+=q){var ee=kt+q;this.components[kt]=this.components[ee],this.entities[kt]=this.entities[ee],this.lookup[this.entities[kt]]=kt}this.components[Z]=Pt,this.entities[Z]=_t,this.lookup[_t]=Z}}},{key:"getEntity",value:function(B){return this.entities[B]}},{key:"getComponent",value:function(B){return this.components[B]}},{key:"getComponentByEntity",value:function(B){var Z=this.lookup[B];return Z>-1?this.components[Z]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(B){for(var Z=0,Pt=Object.keys(this.lookup);Z<Pt.length;Z++){var _t=Pt[Z],q=Number(_t);if(this.lookup[q]===B)return q}return-1}},{key:"find",value:function(B){for(var Z=0;Z<this.getCount();Z++){var Pt=this.getComponent(Z);if(B(Pt,Z))return Pt}return null}},{key:"findIndex",value:function(B){for(var Z=0;Z<this.getCount();Z++)if(B(this.getComponent(Z),Z))return Z;return-1}},{key:"forEach",value:function(B){for(var Z=0,Pt=Object.keys(this.lookup);Z<Pt.length;Z++){var _t=Pt[Z],q=Number(_t),kt=this.lookup[q];B(q,this.getComponent(kt))}}},{key:"forEachAsync",value:(G=qr()(gr.a.mark(function w(B){var Z,Pt,_t,q,kt;return gr.a.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:Z=0,Pt=Object.keys(this.lookup);case 1:if(!(Z<Pt.length)){ee.next=10;break}return _t=Pt[Z],q=Number(_t),kt=this.lookup[q],ee.next=7,B(q,this.getComponent(kt));case 7:Z++,ee.next=1;break;case 10:case"end":return ee.stop()}},w,this)})),function(w){return G.apply(this,arguments)})},{key:"map",value:function(B){for(var Z=[],Pt=0,_t=Object.keys(this.lookup);Pt<_t.length;Pt++){var q=_t[Pt],kt=Number(q),ee=this.lookup[kt];Z.push(B(kt,this.getComponent(ee)))}return Z}}]),K}(),hu=t(60),Wu=t.n(hu),ui=t(4),Jr={HierarchyComponentManager:Symbol("HierarchyComponentManager"),TransformComponentManager:Symbol("TransformComponentManager"),NameComponentManager:Symbol("NameComponentManager"),SceneGraphSystem:Symbol("SceneGraphSystem"),FrameGraphSystem:Symbol("FrameGraphSystem"),ResourcePool:Symbol("ResourcePool"),ResourceHandleComponentManager:Symbol("ResourceHandleComponentManager"),PassNodeComponentManager:Symbol("PassNodeComponentManager"),RendererSystem:Symbol("RendererSystem"),RenderPass:Symbol("RenderPass"),RenderPassFactory:Symbol("Factory<IRenderPass>"),Renderable:Symbol("Factory<IRenderPass>"),MeshSystem:Symbol("MeshSystem"),MeshComponentManager:Symbol("MeshComponentManager"),CullableComponentManager:Symbol("CullableComponentManager"),GeometrySystem:Symbol("GeometrySystem"),GeometryComponentManager:Symbol("GeometryComponentManager"),MaterialSystem:Symbol("MaterialSystem"),MaterialComponentManager:Symbol("MaterialComponentManager"),ForwardRenderPath:Symbol("ForwardRenderPath"),ComputeSystem:Symbol("ComputeSystem"),ComputeComponentManager:Symbol("ComputeComponentManager"),ComputeStrategy:Symbol("ComputeStrategy"),Systems:Symbol("Systems"),World:Symbol("World"),RenderEngine:Symbol("RenderEngine"),WebGPUEngine:Symbol("WebGPUEngine"),WebGLEngine:Symbol("WebGLEngine"),ShaderModuleService:Symbol("ShaderModuleService"),ConfigService:Symbol("ConfigService"),InteractorService:Symbol("InteractorService"),IEventEmitter:Symbol("IEventEmitter"),Light:Symbol("Light")},Gs=function K(){ua()(this,K),this.index=void 0},Mu=function K(){ua()(this,K),this.name=void 0,this.data=void 0,this.execute=void 0,this.tearDown=void 0},Au=function(){function K(){ua()(this,K),this.name=void 0,this.refCount=0,this.hasSideEffect=!1,this.devirtualize=[],this.destroy=[],this.reads=[],this.writes=[]}return ja()(K,[{key:"read",value:function(w){return this.reads.find(function(B){return B.index===w.index})||this.reads.push(w),w}},{key:"sample",value:function(w){return this.read(w),w}},{key:"write",value:function(w,B){if(this.writes.find(function(_t){return _t.index===B.index}))return B;var Z=w.getResourceNode(B);Z.resource.version++,Z.resource.imported&&(this.hasSideEffect=!0);var Pt=w.createResourceNode(Z.resource);return w.getResourceNode(Pt).writer=this,this.writes.push(Pt),Pt}}]),K}(),eu=t(27),lo=t.n(eu),tc=t(28),ds=t.n(tc),Us=t(21),Uo=t.n(Us);function bc(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=Uo()(K);if(G){var Z=Uo()(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return ds()(this,w)}}var nu,gs,ks,ru,xe,rn=function(K){lo()(w,K);var G=bc(w);function w(){var B;ua()(this,w);for(var Z=arguments.length,Pt=new Array(Z),_t=0;_t<Z;_t++)Pt[_t]=arguments[_t];return(B=G.call.apply(G,[this].concat(Pt))).version=0,B.refs=0,B.name=void 0,B.imported=void 0,B.priority=void 0,B.discardStart=!0,B.discardEnd=!1,B.descriptor=void 0,B.resource=void 0,B}return ja()(w,[{key:"preExecuteDestroy",value:function(){this.discardEnd=!0}},{key:"postExecuteDestroy",value:function(){this.imported}},{key:"postExecuteDevirtualize",value:function(){this.discardStart=!1}},{key:"preExecuteDevirtualize",value:function(){this.imported}}]),w}(function K(){ua()(this,K),this.first=void 0,this.last=void 0}),bn=function K(){ua()(this,K),this.resource=void 0,this.writer=void 0,this.readerCount=0,this.version=void 0};function Ge(K,G){var w;if(typeof Symbol=="undefined"||K[Symbol.iterator]==null){if(Array.isArray(K)||(w=function(kt,ee){if(!!kt){if(typeof kt=="string")return Fe(kt,ee);var re=Object.prototype.toString.call(kt).slice(8,-1);if(re==="Object"&&kt.constructor&&(re=kt.constructor.name),re==="Map"||re==="Set")return Array.from(kt);if(re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re))return Fe(kt,ee)}}(K))||G&&K&&typeof K.length=="number"){w&&(K=w);var B=0,Z=function(){};return{s:Z,n:function(){return B>=K.length?{done:!0}:{done:!1,value:K[B++]}},e:function(ee){throw ee},f:Z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Pt,_t=!0,q=!1;return{s:function(){w=K[Symbol.iterator]()},n:function(){var ee=w.next();return _t=ee.done,ee},e:function(ee){q=!0,Pt=ee},f:function(){try{_t||w.return==null||w.return()}finally{if(q)throw Pt}}}}function Fe(K,G){(G==null||G>K.length)&&(G=K.length);for(var w=0,B=new Array(G);w<G;w++)B[w]=K[w];return B}var wn=(nu=Object(ui.injectable)(),gs=Object(ui.inject)(Jr.RenderEngine),nu((ru=function(){function K(){ua()(this,K),this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[],Hi()(this,"engine",xe,this)}var G,w;return ja()(K,[{key:"execute",value:(w=qr()(gr.a.mark(function B(Z){return gr.a.wrap(function(Pt){for(;;)switch(Pt.prev=Pt.next){case 0:return this.compile(),Pt.next=3,this.executePassNodes(Z);case 3:case"end":return Pt.stop()}},B,this)})),function(B){return w.apply(this,arguments)})},{key:"tearDown",value:function(){this.frameGraphPasses.forEach(function(Z){Z.tearDown&&Z.tearDown()}),this.reset()}},{key:"addPass",value:function(Z,Pt,_t,q){var kt=new Mu;kt.execute=_t,q&&(kt.tearDown=q),kt.name=Z;var ee=new Au;return ee.name=Z,this.passNodes.push(ee),this.frameGraphPasses.push(kt),Pt(this,ee,kt),kt}},{key:"getPass",value:function(Z){return this.frameGraphPasses.find(function(Pt){return Pt.name===Z})}},{key:"compile",value:function(){var Z,Pt=this,_t=Ge(this.passNodes);try{for(_t.s();!(Z=_t.n()).done;){var q=Z.value;q.refCount=q.writes.length+(q.hasSideEffect?1:0),q.reads.forEach(function(ai){Pt.resourceNodes[ai.index].readerCount++})}}catch(ai){_t.e(ai)}finally{_t.f()}var kt,ee=[],re=Ge(this.resourceNodes);try{for(re.s();!(kt=re.n()).done;){var Te=kt.value;Te.readerCount===0&&ee.push(Te)}}catch(ai){re.e(ai)}finally{re.f()}for(;ee.length;){var Le=ee.pop(),tn=Le&&Le.writer;if(tn&&--tn.refCount==0){var _e,$e=Ge(tn.reads);try{for($e.s();!(_e=$e.n()).done;){var nn=_e.value,Xe=this.resourceNodes[nn.index];--Xe.readerCount==0&&ee.push(Xe)}}catch(ai){$e.e(ai)}finally{$e.f()}}}this.resourceNodes.forEach(function(ai){ai.resource.refs+=ai.readerCount});var fn,jn=Ge(this.passNodes);try{for(jn.s();!(fn=jn.n()).done;){var er=fn.value;if(er.refCount){var Gn,Kn=Ge(er.reads);try{for(Kn.s();!(Gn=Kn.n()).done;){var nr=Gn.value,yr=this.resourceNodes[nr.index].resource;yr.first=yr.first?yr.first:er,yr.last=er}}catch(ai){Kn.e(ai)}finally{Kn.f()}var Sr,_r=Ge(er.writes);try{for(_r.s();!(Sr=_r.n()).done;){var Wr=Sr.value,Tr=this.resourceNodes[Wr.index].resource;Tr.first=Tr.first?Tr.first:er,Tr.last=er}}catch(ai){_r.e(ai)}finally{_r.f()}}}}catch(ai){jn.e(ai)}finally{jn.f()}for(var Ur=0;Ur<2;Ur++){var ni,Gr=Ge(this.resourceNodes);try{for(Gr.s();!(ni=Gr.n()).done;){var ki=ni.value.resource;if(ki.priority===Ur&&ki.refs){var Bi=ki.first,ha=ki.last;Bi&&ha&&(Bi.devirtualize.push(ki),ha.destroy.push(ki))}}}catch(ai){Gr.e(ai)}finally{Gr.f()}}}},{key:"executePassNodes",value:(G=qr()(gr.a.mark(function B(Z){var Pt,_t,q,kt,ee,re,Te,Le,tn,_e,$e,nn,Xe;return gr.a.wrap(function(fn){for(;;)switch(fn.prev=fn.next){case 0:Pt=Ge(this.passNodes.entries()),fn.prev=1,Pt.s();case 3:if((_t=Pt.n()).done){fn.next=18;break}if(q=Wu()(_t.value,2),kt=q[0],!(ee=q[1]).refCount){fn.next=16;break}re=Ge(ee.devirtualize);try{for(re.s();!(Te=re.n()).done;)Te.value.preExecuteDevirtualize(this.engine)}catch(jn){re.e(jn)}finally{re.f()}Le=Ge(ee.destroy);try{for(Le.s();!(tn=Le.n()).done;)tn.value.preExecuteDestroy(this.engine)}catch(jn){Le.e(jn)}finally{Le.f()}return fn.next=12,this.frameGraphPasses[kt].execute(this,this.frameGraphPasses[kt],Z);case 12:_e=Ge(ee.devirtualize);try{for(_e.s();!($e=_e.n()).done;)$e.value.postExecuteDevirtualize(this.engine)}catch(jn){_e.e(jn)}finally{_e.f()}nn=Ge(ee.destroy);try{for(nn.s();!(Xe=nn.n()).done;)Xe.value.postExecuteDestroy(this.engine)}catch(jn){nn.e(jn)}finally{nn.f()}case 16:fn.next=3;break;case 18:fn.next=23;break;case 20:fn.prev=20,fn.t0=fn.catch(1),Pt.e(fn.t0);case 23:return fn.prev=23,Pt.f(),fn.finish(23);case 26:this.reset();case 27:case"end":return fn.stop()}},B,this,[[1,20,23,26]])})),function(B){return G.apply(this,arguments)})},{key:"reset",value:function(){this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[]}},{key:"getResourceNode",value:function(Z){return this.resourceNodes[Z.index]}},{key:"createResourceNode",value:function(Z){var Pt=new bn;Pt.resource=Z,Pt.version=Z.version,this.resourceNodes.push(Pt);var _t=new Gs;return _t.index=this.resourceNodes.length-1,_t}},{key:"createTexture",value:function(Z,Pt,_t){var q=new rn;return q.name=Pt,q.descriptor=_t,this.createResourceNode(q)}},{key:"createRenderTarget",value:function(Z,Pt,_t){var q=new rn;return q.name=Pt,q.descriptor=_t,this.createResourceNode(q)}},{key:"present",value:function(Z){this.addPass("Present",function(Pt,_t){_t.read(Z),_t.hasSideEffect=!0},qr()(gr.a.mark(function Pt(){return gr.a.wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:case"end":return _t.stop()}},Pt)})))}}]),K}(),xe=fa()(ru.prototype,"engine",[gs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ks=ru))||ks),Ln=t(3),Ze=t.n(Ln),Vn=t(25),Zn=t.n(Vn);function hr(K,G){var w=Object.keys(K);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(K);G&&(B=B.filter(function(Z){return Object.getOwnPropertyDescriptor(K,Z).enumerable})),w.push.apply(w,B)}return w}function rr(K){for(var G=1;G<arguments.length;G++){var w=arguments[G]!=null?arguments[G]:{};G%2?hr(Object(w),!0).forEach(function(B){Ze()(K,B,w[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(w)):hr(Object(w)).forEach(function(B){Object.defineProperty(K,B,Object.getOwnPropertyDescriptor(w,B))})}return K}function Ir(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=Uo()(K);if(G){var Z=Uo()(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return ds()(this,w)}}var yn,oe,Oi,ei,Zr,di,ri,_i,na,pa=function(K){lo()(w,K);var G=Ir(w);function w(B){var Z;return ua()(this,w),(Z=G.call(this,B)).dirty=!0,Z.attributes=[],Z.indices=void 0,Z.indicesBuffer=void 0,Z.vertexCount=void 0,Z.maxInstancedCount=void 0,Z.aabb=void 0,Object.assign(Zn()(Z),B),Z}return ja()(w,[{key:"setAttribute",value:function(Z,Pt,_t,q){var kt=this.attributes.find(function(ee){return ee.name===Z});return kt?(kt.data=Pt,kt.dirty=!0):this.attributes.push(rr(rr({dirty:!0,name:Z,data:Pt},_t),{},{bufferGetter:q})),this.dirty=!0,this}},{key:"setIndex",value:function(Z){return this.indices=new Uint32Array(Z.buffer?Z.buffer:Z),this.dirty=!0,this}}]),w}(xo),Pn=(t(226),t(2)),Ui=function(){function K(G,w){ua()(this,K),this.center=void 0,this.halfExtents=void 0,this.min=Pn.e.create(),this.max=Pn.e.create(),this.update(G,w)}return ja()(K,[{key:"update",value:function(w,B){this.center=w||Pn.e.create(),this.halfExtents=B||Pn.e.fromValues(.5,.5,.5),this.min=Pn.e.sub(this.min,this.center,this.halfExtents),this.max=Pn.e.add(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(w,B){Pn.e.add(this.center,B,w),Pn.e.scale(this.center,this.center,.5),Pn.e.sub(this.halfExtents,B,w),Pn.e.scale(this.halfExtents,this.halfExtents,.5),Pn.e.copy(this.min,w),Pn.e.copy(this.max,B)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(w){var B=this.center,Z=B[0],Pt=B[1],_t=B[2],q=this.halfExtents,kt=q[0],ee=q[1],re=q[2],Te=Z-kt,Le=Z+kt,tn=Pt-ee,_e=Pt+ee,$e=_t-re,nn=_t+re,Xe=w.center,fn=Xe[0],jn=Xe[1],er=Xe[2],Gn=w.halfExtents,Kn=Gn[0],nr=Gn[1],yr=Gn[2],Sr=fn-Kn,_r=fn+Kn,Wr=jn-nr,Tr=jn+nr,Ur=er-yr,ni=er+yr;Sr<Te&&(Te=Sr),_r>Le&&(Le=_r),Wr<tn&&(tn=Wr),Tr>_e&&(_e=Tr),Ur<$e&&($e=Ur),ni>nn&&(nn=ni),B[0]=.5*(Te+Le),B[1]=.5*(tn+_e),B[2]=.5*($e+nn),q[0]=.5*(Le-Te),q[1]=.5*(_e-tn),q[2]=.5*(nn-$e),this.min[0]=Te,this.min[1]=tn,this.min[2]=$e,this.max[0]=Le,this.max[1]=_e,this.max[2]=nn}},{key:"intersects",value:function(w){var B=this.getMax(),Z=this.getMin(),Pt=w.getMax(),_t=w.getMin();return Z[0]<=Pt[0]&&B[0]>=_t[0]&&Z[1]<=Pt[1]&&B[1]>=_t[1]&&Z[2]<=Pt[2]&&B[2]>=_t[2]}},{key:"containsPoint",value:function(w){var B=this.getMin(),Z=this.getMax();return!(w[0]<B[0]||w[0]>Z[0]||w[1]<B[1]||w[1]>Z[1]||w[2]<B[2]||w[2]>Z[2])}},{key:"getNegativeFarPoint",value:function(w){return w.pnVertexFlag===273?Pn.e.copy(Pn.e.create(),this.min):w.pnVertexFlag===272?Pn.e.fromValues(this.min[0],this.min[1],this.max[2]):w.pnVertexFlag===257?Pn.e.fromValues(this.min[0],this.max[1],this.min[2]):w.pnVertexFlag===256?Pn.e.fromValues(this.min[0],this.max[1],this.max[2]):w.pnVertexFlag===17?Pn.e.fromValues(this.max[0],this.min[1],this.min[2]):w.pnVertexFlag===16?Pn.e.fromValues(this.max[0],this.min[1],this.max[2]):w.pnVertexFlag===1?Pn.e.fromValues(this.max[0],this.max[1],this.min[2]):Pn.e.fromValues(this.max[0],this.max[1],this.max[2])}},{key:"getPositiveFarPoint",value:function(w){return w.pnVertexFlag===273?Pn.e.copy(Pn.e.create(),this.max):w.pnVertexFlag===272?Pn.e.fromValues(this.max[0],this.max[1],this.min[2]):w.pnVertexFlag===257?Pn.e.fromValues(this.max[0],this.min[1],this.max[2]):w.pnVertexFlag===256?Pn.e.fromValues(this.max[0],this.min[1],this.min[2]):w.pnVertexFlag===17?Pn.e.fromValues(this.min[0],this.max[1],this.max[2]):w.pnVertexFlag===16?Pn.e.fromValues(this.min[0],this.max[1],this.min[2]):w.pnVertexFlag===1?Pn.e.fromValues(this.min[0],this.min[1],this.max[2]):Pn.e.fromValues(this.min[0],this.min[1],this.min[2])}}]),K}();function za(K){for(var G=new Ui,w=Pn.e.fromValues(K[0],K[1],K[2]),B=Pn.e.fromValues(K[0],K[1],K[2]),Z=3;Z<K.length;){var Pt=K[Z++],_t=K[Z++],q=K[Z++];Pt<w[0]&&(w[0]=Pt),_t<w[1]&&(w[1]=_t),q<w[2]&&(w[2]=q),Pt>B[0]&&(B[0]=Pt),_t>B[1]&&(B[1]=_t),q>B[2]&&(B[2]=q)}return G.setMinMax(w,B),G}(oe=yn||(yn={}))[oe.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",oe[oe.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",oe[oe.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",oe[oe.POINTS=0]="POINTS",oe[oe.LINES=1]="LINES",oe[oe.LINE_LOOP=2]="LINE_LOOP",oe[oe.LINE_STRIP=3]="LINE_STRIP",oe[oe.TRIANGLES=4]="TRIANGLES",oe[oe.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",oe[oe.TRIANGLE_FAN=6]="TRIANGLE_FAN",oe[oe.ZERO=0]="ZERO",oe[oe.ONE=1]="ONE",oe[oe.SRC_COLOR=768]="SRC_COLOR",oe[oe.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",oe[oe.SRC_ALPHA=770]="SRC_ALPHA",oe[oe.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",oe[oe.DST_ALPHA=772]="DST_ALPHA",oe[oe.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",oe[oe.DST_COLOR=774]="DST_COLOR",oe[oe.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",oe[oe.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",oe[oe.FUNC_ADD=32774]="FUNC_ADD",oe[oe.BLEND_EQUATION=32777]="BLEND_EQUATION",oe[oe.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",oe[oe.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",oe[oe.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",oe[oe.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",oe[oe.MAX_EXT=32776]="MAX_EXT",oe[oe.MIN_EXT=32775]="MIN_EXT",oe[oe.BLEND_DST_RGB=32968]="BLEND_DST_RGB",oe[oe.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",oe[oe.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",oe[oe.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",oe[oe.CONSTANT_COLOR=32769]="CONSTANT_COLOR",oe[oe.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",oe[oe.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",oe[oe.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",oe[oe.BLEND_COLOR=32773]="BLEND_COLOR",oe[oe.ARRAY_BUFFER=34962]="ARRAY_BUFFER",oe[oe.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",oe[oe.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",oe[oe.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",oe[oe.STREAM_DRAW=35040]="STREAM_DRAW",oe[oe.STATIC_DRAW=35044]="STATIC_DRAW",oe[oe.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",oe[oe.BUFFER_SIZE=34660]="BUFFER_SIZE",oe[oe.BUFFER_USAGE=34661]="BUFFER_USAGE",oe[oe.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",oe[oe.FRONT=1028]="FRONT",oe[oe.BACK=1029]="BACK",oe[oe.FRONT_AND_BACK=1032]="FRONT_AND_BACK",oe[oe.CULL_FACE=2884]="CULL_FACE",oe[oe.BLEND=3042]="BLEND",oe[oe.DITHER=3024]="DITHER",oe[oe.STENCIL_TEST=2960]="STENCIL_TEST",oe[oe.DEPTH_TEST=2929]="DEPTH_TEST",oe[oe.SCISSOR_TEST=3089]="SCISSOR_TEST",oe[oe.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",oe[oe.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",oe[oe.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",oe[oe.NO_ERROR=0]="NO_ERROR",oe[oe.INVALID_ENUM=1280]="INVALID_ENUM",oe[oe.INVALID_VALUE=1281]="INVALID_VALUE",oe[oe.INVALID_OPERATION=1282]="INVALID_OPERATION",oe[oe.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",oe[oe.CW=2304]="CW",oe[oe.CCW=2305]="CCW",oe[oe.LINE_WIDTH=2849]="LINE_WIDTH",oe[oe.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",oe[oe.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",oe[oe.CULL_FACE_MODE=2885]="CULL_FACE_MODE",oe[oe.FRONT_FACE=2886]="FRONT_FACE",oe[oe.DEPTH_RANGE=2928]="DEPTH_RANGE",oe[oe.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",oe[oe.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",oe[oe.DEPTH_FUNC=2932]="DEPTH_FUNC",oe[oe.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",oe[oe.STENCIL_FUNC=2962]="STENCIL_FUNC",oe[oe.STENCIL_FAIL=2964]="STENCIL_FAIL",oe[oe.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",oe[oe.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",oe[oe.STENCIL_REF=2967]="STENCIL_REF",oe[oe.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",oe[oe.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",oe[oe.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",oe[oe.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",oe[oe.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",oe[oe.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",oe[oe.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",oe[oe.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",oe[oe.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",oe[oe.VIEWPORT=2978]="VIEWPORT",oe[oe.SCISSOR_BOX=3088]="SCISSOR_BOX",oe[oe.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",oe[oe.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",oe[oe.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",oe[oe.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",oe[oe.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",oe[oe.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",oe[oe.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",oe[oe.RED_BITS=3410]="RED_BITS",oe[oe.GREEN_BITS=3411]="GREEN_BITS",oe[oe.BLUE_BITS=3412]="BLUE_BITS",oe[oe.ALPHA_BITS=3413]="ALPHA_BITS",oe[oe.DEPTH_BITS=3414]="DEPTH_BITS",oe[oe.STENCIL_BITS=3415]="STENCIL_BITS",oe[oe.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",oe[oe.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",oe[oe.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",oe[oe.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",oe[oe.SAMPLES=32937]="SAMPLES",oe[oe.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",oe[oe.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",oe[oe.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",oe[oe.DONT_CARE=4352]="DONT_CARE",oe[oe.FASTEST=4353]="FASTEST",oe[oe.NICEST=4354]="NICEST",oe[oe.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",oe[oe.BYTE=5120]="BYTE",oe[oe.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",oe[oe.SHORT=5122]="SHORT",oe[oe.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",oe[oe.INT=5124]="INT",oe[oe.UNSIGNED_INT=5125]="UNSIGNED_INT",oe[oe.FLOAT=5126]="FLOAT",oe[oe.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",oe[oe.ALPHA=6406]="ALPHA",oe[oe.RGB=6407]="RGB",oe[oe.RGBA=6408]="RGBA",oe[oe.LUMINANCE=6409]="LUMINANCE",oe[oe.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",oe[oe.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",oe[oe.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",oe[oe.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",oe[oe.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",oe[oe.VERTEX_SHADER=35633]="VERTEX_SHADER",oe[oe.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",oe[oe.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",oe[oe.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",oe[oe.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",oe[oe.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",oe[oe.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",oe[oe.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",oe[oe.SHADER_TYPE=35663]="SHADER_TYPE",oe[oe.DELETE_STATUS=35712]="DELETE_STATUS",oe[oe.LINK_STATUS=35714]="LINK_STATUS",oe[oe.VALIDATE_STATUS=35715]="VALIDATE_STATUS",oe[oe.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",oe[oe.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",oe[oe.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",oe[oe.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",oe[oe.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",oe[oe.NEVER=512]="NEVER",oe[oe.LESS=513]="LESS",oe[oe.EQUAL=514]="EQUAL",oe[oe.LEQUAL=515]="LEQUAL",oe[oe.GREATER=516]="GREATER",oe[oe.NOTEQUAL=517]="NOTEQUAL",oe[oe.GEQUAL=518]="GEQUAL",oe[oe.ALWAYS=519]="ALWAYS",oe[oe.KEEP=7680]="KEEP",oe[oe.REPLACE=7681]="REPLACE",oe[oe.INCR=7682]="INCR",oe[oe.DECR=7683]="DECR",oe[oe.INVERT=5386]="INVERT",oe[oe.INCR_WRAP=34055]="INCR_WRAP",oe[oe.DECR_WRAP=34056]="DECR_WRAP",oe[oe.VENDOR=7936]="VENDOR",oe[oe.RENDERER=7937]="RENDERER",oe[oe.VERSION=7938]="VERSION",oe[oe.NEAREST=9728]="NEAREST",oe[oe.LINEAR=9729]="LINEAR",oe[oe.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",oe[oe.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",oe[oe.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",oe[oe.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",oe[oe.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",oe[oe.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",oe[oe.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",oe[oe.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",oe[oe.TEXTURE_2D=3553]="TEXTURE_2D",oe[oe.TEXTURE=5890]="TEXTURE",oe[oe.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",oe[oe.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",oe[oe.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",oe[oe.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",oe[oe.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",oe[oe.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",oe[oe.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",oe[oe.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",oe[oe.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",oe[oe.TEXTURE0=33984]="TEXTURE0",oe[oe.TEXTURE1=33985]="TEXTURE1",oe[oe.TEXTURE2=33986]="TEXTURE2",oe[oe.TEXTURE3=33987]="TEXTURE3",oe[oe.TEXTURE4=33988]="TEXTURE4",oe[oe.TEXTURE5=33989]="TEXTURE5",oe[oe.TEXTURE6=33990]="TEXTURE6",oe[oe.TEXTURE7=33991]="TEXTURE7",oe[oe.TEXTURE8=33992]="TEXTURE8",oe[oe.TEXTURE9=33993]="TEXTURE9",oe[oe.TEXTURE10=33994]="TEXTURE10",oe[oe.TEXTURE11=33995]="TEXTURE11",oe[oe.TEXTURE12=33996]="TEXTURE12",oe[oe.TEXTURE13=33997]="TEXTURE13",oe[oe.TEXTURE14=33998]="TEXTURE14",oe[oe.TEXTURE15=33999]="TEXTURE15",oe[oe.TEXTURE16=34e3]="TEXTURE16",oe[oe.TEXTURE17=34001]="TEXTURE17",oe[oe.TEXTURE18=34002]="TEXTURE18",oe[oe.TEXTURE19=34003]="TEXTURE19",oe[oe.TEXTURE20=34004]="TEXTURE20",oe[oe.TEXTURE21=34005]="TEXTURE21",oe[oe.TEXTURE22=34006]="TEXTURE22",oe[oe.TEXTURE23=34007]="TEXTURE23",oe[oe.TEXTURE24=34008]="TEXTURE24",oe[oe.TEXTURE25=34009]="TEXTURE25",oe[oe.TEXTURE26=34010]="TEXTURE26",oe[oe.TEXTURE27=34011]="TEXTURE27",oe[oe.TEXTURE28=34012]="TEXTURE28",oe[oe.TEXTURE29=34013]="TEXTURE29",oe[oe.TEXTURE30=34014]="TEXTURE30",oe[oe.TEXTURE31=34015]="TEXTURE31",oe[oe.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",oe[oe.REPEAT=10497]="REPEAT",oe[oe.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",oe[oe.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",oe[oe.FLOAT_VEC2=35664]="FLOAT_VEC2",oe[oe.FLOAT_VEC3=35665]="FLOAT_VEC3",oe[oe.FLOAT_VEC4=35666]="FLOAT_VEC4",oe[oe.INT_VEC2=35667]="INT_VEC2",oe[oe.INT_VEC3=35668]="INT_VEC3",oe[oe.INT_VEC4=35669]="INT_VEC4",oe[oe.BOOL=35670]="BOOL",oe[oe.BOOL_VEC2=35671]="BOOL_VEC2",oe[oe.BOOL_VEC3=35672]="BOOL_VEC3",oe[oe.BOOL_VEC4=35673]="BOOL_VEC4",oe[oe.FLOAT_MAT2=35674]="FLOAT_MAT2",oe[oe.FLOAT_MAT3=35675]="FLOAT_MAT3",oe[oe.FLOAT_MAT4=35676]="FLOAT_MAT4",oe[oe.SAMPLER_2D=35678]="SAMPLER_2D",oe[oe.SAMPLER_CUBE=35680]="SAMPLER_CUBE",oe[oe.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",oe[oe.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",oe[oe.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",oe[oe.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",oe[oe.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",oe[oe.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",oe[oe.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",oe[oe.COMPILE_STATUS=35713]="COMPILE_STATUS",oe[oe.LOW_FLOAT=36336]="LOW_FLOAT",oe[oe.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",oe[oe.HIGH_FLOAT=36338]="HIGH_FLOAT",oe[oe.LOW_INT=36339]="LOW_INT",oe[oe.MEDIUM_INT=36340]="MEDIUM_INT",oe[oe.HIGH_INT=36341]="HIGH_INT",oe[oe.FRAMEBUFFER=36160]="FRAMEBUFFER",oe[oe.RENDERBUFFER=36161]="RENDERBUFFER",oe[oe.RGBA4=32854]="RGBA4",oe[oe.RGB5_A1=32855]="RGB5_A1",oe[oe.RGB565=36194]="RGB565",oe[oe.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",oe[oe.STENCIL_INDEX=6401]="STENCIL_INDEX",oe[oe.STENCIL_INDEX8=36168]="STENCIL_INDEX8",oe[oe.DEPTH_STENCIL=34041]="DEPTH_STENCIL",oe[oe.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",oe[oe.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",oe[oe.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",oe[oe.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",oe[oe.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",oe[oe.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",oe[oe.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",oe[oe.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",oe[oe.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",oe[oe.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",oe[oe.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",oe[oe.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",oe[oe.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",oe[oe.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",oe[oe.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",oe[oe.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",oe[oe.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",oe[oe.NONE=0]="NONE",oe[oe.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",oe[oe.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",oe[oe.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",oe[oe.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",oe[oe.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",oe[oe.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",oe[oe.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",oe[oe.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",oe[oe.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",oe[oe.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",oe[oe.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",oe[oe.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",oe[oe.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",oe[oe.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",oe[oe.COPY_SRC=1]="COPY_SRC",oe[oe.COPY_DST=2]="COPY_DST",oe[oe.SAMPLED=4]="SAMPLED",oe[oe.STORAGE=8]="STORAGE",oe[oe.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT";var Ci=(Oi=Object(ui.injectable)(),ei=Object(ui.inject)(Jr.GeometryComponentManager),Zr=Object(ui.inject)(Jr.RenderEngine),Oi((ri=function(){function K(){ua()(this,K),Hi()(this,"geometry",_i,this),Hi()(this,"engine",na,this)}var G;return ja()(K,[{key:"execute",value:(G=qr()(gr.a.mark(function w(){var B=this;return gr.a.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:this.geometry.forEach(function(Pt,_t){_t.dirty&&(_t.attributes.forEach(function(q){var kt;q.dirty&&q.data&&(q.buffer?(kt=q.buffer)===null||kt===void 0||kt.subData({data:q.data,offset:0}):q.buffer=B.engine.createBuffer({data:q.data,type:yn.FLOAT}),q.dirty=!1)}),_t.indices&&(_t.indicesBuffer?_t.indicesBuffer.subData({data:_t.indices,offset:0}):_t.indicesBuffer=B.engine.createElements({data:_t.indices,count:_t.indices.length,type:yn.UNSIGNED_INT,usage:yn.STATIC_DRAW})),_t.dirty=!1)});case 1:case"end":return Z.stop()}},w,this)})),function(){return G.apply(this,arguments)})},{key:"tearDown",value:function(){this.geometry.forEach(function(B,Z){Z.indicesBuffer&&Z.indicesBuffer.destroy(),Z.attributes.forEach(function(Pt){Pt.buffer&&Pt.buffer.destroy()})}),this.geometry.clear()}},{key:"createBufferGeometry",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{vertexCount:3},Z=B.vertexCount,Pt=so();return this.geometry.create(Pt,{vertexCount:Z})}},{key:"createInstancedBufferGeometry",value:function(B){var Z=B.maxInstancedCount,Pt=B.vertexCount,_t=so();return this.geometry.create(_t,{maxInstancedCount:Z,vertexCount:Pt})}},{key:"createBox",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=B.widthSegments||1,Pt=B.heightSegments||1,_t=B.depthSegments||1,q=B.halfExtents||Pn.e.fromValues(.5,.5,.5),kt=Wu()(q,3),ee=kt[0],re=kt[1],Te=kt[2],Le=[Pn.e.fromValues(-ee,-re,Te),Pn.e.fromValues(ee,-re,Te),Pn.e.fromValues(ee,re,Te),Pn.e.fromValues(-ee,re,Te),Pn.e.fromValues(ee,-re,-Te),Pn.e.fromValues(-ee,-re,-Te),Pn.e.fromValues(-ee,re,-Te),Pn.e.fromValues(ee,re,-Te)],tn=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],_e=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],$e={FRONT:0,BACK:1,TOP:2,BOTTOM:3,RIGHT:4,LEFT:5},nn=[],Xe=[],fn=[],jn=[],er=[],Gn=0,Kn=function(_r,Wr,Tr){var Ur,ni,Gr,ki;for(Gr=0;Gr<=Wr;Gr++)for(ki=0;ki<=Tr;ki++){var Bi=Pn.e.create(),ha=Pn.e.create(),ai=Pn.e.create(),ia=Pn.e.create();Pn.e.lerp(Bi,Le[tn[_r][0]],Le[tn[_r][1]],Gr/Wr),Pn.e.lerp(ha,Le[tn[_r][0]],Le[tn[_r][2]],ki/Tr),Pn.e.sub(ai,ha,Le[tn[_r][0]]),Pn.e.add(ia,Bi,ai),Ur=Gr/Wr,ni=ki/Tr,nn.push(ia[0],ia[1],ia[2]),Xe.push(_e[_r][0],_e[_r][1],_e[_r][2]),fn.push(Ur,ni),Ur=.875*(Ur/=3)+4/64,ni=.875*(ni/=3)+4/64,Ur+=_r%3/3,ni+=Math.floor(_r/3)/3,jn.push(Ur,ni),Gr<Wr&&ki<Tr&&(er.push(Gn+Tr+1,Gn+1,Gn),er.push(Gn+Tr+1,Gn+Tr+2,Gn+1)),Gn++}};Kn($e.FRONT,Z,Pt),Kn($e.BACK,Z,Pt),Kn($e.TOP,Z,_t),Kn($e.BOTTOM,Z,_t),Kn($e.RIGHT,_t,Pt),Kn($e.LEFT,_t,Pt);var nr=za(nn),yr=so();return this.geometry.create(yr,{indices:Uint32Array.from(er),aabb:nr,attributes:[{dirty:!0,name:"position",data:Float32Array.from(nn),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]}]})}}]),K}(),_i=fa()(ri.prototype,"geometry",[ei],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),na=fa()(ri.prototype,"engine",[Zr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),di=ri))||di);t(227);function Qi(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=Uo()(K);if(G){var Z=Uo()(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return ds()(this,w)}}var Pa,Ri,Vi,Zi,eo,Nt,f,c,R,Y=function(K){lo()(w,K);var G=Qi(w);function w(B){var Z;return ua()(this,w),(Z=G.call(this,B)).vertexShaderGLSL=void 0,Z.fragmentShaderGLSL=void 0,Z.dirty=!0,Z.uniforms=[],Z.cull={enable:!0,face:yn.BACK},Z.depth={enable:!0},Z.blend=void 0,Object.assign(Zn()(Z),B),Z}return ja()(w,[{key:"setCull",value:function(Z){return this.cull=Z,this}},{key:"setDepth",value:function(Z){return this.depth=Z,this}},{key:"setBlend",value:function(Z){return this.blend=Z,this}},{key:"setUniform",value:function(Z,Pt){var _t=this;if(typeof Z!="string")return Object.keys(Z).forEach(function(kt){return _t.setUniform(kt,Z[kt])}),this;var q=this.uniforms.find(function(kt){return kt.name===Z});return q?(q.dirty=!0,q.data=Pt):this.uniforms.push({name:Z,dirty:!0,data:Pt}),this.dirty=!0,this}}]),w}(xo);function ut(K,G){var w=Object.keys(K);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(K);G&&(B=B.filter(function(Z){return Object.getOwnPropertyDescriptor(K,Z).enumerable})),w.push.apply(w,B)}return w}function jt(K){for(var G=1;G<arguments.length;G++){var w=arguments[G]!=null?arguments[G]:{};G%2?ut(Object(w),!0).forEach(function(B){Ze()(K,B,w[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(w)):ut(Object(w)).forEach(function(B){Object.defineProperty(K,B,Object.getOwnPropertyDescriptor(w,B))})}return K}var Ut,Et=(Pa=Object(ui.injectable)(),Ri=Object(ui.inject)(Jr.MaterialComponentManager),Vi=Object(ui.inject)(Jr.RenderEngine),Zi=Object(ui.inject)(Jr.ShaderModuleService),Pa((Nt=function(){function K(){ua()(this,K),Hi()(this,"material",f,this),Hi()(this,"engine",c,this),Hi()(this,"shaderModule",R,this)}var G;return ja()(K,[{key:"execute",value:(G=qr()(gr.a.mark(function w(){return gr.a.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,Promise.all(this.material.map(function(){var Z=qr()(gr.a.mark(function Pt(_t,q){return gr.a.wrap(function(kt){for(;;)switch(kt.prev=kt.next){case 0:case"end":return kt.stop()}},Pt)}));return function(Pt,_t){return Z.apply(this,arguments)}}()));case 2:case"end":return B.stop()}},w,this)})),function(){return G.apply(this,arguments)})},{key:"tearDown",value:function(){this.material.clear()}},{key:"createBasicMaterial",value:function(){var B=so();return this.material.create(B,{vertexShaderGLSL:this.engine.supportWebGPU?`layout(set = 0, binding = 0) uniform Uniforms {
  vec4 color;
  mat4 projectionMatrix;
  mat4 modelViewMatrix;
} uniforms;

layout(location = 0) in vec3 position;
// layout(location = 1) in vec3 barycentric;

layout(location = 0) out vec4 fragColor;
// layout(location = 1) out vec3 v_Barycentric;

void main() {
  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);
  fragColor = uniforms.color;
  // v_Barycentric = barycentric;
}`:`attribute vec3 position;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform vec4 color;

varying vec4 fragColor;

void main() {
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  fragColor = color;
}`,fragmentShaderGLSL:this.engine.supportWebGPU?`// layout(set = 0, binding = 1) uniform WireframeUniforms {
//   float lineWidth;
//   vec4 lineColor;
// } wireframe;

layout(location = 0) in vec4 fragColor;
// layout(location = 1) in vec3 v_Barycentric;

layout(location = 0) out vec4 outColor;

// wireframe
// float edgeFactor() {
//   vec3 d = fwidth(v_Barycentric);
//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);
//   return min(min(a3.x, a3.y), a3.z);
// }

void main() {
  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));
  outColor = fragColor;
}`:`varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`})}},{key:"createShaderMaterial",value:function(B){var Z=so(),Pt=B.vertexShader,_t=B.fragmentShader,q=[];if(!this.engine.supportWebGPU){var kt="material-".concat(Z);this.shaderModule.registerModule(kt,{vs:B.vertexShader,fs:B.fragmentShader});var ee=this.shaderModule.getModule(kt);Pt=ee.vs,_t=ee.fs,ee.uniforms&&(q=Object.keys(ee.uniforms).map(function(re){return{dirty:!0,name:re,data:ee.uniforms[re]}}))}return this.material.create(Z,jt(jt({vertexShaderGLSL:Pt,fragmentShaderGLSL:_t},B),{},{uniforms:q}))}}]),K}(),f=fa()(Nt.prototype,"material",[Ri],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=fa()(Nt.prototype,"engine",[Vi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=fa()(Nt.prototype,"shaderModule",[Zi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eo=Nt))||eo);function qt(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=Uo()(K);if(G){var Z=Uo()(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return ds()(this,w)}}(function(K){K[K.Standard=0]="Standard"})(Ut||(Ut={}));var se=function(K){lo()(w,K);var G=qt(w);function w(B){var Z;return ua()(this,w),(Z=G.call(this,B)).strategy=Ut.Standard,Z.visibilityPlaneMask=0,Z.visible=!1,Object.assign(Zn()(Z),B),Z}return w}(xo);t(228);function je(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=Uo()(K);if(G){var Z=Uo()(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return ds()(this,w)}}var Ie,Ue=function(K){lo()(w,K);var G=je(w);function w(B){var Z;return ua()(this,w),(Z=G.call(this,B)).material=void 0,Z.geometry=void 0,Z.aabb=new Ui,Z.aabbDirty=!0,Z.model=void 0,Z.visible=!0,Object.assign(Zn()(Z),B),Z}return w}(xo),Ke=function(){function K(G,w){ua()(this,K),this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=G||0,this.normal=w||Pn.e.fromValues(0,1,0),this.updatePNVertexFlag()}return ja()(K,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(w){return Pn.e.dot(w,this.normal)-this.distance}},{key:"normalize",value:function(){var w=1/Pn.e.len(this.normal);Pn.e.scale(this.normal,this.normal,w),this.distance*=w}},{key:"intersectsLine",value:function(w,B,Z){var Pt=this.distanceToPoint(w),_t=Pt/(Pt-this.distanceToPoint(B)),q=_t>=0&&_t<=1;return q&&Z&&Pn.e.lerp(Z,w,B,_t),q}}]),K}();(function(K){K[K.OUTSIDE=4294967295]="OUTSIDE",K[K.INSIDE=0]="INSIDE",K[K.INDETERMINATE=2147483647]="INDETERMINATE"})(Ie||(Ie={}));var An,Bn,Wn,Yn,Jn,Ar,ur,mr,ii,Li,ci,Yi,qa,wa=function(){function K(G){if(ua()(this,K),this.planes=[],G)this.planes=G;else for(var w=0;w<6;w++)this.planes.push(new Ke)}return ja()(K,[{key:"extractFromVPMatrix",value:function(w){var B=Wu()(w,16),Z=B[0],Pt=B[1],_t=B[2],q=B[3],kt=B[4],ee=B[5],re=B[6],Te=B[7],Le=B[8],tn=B[9],_e=B[10],$e=B[11],nn=B[12],Xe=B[13],fn=B[14],jn=B[15];Pn.e.set(this.planes[0].normal,q-Z,Te-kt,$e-Le),this.planes[0].distance=-(jn-nn),Pn.e.set(this.planes[1].normal,q+Z,Te+kt,$e+Le),this.planes[1].distance=-(jn+nn),Pn.e.set(this.planes[2].normal,q+Pt,Te+ee,$e+tn),this.planes[2].distance=-(jn+Xe),Pn.e.set(this.planes[3].normal,q-Pt,Te-ee,$e-tn),this.planes[3].distance=-(jn-Xe),Pn.e.set(this.planes[4].normal,q-_t,Te-re,$e-_e),this.planes[4].distance=-(jn-fn),Pn.e.set(this.planes[5].normal,q+_t,Te+re,$e+_e),this.planes[5].distance=-(jn+fn),this.planes.forEach(function(er){er.normalize(),er.updatePNVertexFlag()})}}]),K}(),fo=t(61),ga=t.n(fo);function Ia(K,G){var w;if(typeof Symbol=="undefined"||K[Symbol.iterator]==null){if(Array.isArray(K)||(w=function(kt,ee){if(!!kt){if(typeof kt=="string")return ko(kt,ee);var re=Object.prototype.toString.call(kt).slice(8,-1);if(re==="Object"&&kt.constructor&&(re=kt.constructor.name),re==="Map"||re==="Set")return Array.from(kt);if(re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re))return ko(kt,ee)}}(K))||G&&K&&typeof K.length=="number"){w&&(K=w);var B=0,Z=function(){};return{s:Z,n:function(){return B>=K.length?{done:!0}:{done:!1,value:K[B++]}},e:function(ee){throw ee},f:Z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Pt,_t=!0,q=!1;return{s:function(){w=K[Symbol.iterator]()},n:function(){var ee=w.next();return _t=ee.done,ee},e:function(ee){q=!0,Pt=ee},f:function(){try{_t||w.return==null||w.return()}finally{if(q)throw Pt}}}}function ko(K,G){(G==null||G>K.length)&&(G=K.length);for(var w=0,B=new Array(G);w<G;w++)B[w]=K[w];return B}var No,no,Ja,ho,Qa,jo,Lo,es,Bo,Yo,zo,Ko,xa,Cs,Ms,zs,xs,Ns,is,cs,$o,Ks,rs,Fo,Ws=(An=Object(ui.injectable)(),Bn=Object(ui.inject)(Jr.MeshComponentManager),Wn=Object(ui.inject)(Jr.CullableComponentManager),Yn=Object(ui.inject)(Jr.GeometryComponentManager),Jn=Object(ui.inject)(Jr.HierarchyComponentManager),Ar=Object(ui.inject)(Jr.TransformComponentManager),An((mr=function(){function K(){ua()(this,K),Hi()(this,"mesh",ii,this),Hi()(this,"cullable",Li,this),Hi()(this,"geometry",ci,this),Hi()(this,"hierarchy",Yi,this),Hi()(this,"transform",qa,this),this.planes=void 0}var G;return ja()(K,[{key:"setFrustumPlanes",value:function(B){this.planes=B}},{key:"execute",value:(G=qr()(gr.a.mark(function w(B){var Z,Pt,_t,q=this;return gr.a.wrap(function(kt){for(;;)switch(kt.prev=kt.next){case 0:Z=Ia(B);try{for(_t=function(){var re=Pt.value,Te=(re.getScene(),re.getCamera());q.mesh.forEach(function(Le,tn){var _e,$e,nn=q.hierarchy.getComponentByEntity(Le),Xe=q.cullable.getComponentByEntity(Le),fn=tn.geometry,jn=q.transform.getComponentByEntity(Le);if(fn&&fn.aabb&&jn&&tn.aabbDirty){var er=jn.worldTransform,Gn=fn.aabb,Kn=Gn.center,nr=Gn.halfExtents,yr=Pn.e.transformMat4(Pn.e.create(),Kn,er),Sr=(_e=er,($e=Pn.a.create())[0]=_e[0],$e[1]=_e[1],$e[2]=_e[2],$e[3]=_e[4],$e[4]=_e[5],$e[5]=_e[6],$e[6]=_e[8],$e[7]=_e[9],$e[8]=_e[10],$e),_r=Pn.e.transformMat3(Pn.e.create(),nr,Sr);tn.aabb.update(yr,_r),tn.aabbDirty=!1}if(Xe&&fn){var Wr=q.cullable.getComponentByEntity((nn==null?void 0:nn.parentID)||-1);Xe.visibilityPlaneMask=q.computeVisibilityWithPlaneMask(tn.aabb,(Wr==null?void 0:Wr.visibilityPlaneMask)||Ie.INDETERMINATE,q.planes||Te.getFrustum().planes),Xe.visible=Xe.visibilityPlaneMask!==Ie.OUTSIDE}})},Z.s();!(Pt=Z.n()).done;)_t()}catch(ee){Z.e(ee)}finally{Z.f()}case 2:case"end":return kt.stop()}},w)})),function(w){return G.apply(this,arguments)})},{key:"tearDown",value:function(){this.cullable.clear(),this.mesh.clear()}},{key:"computeVisibilityWithPlaneMask",value:function(B,Z,Pt){if(Z===Ie.OUTSIDE||Z===Ie.INSIDE)return Z;for(var _t=Ie.INSIDE,q=0,kt=Pt.length;q<kt;++q){var ee=q<31?1<<q:0;if(!(q<31&&(Z&ee)==0)){var re=Pt[q],Te=re.normal,Le=re.distance;if(Pn.e.dot(Te,B.getNegativeFarPoint(Pt[q]))+Le>0)return Ie.OUTSIDE;Pn.e.dot(Te,B.getPositiveFarPoint(Pt[q]))+Le>0&&(_t|=ee)}}return _t}}]),K}(),ii=fa()(mr.prototype,"mesh",[Bn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Li=fa()(mr.prototype,"cullable",[Wn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ci=fa()(mr.prototype,"geometry",[Yn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yi=fa()(mr.prototype,"hierarchy",[Jn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qa=fa()(mr.prototype,"transform",[Ar],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ur=mr))||ur);function Ls(K,G){var w;if(typeof Symbol=="undefined"||K[Symbol.iterator]==null){if(Array.isArray(K)||(w=function(kt,ee){if(!!kt){if(typeof kt=="string")return Os(kt,ee);var re=Object.prototype.toString.call(kt).slice(8,-1);if(re==="Object"&&kt.constructor&&(re=kt.constructor.name),re==="Map"||re==="Set")return Array.from(kt);if(re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re))return Os(kt,ee)}}(K))||G&&K&&typeof K.length=="number"){w&&(K=w);var B=0,Z=function(){};return{s:Z,n:function(){return B>=K.length?{done:!0}:{done:!1,value:K[B++]}},e:function(ee){throw ee},f:Z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Pt,_t=!0,q=!1;return{s:function(){w=K[Symbol.iterator]()},n:function(){var ee=w.next();return _t=ee.done,ee},e:function(ee){q=!0,Pt=ee},f:function(){try{_t||w.return==null||w.return()}finally{if(q)throw Pt}}}}function Os(K,G){(G==null||G>K.length)&&(G=K.length);for(var w=0,B=new Array(G);w<G;w++)B[w]=K[w];return B}var Ss,as,iu,Vs,As,vo,go,Co,Bs,Wo,ls,du,Tu,Ts,ju,Jo,Iu,wl,_c,El,ec,Gc,js=(No=Object(ui.injectable)(),no=Object(ui.inject)(Jr.MeshComponentManager),Ja=Object(ui.inject)(Jr.GeometryComponentManager),ho=Object(ui.inject)(Jr.MaterialComponentManager),Qa=Object(ui.inject)(Jr.CullableComponentManager),jo=Object(ui.inject)(Jr.TransformComponentManager),Lo=Object(ui.inject)(Jr.HierarchyComponentManager),es=Object(ui.inject)(Jr.Systems),Bo=Object(ui.named)(Jr.FrameGraphSystem),Yo=Object(ui.inject)(Jr.RenderEngine),zo=Object(ui.inject)(Jr.ResourcePool),No((Fo=rs=function(){function K(){var B=this;ua()(this,K),Hi()(this,"mesh",Cs,this),Hi()(this,"geometry",Ms,this),Hi()(this,"material",zs,this),Hi()(this,"cullable",xs,this),Hi()(this,"transform",Ns,this),Hi()(this,"hierarchy",is,this),Hi()(this,"frameGraphSystem",cs,this),Hi()(this,"engine",$o,this),Hi()(this,"resourcePool",Ks,this),this.setup=function(Z,Pt,_t){var q=Z.createRenderTarget(Pt,"color buffer",{width:1,height:1,usage:yn.RENDER_ATTACHMENT|yn.SAMPLED|yn.COPY_SRC});_t.data={output:Pt.write(Z,q)}},this.execute=function(){var Z=qr()(gr.a.mark(function Pt(_t,q,kt){var ee,re,Te,Le,tn,_e;return gr.a.wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:ee=_t.getResourceNode(q.data.output),re=B.resourcePool.getOrCreateResource(ee.resource),Te=Ls(kt),$e.prev=3,Te.s();case 5:if((Le=Te.n()).done){$e.next=11;break}return tn=Le.value,$e.next=9,B.initView(tn);case 9:$e.next=5;break;case 11:$e.next=16;break;case 13:$e.prev=13,$e.t0=$e.catch(3),Te.e($e.t0);case 16:return $e.prev=16,Te.f(),$e.finish(16);case 19:_e=B.engine.getCanvas(),re.resize({width:_e.width,height:_e.height}),B.engine.setScissor({enable:!1}),B.engine.clear({framebuffer:re,color:kt[0].getClearColor(),depth:1}),B.engine.useFramebuffer(re,function(){var nn,Xe=Ls(kt);try{for(Xe.s();!(nn=Xe.n()).done;){var fn=nn.value;B.renderView(fn)}}catch(jn){Xe.e(jn)}finally{Xe.f()}});case 24:case"end":return $e.stop()}},Pt,null,[[3,13,16,19]])}));return function(Pt,_t,q){return Z.apply(this,arguments)}}()}var G,w;return ja()(K,[{key:"renderView",value:function(Z){var Pt=Z.getScene(),_t=Z.getCamera(),q=_t.getViewTransform(),kt=Pn.b.multiply(Pn.b.create(),_t.getPerspective(),q);_t.getFrustum().extractFromVPMatrix(kt);var ee=Z.getViewport(),re=ee.x,Te=ee.y,Le=ee.width,tn=ee.height;this.engine.viewport({x:re,y:Te,width:Le,height:tn});var _e,$e=Ls(Pt.getEntities());try{for($e.s();!(_e=$e.n()).done;){var nn=_e.value;this.renderMesh(nn,{camera:_t,view:Z,viewMatrix:q})}}catch(Xe){$e.e(Xe)}finally{$e.f()}}},{key:"renderMesh",value:function(Z,Pt){var _t=this,q=Pt.camera,kt=Pt.view,ee=Pt.viewMatrix,re=this.mesh.getComponentByEntity(Z);if(re.visible){this.hierarchy.forEach(function(fn,jn){jn.parentID===Z&&_t.renderMesh(fn,{camera:q,view:kt,viewMatrix:ee})});var Te=re.material,Le=re.geometry;if(Le&&!Le.dirty&&Te){var tn=this.transform.getComponentByEntity(Z),_e=Pn.b.multiply(Pn.b.create(),ee,tn.worldTransform),$e=kt.getViewport(),nn=$e.width,Xe=$e.height;Te.setUniform({projectionMatrix:q.getPerspective(),modelViewMatrix:_e,modelMatrix:tn.worldTransform,viewMatrix:ee,cameraPosition:q.getPosition(),u_viewport:[nn,Xe]}),re.model&&(re.model.draw({uniforms:Te.uniforms.reduce(function(fn,jn){return fn[jn.name]=jn.data,fn},{})}),Te.uniforms.forEach(function(fn){fn.dirty=!1}),Te.dirty=!1)}}}},{key:"initMesh",value:(w=qr()(gr.a.mark(function B(Z,Pt){var _t,q,kt,ee,re,Te,Le,tn=this;return gr.a.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(_t=this.mesh.getComponentByEntity(Z)){_e.next=3;break}return _e.abrupt("return");case 3:return q=_t.material,kt=_t.geometry,_e.next=7,this.hierarchy.forEachAsync(function(){var $e=qr()(gr.a.mark(function nn(Xe,fn){return gr.a.wrap(function(jn){for(;;)switch(jn.prev=jn.next){case 0:if(fn.parentID!==Z){jn.next=4;break}return jn.next=4,tn.initMesh(Xe,Pt);case 4:case"end":return jn.stop()}},nn)}));return function(nn,Xe){return $e.apply(this,arguments)}}());case 7:if(kt&&!kt.dirty&&q){_e.next=9;break}return _e.abrupt("return");case 9:if(_t.model){_e.next=21;break}return q.setUniform({projectionMatrix:1,modelViewMatrix:1,modelMatrix:1,viewMatrix:1,cameraPosition:1,u_viewport:1}),ee=this.engine,re=ee.createModel,Te=ee.createAttribute,Le={vs:q.vertexShaderGLSL,fs:q.fragmentShaderGLSL,attributes:kt.attributes.reduce(function($e,nn){return nn.data&&nn.buffer&&($e[nn.name]=Te({buffer:nn.buffer,attributes:nn.attributes,arrayStride:nn.arrayStride,stepMode:nn.stepMode,divisor:nn.stepMode==="vertex"?0:1})),$e},{}),uniforms:q.uniforms.reduce(function($e,nn){return $e[nn.name]=nn.data,$e},{}),scissor:{enable:!0,box:function(){return Pt.getViewport()}}},q.cull&&(Le.cull=q.cull),q.depth&&(Le.depth=q.depth),q.blend&&(Le.blend=q.blend),kt.indicesBuffer&&(Le.elements=kt.indicesBuffer),kt.maxInstancedCount&&(Le.instances=kt.maxInstancedCount,Le.count=kt.vertexCount||3),_e.next=20,re(Le);case 20:_t.model=_e.sent;case 21:case"end":return _e.stop()}},B,this)})),function(B,Z){return w.apply(this,arguments)})},{key:"initView",value:(G=qr()(gr.a.mark(function B(Z){var Pt,_t,q,kt;return gr.a.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:Pt=Z.getScene(),_t=Ls(Pt.getEntities()),ee.prev=2,_t.s();case 4:if((q=_t.n()).done){ee.next=10;break}return kt=q.value,ee.next=8,this.initMesh(kt,Z);case 8:ee.next=4;break;case 10:ee.next=15;break;case 12:ee.prev=12,ee.t0=ee.catch(2),_t.e(ee.t0);case 15:return ee.prev=15,_t.f(),ee.finish(15);case 18:case"end":return ee.stop()}},B,this,[[2,12,15,18]])})),function(B){return G.apply(this,arguments)})}]),K}(),rs.IDENTIFIER="Render Pass",xa=Fo,Cs=fa()(xa.prototype,"mesh",[no],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ms=fa()(xa.prototype,"geometry",[Ja],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zs=fa()(xa.prototype,"material",[ho],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xs=fa()(xa.prototype,"cullable",[Qa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ns=fa()(xa.prototype,"transform",[jo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),is=fa()(xa.prototype,"hierarchy",[Lo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cs=fa()(xa.prototype,"frameGraphSystem",[es,Bo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$o=fa()(xa.prototype,"engine",[Yo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ks=fa()(xa.prototype,"resourcePool",[zo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ko=xa))||Ko),nc=(Ss=Object(ui.injectable)(),as=Object(ui.inject)(Jr.RenderEngine),iu=Object(ui.inject)(Jr.ResourcePool),Ss((Bs=Co=function K(){var G=this;ua()(this,K),Hi()(this,"engine",vo,this),Hi()(this,"resourcePool",go,this),this.model=void 0,this.setup=function(w,B,Z){var Pt=w.getPass(js.IDENTIFIER);if(Pt){var _t=w.createRenderTarget(B,"render to screen",{width:1,height:1});Z.data={input:B.read(Pt.data.output),output:B.write(w,_t)}}},this.execute=function(){var w=qr()(gr.a.mark(function B(Z,Pt){var _t,q,kt,ee,re,Te,Le;return gr.a.wrap(function(tn){for(;;)switch(tn.prev=tn.next){case 0:if(_t=G.engine,q=_t.createModel,kt=_t.createAttribute,ee=_t.createBuffer,G.model){tn.next=6;break}return tn.next=4,q({vs:G.engine.supportWebGPU?`layout(location = 0) in vec2 a_Position;
layout(location = 0) out vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`:`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,fs:G.engine.supportWebGPU?`layout(set = 0, binding = 0) uniform sampler u_TextureSampler;
layout(set = 0, binding = 1) uniform texture2D u_Texture;

layout(location = 0) in vec2 v_UV;
layout(location = 0) out vec4 outColor;

void main() {
  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);
}`:`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,attributes:{a_Position:kt({buffer:ee({data:[-4,-4,4,-4,0,4],type:yn.FLOAT}),size:2,arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})},uniforms:{u_Texture:null},depth:{enable:!1},count:3,blend:{enable:!0}});case 4:re=tn.sent,G.model=re;case 6:Te=Z.getResourceNode(Pt.data.input),Le=G.resourcePool.getOrCreateResource(Te.resource),G.engine.useFramebuffer(null,function(){G.engine.clear({framebuffer:null,color:[0,0,0,0],depth:1,stencil:0}),G.model.draw({uniforms:{u_Texture:Le}})});case 9:case"end":return tn.stop()}},B)}));return function(B,Z){return w.apply(this,arguments)}}(),this.tearDown=function(){G.model=void 0}},Co.IDENTIFIER="Copy Pass",As=Bs,vo=fa()(As.prototype,"engine",[as],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),go=fa()(As.prototype,"resourcePool",[iu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vs=As))||Vs);function rc(K,G){var w;if(typeof Symbol=="undefined"||K[Symbol.iterator]==null){if(Array.isArray(K)||(w=function(kt,ee){if(!!kt){if(typeof kt=="string")return Cl(kt,ee);var re=Object.prototype.toString.call(kt).slice(8,-1);if(re==="Object"&&kt.constructor&&(re=kt.constructor.name),re==="Map"||re==="Set")return Array.from(kt);if(re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re))return Cl(kt,ee)}}(K))||G&&K&&typeof K.length=="number"){w&&(K=w);var B=0,Z=function(){};return{s:Z,n:function(){return B>=K.length?{done:!0}:{done:!1,value:K[B++]}},e:function(ee){throw ee},f:Z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Pt,_t=!0,q=!1;return{s:function(){w=K[Symbol.iterator]()},n:function(){var ee=w.next();return _t=ee.done,ee},e:function(ee){q=!0,Pt=ee},f:function(){try{_t||w.return==null||w.return()}finally{if(q)throw Pt}}}}function Cl(K,G){(G==null||G>K.length)&&(G=K.length);for(var w=0,B=new Array(G);w<G;w++)B[w]=K[w];return B}var Vu,Uc,wo,mo,qo,Fs,Ml,_s,xc,Yu,Al,ic,ah=1,ff=2,hf=(Wo=Object(ui.injectable)(),ls=Object(ui.inject)(Jr.RenderEngine),du=Object(ui.inject)(Jr.ResourcePool),Tu=Object(ui.inject)(Jr.RenderPassFactory),Ts=Object(ui.inject)(Jr.MeshComponentManager),Wo((Gc=ec=function(){function K(){var G=this;ua()(this,K),Hi()(this,"engine",Iu,this),Hi()(this,"resourcePool",wl,this),Hi()(this,"renderPassFactory",_c,this),Hi()(this,"mesh",El,this),this.pickingFBO=void 0,this.views=void 0,this.highlightEnabled=!0,this.highlightColor=[255,0,0,255],this.alreadyInRendering=!1,this.setup=function(w,B,Z){var Pt=w.createRenderTarget(B,"picking fbo",{width:1,height:1});Z.data={output:B.write(w,Pt)},B.hasSideEffect=!0},this.execute=function(){var w=qr()(gr.a.mark(function B(Z,Pt,_t){var q,kt,ee;return gr.a.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(G.views=_t,!G.alreadyInRendering){re.next=3;break}return re.abrupt("return");case 3:q=rc(_t);try{for(ee=function(){var Le=kt.value,tn=Le.getViewport(),_e=tn.width,$e=tn.height;G.alreadyInRendering=!0;var nn=Z.getResourceNode(Pt.data.output);G.pickingFBO=G.resourcePool.getOrCreateResource(nn.resource),G.pickingFBO.resize({width:_e,height:$e}),G.engine.useFramebuffer(G.pickingFBO,function(){G.engine.clear({framebuffer:G.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var Xe,fn=G.renderPassFactory(js.IDENTIFIER),jn=[],er=rc(Le.getScene().getEntities());try{for(er.s();!(Xe=er.n()).done;){var Gn=Xe.value,Kn=G.mesh.getComponentByEntity(Gn);Kn.material.setUniform("u_PickingStage",ah),jn.push(Kn)}}catch(nr){er.e(nr)}finally{er.f()}fn.renderView(Le),jn.forEach(function(nr){nr.material.setUniform("u_PickingStage",ff)}),G.alreadyInRendering=!1})},q.s();!(kt=q.n()).done;)ee()}catch(Te){q.e(Te)}finally{q.f()}case 5:case"end":return re.stop()}},B)}));return function(B,Z,Pt){return w.apply(this,arguments)}}(),this.pick=function(w,B){var Z,Pt,_t=w.x,q=w.y,kt=G.engine,ee=kt.readPixels,re=kt.useFramebuffer,Te=B.getViewport(),Le=Te.width,tn=Te.height,_e=_t*window.devicePixelRatio,$e=q*window.devicePixelRatio;if(!(_e>Le||_e<0||$e>tn||$e<0))return re(G.pickingFBO,function(){var nn,Xe;(Z=ee({x:Math.round(_e),y:Math.round(tn-(q+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(4),framebuffer:G.pickingFBO}))[0]===0&&Z[1]===0&&Z[2]===0||(nn=Z,Xe=Wu()(nn,3),Pt=Xe[0]+256*Xe[1]+65536*Xe[2]-1,G.highlightEnabled&&G.highlightPickedFeature(Z,B))}),Pt}}return ja()(K,[{key:"enableHighlight",value:function(w){this.highlightEnabled=w}},{key:"setHighlightColor",value:function(w){this.highlightColor=w}},{key:"highlightPickedFeature",value:function(w,B){if(w){var Z,Pt=rc(B.getScene().getEntities());try{for(Pt.s();!(Z=Pt.n()).done;){var _t=Z.value,q=this.mesh.getComponentByEntity(_t).material;q.setUniform("u_PickingStage",ff),q.setUniform("u_PickingColor",[w[0],w[1],w[2]]),q.setUniform("u_HighlightColor",this.highlightColor)}}catch(kt){Pt.e(kt)}finally{Pt.f()}}}}]),K}(),ec.IDENTIFIER="PixelPicking Pass",Jo=Gc,Iu=fa()(Jo.prototype,"engine",[ls],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wl=fa()(Jo.prototype,"resourcePool",[du],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_c=fa()(Jo.prototype,"renderPassFactory",[Tu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),El=fa()(Jo.prototype,"mesh",[Ts],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ju=Jo))||ju),Tl=(Vu=Object(ui.injectable)(),Uc=Object(ui.inject)(Jr.Systems),wo=Object(ui.named)(Jr.FrameGraphSystem),mo=Object(ui.inject)(Jr.RenderPassFactory),qo=Object(ui.inject)(Jr.ConfigService),Fs=Object(ui.inject)(Jr.ResourcePool),Vu((_s=function(){function K(){ua()(this,K),Hi()(this,"frameGraphSystem",xc,this),Hi()(this,"renderPassFactory",Yu,this),Hi()(this,"configService",Al,this),Hi()(this,"resourcePool",ic,this)}var G;return ja()(K,[{key:"execute",value:(G=qr()(gr.a.mark(function w(B){var Z,Pt,_t,q,kt,ee,re,Te;return gr.a.wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:Z=this.renderPassFactory(js.IDENTIFIER),Pt=Z.setup,_t=Z.execute,this.frameGraphSystem.addPass(js.IDENTIFIER,Pt,_t),q=this.renderPassFactory(nc.IDENTIFIER),kt=q.setup,ee=q.execute,re=q.tearDown,Te=this.frameGraphSystem.addPass(nc.IDENTIFIER,kt,ee,re),this.frameGraphSystem.present(Te.data.output);case 5:case"end":return Le.stop()}},w,this)})),function(w){return G.apply(this,arguments)})},{key:"tearDown",value:function(){this.resourcePool.clean()}},{key:"pick",value:function(B,Z){return this.renderPassFactory(hf.IDENTIFIER).pick(B,Z)}}]),K}(),xc=fa()(_s.prototype,"frameGraphSystem",[Uc,wo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yu=fa()(_s.prototype,"renderPassFactory",[mo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Al=fa()(_s.prototype,"configService",[qo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ic=fa()(_s.prototype,"resourcePool",[Fs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ml=_s))||Ml);function Cd(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=Uo()(K);if(G){var Z=Uo()(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return ds()(this,w)}}var zc,Wc,oh,df,sh,vu,vf,jl,uh,pf=function(K){lo()(w,K);var G=Cd(w);function w(B){var Z;return ua()(this,w),(Z=G.call(this,B)).parentID=void 0,Object.assign(Zn()(Z),B),Z}return w}(xo),yo=(zc=Object(ui.injectable)(),Wc=Object(ui.inject)(Jr.HierarchyComponentManager),oh=Object(ui.inject)(Jr.TransformComponentManager),df=Object(ui.inject)(Jr.MeshComponentManager),zc((vu=function(){function K(){ua()(this,K),Hi()(this,"hierarchy",vf,this),Hi()(this,"transform",jl,this),Hi()(this,"mesh",uh,this)}var G;return ja()(K,[{key:"execute",value:(G=qr()(gr.a.mark(function w(){return gr.a.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:this.runTransformUpdateSystem(),this.runHierarchyUpdateSystem();case 2:case"end":return B.stop()}},w,this)})),function(){return G.apply(this,arguments)})},{key:"tearDown",value:function(){this.hierarchy.clear(),this.transform.clear()}},{key:"getHierarchyComponentManager",value:function(){return this.hierarchy}},{key:"getTransformComponentManager",value:function(){return this.transform}},{key:"runTransformUpdateSystem",value:function(){var B=this;this.transform.forEach(function(Z,Pt){Pt.isDirty()&&(B.setMeshAABBDirty(Z),Pt.updateTransform())})}},{key:"runHierarchyUpdateSystem",value:function(){var B=this;this.hierarchy.forEach(function(Z,Pt){var _t=B.transform.getComponentByEntity(Z),q=B.transform.getComponentByEntity(Pt.parentID);_t!==null&&q!==null&&_t.updateTransformWithParent(q)})}},{key:"attach",value:function(B,Z,Pt){if(this.hierarchy.contains(B)&&this.detach(B),this.hierarchy.create(B,{parentID:Z}),this.setMeshAABBDirty(Z),this.hierarchy.getCount()>1){for(var _t=this.hierarchy.getCount()-1;_t>0;--_t)for(var q=this.hierarchy.getEntity(_t),kt=0;kt<_t;++kt)if(this.hierarchy.getComponent(kt).parentID===q){this.hierarchy.moveItem(_t,kt),++_t;break}}this.hierarchy.getComponentByEntity(B);var ee=this.transform.getComponentByEntity(Z);ee===null&&(ee=this.transform.create(Z));var re=this.transform.getComponentByEntity(B);re===null&&(re=this.transform.create(B),ee=this.transform.getComponentByEntity(Z)),!Pt&&ee&&(re.matrixTransform(Pn.b.invert(Pn.b.create(),ee.worldTransform)),re.updateTransform()),ee&&re.updateTransformWithParent(ee)}},{key:"detach",value:function(B){if(this.hierarchy.getComponentByEntity(B)!==null){var Z=this.transform.getComponentByEntity(B);Z!==null&&Z.applyTransform(),this.hierarchy.removeKeepSorted(B),this.setMeshAABBDirty(B)}}},{key:"detachChildren",value:function(B){for(var Z=0;Z<this.hierarchy.getCount();){var Pt;if(((Pt=this.hierarchy.getComponent(Z))===null||Pt===void 0?void 0:Pt.parentID)===B){var _t=this.hierarchy.getEntity(Z);this.detach(_t)}else++Z}}},{key:"setMeshAABBDirty",value:function(B){var Z=this.mesh.getComponentByEntity(B);Z&&(Z.aabbDirty=!0)}}]),K}(),vf=fa()(vu.prototype,"hierarchy",[Wc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jl=fa()(vu.prototype,"transform",[oh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uh=fa()(vu.prototype,"mesh",[df],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sh=vu))||sh);function Md(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=Uo()(K);if(G){var Z=Uo()(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return ds()(this,w)}}var ch=function(K){lo()(w,K);var G=Md(w);function w(B){var Z,Pt,_t,q,kt,ee,re,Te,Le,tn,_e,$e,nn,Xe,fn;return ua()(this,w),(Z=G.call(this,B)).dirtyFlag=void 0,Z.localTranslation=Pn.e.fromValues(0,0,0),Z.localRotation=Pn.c.fromValues(0,0,0,1),Z.localScale=Pn.e.fromValues(1,1,1),Z.localTransform=Pn.b.create(),Z.worldTransform=Pn.b.create(),Z.getRotation=(Pt=Pn.c.create(),function(){return Pn.b.getRotation(Pt,Z.worldTransform),Pt}),Z.getScale=(_t=Pn.e.create(),function(){return Pn.b.getScaling(_t,Z.worldTransform),_t}),Z.getPosition=(q=Pn.e.create(),function(){return Pn.b.getTranslation(q,Z.worldTransform),q}),Z.getLocalMatrix=(kt=Pn.b.create(),function(){return Pn.b.fromRotationTranslationScale(kt,Z.localRotation,Z.localTranslation,Z.localScale),kt}),Z.matrixTransform=(ee=Pn.b.create(),function(jn){Pn.b.multiply(ee,Z.getLocalMatrix(),jn),Pn.b.getScaling(Z.localScale,ee),Pn.b.getTranslation(Z.localTranslation,ee),Pn.b.getRotation(Z.localRotation,ee)}),Z.rotateRollPitchYaw=(re=Pn.c.create(),Te=Pn.c.create(),Le=Pn.c.create(),function(jn,er,Gn){Z.setDirty(),Pn.c.fromEuler(re,jn,0,0),Pn.c.fromEuler(Te,0,er,0),Pn.c.fromEuler(Le,0,0,Gn),Pn.c.multiply(Z.localRotation,re,Z.localRotation),Pn.c.multiply(Z.localRotation,Z.localRotation,Te),Pn.c.multiply(Z.localRotation,Le,Z.localRotation),Pn.c.normalize(Z.localRotation,Z.localRotation)}),Z.lerp=(tn=Pn.e.create(),_e=Pn.c.create(),$e=Pn.e.create(),nn=Pn.e.create(),Xe=Pn.c.create(),fn=Pn.e.create(),function(jn,er,Gn){Z.setDirty(),Pn.b.getScaling(tn,jn.worldTransform),Pn.b.getTranslation($e,jn.worldTransform),Pn.b.getRotation(_e,jn.worldTransform),Pn.b.getScaling(nn,er.worldTransform),Pn.b.getTranslation(fn,er.worldTransform),Pn.b.getRotation(Xe,er.worldTransform),Pn.e.lerp(Z.localScale,tn,nn,Gn),Pn.c.slerp(Z.localRotation,_e,Xe,Gn),Pn.e.lerp(Z.localTranslation,$e,fn,Gn)}),Z}return ja()(w,[{key:"isDirty",value:function(){return this.dirtyFlag}},{key:"setDirty",value:function(){var Z=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];Z?this.dirtyFlag|=w.DIRTY:this.dirtyFlag&=~w.DIRTY}},{key:"updateTransform",value:function(){this.isDirty()&&(this.setDirty(!1),Pn.b.copy(this.worldTransform,this.getLocalMatrix()))}},{key:"updateTransformWithParent",value:function(Z){Pn.b.multiply(this.worldTransform,this.getLocalMatrix(),Z.worldTransform)}},{key:"applyTransform",value:function(){this.setDirty(),Pn.b.getScaling(this.localScale,this.worldTransform),Pn.b.getTranslation(this.localTranslation,this.worldTransform),Pn.b.getRotation(this.localRotation,this.worldTransform)}},{key:"clearTransform",value:function(){this.setDirty(),this.localTranslation=Pn.e.fromValues(0,0,0),this.localRotation=Pn.c.fromValues(0,0,0,1),this.localScale=Pn.e.fromValues(1,1,1)}},{key:"translate",value:function(Z){return this.setDirty(),Pn.e.add(this.localTranslation,this.localTranslation,Z),this}},{key:"scale",value:function(Z){return this.setDirty(),Pn.e.multiply(this.localScale,this.localScale,Z),this}},{key:"rotate",value:function(Z){return this.setDirty(),Pn.c.multiply(this.localRotation,this.localRotation,Z),Pn.c.normalize(this.localRotation,this.localRotation),this}}]),w}(xo);ch.DIRTY=1,t(143),t(144),t(229),t(145),t(146),t(114),t(147),t(50),t(148),t(230);var Oc,Il,gf,mf,Ys,yf=t(154),Pl=t(251),bf=t.n(Pl),lh=(Oc=Object(ui.injectable)(),Il=Object(ui.inject)(Jr.RenderEngine),Oc((mf=function(){function K(){ua()(this,K),Hi()(this,"engine",Ys,this),this.resourcePool={}}return ja()(K,[{key:"getOrCreateResource",value:function(w){if(!this.resourcePool[w.name]){var B=w.descriptor,Z=B.width,Pt=B.height,_t=B.usage;this.resourcePool[w.name]=this.engine.createFramebuffer({color:this.engine.createTexture2D({width:Z,height:Pt,wrapS:yn.CLAMP_TO_EDGE,wrapT:yn.CLAMP_TO_EDGE,usage:_t})})}return this.resourcePool[w.name]}},{key:"clean",value:function(){this.resourcePool={}}}]),K}(),Ys=fa()(mf.prototype,"engine",[Il],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gf=mf))||gf);function fh(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=Uo()(K);if(G){var Z=Uo()(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return ds()(this,w)}}var ms,Pu,Dl=function(K){lo()(w,K);var G=fh(w);function w(B){var Z;return ua()(this,w),(Z=G.call(this,B)).name=void 0,Z.name=B.name||"",Z}return w}(xo),hh=Object(ui.injectable)()(ms=function(){function K(){ua()(this,K),this.config=void 0}return ja()(K,[{key:"get",value:function(){return this.config}},{key:"set",value:function(w){this.config=w}}]),K}())||ms,Rl=Object(ui.injectable)()(Pu=function(){function K(){ua()(this,K)}return ja()(K,[{key:"listen",value:function(w){}},{key:"on",value:function(w,B){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){}}]),K}())||Pu,xf=t(252),Of=t.n(xf),Sf,kl=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function Vc(K){var G={};return{content:K=K.replace(kl,function(w,B,Z){var Pt=Z.split(":"),_t=Pt[0].trim(),q="";switch(Pt.length>1&&(q=Pt[1].trim()),B){case"bool":q=q==="true";break;case"float":case"int":q=Number(q);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":q=q?q.replace("[","").replace("]","").split(",").reduce(function(kt,ee){return kt.push(Number(ee.trim())),kt},[]):new Array(function(kt){var ee=0;switch(kt){case"vec2":case"ivec2":ee=2;break;case"vec3":case"ivec3":ee=3;break;case"vec4":case"ivec4":case"mat2":ee=4;break;case"mat3":ee=9;break;case"mat4":ee=16}return ee}(B)).fill(0)}return G[_t]=q,"uniform ".concat(B," ").concat(_t,`;
`)}),uniforms:G}}function Du(K,G){var w=Object.keys(K);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(K);G&&(B=B.filter(function(Z){return Object.getOwnPropertyDescriptor(K,Z).enumerable})),w.push.apply(w,B)}return w}function Yc(K){for(var G=1;G<arguments.length;G++){var w=arguments[G]!=null?arguments[G]:{};G%2?Du(Object(w),!0).forEach(function(B){Ze()(K,B,w[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(w)):Du(Object(w)).forEach(function(B){Object.defineProperty(K,B,Object.getOwnPropertyDescriptor(w,B))})}return K}var pu=/precision\s+(high|low|medium)p\s+float/,dh=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,wf=Object(ui.injectable)()(Sf=function(){function K(){ua()(this,K),this.moduleCache={},this.rawContentCache={}}return ja()(K,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("picking",{vs:`attribute vec3 a_PickingColor;
varying vec4 v_PickingResult;

uniform vec3 u_PickingColor : [0, 0, 0];
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;
uniform float u_PickingThreshold : 1.0;
uniform float u_PickingBuffer: 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

bool isVertexPicked(vec3 vertexColor) {
  return
    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&
    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&
    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;
}

void setPickingColor(vec3 pickingColor) {
  // compares only in highlight stage
  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));

  // Stores the picking color so that the fragment shader can render it during picking
  v_PickingResult.rgb = pickingColor * COLOR_SCALE;
}

float setPickingSize(float x) {
   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;
}`,fs:`varying vec4 v_PickingResult;
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

/*
 * Returns highlight color if this item is selected.
 */
vec4 filterHighlightColor(vec4 color) {
  bool selected = bool(v_PickingResult.a);

  if (selected) {
    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;

    float highLightAlpha = highLightColor.a;
    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));

    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);
    return vec4(resultRGB, color.a);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 filterPickingColor(vec4 color) {
  vec3 pickingColor = v_PickingResult.rgb;
  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {
    discard;
  }
  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 filterColor(vec4 color) {
  return filterPickingColor(filterHighlightColor(color));
}
`}),this.registerModule("sdf2d",{vs:"",fs:`/**
 * 2D signed distance field functions
 * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
 */

float ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }

float sdCircle(vec2 p, float r) {
  return length(p) - r;
}

float sdEquilateralTriangle(vec2 p) {
  float k = sqrt(3.0);
  p.x = abs(p.x) - 1.0;
  p.y = p.y + 1.0/k;
  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;
  p.x -= clamp( p.x, -2.0, 0.0 );
  return -length(p)*sign(p.y);
}

float sdBox(vec2 p, vec2 b) {
  vec2 d = abs(p)-b;
  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);
}

float sdPentagon(vec2 p, float r) {
  vec3 k = vec3(0.809016994,0.587785252,0.726542528);
  p.x = abs(p.x);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);
  return length(p)*sign(p.y);
}

float sdHexagon(vec2 p, float r) {
  vec3 k = vec3(-0.866025404,0.5,0.577350269);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdOctogon(vec2 p, float r) {
  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );
  p = abs(p);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdHexagram(vec2 p, float r) {
  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;
  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);
  return length(p)*sign(p.y);
}

float sdRhombus(vec2 p, vec2 b) {
  vec2 q = abs(p);
  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);
  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );
  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );
}

float sdVesica(vec2 p, float r, float d) {
  p = abs(p);
  float b = sqrt(r*r-d*d); // can delay this sqrt
  return ((p.y-b)*d>p.x*b)
          ? length(p-vec2(0.0,b))
          : length(p-vec2(-d,0.0))-r;
}`})}},{key:"registerModule",value:function(w,B){if(!this.rawContentCache[w]){var Z=B.vs,Pt=B.fs,_t=B.uniforms,q=Vc(Z),kt=q.content,ee=q.uniforms,re=Vc(Pt),Te=re.content,Le=re.uniforms;this.rawContentCache[w]={fs:Te,uniforms:Yc(Yc(Yc({},ee),Le),_t),vs:kt}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(w){var B=this;if(this.moduleCache[w])return this.moduleCache[w];var Z=this.rawContentCache[w].vs,Pt=this.rawContentCache[w].fs,_t=this.processModule(Z,[],"vs"),q=_t.content,kt=_t.includeList,ee=this.processModule(Pt,[],"fs"),re=ee.content,Te=ee.includeList,Le=re,tn=Of()(kt.concat(Te).concat(w)).reduce(function(_e,$e){return Yc(Yc({},_e),B.rawContentCache[$e].uniforms)},{});return pu.test(re)||(Le=`#ifdef GL_FRAGMENT_PRECISION_HIGH
 precision highp float;
 #else
 precision mediump float;
#endif
`+re),this.moduleCache[w]={fs:Le.trim(),uniforms:tn,vs:q.trim()},this.moduleCache[w]}},{key:"processModule",value:function(w,B,Z){var Pt=this;return{content:w.replace(dh,function(_t,q){var kt=q.split(" ")[0].replace(/"/g,"");if(B.indexOf(kt)>-1)return"";var ee=Pt.rawContentCache[kt][Z];return B.push(kt),Pt.processModule(ee,B,Z).content}),includeList:B}}}]),K}())||Sf,Xs=new ui.Container;Object(ui.decorate)(Object(ui.injectable)(),yf.EventEmitter),Xs.bind(Jr.IEventEmitter).to(yf.EventEmitter),bf()(Xs,!1);function Ad(){var K=new ui.Container;return K.parent=Xs,K.bind(Jr.Systems).to(yo).inSingletonScope().whenTargetNamed(Jr.SceneGraphSystem),K.bind(Jr.Systems).to(wn).inSingletonScope().whenTargetNamed(Jr.FrameGraphSystem),K.bind(Jr.Systems).to(Ws).inSingletonScope().whenTargetNamed(Jr.MeshSystem),K.bind(Jr.Systems).to(Ci).inSingletonScope().whenTargetNamed(Jr.GeometrySystem),K.bind(Jr.Systems).to(Et).inSingletonScope().whenTargetNamed(Jr.MaterialSystem),K.bind(Jr.Systems).to(Tl).inSingletonScope().whenTargetNamed(Jr.RendererSystem),K.bind(Jr.ResourcePool).to(lh).inSingletonScope(),K.bind(Jr.ConfigService).to(hh).inSingletonScope(),K.bind(Jr.InteractorService).to(Rl).inSingletonScope(),K.bind(Jr.RenderPass).to(js).inSingletonScope().whenTargetNamed(js.IDENTIFIER),K.bind(Jr.RenderPass).to(nc).inSingletonScope().whenTargetNamed(nc.IDENTIFIER),K.bind(Jr.RenderPass).to(hf).inSingletonScope().whenTargetNamed(hf.IDENTIFIER),K.bind(Jr.RenderPassFactory).toFactory(function(G){return function(w){return G.container.getNamed(Jr.RenderPass,w)}}),K}Xs.bind(Jr.ShaderModuleService).to(wf).inSingletonScope(),Xs.bind(Jr.NameComponentManager).toConstantValue(new co(Dl)),Xs.bind(Jr.HierarchyComponentManager).toConstantValue(new co(pf)),Xs.bind(Jr.TransformComponentManager).toConstantValue(new co(ch)),Xs.bind(Jr.MeshComponentManager).toConstantValue(new co(Ue)),Xs.bind(Jr.CullableComponentManager).toConstantValue(new co(se)),Xs.bind(Jr.GeometryComponentManager).toConstantValue(new co(pa)),Xs.bind(Jr.MaterialComponentManager).toConstantValue(new co(Y));var vh;t(231),t(149),function(K){K.PANSTART="PANSTART",K.PANEND="PANEND",K.PANMOVE="PANMOVE",K.PINCH="PINCH",K.KEYDOWN="KEYDOWN",K.KEYUP="KEYUP",K.HOVER="HOVER"}(vh||(vh={})),t(232);var ac,Ef,gu,Xc,Is=typeof navigator!="undefined"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);(function(K){K.Void="Void",K.Boolean="Boolean",K.Float="Float",K.Uint32="Uint32",K.Int32="Int32",K.Vector="Vector",K.Vector2Float="vec2<f32>",K.Vector3Float="vec3<f32>",K.Vector4Float="vec4<f32>",K.Vector2Boolean="vec2<bool>",K.Vector3Boolean="vec3<bool>",K.Vector4Boolean="vec4<bool>",K.Vector2Uint="vec2<u32>",K.Vector3Uint="vec3<u32>",K.Vector4Uint="vec4<u32>",K.Vector2Int="vec2<i32>",K.Vector3Int="vec3<i32>",K.Vector4Int="vec4<i32>",K.Matrix="Matrix",K.Matrix3x3Float="mat3x3<f32>",K.Matrix4x4Float="mat4x4<i32>",K.Struct="Struct",K.FloatArray="Float[]",K.Vector4FloatArray="vec4<f32>[]"})(ac||(ac={})),function(K){K.Program="Program",K.Identifier="Identifier",K.VariableDeclaration="VariableDeclaration",K.BlockStatement="BlockStatement",K.ReturnStatement="ReturnStatement",K.FunctionDeclaration="FunctionDeclaration",K.VariableDeclarator="VariableDeclarator",K.AssignmentExpression="AssignmentExpression",K.LogicalExpression="LogicalExpression",K.BinaryExpression="BinaryExpression",K.ArrayExpression="ArrayExpression",K.UnaryExpression="UnaryExpression",K.UpdateExpression="UpdateExpression",K.FunctionExpression="FunctionExpression",K.MemberExpression="MemberExpression",K.ConditionalExpression="ConditionalExpression",K.ExpressionStatement="ExpressionStatement",K.CallExpression="CallExpression",K.NumThreadStatement="NumThreadStatement",K.StorageStatement="StorageStatement",K.DoWhileStatement="DoWhileStatement",K.WhileStatement="WhileStatement",K.ForStatement="ForStatement",K.BreakStatement="BreakStatement",K.ContinueStatement="ContinueStatement",K.IfStatement="IfStatement",K.ImportedFunctionStatement="ImportedFunctionStatement"}(Ef||(Ef={})),function(K){K.Input="Input",K.Output="Output",K.Uniform="Uniform",K.Workgroup="Workgroup",K.UniformConstant="UniformConstant",K.Image="Image",K.StorageBuffer="StorageBuffer",K.Private="Private",K.Function="Function"}(gu||(gu={})),function(K){K.GLSL100="GLSL100",K.GLSL450="GLSL450",K.WGSL="WGSL"}(Xc||(Xc={}));function mu(K){return K===void 0?0:K>360||K<-360?K%360:K}function os(K,G,w){return ga()(K)?Pn.e.fromValues(K,G,w):K.length===3?Pn.e.clone(K):Pn.e.fromValues(K[0],K[1],K[2])}var au,Cf,Hc,oc,Xu,Do,Kc,sc,Mf=function(){function K(G,w){ua()(this,K),this.name=void 0,this.matrix=void 0,this.right=void 0,this.up=void 0,this.forward=void 0,this.position=void 0,this.focalPoint=void 0,this.distanceVector=void 0,this.distance=void 0,this.dollyingStep=void 0,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.name=G,this.matrix=Pn.b.clone(w.matrix),this.right=Pn.e.clone(w.right),this.up=Pn.e.clone(w.up),this.forward=Pn.e.clone(w.forward),this.position=Pn.e.clone(w.position),this.focalPoint=Pn.e.clone(w.focalPoint),this.distanceVector=Pn.e.clone(w.distanceVector),this.azimuth=w.azimuth,this.elevation=w.elevation,this.roll=w.roll,this.relAzimuth=w.relAzimuth,this.relElevation=w.relElevation,this.relRoll=w.relRoll,this.dollyingStep=w.dollyingStep,this.distance=w.distance}return ja()(K,[{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getRoll",value:function(){return this.roll}},{key:"retrieve",value:function(w){w.matrix=Pn.b.copy(w.matrix,this.matrix),w.right=Pn.e.copy(w.right,this.right),w.up=Pn.e.copy(w.up,this.up),w.forward=Pn.e.copy(w.forward,this.forward),w.position=Pn.e.copy(w.position,this.position),w.focalPoint=Pn.e.copy(w.focalPoint,this.focalPoint),w.distanceVector=Pn.e.copy(w.distanceVector,this.distanceVector),w.azimuth=this.azimuth,w.elevation=this.elevation,w.roll=this.roll,w.relAzimuth=this.relAzimuth,w.relElevation=this.relElevation,w.relRoll=this.relRoll,w.dollyingStep=this.dollyingStep,w.distance=this.distance}}]),K}();(function(K){K.ORBITING="ORBITING",K.EXPLORING="EXPLORING",K.TRACKING="TRACKING"})(Do||(Do={})),function(K){K.DEFAULT="DEFAULT",K.ROTATIONAL="ROTATIONAL",K.TRANSLATIONAL="TRANSLATIONAL",K.CINEMATIC="CINEMATIC"}(Kc||(Kc={})),function(K){K.ORTHOGRAPHIC="ORTHOGRAPHIC",K.PERSPECTIVE="PERSPECTIVE"}(sc||(sc={}));var Hu,Sc,ph,Af,Jc,Qc,Tf,Js=Math.PI/180,Ku=180/Math.PI,Zc=(au=Object(ui.injectable)(),Cf=Object(ui.inject)(Jr.InteractorService),au((oc=function(){function K(){ua()(this,K),this.matrix=Pn.b.create(),this.right=Pn.e.fromValues(1,0,0),this.up=Pn.e.fromValues(0,1,0),this.forward=Pn.e.fromValues(0,0,1),this.position=Pn.e.fromValues(0,0,1),this.focalPoint=Pn.e.fromValues(0,0,0),this.distanceVector=Pn.e.fromValues(0,0,0),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.rotateWorld=!1,Hi()(this,"interactor",Xu,this),this.fov=30,this.near=.1,this.far=1e4,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.zoom=1,this.perspective=Pn.b.create(),this.view=void 0,this.following=void 0,this.type=Do.EXPLORING,this.trackingMode=Kc.DEFAULT,this.projectionMode=sc.PERSPECTIVE,this.frustum=new wa,this.landmarks=[],this.landmarkAnimationID=void 0}return ja()(K,[{key:"clone",value:function(){var w=new K;return w.setType(this.type,void 0),w.interactor=this.interactor,w}},{key:"getPerspective",value:function(){return this.perspective}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"setType",value:function(w,B){return this.type=w,this.type===Do.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===Do.TRACKING&&B!==void 0&&this.setTrackingMode(B),this}},{key:"setProjectionMode",value:function(w){return this.projectionMode=w,this}},{key:"setTrackingMode",value:function(w){if(this.type!==Do.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=w,this}},{key:"setWorldRotation",value:function(w){this.rotateWorld=w,this._getAngles()}},{key:"getViewTransform",value:function(){return Pn.b.invert(Pn.b.create(),this.matrix)}},{key:"setMatrix",value:function(w){return this.matrix=w,this._update(),this}},{key:"setAspect",value:function(w){return this.setPerspective(this.near,this.far,this.fov,w),this}},{key:"setViewOffset",value:function(w,B,Z,Pt,_t,q){return this.aspect=w/B,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=w,this.view.fullHeight=B,this.view.offsetX=Z,this.view.offsetY=Pt,this.view.width=_t,this.view.height=q,this.projectionMode===sc.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===sc.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setPerspective",value:function(w,B,Z,Pt){return this.projectionMode=sc.PERSPECTIVE,this.fov=Z,this.near=w,this.far=B,this.aspect=Pt,Pn.b.perspective(this.perspective,this.fov*Js,this.aspect,this.near,this.far),this}},{key:"setOrthographic",value:function(w,B,Z,Pt,_t,q){this.projectionMode=sc.ORTHOGRAPHIC,this.rright=B,this.left=w,this.top=Z,this.bottom=Pt,this.near=_t,this.far=q;var kt=(this.rright-this.left)/(2*this.zoom),ee=(this.top-this.bottom)/(2*this.zoom),re=(this.rright+this.left)/2,Te=(this.top+this.bottom)/2,Le=re-kt,tn=re+kt,_e=Te+ee,$e=Te-ee;if(this.view!==void 0&&this.view.enabled){var nn=(this.rright-this.left)/this.view.fullWidth/this.zoom,Xe=(this.top-this.bottom)/this.view.fullHeight/this.zoom;tn=(Le+=nn*this.view.offsetX)+nn*this.view.width,$e=(_e-=Xe*this.view.offsetY)-Xe*this.view.height}return Pn.b.ortho(this.perspective,Le,tn,_e,$e,_t,q),this}},{key:"setPosition",value:function(w,B,Z){return this._setPosition(w,B,Z),this.setFocalPoint(this.focalPoint),this}},{key:"setFocalPoint",value:function(w,B,Z){var Pt=Pn.e.fromValues(0,1,0);if(this.focalPoint=os(w,B,Z),this.trackingMode===Kc.CINEMATIC){var _t=Pn.e.subtract(Pn.e.create(),this.focalPoint,this.position);w=_t[0],B=_t[1],Z=_t[2];var q=Pn.e.length(_t),kt=Math.asin(B/q)*Ku,ee=90+Math.atan2(Z,w)*Ku,re=Pn.b.create();Pn.b.rotateY(re,re,ee*Js),Pn.b.rotateX(re,re,kt*Js),Pt=Pn.e.transformMat4(Pn.e.create(),[0,1,0],re)}return Pn.b.invert(this.matrix,Pn.b.lookAt(Pn.b.create(),this.position,this.focalPoint,Pt)),this._getAxes(),this._getDistance(),this._getAngles(),this}},{key:"setDistance",value:function(w){if(!(this.distance===w||w<0)){this.distance=w,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var B=Pn.e.create();w=this.distance;var Z=this.forward,Pt=this.focalPoint;return B[0]=w*Z[0]+Pt[0],B[1]=w*Z[1]+Pt[1],B[2]=w*Z[2]+Pt[2],this._setPosition(B),this}}},{key:"changeAzimuth",value:function(w){return this.setAzimuth(this.azimuth+w),this}},{key:"changeElevation",value:function(w){return this.setElevation(this.elevation+w),this}},{key:"changeRoll",value:function(w){return this.setRoll(this.roll+w),this}},{key:"setAzimuth",value:function(w){return this.azimuth=mu(w),this.computeMatrix(),this._getAxes(),this.type===Do.ORBITING||this.type===Do.EXPLORING?this._getPosition():this.type===Do.TRACKING&&this._getFocalPoint(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(w){return this.elevation=mu(w),this.computeMatrix(),this._getAxes(),this.type===Do.ORBITING||this.type===Do.EXPLORING?this._getPosition():this.type===Do.TRACKING&&this._getFocalPoint(),this}},{key:"setRoll",value:function(w){return this.roll=mu(w),this.computeMatrix(),this._getAxes(),this.type===Do.ORBITING||this.type===Do.EXPLORING?this._getPosition():this.type===Do.TRACKING&&this._getFocalPoint(),this}},{key:"rotate",value:function(w,B,Z){if(this.type===Do.EXPLORING){w=mu(w),B=mu(B),Z=mu(Z);var Pt=Pn.c.setAxisAngle(Pn.c.create(),[1,0,0],(this.rotateWorld?1:-1)*B*Js),_t=Pn.c.setAxisAngle(Pn.c.create(),[0,1,0],(this.rotateWorld?1:-1)*w*Js),q=Pn.c.setAxisAngle(Pn.c.create(),[0,0,1],Z*Js),kt=Pn.c.multiply(Pn.c.create(),_t,Pt);kt=Pn.c.multiply(Pn.c.create(),kt,q);var ee=Pn.b.fromQuat(Pn.b.create(),kt);Pn.b.translate(this.matrix,this.matrix,[0,0,-this.distance]),Pn.b.multiply(this.matrix,this.matrix,ee),Pn.b.translate(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation+B)>90)return;this.relElevation=mu(B),this.relAzimuth=mu(w),this.relRoll=mu(Z),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.computeMatrix()}return this._getAxes(),this.type===Do.ORBITING||this.type===Do.EXPLORING?this._getPosition():this.type===Do.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(w,B){var Z=os(w,B,0),Pt=Pn.e.clone(this.position);return Pn.e.add(Pt,Pt,Pn.e.scale(Pn.e.create(),this.right,Z[0])),Pn.e.add(Pt,Pt,Pn.e.scale(Pn.e.create(),this.up,Z[1])),this._setPosition(Pt),this}},{key:"dolly",value:function(w){var B=this.forward,Z=Pn.e.clone(this.position),Pt=w*this.dollyingStep;return Z[0]+=Pt*B[0],Z[1]+=Pt*B[1],Z[2]+=Pt*B[2],this._setPosition(Z),this.type===Do.ORBITING||this.type===Do.EXPLORING?this._getDistance():this.type===Do.TRACKING&&Pn.e.add(this.focalPoint,Z,this.distanceVector),this}},{key:"createLandmark",value:function(w,B){var Z=this.clone();Z.setPosition(B.position),Z.setFocalPoint(B.focalPoint),B.roll!==void 0&&Z.setRoll(B.roll);var Pt=new Mf(w,Z);return this.landmarks.push(Pt),Pt}},{key:"setLandmark",value:function(w){var B=new Mf(w,this);return this.landmarks.push(B),this}},{key:"gotoLandmark",value:function(w){var B=this,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3,Pt=this.landmarks.find(function(Te){return Te.name===w});if(Pt){if(Z===0)return void Pt.retrieve(this);this.landmarkAnimationID!==void 0&&window.cancelAnimationFrame(this.landmarkAnimationID),this.interactor.disconnect();var _t,q=Pt.getPosition(),kt=Pt.getFocalPoint(),ee=Pt.getRoll(),re=function Te(Le){_t===void 0&&(_t=Le);var tn,_e=Le-_t,$e=(1-Math.cos(_e/Z*Math.PI))/2,nn=Pn.e.create(),Xe=Pn.e.create();if(Pn.e.lerp(nn,B.focalPoint,kt,$e),Pn.e.lerp(Xe,B.position,q,$e),tn=B.roll*(1-$e)+ee*$e,B.setFocalPoint(nn),B.setPosition(Xe),B.setRoll(tn),B.computeMatrix(),!(Pn.e.dist(nn,kt)+Pn.e.dist(Xe,q)>.01))return B.setFocalPoint(nn),B.setPosition(Xe),B.setRoll(tn),B.computeMatrix(),void B.interactor.connect();_e<Z&&(B.landmarkAnimationID=window.requestAnimationFrame(Te))};window.requestAnimationFrame(re)}}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles()}},{key:"computeMatrix",value:function(){var w,B,Z=Pn.c.setAxisAngle(Pn.c.create(),[0,0,1],this.roll*Js);Pn.b.identity(this.matrix),w=Pn.c.setAxisAngle(Pn.c.create(),[1,0,0],(this.rotateWorld&&this.type!==Do.TRACKING||this.type===Do.TRACKING?1:-1)*this.elevation*Js),B=Pn.c.setAxisAngle(Pn.c.create(),[0,1,0],(this.rotateWorld&&this.type!==Do.TRACKING||this.type===Do.TRACKING?1:-1)*this.azimuth*Js);var Pt=Pn.c.multiply(Pn.c.create(),B,w);Pt=Pn.c.multiply(Pn.c.create(),Pt,Z);var _t=Pn.b.fromQuat(Pn.b.create(),Pt);this.type===Do.ORBITING||this.type===Do.EXPLORING?(Pn.b.translate(this.matrix,this.matrix,this.focalPoint),Pn.b.multiply(this.matrix,this.matrix,_t),Pn.b.translate(this.matrix,this.matrix,[0,0,this.distance])):this.type===Do.TRACKING&&(Pn.b.translate(this.matrix,this.matrix,this.position),Pn.b.multiply(this.matrix,this.matrix,_t))}},{key:"_setPosition",value:function(w,B,Z){this.position=os(w,B,Z);var Pt=this.matrix;Pt[12]=this.position[0],Pt[13]=this.position[1],Pt[14]=this.position[2],Pt[15]=1}},{key:"_getAxes",value:function(){Pn.e.copy(this.right,os(Pn.f.transformMat4(Pn.f.create(),[1,0,0,0],this.matrix))),Pn.e.copy(this.up,os(Pn.f.transformMat4(Pn.f.create(),[0,1,0,0],this.matrix))),Pn.e.copy(this.forward,os(Pn.f.transformMat4(Pn.f.create(),[0,0,1,0],this.matrix))),Pn.e.normalize(this.right,this.right),Pn.e.normalize(this.up,this.up),Pn.e.normalize(this.forward,this.forward)}},{key:"_getAngles",value:function(){var w=this.distanceVector[0],B=this.distanceVector[1],Z=this.distanceVector[2],Pt=Pn.e.length(this.distanceVector);if(Pt===0)return this.elevation=0,void(this.azimuth=0);this.type===Do.TRACKING||this.rotateWorld?(this.elevation=Math.asin(B/Pt)*Ku,this.azimuth=Math.atan2(-w,-Z)*Ku):(this.elevation=-Math.asin(B/Pt)*Ku,this.azimuth=-Math.atan2(-w,-Z)*Ku)}},{key:"_getPosition",value:function(){Pn.e.copy(this.position,os(Pn.f.transformMat4(Pn.f.create(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){Pn.e.transformMat3(this.distanceVector,[0,0,-this.distance],Pn.a.fromMat4(Pn.a.create(),this.matrix)),Pn.e.add(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=Pn.e.subtract(Pn.e.create(),this.focalPoint,this.position),this.distance=Pn.e.length(this.distanceVector),this.dollyingStep=this.distance/100}}]),K}(),Xu=fa()(oc.prototype,"interactor",[Cf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hc=oc))||Hc),gh=t(44),$c=t.n(gh),qc=t(26),mh=t.n(qc),Mi=t(7);function jf(){if(typeof document!="undefined")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function If(K,G){var w=Object.keys(K);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(K);G&&(B=B.filter(function(Z){return Object.getOwnPropertyDescriptor(K,Z).enumerable})),w.push.apply(w,B)}return w}function ou(K){for(var G=1;G<arguments.length;G++){var w=arguments[G]!=null?arguments[G]:{};G%2?If(Object(w),!0).forEach(function(B){Ze()(K,B,w[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(w)):If(Object(w)).forEach(function(B){Object.defineProperty(K,B,Object.getOwnPropertyDescriptor(w,B))})}return K}var Pf,tl,yh,wc,bh,xh,yu,Ju,Nl,Ec,el,uc,Da,nl,su,uu,Ru,Ps,cc,Qo,rl,Ll,Hs,lc,vs,ps,Qs,Bl,bu=(Hu=Object(ui.injectable)(),Sc=Object(ui.inject)(Jr.RenderEngine),ph=Object(ui.inject)(Jr.ConfigService),Hu((Jc=function(){function K(){ua()(this,K),Hi()(this,"engine",Qc,this),Hi()(this,"configService",Tf,this),this.entity=so(),this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}var G,w,B;return ja()(K,[{key:"init",value:function(){var Pt=this.configService.get(),_t=Pt.canvas,q=Pt.engineOptions;this.initPromise=this.engine.init(ou({canvas:_t||jf(),swapChainFormat:Mi.TextureFormat.BGRA8Unorm,antialiasing:!1},q))}},{key:"setBundle",value:function(Pt){this.compiledBundle=JSON.parse(JSON.stringify(Pt))}},{key:"setDispatch",value:function(Pt){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=Pt),this}},{key:"setMaxIteration",value:function(Pt){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=Pt),this}},{key:"setBinding",value:function(Pt,_t){var q=this;if(typeof Pt=="string"){var kt=ga()(_t)||$c()(_t)||mh()(_t);if(this.compiledBundle&&this.compiledBundle.context){var ee=this.compiledBundle.context.defines.find(function(Te){return Te.name===Pt});if(ee)return ee.value=_t,this;var re=this.compiledBundle.context.uniforms.find(function(Te){return Te.name===Pt});re&&(kt?(re.data=_t,re.isReferer=!1,re.storageClass===gu.Uniform?this.model&&this.model.updateUniform(Pt,_t):this.model&&this.model.updateBuffer(Pt,_t)):(re.isReferer=!0,re.data=_t))}}else Object.keys(Pt).forEach(function(Te){q.setBinding(Te,Pt[Te])});return this}},{key:"execute",value:(B=qr()(gr.a.mark(function Z(){var Pt,_t,q=this,kt=arguments;return gr.a.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(Pt=kt.length>0&&kt[0]!==void 0?kt[0]:1,!this.dirty){ee.next=6;break}return this.compiledBundle.context&&(Pt>1?this.compiledBundle.context.maxIteration=Pt:this.compiledBundle.context.maxIteration++),ee.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter(function(re){return re.isReferer}).forEach(function(re){var Te=re.data,Le=re.name;q.model.confirmInput(Te.model,Le)}),_t=0;_t<Pt;_t++)this.model.run();return this.engine.endFrame(),ee.abrupt("return",this);case 12:case"end":return ee.stop()}},Z,this)})),function(){return B.apply(this,arguments)})},{key:"getOutput",value:(w=qr()(gr.a.mark(function Z(){return gr.a.wrap(function(Pt){for(;;)switch(Pt.prev=Pt.next){case 0:return Pt.abrupt("return",this.model.readData());case 1:case"end":return Pt.stop()}},Z,this)})),function(){return w.apply(this,arguments)})},{key:"compile",value:(G=qr()(gr.a.mark(function Z(){var Pt,_t,q;return gr.a.wrap(function(kt){for(;;)switch(kt.prev=kt.next){case 0:return kt.next=2,this.initPromise;case 2:return Pt=ou({},this.compiledBundle.context),_t=this.engine.supportWebGPU?this.engine.useWGSL?Xc.WGSL:Xc.GLSL450:Xc.GLSL100,q=this.compiledBundle.shaders[_t],Pt.defines.filter(function(ee){return ee.runtime}).forEach(function(ee){var re="".concat("__DefineValuePlaceholder__").concat(ee.name);q=q.replace(re,"".concat(ee.value))}),Pt.shader=q,Pt.uniforms.forEach(function(ee){if(!ee.data&&ee.storageClass===gu.StorageBuffer){var re=1;ee.type===ac.FloatArray?re=1:ee.type===ac.Vector4FloatArray&&(re=4),ee.data=new Float32Array(Pt.output.length*re).fill(0)}}),this.compiledBundle.context=Pt,kt.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=kt.sent;case 12:case"end":return kt.stop()}},Z,this)})),function(){return G.apply(this,arguments)})}]),K}(),Qc=fa()(Jc.prototype,"engine",[Sc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tf=fa()(Jc.prototype,"configService",[ph],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Af=Jc))||Af),ns=(Pf=Object(ui.injectable)(),tl=Object(ui.inject)(Jr.MeshComponentManager),yh=Object(ui.inject)(Jr.CullableComponentManager),wc=Object(ui.inject)(Jr.TransformComponentManager),bh=Object(ui.inject)(Jr.Systems),xh=Object(ui.named)(Jr.SceneGraphSystem),Pf((nl=Da=function(){function K(){ua()(this,K),this.attributes={},this.config=void 0,Hi()(this,"mesh",Nl,this),Hi()(this,"cullable",Ec,this),Hi()(this,"transform",el,this),Hi()(this,"sceneGraphSystem",uc,this),this.meshComponent=void 0,this.transformComponent=void 0,this.entity=void 0}return ja()(K,[{key:"getEntity",value:function(){return this.entity}},{key:"getTransformComponent",value:function(){return this.transformComponent}},{key:"getMeshComponent",value:function(){return this.meshComponent}},{key:"setConfig",value:function(w){this.config=w}},{key:"setEntity",value:function(w){this.entity=w,this.cullable.create(w),this.meshComponent=this.mesh.create(w),this.transformComponent=this.transform.create(w),this.onEntityCreated()}},{key:"setMaterial",value:function(w){return this.meshComponent.material=w,this}},{key:"setGeometry",value:function(w){return this.meshComponent.geometry=w,this}},{key:"setAttributes",value:function(w){var B=this;Object.keys(w).forEach(function(Z){w[Z]!==void 0&&w[Z]!==B.attributes[Z]&&(B.onAttributeChanged({name:Z,data:w[Z]}),B.attributes[Z]=w[Z])})}},{key:"setVisible",value:function(w){return this.meshComponent.visible=w,this}},{key:"isVisible",value:function(){return this.meshComponent.visible}},{key:"attach",value:function(w){return this.sceneGraphSystem.attach(this.entity,w.entity),this}},{key:"detach",value:function(){return this.sceneGraphSystem.detach(this.entity),this}},{key:"detachChildren",value:function(){return this.sceneGraphSystem.detachChildren(this.entity),this}},{key:"onEntityCreated",value:function(){}},{key:"onAttributeChanged",value:function(w){var B=w.name,Z=w.data;this.meshComponent&&this.meshComponent.material&&this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(B),Z)}},{key:"convertAttributeName2UniformName",value:function(w){return w}}]),K}(),Da.POINT="point",Da.LINE="line",Da.GRID="grid",Ju=nl,Nl=fa()(Ju.prototype,"mesh",[tl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ec=fa()(Ju.prototype,"cullable",[yh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),el=fa()(Ju.prototype,"transform",[wc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uc=fa()(Ju.prototype,"sceneGraphSystem",[bh,xh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yu=Ju))||yu),Df=t(253),Td=t.n(Df),Rf=function(){function K(G,w){ua()(this,K),this.attribute=void 0,this.buffer=void 0;var B=w.buffer,Z=w.offset,Pt=w.stride,_t=w.normalized,q=w.size,kt=w.divisor;this.buffer=B,this.attribute={buffer:B.get(),offset:Z||0,stride:Pt||0,normalized:_t||!1,divisor:kt||0},q&&(this.attribute.size=q)}return ja()(K,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(w){this.buffer.subData(w)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),K}(),jd=(su={},Ze()(su,yn.POINTS,"points"),Ze()(su,yn.LINES,"lines"),Ze()(su,yn.LINE_LOOP,"line loop"),Ze()(su,yn.LINE_STRIP,"line strip"),Ze()(su,yn.TRIANGLES,"triangles"),Ze()(su,yn.TRIANGLE_FAN,"triangle fan"),Ze()(su,yn.TRIANGLE_STRIP,"triangle strip"),su),Oh=(uu={},Ze()(uu,yn.STATIC_DRAW,"static"),Ze()(uu,yn.DYNAMIC_DRAW,"dynamic"),Ze()(uu,yn.STREAM_DRAW,"stream"),uu),fc=(Ru={},Ze()(Ru,yn.BYTE,"int8"),Ze()(Ru,yn.UNSIGNED_INT,"int16"),Ze()(Ru,yn.INT,"int32"),Ze()(Ru,yn.UNSIGNED_BYTE,"uint8"),Ze()(Ru,yn.UNSIGNED_SHORT,"uint16"),Ze()(Ru,yn.UNSIGNED_INT,"uint32"),Ze()(Ru,yn.FLOAT,"float"),Ru),Sh=(Ps={},Ze()(Ps,yn.ALPHA,"alpha"),Ze()(Ps,yn.LUMINANCE,"luminance"),Ze()(Ps,yn.LUMINANCE_ALPHA,"luminance alpha"),Ze()(Ps,yn.RGB,"rgb"),Ze()(Ps,yn.RGBA,"rgba"),Ze()(Ps,yn.RGBA4,"rgba4"),Ze()(Ps,yn.RGB5_A1,"rgb5 a1"),Ze()(Ps,yn.RGB565,"rgb565"),Ze()(Ps,yn.DEPTH_COMPONENT,"depth"),Ze()(Ps,yn.DEPTH_STENCIL,"depth stencil"),Ps),wh=(cc={},Ze()(cc,yn.DONT_CARE,"dont care"),Ze()(cc,yn.NICEST,"nice"),Ze()(cc,yn.FASTEST,"fast"),cc),Eh=(Qo={},Ze()(Qo,yn.NEAREST,"nearest"),Ze()(Qo,yn.LINEAR,"linear"),Ze()(Qo,yn.LINEAR_MIPMAP_LINEAR,"mipmap"),Ze()(Qo,yn.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),Ze()(Qo,yn.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),Ze()(Qo,yn.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),Qo),kf=(rl={},Ze()(rl,yn.REPEAT,"repeat"),Ze()(rl,yn.CLAMP_TO_EDGE,"clamp"),Ze()(rl,yn.MIRRORED_REPEAT,"mirror"),rl),Id=(Ll={},Ze()(Ll,yn.NONE,"none"),Ze()(Ll,yn.BROWSER_DEFAULT_WEBGL,"browser"),Ll),Fl=(Hs={},Ze()(Hs,yn.NEVER,"never"),Ze()(Hs,yn.ALWAYS,"always"),Ze()(Hs,yn.LESS,"less"),Ze()(Hs,yn.LEQUAL,"lequal"),Ze()(Hs,yn.GREATER,"greater"),Ze()(Hs,yn.GEQUAL,"gequal"),Ze()(Hs,yn.EQUAL,"equal"),Ze()(Hs,yn.NOTEQUAL,"notequal"),Hs),Cc=(lc={},Ze()(lc,yn.FUNC_ADD,"add"),Ze()(lc,yn.MIN_EXT,"min"),Ze()(lc,yn.MAX_EXT,"max"),Ze()(lc,yn.FUNC_SUBTRACT,"subtract"),Ze()(lc,yn.FUNC_REVERSE_SUBTRACT,"reverse subtract"),lc),il=(vs={},Ze()(vs,yn.ZERO,"zero"),Ze()(vs,yn.ONE,"one"),Ze()(vs,yn.SRC_COLOR,"src color"),Ze()(vs,yn.ONE_MINUS_SRC_COLOR,"one minus src color"),Ze()(vs,yn.SRC_ALPHA,"src alpha"),Ze()(vs,yn.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),Ze()(vs,yn.DST_COLOR,"dst color"),Ze()(vs,yn.ONE_MINUS_DST_COLOR,"one minus dst color"),Ze()(vs,yn.DST_ALPHA,"dst alpha"),Ze()(vs,yn.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),Ze()(vs,yn.CONSTANT_COLOR,"constant color"),Ze()(vs,yn.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),Ze()(vs,yn.CONSTANT_ALPHA,"constant alpha"),Ze()(vs,yn.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),Ze()(vs,yn.SRC_ALPHA_SATURATE,"src alpha saturate"),vs),Pd=(ps={},Ze()(ps,yn.NEVER,"never"),Ze()(ps,yn.ALWAYS,"always"),Ze()(ps,yn.LESS,"less"),Ze()(ps,yn.LEQUAL,"lequal"),Ze()(ps,yn.GREATER,"greater"),Ze()(ps,yn.GEQUAL,"gequal"),Ze()(ps,yn.EQUAL,"equal"),Ze()(ps,yn.NOTEQUAL,"notequal"),ps),ku=(Qs={},Ze()(Qs,yn.ZERO,"zero"),Ze()(Qs,yn.KEEP,"keep"),Ze()(Qs,yn.REPLACE,"replace"),Ze()(Qs,yn.INVERT,"invert"),Ze()(Qs,yn.INCR,"increment"),Ze()(Qs,yn.DECR,"decrement"),Ze()(Qs,yn.INCR_WRAP,"increment wrap"),Ze()(Qs,yn.DECR_WRAP,"decrement wrap"),Qs),al=(Bl={},Ze()(Bl,yn.FRONT,"front"),Ze()(Bl,yn.BACK,"back"),Bl),hc=function(){function K(G,w){ua()(this,K),this.buffer=void 0;var B=w.data,Z=w.usage,Pt=w.type;this.buffer=G.buffer({data:B,usage:Oh[Z||yn.STATIC_DRAW],type:fc[Pt||yn.UNSIGNED_BYTE]})}return ja()(K,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(w){var B=w.data,Z=w.offset;this.buffer.subdata(B,Z)}}]),K}(),_l=t(23),_o=t.n(_l);function Gl(K,G){var w=Object.keys(K);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(K);G&&(B=B.filter(function(Z){return Object.getOwnPropertyDescriptor(K,Z).enumerable})),w.push.apply(w,B)}return w}function ol(K){for(var G=1;G<arguments.length;G++){var w=arguments[G]!=null?arguments[G]:{};G%2?Gl(Object(w),!0).forEach(function(B){Ze()(K,B,w[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(w)):Gl(Object(w)).forEach(function(B){Object.defineProperty(K,B,Object.getOwnPropertyDescriptor(w,B))})}return K}var Nf=0,ys=function(){function K(w,B){var Z=this;ua()(this,K),this.reGl=w,this.context=B,this.entity=so(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var Pt={};this.context.uniforms.forEach(function(re){var Te=re.name,Le=re.type,tn=re.data,_e=re.isReferer,$e=re.storageClass;if($e===gu.StorageBuffer){if(_e)Z.textureCache[Te]={data:void 0},Pt["".concat(Te,"Size")]=function(){return tn.compiledBundle.context.output.textureSize};else{Z.textureCache[Te]=Z.calcDataTexture(Te,Le,tn);var nn=Z.textureCache[Te],Xe=nn.textureWidth,fn=nn.isOutput;Pt["".concat(Te,"Size")]=[Xe,Xe],fn&&(Z.outputTextureName=Te,Z.context.needPingpong&&(Z.outputTextureName="".concat(Te,"Output"),Z.textureCache[Z.outputTextureName]=Z.calcDataTexture(Te,Le,tn)))}Pt[Te]=function(){return Z.textureCache[Te].texture}}else if($e===gu.Uniform){if(tn&&(Array.isArray(tn)||$c()(tn))&&tn.length>16)throw new Error("invalid data type ".concat(Le));Pt[Te]=function(){return re.data}}});var _t=this.getOuputDataTexture(),q=_t.textureWidth,kt=_t.texelCount;Pt.u_OutputTextureSize=[q,q],Pt.u_OutputTexelCount=kt,this.context.output.textureSize=[q,q];var ee={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(this.context.shader),uniforms:Pt,vert:`attribute vec3 a_Position;
attribute vec2 a_TexCoord;

varying vec2 v_TexCoord;

void main() {
  gl_Position = vec4(a_Position, 1.0);
  v_TexCoord = a_TexCoord;
}`,primitive:"triangle strip",count:4};this.computeCommand=this.reGl(ee)}var G;return ja()(K,[{key:"run",value:function(){var B=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use(function(){B.computeCommand()})}},{key:"readData",value:(G=qr()(gr.a.mark(function w(){var B,Z,Pt,_t,q,kt,ee,re,Te=this;return gr.a.wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:if(this.reGl({framebuffer:this.texFBO})(function(){B=Te.reGl.read()}),!B){Le.next=6;break}if(Z=this.getOuputDataTexture(),Pt=Z.originalDataLength,_t=Z.elementsPerTexel,q=Z.typedArrayConstructor,kt=q===void 0?Float32Array:q,ee=[],_t!==4)for(re=0;re<B.length;re+=4)_t===1?ee.push(B[re]):_t===2?ee.push(B[re],B[re+1]):ee.push(B[re],B[re+1],B[re+2]);else ee=B;return Le.abrupt("return",new kt(ee.slice(0,Pt)));case 6:return Le.abrupt("return",new Float32Array);case 7:case"end":return Le.stop()}},w,this)})),function(){return G.apply(this,arguments)})},{key:"confirmInput",value:function(B,Z){var Pt;this.entity===B.entity?(this.dynamicPingpong=!0,Pt=this):Pt=B,this.textureCache[Z].id=Pt.getOuputDataTexture().id,this.textureCache[Z].texture=Pt.getOuputDataTexture().texture}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(B,Z){var Pt=this.context.uniforms.find(function(ee){return ee.name===B});if(Pt){var _t=this.calcDataTexture(B,Pt.type,Z),q=_t.texture,kt=_t.data;this.textureCache[B].data=kt,this.textureCache[B].texture=q}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var B=this.context.output.name;this.textureCache[B].id=this.getOuputDataTexture().id,this.textureCache[B].texture=this.getOuputDataTexture().texture}var Z=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=Z}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var B=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=B}},{key:"cloneDataTexture",value:function(B){var Z=B.data,Pt=B.textureWidth;return ol(ol({},B),{},{id:Nf++,texture:this.reGl.texture({width:Pt,height:Pt,data:Z,type:"float"})})}},{key:"calcDataTexture",value:function(B,Z,Pt){var _t=1;Z===ac.Vector4FloatArray&&(_t=4);for(var q=[],kt=0;kt<Pt.length;kt+=_t)_t===1?q.push(Pt[kt],0,0,0):_t===2?q.push(Pt[kt],Pt[kt+1],0,0):_t===3?q.push(Pt[kt],Pt[kt+1],Pt[kt+2],0):_t===4&&q.push(Pt[kt],Pt[kt+1],Pt[kt+2],Pt[kt+3]);var ee=Pt.length,re=Math.ceil(ee/_t),Te=Math.ceil(Math.sqrt(re)),Le=Te*Te;re<Le&&q.push.apply(q,_o()(new Array(4*(Le-re)).fill(0)));var tn=this.reGl.texture({width:Te,height:Te,data:q,type:"float"});return{id:Nf++,data:q,originalDataLength:ee,typedArrayConstructor:$c()(Pt)?Pt.constructor:void 0,textureWidth:Te,texture:tn,texelCount:re,elementsPerTexel:_t,isOutput:B===this.context.output.name}}}]),K}(),dc=function(){function K(G,w){ua()(this,K),this.elements=void 0;var B=w.data,Z=w.usage,Pt=w.type,_t=w.count;this.elements=G.elements({data:B,usage:Oh[Z||yn.STATIC_DRAW],type:fc[Pt||yn.UNSIGNED_BYTE],count:_t})}return ja()(K,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(w){var B=w.data;this.elements.subdata(B)}},{key:"destroy",value:function(){this.elements.destroy()}}]),K}(),Ch=function(){function K(G,w){ua()(this,K),this.framebuffer=void 0;var B=w.width,Z=w.height,Pt=w.color,_t=w.colors,q=(w.depth,w.stencil,{width:B,height:Z});Array.isArray(_t)&&(q.colors=_t.map(function(kt){return kt.get()})),Pt&&typeof Pt!="boolean"&&(q.color=Pt.get()),this.framebuffer=G.framebuffer(q)}return ja()(K,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(w){var B=w.width,Z=w.height;this.framebuffer.resize(B,Z)}}]),K}(),Lf=t(91),Mh=t.n(Lf),Dd=t(151),nv=t.n(Dd);function Mc(K){var G={};return Object.keys(K).forEach(function(w){(function B(Z,Pt,_t,q){if(Pt===null||typeof Pt=="number"||typeof Pt=="boolean"||Array.isArray(Pt)&&typeof Pt[0]=="number"||$c()(Pt)||Pt===""||"resize"in Pt)return void(_t["".concat(q&&q+".").concat(Z)]=Pt);nv()(Pt)&&Object.keys(Pt).forEach(function(kt){B(kt,Pt[kt],_t,"".concat(q&&q+".").concat(Z))}),Array.isArray(Pt)&&Pt.forEach(function(kt,ee){Object.keys(kt).forEach(function(re){B(re,kt[re],_t,"".concat(q&&q+".").concat(Z,"[").concat(ee,"]"))})})})(w,K[w],G,"")}),G}function sl(K,G){var w=Object.keys(K);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(K);G&&(B=B.filter(function(Z){return Object.getOwnPropertyDescriptor(K,Z).enumerable})),w.push.apply(w,B)}return w}function Ac(K){for(var G=1;G<arguments.length;G++){var w=arguments[G]!=null?arguments[G]:{};G%2?sl(Object(w),!0).forEach(function(B){Ze()(K,B,w[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(w)):sl(Object(w)).forEach(function(B){Object.defineProperty(K,B,Object.getOwnPropertyDescriptor(w,B))})}return K}var Ah,Ul,Rd=function(){function K(G,w){ua()(this,K),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=G;var B=w.vs,Z=w.fs,Pt=w.attributes,_t=w.uniforms,q=w.primitive,kt=w.count,ee=w.elements,re=w.depth,Te=w.blend,Le=w.stencil,tn=w.cull,_e=w.instances,$e=w.scissor,nn=w.viewport,Xe={};_t&&(this.uniforms=Mc(_t),Object.keys(_t).forEach(function(er){Xe[er]=G.prop(er)}));var fn={};Object.keys(Pt).forEach(function(er){fn[er]=Pt[er].get()});var jn={attributes:fn,frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(Z),uniforms:Xe,vert:B,primitive:jd[q===void 0?yn.TRIANGLES:q]};_e&&(jn.instances=_e),kt&&(jn.count=kt),ee&&(jn.elements=ee.get()),$e&&(jn.scissor=$e),nn&&(jn.viewport=nn),this.initDepthDrawParams({depth:re},jn),this.initBlendDrawParams({blend:Te},jn),this.initStencilDrawParams({stencil:Le},jn),this.initCullDrawParams({cull:tn},jn),this.drawCommand=G(jn)}return ja()(K,[{key:"addUniforms",value:function(w){this.uniforms=Ac(Ac({},this.uniforms),Mc(w))}},{key:"draw",value:function(w){var B=Ac(Ac({},this.uniforms),Mc(w.uniforms||{})),Z={};Object.keys(B).forEach(function(Pt){var _t=Mh()(B[Pt]);_t==="boolean"||_t==="number"||Array.isArray(B[Pt])||B[Pt].BYTES_PER_ELEMENT?Z[Pt]=B[Pt]:Z[Pt]=B[Pt].get()}),this.drawCommand(Z)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(w,B){var Z=w.depth;Z&&(B.depth={enable:Z.enable===void 0||!!Z.enable,mask:Z.mask===void 0||!!Z.mask,func:Fl[Z.func||yn.LESS],range:Z.range||[0,1]})}},{key:"initBlendDrawParams",value:function(w,B){var Z=w.blend;if(Z){var Pt=Z.enable,_t=Z.func,q=Z.equation,kt=Z.color,ee=kt===void 0?[0,0,0,0]:kt;B.blend={enable:!!Pt,func:{srcRGB:il[_t&&_t.srcRGB||yn.SRC_ALPHA],srcAlpha:il[_t&&_t.srcAlpha||yn.SRC_ALPHA],dstRGB:il[_t&&_t.dstRGB||yn.ONE_MINUS_SRC_ALPHA],dstAlpha:il[_t&&_t.dstAlpha||yn.ONE_MINUS_SRC_ALPHA]},equation:{rgb:Cc[q&&q.rgb||yn.FUNC_ADD],alpha:Cc[q&&q.alpha||yn.FUNC_ADD]},color:ee}}}},{key:"initStencilDrawParams",value:function(w,B){var Z=w.stencil;if(Z){var Pt=Z.enable,_t=Z.mask,q=_t===void 0?-1:_t,kt=Z.func,ee=kt===void 0?{cmp:yn.ALWAYS,ref:0,mask:-1}:kt,re=Z.opFront,Te=re===void 0?{fail:yn.KEEP,zfail:yn.KEEP,zpass:yn.KEEP}:re,Le=Z.opBack,tn=Le===void 0?{fail:yn.KEEP,zfail:yn.KEEP,zpass:yn.KEEP}:Le;B.stencil={enable:!!Pt,mask:q,func:Ac(Ac({},ee),{},{cmp:Pd[ee.cmp]}),opFront:{fail:ku[Te.fail],zfail:ku[Te.zfail],zpass:ku[Te.zpass]},opBack:{fail:ku[tn.fail],zfail:ku[tn.zfail],zpass:ku[tn.zpass]}}}}},{key:"initCullDrawParams",value:function(w,B){var Z=w.cull;if(Z){var Pt=Z.enable,_t=Z.face,q=_t===void 0?yn.BACK:_t;B.cull={enable:!!Pt,face:al[q]}}}}]),K}(),zl=function(){function K(G,w){ua()(this,K),this.texture=void 0,this.width=void 0,this.height=void 0;var B=w.data,Z=w.type,Pt=Z===void 0?yn.UNSIGNED_BYTE:Z,_t=w.width,q=w.height,kt=w.flipY,ee=kt!==void 0&&kt,re=w.format,Te=re===void 0?yn.RGBA:re,Le=w.mipmap,tn=Le!==void 0&&Le,_e=w.wrapS,$e=_e===void 0?yn.CLAMP_TO_EDGE:_e,nn=w.wrapT,Xe=nn===void 0?yn.CLAMP_TO_EDGE:nn,fn=w.aniso,jn=fn===void 0?0:fn,er=w.alignment,Gn=er===void 0?1:er,Kn=w.premultiplyAlpha,nr=Kn!==void 0&&Kn,yr=w.mag,Sr=yr===void 0?yn.NEAREST:yr,_r=w.min,Wr=_r===void 0?yn.NEAREST:_r,Tr=w.colorSpace,Ur=Tr===void 0?yn.BROWSER_DEFAULT_WEBGL:Tr;this.width=_t,this.height=q;var ni={width:_t,height:q,type:fc[Pt],format:Sh[Te],wrapS:kf[$e],wrapT:kf[Xe],mag:Eh[Sr],min:Eh[Wr],alignment:Gn,flipY:ee,colorSpace:Id[Ur],premultiplyAlpha:nr,aniso:jn};B&&(ni.data=B),typeof tn=="number"?ni.mipmap=wh[tn]:typeof tn=="boolean"&&(ni.mipmap=tn),this.texture=G.texture(ni)}return ja()(K,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(w){var B=w.width,Z=w.height;this.texture.resize(B,Z),this.width=B,this.height=Z}},{key:"destroy",value:function(){this.texture.destroy()}}]),K}(),Th=Object(ui.injectable)()(Ah=function(){function K(){var w=this;ua()(this,K),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var B=qr()(gr.a.mark(function Z(Pt){return gr.a.wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:return _t.abrupt("return",new Rd(w.gl,Pt));case 1:case"end":return _t.stop()}},Z)}));return function(Z){return B.apply(this,arguments)}}(),this.createAttribute=function(B){return new Rf(w.gl,B)},this.createBuffer=function(B){return new hc(w.gl,B)},this.createElements=function(B){return new dc(w.gl,B)},this.createTexture2D=function(B){return new zl(w.gl,B)},this.createFramebuffer=function(B){return new Ch(w.gl,B)},this.useFramebuffer=function(B,Z){w.gl({framebuffer:B?B.get():null})(Z)},this.createComputeModel=function(){var B=qr()(gr.a.mark(function Z(Pt){return gr.a.wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:return _t.abrupt("return",new ys(w.gl,Pt));case 1:case"end":return _t.stop()}},Z)}));return function(Z){return B.apply(this,arguments)}}(),this.clear=function(B){var Z=B.color,Pt=B.depth,_t=B.stencil,q=B.framebuffer,kt=q===void 0?null:q,ee={color:Z,depth:Pt,stencil:_t};ee.framebuffer=kt===null?kt:kt.get(),w.gl.clear(ee)},this.setScissor=function(B){w.gl&&w.gl._gl&&(B.enable&&B.box?(w.gl._gl.enable(yn.SCISSOR_TEST),w.gl._gl.scissor(B.box.x,B.box.y,B.box.width,B.box.height)):w.gl._gl.disable(yn.SCISSOR_TEST),w.gl._refresh())},this.viewport=function(B){var Z=B.x,Pt=B.y,_t=B.width,q=B.height;w.gl&&w.gl._gl&&(w.gl._gl.viewport(Z,Pt,_t,q),w.gl._refresh())},this.readPixels=function(B){var Z=B.framebuffer,Pt={x:B.x,y:B.y,width:B.width,height:B.height};return Z&&(Pt.framebuffer=Z.get()),w.gl.read(Pt)},this.getCanvas=function(){return w.$canvas},this.getGLContext=function(){return w.gl._gl},this.destroy=function(){w.gl&&(w.gl.destroy(),w.inited=!1)}}var G;return ja()(K,[{key:"init",value:(G=qr()(gr.a.mark(function w(B){return gr.a.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(!this.inited){Z.next=2;break}return Z.abrupt("return");case 2:return this.$canvas=B.canvas,Z.next=5,new Promise(function(Pt,_t){Td()({canvas:B.canvas,attributes:{alpha:!0,antialias:B.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(kt,ee){!kt&&ee||_t(kt),Pt(ee)}})});case 5:this.gl=Z.sent,this.inited=!0;case 7:case"end":return Z.stop()}},w,this)})),function(w){return G.apply(this,arguments)})},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),K}())||Ah;function jh(K,G,w,B){if(typeof window!="undefined"){var Z=document.getElementsByTagName("head")[0],Pt=document.createElement("script");Pt.setAttribute("type","text/javascript"),Pt.setAttribute("src",K),B&&(Pt.id=B),Pt.onload=function(){G&&G()},Pt.onerror=function(_t){w&&w("Unable to load script '".concat(K,"'"),_t)},Z.appendChild(Pt)}}function Ih(K,G){return new Promise(function(w,B){jh(K,function(){w()},function(Z,Pt){B(Pt)})})}var Ph=function(){return Dh.apply(this,arguments)};function Dh(){return(Dh=qr()(gr.a.mark(function K(){return gr.a.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(!Ul){G.next=2;break}return G.abrupt("return",Ul);case 2:return G.next=4,Ih("https://preview.babylonjs.com/glslang/glslang.js");case 4:return Ul=window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"),G.abrupt("return",Ul);case 6:case"end":return G.stop()}},K)}))).apply(this,arguments)}var Nu,xu,Qu,Ds,vc,Wl,ul,kd=function(){function K(G,w){ua()(this,K),this.engine=G,this.options=w,this.attribute=void 0,this.buffer=void 0;var B=w,Z=B.buffer,Pt=B.offset,_t=B.stride,q=B.normalized,kt=B.size,ee=B.divisor,re=B.arrayStride,Te=B.attributes,Le=B.stepMode;this.buffer=Z,this.attribute={buffer:Z.get(),offset:Pt||0,stride:_t||0,normalized:q||!1,divisor:ee||0,arrayStride:re||0,attributes:Te,stepMode:Le||"vertex"},kt&&(this.attribute.size=kt)}return ja()(K,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(w){this.buffer.subData(w)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),K}(),Tc=function(){function K(G,w){ua()(this,K),this.engine=G,this.options=w,this.buffer=void 0;var B=w,Z=B.data,Pt=B.usage;B.type,this.buffer=this.createBuffer(Z instanceof Array?new Float32Array(Z):Z,Pt||Mi.BufferUsage.Vertex|Mi.BufferUsage.CopyDst)}return ja()(K,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(w){var B=w.data,Z=w.offset;this.setSubData(this.buffer,Z,B instanceof Array?new Float32Array(B):B)}},{key:"createBuffer",value:function(w,B){var Z=w.byteLength%4,Pt={size:w.byteLength+Z,usage:B},_t=this.engine.device.createBuffer(Pt);return this.setSubData(_t,0,w),_t}},{key:"setSubData",value:function(w,B,Z){(Is?this.engine.device.getQueue():this.engine.device.defaultQueue).writeBuffer(w,B,Z)}}]),K}(),Zs=t(93),cl=t.n(Zs),Rh=function(){function K(Z,Pt){ua()(this,K),this.engine=Z,this.context=Pt,this.entity=so(),this.uniformGPUBufferLayout=[],this.uniformBuffer=void 0,this.vertexBuffers={},this.outputBuffer=void 0,this.bindGroupEntries=void 0,this.bindGroup=void 0,this.computePipeline=void 0}var G,w,B;return ja()(K,[{key:"init",value:(B=qr()(gr.a.mark(function Z(){var Pt,_t,q,kt,ee,re,Te,Le=this;return gr.a.wrap(function(tn){for(;;)switch(tn.prev=tn.next){case 0:return tn.next=2,this.compileComputePipelineStageDescriptor(this.context.shader);case 2:Pt=tn.sent,_t=Pt.computeStage,q=this.context.uniforms.filter(function(_e){return _e.storageClass===gu.StorageBuffer}),kt=this.context.uniforms.filter(function(_e){return _e.storageClass===gu.Uniform}),ee=kt.length?1:0,this.bindGroupEntries=[],ee&&(re=0,Te=[],kt.forEach(function(_e){if(ga()(_e.data))Le.uniformGPUBufferLayout.push({name:_e.name,offset:re}),re+=4,Te.push(_e.data);else{var $e,nn=(($e=_e.data)===null||$e===void 0?void 0:$e.length)||1;nn===3&&(nn=4,_e.data.push(0));var Xe=re/4%4;if(Xe>0){var fn=4-Xe;if(nn>1&&nn<=fn)nn===2&&(fn===3&&(re+=4,Te.push(0)),Te.push.apply(Te,_o()(_e.data)),Le.uniformGPUBufferLayout.push({name:_e.name,offset:re}));else{for(var jn=0;jn<fn;jn++)re+=4,Te.push(0);Te.push.apply(Te,_o()(_e.data)),Le.uniformGPUBufferLayout.push({name:_e.name,offset:re})}}re+=4*nn}}),this.uniformBuffer=new Tc(this.engine,{data:Te instanceof Array?new Float32Array(Te):Te,usage:Mi.BufferUsage.Uniform|Mi.BufferUsage.CopyDst}),this.bindGroupEntries.push({binding:0,resource:{buffer:this.uniformBuffer.get()}})),q.forEach(function(_e){var $e;cl()(_e.data)||_e.type!==ac.Vector4FloatArray&&_e.type!==ac.FloatArray||(_e.name===Le.context.output.name?($e=new Tc(Le.engine,{data:isFinite(Number(_e.data))?[_e.data]:_e.data,usage:Mi.BufferUsage.Storage|Mi.BufferUsage.CopyDst|Mi.BufferUsage.CopySrc}),Le.outputBuffer=$e,Le.context.output={name:_e.name,length:isFinite(Number(_e.data))?1:_e.data.length,typedArrayConstructor:Float32Array,gpuBuffer:$e.get()}):_e.isReferer?_e.data.model&&_e.data.model.outputBuffer&&($e=_e.data.model.outputBuffer):$e=new Tc(Le.engine,{data:isFinite(Number(_e.data))?[_e.data]:_e.data,usage:Mi.BufferUsage.Storage|Mi.BufferUsage.CopyDst|Mi.BufferUsage.CopySrc}),Le.vertexBuffers[_e.name]=$e,Le.bindGroupEntries.push({binding:ee,resource:{name:_e.name,refer:$e?void 0:_e.data,buffer:$e?$e.get():void 0}}),ee++)}),this.computePipeline=this.engine.device.createComputePipeline({computeStage:_t}),console.log(this.bindGroupEntries),this.bindGroup=this.engine.device.createBindGroup({layout:this.computePipeline.getBindGroupLayout(0),entries:this.bindGroupEntries});case 13:case"end":return tn.stop()}},Z,this)})),function(){return B.apply(this,arguments)})},{key:"destroy",value:function(){var Pt=this;this.uniformBuffer&&this.uniformBuffer.destroy(),Object.keys(this.vertexBuffers).forEach(function(_t){return Pt.vertexBuffers[_t].destroy()})}},{key:"readData",value:(w=qr()(gr.a.mark(function Z(){var Pt,_t,q,kt,ee,re,Te,Le,tn;return gr.a.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(!(Pt=this.context.output)){_e.next=16;break}if(_t=Pt.length,q=Pt.typedArrayConstructor,!(kt=Pt.gpuBuffer)){_e.next=16;break}return ee=_t*q.BYTES_PER_ELEMENT,re=this.engine.device.createBuffer({size:ee,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),(Te=this.engine.device.createCommandEncoder()).copyBufferToBuffer(kt,0,re,0,ee),(Is?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([Te.finish()]),_e.next=12,re.mapAsync(Mi.MapMode.Read);case 12:return Le=re.getMappedRange(),tn=new q(Le.slice(0)),re.unmap(),_e.abrupt("return",tn);case 16:return _e.abrupt("return",new Float32Array);case 17:case"end":return _e.stop()}},Z,this)})),function(){return w.apply(this,arguments)})},{key:"run",value:function(){var Pt;this.engine.currentComputePass&&(this.engine.currentComputePass.setPipeline(this.computePipeline),this.engine.currentComputePass.setBindGroup(0,this.bindGroup),(Pt=this.engine.currentComputePass).dispatch.apply(Pt,_o()(this.context.dispatch)))}},{key:"updateBuffer",value:function(Pt,_t){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,kt=this.vertexBuffers[Pt];kt&&kt.subData({data:_t,offset:q})}},{key:"updateUniform",value:function(Pt,_t){var q=this.uniformGPUBufferLayout.find(function(kt){return kt.name===Pt});q&&this.uniformBuffer.subData({data:Number.isFinite(_t)?new Float32Array([_t]):new Float32Array(_t),offset:q.offset})}},{key:"confirmInput",value:function(Pt,_t){var q=this.vertexBuffers[_t],kt=Pt.outputBuffer;if(q&&kt&&q!==kt){var ee=this.engine.device.createCommandEncoder(),re=Pt.context.output,Te=re.length*re.typedArrayConstructor.BYTES_PER_ELEMENT;ee.copyBufferToBuffer(kt.get(),0,q.get(),0,Te),(Is?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([ee.finish()])}}},{key:"compileShaderToSpirV",value:function(Pt,_t,q){return this.compileRawShaderToSpirV(q+Pt,_t)}},{key:"compileRawShaderToSpirV",value:function(Pt,_t){return this.engine.glslang.compileGLSL(Pt,_t)}},{key:"compileComputePipelineStageDescriptor",value:(G=qr()(gr.a.mark(function Z(Pt){var _t;return gr.a.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(_t=Pt,this.engine.options.useWGSL){q.next=6;break}return q.next=5,this.compileShaderToSpirV(Pt,"compute",`#version 450
`);case 5:_t=q.sent;case 6:return q.abrupt("return",{computeStage:{module:this.engine.device.createShaderModule({code:_t,isWHLSL:Is}),entryPoint:"main"}});case 7:case"end":return q.stop()}},Z,this)})),function(Z){return G.apply(this,arguments)})}]),K}(),Nd=function(){function K(G,w){ua()(this,K),this.engine=G,this.options=w,this.indexCount=void 0,this.buffer=void 0;var B=w,Z=B.data,Pt=(B.usage,B.type,B.count);this.indexCount=Pt||0,this.buffer=new Tc(G,{data:Z instanceof Array?new Uint16Array(Z):Z,usage:Mi.BufferUsage.Index|Mi.BufferUsage.CopyDst})}return ja()(K,[{key:"get",value:function(){return this.buffer}},{key:"subData",value:function(w){this.buffer.subData(w)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),K}(),Vl=function(){function K(G,w){ua()(this,K),this.engine=G,this.options=w,this.colorTexture=void 0,this.depthTexture=void 0,this.width=0,this.height=0;var B=w,Z=(B.width,B.height,B.color),Pt=(B.colors,B.depth);B.stencil,Z&&(this.colorTexture=Z),Pt&&(this.depthTexture=Pt)}return ja()(K,[{key:"get",value:function(){var w,B;return{color:(w=this.colorTexture)===null||w===void 0?void 0:w.get(),depth:(B=this.depthTexture)===null||B===void 0?void 0:B.get()}}},{key:"destroy",value:function(){var w,B;(w=this.colorTexture)===null||w===void 0||w.destroy(),(B=this.depthTexture)===null||B===void 0||B.destroy()}},{key:"resize",value:function(w){var B,Z,Pt=w.width,_t=w.height;Pt===this.width&&_t===this.height||((B=this.colorTexture)===null||B===void 0||B.resize({width:Pt,height:_t}),(Z=this.depthTexture)===null||Z===void 0||Z.resize({width:Pt,height:_t})),this.width=Pt,this.height=_t}}]),K}(),Ld=(Nu={},Ze()(Nu,yn.POINTS,Mi.PrimitiveTopology.PointList),Ze()(Nu,yn.LINES,Mi.PrimitiveTopology.LineList),Ze()(Nu,yn.LINE_LOOP,Mi.PrimitiveTopology.LineList),Ze()(Nu,yn.LINE_STRIP,Mi.PrimitiveTopology.LineStrip),Ze()(Nu,yn.TRIANGLES,Mi.PrimitiveTopology.TriangleList),Ze()(Nu,yn.TRIANGLE_FAN,Mi.PrimitiveTopology.TriangleList),Ze()(Nu,yn.TRIANGLE_STRIP,Mi.PrimitiveTopology.TriangleStrip),Nu),Bd=(xu={},Ze()(xu,yn.NEVER,Mi.CompareFunction.Never),Ze()(xu,yn.ALWAYS,Mi.CompareFunction.Always),Ze()(xu,yn.LESS,Mi.CompareFunction.Less),Ze()(xu,yn.LEQUAL,Mi.CompareFunction.LessEqual),Ze()(xu,yn.GREATER,Mi.CompareFunction.Greater),Ze()(xu,yn.GEQUAL,Mi.CompareFunction.GreaterEqual),Ze()(xu,yn.EQUAL,Mi.CompareFunction.Equal),Ze()(xu,yn.NOTEQUAL,Mi.CompareFunction.NotEqual),xu),kh=(Qu={},Ze()(Qu,yn.FUNC_ADD,Mi.BlendOperation.Add),Ze()(Qu,yn.MIN_EXT,Mi.BlendOperation.Min),Ze()(Qu,yn.MAX_EXT,Mi.BlendOperation.Max),Ze()(Qu,yn.FUNC_SUBTRACT,Mi.BlendOperation.Subtract),Ze()(Qu,yn.FUNC_REVERSE_SUBTRACT,Mi.BlendOperation.ReverseSubtract),Qu),Yl=(Ds={},Ze()(Ds,yn.ZERO,Mi.BlendFactor.Zero),Ze()(Ds,yn.ONE,Mi.BlendFactor.One),Ze()(Ds,yn.SRC_COLOR,Mi.BlendFactor.SrcColor),Ze()(Ds,yn.ONE_MINUS_SRC_COLOR,Mi.BlendFactor.OneMinusSrcColor),Ze()(Ds,yn.SRC_ALPHA,Mi.BlendFactor.SrcAlpha),Ze()(Ds,yn.ONE_MINUS_SRC_ALPHA,Mi.BlendFactor.OneMinusSrcAlpha),Ze()(Ds,yn.DST_COLOR,Mi.BlendFactor.DstColor),Ze()(Ds,yn.ONE_MINUS_DST_COLOR,Mi.BlendFactor.OneMinusDstColor),Ze()(Ds,yn.DST_ALPHA,Mi.BlendFactor.DstAlpha),Ze()(Ds,yn.ONE_MINUS_DST_ALPHA,Mi.BlendFactor.OneMinusDstAlpha),Ze()(Ds,yn.CONSTANT_COLOR,Mi.BlendFactor.BlendColor),Ze()(Ds,yn.ONE_MINUS_CONSTANT_COLOR,Mi.BlendFactor.OneMinusBlendColor),Ze()(Ds,yn.SRC_ALPHA_SATURATE,Mi.BlendFactor.SrcAlphaSaturated),Ds),Bf=(vc={},Ze()(vc,yn.ALPHA,"r8unorm"),Ze()(vc,yn.RGBA,"rgba8unorm"),Ze()(vc,yn.DEPTH_COMPONENT,"depth32float"),Ze()(vc,yn.DEPTH_STENCIL,"depth24plus-stencil8"),vc),Xl=(Wl={},Ze()(Wl,yn.NEAREST,"nearest"),Ze()(Wl,yn.LINEAR,"linear"),Wl),Ff=(ul={},Ze()(ul,yn.REPEAT,"repeat"),Ze()(ul,yn.CLAMP_TO_EDGE,"clamp-to-edge"),Ze()(ul,yn.MIRRORED_REPEAT,"mirror-repeat"),ul);function Fd(K){var G=K.cull;return G&&G.enable?G.face?G.face===yn.FRONT?Mi.CullMode.Front:Mi.CullMode.Back:void 0:Mi.CullMode.None}function _d(K){var G=K.depth,w=(K.stencil,{compare:Mi.CompareFunction.Always,depthFailOp:Mi.StencilOperation.Keep,failOp:Mi.StencilOperation.Keep,passOp:Mi.StencilOperation.Keep});return{depthWriteEnabled:G&&G.enable,depthCompare:Bd[(G==null?void 0:G.func)||yn.ALWAYS],format:Mi.TextureFormat.Depth24PlusStencil8,stencilFront:w,stencilBack:w,stencilReadMask:4294967295,stencilWriteMask:4294967295}}function _f(K,G){var w=K.blend;return[{format:G,alphaBlend:{srcFactor:Yl[w&&w.func&&w.func.srcAlpha||yn.ONE],dstFactor:Yl[w&&w.func&&w.func.dstAlpha||yn.ZERO],operation:kh[w&&w.equation&&w.equation.alpha||yn.FUNC_ADD]},colorBlend:{srcFactor:Yl[w&&w.func&&w.func.srcRGB||yn.ONE],dstFactor:Yl[w&&w.func&&w.func.dstRGB||yn.ZERO],operation:kh[w&&w.equation&&w.equation.rgb||yn.FUNC_ADD]},writeMask:Mi.ColorWrite.All}]}function Nh(K,G){var w=Object.keys(K);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(K);G&&(B=B.filter(function(Z){return Object.getOwnPropertyDescriptor(K,Z).enumerable})),w.push.apply(w,B)}return w}function jc(K){for(var G=1;G<arguments.length;G++){var w=arguments[G]!=null?arguments[G]:{};G%2?Nh(Object(w),!0).forEach(function(B){Ze()(K,B,w[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(w)):Nh(Object(w)).forEach(function(B){Object.defineProperty(K,B,Object.getOwnPropertyDescriptor(w,B))})}return K}function ll(K){for(var G=0,w=arguments.length,B=new Array(w>1?w-1:0),Z=1;Z<w;Z++)B[Z-1]=arguments[Z];for(var Pt=0,_t=B;Pt<_t.length;Pt++){var q=_t[Pt];G+=q.length}for(var kt=new K(G),ee=0,re=0,Te=B;re<Te.length;re++){var Le=Te[re];kt.set(Le,ee),ee+=Le.length}return kt}var Ic,Hl,Gf,Zu,Ou,Lh,Kl,Bh,fl,Fh,_h,Gh,Jl=function(){function K(B,Z){ua()(this,K),this.engine=B,this.options=Z,this.pipelineLayout=void 0,this.renderPipeline=void 0,this.uniformsBindGroupLayout=void 0,this.uniformBindGroup=void 0,this.uniformBuffer=void 0,this.uniforms={},this.uniformGPUBufferLayout=[],this.attributeCache={},this.indexBuffer=void 0,this.indexCount=void 0}var G,w;return ja()(K,[{key:"init",value:(w=qr()(gr.a.mark(function B(){var Z,Pt,_t,q,kt,ee,re,Te,Le,tn,_e,$e,nn,Xe,fn,jn,er=this;return gr.a.wrap(function(Gn){for(;;)switch(Gn.prev=Gn.next){case 0:return Z=this.options,Pt=Z.vs,_t=Z.fs,q=Z.attributes,kt=Z.uniforms,ee=Z.primitive,Z.count,re=Z.elements,Te=Z.depth,Le=Z.blend,tn=Z.stencil,_e=Z.cull,Z.instances,Gn.next=3,this.compilePipelineStageDescriptor(Pt,_t,null);case 3:$e=Gn.sent,nn=$e.vertexStage,Xe=$e.fragmentStage,kt&&this.buildUniformBindGroup(kt),re&&(this.indexBuffer=re.get(),this.indexCount=re.indexCount),fn={vertexBuffers:Object.keys(q).map(function(Kn,nr){var yr=q[Kn],Sr=yr.get(),_r=Sr.arrayStride,Wr=Sr.stepMode,Tr=Sr.attributes;return er.attributeCache[Kn]=yr,{arrayStride:_r,stepMode:Wr,attributes:Tr}})},jn={sampleCount:this.engine.mainPassSampleCount,primitiveTopology:Ld[ee||yn.TRIANGLES],rasterizationState:jc(jc({},this.getDefaultRasterizationStateDescriptor()),{},{cullMode:Fd({cull:_e})}),depthStencilState:_d({depth:Te,stencil:tn}),colorStates:_f({blend:Le},this.engine.options.swapChainFormat),layout:this.pipelineLayout,vertexStage:nn,fragmentStage:Xe,vertexState:fn},this.renderPipeline=this.engine.device.createRenderPipeline(jn);case 11:case"end":return Gn.stop()}},B,this)})),function(){return w.apply(this,arguments)})},{key:"addUniforms",value:function(Z){this.uniforms=jc(jc({},this.uniforms),Mc(Z))}},{key:"draw",value:function(Z){var Pt=this,_t=this.engine.getCurrentRenderPass(),q=jc(jc({},this.uniforms),Mc(Z.uniforms||{})),kt=[];Object.keys(q).forEach(function(ee){var re=Mh()(q[ee]);if(re==="boolean"||re==="number"||Array.isArray(q[ee])||q[ee].BYTES_PER_ELEMENT){var Te,Le=(Te=Pt.uniformGPUBufferLayout.find(function(jn){return jn.name===ee}))===null||Te===void 0?void 0:Te.offset;cl()(Le)||Pt.uniformBuffer.subData({data:q[ee],offset:Le})}else{var tn,_e=(tn=Pt.uniformGPUBufferLayout.find(function(jn){return jn.name===ee}))===null||tn===void 0?void 0:tn.offset;if(!cl()(_e)){var $e=q[ee].get(),nn=$e.color||$e,Xe=nn.texture,fn=nn.sampler;fn&&(kt.push({binding:_e,resource:fn}),_e++),kt.push({binding:_e,resource:Xe.createView()})}}}),this.uniformBuffer&&(kt[0]={binding:0,resource:{buffer:this.uniformBuffer.get()}}),this.uniformBindGroup=this.engine.device.createBindGroup({layout:this.uniformsBindGroupLayout,entries:kt}),this.renderPipeline&&_t.setPipeline(this.renderPipeline),_t.setBindGroup(0,this.uniformBindGroup),this.indexBuffer&&_t.setIndexBuffer(this.indexBuffer.get(),Mi.IndexFormat.Uint32,0),Object.keys(this.attributeCache).forEach(function(ee,re){_t.setVertexBuffer(0+re,Pt.attributeCache[ee].get().buffer,0)}),this.indexBuffer?_t.drawIndexed(this.indexCount,this.options.instances||1,0,0,0):_t.draw(this.options.count||0,this.options.instances||0,0,0)}},{key:"destroy",value:function(){throw new Error("Method not implemented.")}},{key:"compilePipelineStageDescriptor",value:(G=qr()(gr.a.mark(function B(Z,Pt,_t){var q,kt,ee;return gr.a.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(q=`#version 450
`,kt=Z,ee=Pt,this.engine.options.useWGSL){re.next=10;break}return re.next=6,this.compileShaderToSpirV(Z,"vertex",q);case 6:return kt=re.sent,re.next=9,this.compileShaderToSpirV(Pt,"fragment",q);case 9:ee=re.sent;case 10:return re.abrupt("return",this.createPipelineStageDescriptor(kt,ee));case 11:case"end":return re.stop()}},B,this)})),function(B,Z,Pt){return G.apply(this,arguments)})},{key:"compileShaderToSpirV",value:function(Z,Pt,_t){return this.compileRawShaderToSpirV(_t+Z,Pt)}},{key:"compileRawShaderToSpirV",value:function(Z,Pt){return this.engine.glslang.compileGLSL(Z,Pt)}},{key:"createPipelineStageDescriptor",value:function(Z,Pt){return{vertexStage:{module:this.engine.device.createShaderModule({code:Z,isWHLSL:Is}),entryPoint:"main"},fragmentStage:{module:this.engine.device.createShaderModule({code:Pt,isWHLSL:Is}),entryPoint:"main"}}}},{key:"getDefaultRasterizationStateDescriptor",value:function(){return{frontFace:Mi.FrontFace.CCW,cullMode:Mi.CullMode.None,depthBias:0,depthBiasSlopeScale:0,depthBiasClamp:0}}},{key:"buildUniformBindGroup",value:function(Z){var Pt=this,_t=0,q=ll.apply(void 0,[Float32Array].concat(_o()(Object.keys(Z).map(function(re){return Z[re]?(Pt.uniformGPUBufferLayout.push({name:re,offset:_t}),_t+=4*(Z[re].length||1),Z[re]):[]})))),kt=[],ee=!1;q.length&&(ee=!0,kt.push({binding:0,visibility:Mi.ShaderStage.Fragment|Mi.ShaderStage.Vertex,type:Mi.BindingType.UniformBuffer})),Object.keys(Z).filter(function(re){return Z[re]===null}).forEach(function(re,Te){Pt.uniformGPUBufferLayout.push({name:re,offset:2*Te+(ee?1:0)}),kt.push({binding:2*Te+(ee?1:0),visibility:Mi.ShaderStage.Fragment,type:Mi.BindingType.Sampler},{binding:2*Te+(ee?1:0)+1,visibility:Mi.ShaderStage.Fragment,type:Mi.BindingType.SampledTexture})}),this.uniformsBindGroupLayout=this.engine.device.createBindGroupLayout({entries:kt}),this.pipelineLayout=this.engine.device.createPipelineLayout({bindGroupLayouts:[this.uniformsBindGroupLayout]}),ee&&(this.uniformBuffer=new Tc(this.engine,{data:q instanceof Array?new Float32Array(q):q,usage:Mi.BufferUsage.Uniform|Mi.BufferUsage.CopyDst}))}}]),K}(),Uh=function(){function K(G,w){ua()(this,K),this.engine=G,this.options=w,this.texture=void 0,this.sampler=void 0,this.width=void 0,this.height=void 0,this.createTexture()}return ja()(K,[{key:"get",value:function(){return{texture:this.texture,sampler:this.sampler}}},{key:"update",value:function(){}},{key:"resize",value:function(w){var B=w.width,Z=w.height;B===this.width&&Z===this.height||(this.destroy(),this.createTexture()),this.width=B,this.height=Z}},{key:"destroy",value:function(){this.texture&&this.texture.destroy()}},{key:"createTexture",value:function(){var w=this.options,B=(w.data,w.type),Z=(B===void 0&&yn.UNSIGNED_BYTE,w.width),Pt=w.height,_t=(w.flipY,w.format),q=_t===void 0?yn.RGBA:_t,kt=(w.mipmap,w.wrapS),ee=kt===void 0?yn.CLAMP_TO_EDGE:kt,re=w.wrapT,Te=re===void 0?yn.CLAMP_TO_EDGE:re,Le=w.aniso,tn=Le===void 0?0:Le,_e=(w.alignment,w.premultiplyAlpha,w.mag),$e=_e===void 0?yn.NEAREST:_e,nn=w.min,Xe=nn===void 0?yn.NEAREST:nn,fn=w.colorSpace,jn=(fn===void 0&&yn.BROWSER_DEFAULT_WEBGL,w.usage);this.width=Z,this.height=Pt,this.texture=this.engine.device.createTexture({size:[Z,Pt,1],mipLevelCount:1,sampleCount:1,dimension:Mi.TextureDimension.E2d,format:Bf[q],usage:jn||Mi.TextureUsage.Sampled|Mi.TextureUsage.CopyDst}),(!jn||jn&Mi.TextureUsage.Sampled)&&(this.sampler=this.engine.device.createSampler({addressModeU:Ff[ee],addressModeV:Ff[Te],addressModeW:Ff[ee],magFilter:Xl[$e],minFilter:Xl[Xe],maxAnisotropy:tn}))}}]),K}(),Gd=Object(ui.injectable)()(Ic=function(){function K(){var B=this;ua()(this,K),this.supportWebGPU=!0,this.useWGSL=!1,this.options=void 0,this.canvas=void 0,this.context=void 0,this.glslang=void 0,this.adapter=void 0,this.device=void 0,this.swapChain=void 0,this.mainPassSampleCount=void 0,this.mainTexture=void 0,this.depthTexture=void 0,this.mainColorAttachments=void 0,this.mainTextureExtends=void 0,this.mainDepthAttachment=void 0,this.uploadEncoder=void 0,this.renderEncoder=void 0,this.computeEncoder=void 0,this.renderTargetEncoder=void 0,this.commandBuffers=new Array(4).fill(void 0),this.currentRenderPass=null,this.mainRenderPass=null,this.currentRenderTargetViewDescriptor=void 0,this.currentComputePass=null,this.bundleEncoder=void 0,this.tempBuffers=[],this.currentRenderTarget=null,this.uploadEncoderDescriptor={label:"upload"},this.renderEncoderDescriptor={label:"render"},this.renderTargetEncoderDescriptor={label:"renderTarget"},this.computeEncoderDescriptor={label:"compute"},this.pipelines={},this.computePipelines={},this.defaultSampleCount=4,this.clearDepthValue=1,this.clearStencilValue=0,this.transientViewport={x:1/0,y:0,width:0,height:0},this.cachedViewport={x:0,y:0,width:0,height:0},this.clear=function(Z){Z.framebuffer;var Pt=Z.color,_t=Z.depth,q=Z.stencil;B.options.supportCompute&&B.startComputePass(),B.currentRenderTarget?(B.currentRenderPass&&B.endRenderTargetRenderPass(),B.startRenderTargetRenderPass(B.currentRenderTarget,Pt||null,!!_t,!!q)):(B.mainColorAttachments[0].loadValue=Pt||Mi.LoadOp.Load,B.mainDepthAttachment.depthLoadValue=_t||Mi.LoadOp.Load,B.mainDepthAttachment.stencilLoadValue=q?B.clearStencilValue:Mi.LoadOp.Load,B.mainRenderPass&&B.endMainRenderPass(),B.startMainRenderPass())},this.createModel=function(){var Z=qr()(gr.a.mark(function Pt(_t){var q;return gr.a.wrap(function(kt){for(;;)switch(kt.prev=kt.next){case 0:return q=new Jl(B,_t),kt.next=3,q.init();case 3:return kt.abrupt("return",q);case 4:case"end":return kt.stop()}},Pt)}));return function(Pt){return Z.apply(this,arguments)}}(),this.createAttribute=function(Z){return new kd(B,Z)},this.createBuffer=function(Z){return new Tc(B,Z)},this.createElements=function(Z){return new Nd(B,Z)},this.createTexture2D=function(Z){return new Uh(B,Z)},this.createFramebuffer=function(Z){return new Vl(B,Z)},this.useFramebuffer=function(Z,Pt){B.currentRenderTarget&&B.unbindFramebuffer(B.currentRenderTarget),B.currentRenderTarget=Z,B.currentRenderTargetViewDescriptor={dimension:Mi.TextureViewDimension.E2d,arrayLayerCount:1,aspect:Mi.TextureAspect.All},B.currentRenderPass=null,Pt()},this.createComputeModel=function(){var Z=qr()(gr.a.mark(function Pt(_t){var q;return gr.a.wrap(function(kt){for(;;)switch(kt.prev=kt.next){case 0:return q=new Rh(B,_t),kt.next=3,q.init();case 3:return kt.abrupt("return",q);case 4:case"end":return kt.stop()}},Pt)}));return function(Pt){return Z.apply(this,arguments)}}(),this.getCanvas=function(){return B.canvas},this.getGLContext=function(){throw new Error("Method not implemented.")},this.viewport=function(Z){var Pt=Z.x,_t=Z.y,q=Z.width,kt=Z.height;B.currentRenderPass?B.transientViewport.x!==1/0?B.getCurrentRenderPass().setViewport(B.transientViewport.x,B.transientViewport.y,B.transientViewport.width,B.transientViewport.height,0,1):(Pt!==B.cachedViewport.x||_t!==B.cachedViewport.y||q!==B.cachedViewport.width||kt!==B.cachedViewport.height)&&(B.cachedViewport={x:Pt,y:_t,width:q,height:kt},B.getCurrentRenderPass().setViewport(Pt,_t,q,kt,0,1)):B.transientViewport={x:Pt,y:_t,width:q,height:kt}},this.readPixels=function(Z){throw new Error("Method not implemented.")}}var G,w;return ja()(K,[{key:"isFloatSupported",value:function(){return!0}},{key:"init",value:(w=qr()(gr.a.mark(function B(Z){return gr.a.wrap(function(Pt){for(;;)switch(Pt.prev=Pt.next){case 0:return this.canvas=Z.canvas,this.options=Z,this.useWGSL=!!Z.useWGSL,this.mainPassSampleCount=Z.antialiasing?this.defaultSampleCount:1,Pt.next=6,this.initGlslang();case 6:this.initContextAndSwapChain(),this.initMainAttachments();case 8:case"end":return Pt.stop()}},B,this)})),function(B){return w.apply(this,arguments)})},{key:"destroy",value:function(){this.mainTexture&&this.mainTexture.destroy(),this.depthTexture&&this.depthTexture.destroy(),this.tempBuffers.forEach(function(Z){return Z.destroy()}),this.tempBuffers=[]}},{key:"beginFrame",value:function(){this.uploadEncoder=this.device.createCommandEncoder(this.uploadEncoderDescriptor),this.renderEncoder=this.device.createCommandEncoder(this.renderEncoderDescriptor),this.renderTargetEncoder=this.device.createCommandEncoder(this.renderTargetEncoderDescriptor),this.options.supportCompute&&(this.computeEncoder=this.device.createCommandEncoder(this.computeEncoderDescriptor))}},{key:"endFrame",value:function(){this.options.supportCompute&&this.endComputePass(),this.endMainRenderPass(),this.commandBuffers[0]=this.uploadEncoder.finish(),this.commandBuffers[1]=this.renderEncoder.finish(),this.options.supportCompute&&(this.commandBuffers[2]=this.computeEncoder.finish()),this.commandBuffers[3]=this.renderTargetEncoder.finish(),Is?this.device.getQueue().submit(this.commandBuffers.filter(function(Z){return Z})):this.device.defaultQueue.submit(this.commandBuffers.filter(function(Z){return Z}))}},{key:"getCurrentRenderPass",value:function(){return this.currentRenderTarget&&!this.currentRenderPass?this.startRenderTargetRenderPass(this.currentRenderTarget,null,!1,!1):this.currentRenderPass||this.startMainRenderPass(),this.currentRenderPass}},{key:"initGlslang",value:(G=qr()(gr.a.mark(function B(){var Z,Pt;return gr.a.wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:return _t.next=2,Ph();case 2:return this.glslang=_t.sent,_t.next=5,(Z=navigator)===null||Z===void 0||(Pt=Z.gpu)===null||Pt===void 0?void 0:Pt.requestAdapter();case 5:return this.adapter=_t.sent,_t.next=8,this.adapter.requestDevice();case 8:this.device=_t.sent;case 9:case"end":return _t.stop()}},B,this)})),function(){return G.apply(this,arguments)})},{key:"initContextAndSwapChain",value:function(){this.context=this.canvas.getContext(Is?"gpu":"gpupresent"),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.options.swapChainFormat,usage:Mi.TextureUsage.OutputAttachment|Mi.TextureUsage.CopySrc})}},{key:"initMainAttachments",value:function(){if(this.mainTextureExtends={width:this.canvas.width,height:this.canvas.height,depth:1},this.options.antialiasing){var Z={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:Mi.TextureDimension.E2d,format:Mi.TextureFormat.BGRA8Unorm,usage:Mi.TextureUsage.OutputAttachment};this.mainTexture&&this.mainTexture.destroy(),this.mainTexture=this.device.createTexture(Z),this.mainColorAttachments=[{attachment:Is?this.mainTexture.createDefaultView():this.mainTexture.createView(),loadValue:[0,0,0,1],storeOp:Mi.StoreOp.Store}]}else this.mainColorAttachments=[{attachment:Is?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),loadValue:[0,0,0,1],storeOp:Mi.StoreOp.Store}];var Pt={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:Mi.TextureDimension.E2d,format:Is?"depth32float-stencil8":Mi.TextureFormat.Depth24PlusStencil8,usage:Mi.TextureUsage.OutputAttachment};this.depthTexture&&this.depthTexture.destroy(),this.depthTexture=this.device.createTexture(Pt),this.mainDepthAttachment={attachment:Is?this.depthTexture.createDefaultView():this.depthTexture.createView(),depthLoadValue:this.clearDepthValue,depthStoreOp:Mi.StoreOp.Store,stencilLoadValue:this.clearStencilValue,stencilStoreOp:Mi.StoreOp.Store}}},{key:"startComputePass",value:function(){this.currentComputePass&&this.endComputePass(),this.currentComputePass=this.computeEncoder.beginComputePass()}},{key:"startMainRenderPass",value:function(){this.currentRenderPass&&!this.currentRenderTarget&&this.endMainRenderPass(),this.options.antialiasing?this.mainColorAttachments[0].resolveTarget=Is?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView():this.mainColorAttachments[0].attachment=Is?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),this.currentRenderPass=this.renderEncoder.beginRenderPass({colorAttachments:this.mainColorAttachments,depthStencilAttachment:this.mainDepthAttachment}),this.mainRenderPass=this.currentRenderPass,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"startRenderTargetRenderPass",value:function(Z,Pt,_t){var q,kt,ee,re=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Te=(q=Z.get().color)===null||q===void 0?void 0:q.texture;Te&&(ee=Te.createView(this.currentRenderTargetViewDescriptor));var Le,tn=(kt=Z.get().depth)===null||kt===void 0?void 0:kt.texture;tn&&(Le=tn.createView());var _e=this.renderTargetEncoder.beginRenderPass({colorAttachments:[{attachment:ee,loadValue:Pt!==null?Pt:Mi.LoadOp.Load,storeOp:Mi.StoreOp.Store}],depthStencilAttachment:tn&&Le?{attachment:Le,depthLoadValue:_t?this.clearDepthValue:Mi.LoadOp.Load,depthStoreOp:Mi.StoreOp.Store,stencilLoadValue:re?this.clearStencilValue:Mi.LoadOp.Load,stencilStoreOp:Mi.StoreOp.Store}:void 0});this.currentRenderPass=_e,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"endMainRenderPass",value:function(){this.currentRenderPass===this.mainRenderPass&&this.currentRenderPass!==null&&(this.currentRenderPass.endPass(),this.resetCachedViewport(),this.currentRenderPass=null,this.mainRenderPass=null)}},{key:"endComputePass",value:function(){this.currentComputePass&&(this.currentComputePass.endPass(),this.currentComputePass=null)}},{key:"endRenderTargetRenderPass",value:function(){this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport())}},{key:"resetCachedViewport",value:function(){this.cachedViewport={x:0,y:0,width:0,height:0}}},{key:"unbindFramebuffer",value:function(Z){this.currentRenderPass&&this.currentRenderPass!==this.mainRenderPass&&this.endRenderTargetRenderPass(),this.transientViewport.x=1/0,this.currentRenderTarget=null,this.currentRenderPass=this.mainRenderPass}}]),K}())||Ic;function Ud(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=Uo()(K);if(G){var Z=Uo()(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return ds()(this,w)}}var zd=(Hl=Object(ui.injectable)(),Gf=Object(ui.inject)(Jr.Systems),Zu=Object(ui.named)(Jr.MaterialSystem),Ou=Object(ui.inject)(Jr.Systems),Lh=Object(ui.named)(Jr.GeometrySystem),Kl=Object(ui.inject)(Jr.ShaderModuleService),Hl((fl=function(K){lo()(w,K);var G=Ud(w);function w(){var B;ua()(this,w);for(var Z=arguments.length,Pt=new Array(Z),_t=0;_t<Z;_t++)Pt[_t]=arguments[_t];return B=G.call.apply(G,[this].concat(Pt)),Hi()(B,"materialSystem",Fh,Zn()(B)),Hi()(B,"geometrySystem",_h,Zn()(B)),Hi()(B,"shaderModuleService",Gh,Zn()(B)),B}return ja()(w,[{key:"onAttributeChanged",value:function(Z){var Pt=Z.name,_t=Z.data,q=this.getMeshComponent();q&&q.material&&(Pt==="gridColor"?(q.material.setUniform("u_GridColor",_t),q.material.setUniform("u_GridColor2",_t)):Pt==="gridSize"&&(q.material.setUniform("u_GridSize",_t),q.material.setUniform("u_GridSize2",_t)))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:`attribute vec3 a_Position;

varying vec3 v_Position;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

void main() {
  v_Position = a_Position;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);
}`,fs:`// generate grid, borrow from clay.gl viewer
// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl
#extension GL_OES_standard_derivatives : enable

varying vec3 v_Position;
// varying vec3 v_Normal;

uniform float u_GridSize : 5;
uniform float u_GridSize2 : .5;
uniform vec4 u_GridColor : [0, 0, 0, 1];
uniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];
uniform bool u_GridEnabled : true;

// uniform vec3 u_LightDirection;
// uniform vec3 u_LightColor;
// uniform vec3 u_Camera;

void main() {
  // vec3 n = v_Normal;
  // vec3 l = normalize(u_LightDirection);
  // float NdotL = clamp(dot(n, l), 0.001, 1.0);

  gl_FragColor = vec4(1.);

  if (u_GridEnabled) {
    float wx = v_Position.x;
    float wz = v_Position.z;
    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;
    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;

    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;
    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;

    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);
    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);
    // if (v0 > 0.1) {
        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);
    // }
    // else {
        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);
    // }
  }

  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);
  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;

  // gl_FragColor.rgb *= diffuseColor;
}`});var Z=this.shaderModuleService.getModule("grid"),Pt=Z.vs,_t=Z.fs,q=Z.uniforms,kt=this.materialSystem.createShaderMaterial({vertexShader:Pt,fragmentShader:_t});this.setMaterial(kt);var ee=this.geometrySystem.createBufferGeometry({vertexCount:4});this.setGeometry(ee),kt.setCull({enable:!1,face:yn.BACK}).setDepth({enable:!0,func:yn.LESS}),kt.setUniform(q),this.setAttributes({gridColor:this.config.gridColor,gridSize:this.config.gridSize}),ee.setIndex([0,3,2,2,1,0]),ee.setAttribute("a_Position",Float32Array.from([-4,-1,-4,4,-1,-4,4,-1,4,-4,-1,4]),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})}}]),w}(ns),Fh=fa()(fl.prototype,"materialSystem",[Gf,Zu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_h=fa()(fl.prototype,"geometrySystem",[Ou,Lh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gh=fa()(fl.prototype,"shaderModuleService",[Kl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bh=fl))||Bh),Ql=t(95),pc=t(64);function Zl(K,G,w,B,Z){hl(G,B,-Z),hl(G,B,Z),K.push(w),K.push(w)}function hl(K,G,w){K.push([[G[0],G[1]],w])}var zh,Pc,Wh,dl,Uf,zf,Vh,Lu,$u,Yh,$l;function Wd(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=Uo()(K);if(G){var Z=Uo()(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return ds()(this,w)}}var Xh,Hh,Kh,Jh,ql,Qh,Zh,vl,tf,ef,$h,qh=(zh=Object(ui.injectable)(),Pc=Object(ui.inject)(Jr.Systems),Wh=Object(ui.named)(Jr.MaterialSystem),dl=Object(ui.inject)(Jr.Systems),Uf=Object(ui.named)(Jr.GeometrySystem),zf=Object(ui.inject)(Jr.ShaderModuleService),zh((Lu=function(K){lo()(w,K);var G=Wd(w);function w(){var B;ua()(this,w);for(var Z=arguments.length,Pt=new Array(Z),_t=0;_t<Z;_t++)Pt[_t]=arguments[_t];return B=G.call.apply(G,[this].concat(Pt)),Hi()(B,"materialSystem",$u,Zn()(B)),Hi()(B,"geometrySystem",Yh,Zn()(B)),Hi()(B,"shaderModuleService",$l,Zn()(B)),B.vertexCount=void 0,B}return ja()(w,[{key:"onAttributeChanged",value:function(Z){var Pt=Z.name,_t=Z.data,q=this.getMeshComponent();if(q&&q.material)switch(Pt){case"dashArray":q.material.setUniform("u_dash_array",_t);break;case"dashOffset":q.material.setUniform("u_dash_offset",_t);break;case"dashRatio":q.material.setUniform("u_dash_ratio",_t);break;case"thickness":q.material.setUniform("u_thickness",_t);break;case"color":var kt=new Array(this.vertexCount).fill(void 0).map(function(){return _t}).reduce(function(ee,re){return[].concat(_o()(ee),_o()(re))},[]);q.geometry.setAttribute("a_color",Float32Array.from(kt),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]})}}},{key:"onEntityCreated",value:function(){var Z=this;this.shaderModuleService.registerModule("line",{vs:`attribute vec2 a_pos;
attribute vec4 a_color;
attribute float a_line_miter;
attribute vec2 a_line_normal;
attribute float a_counters;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform float u_thickness : 0.02;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
  v_color = a_color;
  v_counters = a_counters;

  vec3 normal = normalize(vec3(a_line_normal, 0.0));

  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);

  v_normal = vec2(normal * sign(a_line_miter));

  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;
}
`,fs:`uniform float u_dash_array : 0.02;
uniform float u_dash_offset : 0;
uniform float u_dash_ratio : 0;
uniform float u_thickness : 0.02;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
    float blur = 1. - smoothstep(0.98, 1., length(v_normal));

    gl_FragColor = v_color;
    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));
}`});var Pt=this.shaderModuleService.getModule("line"),_t=Pt.vs,q=Pt.fs,kt=Pt.uniforms,ee=this.materialSystem.createShaderMaterial({vertexShader:_t,fragmentShader:q}),re=function(er,Gn,Kn){var nr=[0,0],yr=[0,0],Sr=[0,0],_r=[0,0],Wr=-1,Tr=!1,Ur=null,ni=Object(Ql.create)(),Gr=Kn||0,ki=[],Bi=[],ha=[],ai=[0,0];Gn&&(er=er.slice()).push(er[0]);for(var ia=er.length,da=1;da<ia;da++){var ya=Gr,Go=er[da-1],Ao=er[da],ba=da<er.length-1?er[da+1]:null;if(ai.push(da/ia,da/ia),Object(pc.direction)(nr,Ao,Go),Ur||(Ur=[0,0],Object(pc.normal)(Ur,nr)),Tr||(Tr=!0,Zl(Bi,ki,Go,Ur,1)),ha.push([ya+0,ya+1,ya+2]),ba){Object(pc.direction)(yr,ba,Ao);var Va=Object(pc.computeMiter)(Sr,_r,nr,yr,1),ts=Object(Ql.dot)(Sr,Ur)<0?-1:1,fs=Va>3;if(!isFinite(Va)){Object(pc.normal)(Ur,nr),Zl(Bi,ki,Ao,Ur,1),ha.push(Wr===1?[ya,ya+2,ya+3]:[ya+2,ya+1,ya+3]),Gr+=2,Wr=ts;continue}fs?(Va=3,ai.push(da/ia),hl(ki,Ur,-ts),Bi.push(Ao),hl(ki,_r,Va*ts),Bi.push(Ao),ha.push(Wr!==-ts?[ya,ya+2,ya+3]:[ya+2,ya+1,ya+3]),ha.push([ya+2,ya+3,ya+4]),Object(pc.normal)(ni,yr),Object(Ql.copy)(Ur,ni),hl(ki,Ur,-ts),Bi.push(Ao),Gr+=3):(Zl(Bi,ki,Ao,_r,Va),ha.push(Wr===1?[ya,ya+2,ya+3]:[ya+2,ya+1,ya+3]),ts=-1,Object(Ql.copy)(Ur,_r),Gr+=2),Wr=ts}else Object(pc.normal)(Ur,nr),Zl(Bi,ki,Ao,Ur,1),ha.push(Wr===1?[ya,ya+2,ya+3]:[ya+2,ya+1,ya+3]),Gr+=2}return{normals:ki,attrIndex:ha,attrPos:Bi,attrCounters:ai}}(this.config.points,!1),Te=re.normals,Le=re.attrIndex,tn=re.attrPos,_e=re.attrCounters,$e=tn.length;this.vertexCount=$e;var nn=this.geometrySystem.createBufferGeometry({vertexCount:$e});this.setMaterial(ee),this.setGeometry(nn),ee.setCull({enable:!1,face:yn.BACK}).setUniform(kt),this.setAttributes({dashArray:this.config.dashArray,dashOffset:this.config.dashOffset,dashRatio:this.config.dashRatio,thickness:this.config.thickness});var Xe=[],fn=[];Te.forEach(function(er){var Gn=er[0],Kn=er[1];Xe.push([Gn[0],Gn[1]]),fn.push(Kn)}),nn.setIndex(Le.reduce(function(er,Gn){return[].concat(_o()(er),_o()(Gn))},[])),nn.setAttribute("a_pos",Float32Array.from(tn.reduce(function(er,Gn){return[].concat(_o()(er),_o()(Gn))},[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]});var jn=new Array($e).fill(void 0).map(function(){return _o()(Z.config.color)}).reduce(function(er,Gn){return[].concat(_o()(er),_o()(Gn))},[]);nn.setAttribute("a_color",Float32Array.from(jn),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]}),nn.setAttribute("a_line_miter",Float32Array.from(fn),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float"}]}),nn.setAttribute("a_line_normal",Float32Array.from(Xe.reduce(function(er,Gn){return[].concat(_o()(er),_o()(Gn))},[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:3,offset:0,format:"float2"}]}),nn.setAttribute("a_counters",Float32Array.from(_e),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:4,offset:0,format:"float"}]})}}]),w}(ns),$u=fa()(Lu.prototype,"materialSystem",[Pc,Wh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yh=fa()(Lu.prototype,"geometrySystem",[dl,Uf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$l=fa()(Lu.prototype,"shaderModuleService",[zf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vh=Lu))||Vh);function td(K,G){var w=Object.keys(K);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(K);G&&(B=B.filter(function(Z){return Object.getOwnPropertyDescriptor(K,Z).enumerable})),w.push.apply(w,B)}return w}function ed(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=Uo()(K);if(G){var Z=Uo()(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return ds()(this,w)}}var nf=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"];console.log();var nd,rd,id,ad,od,Dc,sd,pl,ud,Wf=(Xh=Object(ui.injectable)(),Hh=Object(ui.inject)(Jr.Systems),Kh=Object(ui.named)(Jr.MaterialSystem),Jh=Object(ui.inject)(Jr.Systems),ql=Object(ui.named)(Jr.GeometrySystem),Qh=Object(ui.inject)(Jr.ShaderModuleService),Xh((vl=function(K){lo()(w,K);var G=ed(w);function w(){var B;ua()(this,w);for(var Z=arguments.length,Pt=new Array(Z),_t=0;_t<Z;_t++)Pt[_t]=arguments[_t];return B=G.call.apply(G,[this].concat(Pt)),Hi()(B,"materialSystem",tf,Zn()(B)),Hi()(B,"geometrySystem",ef,Zn()(B)),Hi()(B,"shaderModuleService",$h,Zn()(B)),B}return ja()(w,[{key:"onAttributeChanged",value:function(Z){var Pt=Z.name,_t=Z.data,q=this.getMeshComponent();q&&q.material&&(Pt==="strokeWidth"?q.material.setUniform("u_stroke_width",_t):Pt==="strokeColor"?q.material.setUniform("u_stroke_color",_t):Pt==="strokeOpacity"?q.material.setUniform("u_stroke_opacity",_t):Pt==="opacity"?q.material.setUniform("u_opacity",_t):Pt==="blur"&&q.material.setUniform("u_blur",_t))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:`attribute vec2 position;
attribute vec4 color;
attribute float shape;
attribute vec2 offset;
attribute float size;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

uniform float u_stroke_width : 0.01;
uniform float u_device_pixel_ratio;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "picking"

void main() {
  v_color = color;
  v_radius = size;

  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);

  // construct point coords
  v_data = vec4(position, antialiasblur, shape);

  gl_Position = projectionMatrix * modelViewMatrix
    * vec4(position * size + offset, 0.0, 1.0);

  setPickingColor(a_PickingColor);
}`,fs:`uniform float u_blur : 0.05;
uniform float u_opacity : 0.7;
uniform float u_stroke_width : 0.01;
uniform vec4 u_stroke_color : [0, 0, 0, 0];
uniform float u_stroke_opacity : 1;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "sdf2d"
#pragma include "picking"

void main() {
  int shape = int(floor(v_data.w + 0.5));

  float antialiasblur = v_data.z;
  float antialiased_blur = -max(u_blur, antialiasblur);
  float r = v_radius / (v_radius + u_stroke_width);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  // if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  // } else if (shape == 1) {
  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  // } else if (shape == 2) {
  //   outer_df = sdBox(v_data.xy, vec2(1.));
  //   inner_df = sdBox(v_data.xy, vec2(r));
  // } else if (shape == 3) {
  //   outer_df = sdPentagon(v_data.xy, 0.8);
  //   inner_df = sdPentagon(v_data.xy, r * 0.8);
  // } else if (shape == 4) {
  //   outer_df = sdHexagon(v_data.xy, 0.8);
  //   inner_df = sdHexagon(v_data.xy, r * 0.8);
  // } else if (shape == 5) {
  //   outer_df = sdOctogon(v_data.xy, 1.0);
  //   inner_df = sdOctogon(v_data.xy, r);
  // } else if (shape == 6) {
  //   outer_df = sdHexagram(v_data.xy, 0.52);
  //   inner_df = sdHexagram(v_data.xy, r * 0.52);
  // } else if (shape == 7) {
  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));
  //   inner_df = sdRhombus(v_data.xy, vec2(r));
  // } else if (shape == 8) {
  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);
  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  // }

  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);

  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
    antialiased_blur,
    0.0,
    inner_df
  );
  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;

  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);
  gl_FragColor.a = gl_FragColor.a * opacity_t;

  gl_FragColor = filterColor(gl_FragColor);
}`});var Z=this.shaderModuleService.getModule("grid"),Pt=Z.vs,_t=Z.fs,q=Z.uniforms,kt=this.materialSystem.createShaderMaterial({vertexShader:Pt,fragmentShader:_t,cull:{enable:!1},depth:{enable:!1},blend:{enable:!0,func:{srcRGB:yn.SRC_ALPHA,dstRGB:yn.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}});kt.setUniform(function(Te){for(var Le=1;Le<arguments.length;Le++){var tn=arguments[Le]!=null?arguments[Le]:{};Le%2?td(Object(tn),!0).forEach(function(_e){Ze()(Te,_e,tn[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Te,Object.getOwnPropertyDescriptors(tn)):td(Object(tn)).forEach(function(_e){Object.defineProperty(Te,_e,Object.getOwnPropertyDescriptor(tn,_e))})}return Te}({u_device_pixel_ratio:window.devicePixelRatio},q));var ee=this.buildAttributes(),re=this.geometrySystem.createInstancedBufferGeometry({maxInstancedCount:ee.instancedOffsets.length/2,vertexCount:6});re.setIndex([0,2,1,0,3,2]),re.setAttribute("position",Float32Array.from(ee.positions),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),re.setAttribute("offset",Float32Array.from(ee.instancedOffsets),{arrayStride:8,stepMode:"instance",attributes:[{shaderLocation:1,offset:0,format:"float2"}]}),re.setAttribute("color",Float32Array.from(ee.instancedColors),{arrayStride:16,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float4"}]}),re.setAttribute("size",Float32Array.from(ee.instancedSizes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:3,offset:0,format:"float"}]}),re.setAttribute("shape",Float32Array.from(ee.instancedShapes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:4,offset:0,format:"float"}]}),re.setAttribute("a_PickingColor",Float32Array.from(ee.instancedPickingColors),{arrayStride:12,stepMode:"instance",attributes:[{shaderLocation:6,offset:0,format:"float3"}]}),this.setMaterial(kt),this.setGeometry(re)}},{key:"buildAttribute",value:function(Z,Pt,_t){var q,kt,ee,re,Te;(q=Pt.instancedPickingColors).push.apply(q,_o()([(Te=Z.id||_t)+1&255,Te+1>>8&255,Te+1>>8>>8&255])),Pt.instancedShapes.push(nf.indexOf(Z.shape||"circle")),(kt=Pt.instancedColors).push.apply(kt,_o()(Z.color||[1,0,0,1])),(ee=Pt.instancedOffsets).push.apply(ee,_o()(Z.position||[0,0])),(re=Pt.instancedSizes).push.apply(re,_o()(Z.size||[.2,.2]))}},{key:"buildAttributes",value:function(){var Z=this,Pt={positions:[1,1,1,-1,-1,-1,-1,1],instancedOffsets:[],instancedColors:[],instancedSizes:[],instancedShapes:[],instancedPickingColors:[]};return Array.isArray(this.config)?this.config.forEach(function(_t,q){Z.buildAttribute(_t,Pt,q)}):this.buildAttribute(this.config,Pt,0),Pt}}]),w}(ns),tf=fa()(vl.prototype,"materialSystem",[Hh,Kh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ef=fa()(vl.prototype,"geometrySystem",[Jh,ql],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$h=fa()(vl.prototype,"shaderModuleService",[Qh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zh=vl))||Zh);function cd(K,G){var w;if(typeof Symbol=="undefined"||K[Symbol.iterator]==null){if(Array.isArray(K)||(w=function(kt,ee){if(!!kt){if(typeof kt=="string")return gl(kt,ee);var re=Object.prototype.toString.call(kt).slice(8,-1);if(re==="Object"&&kt.constructor&&(re=kt.constructor.name),re==="Map"||re==="Set")return Array.from(kt);if(re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re))return gl(kt,ee)}}(K))||G&&K&&typeof K.length=="number"){w&&(K=w);var B=0,Z=function(){};return{s:Z,n:function(){return B>=K.length?{done:!0}:{done:!1,value:K[B++]}},e:function(ee){throw ee},f:Z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Pt,_t=!0,q=!1;return{s:function(){w=K[Symbol.iterator]()},n:function(){var ee=w.next();return _t=ee.done,ee},e:function(ee){q=!0,Pt=ee},f:function(){try{_t||w.return==null||w.return()}finally{if(q)throw Pt}}}}function gl(K,G){(G==null||G>K.length)&&(G=K.length);for(var w=0,B=new Array(G);w<G;w++)B[w]=K[w];return B}var ld,rf,Vf,af,Yf,of,Xf,Hf,fd,hd,Kf,ml,Rc=(nd=Object(ui.injectable)(),rd=Object(ui.inject)(Jr.RenderEngine),id=Object(ui.inject)(Jr.ShaderModuleService),ad=Object(ui.inject)(Jr.ConfigService),nd((Dc=function(){function K(){ua()(this,K),Hi()(this,"engine",sd,this),Hi()(this,"shaderModule",pl,this),Hi()(this,"configService",ud,this),this.inited=!1,this.rendering=!1,this.pendings=[],this.views=[],this.size=void 0,this.container=void 0}var G,w;return ja()(K,[{key:"init",value:(w=qr()(gr.a.mark(function B(){var Z,Pt,_t,q,kt;return gr.a.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(this.shaderModule.registerBuiltinModules(),Z=this.container.getAll(Jr.Systems),!(Pt=this.configService.get()).canvas){ee.next=25;break}return ee.next=6,this.engine.init({canvas:Pt.canvas,swapChainFormat:Mi.TextureFormat.BGRA8Unorm,antialiasing:!1});case 6:_t=cd(Z),ee.prev=7,_t.s();case 9:if((q=_t.n()).done){ee.next=16;break}if(!(kt=q.value).initialize){ee.next=14;break}return ee.next=14,kt.initialize();case 14:ee.next=9;break;case 16:ee.next=21;break;case 18:ee.prev=18,ee.t0=ee.catch(7),_t.e(ee.t0);case 21:return ee.prev=21,_t.f(),ee.finish(21);case 24:this.inited=!0;case 25:case"end":return ee.stop()}},B,this,[[7,18,21,24]])})),function(){return w.apply(this,arguments)})},{key:"render",value:(G=qr()(gr.a.mark(function B(){var Z,Pt,_t,q,kt,ee,re,Te=arguments;return gr.a.wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:if(this.inited&&!this.rendering){Le.next=2;break}return Le.abrupt("return");case 2:for(this.pendings.length&&this.pendings.forEach(function(tn){tn()}),this.rendering=!0,this.engine.beginFrame(),Z=this.container.getAll(Jr.Systems),Pt=Te.length,_t=new Array(Pt),q=0;q<Pt;q++)_t[q]=Te[q];kt=cd(Z),Le.prev=8,kt.s();case 10:if((ee=kt.n()).done){Le.next=17;break}if(!(re=ee.value).execute){Le.next=15;break}return Le.next=15,re.execute(_t);case 15:Le.next=10;break;case 17:Le.next=22;break;case 19:Le.prev=19,Le.t0=Le.catch(8),kt.e(Le.t0);case 22:return Le.prev=22,kt.f(),Le.finish(22);case 25:this.engine.endFrame(),this.rendering=!1;case 27:case"end":return Le.stop()}},B,this,[[8,19,22,25]])})),function(){return G.apply(this,arguments)})},{key:"clear",value:function(Z){var Pt=this;return this.inited?this.engine.clear(Z):this.pendings.unshift(function(){Pt.engine.clear(Z),Pt.pendings.shift()}),this}},{key:"setSize",value:function(Z){var Pt=Z.width,_t=Z.height,q=this.engine.getCanvas();return this.size={width:Pt,height:_t},q.width=Pt,q.height=_t,this}},{key:"getSize",value:function(){return this.size}}]),K}(),sd=fa()(Dc.prototype,"engine",[rd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pl=fa()(Dc.prototype,"shaderModule",[id],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ud=fa()(Dc.prototype,"configService",[ad],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),od=Dc))||od),Jf=Object(ui.injectable)()(ld=function(){function K(){ua()(this,K),this.entities=[]}return ja()(K,[{key:"getEntities",value:function(){return this.entities}},{key:"addEntity",value:function(w){return this.entities.indexOf(w)===-1&&this.entities.push(w),this}},{key:"removeEntity",value:function(w){var B=this.entities.indexOf(w);return this.entities.splice(B,1),this}}]),K}())||ld,dd=(rf=Object(ui.injectable)(),Vf=Object(ui.inject)(Jr.Systems),af=Object(ui.named)(Jr.RendererSystem),rf((of=function(){function K(){ua()(this,K),Hi()(this,"rendererSystem",Xf,this),this.camera=void 0,this.scene=void 0,this.viewport={x:0,y:0,width:0,height:0},this.clearColor=[1,1,1,1]}return ja()(K,[{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getViewport",value:function(){return this.viewport}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"setCamera",value:function(w){return this.camera=w,this}},{key:"setScene",value:function(w){return this.scene=w,this}},{key:"setViewport",value:function(w){return this.viewport=w,this}},{key:"setClearColor",value:function(w){return this.clearColor=w,this}},{key:"pick",value:function(w){return this.rendererSystem.pick(w,this)}}]),K}(),Xf=fa()(of.prototype,"rendererSystem",[Vf,af],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yf=of))||Yf);function yl(K,G){var w=Object.keys(K);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(K);G&&(B=B.filter(function(Z){return Object.getOwnPropertyDescriptor(K,Z).enumerable})),w.push.apply(w,B)}return w}function vd(K){for(var G=1;G<arguments.length;G++){var w=arguments[G]!=null?arguments[G]:{};G%2?yl(Object(w),!0).forEach(function(B){Ze()(K,B,w[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(w)):yl(Object(w)).forEach(function(B){Object.defineProperty(K,B,Object.getOwnPropertyDescriptor(w,B))})}return K}var sf=(Hf=Object(ui.injectable)(),fd=Object(ui.inject)(Jr.ConfigService),Hf((Kf=function(){function K(){ua()(this,K),Hi()(this,"configService",ml,this),this.container=void 0}var G;return ja()(K,[{key:"getEngine",value:(G=qr()(gr.a.mark(function w(){var B,Z,Pt,_t;return gr.a.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return B=this.container.get(Jr.RenderEngine),Z=this.configService.get(),Pt=Z.canvas,_t=Z.engineOptions,q.next=4,B.init(vd({canvas:Pt||jf(),swapChainFormat:Mi.TextureFormat.BGRA8Unorm,antialiasing:!1},_t));case 4:return q.abrupt("return",B);case 5:case"end":return q.stop()}},w,this)})),function(){return G.apply(this,arguments)})},{key:"getTransformComponent",value:function(B){return this.container.get(Jr.TransformComponentManager).getComponentByEntity(B)}},{key:"getMeshComponent",value:function(B){return this.container.get(Jr.MeshComponentManager).getComponentByEntity(B)}},{key:"setConfig",value:function(B){this.configService.set(B)}},{key:"setContainer",value:function(B){this.container=B}},{key:"getContainer",value:function(){return this.container}},{key:"createEntity",value:function(){return so()}},{key:"createScene",value:function(){return this.container.get(Jf)}},{key:"createCamera",value:function(){return this.container.get(Zc)}},{key:"createView",value:function(){return this.container.get(dd)}},{key:"createRenderable",value:function(B,Z,Pt){var _t=Z?this.container.getNamed(Jr.Renderable,Z):this.container.get(ns);return _t.setConfig(Pt||{}),_t.setEntity(B),_t}},{key:"createBoxGeometry",value:function(B){return this.container.getNamed(Jr.Systems,Jr.GeometrySystem).createBox(B)}},{key:"createBufferGeometry",value:function(B){return this.container.getNamed(Jr.Systems,Jr.GeometrySystem).createBufferGeometry(B)}},{key:"createInstancedBufferGeometry",value:function(B){return this.container.getNamed(Jr.Systems,Jr.GeometrySystem).createInstancedBufferGeometry(B)}},{key:"createBasicMaterial",value:function(){return this.container.getNamed(Jr.Systems,Jr.MaterialSystem).createBasicMaterial()}},{key:"createShaderMaterial",value:function(B){return this.container.getNamed(Jr.Systems,Jr.MaterialSystem).createShaderMaterial(B)}},{key:"createKernel",value:function(B){var Z=this.container.get(bu);return typeof B=="string"?Z.setBundle(JSON.parse(B)):Z.setBundle(B),Z.init(),Z}},{key:"createRenderer",value:function(){var B=this.container.get(Rc);return B.container=this.container,B.init(),B}},{key:"destroy",value:function(){this.container.getAll(Jr.Systems).forEach(function(B){B.tearDown&&B.tearDown()}),this.container.get(Jr.RenderEngine).destroy(),this.container.get(Jr.InteractorService).destroy()}}],[{key:"create",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=Ad(),Pt=navigator.gpu?Gd:Th;Z.isBound(Jr.RenderEngine)||Z.bind(Jr.RenderEngine).to(Pt).inSingletonScope(),Z.bind(Rc).toSelf(),Z.bind(bu).toSelf(),Z.bind(ns).toSelf(),Z.bind(dd).toSelf(),Z.bind(Zc).toSelf(),Z.bind(Jf).toSelf(),Z.bind(K).toSelf(),Z.bind(Jr.Renderable).to(Wf).whenTargetNamed(ns.POINT),Z.bind(Jr.Renderable).to(qh).whenTargetNamed(ns.LINE),Z.bind(Jr.Renderable).to(zd).whenTargetNamed(ns.GRID);var _t=Z.get(K);return _t.setContainer(Z),_t.setConfig(B),_t}}]),K}(),ml=fa()(Kf.prototype,"configService",[fd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hd=Kf))||hd),kc=function(G,w){return G?E(G)?function(){return G}:G:function(){return w||1}},Vd=function(G,w){var B=[],Z=[],Pt={},_t=0;for(_t=0;_t<G.length;_t++){var q=G[_t];Pt[q.id]=_t,B.push(q.x),B.push(q.y),B.push(0),B.push(0),Z.push([])}for(_t=0;_t<w.length;_t++){var kt=w[_t];Z[Pt[kt.source]].push(Pt[kt.target]),Z[Pt[kt.target]].push(Pt[kt.source])}var ee=0;for(_t=0;_t<G.length;_t++){var re=B.length,Te=Z[_t],Le=Te.length;B[4*_t+2]=re,B[4*_t+3]=Te.length,ee=Math.max(ee,Te.length);for(var tn=0;tn<Le;++tn){var _e=Te[tn];B.push(+_e)}}for(;B.length%4!=0;)B.push(0);return{maxEdgePerVetex:ee,array:new Float32Array(B)}},qu=function(G,w,B,Z){var Pt=[],_t=[],q={},kt=0;for(kt=0;kt<G.length;kt++){var ee=G[kt];q[ee.id]=kt,Pt.push(ee.x),Pt.push(ee.y),Pt.push(0),Pt.push(0),_t.push([])}for(kt=0;kt<w.length;kt++){var re=w[kt];_t[q[re.source]].push(q[re.target]),_t[q[re.source]].push(B(re)),_t[q[re.source]].push(Z(re)),_t[q[re.source]].push(0),_t[q[re.target]].push(q[re.source]),_t[q[re.target]].push(B(re)),_t[q[re.target]].push(Z(re)),_t[q[re.target]].push(0)}var Te=0;for(kt=0;kt<G.length;kt++){var Le=Pt.length,tn=_t[kt],_e=tn.length;Pt[4*kt+2]=Le+1048576*_e/4,Pt[4*kt+3]=0,Te=Math.max(Te,_e/4);for(var $e=0;$e<_e;++$e){var nn=tn[$e];Pt.push(+nn)}}for(;Pt.length%4!=0;)Pt.push(0);return{maxEdgePerVetex:Te,array:new Float32Array(Pt)}},pd=function(G,w){var B=[],Z=G.length,Pt={};return w.forEach(function(_t){G.forEach(function(q,kt){if(Pt[_t[q]]===void 0&&(Pt[_t[q]]=Object.keys(Pt).length),B.push(Pt[_t[q]]),kt===Z-1)for(;B.length%4!=0;)B.push(0)})}),{array:new Float32Array(B),count:Object.keys(Pt).length}},l=function(G){for(var w=[],B=G.length,Z=G[0].length,Pt=function(kt){G.forEach(function(ee,re){if(w.push(ee[kt]),re===B-1)for(;w.length%4!=0;)w.push(0)})},_t=0;_t<Z;_t++)Pt(_t);return new Float32Array(w)};function i(K){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(K)}function e(K,G){for(var w=0;w<G.length;w++){var B=G[w];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(K,B.key,B)}}function r(K,G){return(r=Object.setPrototypeOf||function(w,B){return w.__proto__=B,w})(K,G)}function g(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=at(K);if(G){var Z=at(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return N(this,w)}}function N(K,G){return!G||i(G)!=="object"&&typeof G!="function"?function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(K):G}function at(K){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)})(K)}var Tt=function(G,w,B,Z){return new(B||(B=Promise))(function(Pt,_t){function q(re){try{ee(Z.next(re))}catch(Te){_t(Te)}}function kt(re){try{ee(Z.throw(re))}catch(Te){_t(Te)}}function ee(re){var Te;re.done?Pt(re.value):(Te=re.value,Te instanceof B?Te:new B(function(Le){Le(Te)})).then(q,kt)}ee((Z=Z.apply(G,w||[])).next())})},zt=function(K){(function(_t,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");_t.prototype=Object.create(q&&q.prototype,{constructor:{value:_t,writable:!0,configurable:!0}}),q&&r(_t,q)})(Pt,K);var G,w,B,Z=g(Pt);function Pt(_t){var q;return function(kt,ee){if(!(kt instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,Pt),(q=Z.call(this)).maxIteration=1e3,q.gravity=10,q.speed=1,q.clustering=!1,q.clusterField="cluster",q.clusterGravity=10,q.workerEnabled=!1,q.nodes=[],q.edges=[],q.width=300,q.height=300,q.nodeMap={},q.nodeIdxMap={},q.updateCfg(_t),q}return G=Pt,(w=[{key:"getDefaultCfg",value:function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}},{key:"execute",value:function(){return Tt(this,void 0,void 0,lt.mark(function q(){var kt,ee,re,Te,Le,tn=this;return lt.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if((ee=(kt=this).nodes)&&ee.length!==0){_e.next=5;break}return kt.onLayoutEnd&&kt.onLayoutEnd(),_e.abrupt("return");case 5:if(kt.width||typeof window=="undefined"||(kt.width=window.innerWidth),kt.height||typeof window=="undefined"||(kt.height=window.innerHeight),kt.center||(kt.center=[kt.width/2,kt.height/2]),re=kt.center,ee.length!==1){_e.next=14;break}return ee[0].x=re[0],ee[0].y=re[1],kt.onLayoutEnd&&kt.onLayoutEnd(),_e.abrupt("return");case 14:return Te={},Le={},ee.forEach(function($e,nn){E($e.x)||($e.x=Math.random()*tn.width),E($e.y)||($e.y=Math.random()*tn.height),Te[$e.id]=$e,Le[$e.id]=nn}),kt.nodeMap=Te,kt.nodeIdxMap=Le,_e.next=21,kt.run();case 21:case"end":return _e.stop()}},q,this)}))}},{key:"executeWithWorker",value:function(q,kt){return Tt(this,void 0,void 0,lt.mark(function ee(){var re,Te,Le,tn,_e,$e=this;return lt.wrap(function(nn){for(;;)switch(nn.prev=nn.next){case 0:if(Te=(re=this).nodes,Le=re.center,Te&&Te.length!==0){nn.next=5;break}return nn.abrupt("return");case 5:if(Te.length!==1){nn.next=9;break}return Te[0].x=Le[0],Te[0].y=Le[1],nn.abrupt("return");case 9:return tn={},_e={},Te.forEach(function(Xe,fn){E(Xe.x)||(Xe.x=Math.random()*$e.width),E(Xe.y)||(Xe.y=Math.random()*$e.height),tn[Xe.id]=Xe,_e[Xe.id]=fn}),re.nodeMap=tn,re.nodeIdxMap=_e,nn.next=16,re.run(q,kt);case 16:case"end":return nn.stop()}},ee,this)}))}},{key:"run",value:function(q,kt){return Tt(this,void 0,void 0,lt.mark(function ee(){var re,Te,Le,tn,_e,$e,nn,Xe,fn,jn,er,Gn,Kn,nr,yr,Sr,_r,Wr,Tr,Ur,ni,Gr,ki,Bi,ha,ai,ia=this;return lt.wrap(function(da){for(;;)switch(da.prev=da.next){case 0:for(Te=(re=this).nodes,Le=re.edges,tn=re.maxIteration,_e=re.center,$e=re.height*re.width,nn=Math.sqrt($e)/10,Xe=$e/(Te.length+1),fn=Math.sqrt(Xe),jn=re.speed,er=re.clustering,Gn=pd([re.clusterField],Te),Kn=Gn.array,nr=Gn.count,yr=Te.length,Sr=Vd(Te,Le),_r=Sr.maxEdgePerVetex,Wr=Sr.array,Tr=re.workerEnabled,Ur=Tr?sf.create({canvas:q,engineOptions:{supportCompute:!0}}):sf.create({engineOptions:{supportCompute:!0}}),ni=re.onLayoutEnd,Gr=[],ki=0;ki<nr;ki++)Gr.push(0,0,0,0);return Bi=Ur.createKernel('{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_K : f32;\\n  [[offset 4]] u_K2 : f32;\\n  [[offset 8]] u_Center : vec2<f32>;\\n  [[offset 16]] u_Gravity : f32;\\n  [[offset 20]] u_ClusterGravity : f32;\\n  [[offset 24]] u_Speed : f32;\\n  [[offset 28]] u_MaxDisplace : f32;\\n  [[offset 32]] u_Clustering : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AttributeArray : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar param : f32 = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx = dx + param * xDist;\\ndy = dy + param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < j);\\ndx = dx + param * std::sign;\\ndy = dy + param * std::sign;}}}}\\nreturn vec2<f32>(dx, dy);}\\nfn calcGravity(currentNode : vec4<f32>, nodeAttributes : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar vx : f32 = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nvar vy : f32 = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nvar gf : f32 = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {var clusterIdx : i32 = i32(nodeAttributes.x);\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nvar cvx : f32 = currentNode.x - center.x;\\nvar cvy : f32 = currentNode.y - center.y;\\nvar dist : f32 = std::sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nvar parma : f32 = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx = dx + parma * cvx;\\ndy = dy + parma * cvy;}\\nreturn vec2<f32>(dx, dy);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar arr_offset : i32 = i32(std::floor(currentNode.z + 0.5));\\nvar length : i32 = i32(std::floor(currentNode.w + 0.5));\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + i32(p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = select(node_buffer.x, select(node_buffer.y, select(node_buffer.z, node_buffer.w, buf_offset == 2), buf_offset == 1), buf_offset == 0);\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar attractiveF : f32 = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx = dx - xDist * attractiveF;\\ndy = dy - yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < i32(float_j));\\ndx = dx - std::sign * attractiveF;\\ndy = dy - std::sign * attractiveF;}}}\\nreturn vec2<f32>(dx, dy);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nif (i >= __DefineValuePlaceholder__VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\ndx = dx + repulsive.x;\\ndy = dy + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode);\\ndx = dx + attractive.x;\\ndy = dy + attractive.y;\\nvar nodeAttributes : vec4<f32> = gWebGPUBuffer1.u_AttributeArray[i];\\nvar gravity : vec2<f32> = calcGravity(currentNode, nodeAttributes);\\ndx = dx - gravity.x;\\ndy = dy - gravity.y;\\ndx = dx * gWebGPUUniformParams.u_Speed;\\ndy = dy * gWebGPUUniformParams.u_Speed;\\nvar distLength : f32 = std::sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {var limitedDist : f32 = std::min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_K;\\n  float u_K2;\\n  vec2 u_Center;\\n  float u_Gravity;\\n  float u_ClusterGravity;\\n  float u_Speed;\\n  float u_MaxDisplace;\\n  float u_Clustering;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AttributeArray[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvec2 calcRepulsive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {float dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nfloat vy = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nfloat gf = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec4 nodeAttributes = gWebGPUBuffer1.u_AttributeArray[i];\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= gWebGPUUniformParams.u_Speed;\\ndy *= gWebGPUUniformParams.u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}').setDispatch([yr,1,1]).setBinding({u_Data:Wr,u_K:fn,u_K2:Xe,u_Gravity:re.gravity,u_ClusterGravity:re.clusterGravity||re.gravity||1,u_Speed:jn,u_MaxDisplace:nn,u_Clustering:er?1:0,u_Center:_e,u_AttributeArray:Kn,u_ClusterCenters:Gr,MAX_EDGE_PER_VERTEX:_r,VERTEX_COUNT:yr}),er&&(ha=Ur.createKernel('{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\n\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 0, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributes : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[i];\\nvar sumx : f32 = 0.0;\\nvar sumy : f32 = 0.0;\\nvar count : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var attributes : vec4<f32> = gWebGPUBuffer1.u_NodeAttributes[j];\\nvar clusterIdx : i32 = i32(attributes.x);\\nvar vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx = sumx + vertex.x;\\nsumy = sumy + vertex.y;\\ncount = count + 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4<f32>(sumx / count, sumy / count, count, i);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\n\\nlayout(std430, set = 0, binding = 0) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_NodeAttributes[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {int i = globalInvocationID.x;\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[i];\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = gWebGPUBuffer1.u_NodeAttributes[j];\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4(sumx / count, sumy / count, count, i);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}').setDispatch([nr,1,1]).setBinding({u_Data:Wr,u_NodeAttributes:Kn,u_ClusterCenters:Gr,VERTEX_COUNT:yr,CLUSTER_COUNT:nr})),ai=function(){return Tt(ia,void 0,void 0,lt.mark(function Go(){var Ao,ba;return lt.wrap(function(Va){for(;;)switch(Va.prev=Va.next){case 0:Ao=0;case 1:if(!(Ao<tn)){Va.next=13;break}return Va.next=4,Bi.execute();case 4:if(!er){Va.next=9;break}return ha.setBinding({u_Data:Bi}),Va.next=8,ha.execute();case 8:Bi.setBinding({u_ClusterCenters:ha});case 9:Bi.setBinding({u_MaxDisplace:nn*=.99});case 10:Ao++,Va.next=1;break;case 13:return Va.next=15,Bi.getOutput();case 15:ba=Va.sent,q?kt.postMessage({type:to,vertexEdgeData:ba}):Te.forEach(function(ts,fs){var cu=ba[4*fs],lu=ba[4*fs+1];ts.x=cu,ts.y=lu}),ni&&ni();case 18:case"end":return Va.stop()}},Go)}))},da.next=24,ai();case 24:case"end":return da.stop()}},ee,this)}))}},{key:"getType",value:function(){return"fruchterman-gpu"}}])&&e(G.prototype,w),B&&e(G,B),Pt}(x);function ae(K){return(ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(K)}function Oe(K,G){for(var w=0;w<G.length;w++){var B=G[w];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(K,B.key,B)}}function ye(K,G){return(ye=Object.setPrototypeOf||function(w,B){return w.__proto__=B,w})(K,G)}function Ne(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=gn(K);if(G){var Z=gn(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return Qe(this,w)}}function Qe(K,G){return!G||ae(G)!=="object"&&typeof G!="function"?function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(K):G}function gn(K){return(gn=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)})(K)}var Tn=function(G,w,B,Z){return new(B||(B=Promise))(function(Pt,_t){function q(re){try{ee(Z.next(re))}catch(Te){_t(Te)}}function kt(re){try{ee(Z.throw(re))}catch(Te){_t(Te)}}function ee(re){var Te;re.done?Pt(re.value):(Te=re.value,Te instanceof B?Te:new B(function(Le){Le(Te)})).then(q,kt)}ee((Z=Z.apply(G,w||[])).next())})},cr=function(K){(function(_t,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");_t.prototype=Object.create(q&&q.prototype,{constructor:{value:_t,writable:!0,configurable:!0}}),q&&ye(_t,q)})(Pt,K);var G,w,B,Z=Ne(Pt);function Pt(_t){var q;return function(kt,ee){if(!(kt instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,Pt),(q=Z.call(this)).maxIteration=1e3,q.edgeStrength=200,q.nodeStrength=1e3,q.coulombDisScale=.005,q.damping=.9,q.maxSpeed=1e3,q.minMovement=1,q.interval=.02,q.factor=1,q.linkDistance=1,q.gravity=10,q.workerEnabled=!1,q.nodes=[],q.edges=[],q.width=300,q.height=300,q.nodeMap={},q.nodeIdxMap={},q.updateCfg(_t),q}return G=Pt,(w=[{key:"getDefaultCfg",value:function(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}}},{key:"execute",value:function(){return Tn(this,void 0,void 0,lt.mark(function q(){var kt,ee,re,Te,Le;return lt.wrap(function(tn){for(;;)switch(tn.prev=tn.next){case 0:if((ee=(kt=this).nodes)&&ee.length!==0){tn.next=5;break}return kt.onLayoutEnd&&kt.onLayoutEnd(),tn.abrupt("return");case 5:if(kt.width||typeof window=="undefined"||(kt.width=window.innerWidth),kt.height||typeof window=="undefined"||(kt.height=window.innerHeight),kt.center||(kt.center=[kt.width/2,kt.height/2]),re=kt.center,ee.length!==1){tn.next=14;break}return ee[0].x=re[0],ee[0].y=re[1],kt.onLayoutEnd&&kt.onLayoutEnd(),tn.abrupt("return");case 14:return Te={},Le={},ee.forEach(function(_e,$e){E(_e.x)||(_e.x=Math.random()*kt.width),E(_e.y)||(_e.y=Math.random()*kt.height),Te[_e.id]=_e,Le[_e.id]=$e}),kt.nodeMap=Te,kt.nodeIdxMap=Le,kt.nodeStrength=kc(kt.nodeStrength,1),kt.edgeStrength=kc(kt.edgeStrength,1),tn.next=23,kt.run();case 23:case"end":return tn.stop()}},q,this)}))}},{key:"executeWithWorker",value:function(q,kt){var ee=this,re=ee.nodes,Te=ee.center;if(re&&re.length!==0){if(re.length===1)return re[0].x=Te[0],void(re[0].y=Te[1]);var Le={},tn={};re.forEach(function(_e,$e){E(_e.x)||(_e.x=Math.random()*ee.width),E(_e.y)||(_e.y=Math.random()*ee.height),Le[_e.id]=_e,tn[_e.id]=$e}),ee.nodeMap=Le,ee.nodeIdxMap=tn,ee.nodeStrength=kc(ee.nodeStrength,1),ee.edgeStrength=kc(ee.edgeStrength,1),ee.run(q,kt)}}},{key:"run",value:function(q,kt){return Tn(this,void 0,void 0,lt.mark(function ee(){var re,Te,Le,tn,_e,$e,nn,Xe,fn,jn,er,Gn,Kn,nr,yr,Sr,_r,Wr,Tr,Ur,ni,Gr,ki,Bi,ha,ai=this;return lt.wrap(function(ia){for(;;)switch(ia.prev=ia.next){case 0:for(Te=(re=this).nodes,Le=re.edges,tn=re.maxIteration,re.width||typeof window=="undefined"||(re.width=window.innerWidth),re.height||typeof window=="undefined"||(re.height=window.innerHeight),_e=Te.length,re.linkDistance=kc(re.linkDistance),re.edgeStrength=kc(re.edgeStrength),$e=qu(Te,Le,re.linkDistance,re.edgeStrength),nn=$e.maxEdgePerVetex,Xe=$e.array,re.degrees=o(Te.length,re.nodeIdxMap,Le),fn=[],jn=[],er=[],Gn=[],Kn=[],re.getMass||(re.getMass=function(da){return re.degrees[re.nodeIdxMap[da.id]]||1}),nr=re.gravity,yr=re.center,Te.forEach(function(da,ya){fn.push(re.getMass(da)),jn.push(re.nodeStrength(da)),re.degrees[ya]||(re.degrees[ya]=0);var Go=[yr[0],yr[1],nr];if(re.getCenter){var Ao=re.getCenter(da,re.degrees[ya]);Ao&&E(Ao[0])&&E(Ao[1])&&E(Ao[2])&&(Go=Ao)}er.push(Go[0]),Gn.push(Go[1]),Kn.push(Go[2])}),Sr=l([fn,re.degrees,jn]),_r=l([er,Gn,Kn]),Wr=re.workerEnabled,Tr=Wr?sf.create({canvas:q,engineOptions:{supportCompute:!0}}):sf.create({engineOptions:{supportCompute:!0}}),Ur=re.onLayoutEnd,ni=[],Xe.forEach(function(da){ni.push(da)}),Gr=0;Gr<4;Gr++)ni.push(0);return ki=Tr.createKernel('{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_damping : f32;\\n  [[offset 4]] u_maxSpeed : f32;\\n  [[offset 8]] u_minMovement : f32;\\n  \\n  [[offset 12]] u_coulombDisScale : f32;\\n  [[offset 16]] u_factor : f32;\\n  \\n  \\n  [[offset 20]] u_interval : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray1 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\ntype GWebGPUBuffer3 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray2 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 4, set 0]] var<storage_buffer> gWebGPUBuffer3 : GWebGPUBuffer3;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn unpack_float(packedValue : f32) -> vec2<i32> {var packedIntValue : i32 = i32(packedValue);\\nvar v0 : i32 = packedIntValue / 1048576;\\nreturn vec2<i32>(v0, packedIntValue - (v0 * 1048576));}\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar vx : f32 = currentNode.x - nextNode.x;\\nvar vy : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar n_dist : f32 = dist * gWebGPUUniformParams.u_coulombDisScale;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar attributesi : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar attributesj : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nvar massi : f32 = attributesi.x;\\nvar nodeStrengthi : f32 = attributesi.z;\\nvar nodeStrengthj : f32 = attributesj.z;\\nvar nodeStrength : f32 = (nodeStrengthi + nodeStrengthj) / 2.0;\\nvar param : f32 = (1000.0 * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax = ax + direx * param;\\nay = ay + direy * param;}}\\nreturn vec2<f32>(ax, ay);}\\nfn calcGravity(i : i32, currentNode : vec4<f32>, attributes2 : vec4<f32>) -> vec2<f32> {var vx : f32 = currentNode.x - attributes2.x;\\nvar vy : f32 = currentNode.y - attributes2.y;\\nvar ax : f32 = vx * attributes2.w;\\nvar ay : f32 = vy * attributes2.w;\\nreturn vec2<f32>(ax, ay);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>, attributes1 : vec4<f32>) -> vec2<f32> {var mass : f32 = attributes1.x;\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nvar compressed : vec2<i32> = unpack_float(currentNode.z);\\nvar length : i32 = compressed.x;\\nvar arr_offset : i32 = compressed.y;\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + (4 * p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = node_buffer.x;\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar vx : f32 = nextNode.x - currentNode.x;\\nvar vy : f32 = nextNode.y - currentNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar edgeLength : f32 = node_buffer.y;\\nvar edgeStrength : f32 = node_buffer.z;\\nvar diff : f32 = edgeLength - dist;\\nvar param : f32 = (diff * edgeStrength) / mass;\\nax = ax - direx * param;\\nay = ay - direy * param;}\\nreturn vec2<f32>(ax, ay);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar movement : vec4<f32> = gWebGPUBuffer1.u_AveMovement[0];\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nif ((i >= __DefineValuePlaceholder__VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes1 : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar nodeAttributes2 : vec4<f32> = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\nax = ax + repulsive.x;\\nay = ay + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode, nodeAttributes1);\\nax = ax + attractive.x;\\nay = ay + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(i, currentNode, nodeAttributes2);\\nax = ax - gravity.x;\\nay = ay - gravity.y;\\nvar param : f32 = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nvar vx : f32 = ax * param;\\nvar vy : f32 = ay * param;\\nvar vlength : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {var param2 : f32 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nvar distx : f32 = vx * gWebGPUUniformParams.u_interval;\\nvar disty : f32 = vy * gWebGPUUniformParams.u_interval;\\nvar distLength : f32 = std::sqrt((distx * distx) + (disty * disty));\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_damping;\\n  float u_maxSpeed;\\n  float u_minMovement;\\n  \\n  float u_coulombDisScale;\\n  float u_factor;\\n  \\n  \\n  float u_interval;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_NodeAttributeArray1[];\\n} gWebGPUBuffer2;\\n\\nlayout(std430, set = 0, binding = 4) buffer readonly  GWebGPUBuffer3 {\\n  vec4 u_NodeAttributeArray2[];\\n} gWebGPUBuffer3;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nivec2 unpack_float(float packedValue) {int packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {float ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = dist * gWebGPUUniformParams.u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 attributesj = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (1000.0 * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {float vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.w;\\nfloat ay = vy * attributes2.w;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {float mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nvec4 movement = gWebGPUBuffer1.u_AveMovement[0];\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes1 = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 nodeAttributes2 = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {float param2 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * gWebGPUUniformParams.u_interval;\\nfloat disty = vy * gWebGPUUniformParams.u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = dist * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (1000.0 * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.w;\\nfloat ay = vy * attributes2.w;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\ngl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}').setDispatch([_e,1,1]).setBinding({u_Data:Xe,u_damping:re.damping,u_maxSpeed:re.maxSpeed,u_minMovement:re.minMovement,u_coulombDisScale:re.coulombDisScale,u_factor:re.factor,u_NodeAttributeArray1:Sr,u_NodeAttributeArray2:_r,MAX_EDGE_PER_VERTEX:nn,VERTEX_COUNT:_e,u_AveMovement:ni,u_interval:re.interval}),Bi=Tr.createKernel('{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_iter : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var movement : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nmovement = movement + vertex.w;}\\nmovement = movement / f32(__DefineValuePlaceholder__VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4<f32>(movement, 0.0, 0.0, 0.0);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_iter;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {float movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = gWebGPUBuffer0.u_Data[j];\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4(movement, 0.0, 0.0, 0.0);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}').setDispatch([1,1,1]).setBinding({u_Data:Xe,VERTEX_COUNT:_e,u_AveMovement:[0,0,0,0]}),ha=function(){return Tn(ai,void 0,void 0,lt.mark(function ya(){var Go,Ao,ba;return lt.wrap(function(Va){for(;;)switch(Va.prev=Va.next){case 0:Go=0;case 1:if(!(Go<tn)){Va.next=12;break}return Va.next=4,ki.execute();case 4:return Bi.setBinding({u_Data:ki}),Va.next=7,Bi.execute();case 7:Ao=Math.max(.02,re.interval-.002*Go),ki.setBinding({u_interval:Ao,u_AveMovement:Bi});case 9:Go++,Va.next=1;break;case 12:return Va.next=14,ki.getOutput();case 14:ba=Va.sent,q?kt.postMessage({type:to,vertexEdgeData:ba}):Te.forEach(function(ts,fs){var cu=ba[4*fs],lu=ba[4*fs+1];ts.x=cu,ts.y=lu}),Ur&&Ur();case 17:case"end":return Va.stop()}},ya)}))},ia.next=33,ha();case 33:case"end":return ia.stop()}},ee,this)}))}},{key:"getType",value:function(){return"gForce-gpu"}}])&&Oe(G.prototype,w),B&&Oe(G,B),Pt}(x);function br(K){return(br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(K)}function Lr(K,G){for(var w=0;w<G.length;w++){var B=G[w];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(K,B.key,B)}}function Fr(K,G){return(Fr=Object.setPrototypeOf||function(w,B){return w.__proto__=B,w})(K,G)}function li(K){var G=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,B=gi(K);if(G){var Z=gi(this).constructor;w=Reflect.construct(B,arguments,Z)}else w=B.apply(this,arguments);return Ai(this,w)}}function Ai(K,G){return!G||br(G)!=="object"&&typeof G!="function"?function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(K):G}function gi(K){return(gi=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)})(K)}var Ra=function(K){(function(_t,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");_t.prototype=Object.create(q&&q.prototype,{constructor:{value:_t,writable:!0,configurable:!0}}),q&&Fr(_t,q)})(Pt,K);var G,w,B,Z=li(Pt);function Pt(_t){var q;return function(kt,ee){if(!(kt instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,Pt),(q=Z.call(this)).center=[0,0],q.maxIteration=100,q.gravity=10,q.comboGravity=10,q.linkDistance=10,q.alpha=1,q.alphaMin=.001,q.alphaDecay=1-Math.pow(q.alphaMin,1/300),q.alphaTarget=0,q.velocityDecay=.6,q.edgeStrength=.6,q.nodeStrength=30,q.preventOverlap=!1,q.preventNodeOverlap=!1,q.preventComboOverlap=!1,q.collideStrength=void 0,q.nodeCollideStrength=.5,q.comboCollideStrength=.5,q.comboSpacing=20,q.comboPadding=10,q.optimizeRangeFactor=1,q.onTick=function(){},q.onLayoutEnd=function(){},q.depthAttractiveForceScale=1,q.depthRepulsiveForceScale=2,q.nodes=[],q.edges=[],q.combos=[],q.comboTrees=[],q.width=300,q.height=300,q.bias=[],q.nodeMap={},q.oriComboMap={},q.indexMap={},q.comboMap={},q.previousLayouted=!1,q.updateCfg(_t),q}return G=Pt,(w=[{key:"getDefaultCfg",value:function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}}},{key:"execute",value:function(){var q=this.nodes,kt=this.center;if(this.comboTree={id:"comboTreeRoot",depth:-1,children:this.comboTrees},q&&q.length!==0){if(q.length===1)return q[0].x=kt[0],q[0].y=kt[1],void(this.onLayoutEnd&&this.onLayoutEnd());this.initVals(),this.run(),this.onLayoutEnd&&this.onLayoutEnd()}else this.onLayoutEnd&&this.onLayoutEnd()}},{key:"run",value:function(){var q=this,kt=q.nodes,ee=q.previousLayouted?q.maxIteration/5:q.maxIteration;q.width||typeof window=="undefined"||(q.width=window.innerWidth),q.height||typeof window=="undefined"||(q.height=window.innerHeight);var re=q.center,Te=q.velocityDecay,Le=q.comboMap;q.previousLayouted||q.initPos(Le);for(var tn=function(fn){var jn=[];kt.forEach(function(er,Gn){jn[Gn]={x:0,y:0}}),q.applyCalculate(jn),q.applyComboCenterForce(jn),kt.forEach(function(er,Gn){E(er.x)&&E(er.y)&&(er.x+=jn[Gn].x*Te,er.y+=jn[Gn].y*Te)}),q.alpha+=(q.alphaTarget-q.alpha)*q.alphaDecay,q.onTick()},_e=0;_e<ee;_e++)tn();var $e=[0,0];kt.forEach(function(Xe){E(Xe.x)&&E(Xe.y)&&($e[0]+=Xe.x,$e[1]+=Xe.y)}),$e[0]/=kt.length,$e[1]/=kt.length;var nn=[re[0]-$e[0],re[1]-$e[1]];kt.forEach(function(Xe,fn){E(Xe.x)&&E(Xe.y)&&(Xe.x+=nn[0],Xe.y+=nn[1])}),q.combos.forEach(function(Xe){var fn=Le[Xe.id];fn&&fn.empty&&(Xe.x=fn.cx||Xe.x,Xe.y=fn.cy||Xe.y)}),q.previousLayouted=!0}},{key:"initVals",value:function(){var q=this.edges,kt=this.nodes,ee=this.combos,re={},Te={},Le={};kt.forEach(function(ai,ia){Te[ai.id]=ai,Le[ai.id]=ia}),this.nodeMap=Te,this.indexMap=Le;var tn={};ee.forEach(function(ai){tn[ai.id]=ai}),this.oriComboMap=tn,this.comboMap=this.getComboMap();var _e=this.preventOverlap;this.preventComboOverlap=this.preventComboOverlap||_e,this.preventNodeOverlap=this.preventNodeOverlap||_e;var $e=this.collideStrength;$e&&(this.comboCollideStrength=$e,this.nodeCollideStrength=$e),this.comboCollideStrength=this.comboCollideStrength?this.comboCollideStrength:0,this.nodeCollideStrength=this.nodeCollideStrength?this.nodeCollideStrength:0;for(var nn=0;nn<q.length;++nn)re[q[nn].source]?re[q[nn].source]++:re[q[nn].source]=1,re[q[nn].target]?re[q[nn].target]++:re[q[nn].target]=1;for(var Xe=[],fn=0;fn<q.length;++fn)Xe[fn]=re[q[fn].source]/(re[q[fn].source]+re[q[fn].target]);this.bias=Xe;var jn,er,Gn=this.nodeSize,Kn=this.nodeSpacing;if(er=E(Kn)?function(){return Kn}:j(Kn)?Kn:function(){return 0},this.nodeSpacing=er,Gn)if(j(Gn))jn=function(ia){return Gn(ia)};else if(h(Gn)){var nr=(Gn[0]>Gn[1]?Gn[0]:Gn[1])/2;jn=function(ia){return nr}}else{var yr=Gn/2;jn=function(ia){return yr}}else jn=function(ia){return ia.size?h(ia.size)?(ia.size[0]>ia.size[1]?ia.size[0]:ia.size[1])/2:ia.size/2:10};this.nodeSize=jn;var Sr,_r=this.comboSpacing;Sr=E(_r)?function(){return _r}:j(_r)?_r:function(){return 0},this.comboSpacing=Sr;var Wr,Tr=this.comboPadding;Wr=E(Tr)?function(){return Tr}:h(Tr)?function(){return Math.max.apply(null,Tr)}:j(Tr)?Tr:function(){return 0},this.comboPadding=Wr;var Ur,ni=this.linkDistance;ni||(ni=10),Ur=E(ni)?function(ai){return ni}:ni,this.linkDistance=Ur;var Gr,ki=this.edgeStrength;ki||(ki=1),Gr=E(ki)?function(ai){return ki}:ki,this.edgeStrength=Gr;var Bi,ha=this.nodeStrength;ha||(ha=30),Bi=E(ha)?function(ai){return ha}:ha,this.nodeStrength=Bi}},{key:"initPos",value:function(q){this.nodes.forEach(function(kt,ee){var re=kt.comboId,Te=q[re];re&&Te?(kt.x=Te.cx+100/(ee+1),kt.y=Te.cy+100/(ee+1)):(kt.x=100/(ee+1),kt.y=100/(ee+1))})}},{key:"getComboMap",value:function(){var q=this,kt=q.nodeMap,ee=q.indexMap,re=q.comboTrees,Te=q.oriComboMap,Le={};return(re||[]).forEach(function(tn){var _e=[];v(tn,function($e){if($e.itemType==="node"||!Te[$e.id])return!0;if(Le[$e.id]===void 0){var nn={id:$e.id,name:$e.id,cx:0,cy:0,count:0,depth:q.oriComboMap[$e.id].depth,children:[]};Le[$e.id]=nn}var Xe=$e.children;Xe&&Xe.forEach(function(nr){if(!Le[nr.id]&&!kt[nr.id])return!0;_e.push(nr)});var fn=Le[$e.id];if(fn.cx=0,fn.cy=0,_e.length===0){fn.empty=!0;var jn=Te[$e.id],er=Object.keys(kt).length,Gn="".concat($e.id,"-visual-child-").concat(er),Kn={id:Gn,x:jn.x,y:jn.y,depth:fn.depth+1,itemType:"node"};q.nodes.push(Kn),kt[Gn]=Kn,ee[Gn]=er,fn.cx=jn.x,fn.cy=jn.y,_e.push(Kn)}return _e.forEach(function(nr){if(fn.count++,nr.itemType!=="node"){var yr=Le[nr.id];return E(yr.cx)&&(fn.cx+=yr.cx),void(E(yr.cy)&&(fn.cy+=yr.cy))}var Sr=kt[nr.id];Sr&&(E(Sr.x)&&(fn.cx+=Sr.x),E(Sr.y)&&(fn.cy+=Sr.y))}),fn.cx/=fn.count,fn.cy/=fn.count,fn.children=_e,!0})}),Le}},{key:"applyComboCenterForce",value:function(q){var kt=this.gravity,ee=this.comboGravity||kt,re=this.alpha,Te=this.comboTrees,Le=this.indexMap,tn=this.nodeMap,_e=this.comboMap;(Te||[]).forEach(function($e){v($e,function(nn){if(nn.itemType==="node"||!_e[nn.id])return!0;var Xe=_e[nn.id],fn=(Xe.depth+1)/10*.5,jn=Xe.cx,er=Xe.cy;return Xe.cx=0,Xe.cy=0,Xe.children.forEach(function(Gn){if(Gn.itemType!=="node"){var Kn=_e[Gn.id];return Kn&&E(Kn.cx)&&(Xe.cx+=Kn.cx),void(Kn&&E(Kn.cy)&&(Xe.cy+=Kn.cy))}var nr=tn[Gn.id],yr=nr.x-jn||.005,Sr=nr.y-er||.005,_r=Math.sqrt(yr*yr+Sr*Sr),Wr=Le[nr.id],Tr=ee*re/_r*fn;q[Wr].x-=yr*Tr,q[Wr].y-=Sr*Tr,E(nr.x)&&(Xe.cx+=nr.x),E(nr.y)&&(Xe.cy+=nr.y)}),Xe.cx/=Xe.count,Xe.cy/=Xe.count,!0})})}},{key:"applyCalculate",value:function(q){var kt=this.comboMap,ee=this.nodes,re={};ee.forEach(function(Te,Le){ee.forEach(function(tn,_e){if(!(Le<_e)){var $e=Te.x-tn.x||.005,nn=Te.y-tn.y||.005,Xe=$e*$e+nn*nn,fn=Math.sqrt(Xe);Xe<1&&(Xe=fn),re["".concat(Te.id,"-").concat(tn.id)]={vx:$e,vy:nn,vl2:Xe,vl:fn},re["".concat(tn.id,"-").concat(Te.id)]={vl2:Xe,vl:fn,vx:-$e,vy:-nn}}})}),this.updateComboSizes(kt),this.calRepulsive(q,re),this.calAttractive(q,re),this.preventComboOverlap&&this.comboNonOverlapping(q,kt)}},{key:"updateComboSizes",value:function(q){var kt=this,ee=kt.comboTrees,re=kt.nodeMap,Te=kt.nodeSize,Le=kt.comboSpacing,tn=kt.comboPadding;(ee||[]).forEach(function(_e){var $e=[];v(_e,function(nn){if(nn.itemType==="node")return!0;var Xe=q[nn.id];if(!Xe)return!1;var fn=nn.children;fn&&fn.forEach(function(Gn){(q[Gn.id]||re[Gn.id])&&$e.push(Gn)}),Xe.minX=1/0,Xe.minY=1/0,Xe.maxX=-1/0,Xe.maxY=-1/0,$e.forEach(function(Gn){if(Gn.itemType!=="node")return!0;var Kn=re[Gn.id];if(!Kn)return!0;var nr=Te(Kn),yr=Kn.x-nr,Sr=Kn.y-nr,_r=Kn.x+nr,Wr=Kn.y+nr;Xe.minX>yr&&(Xe.minX=yr),Xe.minY>Sr&&(Xe.minY=Sr),Xe.maxX<_r&&(Xe.maxX=_r),Xe.maxY<Wr&&(Xe.maxY=Wr)});var jn=kt.oriComboMap[nn.id].size||10;h(jn)&&(jn=jn[0]);var er=Math.max(Xe.maxX-Xe.minX,Xe.maxY-Xe.minY,jn);return Xe.r=er/2+Le(Xe)/2+tn(Xe),!0})})}},{key:"comboNonOverlapping",value:function(q,kt){var ee=this.comboTree,re=this.comboCollideStrength,Te=this.indexMap,Le=this.nodeMap;v(ee,function(tn){if(!kt[tn.id]&&!Le[tn.id]&&tn.id!=="comboTreeRoot")return!1;var _e=tn.children;return _e&&_e.length>1&&_e.forEach(function($e,nn){if($e.itemType==="node")return!1;var Xe=kt[$e.id];Xe&&_e.forEach(function(fn,jn){if(nn<=jn||fn.itemType==="node")return!1;var er=kt[fn.id];if(!er)return!1;var Gn=Xe.cx-er.cx||.005,Kn=Xe.cy-er.cy||.005,nr=Gn*Gn+Kn*Kn,yr=Xe.r,Sr=er.r,_r=yr+Sr,Wr=Sr*Sr,Tr=yr*yr;if(nr<_r*_r){var Ur=$e.children;if(!Ur||Ur.length===0)return!1;var ni=fn.children;if(!ni||ni.length===0)return!1;var Gr=Math.sqrt(nr),ki=(_r-Gr)/Gr*re,Bi=Gn*ki,ha=Kn*ki,ai=Wr/(Tr+Wr),ia=1-ai;Ur.forEach(function(da){if(da.itemType!=="node")return!1;if(Le[da.id]){var ya=Te[da.id];ni.forEach(function(Go){if(Go.itemType!=="node"||!Le[Go.id])return!1;var Ao=Te[Go.id];q[ya].x+=Bi*ai,q[ya].y+=ha*ai,q[Ao].x-=Bi*ia,q[Ao].y-=ha*ia})}})}})}),!0})}},{key:"calRepulsive",value:function(q,kt){var ee=this,re=ee.nodes,Te=ee.width*ee.optimizeRangeFactor,Le=ee.nodeStrength,tn=ee.alpha,_e=ee.nodeCollideStrength,$e=ee.preventNodeOverlap,nn=ee.nodeSize,Xe=ee.nodeSpacing,fn=ee.depthRepulsiveForceScale,jn=ee.center;re.forEach(function(er,Gn){if(er.x&&er.y){if(jn){var Kn=ee.gravity,nr=er.x-jn[0]||.005,yr=er.y-jn[1]||.005,Sr=Math.sqrt(nr*nr+yr*yr);q[Gn].x-=nr*Kn*tn/Sr,q[Gn].y-=yr*Kn*tn/Sr}re.forEach(function(_r,Wr){if(Gn!==Wr&&_r.x&&_r.y){var Tr=kt["".concat(er.id,"-").concat(_r.id)],Ur=Tr.vl2,ni=Tr.vl;if(!(ni>Te)){var Gr=kt["".concat(er.id,"-").concat(_r.id)],ki=Gr.vx,Bi=Gr.vy,ha=Math.log(Math.abs(_r.depth-er.depth)/10)+1||1;ha=ha<1?1:ha,_r.comboId!==er.comboId&&(ha+=1);var ai=ha?Math.pow(fn,ha):1,ia=Le(_r)*tn/Ur*ai;if(q[Gn].x+=ki*ia,q[Gn].y+=Bi*ia,Gn<Wr&&$e){var da=nn(er)+Xe(er),ya=nn(_r)+Xe(_r),Go=da+ya;if(Ur<Go*Go){var Ao=(Go-ni)/ni*_e,ba=ya*ya,Va=ba/(da*da+ba),ts=ki*Ao,fs=Bi*Ao;q[Gn].x+=ts*Va,q[Gn].y+=fs*Va,Va=1-Va,q[Wr].x-=ts*Va,q[Wr].y-=fs*Va}}}}})}})}},{key:"calAttractive",value:function(q,kt){var ee=this,re=ee.edges,Te=ee.linkDistance,Le=ee.alpha,tn=ee.edgeStrength,_e=ee.bias,$e=ee.depthAttractiveForceScale;re.forEach(function(nn,Xe){if(nn.source&&nn.target&&nn.source!==nn.target){var fn=ee.indexMap[nn.source],jn=ee.indexMap[nn.target],er=ee.nodeMap[nn.source],Gn=ee.nodeMap[nn.target];if(er&&Gn){var Kn=Math.log(Math.abs(er.depth-Gn.depth)/10);er.comboId===Gn.comboId&&(Kn/=2);var nr=Kn?Math.pow($e,Kn):1;if(er.comboId!==Gn.comboId&&nr===1?nr=$e/2:er.comboId===Gn.comboId&&(nr=2),E(Gn.x)&&E(er.x)&&E(Gn.y)&&E(er.y)){var yr=kt["".concat(nn.target,"-").concat(nn.source)],Sr=yr.vl,_r=yr.vx,Wr=yr.vy,Tr=(Sr-Te(nn))/Sr*Le*tn(nn)*nr,Ur=_r*Tr,ni=Wr*Tr,Gr=_e[Xe];q[jn].x-=Ur*Gr,q[jn].y-=ni*Gr,q[fn].x+=Ur*(1-Gr),q[fn].y+=ni*(1-Gr)}}}})}},{key:"getType",value:function(){return"comboForce"}}])&&Lr(G.prototype,w),B&&Lr(G,B),Pt}(x),ra,ca=new Proxy({},{get:function(G,w){return zn(w)},set:function(G,w,B){return un(w,B),!0}});ra||(ra={}),un("grid",st),un("random",St),un("force",Di),un("circular",sa),un("dagre",Ce),un("radial",lr),un("concentric",Ii),un("mds",tu),un("fruchterman",us),un("fruchterman-gpu",zt),un("gForce",it),un("gForce-gpu",cr),un("comboForce",Ra);var _a=self;_a.onmessage=function(K){(function(G){var w=G.data.type;return w===Ba||w===Ma})(K)&&function(G){switch(G.data.type){case Ba:var w=G.data,B=w.nodes,Z=w.edges,Pt=w.layoutCfg,_t=Pt===void 0?{}:Pt,q=_t.type,kt=zn(q);if(!kt){_a.postMessage({type:Yr,message:"layout ".concat(q," not found")});break}var ee=new kt(_t);ee.init({nodes:B,edges:Z}),ee.execute(),_a.postMessage({nodes:B,type:oo}),ee.destroy();break;case Ma:var re=G.data,Te=re.nodes,Le=re.edges,tn=re.layoutCfg,_e=tn===void 0?{}:tn,$e=re.canvas,nn=_e.type,Xe=zn(nn);if(!Xe){_a.postMessage({type:Yr,message:"layout ".concat(nn," not found")});break}if(nn.split("-")[1]!=="gpu"){_a.postMessage({type:Yr,message:"layout ".concat(nn," does not support GPU")});break}var fn=new Xe(_e);fn.init({nodes:Te,edges:Le}),fn.executeWithWorker($e,_a)}}(K)};var ka=function(G,w){w.isCustomLayout=!0,un(G,w)}},function(a,M,t){"use strict";t.d(M,"a",function(){return S}),t.d(M,"b",function(){return b});var n=t(36),d=t(22);function S(h,E){E.forEach(function(T){T.draw(h)})}function b(h,E){var T=h.get("canvas");if(T&&T.get("autoDraw")){var o=T.get("context"),s=h.getParent(),u=s?s.getChildren():[T],v=h.get("el");if(E==="remove")if(h.get("isClipShape")){var C=v&&v.parentNode,O=C&&C.parentNode;C&&O&&O.removeChild(C)}else v&&v.parentNode&&v.parentNode.removeChild(v);else if(E==="show")v.setAttribute("visibility","visible");else if(E==="hide")v.setAttribute("visibility","hidden");else if(E==="zIndex")Object(d.c)(v,u.indexOf(h));else if(E==="sort"){var j=h.get("children");j&&j.length&&Object(d.d)(h,function(p,x){return j.indexOf(p)-j.indexOf(x)?1:0})}else E==="clear"?v&&(v.innerHTML=""):E==="matrix"?Object(n.c)(h):E==="clip"?Object(n.a)(h,o):E==="attr"||E==="add"&&h.draw(o)}}},function(a,M){a.exports=function(t,n){return t===n||t!=t&&n!=n}},function(a,M,t){var n=t(47).Symbol;a.exports=n},function(a,M,t){(function(n){function d(s){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(s)}var S=t(47),b=t(304),h=d(M)=="object"&&M&&!M.nodeType&&M,E=h&&d(n)=="object"&&n&&!n.nodeType&&n,T=E&&E.exports===h?S.Buffer:void 0,o=(T?T.isBuffer:void 0)||b;n.exports=o}).call(this,t(87)(a))},function(a,M,t){var n=t(313),d=t(125),S=t(314),b=t(176),h=t(315),E=t(57),T=t(165),o=T(n),s=T(d),u=T(S),v=T(b),C=T(h),O=E;(n&&O(new n(new ArrayBuffer(1)))!="[object DataView]"||d&&O(new d)!="[object Map]"||S&&O(S.resolve())!="[object Promise]"||b&&O(new b)!="[object Set]"||h&&O(new h)!="[object WeakMap]")&&(O=function(p){var x=E(p),A=x=="[object Object]"?p.constructor:void 0,k=A?T(A):"";if(k)switch(k){case o:return"[object DataView]";case s:return"[object Map]";case u:return"[object Promise]";case v:return"[object Set]";case C:return"[object WeakMap]"}return x}),a.exports=O},function(a,M,t){function n(b){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(b)}var d=t(57),S=t(48);a.exports=function(b){return n(b)=="symbol"||S(b)&&d(b)=="[object Symbol]"}},function(a,M,t){"use strict";var n=t(1),d=t(18),S=t(56),b=t(29),h=t(0),E=t(17),T=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return Object(n.b)(s,o),s.prototype.onCanvasChange=function(u){Object(b.h)(this,u)},s.prototype.getShapeBase=function(){return S},s.prototype.getGroupBase=function(){return s},s.prototype._applyClip=function(u,v){v&&(u.save(),Object(b.a)(u,v),v.createPath(u),u.restore(),u.clip(),v._afterDraw())},s.prototype.cacheCanvasBBox=function(){var u=this.cfg.children,v=[],C=[];Object(h.f)(u,function(et){var tt=et.cfg.cacheCanvasBBox;tt&&et.cfg.isInView&&(v.push(tt.minX,tt.maxX),C.push(tt.minY,tt.maxY))});var O=null;if(v.length){var j=Math.min.apply(null,v),p=Math.max.apply(null,v),x=Math.min.apply(null,C),A=Math.max.apply(null,C);O={minX:j,minY:x,x:j,y:x,maxX:p,maxY:A,width:p-j,height:A-x};var k=this.cfg.canvas;if(k){var X=k.getViewRange();this.set("isInView",Object(E.f)(O,X))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",O)},s.prototype.draw=function(u,v){var C=this.cfg.children,O=!v||this.cfg.refresh;C.length&&O&&(u.save(),Object(b.a)(u,this),this._applyClip(u,this.getClip()),Object(b.d)(u,C,v),u.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},s.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},s}(d.AbstractGroup);M.a=T},function(a,M,t){"use strict";var n=t(1),d=t(18),S=t(0),b=t(79),h=t(71),E=t(36),T=t(16),o=t(22),s=function(u){function v(){return u!==null&&u.apply(this,arguments)||this}return Object(n.b)(v,u),v.prototype.isEntityGroup=function(){return!0},v.prototype.createDom=function(){var C=Object(o.b)("g");this.set("el",C);var O=this.getParent();if(O){var j=O.get("el");j||(j=O.createDom(),O.set("el",j)),j.appendChild(C)}return C},v.prototype.afterAttrsChange=function(C){u.prototype.afterAttrsChange.call(this,C);var O=this.get("canvas");if(O&&O.get("autoDraw")){var j=O.get("context");this.createPath(j,C)}},v.prototype.onCanvasChange=function(C){Object(h.b)(this,C)},v.prototype.getShapeBase=function(){return b},v.prototype.getGroupBase=function(){return v},v.prototype.draw=function(C){var O=this.getChildren(),j=this.get("el");this.get("destroyed")?j&&j.parentNode.removeChild(j):(j||this.createDom(),Object(E.a)(this,C),this.createPath(C),O.length&&Object(h.a)(C,O))},v.prototype.createPath=function(C,O){var j=this.attr(),p=this.get("el");Object(S.f)(O||j,function(x,A){T.b[A]&&p.setAttribute(T.b[A],x)}),Object(E.c)(this)},v}(d.AbstractGroup);M.a=s},function(a,M,t){"use strict";t.r(M),t.d(M,"Base",function(){return s}),t.d(M,"Circle",function(){return v}),t.d(M,"Dom",function(){return C}),t.d(M,"Ellipse",function(){return O}),t.d(M,"Image",function(){return j}),t.d(M,"Line",function(){return x}),t.d(M,"Marker",function(){return X}),t.d(M,"Path",function(){return et}),t.d(M,"Polygon",function(){return tt}),t.d(M,"Polyline",function(){return ft}),t.d(M,"Rect",function(){return st}),t.d(M,"Text",function(){return Bt});var n={};t.r(n),t.d(n,"Base",function(){return s}),t.d(n,"Circle",function(){return v}),t.d(n,"Dom",function(){return C}),t.d(n,"Ellipse",function(){return O}),t.d(n,"Image",function(){return j}),t.d(n,"Line",function(){return x}),t.d(n,"Marker",function(){return X}),t.d(n,"Path",function(){return et}),t.d(n,"Polygon",function(){return tt}),t.d(n,"Polyline",function(){return ft}),t.d(n,"Rect",function(){return st}),t.d(n,"Text",function(){return Bt});var d=t(1),S=t(18),b=t(36),h=t(22),E=t(71),T=t(16),o=t(78),s=function(It){function St(){var H=It!==null&&It.apply(this,arguments)||this;return H.type="svg",H.canFill=!1,H.canStroke=!1,H}return Object(d.b)(St,It),St.prototype.getDefaultAttrs=function(){var H=It.prototype.getDefaultAttrs.call(this);return Object(d.a)(Object(d.a)({},H),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},St.prototype.afterAttrsChange=function(H){It.prototype.afterAttrsChange.call(this,H);var ot=this.get("canvas");if(ot&&ot.get("autoDraw")){var yt=ot.get("context");this.draw(yt,H)}},St.prototype.getShapeBase=function(){return n},St.prototype.getGroupBase=function(){return o.a},St.prototype.onCanvasChange=function(H){Object(E.b)(this,H)},St.prototype.calculateBBox=function(){var H=this.get("el"),ot=null;if(H)ot=H.getBBox();else{var yt=Object(S.getBBoxMethod)(this.get("type"));yt&&(ot=yt(this))}if(ot){var xt=ot.x,wt=ot.y,Q=ot.width,ct=ot.height,it=this.getHitLineWidth(),U=it/2,D=xt-U,W=wt-U;return{x:D,y:W,minX:D,minY:W,maxX:xt+Q+U,maxY:wt+ct+U,width:Q+it,height:ct+it}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},St.prototype.isFill=function(){var H=this.attr(),ot=H.fill,yt=H.fillStyle;return(ot||yt||this.isClipShape())&&this.canFill},St.prototype.isStroke=function(){var H=this.attr(),ot=H.stroke,yt=H.strokeStyle;return(ot||yt)&&this.canStroke},St.prototype.draw=function(H,ot){var yt=this.get("el");this.get("destroyed")?yt&&yt.parentNode.removeChild(yt):(yt||Object(h.a)(this),Object(b.a)(this,H),this.createPath(H,ot),this.shadow(H,ot),this.strokeAndFill(H,ot),this.transform(ot))},St.prototype.createPath=function(H,ot){},St.prototype.strokeAndFill=function(H,ot){var yt=ot||this.attr(),xt=yt.fill,wt=yt.fillStyle,Q=yt.stroke,ct=yt.strokeStyle,it=yt.fillOpacity,U=yt.strokeOpacity,D=yt.lineWidth,W=this.get("el");this.canFill&&(ot?"fill"in yt?this._setColor(H,"fill",xt):"fillStyle"in yt&&this._setColor(H,"fill",wt):this._setColor(H,"fill",xt||wt),it&&W.setAttribute(T.b.fillOpacity,it)),this.canStroke&&D>0&&(ot?"stroke"in yt?this._setColor(H,"stroke",Q):"strokeStyle"in yt&&this._setColor(H,"stroke",ct):this._setColor(H,"stroke",Q||ct),U&&W.setAttribute(T.b.strokeOpacity,U),D&&W.setAttribute(T.b.lineWidth,D))},St.prototype._setColor=function(H,ot,yt){var xt=this.get("el");if(yt)if(yt=yt.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(yt))(wt=H.find("gradient",yt))||(wt=H.addGradient(yt)),xt.setAttribute(T.b[ot],"url(#"+wt+")");else if(/^[p,P]{1}[\s]*\(/.test(yt)){var wt;(wt=H.find("pattern",yt))||(wt=H.addPattern(yt)),xt.setAttribute(T.b[ot],"url(#"+wt+")")}else xt.setAttribute(T.b[ot],yt);else xt.setAttribute(T.b[ot],"none")},St.prototype.shadow=function(H,ot){var yt=this.attr(),xt=ot||yt,wt=xt.shadowOffsetX,Q=xt.shadowOffsetY,ct=xt.shadowBlur,it=xt.shadowColor;(wt||Q||ct||it)&&Object(b.b)(this,H)},St.prototype.transform=function(H){var ot=this.attr();(H||ot).matrix&&Object(b.c)(this)},St.prototype.isInShape=function(H,ot){return this.isPointInPath(H,ot)},St.prototype.isPointInPath=function(H,ot){var yt=this.get("el"),xt=this.get("canvas").get("el").getBoundingClientRect(),wt=H+xt.left,Q=ot+xt.top,ct=document.elementFromPoint(wt,Q);return!(!ct||!ct.isEqualNode(yt))},St.prototype.getHitLineWidth=function(){var H=this.attrs,ot=H.lineWidth,yt=H.lineAppendWidth;return this.isStroke()?ot+yt:0},St}(S.AbstractShape),u=t(0),v=function(It){function St(){var H=It!==null&&It.apply(this,arguments)||this;return H.type="circle",H.canFill=!0,H.canStroke=!0,H}return Object(d.b)(St,It),St.prototype.getDefaultAttrs=function(){var H=It.prototype.getDefaultAttrs.call(this);return Object(d.a)(Object(d.a)({},H),{x:0,y:0,r:0})},St.prototype.createPath=function(H,ot){var yt=this.attr(),xt=this.get("el");Object(u.f)(ot||yt,function(wt,Q){Q==="x"||Q==="y"?xt.setAttribute("c"+Q,wt):T.b[Q]&&xt.setAttribute(T.b[Q],wt)})},St}(s),C=function(It){function St(){var H=It!==null&&It.apply(this,arguments)||this;return H.type="dom",H.canFill=!1,H.canStroke=!1,H}return Object(d.b)(St,It),St.prototype.createPath=function(H,ot){var yt=this.attr(),xt=this.get("el");if(Object(u.f)(ot||yt,function(it,U){T.b[U]&&xt.setAttribute(T.b[U],it)}),typeof yt.html=="function"){var wt=yt.html.call(this,yt);if(wt instanceof Element||wt instanceof HTMLDocument){for(var Q=xt.childNodes,ct=Q.length-1;ct>=0;ct--)xt.removeChild(Q[ct]);xt.appendChild(wt)}else xt.innerHTML=wt}else xt.innerHTML=yt.html},St}(s),O=function(It){function St(){var H=It!==null&&It.apply(this,arguments)||this;return H.type="ellipse",H.canFill=!0,H.canStroke=!0,H}return Object(d.b)(St,It),St.prototype.getDefaultAttrs=function(){var H=It.prototype.getDefaultAttrs.call(this);return Object(d.a)(Object(d.a)({},H),{x:0,y:0,rx:0,ry:0})},St.prototype.createPath=function(H,ot){var yt=this.attr(),xt=this.get("el");Object(u.f)(ot||yt,function(wt,Q){Q==="x"||Q==="y"?xt.setAttribute("c"+Q,wt):T.b[Q]&&xt.setAttribute(T.b[Q],wt)})},St}(s),j=function(It){function St(){var H=It!==null&&It.apply(this,arguments)||this;return H.type="image",H.canFill=!1,H.canStroke=!1,H}return Object(d.b)(St,It),St.prototype.getDefaultAttrs=function(){var H=It.prototype.getDefaultAttrs.call(this);return Object(d.a)(Object(d.a)({},H),{x:0,y:0,width:0,height:0})},St.prototype.createPath=function(H,ot){var yt=this,xt=this.attr(),wt=this.get("el");Object(u.f)(ot||xt,function(Q,ct){ct==="img"?yt._setImage(xt.img):T.b[ct]&&wt.setAttribute(T.b[ct],Q)})},St.prototype.setAttr=function(H,ot){this.attrs[H]=ot,H==="img"&&this._setImage(ot)},St.prototype._setImage=function(H){var ot=this.attr(),yt=this.get("el");if(Object(u.x)(H))yt.setAttribute("href",H);else if(H instanceof window.Image)ot.width||(yt.setAttribute("width",H.width),this.attr("width",H.width)),ot.height||(yt.setAttribute("height",H.height),this.attr("height",H.height)),yt.setAttribute("href",H.src);else if(H instanceof HTMLElement&&Object(u.x)(H.nodeName)&&H.nodeName.toUpperCase()==="CANVAS")yt.setAttribute("href",H.toDataURL());else if(H instanceof ImageData){var xt=document.createElement("canvas");xt.setAttribute("width",""+H.width),xt.setAttribute("height",""+H.height),xt.getContext("2d").putImageData(H,0,0),ot.width||(yt.setAttribute("width",""+H.width),this.attr("width",H.width)),ot.height||(yt.setAttribute("height",""+H.height),this.attr("height",H.height)),yt.setAttribute("href",xt.toDataURL())}},St}(s),p=t(20),x=function(It){function St(){var H=It!==null&&It.apply(this,arguments)||this;return H.type="line",H.canFill=!1,H.canStroke=!0,H}return Object(d.b)(St,It),St.prototype.getDefaultAttrs=function(){var H=It.prototype.getDefaultAttrs.call(this);return Object(d.a)(Object(d.a)({},H),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},St.prototype.createPath=function(H,ot){var yt=this.attr(),xt=this.get("el");Object(u.f)(ot||yt,function(wt,Q){if(Q==="startArrow"||Q==="endArrow")if(wt){var ct=Object(u.v)(wt)?H.addArrow(yt,T.b[Q]):H.getDefaultArrow(yt,T.b[Q]);xt.setAttribute(T.b[Q],"url(#"+ct+")")}else xt.removeAttribute(T.b[Q]);else T.b[Q]&&xt.setAttribute(T.b[Q],wt)})},St.prototype.getTotalLength=function(){var H=this.attr(),ot=H.x1,yt=H.y1,xt=H.x2,wt=H.y2;return p.c.length(ot,yt,xt,wt)},St.prototype.getPoint=function(H){var ot=this.attr(),yt=ot.x1,xt=ot.y1,wt=ot.x2,Q=ot.y2;return p.c.pointAt(yt,xt,wt,Q,H)},St}(s),A={circle:function(St,H,ot){return[["M",St,H],["m",-ot,0],["a",ot,ot,0,1,0,2*ot,0],["a",ot,ot,0,1,0,2*-ot,0]]},square:function(St,H,ot){return[["M",St-ot,H-ot],["L",St+ot,H-ot],["L",St+ot,H+ot],["L",St-ot,H+ot],["Z"]]},diamond:function(St,H,ot){return[["M",St-ot,H],["L",St,H-ot],["L",St+ot,H],["L",St,H+ot],["Z"]]},triangle:function(St,H,ot){var yt=ot*Math.sin(1/3*Math.PI);return[["M",St-ot,H+yt],["L",St,H-yt],["L",St+ot,H+yt],["z"]]},triangleDown:function(St,H,ot){var yt=ot*Math.sin(1/3*Math.PI);return[["M",St-ot,H-yt],["L",St+ot,H-yt],["L",St,H+yt],["Z"]]}},k={get:function(St){return A[St]},register:function(St,H){A[St]=H},remove:function(St){delete A[St]},getAll:function(){return A}},X=function(It){function St(){var H=It!==null&&It.apply(this,arguments)||this;return H.type="marker",H.canFill=!0,H.canStroke=!0,H}return Object(d.b)(St,It),St.prototype.createPath=function(H){this.get("el").setAttribute("d",this._assembleMarker())},St.prototype._assembleMarker=function(){var H=this._getPath();return Object(u.m)(H)?H.map(function(ot){return ot.join(" ")}).join(""):H},St.prototype._getPath=function(){var H,ot=this.attr(),yt=ot.x,xt=ot.y,wt=ot.r||ot.radius,Q=ot.symbol||"circle";return(H=Object(u.r)(Q)?Q:k.get(Q))?H(yt,xt,wt):(console.warn(H+" symbol is not exist."),null)},St.symbolsFactory=k,St}(s),et=function(It){function St(){var H=It!==null&&It.apply(this,arguments)||this;return H.type="path",H.canFill=!0,H.canStroke=!0,H}return Object(d.b)(St,It),St.prototype.getDefaultAttrs=function(){var H=It.prototype.getDefaultAttrs.call(this);return Object(d.a)(Object(d.a)({},H),{startArrow:!1,endArrow:!1})},St.prototype.createPath=function(H,ot){var yt=this,xt=this.attr(),wt=this.get("el");Object(u.f)(ot||xt,function(Q,ct){if(ct==="path"&&Object(u.m)(Q))wt.setAttribute("d",yt._formatPath(Q));else if(ct==="startArrow"||ct==="endArrow")if(Q){var it=Object(u.v)(Q)?H.addArrow(xt,T.b[ct]):H.getDefaultArrow(xt,T.b[ct]);wt.setAttribute(T.b[ct],"url(#"+it+")")}else wt.removeAttribute(T.b[ct]);else T.b[ct]&&wt.setAttribute(T.b[ct],Q)})},St.prototype._formatPath=function(H){var ot=H.map(function(yt){return yt.join(" ")}).join("");return~ot.indexOf("NaN")?"":ot},St.prototype.getTotalLength=function(){var H=this.get("el");return H?H.getTotalLength():null},St.prototype.getPoint=function(H){var ot=this.get("el"),yt=this.getTotalLength();if(yt===0)return null;var xt=ot?ot.getPointAtLength(H*yt):null;return xt?{x:xt.x,y:xt.y}:null},St}(s),tt=function(It){function St(){var H=It!==null&&It.apply(this,arguments)||this;return H.type="polygon",H.canFill=!0,H.canStroke=!0,H}return Object(d.b)(St,It),St.prototype.createPath=function(H,ot){var yt=this.attr(),xt=this.get("el");Object(u.f)(ot||yt,function(wt,Q){Q==="points"&&Object(u.m)(wt)&&wt.length>=2?xt.setAttribute("points",wt.map(function(ct){return ct[0]+","+ct[1]}).join(" ")):T.b[Q]&&xt.setAttribute(T.b[Q],wt)})},St}(s),ft=function(It){function St(){var H=It!==null&&It.apply(this,arguments)||this;return H.type="polyline",H.canFill=!0,H.canStroke=!0,H}return Object(d.b)(St,It),St.prototype.getDefaultAttrs=function(){var H=It.prototype.getDefaultAttrs.call(this);return Object(d.a)(Object(d.a)({},H),{startArrow:!1,endArrow:!1})},St.prototype.onAttrChange=function(H,ot,yt){It.prototype.onAttrChange.call(this,H,ot,yt),["points"].indexOf(H)!==-1&&this._resetCache()},St.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},St.prototype.createPath=function(H,ot){var yt=this.attr(),xt=this.get("el");Object(u.f)(ot||yt,function(wt,Q){Q==="points"&&Object(u.m)(wt)&&wt.length>=2?xt.setAttribute("points",wt.map(function(ct){return ct[0]+","+ct[1]}).join(" ")):T.b[Q]&&xt.setAttribute(T.b[Q],wt)})},St.prototype.getTotalLength=function(){var H=this.attr().points,ot=this.get("totalLength");return Object(u.s)(ot)?(this.set("totalLength",p.d.length(H)),this.get("totalLength")):ot},St.prototype.getPoint=function(H){var ot,yt,xt=this.attr().points,wt=this.get("tCache");return wt||(this._setTcache(),wt=this.get("tCache")),Object(u.f)(wt,function(Q,ct){H>=Q[0]&&H<=Q[1]&&(ot=(H-Q[0])/(Q[1]-Q[0]),yt=ct)}),p.c.pointAt(xt[yt][0],xt[yt][1],xt[yt+1][0],xt[yt+1][1],ot)},St.prototype._setTcache=function(){var H=this.attr().points;if(H&&H.length!==0){var ot=this.getTotalLength();if(!(ot<=0)){var yt,xt,wt=0,Q=[];Object(u.f)(H,function(ct,it){H[it+1]&&((yt=[])[0]=wt/ot,xt=p.c.length(ct[0],ct[1],H[it+1][0],H[it+1][1]),wt+=xt,yt[1]=wt/ot,Q.push(yt))}),this.set("tCache",Q)}}},St.prototype.getStartTangent=function(){var H=this.attr().points,ot=[];return ot.push([H[1][0],H[1][1]]),ot.push([H[0][0],H[0][1]]),ot},St.prototype.getEndTangent=function(){var H=this.attr().points,ot=H.length-1,yt=[];return yt.push([H[ot-1][0],H[ot-1][1]]),yt.push([H[ot][0],H[ot][1]]),yt},St}(s),st=function(It){function St(){var H=It!==null&&It.apply(this,arguments)||this;return H.type="rect",H.canFill=!0,H.canStroke=!0,H}return Object(d.b)(St,It),St.prototype.getDefaultAttrs=function(){var H=It.prototype.getDefaultAttrs.call(this);return Object(d.a)(Object(d.a)({},H),{x:0,y:0,width:0,height:0,radius:0})},St.prototype.createPath=function(H,ot){var yt=this,xt=this.attr(),wt=this.get("el"),Q=!1,ct=["x","y","width","height","radius"];Object(u.f)(ot||xt,function(it,U){ct.indexOf(U)===-1||Q?ct.indexOf(U)===-1&&T.b[U]&&wt.setAttribute(T.b[U],it):(wt.setAttribute("d",yt._assembleRect(xt)),Q=!0)})},St.prototype._assembleRect=function(H){var ot=H.x,yt=H.y,xt=H.width,wt=H.height,Q=H.radius;if(!Q)return"M "+ot+","+yt+" l "+xt+",0 l 0,"+wt+" l"+-xt+" 0 z";var ct=function(it){var U=0,D=0,W=0,P=0;return Object(u.m)(it)?it.length===1?U=D=W=P=it[0]:it.length===2?(U=W=it[0],D=P=it[1]):it.length===3?(U=it[0],D=P=it[1],W=it[2]):(U=it[0],D=it[1],W=it[2],P=it[3]):U=D=W=P=it,{r1:U,r2:D,r3:W,r4:P}}(Q);return Object(u.m)(Q)?Q.length===1?ct.r1=ct.r2=ct.r3=ct.r4=Q[0]:Q.length===2?(ct.r1=ct.r3=Q[0],ct.r2=ct.r4=Q[1]):Q.length===3?(ct.r1=Q[0],ct.r2=ct.r4=Q[1],ct.r3=Q[2]):(ct.r1=Q[0],ct.r2=Q[1],ct.r3=Q[2],ct.r4=Q[3]):ct.r1=ct.r2=ct.r3=ct.r4=Q,[["M "+(ot+ct.r1)+","+yt],["l "+(xt-ct.r1-ct.r2)+",0"],["a "+ct.r2+","+ct.r2+",0,0,1,"+ct.r2+","+ct.r2],["l 0,"+(wt-ct.r2-ct.r3)],["a "+ct.r3+","+ct.r3+",0,0,1,"+-ct.r3+","+ct.r3],["l "+(ct.r3+ct.r4-xt)+",0"],["a "+ct.r4+","+ct.r4+",0,0,1,"+-ct.r4+","+-ct.r4],["l 0,"+(ct.r4+ct.r1-wt)],["a "+ct.r1+","+ct.r1+",0,0,1,"+ct.r1+","+-ct.r1],["z"]].join(" ")},St}(s),vt=t(120),mt={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},pt={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},rt={left:"left",start:"left",center:"middle",right:"end",end:"end"},Bt=function(It){function St(){var H=It!==null&&It.apply(this,arguments)||this;return H.type="text",H.canFill=!0,H.canStroke=!0,H}return Object(d.b)(St,It),St.prototype.getDefaultAttrs=function(){var H=It.prototype.getDefaultAttrs.call(this);return Object(d.a)(Object(d.a)({},H),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},St.prototype.createPath=function(H,ot){var yt=this,xt=this.attr(),wt=this.get("el");this._setFont(),Object(u.f)(ot||xt,function(Q,ct){ct==="text"?yt._setText(""+Q):ct==="matrix"&&Q?Object(b.c)(yt):T.b[ct]&&wt.setAttribute(T.b[ct],Q)}),wt.setAttribute("paint-order","stroke"),wt.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},St.prototype._setFont=function(){var H=this.get("el"),ot=this.attr(),yt=ot.textBaseline,xt=ot.textAlign,wt=Object(vt.a)();wt&&wt.name==="firefox"?H.setAttribute("dominant-baseline",pt[yt]||"alphabetic"):H.setAttribute("alignment-baseline",mt[yt]||"baseline"),H.setAttribute("text-anchor",rt[xt]||"left")},St.prototype._setText=function(H){var ot=this.get("el"),yt=this.attr(),xt=yt.x,wt=yt.textBaseline,Q=wt===void 0?"bottom":wt;if(H)if(~H.indexOf(`
`)){var ct=H.split(`
`),it=ct.length-1,U="";Object(u.f)(ct,function(D,W){W===0?Q==="alphabetic"?U+='<tspan x="'+xt+'" dy="'+-it+'em">'+D+"</tspan>":Q==="top"?U+='<tspan x="'+xt+'" dy="0.9em">'+D+"</tspan>":Q==="middle"?U+='<tspan x="'+xt+'" dy="'+-(it-1)/2+'em">'+D+"</tspan>":Q==="bottom"?U+='<tspan x="'+xt+'" dy="-'+(it+.3)+'em">'+D+"</tspan>":Q==="hanging"&&(U+='<tspan x="'+xt+'" dy="'+(-(it-1)-.3)+'em">'+D+"</tspan>"):U+='<tspan x="'+xt+'" dy="1em">'+D+"</tspan>"}),ot.innerHTML=U}else ot.innerHTML=H;else ot.innerHTML=""},St}(s)},function(a,M,t){"use strict";var n=function(){function d(){this._events={}}return d.prototype.on=function(S,b,h){return this._events[S]||(this._events[S]=[]),this._events[S].push({callback:b,once:!!h}),this},d.prototype.once=function(S,b){return this.on(S,b,!0),this},d.prototype.emit=function(S){for(var b=this,h=[],E=1;E<arguments.length;E++)h[E-1]=arguments[E];var T=this._events[S]||[],o=this._events["*"]||[],s=function(v){for(var C=v.length,O=0;O<C;O++)if(v[O]){var j=v[O],p=j.callback;j.once&&(v.splice(O,1),v.length===0&&delete b._events[S],C--,O--),p.apply(b,h)}};s(T),s(o)},d.prototype.off=function(S,b){if(S)if(b){for(var h=this._events[S]||[],E=h.length,T=0;T<E;T++)h[T].callback===b&&(h.splice(T,1),E--,T--);h.length===0&&delete this._events[S]}else delete this._events[S];else this._events={};return this},d.prototype.getEvents=function(){return this._events},d}();M.a=n},function(a,M,t){"use strict";t.r(M),t.d(M,"create",function(){return d}),t.d(M,"clone",function(){return S}),t.d(M,"fromValues",function(){return b}),t.d(M,"copy",function(){return h}),t.d(M,"set",function(){return E}),t.d(M,"add",function(){return T}),t.d(M,"subtract",function(){return o}),t.d(M,"multiply",function(){return s}),t.d(M,"divide",function(){return u}),t.d(M,"ceil",function(){return v}),t.d(M,"floor",function(){return C}),t.d(M,"min",function(){return O}),t.d(M,"max",function(){return j}),t.d(M,"round",function(){return p}),t.d(M,"scale",function(){return x}),t.d(M,"scaleAndAdd",function(){return A}),t.d(M,"distance",function(){return k}),t.d(M,"squaredDistance",function(){return X}),t.d(M,"length",function(){return et}),t.d(M,"squaredLength",function(){return tt}),t.d(M,"negate",function(){return ft}),t.d(M,"inverse",function(){return st}),t.d(M,"normalize",function(){return vt}),t.d(M,"dot",function(){return mt}),t.d(M,"cross",function(){return pt}),t.d(M,"lerp",function(){return rt}),t.d(M,"random",function(){return Bt}),t.d(M,"transformMat2",function(){return It}),t.d(M,"transformMat2d",function(){return St}),t.d(M,"transformMat3",function(){return H}),t.d(M,"transformMat4",function(){return ot}),t.d(M,"rotate",function(){return yt}),t.d(M,"angle",function(){return xt}),t.d(M,"zero",function(){return wt}),t.d(M,"str",function(){return Q}),t.d(M,"exactEquals",function(){return ct}),t.d(M,"equals",function(){return it}),t.d(M,"len",function(){return D}),t.d(M,"sub",function(){return W}),t.d(M,"mul",function(){return P}),t.d(M,"div",function(){return m}),t.d(M,"dist",function(){return y}),t.d(M,"sqrDist",function(){return V}),t.d(M,"sqrLen",function(){return J}),t.d(M,"forEach",function(){return ht});var n=t(11);function d(){var gt=new n.a(2);return n.a!=Float32Array&&(gt[0]=0,gt[1]=0),gt}function S(gt){var Mt=new n.a(2);return Mt[0]=gt[0],Mt[1]=gt[1],Mt}function b(gt,Mt){var Lt=new n.a(2);return Lt[0]=gt,Lt[1]=Mt,Lt}function h(gt,Mt){return gt[0]=Mt[0],gt[1]=Mt[1],gt}function E(gt,Mt,Lt){return gt[0]=Mt,gt[1]=Lt,gt}function T(gt,Mt,Lt){return gt[0]=Mt[0]+Lt[0],gt[1]=Mt[1]+Lt[1],gt}function o(gt,Mt,Lt){return gt[0]=Mt[0]-Lt[0],gt[1]=Mt[1]-Lt[1],gt}function s(gt,Mt,Lt){return gt[0]=Mt[0]*Lt[0],gt[1]=Mt[1]*Lt[1],gt}function u(gt,Mt,Lt){return gt[0]=Mt[0]/Lt[0],gt[1]=Mt[1]/Lt[1],gt}function v(gt,Mt){return gt[0]=Math.ceil(Mt[0]),gt[1]=Math.ceil(Mt[1]),gt}function C(gt,Mt){return gt[0]=Math.floor(Mt[0]),gt[1]=Math.floor(Mt[1]),gt}function O(gt,Mt,Lt){return gt[0]=Math.min(Mt[0],Lt[0]),gt[1]=Math.min(Mt[1],Lt[1]),gt}function j(gt,Mt,Lt){return gt[0]=Math.max(Mt[0],Lt[0]),gt[1]=Math.max(Mt[1],Lt[1]),gt}function p(gt,Mt){return gt[0]=Math.round(Mt[0]),gt[1]=Math.round(Mt[1]),gt}function x(gt,Mt,Lt){return gt[0]=Mt[0]*Lt,gt[1]=Mt[1]*Lt,gt}function A(gt,Mt,Lt,At){return gt[0]=Mt[0]+Lt[0]*At,gt[1]=Mt[1]+Lt[1]*At,gt}function k(gt,Mt){var Lt=Mt[0]-gt[0],At=Mt[1]-gt[1];return Math.hypot(Lt,At)}function X(gt,Mt){var Lt=Mt[0]-gt[0],At=Mt[1]-gt[1];return Lt*Lt+At*At}function et(gt){var Mt=gt[0],Lt=gt[1];return Math.hypot(Mt,Lt)}function tt(gt){var Mt=gt[0],Lt=gt[1];return Mt*Mt+Lt*Lt}function ft(gt,Mt){return gt[0]=-Mt[0],gt[1]=-Mt[1],gt}function st(gt,Mt){return gt[0]=1/Mt[0],gt[1]=1/Mt[1],gt}function vt(gt,Mt){var Lt=Mt[0],At=Mt[1],Ct=Lt*Lt+At*At;return Ct>0&&(Ct=1/Math.sqrt(Ct)),gt[0]=Mt[0]*Ct,gt[1]=Mt[1]*Ct,gt}function mt(gt,Mt){return gt[0]*Mt[0]+gt[1]*Mt[1]}function pt(gt,Mt,Lt){var At=Mt[0]*Lt[1]-Mt[1]*Lt[0];return gt[0]=gt[1]=0,gt[2]=At,gt}function rt(gt,Mt,Lt,At){var Ct=Mt[0],Ot=Mt[1];return gt[0]=Ct+At*(Lt[0]-Ct),gt[1]=Ot+At*(Lt[1]-Ot),gt}function Bt(gt,Mt){Mt=Mt||1;var Lt=2*n.c()*Math.PI;return gt[0]=Math.cos(Lt)*Mt,gt[1]=Math.sin(Lt)*Mt,gt}function It(gt,Mt,Lt){var At=Mt[0],Ct=Mt[1];return gt[0]=Lt[0]*At+Lt[2]*Ct,gt[1]=Lt[1]*At+Lt[3]*Ct,gt}function St(gt,Mt,Lt){var At=Mt[0],Ct=Mt[1];return gt[0]=Lt[0]*At+Lt[2]*Ct+Lt[4],gt[1]=Lt[1]*At+Lt[3]*Ct+Lt[5],gt}function H(gt,Mt,Lt){var At=Mt[0],Ct=Mt[1];return gt[0]=Lt[0]*At+Lt[3]*Ct+Lt[6],gt[1]=Lt[1]*At+Lt[4]*Ct+Lt[7],gt}function ot(gt,Mt,Lt){var At=Mt[0],Ct=Mt[1];return gt[0]=Lt[0]*At+Lt[4]*Ct+Lt[12],gt[1]=Lt[1]*At+Lt[5]*Ct+Lt[13],gt}function yt(gt,Mt,Lt,At){var Ct=Mt[0]-Lt[0],Ot=Mt[1]-Lt[1],Dt=Math.sin(At),Ft=Math.cos(At);return gt[0]=Ct*Ft-Ot*Dt+Lt[0],gt[1]=Ct*Dt+Ot*Ft+Lt[1],gt}function xt(gt,Mt){var Lt=gt[0],At=gt[1],Ct=Mt[0],Ot=Mt[1],Dt=Math.sqrt(Lt*Lt+At*At)*Math.sqrt(Ct*Ct+Ot*Ot),Ft=Dt&&(Lt*Ct+At*Ot)/Dt;return Math.acos(Math.min(Math.max(Ft,-1),1))}function wt(gt){return gt[0]=0,gt[1]=0,gt}function Q(gt){return"vec2("+gt[0]+", "+gt[1]+")"}function ct(gt,Mt){return gt[0]===Mt[0]&&gt[1]===Mt[1]}function it(gt,Mt){var Lt=gt[0],At=gt[1],Ct=Mt[0],Ot=Mt[1];return Math.abs(Lt-Ct)<=n.b*Math.max(1,Math.abs(Lt),Math.abs(Ct))&&Math.abs(At-Ot)<=n.b*Math.max(1,Math.abs(At),Math.abs(Ot))}var U,D=et,W=o,P=s,m=u,y=k,V=X,J=tt,ht=(U=d(),function(gt,Mt,Lt,At,Ct,Ot){var Dt,Ft;for(Mt||(Mt=2),Lt||(Lt=0),Ft=At?Math.min(At*Mt+Lt,gt.length):gt.length,Dt=Lt;Dt<Ft;Dt+=Mt)U[0]=gt[Dt],U[1]=gt[Dt+1],Ct(U,U,Ot),gt[Dt]=U[0],gt[Dt+1]=U[1];return gt})},function(a,M){var t=[],n=[];function d(S,b){if(b=b||{},S===void 0)throw new Error("insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).");var h,E=b.prepend===!0?"prepend":"append",T=b.container!==void 0?b.container:document.querySelector("head"),o=t.indexOf(T);return o===-1&&(o=t.push(T)-1,n[o]={}),n[o]!==void 0&&n[o][E]!==void 0?h=n[o][E]:(h=n[o][E]=function(){var s=document.createElement("style");return s.setAttribute("type","text/css"),s}(),E==="prepend"?T.insertBefore(h,T.childNodes[0]):T.appendChild(h)),S.charCodeAt(0)===65279&&(S=S.substr(1,S.length)),h.styleSheet?h.styleSheet.cssText+=S:h.textContent+=S,h}a.exports=d,a.exports.insertCss=d},function(a,M,t){"use strict";function n(O){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(O)}var d=t(263),S=t(267),b=[].slice,h=["keyword","gray","hex"],E={};Object.keys(S).forEach(function(O){E[b.call(S[O].labels).sort().join("")]=O});var T={};function o(O,j){if(!(this instanceof o))return new o(O,j);if(j&&j in h&&(j=null),j&&!(j in S))throw new Error("Unknown model: "+j);var p,x;if(O==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(O instanceof o)this.model=O.model,this.color=O.color.slice(),this.valpha=O.valpha;else if(typeof O=="string"){var A=d.get(O);if(A===null)throw new Error("Unable to parse color from string: "+O);this.model=A.model,x=S[this.model].channels,this.color=A.value.slice(0,x),this.valpha=typeof A.value[x]=="number"?A.value[x]:1}else if(O.length){this.model=j||"rgb",x=S[this.model].channels;var k=b.call(O,0,x);this.color=C(k,x),this.valpha=typeof O[x]=="number"?O[x]:1}else if(typeof O=="number")O&=16777215,this.model="rgb",this.color=[O>>16&255,O>>8&255,255&O],this.valpha=1;else{this.valpha=1;var X=Object.keys(O);"alpha"in O&&(X.splice(X.indexOf("alpha"),1),this.valpha=typeof O.alpha=="number"?O.alpha:0);var et=X.sort().join("");if(!(et in E))throw new Error("Unable to parse color from object: "+JSON.stringify(O));this.model=E[et];var tt=S[this.model].labels,ft=[];for(p=0;p<tt.length;p++)ft.push(O[tt[p]]);this.color=C(ft)}if(T[this.model])for(x=S[this.model].channels,p=0;p<x;p++){var st=T[this.model][p];st&&(this.color[p]=st(this.color[p]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function s(O,j,p){return(O=Array.isArray(O)?O:[O]).forEach(function(x){(T[x]||(T[x]=[]))[j]=p}),O=O[0],function(x){var A;return arguments.length?(p&&(x=p(x)),(A=this[O]()).color[j]=x,A):(A=this[O]().color[j],p&&(A=p(A)),A)}}function u(O){return function(j){return Math.max(0,Math.min(O,j))}}function v(O){return Array.isArray(O)?O:[O]}function C(O,j){for(var p=0;p<j;p++)typeof O[p]!="number"&&(O[p]=0);return O}o.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(j){var p=this.model in d.to?this:this.rgb(),x=(p=p.round(typeof j=="number"?j:1)).valpha===1?p.color:p.color.concat(this.valpha);return d.to[p.model](x)},percentString:function(j){var p=this.rgb().round(typeof j=="number"?j:1),x=p.valpha===1?p.color:p.color.concat(this.valpha);return d.to.rgb.percent(x)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var j={},p=S[this.model].channels,x=S[this.model].labels,A=0;A<p;A++)j[x[A]]=this.color[A];return this.valpha!==1&&(j.alpha=this.valpha),j},unitArray:function(){var j=this.rgb().color;return j[0]/=255,j[1]/=255,j[2]/=255,this.valpha!==1&&j.push(this.valpha),j},unitObject:function(){var j=this.rgb().object();return j.r/=255,j.g/=255,j.b/=255,this.valpha!==1&&(j.alpha=this.valpha),j},round:function(j){return j=Math.max(j||0,0),new o(this.color.map(function(p){return function(x){return function(A,k){return Number(A.toFixed(k))}(x,p)}}(j)).concat(this.valpha),this.model)},alpha:function(j){return arguments.length?new o(this.color.concat(Math.max(0,Math.min(1,j))),this.model):this.valpha},red:s("rgb",0,u(255)),green:s("rgb",1,u(255)),blue:s("rgb",2,u(255)),hue:s(["hsl","hsv","hsl","hwb","hcg"],0,function(O){return(O%360+360)%360}),saturationl:s("hsl",1,u(100)),lightness:s("hsl",2,u(100)),saturationv:s("hsv",1,u(100)),value:s("hsv",2,u(100)),chroma:s("hcg",1,u(100)),gray:s("hcg",2,u(100)),white:s("hwb",1,u(100)),wblack:s("hwb",2,u(100)),cyan:s("cmyk",0,u(100)),magenta:s("cmyk",1,u(100)),yellow:s("cmyk",2,u(100)),black:s("cmyk",3,u(100)),x:s("xyz",0,u(100)),y:s("xyz",1,u(100)),z:s("xyz",2,u(100)),l:s("lab",0,u(100)),a:s("lab",1),b:s("lab",2),keyword:function(j){return arguments.length?new o(j):S[this.model].keyword(this.color)},hex:function(j){return arguments.length?new o(j):d.to.hex(this.rgb().round().color)},rgbNumber:function(){var j=this.rgb().color;return(255&j[0])<<16|(255&j[1])<<8|255&j[2]},luminosity:function(){for(var j=this.rgb().color,p=[],x=0;x<j.length;x++){var A=j[x]/255;p[x]=A<=.03928?A/12.92:Math.pow((A+.055)/1.055,2.4)}return .2126*p[0]+.7152*p[1]+.0722*p[2]},contrast:function(j){var p=this.luminosity(),x=j.luminosity();return p>x?(p+.05)/(x+.05):(x+.05)/(p+.05)},level:function(j){var p=this.contrast(j);return p>=7.1?"AAA":p>=4.5?"AA":""},isDark:function(){var j=this.rgb().color;return(299*j[0]+587*j[1]+114*j[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var j=this.rgb(),p=0;p<3;p++)j.color[p]=255-j.color[p];return j},lighten:function(j){var p=this.hsl();return p.color[2]+=p.color[2]*j,p},darken:function(j){var p=this.hsl();return p.color[2]-=p.color[2]*j,p},saturate:function(j){var p=this.hsl();return p.color[1]+=p.color[1]*j,p},desaturate:function(j){var p=this.hsl();return p.color[1]-=p.color[1]*j,p},whiten:function(j){var p=this.hwb();return p.color[1]+=p.color[1]*j,p},blacken:function(j){var p=this.hwb();return p.color[2]+=p.color[2]*j,p},grayscale:function(){var j=this.rgb().color,p=.3*j[0]+.59*j[1]+.11*j[2];return o.rgb(p,p,p)},fade:function(j){return this.alpha(this.valpha-this.valpha*j)},opaquer:function(j){return this.alpha(this.valpha+this.valpha*j)},rotate:function(j){var p=this.hsl(),x=p.color[0];return x=(x=(x+j)%360)<0?360+x:x,p.color[0]=x,p},mix:function(j,p){if(!j||!j.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+n(j));var x=j.rgb(),A=this.rgb(),k=p===void 0?.5:p,X=2*k-1,et=x.alpha()-A.alpha(),tt=((X*et==-1?X:(X+et)/(1+X*et))+1)/2,ft=1-tt;return o.rgb(tt*x.red()+ft*A.red(),tt*x.green()+ft*A.green(),tt*x.blue()+ft*A.blue(),x.alpha()*k+A.alpha()*(1-k))}},Object.keys(S).forEach(function(O){if(h.indexOf(O)===-1){var j=S[O].channels;o.prototype[O]=function(){if(this.model===O)return new o(this);if(arguments.length)return new o(arguments,O);var p=typeof arguments[j]=="number"?j:this.valpha;return new o(v(S[this.model][O].raw(this.color)).concat(p),O)},o[O]=function(p){return typeof p=="number"&&(p=C(b.call(arguments),j)),new o(p,O)}}}),a.exports=o},function(a,M,t){var n=t(57),d=t(43);a.exports=function(S){if(!d(S))return!1;var b=n(S);return b=="[object Function]"||b=="[object GeneratorFunction]"||b=="[object AsyncFunction]"||b=="[object Proxy]"}},function(a,M,t){var n=t(101),d=t(102);a.exports=function(S,b,h,E){var T=!h;h||(h={});for(var o=-1,s=b.length;++o<s;){var u=b[o],v=E?E(h[u],S[u],u,h,S):void 0;v===void 0&&(v=S[u]),T?d(h,u,v):n(h,u,v)}return h}},function(a,M,t){var n=t(303),d=t(48),S=Object.prototype,b=S.hasOwnProperty,h=S.propertyIsEnumerable,E=n(function(){return arguments}())?n:function(T){return d(T)&&b.call(T,"callee")&&!h.call(T,"callee")};a.exports=E},function(a,M){a.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(a,M,t){var n=t(76);a.exports=function(d){if(typeof d=="string"||n(d))return d;var S=d+"";return S=="0"&&1/d==-1/0?"-0":S}},function(a,M,t){"use strict";function n(h){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(h)}Object.defineProperty(M,"__esModule",{value:!0}),M.circularDependencyToException=M.listMetadataForTarget=M.listRegisteredBindingsForServiceIdentifier=M.getServiceIdentifierAsString=M.getFunctionName=void 0;var d=t(41);function S(h){return typeof h=="function"?h.name:n(h)==="symbol"?h.toString():h}function b(h){if(h.name)return h.name;var E=h.toString(),T=E.match(/^function\s*([^\s(]+)/);return T?T[1]:"Anonymous function: "+E}M.getServiceIdentifierAsString=S,M.listRegisteredBindingsForServiceIdentifier=function(h,E,T){var o="",s=T(h,E);return s.length!==0&&(o=`
Registered bindings:`,s.forEach(function(u){var v="Object";u.implementationType!==null&&(v=b(u.implementationType)),o=o+`
 `+v,u.constraint.metaData&&(o=o+" - "+u.constraint.metaData)})),o},M.circularDependencyToException=function h(E){E.childRequests.forEach(function(T){if(function s(u,v){return u.parentRequest!==null&&(u.parentRequest.serviceIdentifier===v||s(u.parentRequest,v))}(T,T.serviceIdentifier)){var o=function(s){return function u(v,C){C===void 0&&(C=[]);var O=S(v.serviceIdentifier);return C.push(O),v.parentRequest!==null?u(v.parentRequest,C):C}(s).reverse().join(" --> ")}(T);throw new Error(d.CIRCULAR_DEPENDENCY+" "+o)}h(T)})},M.listMetadataForTarget=function(h,E){if(E.isTagged()||E.isNamed()){var T="",o=E.getNamedTag(),s=E.getCustomTags();return o!==null&&(T+=o.toString()+`
`),s!==null&&s.forEach(function(u){T+=u.toString()+`
`})," "+h+`
 `+h+" - "+T}return" "+h},M.getFunctionName=b},function(a,M,t){"use strict";t.d(M,"a",function(){return h});var n=t(17);function d(E){return Math.sqrt(E[0]*E[0]+E[1]*E[1])}function S(E,T){return d(E)*d(T)?(E[0]*T[0]+E[1]*T[1])/(d(E)*d(T)):1}function b(E,T){return(E[0]*T[1]<E[1]*T[0]?-1:1)*Math.acos(S(E,T))}function h(E,T){var o=T[1],s=T[2],u=Object(n.m)(Object(n.o)(T[3]),2*Math.PI),v=T[4],C=T[5],O=E[0],j=E[1],p=T[6],x=T[7],A=Math.cos(u)*(O-p)/2+Math.sin(u)*(j-x)/2,k=-1*Math.sin(u)*(O-p)/2+Math.cos(u)*(j-x)/2,X=A*A/(o*o)+k*k/(s*s);X>1&&(o*=Math.sqrt(X),s*=Math.sqrt(X));var et=o*o*(k*k)+s*s*(A*A),tt=et?Math.sqrt((o*o*(s*s)-et)/et):1;v===C&&(tt*=-1),isNaN(tt)&&(tt=0);var ft=s?tt*o*k/s:0,st=o?tt*-s*A/o:0,vt=(O+p)/2+Math.cos(u)*ft-Math.sin(u)*st,mt=(j+x)/2+Math.sin(u)*ft+Math.cos(u)*st,pt=[(A-ft)/o,(k-st)/s],rt=[(-1*A-ft)/o,(-1*k-st)/s],Bt=b([1,0],pt),It=b(pt,rt);return S(pt,rt)<=-1&&(It=Math.PI),S(pt,rt)>=1&&(It=0),C===0&&It>0&&(It-=2*Math.PI),C===1&&It<0&&(It+=2*Math.PI),{cx:vt,cy:mt,rx:Object(n.j)(E,[p,x])?0:o,ry:Object(n.j)(E,[p,x])?0:s,startAngle:Bt,endAngle:Bt+It,xRotation:u,arcFlag:v,sweepFlag:C}}},function(a,M){function t(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a.exports=t=function(S){return typeof S}:a.exports=t=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},t(n)}a.exports=t},function(a,M,t){"use strict";var n=t(1),d=t(52),S=t(63),b=t(62),h=t(0),E=t(5),T=t(45),o=t(14),s=E.n.cloneEvent,u=E.n.isViewportChanged,v=function(ot){function yt(xt){var wt=ot.call(this,xt)||this;return wt.extendEvents=[],wt.dragging=!1,wt.preItem=null,wt.graph=xt,wt.destroyed=!1,wt.initEvents(),wt}return Object(n.b)(yt,ot),yt.prototype.initEvents=function(){var xt=this.graph,wt=this.extendEvents,Q=wt===void 0?[]:wt,ct=xt.get("canvas"),it=ct.get("el"),U=Object(h.J)(this,"onCanvasEvents"),D=Object(h.J)(this,"onExtendEvents"),W=Object(h.J)(this,"onWheelEvent");ct.off("*").on("*",U),this.canvasHandler=U,Q.push(Object(o.a)(it,"DOMMouseScroll",W)),Q.push(Object(o.a)(it,"mousewheel",W)),typeof window!="undefined"&&(Q.push(Object(o.a)(window,"keydown",D)),Q.push(Object(o.a)(window,"keyup",D)),Q.push(Object(o.a)(window,"focus",D)))},yt.getItemRoot=function(xt){for(;xt&&!xt.get("item");)xt=xt.get("parent");return xt},yt.prototype.onCanvasEvents=function(xt){var wt=this.graph,Q=wt.get("canvas"),ct=xt.target,it=xt.type;xt.canvasX=xt.x,xt.canvasY=xt.y;var U={x:xt.canvasX,y:xt.canvasY},D=wt.get("group").getMatrix();if(D||(D=[1,0,0,0,1,0,0,0,1]),u(D)&&(U=wt.getPointByClient(xt.clientX,xt.clientY)),xt.x=U.x,xt.y=U.y,xt.currentTarget=wt,ct===Q)return it==="mousemove"&&this.handleMouseMove(xt,"canvas"),xt.target=Q,xt.item=null,wt.emit(it,xt),void wt.emit("canvas:"+it,xt);var W=yt.getItemRoot(ct);if(W){var P=W.get("item");if(!P.destroyed){var m=P.getType();if(xt.target=ct,xt.item=P,xt.canvasX===xt.x&&xt.canvasY===xt.y){var y=wt.getCanvasByPoint(xt.x,xt.y);xt.canvasX=y.x,xt.canvasY=y.y}wt.emit(it,xt),xt.name&&!xt.name.includes(":")?wt.emit(m+":"+it,xt):wt.emit(xt.name,xt),it==="dragstart"&&(this.dragging=!0),it==="dragend"&&(this.dragging=!1),it==="mousemove"&&this.handleMouseMove(xt,m)}}else wt.emit(it,xt)},yt.prototype.onExtendEvents=function(xt){this.graph.emit(xt.type,xt)},yt.prototype.onWheelEvent=function(xt){Object(h.s)(xt.wheelDelta)&&(xt.wheelDelta=-xt.detail),this.graph.emit("wheel",xt)},yt.prototype.handleMouseMove=function(xt,wt){var Q=this.graph,ct=this.preItem,it=Q.get("canvas"),U=xt.target===it?null:xt.item;xt=s(xt),ct&&ct!==U&&!ct.destroyed&&(xt.item=ct,this.emitCustomEvent(ct.getType(),"mouseleave",xt),this.dragging&&this.emitCustomEvent(ct.getType(),"dragleave",xt)),U&&ct!==U&&(xt.item=U,this.emitCustomEvent(wt,"mouseenter",xt),this.dragging&&this.emitCustomEvent(wt,"dragenter",xt)),this.preItem=U},yt.prototype.emitCustomEvent=function(xt,wt,Q){Q.type=wt,this.graph.emit(xt+":"+wt,Q)},yt.prototype.destroy=function(){var xt=this.graph,wt=this.canvasHandler,Q=this.extendEvents;xt.get("canvas").off("*",wt),Object(h.f)(Q,function(ct){ct.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},yt}(E.a),C=t(70),O=t(254),j=t.n(O);function p(){return j()(`!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=436)}([function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.METADATA_KEY=void 0;var r=n(17);e.METADATA_KEY=r;var o=n(374);Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return o.Container}});var i=n(30);Object.defineProperty(e,"BindingScopeEnum",{enumerable:!0,get:function(){return i.BindingScopeEnum}}),Object.defineProperty(e,"BindingTypeEnum",{enumerable:!0,get:function(){return i.BindingTypeEnum}}),Object.defineProperty(e,"TargetTypeEnum",{enumerable:!0,get:function(){return i.TargetTypeEnum}});var a=n(390);Object.defineProperty(e,"AsyncContainerModule",{enumerable:!0,get:function(){return a.AsyncContainerModule}}),Object.defineProperty(e,"ContainerModule",{enumerable:!0,get:function(){return a.ContainerModule}});var u=n(391);Object.defineProperty(e,"injectable",{enumerable:!0,get:function(){return u.injectable}});var s=n(392);Object.defineProperty(e,"tagged",{enumerable:!0,get:function(){return s.tagged}});var c=n(393);Object.defineProperty(e,"named",{enumerable:!0,get:function(){return c.named}});var f=n(164);Object.defineProperty(e,"inject",{enumerable:!0,get:function(){return f.inject}}),Object.defineProperty(e,"LazyServiceIdentifer",{enumerable:!0,get:function(){return f.LazyServiceIdentifer}});var l=n(394);Object.defineProperty(e,"optional",{enumerable:!0,get:function(){return l.optional}});var h=n(395);Object.defineProperty(e,"unmanaged",{enumerable:!0,get:function(){return h.unmanaged}});var d=n(396);Object.defineProperty(e,"multiInject",{enumerable:!0,get:function(){return d.multiInject}});var p=n(397);Object.defineProperty(e,"targetName",{enumerable:!0,get:function(){return p.targetName}});var v=n(398);Object.defineProperty(e,"postConstruct",{enumerable:!0,get:function(){return v.postConstruct}});var m=n(162);Object.defineProperty(e,"MetadataReader",{enumerable:!0,get:function(){return m.MetadataReader}});var y=n(40);Object.defineProperty(e,"id",{enumerable:!0,get:function(){return y.id}});var g=n(33);Object.defineProperty(e,"decorate",{enumerable:!0,get:function(){return g.decorate}});var b=n(167);Object.defineProperty(e,"traverseAncerstors",{enumerable:!0,get:function(){return b.traverseAncerstors}}),Object.defineProperty(e,"taggedConstraint",{enumerable:!0,get:function(){return b.taggedConstraint}}),Object.defineProperty(e,"namedConstraint",{enumerable:!0,get:function(){return b.namedConstraint}}),Object.defineProperty(e,"typeConstraint",{enumerable:!0,get:function(){return b.typeConstraint}});var _=n(50);Object.defineProperty(e,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return _.getServiceIdentifierAsString}});var x=n(399);Object.defineProperty(e,"multiBindToService",{enumerable:!0,get:function(){return x.multiBindToService}})},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.TextureCompressionBC="texture-compression-bc"}(e.ExtensionName||(e.ExtensionName={})),function(t){t.ClampToEdge="clamp-to-edge",t.Repeat="repeat",t.MirrorRepeat="mirror-repeat"}(e.AddressMode||(e.AddressMode={})),function(t){t.UniformBuffer="uniform-buffer",t.StorageBuffer="storage-buffer",t.ReadonlyStorageBuffer="readonly-storage-buffer",t.Sampler="sampler",t.ComparisonSampler="comparison-sampler",t.SampledTexture="sampled-texture",t.ReadonlyStorageTexture="readonly-storage-texture",t.WriteonlyStorageTexture="writeonly-storage-texture"}(e.BindingType||(e.BindingType={})),function(t){t.Zero="zero",t.One="one",t.SrcColor="src-color",t.OneMinusSrcColor="one-minus-src-color",t.SrcAlpha="src-alpha",t.OneMinusSrcAlpha="one-minus-src-alpha",t.DstColor="dst-color",t.OneMinusDstColor="one-minus-dst-color",t.DstAlpha="dst-alpha",t.OneMinusDstAlpha="one-minus-dst-alpha",t.SrcAlphaSaturated="src-alpha-saturated",t.BlendColor="blend-color",t.OneMinusBlendColor="one-minus-blend-color"}(e.BlendFactor||(e.BlendFactor={})),function(t){t.Add="add",t.Subtract="subtract",t.ReverseSubtract="reverse-subtract",t.Min="min",t.Max="max"}(e.BlendOperation||(e.BlendOperation={})),function(t){t.Never="never",t.Less="less",t.Equal="equal",t.LessEqual="less-equal",t.Greater="greater",t.NotEqual="not-equal",t.GreaterEqual="greater-equal",t.Always="always"}(e.CompareFunction||(e.CompareFunction={})),function(t){t.None="none",t.Front="front",t.Back="back"}(e.CullMode||(e.CullMode={})),function(t){t.Nearest="nearest",t.Linear="linear"}(e.FilterMode||(e.FilterMode={})),function(t){t.CCW="ccw",t.CW="cw"}(e.FrontFace||(e.FrontFace={})),function(t){t.Uint16="uint16",t.Uint32="uint32"}(e.IndexFormat||(e.IndexFormat={})),function(t){t.Vertex="vertex",t.Instance="instance"}(e.InputStepMode||(e.InputStepMode={})),function(t){t.Load="load"}(e.LoadOp||(e.LoadOp={})),function(t){t.PointList="point-list",t.LineList="line-list",t.LineStrip="line-strip",t.TriangleList="triangle-list",t.TriangleStrip="triangle-strip"}(e.PrimitiveTopology||(e.PrimitiveTopology={})),function(t){t.Keep="keep",t.Zero="zero",t.Replace="replace",t.Invert="invert",t.IncrementClamp="increment-clamp",t.DecrementClamp="decrement-clamp",t.IncrementWrap="increment-wrap",t.DecrementWrap="decrement-wrap"}(e.StencilOperation||(e.StencilOperation={})),function(t){t.Store="store",t.Clear="clear"}(e.StoreOp||(e.StoreOp={})),function(t){t.E1d="1d",t.E2d="2d",t.E3d="3d"}(e.TextureDimension||(e.TextureDimension={})),function(t){t.R8Unorm="r8unorm",t.R8Snorm="r8snorm",t.R8Uint="r8uint",t.R8Sint="r8sint",t.R16Uint="r16uint",t.R16Sint="r16sint",t.R16Float="r16float",t.RG8Unorm="rg8unorm",t.RG8Snorm="rg8snorm",t.RG8Uint="rg8uint",t.RG8Sint="rg8sint",t.R32Uint="r32uint",t.R32Sint="r32sint",t.R32Float="r32float",t.RG16Uint="rg16uint",t.RG16Sint="rg16sint",t.RG16Float="rg16float",t.RGBA8Unorm="rgba8unorm",t.RGBA8UnormSRGB="rgba8unorm-srgb",t.RGBA8Snorm="rgba8snorm",t.RGBA8Uint="rgba8uint",t.RGBA8Sint="rgba8sint",t.BGRA8Unorm="bgra8unorm",t.BGRA8UnormSRGB="bgra8unorm-srgb",t.RGB10A2Unorm="rgb10a2unorm",t.RG11B10Float="rg11b10float",t.RG32Uint="rg32uint",t.RG32Sint="rg32sint",t.RG32Float="rg32float",t.RGBA16Uint="rgba16uint",t.RGBA16Sint="rgba16sint",t.RGBA16Float="rgba16float",t.RGBA32Uint="rgba32uint",t.RGBA32Sint="rgba32sint",t.RGBA32Float="rgba32float",t.Depth32Float="depth32float",t.Depth24Plus="depth24plus",t.Depth24PlusStencil8="depth24plus-stencil8"}(e.TextureFormat||(e.TextureFormat={})),function(t){t.Float="float",t.Sint="sint",t.Uint="uint"}(e.TextureComponentType||(e.TextureComponentType={})),function(t){t.E1d="1d",t.E2d="2d",t.E2dArray="2d-array",t.Cube="cube",t.CubeArray="cube-array",t.E3d="3d"}(e.TextureViewDimension||(e.TextureViewDimension={})),function(t){t.Uchar2="uchar2",t.Uchar4="uchar4",t.Char2="char2",t.Char4="char4",t.Uchar2Norm="uchar2norm",t.Uchar4Norm="uchar4norm",t.Char2Norm="char2norm",t.Char4Norm="char4norm",t.Ushort2="ushort2",t.Ushort4="ushort4",t.Short2="short2",t.Short4="short4",t.Ushort2Norm="ushort2norm",t.Ushort4Norm="ushort4norm",t.Short2Norm="short2norm",t.Short4Norm="short4norm",t.Half2="half2",t.Half4="half4",t.Float="float",t.Float2="float2",t.Float3="float3",t.Float4="float4",t.Uint="uint",t.Uint2="uint2",t.Uint3="uint3",t.Uint4="uint4",t.Int="int",t.Int2="int2",t.Int3="int3",t.Int4="int4"}(e.VertexFormat||(e.VertexFormat={})),function(t){t.All="all",t.StencilOnly="stencil-only",t.DepthOnly="depth-only"}(e.TextureAspect||(e.TextureAspect={})),function(t){t.Error="error",t.Warning="warning",t.Info="info"}(e.CompilationMessageType||(e.CompilationMessageType={})),function(t){t.Occlusion="occlusion"}(e.QueryType||(e.QueryType={})),function(t){t[t.MapRead=1]="MapRead",t[t.MapWrite=2]="MapWrite",t[t.CopySrc=4]="CopySrc",t[t.CopyDst=8]="CopyDst",t[t.Index=16]="Index",t[t.Vertex=32]="Vertex",t[t.Uniform=64]="Uniform",t[t.Storage=128]="Storage",t[t.Indirect=256]="Indirect",t[t.QueryResolve=512]="QueryResolve"}(e.BufferUsage||(e.BufferUsage={})),function(t){t[t.Red=1]="Red",t[t.Green=2]="Green",t[t.Blue=4]="Blue",t[t.Alpha=8]="Alpha",t[t.All=15]="All"}(e.ColorWrite||(e.ColorWrite={})),function(t){t[t.Vertex=1]="Vertex",t[t.Fragment=2]="Fragment",t[t.Compute=4]="Compute"}(e.ShaderStage||(e.ShaderStage={})),function(t){t[t.CopySrc=1]="CopySrc",t[t.CopyDst=2]="CopyDst",t[t.Sampled=4]="Sampled",t[t.Storage=8]="Storage",t[t.OutputAttachment=16]="OutputAttachment"}(e.TextureUsage||(e.TextureUsage={})),function(t){t[t.Read=1]="Read",t[t.Write=2]="Write"}(e.MapMode||(e.MapMode={}))},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){t.exports=n(370)},function(t,e){t.exports=function(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}},function(t,e){t.exports=function(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}},function(t,e){function n(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var a=t.apply(e,r);function u(t){n(a,o,i,u,s,"next",t)}function s(t){n(a,o,i,u,s,"throw",t)}u(void 0)}))}}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){var r=n(402),o=n(403),i=n(160),a=n(404);t.exports=function(t){return r(t)||o(t)||i(t)||a()}},function(t,e,n){var r;try{r={cloneDeep:n(310),constant:n(84),defaults:n(311),each:n(123),filter:n(126),find:n(312),flatten:n(154),forEach:n(124),forIn:n(317),has:n(137),isUndefined:n(138),last:n(318),map:n(139),mapValues:n(319),max:n(320),merge:n(322),min:n(327),minBy:n(328),now:n(329),pick:n(330),range:n(335),reduce:n(141),sortBy:n(338),uniqueId:n(343),values:n(147),zipObject:n(344)}}catch(t){}r||(r=window._),t.exports=r},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(400);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){var r=n(51),o=n(12);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},function(t,e){t.exports=function(t,e){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.POST_CONSTRUCT=e.DESIGN_PARAM_TYPES=e.PARAM_TYPES=e.TAGGED_PROP=e.TAGGED=e.MULTI_INJECT_TAG=e.INJECT_TAG=e.OPTIONAL_TAG=e.UNMANAGED_TAG=e.NAME_TAG=e.NAMED_TAG=void 0,e.NAMED_TAG="named",e.NAME_TAG="name",e.UNMANAGED_TAG="unmanaged",e.OPTIONAL_TAG="optional",e.INJECT_TAG="inject",e.MULTI_INJECT_TAG="multi_inject",e.TAGGED="inversify:tagged",e.TAGGED_PROP="inversify:tagged_props",e.PARAM_TYPES="inversify:paramtypes",e.DESIGN_PARAM_TYPES="design:paramtypes",e.POST_CONSTRUCT="post_construct"},function(t,e,n){"use strict";var r=n(11),o=n(23).Graph;function i(t,e,n,o){var i;do{i=r.uniqueId(o)}while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function a(t){return r.max(r.map(t.nodes(),(function(e){var n=t.node(e).rank;if(!r.isUndefined(n))return n})))}t.exports={addDummyNode:i,simplify:function(t){var e=(new o).setGraph(t.graph());return r.forEach(t.nodes(),(function(n){e.setNode(n,t.node(n))})),r.forEach(t.edges(),(function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},o=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})})),e},asNonCompoundGraph:function(t){var e=new o({multigraph:t.isMultigraph()}).setGraph(t.graph());return r.forEach(t.nodes(),(function(n){t.children(n).length||e.setNode(n,t.node(n))})),r.forEach(t.edges(),(function(n){e.setEdge(n,t.edge(n))})),e},successorWeights:function(t){var e=r.map(t.nodes(),(function(e){var n={};return r.forEach(t.outEdges(e),(function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight})),n}));return r.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=r.map(t.nodes(),(function(e){var n={};return r.forEach(t.inEdges(e),(function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight})),n}));return r.zipObject(t.nodes(),e)},intersectRect:function(t,e){var n,r,o=t.x,i=t.y,a=e.x-o,u=e.y-i,s=t.width/2,c=t.height/2;if(!a&&!u)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(u)*s>Math.abs(a)*c?(u<0&&(c=-c),n=c*a/u,r=c):(a<0&&(s=-s),n=s,r=s*u/a);return{x:o+n,y:i+r}},buildLayerMatrix:function(t){var e=r.map(r.range(a(t)+1),(function(){return[]}));return r.forEach(t.nodes(),(function(n){var o=t.node(n),i=o.rank;r.isUndefined(i)||(e[i][o.order]=n)})),e},normalizeRanks:function(t){var e=r.min(r.map(t.nodes(),(function(e){return t.node(e).rank})));r.forEach(t.nodes(),(function(n){var o=t.node(n);r.has(o,"rank")&&(o.rank-=e)}))},removeEmptyRanks:function(t){var e=r.min(r.map(t.nodes(),(function(e){return t.node(e).rank}))),n=[];r.forEach(t.nodes(),(function(r){var o=t.node(r).rank-e;n[o]||(n[o]=[]),n[o].push(r)}));var o=0,i=t.graph().nodeRankFactor;r.forEach(n,(function(e,n){r.isUndefined(e)&&n%i!=0?--o:o&&r.forEach(e,(function(e){t.node(e).rank+=o}))}))},addBorderNode:function(t,e,n,r){var o={width:0,height:0};arguments.length>=4&&(o.rank=n,o.order=r);return i(t,"border",o,e)},maxRank:a,partition:function(t,e){var n={lhs:[],rhs:[]};return r.forEach(t,(function(t){e(t)?n.lhs.push(t):n.rhs.push(t)})),n},time:function(t,e){var n=r.now();try{return e()}finally{console.log(t+" time: "+(r.now()-n)+"ms")}},notime:function(t,e){return e()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STACK_OVERFLOW=e.CIRCULAR_DEPENDENCY_IN_FACTORY=e.POST_CONSTRUCT_ERROR=e.MULTIPLE_POST_CONSTRUCT_METHODS=e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=e.ARGUMENTS_LENGTH_MISMATCH=e.INVALID_DECORATOR_OPERATION=e.INVALID_TO_SELF_VALUE=e.INVALID_FUNCTION_BINDING=e.INVALID_MIDDLEWARE_RETURN=e.NO_MORE_SNAPSHOTS_AVAILABLE=e.INVALID_BINDING_TYPE=e.NOT_IMPLEMENTED=e.CIRCULAR_DEPENDENCY=e.UNDEFINED_INJECT_ANNOTATION=e.MISSING_INJECT_ANNOTATION=e.MISSING_INJECTABLE_ANNOTATION=e.NOT_REGISTERED=e.CANNOT_UNBIND=e.AMBIGUOUS_MATCH=e.KEY_NOT_FOUND=e.NULL_ARGUMENT=e.DUPLICATED_METADATA=e.DUPLICATED_INJECTABLE_DECORATOR=void 0,e.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",e.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",e.NULL_ARGUMENT="NULL argument",e.KEY_NOT_FOUND="Key Not Found",e.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",e.CANNOT_UNBIND="Could not unbind serviceIdentifier:",e.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",e.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",e.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",e.UNDEFINED_INJECT_ANNOTATION=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},e.CIRCULAR_DEPENDENCY="Circular dependency found:",e.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",e.INVALID_BINDING_TYPE="Invalid binding type:",e.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",e.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",e.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",e.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",e.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",e.ARGUMENTS_LENGTH_MISMATCH=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+t[0]+" must be >= than the number of constructor arguments of its base class."},e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",e.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",e.POST_CONSTRUCT_ERROR=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"@postConstruct error in class "+t[0]+": "+t[1]},e.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"It looks like there is a circular dependency in one of the '"+t[0]+"' bindings. Please investigate bindings withservice identifier '"+t[1]+"'."},e.STACK_OVERFLOW="Maximum call stack size exceeded"},function(t,e,n){var r;try{r={clone:n(199),constant:n(84),each:n(123),filter:n(126),has:n(137),isArray:n(13),isEmpty:n(275),isFunction:n(46),isUndefined:n(138),keys:n(32),map:n(139),reduce:n(141),size:n(278),transform:n(284),union:n(285),values:n(147)}}catch(t){}r||(r=window._),t.exports=r},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){var e=n(t);return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(232),o=n(63),i=n(79),a=i&&i.isTypedArray,u=a?o(a):r;t.exports=u},function(t,e,n){var r;try{r=n(197)}catch(t){}r||(r=window.graphlib),t.exports=r},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(105),i="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,a=o||i||Function("return this")();t.exports=a},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return null!=t&&"object"==n(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var r=n(17),o=function(){function t(t,e){this.key=t,this.value=e}return t.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},t}();e.Metadata=o},function(t,e){},function(t,e,n){var r=n(46),o=n(78);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(255),i=n(265),a=n(39),u=n(13),s=n(272);t.exports=function(t){return"function"==typeof t?t:null==t?a:"object"==r(t)?u(t)?i(t[0],t[1]):o(t):s(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TargetTypeEnum=e.BindingTypeEnum=e.BindingScopeEnum=void 0;e.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};e.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};e.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},function(t,e,n){var r=n(42),o=n(211),i=n(212),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},function(t,e,n){var r=n(109),o=n(80),i=n(28);t.exports=function(t){return i(t)?r(t):o(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tagProperty=e.tagParameter=e.decorate=void 0;var r=n(19),o=n(17);function i(t,e,n,o,i){var a={},u="number"==typeof i,s=void 0!==i&&u?i.toString():n;if(u&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(t,e)&&(a=Reflect.getMetadata(t,e));var c=a[s];if(Array.isArray(c))for(var f=0,l=c;f<l.length;f++){var h=l[f];if(h.key===o.key)throw new Error(r.DUPLICATED_METADATA+" "+h.key.toString())}else c=[];c.push(o),a[s]=c,Reflect.defineMetadata(t,a,e)}function a(t,e){Reflect.decorate(t,e)}function u(t,e){return function(n,r){e(n,r,t)}}e.tagParameter=function(t,e,n,r){i(o.TAGGED,t,e,r,n)},e.tagProperty=function(t,e,n){i(o.TAGGED_PROP,t.constructor,e,n)},e.decorate=function(t,e,n){"number"==typeof n?a([u(n,t)],e):"string"==typeof n?Reflect.decorate([t],e,n):a([t],e)}},function(t,e,n){var r=n(371),o=n(372),i=n(160),a=n(373);t.exports=function(t,e){return r(t)||o(t,e)||i(t,e)||a()}},function(t,e,n){var r=n(31),o=n(25);t.exports=function(t){return"number"==typeof t||o(t)&&"[object Number]"==r(t)}},function(t,e,n){var r=n(178),o=n(177),i=n(185),a=n(100),u=n(186),s=[0,0];t.exports.computeMiter=function(t,e,n,a,c){return r(t,n,a),i(t,t),o(e,-t[1],t[0]),o(s,-n[1],n[0]),c/u(e,s)},t.exports.normal=function(t,e){return o(t,-e[1],e[0]),t},t.exports.direction=function(t,e,n){return a(t,e,n),i(t,t),t}},function(t,e,n){var r=n(210),o=n(215);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(109),o=n(235),i=n(28);t.exports=function(t){return i(t)?r(t,!0):o(t)}},function(t,e){t.exports=function(t){return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.id=void 0;var r=0;e.id=function(){return r++}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(24).Symbol;t.exports=r},function(t,e,n){(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(24),i=n(231),a="object"==r(e)&&e&&!e.nodeType&&e,u=a&&"object"==r(t)&&t&&!t.nodeType&&t,s=u&&u.exports===a?o.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;t.exports=c}).call(this,n(61)(t))},function(t,e,n){var r=n(240),o=n(75),i=n(241),a=n(118),u=n(242),s=n(31),c=n(107),f=c(r),l=c(o),h=c(i),d=c(a),p=c(u),v=s;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||a&&"[object Set]"!=v(new a)||u&&"[object WeakMap]"!=v(new u))&&(v=function(t){var e=s(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case f:return"[object DataView]";case l:return"[object Map]";case h:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=v},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(31),i=n(25);t.exports=function(t){return"symbol"==r(t)||i(t)&&"[object Symbol]"==o(t)}},function(t,e,n){var r=n(31),o=n(21);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){var r=n(59),o=n(60);t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var u=-1,s=e.length;++u<s;){var c=e[u],f=i?i(n[c],t[c],c,n,t):void 0;void 0===f&&(f=t[c]),a?o(n,c,f):r(n,c,f)}return n}},function(t,e,n){var r=n(230),o=n(25),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=s},function(t,e,n){var r=n(45);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.circularDependencyToException=e.listMetadataForTarget=e.listRegisteredBindingsForServiceIdentifier=e.getServiceIdentifierAsString=e.getFunctionName=void 0;var o=n(19);function i(t){return"function"==typeof t?t.name:"symbol"===r(t)?t.toString():t}function a(t){if(t.name)return t.name;var e=t.toString(),n=e.match(/^function\\s*([^\\s(]+)/);return n?n[1]:"Anonymous function: "+e}e.getServiceIdentifierAsString=i,e.listRegisteredBindingsForServiceIdentifier=function(t,e,n){var r="",o=n(t,e);return 0!==o.length&&(r="\\nRegistered bindings:",o.forEach((function(t){var e="Object";null!==t.implementationType&&(e=a(t.implementationType)),r=r+"\\n "+e,t.constraint.metaData&&(r=r+" - "+t.constraint.metaData)}))),r},e.circularDependencyToException=function t(e){e.childRequests.forEach((function(e){if(function t(e,n){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===n||t(e.parentRequest,n))}(e,e.serviceIdentifier)){var n=function(t){return function t(e,n){void 0===n&&(n=[]);var r=i(e.serviceIdentifier);return n.push(r),null!==e.parentRequest?t(e.parentRequest,n):n}(t).reverse().join(" --\\x3e ")}(e);throw new Error(o.CIRCULAR_DEPENDENCY+" "+n)}t(e)}))},e.listMetadataForTarget=function(t,e){if(e.isTagged()||e.isNamed()){var n="",r=e.getNamedTag(),o=e.getCustomTags();return null!==r&&(n+=r.toString()+"\\n"),null!==o&&o.forEach((function(t){n+=t.toString()+"\\n"}))," "+t+"\\n "+t+" - "+n}return" "+t},e.getFunctionName=a},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e){t.exports=function(t){return null==t}},function(t,e,n){t.exports={EPSILON:n(175),create:n(176),clone:n(405),fromValues:n(406),copy:n(407),set:n(177),equals:n(408),exactEquals:n(409),add:n(178),subtract:n(100),sub:n(410),multiply:n(179),mul:n(411),divide:n(180),div:n(412),inverse:n(413),min:n(414),max:n(415),rotate:n(416),floor:n(417),ceil:n(418),round:n(419),scale:n(420),scaleAndAdd:n(421),distance:n(181),dist:n(422),squaredDistance:n(182),sqrDist:n(423),length:n(183),len:n(424),squaredLength:n(184),sqrLen:n(425),negate:n(426),normalize:n(185),dot:n(186),cross:n(427),lerp:n(428),random:n(429),transformMat2:n(430),transformMat2d:n(431),transformMat3:n(432),transformMat4:n(433),forEach:n(434),limit:n(435)}},function(t,e,n){var r=n(55),o=n(205),i=n(206),a=n(207),u=n(208),s=n(209);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=u,c.prototype.set=s,t.exports=c},function(t,e,n){var r=n(200),o=n(201),i=n(202),a=n(203),u=n(204);function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e,n){var r=n(41);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(37)(Object,"create");t.exports=r},function(t,e,n){var r=n(224);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(60),o=n(41),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(108);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=/^(?:0|[1-9]\\d*)$/;t.exports=function(t,e){var o=n(t);return!!(e=null==e?9007199254740991:e)&&("number"==o||"symbol"!=o&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(110)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(85),o=n(253)(r);t.exports=o},function(t,e,n){var r=n(68),o=n(49);t.exports=function(t,e){for(var n=0,i=(e=r(e,t)).length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}},function(t,e,n){var r=n(13),o=n(88),i=n(267),a=n(133);t.exports=function(t,e){return r(t)?t:o(t,e)?[t]:i(a(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},function(t,e,n){var r=n(39),o=n(142),i=n(143);t.exports=function(t,e){return i(o(t,e,r),t+"")}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(41),i=n(28),a=n(62),u=n(21);t.exports=function(t,e,n){if(!u(n))return!1;var s=r(e);return!!("number"==s?i(n)&&a(e,n.length):"string"==s&&e in n)&&o(n[e],t)}},function(t,e,n){"use strict";var r=n(11);t.exports={longestPath:function(t){var e={};r.forEach(t.sources(),(function n(o){var i=t.node(o);if(r.has(e,o))return i.rank;e[o]=!0;var a=r.min(r.map(t.outEdges(o),(function(e){return n(e.w)-t.edge(e).minlen})));return a!==Number.POSITIVE_INFINITY&&null!=a||(a=0),i.rank=a}))},slack:function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},function(t,e){},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(20);t.exports=i;function i(t){this._isDirected=!o.has(t,"directed")||t.directed,this._isMultigraph=!!o.has(t,"multigraph")&&t.multigraph,this._isCompound=!!o.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=o.constant(void 0),this._defaultEdgeLabelFn=o.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a(t,e){t[e]?t[e]++:t[e]=1}function u(t,e){--t[e]||delete t[e]}function s(t,e,n,r){var i=""+e,a=""+n;if(!t&&i>a){var u=i;i=a,a=u}return i+""+a+""+(o.isUndefined(r)?"\\0":r)}function c(t,e,n,r){var o=""+e,i=""+n;if(!t&&o>i){var a=o;o=i,i=a}var u={v:o,w:i};return r&&(u.name=r),u}function f(t,e){return s(t,e.v,e.w,e.name)}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(t){return this._label=t,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(t){return o.isFunction(t)||(t=o.constant(t)),this._defaultNodeLabelFn=t,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return o.keys(this._nodes)},i.prototype.sources=function(){var t=this;return o.filter(this.nodes(),(function(e){return o.isEmpty(t._in[e])}))},i.prototype.sinks=function(){var t=this;return o.filter(this.nodes(),(function(e){return o.isEmpty(t._out[e])}))},i.prototype.setNodes=function(t,e){var n=arguments,r=this;return o.each(t,(function(t){n.length>1?r.setNode(t,e):r.setNode(t)})),this},i.prototype.setNode=function(t,e){return o.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]="\\0",this._children[t]={},this._children["\\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},i.prototype.node=function(t){return this._nodes[t]},i.prototype.hasNode=function(t){return o.has(this._nodes,t)},i.prototype.removeNode=function(t){var e=this;if(o.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],o.each(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),o.each(o.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],o.each(o.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},i.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(o.isUndefined(e))e="\\0";else{for(var n=e+="";!o.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},i.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},i.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if("\\0"!==e)return e}},i.prototype.children=function(t){if(o.isUndefined(t)&&(t="\\0"),this._isCompound){var e=this._children[t];if(e)return o.keys(e)}else{if("\\0"===t)return this.nodes();if(this.hasNode(t))return[]}},i.prototype.predecessors=function(t){var e=this._preds[t];if(e)return o.keys(e)},i.prototype.successors=function(t){var e=this._sucs[t];if(e)return o.keys(e)},i.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return o.union(e,this.successors(t))},i.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},i.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;o.each(this._nodes,(function(n,r){t(r)&&e.setNode(r,n)})),o.each(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))}));var r={};return this._isCompound&&o.each(e.nodes(),(function(t){e.setParent(t,function t(o){var i=n.parent(o);return void 0===i||e.hasNode(i)?(r[o]=i,i):i in r?r[i]:t(i)}(t))})),e},i.prototype.setDefaultEdgeLabel=function(t){return o.isFunction(t)||(t=o.constant(t)),this._defaultEdgeLabelFn=t,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return o.values(this._edgeObjs)},i.prototype.setPath=function(t,e){var n=this,r=arguments;return o.reduce(t,(function(t,o){return r.length>1?n.setEdge(t,o,e):n.setEdge(t,o),o})),this},i.prototype.setEdge=function(){var t,e,n,i,u=!1,f=arguments[0];"object"===r(f)&&null!==f&&"v"in f?(t=f.v,e=f.w,n=f.name,2===arguments.length&&(i=arguments[1],u=!0)):(t=f,e=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],u=!0)),t=""+t,e=""+e,o.isUndefined(n)||(n=""+n);var l=s(this._isDirected,t,e,n);if(o.has(this._edgeLabels,l))return u&&(this._edgeLabels[l]=i),this;if(!o.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[l]=u?i:this._defaultEdgeLabelFn(t,e,n);var h=c(this._isDirected,t,e,n);return t=h.v,e=h.w,Object.freeze(h),this._edgeObjs[l]=h,a(this._preds[e],t),a(this._sucs[t],e),this._in[e][l]=h,this._out[t][l]=h,this._edgeCount++,this},i.prototype.edge=function(t,e,n){var r=1===arguments.length?f(this._isDirected,arguments[0]):s(this._isDirected,t,e,n);return this._edgeLabels[r]},i.prototype.hasEdge=function(t,e,n){var r=1===arguments.length?f(this._isDirected,arguments[0]):s(this._isDirected,t,e,n);return o.has(this._edgeLabels,r)},i.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?f(this._isDirected,arguments[0]):s(this._isDirected,t,e,n),o=this._edgeObjs[r];return o&&(t=o.v,e=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],u(this._preds[e],t),u(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},i.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var r=o.values(n);return e?o.filter(r,(function(t){return t.v===e})):r}},i.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var r=o.values(n);return e?o.filter(r,(function(t){return t.w===e})):r}},i.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},function(t,e,n){var r=n(37)(n(24),"Map");t.exports=r},function(t,e,n){var r=n(216),o=n(223),i=n(225),a=n(226),u=n(227);function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,n){(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(105),i="object"==r(e)&&e&&!e.nodeType&&e,a=i&&"object"==r(t)&&t&&!t.nodeType&&t,u=a&&a.exports===i&&o.process,s=function(){try{var t=a&&a.require&&a.require("util").types;return t||u&&u.binding&&u.binding("util")}catch(t){}}();t.exports=s}).call(this,n(61)(t))},function(t,e,n){var r=n(64),o=n(233),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(113),o=n(114),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return i.call(t,e)})))}:o;t.exports=u},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},function(t,e,n){var r=n(119);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var r=n(86),o=n(32);t.exports=function(t,e){return t&&r(t,e,o)}},function(t,e,n){var r=n(252)();t.exports=r},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(13),i=n(45),a=/\\.|\\[(?:[^[\\]]*|(["'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,u=/^\\w*$/;t.exports=function(t,e){if(o(t))return!1;var n=r(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(u.test(t)||!a.test(t)||null!=e&&t in Object(e))}},function(t,e,n){var r=n(82),o=n(286);t.exports=function t(e,n,i,a,u){var s=-1,c=e.length;for(i||(i=o),u||(u=[]);++s<c;){var f=e[s];n>0&&i(f)?n>1?t(f,n-1,i,a,u):r(u,f):a||(u[u.length]=f)}return u}},function(t,e,n){var r=n(45);t.exports=function(t,e,n){for(var o=-1,i=t.length;++o<i;){var a=t[o],u=e(a);if(null!=u&&(void 0===s?u==u&&!r(u):n(u,s)))var s=u,c=a}return c}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingOnSyntax=void 0;var r=n(92),o=function(){function t(t){this._binding=t}return t.prototype.onActivation=function(t){return this._binding.onActivation=t,new r.BindingWhenSyntax(this._binding)},t}();e.BindingOnSyntax=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingWhenSyntax=void 0;var r=n(91),o=n(167),i=function(){function t(t){this._binding=t}return t.prototype.when=function(t){return this._binding.constraint=t,new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetNamed=function(t){return this._binding.constraint=o.namedConstraint(t),new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(t){return null!==t.target&&!t.target.isNamed()&&!t.target.isTagged()},new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetTagged=function(t,e){return this._binding.constraint=o.taggedConstraint(t)(e),new r.BindingOnSyntax(this._binding)},t.prototype.whenInjectedInto=function(t){return this._binding.constraint=function(e){return o.typeConstraint(t)(e.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenParentNamed=function(t){return this._binding.constraint=function(e){return o.namedConstraint(t)(e.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenParentTagged=function(t,e){return this._binding.constraint=function(n){return o.taggedConstraint(t)(e)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorIs=function(t){return this._binding.constraint=function(e){return o.traverseAncerstors(e,o.typeConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorIs=function(t){return this._binding.constraint=function(e){return!o.traverseAncerstors(e,o.typeConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorNamed=function(t){return this._binding.constraint=function(e){return o.traverseAncerstors(e,o.namedConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorNamed=function(t){return this._binding.constraint=function(e){return!o.traverseAncerstors(e,o.namedConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._binding.constraint=function(n){return o.traverseAncerstors(n,o.taggedConstraint(t)(e))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorTagged=function(t,e){return this._binding.constraint=function(n){return!o.traverseAncerstors(n,o.taggedConstraint(t)(e))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorMatches=function(t){return this._binding.constraint=function(e){return o.traverseAncerstors(e,t)},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorMatches=function(t){return this._binding.constraint=function(e){return!o.traverseAncerstors(e,t)},new r.BindingOnSyntax(this._binding)},t}();e.BindingWhenSyntax=i},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}},function(t,e,n){var r=n(31),o=n(65),i=n(25),a=Function.prototype,u=Object.prototype,s=a.toString,c=u.hasOwnProperty,f=s.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=r(t))return!1;var e=o(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==f}},function(t,e,n){t.exports={graphlib:n(23),layout:n(309),debug:n(367),util:{time:n(18).time,notime:n(18).notime},version:n(368)}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function i(){}function a(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function u(t,e,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var u=new a(n,r||t,i),s=o?o+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],u]:t._events[s].push(u):(t._events[s]=u,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function c(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),c.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},c.prototype.listeners=function(t){var e=o?o+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,a=new Array(i);r<i;r++)a[r]=n[r].fn;return a},c.prototype.listenerCount=function(t){var e=o?o+t:t,n=this._events[e];return n?n.fn?1:n.length:0},c.prototype.emit=function(t,e,n,r,i,a){var u=o?o+t:t;if(!this._events[u])return!1;var s,c,f=this._events[u],l=arguments.length;if(f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,n),!0;case 4:return f.fn.call(f.context,e,n,r),!0;case 5:return f.fn.call(f.context,e,n,r,i),!0;case 6:return f.fn.call(f.context,e,n,r,i,a),!0}for(c=1,s=new Array(l-1);c<l;c++)s[c-1]=arguments[c];f.fn.apply(f.context,s)}else{var h,d=f.length;for(c=0;c<d;c++)switch(f[c].once&&this.removeListener(t,f[c].fn,void 0,!0),l){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,e);break;case 3:f[c].fn.call(f[c].context,e,n);break;case 4:f[c].fn.call(f[c].context,e,n,r);break;default:if(!s)for(h=1,s=new Array(l-1);h<l;h++)s[h-1]=arguments[h];f[c].fn.apply(f[c].context,s)}}return!0},c.prototype.on=function(t,e,n){return u(this,t,e,n,!1)},c.prototype.once=function(t,e,n){return u(this,t,e,n,!0)},c.prototype.removeListener=function(t,e,n,r){var i=o?o+t:t;if(!this._events[i])return this;if(!e)return s(this,i),this;var a=this._events[i];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||s(this,i);else{for(var u=0,c=[],f=a.length;u<f;u++)(a[u].fn!==e||r&&!a[u].once||n&&a[u].context!==n)&&c.push(a[u]);c.length?this._events[i]=1===c.length?c[0]:c:s(this,i)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=o?o+t:t,this._events[e]&&s(this,e)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=o,c.EventEmitter=c,t.exports=c},function(t,e,n){var r=n(54),o=n(77),i=n(59),a=n(228),u=n(234),s=n(111),c=n(112),f=n(237),l=n(238),h=n(116),d=n(239),p=n(44),v=n(243),m=n(244),y=n(121),g=n(13),b=n(43),_=n(248),x=n(21),w=n(250),E=n(32),S=n(38),T={};T["[object Arguments]"]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T["[object Object]"]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T["[object Function]"]=T["[object WeakMap]"]=!1,t.exports=function t(e,n,A,I,k,O){var D,R=1&n,M=2&n,C=4&n;if(A&&(D=k?A(e,I,k,O):A(e)),void 0!==D)return D;if(!x(e))return e;var N=g(e);if(N){if(D=v(e),!R)return c(e,D)}else{var P=p(e),G="[object Function]"==P||"[object GeneratorFunction]"==P;if(b(e))return s(e,R);if("[object Object]"==P||"[object Arguments]"==P||G&&!k){if(D=M||G?{}:y(e),!R)return M?l(e,u(D,e)):f(e,a(D,e))}else{if(!T[P])return k?e:{};D=m(e,P,R)}}O||(O=new r);var j=O.get(e);if(j)return j;O.set(e,D),w(e)?e.forEach((function(r){D.add(t(r,n,A,r,e,O))})):_(e)&&e.forEach((function(r,o){D.set(o,t(r,n,A,o,e,O))}));var L=N?void 0:(C?M?d:h:M?S:E)(e);return o(L||e,(function(r,o){L&&(r=e[o=r]),i(D,o,t(r,n,A,o,e,O))})),D}},function(t,e,n){(function(e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e;t.exports=r}).call(this,n(106))},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}t.exports=r},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(37),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,n){var r=n(229),o=n(48),i=n(13),a=n(43),u=n(62),s=n(22),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),f=!n&&o(t),l=!n&&!f&&a(t),h=!n&&!f&&!l&&s(t),d=n||f||l||h,p=d?r(t.length,String):[],v=p.length;for(var m in t)!e&&!c.call(t,m)||d&&("length"==m||l&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||u(m,v))||p.push(m);return p}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(24),i="object"==r(e)&&e&&!e.nodeType&&e,a=i&&"object"==r(t)&&t&&!t.nodeType&&t,u=a&&a.exports===i?o.Buffer:void 0,s=u?u.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(61)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(82),o=n(65),i=n(81),a=n(114),u=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:a;t.exports=u},function(t,e,n){var r=n(117),o=n(81),i=n(32);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(82),o=n(13);t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},function(t,e,n){var r=n(37)(n(24),"Set");t.exports=r},function(t,e,n){var r=n(24).Uint8Array;t.exports=r},function(t,e,n){var r=n(83);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(122),o=n(65),i=n(64);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},function(t,e,n){var r=n(21),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},function(t,e,n){t.exports=n(124)},function(t,e,n){var r=n(77),o=n(66),i=n(125),a=n(13);t.exports=function(t,e){return(a(t)?r:o)(t,i(e))}},function(t,e,n){var r=n(39);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e,n){var r=n(113),o=n(254),i=n(29),a=n(13);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},function(t,e,n){var r=n(257),o=n(25);t.exports=function t(e,n,i,a,u){return e===n||(null==e||null==n||!o(e)&&!o(n)?e!=e&&n!=n:r(e,n,i,a,t,u))}},function(t,e,n){var r=n(129),o=n(260),i=n(130);t.exports=function(t,e,n,a,u,s){var c=1&n,f=t.length,l=e.length;if(f!=l&&!(c&&l>f))return!1;var h=s.get(t),d=s.get(e);if(h&&d)return h==e&&d==t;var p=-1,v=!0,m=2&n?new r:void 0;for(s.set(t,e),s.set(e,t);++p<f;){var y=t[p],g=e[p];if(a)var b=c?a(g,y,p,e,t,s):a(y,g,p,t,e,s);if(void 0!==b){if(b)continue;v=!1;break}if(m){if(!o(e,(function(t,e){if(!i(m,e)&&(y===t||u(y,t,n,a,s)))return m.push(e)}))){v=!1;break}}else if(y!==g&&!u(y,g,n,a,s)){v=!1;break}}return s.delete(t),s.delete(e),v}},function(t,e,n){var r=n(76),o=n(258),i=n(259);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(21);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},function(t,e,n){var r=n(270);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(271),o=n(135);t.exports=function(t,e){return null!=t&&o(t,e,r)}},function(t,e,n){var r=n(68),o=n(48),i=n(13),a=n(62),u=n(78),s=n(49);t.exports=function(t,e,n){for(var c=-1,f=(e=r(e,t)).length,l=!1;++c<f;){var h=s(e[c]);if(!(l=null!=t&&n(t,h)))break;t=t[h]}return l||++c!=f?l:!!(f=null==t?0:t.length)&&u(f)&&a(h,f)&&(i(t)||o(t))}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(274),o=n(135);t.exports=function(t,e){return null!=t&&o(t,e,r)}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,n){var r=n(69),o=n(29),i=n(140),a=n(13);t.exports=function(t,e){return(a(t)?r:i)(t,o(e,3))}},function(t,e,n){var r=n(66),o=n(28);t.exports=function(t,e){var n=-1,i=o(t)?Array(t.length):[];return r(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}},function(t,e,n){var r=n(276),o=n(66),i=n(29),a=n(277),u=n(13);t.exports=function(t,e,n){var s=u(t)?r:a,c=arguments.length<3;return s(t,i(e,4),n,c,o)}},function(t,e,n){var r=n(287),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,u=o(i.length-e,0),s=Array(u);++a<u;)s[a]=i[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=i[a];return c[e]=n(s),r(t,this,c)}}},function(t,e,n){var r=n(288),o=n(289)(r);t.exports=o},function(t,e,n){var r=n(129),o=n(290),i=n(294),a=n(130),u=n(295),s=n(87);t.exports=function(t,e,n){var c=-1,f=o,l=t.length,h=!0,d=[],p=d;if(n)h=!1,f=i;else if(l>=200){var v=e?null:u(t);if(v)return s(v);h=!1,f=a,p=new r}else p=e?[]:d;t:for(;++c<l;){var m=t[c],y=e?e(m):m;if(m=n||0!==m?m:0,h&&y==y){for(var g=p.length;g--;)if(p[g]===y)continue t;e&&p.push(y),d.push(m)}else f(p,y,n)||(p!==d&&p.push(y),d.push(m))}return d}},function(t,e){t.exports=function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},function(t,e,n){var r=n(28),o=n(25);t.exports=function(t){return o(t)&&r(t)}},function(t,e,n){var r=n(297),o=n(32);t.exports=function(t){return null==t?[]:r(t,o(t))}},function(t,e,n){var r=n(20),o=n(149);t.exports=function(t,e,n,r){return function(t,e,n,r){var i,a,u={},s=new o,c=function(t){var e=t.v!==i?t.v:t.w,r=u[e],o=n(t),c=a.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+o);c<r.distance&&(r.distance=c,r.predecessor=i,s.decrease(e,c))};t.nodes().forEach((function(t){var n=t===e?0:Number.POSITIVE_INFINITY;u[t]={distance:n},s.add(t,n)}));for(;s.size()>0&&(i=s.removeMin(),(a=u[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(c);return u}(t,String(e),n||i,r||function(e){return t.outEdges(e)})};var i=r.constant(1)},function(t,e,n){var r=n(20);function o(){this._arr=[],this._keyIndices={}}t.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},o.prototype.has=function(t){return r.has(this._keyIndices,t)},o.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},o.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!r.has(n,t)){var o=this._arr,i=o.length;return n[t]=i,o.push({key:t,priority:e}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},o.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},o.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,o=t;n<e.length&&(o=e[n].priority<e[o].priority?n:o,r<e.length&&(o=e[r].priority<e[o].priority?r:o),o!==t&&(this._swap(t,o),this._heapify(o)))},o.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},o.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,o=n[t],i=n[e];n[t]=i,n[e]=o,r[i.key]=t,r[o.key]=e}},function(t,e,n){var r=n(20);t.exports=function(t){var e=0,n=[],o={},i=[];return t.nodes().forEach((function(a){r.has(o,a)||function a(u){var s=o[u]={onStack:!0,lowlink:e,index:e++};if(n.push(u),t.successors(u).forEach((function(t){r.has(o,t)?o[t].onStack&&(s.lowlink=Math.min(s.lowlink,o[t].index)):(a(t),s.lowlink=Math.min(s.lowlink,o[t].lowlink))})),s.lowlink===s.index){var c,f=[];do{c=n.pop(),o[c].onStack=!1,f.push(c)}while(u!==c);i.push(f)}}(a)})),i}},function(t,e,n){var r=n(20);function o(t){var e={},n={},o=[];if(r.each(t.sinks(),(function a(u){if(r.has(n,u))throw new i;r.has(e,u)||(n[u]=!0,e[u]=!0,r.each(t.predecessors(u),a),delete n[u],o.push(u))})),r.size(e)!==t.nodeCount())throw new i;return o}function i(){}t.exports=o,o.CycleException=i,i.prototype=new Error},function(t,e,n){var r=n(20);t.exports=function(t,e,n){r.isArray(e)||(e=[e]);var o=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],a={};return r.each(e,(function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);!function t(e,n,o,i,a,u){r.has(i,n)||(i[n]=!0,o||u.push(n),r.each(a(n),(function(n){t(e,n,o,i,a,u)})),o&&u.push(n))}(t,e,"post"===n,a,o,i)})),i}},function(t,e,n){var r=n(316);t.exports=function(t){return t?(t=r(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},function(t,e,n){var r=n(89);t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}},function(t,e,n){var r=n(60),o=n(41);t.exports=function(t,e,n){(void 0!==n&&!o(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}},function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},function(t,e){t.exports=function(t,e){return t<e}},function(t,e,n){"use strict";var r=n(11),o=n(23).Graph,i=n(72).slack;function a(t,e){return r.forEach(t.nodes(),(function n(o){r.forEach(e.nodeEdges(o),(function(r){var a=r.v,u=o===a?r.w:a;t.hasNode(u)||i(e,r)||(t.setNode(u,{}),t.setEdge(o,u,{}),n(u))}))})),t.nodeCount()}function u(t,e){return r.minBy(e.edges(),(function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return i(e,n)}))}function s(t,e,n){r.forEach(t.nodes(),(function(t){e.node(t).rank+=n}))}t.exports=function(t){var e,n,r=new o({directed:!1}),c=t.nodes()[0],f=t.nodeCount();r.setNode(c,{});for(;a(r,t)<f;)e=u(r,t),n=r.hasNode(e.v)?i(t,e):-i(t,e),s(r,t,n);return r}},function(t,e,n){(function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var r;!function(r){!function(o){var i="object"===(void 0===e?"undefined":n(e))?e:"object"===("undefined"==typeof self?"undefined":n(self))?self:"object"===n(this)?this:Function("return this;")(),a=u(r);function u(t,e){return function(n,r){"function"!=typeof t[n]&&Object.defineProperty(t,n,{configurable:!0,writable:!0,value:r}),e&&e(n,r)}}void 0===i.Reflect?i.Reflect=r:a=u(i.Reflect,a),function(e){var r=Object.prototype.hasOwnProperty,o="function"==typeof Symbol,i=o&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",a=o&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",u="function"==typeof Object.create,s={__proto__:[]}instanceof Array,c=!u&&!s,f={create:u?function(){return N(Object.create(null))}:s?function(){return N({__proto__:null})}:function(){return N({})},has:c?function(t,e){return r.call(t,e)}:function(t,e){return e in t},get:c?function(t,e){return r.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},l=Object.getPrototypeOf(Function),h="object"===(void 0===t?"undefined":n(t))&&t.env&&"true"===t.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=h||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},e=[],n=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[a]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var n=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var n=this._find(t,!0);return this._values[n]=e,this},e.prototype.delete=function(e){var n=this._find(e,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new n(this._keys,this._values,r)},e.prototype.values=function(){return new n(this._keys,this._values,o)},e.prototype.entries=function(){return new n(this._keys,this._values,i)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[a]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function r(t,e){return t}function o(t,e){return e}function i(t,e){return[t,e]}}():Map,p=h||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new d}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[a]=function(){return this.keys()},t}():Set,v=new(h||"function"!=typeof WeakMap?function(){var t=f.create(),e=n();return function(){function t(){this._key=n()}return t.prototype.has=function(t){var e=o(t,!1);return void 0!==e&&f.has(e,this._key)},t.prototype.get=function(t){var e=o(t,!1);return void 0!==e?f.get(e,this._key):void 0},t.prototype.set=function(t,e){return o(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=o(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=n()},t}();function n(){var e;do{e="@@WeakMap@@"+a()}while(f.has(t,e));return t[e]=!0,e}function o(t,n){if(!r.call(t,e)){if(!n)return;Object.defineProperty(t,e,{value:f.create()})}return t[e]}function i(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}function a(){var t,e=(t=16,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):i(new Uint8Array(t),t):i(new Array(t),t));e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var n="",r=0;r<16;++r){var o=e[r];4!==r&&6!==r&&8!==r||(n+="-"),o<16&&(n+="0"),n+=o.toString(16).toLowerCase()}return n}}():WeakMap);function m(t,e,n){var r=v.get(t);if(w(r)){if(!n)return;r=new d,v.set(t,r)}var o=r.get(e);if(w(o)){if(!n)return;o=new d,r.set(e,o)}return o}function y(t,e,n){var r=m(e,n,!1);return!w(r)&&!!r.has(t)}function g(t,e,n){var r=m(e,n,!1);if(!w(r))return r.get(t)}function b(t,e,n,r){m(n,r,!0).set(t,e)}function _(t,e){var n=[],r=m(t,e,!1);if(w(r))return n;for(var o=function(t){var e=D(t,a);if(!k(e))throw new TypeError;var n=e.call(t);if(!S(n))throw new TypeError;return n}(r.keys()),i=0;;){var u=R(o);if(!u)return n.length=i,n;var s=u.value;try{n[i]=s}catch(t){try{M(o)}finally{throw t}}i++}}function x(t){if(null===t)return 1;switch(n(t)){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function w(t){return void 0===t}function E(t){return null===t}function S(t){return"object"===n(t)?null!==t:"function"==typeof t}function T(t,e){switch(x(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var n=3===e?"string":5===e?"number":"default",r=D(t,i);if(void 0!==r){var o=r.call(t,n);if(S(o))throw new TypeError;return o}return function(t,e){if("string"===e){var n=t.toString;if(k(n))if(!S(o=n.call(t)))return o;if(k(r=t.valueOf))if(!S(o=r.call(t)))return o}else{var r;if(k(r=t.valueOf))if(!S(o=r.call(t)))return o;var o,i=t.toString;if(k(i))if(!S(o=i.call(t)))return o}throw new TypeError}(t,"default"===n?"number":n)}function A(t){var e=T(t,3);return"symbol"===n(e)?e:function(t){return""+t}(e)}function I(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function k(t){return"function"==typeof t}function O(t){return"function"==typeof t}function D(t,e){var n=t[e];if(null!=n){if(!k(n))throw new TypeError;return n}}function R(t){var e=t.next();return!e.done&&e}function M(t){var e=t.return;e&&e.call(t)}function C(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===l)return e;if(e!==l)return e;var n=t.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return e;var o=r.constructor;return"function"!=typeof o||o===t?e:o}function N(t){return t.__=void 0,delete t.__,t}e("decorate",(function(t,e,n,r){if(w(n)){if(!I(t))throw new TypeError;if(!O(e))throw new TypeError;return function(t,e){for(var n=t.length-1;n>=0;--n){var r=(0,t[n])(e);if(!w(r)&&!E(r)){if(!O(r))throw new TypeError;e=r}}return e}(t,e)}if(!I(t))throw new TypeError;if(!S(e))throw new TypeError;if(!S(r)&&!w(r)&&!E(r))throw new TypeError;return E(r)&&(r=void 0),function(t,e,n,r){for(var o=t.length-1;o>=0;--o){var i=(0,t[o])(e,n,r);if(!w(i)&&!E(i)){if(!S(i))throw new TypeError;r=i}}return r}(t,e,n=A(n),r)})),e("metadata",(function(t,e){return function(n,r){if(!S(n))throw new TypeError;if(!w(r)&&!function(t){switch(x(t)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;b(t,e,n,r)}})),e("defineMetadata",(function(t,e,n,r){if(!S(n))throw new TypeError;return w(r)||(r=A(r)),b(t,e,n,r)})),e("hasMetadata",(function(t,e,n){if(!S(e))throw new TypeError;return w(n)||(n=A(n)),function t(e,n,r){if(y(e,n,r))return!0;var o=C(n);return!E(o)&&t(e,o,r)}(t,e,n)})),e("hasOwnMetadata",(function(t,e,n){if(!S(e))throw new TypeError;return w(n)||(n=A(n)),y(t,e,n)})),e("getMetadata",(function(t,e,n){if(!S(e))throw new TypeError;return w(n)||(n=A(n)),function t(e,n,r){if(y(e,n,r))return g(e,n,r);var o=C(n);return E(o)?void 0:t(e,o,r)}(t,e,n)})),e("getOwnMetadata",(function(t,e,n){if(!S(e))throw new TypeError;return w(n)||(n=A(n)),g(t,e,n)})),e("getMetadataKeys",(function(t,e){if(!S(t))throw new TypeError;return w(e)||(e=A(e)),function t(e,n){var r=_(e,n),o=C(e);if(null===o)return r;var i=t(o,n);if(i.length<=0)return r;if(r.length<=0)return i;for(var a=new p,u=[],s=0,c=r;s<c.length;s++){var f=c[s];a.has(f)||(a.add(f),u.push(f))}for(var l=0,h=i;l<h.length;l++){f=h[l];a.has(f)||(a.add(f),u.push(f))}return u}(t,e)})),e("getOwnMetadataKeys",(function(t,e){if(!S(t))throw new TypeError;return w(e)||(e=A(e)),_(t,e)})),e("deleteMetadata",(function(t,e,n){if(!S(e))throw new TypeError;w(n)||(n=A(n));var r=m(e,n,!1);if(w(r))return!1;if(!r.delete(t))return!1;if(r.size>0)return!0;var o=v.get(e);return o.delete(n),o.size>0||v.delete(e),!0}))}(a)}()}(r||(r={}))}).call(this,n(369),n(106))},function(t,e,n){var r=n(161);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MetadataReader=void 0;var r=n(17),o=function(){function t(){}return t.prototype.getConstructorMetadata=function(t){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,t),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,t)||{}}},t.prototype.getPropertiesMetadata=function(t){return Reflect.getMetadata(r.TAGGED_PROP,t)||[]},t}();e.MetadataReader=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStackOverflowExeption=void 0;var r=n(19);e.isStackOverflowExeption=function(t){return t instanceof RangeError||t.message===r.STACK_OVERFLOW}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inject=e.LazyServiceIdentifer=void 0;var r=n(19),o=n(17),i=n(26),a=n(33),u=function(){function t(t){this._cb=t}return t.prototype.unwrap=function(){return this._cb()},t}();e.LazyServiceIdentifer=u,e.inject=function(t){return function(e,n,u){if(void 0===t)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(e.name));var s=new i.Metadata(o.INJECT_TAG,t);"number"==typeof u?a.tagParameter(e,n,u,s):a.tagProperty(e,n,s)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Target=void 0;var r=n(17),o=n(40),i=n(26),a=n(381),u=function(){function t(t,e,n,u){this.id=o.id(),this.type=t,this.serviceIdentifier=n,this.name=new a.QueryableString(e||""),this.metadata=new Array;var s=null;"string"==typeof u?s=new i.Metadata(r.NAMED_TAG,u):u instanceof i.Metadata&&(s=u),null!==s&&this.metadata.push(s)}return t.prototype.hasTag=function(t){for(var e=0,n=this.metadata;e<n.length;e++){if(n[e].key===t)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(t){return this.matchesTag(r.MULTI_INJECT_TAG)(t)},t.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.some((function(t){return t.key!==r.INJECT_TAG&&t.key!==r.MULTI_INJECT_TAG&&t.key!==r.NAME_TAG&&t.key!==r.UNMANAGED_TAG&&t.key!==r.NAMED_TAG}))},t.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(t){return t.key===r.NAMED_TAG}))[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(t){return t.key!==r.INJECT_TAG&&t.key!==r.MULTI_INJECT_TAG&&t.key!==r.NAME_TAG&&t.key!==r.UNMANAGED_TAG&&t.key!==r.NAMED_TAG})):null},t.prototype.matchesNamedTag=function(t){return this.matchesTag(r.NAMED_TAG)(t)},t.prototype.matchesTag=function(t){var e=this;return function(n){for(var r=0,o=e.metadata;r<o.length;r++){var i=o[r];if(i.key===t&&i.value===n)return!0}return!1}},t}();e.Target=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingWhenOnSyntax=void 0;var r=n(91),o=n(92),i=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingWhenOnSyntax=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.typeConstraint=e.namedConstraint=e.taggedConstraint=e.traverseAncerstors=void 0;var r=n(17),o=n(26);e.traverseAncerstors=function t(e,n){var r=e.parentRequest;return null!==r&&(!!n(r)||t(r,n))};var i=function(t){return function(e){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(t)(e)};return n.metaData=new o.Metadata(t,e),n}};e.taggedConstraint=i;var a=i(r.NAMED_TAG);e.namedConstraint=a;e.typeConstraint=function(t){return function(e){var n=null;if(null!==e){if(n=e.bindings[0],"string"==typeof t)return n.serviceIdentifier===t;var r=e.bindings[0].implementationType;return t===r}return!1}}},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){t.exports=1e-6},function(t,e){t.exports=function(){var t=new Float32Array(2);return t[0]=0,t[1]=0,t}},function(t,e){t.exports=function(t,e,n){return t[0]=e,t[1]=n,t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}},function(t,e){t.exports=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}},function(t,e){t.exports=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}},function(t,e){t.exports=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}},function(t,e){t.exports=function(t){var e=t[0],n=t[1];return e*e+n*n}},function(t,e){t.exports=function(t,e){var n=e[0],r=e[1],o=n*n+r*r;o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o);return t}},function(t,e){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(401);e.default=function(t,e){return void 0===e&&(e=!0),{lazyInject:r.makePropertyInjectDecorator(t,e),lazyInjectNamed:r.makePropertyInjectNamedDecorator(t,e),lazyInjectTagged:r.makePropertyInjectTaggedDecorator(t,e),lazyMultiInject:r.makePropertyMultiInjectDecorator(t,e)}}},function(t,e,n){var r=n(144);t.exports=function(t){return t&&t.length?r(t):[]}},function(t,e,n){var r,o,i;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i=function(){"use strict";var t=function(t){return t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Float32Array||t instanceof Float64Array||t instanceof Uint8ClampedArray},e=function(t,e){for(var n=Object.keys(e),r=0;r<n.length;++r)t[n[r]]=e[n[r]];return t};function n(t){var e=new Error("(regl) "+t);throw console.error(e),e}function r(t,e){t||n(e)}function o(t){return t?": "+t:""}function i(t,e){switch(e){case"number":return"number"==typeof t;case"object":return"object"===a(t);case"string":return"string"==typeof t;case"boolean":return"boolean"==typeof t;case"function":return"function"==typeof t;case"undefined":return void 0===t;case"symbol":return"symbol"===a(t)}}function u(t,e,r){e.indexOf(t)<0&&n("invalid value"+o(r)+". must be one of: "+e)}var s=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function c(t,e){for(t+="";t.length<e;)t=" "+t;return t}function f(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function l(t,e){this.number=t,this.line=e,this.errors=[]}function h(t,e,n){this.file=t,this.line=e,this.message=n}function d(){var t=new Error,e=(t.stack||t).toString(),n=/compileProcedure.*\\n\\s*at.*\\((.*)\\)/.exec(e);if(n)return n[1];var r=/compileProcedure.*\\n\\s*at\\s+(.*)(\\n|$)/.exec(e);return r?r[1]:"unknown"}function p(){var t=new Error,e=(t.stack||t).toString(),n=/at REGLCommand.*\\n\\s+at.*\\((.*)\\)/.exec(e);if(n)return n[1];var r=/at REGLCommand.*\\n\\s+at\\s+(.*)\\n/.exec(e);return r?r[1]:"unknown"}function v(t,e){var n,r=t.split("\\n"),o=1,i=0,a={unknown:new f,0:new f};a.unknown.name=a[0].name=e||d(),a.unknown.lines.push(new l(0,""));for(var u=0;u<r.length;++u){var s=r[u],c=/^\\s*#\\s*(\\w+)\\s+(.+)\\s*$/.exec(s);if(c)switch(c[1]){case"line":var h=/(\\d+)(\\s+\\d+)?/.exec(c[2]);h&&(o=0|h[1],h[2]&&((i=0|h[2])in a||(a[i]=new f)));break;case"define":var p=/SHADER_NAME(_B64)?\\s+(.*)$/.exec(c[2]);p&&(a[i].name=p[1]?(n=p[2],"undefined"!=typeof atob?atob(n):"base64:"+n):p[2])}a[i].lines.push(new l(o++,s))}return Object.keys(a).forEach((function(t){var e=a[t];e.lines.forEach((function(t){e.index[t.number]=t}))})),a}function m(t){t._commandRef=d()}function y(t,e){var r=p();n(t+" in command "+(e||d())+("unknown"===r?"":" called from "+r))}function g(t,e,n,r){i(t,e)||y("invalid parameter type"+o(n)+". expected "+e+", got "+a(t),r||d())}var b={};function _(t,e){return 32820===t||32819===t||33635===t?2:34042===t?4:b[t]*e}function x(t){return!(t&t-1||!t)}b[5120]=b[5121]=1,b[5122]=b[5123]=b[36193]=b[33635]=b[32819]=b[32820]=2,b[5124]=b[5125]=b[5126]=b[34042]=4;var w=e(r,{optional:function(t){t()},raise:n,commandRaise:y,command:function(t,e,n){t||y(e,n||d())},parameter:function(t,e,r){t in e||n("unknown parameter ("+t+")"+o(r)+". possible values: "+Object.keys(e).join())},commandParameter:function(t,e,n,r){t in e||y("unknown parameter ("+t+")"+o(n)+". possible values: "+Object.keys(e).join(),r||d())},constructor:function(t){Object.keys(t).forEach((function(t){s.indexOf(t)<0&&n('invalid regl constructor argument "'+t+'". must be one of '+s)}))},type:function(t,e,r){i(t,e)||n("invalid parameter type"+o(r)+". expected "+e+", got "+a(t))},commandType:g,isTypedArray:function(e,r){t(e)||n("invalid parameter type"+o(r)+". must be a typed array")},nni:function(t,e){t>=0&&(0|t)===t||n("invalid parameter type, ("+t+")"+o(e)+". must be a nonnegative integer")},oneOf:u,shaderError:function(t,e,n,o,i){if(!t.getShaderParameter(e,t.COMPILE_STATUS)){var a=t.getShaderInfoLog(e),u=o===t.FRAGMENT_SHADER?"fragment":"vertex";g(n,"string",u+" shader source must be a string",i);var s=v(n,i),f=function(t){var e=[];return t.split("\\n").forEach((function(t){if(!(t.length<5)){var n=/^ERROR:\\s+(\\d+):(\\d+):\\s*(.*)$/.exec(t);n?e.push(new h(0|n[1],0|n[2],n[3].trim())):t.length>0&&e.push(new h("unknown",0,t))}})),e}(a);!function(t,e){e.forEach((function(e){var n=t[e.file];if(n){var r=n.index[e.line];if(r)return r.errors.push(e),void(n.hasErrors=!0)}t.unknown.hasErrors=!0,t.unknown.lines[0].errors.push(e)}))}(s,f),Object.keys(s).forEach((function(t){var e=s[t];if(e.hasErrors){var n=[""],r=[""];o("file number "+t+": "+e.name+"\\n","color:red;text-decoration:underline;font-weight:bold"),e.lines.forEach((function(t){if(t.errors.length>0){o(c(t.number,4)+"|  ","background-color:yellow; font-weight:bold"),o(t.line+"\\n","color:red; background-color:yellow; font-weight:bold");var e=0;t.errors.forEach((function(n){var r=n.message,i=/^\\s*'(.*)'\\s*:\\s*(.*)$/.exec(r);if(i){var a=i[1];switch(r=i[2],a){case"assign":a="="}e=Math.max(t.line.indexOf(a,e),0)}else e=0;o(c("| ",6)),o(c("^^^",e+3)+"\\n","font-weight:bold"),o(c("| ",6)),o(r+"\\n","font-weight:bold")})),o(c("| ",6)+"\\n")}else o(c(t.number,4)+"|  "),o(t.line+"\\n","color:red")})),"undefined"==typeof document||window.chrome?console.log(n.join("")):(r[0]=n.join("%c"),console.log.apply(console,r))}function o(t,e){n.push(t),r.push(e||"")}})),r.raise("Error compiling "+u+" shader, "+s[0].name)}},linkError:function(t,e,n,o,i){if(!t.getProgramParameter(e,t.LINK_STATUS)){var a=t.getProgramInfoLog(e),u=v(n,i),s='Error linking program with vertex shader, "'+v(o,i)[0].name+'", and fragment shader "'+u[0].name+'"';"undefined"!=typeof document?console.log("%c"+s+"\\n%c"+a,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(s+"\\n"+a),r.raise(s)}},callSite:p,saveCommandRef:m,saveDrawInfo:function(t,e,n,r){function o(t){return t?r.id(t):0}function i(t,e){Object.keys(e).forEach((function(e){t[r.id(e)]=!0}))}m(t),t._fragId=o(t.static.frag),t._vertId=o(t.static.vert);var a=t._uniformSet={};i(a,e.static),i(a,e.dynamic);var u=t._attributeSet={};i(u,n.static),i(u,n.dynamic),t._hasCount="count"in t.static||"count"in t.dynamic||"elements"in t.static||"elements"in t.dynamic},framebufferFormat:function(t,e,n){t.texture?u(t.texture._texture.internalformat,e,"unsupported texture format for attachment"):u(t.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")},guessCommand:d,texture2D:function(t,e,n){var o,i=e.width,a=e.height,u=e.channels;r(i>0&&i<=n.maxTextureSize&&a>0&&a<=n.maxTextureSize,"invalid texture shape"),33071===t.wrapS&&33071===t.wrapT||r(x(i)&&x(a),"incompatible wrap mode for texture, both width and height must be power of 2"),1===e.mipmask?1!==i&&1!==a&&r(9984!==t.minFilter&&9986!==t.minFilter&&9985!==t.minFilter&&9987!==t.minFilter,"min filter requires mipmap"):(r(x(i)&&x(a),"texture must be a square power of 2 to support mipmapping"),r(e.mipmask===(i<<1)-1,"missing or incomplete mipmap data")),5126===e.type&&(n.extensions.indexOf("oes_texture_float_linear")<0&&r(9728===t.minFilter&&9728===t.magFilter,"filter not supported, must enable oes_texture_float_linear"),r(!t.genMipmaps,"mipmap generation not supported with float textures"));var s=e.images;for(o=0;o<16;++o)if(s[o]){var c=i>>o,f=a>>o;r(e.mipmask&1<<o,"missing mipmap data");var l=s[o];if(r(l.width===c&&l.height===f,"invalid shape for mip images"),r(l.format===e.format&&l.internalformat===e.internalformat&&l.type===e.type,"incompatible type for mip image"),l.compressed);else if(l.data){var h=Math.ceil(_(l.type,u)*c/l.unpackAlignment)*l.unpackAlignment;r(l.data.byteLength===h*f,"invalid data for image, buffer size is inconsistent with image format")}else l.element||l.copy}else t.genMipmaps||r(0==(e.mipmask&1<<o),"extra mipmap data");e.compressed&&r(!t.genMipmaps,"mipmap generation for compressed images not supported")},textureCube:function(t,e,n,o){var i=t.width,a=t.height,u=t.channels;r(i>0&&i<=o.maxTextureSize&&a>0&&a<=o.maxTextureSize,"invalid texture shape"),r(i===a,"cube map must be square"),r(33071===e.wrapS&&33071===e.wrapT,"wrap mode not supported by cube map");for(var s=0;s<n.length;++s){var c=n[s];r(c.width===i&&c.height===a,"inconsistent cube map face shape"),e.genMipmaps&&(r(!c.compressed,"can not generate mipmap for compressed textures"),r(1===c.mipmask,"can not specify mipmaps and generate mipmaps"));for(var f=c.images,l=0;l<16;++l){var h=f[l];if(h){var d=i>>l,p=a>>l;r(c.mipmask&1<<l,"missing mipmap data"),r(h.width===d&&h.height===p,"invalid shape for mip images"),r(h.format===t.format&&h.internalformat===t.internalformat&&h.type===t.type,"incompatible type for mip image"),h.compressed||(h.data?r(h.data.byteLength===d*p*Math.max(_(h.type,u),h.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):h.element||h.copy)}}}}}),E=0;function S(t,e){this.id=E++,this.type=t,this.data=e}function T(t){return t.replace(/\\\\/g,"\\\\\\\\").replace(/"/g,'\\\\"')}function A(t){return"["+function t(e){if(0===e.length)return[];var n=e.charAt(0),r=e.charAt(e.length-1);if(e.length>1&&n===r&&('"'===n||"'"===n))return['"'+T(e.substr(1,e.length-2))+'"'];var o=/\\[(false|true|null|\\d+|'[^']*'|"[^"]*")\\]/.exec(e);if(o)return t(e.substr(0,o.index)).concat(t(o[1])).concat(t(e.substr(o.index+o[0].length)));var i=e.split(".");if(1===i.length)return['"'+T(e)+'"'];for(var a=[],u=0;u<i.length;++u)a=a.concat(t(i[u]));return a}(t).join("][")+"]"}var I={DynamicVariable:S,define:function(t,e){return new S(t,A(e+""))},isDynamic:function(t){return"function"==typeof t&&!t._reglType||t instanceof S},unbox:function t(e,n){return"function"==typeof e?new S(0,e):"number"==typeof e||"boolean"==typeof e?new S(5,e):Array.isArray(e)?new S(6,e.map((function(e,r){return t(e,n+"["+r+"]")}))):e instanceof S?e:void w(!1,"invalid option type in uniform "+n)},accessor:A},k={next:"function"==typeof requestAnimationFrame?function(t){return requestAnimationFrame(t)}:function(t){return setTimeout(t,16)},cancel:"function"==typeof cancelAnimationFrame?function(t){return cancelAnimationFrame(t)}:clearTimeout},O="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function D(t){return"string"==typeof t?t.split():(w(Array.isArray(t),"invalid extension array"),t)}function R(t){return"string"==typeof t?(w("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(t)):t}function M(t){var n,r,o,i,u,s=t||{},c={},f=[],l=[],h="undefined"==typeof window?1:window.devicePixelRatio,d=!1,p=function(t){t&&w.raise(t)},v=function(){};if("string"==typeof s?(w("undefined"!=typeof document,"selector queries only supported in DOM enviroments"),n=document.querySelector(s),w(n,"invalid query string for element")):"object"===a(s)?"string"==typeof(u=s).nodeName&&"function"==typeof u.appendChild&&"function"==typeof u.getBoundingClientRect?n=s:function(t){return"function"==typeof t.drawArrays||"function"==typeof t.drawElements}(s)?o=(i=s).canvas:(w.constructor(s),"gl"in s?i=s.gl:"canvas"in s?o=R(s.canvas):"container"in s&&(r=R(s.container)),"attributes"in s&&(c=s.attributes,w.type(c,"object","invalid context attributes")),"extensions"in s&&(f=D(s.extensions)),"optionalExtensions"in s&&(l=D(s.optionalExtensions)),"onDone"in s&&(w.type(s.onDone,"function","invalid or missing onDone callback"),p=s.onDone),"profile"in s&&(d=!!s.profile),"pixelRatio"in s&&(h=+s.pixelRatio,w(h>0,"invalid pixel ratio"))):w.raise("invalid arguments to regl"),n&&("canvas"===n.nodeName.toLowerCase()?o=n:r=n),!i){if(!o){w("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments");var m=function(t,n,r){var o,i=document.createElement("canvas");function a(){var n=window.innerWidth,o=window.innerHeight;if(t!==document.body){var a=t.getBoundingClientRect();n=a.right-a.left,o=a.bottom-a.top}i.width=r*n,i.height=r*o,e(i.style,{width:n+"px",height:o+"px"})}return e(i.style,{border:0,margin:0,padding:0,top:0,left:0}),t.appendChild(i),t===document.body&&(i.style.position="absolute",e(t.style,{margin:0,padding:0})),t!==document.body&&"function"==typeof ResizeObserver?(o=new ResizeObserver((function(){setTimeout(a)}))).observe(t):window.addEventListener("resize",a,!1),a(),{canvas:i,onDestroy:function(){o?o.disconnect():window.removeEventListener("resize",a),t.removeChild(i)}}}(r||document.body,0,h);if(!m)return null;o=m.canvas,v=m.onDestroy}void 0===c.premultipliedAlpha&&(c.premultipliedAlpha=!0),i=function(t,e){function n(n){try{return t.getContext(n,e)}catch(t){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}(o,c)}return i?{gl:i,canvas:o,container:r,extensions:f,optionalExtensions:l,pixelRatio:h,profile:d,onDone:p,onDestroy:v}:(v(),p("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function C(t,e){for(var n=Array(t),r=0;r<t;++r)n[r]=e(r);return n}function N(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1}function P(){var t=C(8,(function(){return[]}));function e(e){var n=function(t){for(var e=16;e<=1<<28;e*=16)if(t<=e)return e;return 0}(e),r=t[N(n)>>2];return r.length>0?r.pop():new ArrayBuffer(n)}function n(e){t[N(e.byteLength)>>2].push(e)}return{alloc:e,free:n,allocType:function(t,n){var r=null;switch(t){case 5120:r=new Int8Array(e(n),0,n);break;case 5121:r=new Uint8Array(e(n),0,n);break;case 5122:r=new Int16Array(e(2*n),0,n);break;case 5123:r=new Uint16Array(e(2*n),0,n);break;case 5124:r=new Int32Array(e(4*n),0,n);break;case 5125:r=new Uint32Array(e(4*n),0,n);break;case 5126:r=new Float32Array(e(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r},freeType:function(t){n(t.buffer)}}}var G=P();function j(e){return!!e&&"object"===a(e)&&Array.isArray(e.shape)&&Array.isArray(e.stride)&&"number"==typeof e.offset&&e.shape.length===e.stride.length&&(Array.isArray(e.data)||t(e.data))}G.zero=P();var L=function(t){return Object.keys(t).map((function(e){return t[e]}))},U={shape:function(t){for(var e=[],n=t;n.length;n=n[0])e.push(n.length);return e},flatten:function(t,e,n,r){var o=1;if(e.length)for(var i=0;i<e.length;++i)o*=e[i];else o=0;var a=r||G.allocType(n,o);switch(e.length){case 0:break;case 1:!function(t,e,n){for(var r=0;r<e;++r)n[r]=t[r]}(t,e[0],a);break;case 2:!function(t,e,n,r){for(var o=0,i=0;i<e;++i)for(var a=t[i],u=0;u<n;++u)r[o++]=a[u]}(t,e[0],e[1],a);break;case 3:B(t,e[0],e[1],e[2],a,0);break;default:!function t(e,n,r,o,i){for(var a=1,u=r+1;u<n.length;++u)a*=n[u];var s=n[r];if(n.length-r==4){var c=n[r+1],f=n[r+2],l=n[r+3];for(u=0;u<s;++u)B(e[u],c,f,l,o,i),i+=a}else for(u=0;u<s;++u)t(e[u],n,r+1,o,i),i+=a}(t,e,0,a,0)}return a}};function B(t,e,n,r,o,i){for(var a=i,u=0;u<e;++u)for(var s=t[u],c=0;c<n;++c)for(var f=s[c],l=0;l<r;++l)o[a++]=f[l]}var F={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},z={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},V={dynamic:35048,stream:35040,static:35044},W=U.flatten,X=U.shape,H=[];function q(t){return 0|F[Object.prototype.toString.call(t)]}function Y(t,e){for(var n=0;n<e.length;++n)t[n]=e[n]}function K(t,e,n,r,o,i,a){for(var u=0,s=0;s<n;++s)for(var c=0;c<r;++c)t[u++]=e[o*s+i*c+a]}H[5120]=1,H[5122]=2,H[5124]=4,H[5121]=1,H[5123]=2,H[5125]=4,H[5126]=4;var Z={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Q=new Float32Array(1),J=new Uint32Array(Q.buffer);function $(t){for(var e=G.allocType(5123,t.length),n=0;n<t.length;++n)if(isNaN(t[n]))e[n]=65535;else if(t[n]===1/0)e[n]=31744;else if(t[n]===-1/0)e[n]=64512;else{Q[0]=t[n];var r=J[0],o=r>>>31<<15,i=(r<<1>>>24)-127,a=r>>13&1023;if(i<-24)e[n]=o;else if(i<-14){var u=-14-i;e[n]=o+(a+1024>>u)}else e[n]=i>15?o+31744:o+(i+15<<10)+a}return e}function tt(e){return Array.isArray(e)||t(e)}var et=function(t){return!(t&t-1||!t)},nt=[9984,9986,9985,9987],rt=[0,6409,6410,6407,6408],ot={};function it(t){return"[object "+t+"]"}ot[6409]=ot[6406]=ot[6402]=1,ot[34041]=ot[6410]=2,ot[6407]=ot[35904]=3,ot[6408]=ot[35906]=4;var at=it("HTMLCanvasElement"),ut=it("OffscreenCanvas"),st=it("CanvasRenderingContext2D"),ct=it("ImageBitmap"),ft=it("HTMLImageElement"),lt=it("HTMLVideoElement"),ht=Object.keys(F).concat([at,ut,st,ct,ft,lt]),dt=[];dt[5121]=1,dt[5126]=4,dt[36193]=2,dt[5123]=2,dt[5125]=4;var pt=[];function vt(t){return Array.isArray(t)&&(0===t.length||"number"==typeof t[0])}function mt(t){return!!Array.isArray(t)&&!(0===t.length||!tt(t[0]))}function yt(t){return Object.prototype.toString.call(t)}function gt(t){return yt(t)===at}function bt(t){return yt(t)===ut}function _t(t){if(!t)return!1;var e=yt(t);return ht.indexOf(e)>=0||vt(t)||mt(t)||j(t)}function xt(t){return 0|F[Object.prototype.toString.call(t)]}function wt(t,e){return G.allocType(36193===t.type?5126:t.type,e)}function Et(t,e){36193===t.type?(t.data=$(e),G.freeType(e)):t.data=e}function St(t,e,n,r,o,i){var a;if(a=void 0!==pt[t]?pt[t]:ot[t]*dt[e],i&&(a*=6),o){for(var u=0,s=n;s>=1;)u+=a*s*s,s/=2;return u}return a*n*r}function Tt(n,r,o,i,u,s,c){var f={"don't care":4352,"dont care":4352,nice:4354,fast:4353},l={repeat:10497,clamp:33071,mirror:33648},h={nearest:9728,linear:9729},d=e({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},h),p={none:0,browser:37444},v={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},m={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},y={};r.ext_srgb&&(m.srgb=35904,m.srgba=35906),r.oes_texture_float&&(v.float32=v.float=5126),r.oes_texture_half_float&&(v.float16=v["half float"]=36193),r.webgl_depth_texture&&(e(m,{depth:6402,"depth stencil":34041}),e(v,{uint16:5123,uint32:5125,"depth stencil":34042})),r.webgl_compressed_texture_s3tc&&e(y,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),r.webgl_compressed_texture_atc&&e(y,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),r.webgl_compressed_texture_pvrtc&&e(y,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),r.webgl_compressed_texture_etc1&&(y["rgb etc1"]=36196);var g=Array.prototype.slice.call(n.getParameter(34467));Object.keys(y).forEach((function(t){var e=y[t];g.indexOf(e)>=0&&(m[t]=e)}));var b=Object.keys(m);o.textureFormats=b;var _=[];Object.keys(m).forEach((function(t){var e=m[t];_[e]=t}));var x=[];Object.keys(v).forEach((function(t){var e=v[t];x[e]=t}));var E=[];Object.keys(h).forEach((function(t){E[h[t]]=t}));var S=[];Object.keys(d).forEach((function(t){var e=d[t];S[e]=t}));var T=[];Object.keys(l).forEach((function(t){T[l[t]]=t}));var A=b.reduce((function(t,e){var n=m[e];return 6409===n||6406===n||6409===n||6410===n||6402===n||34041===n||r.ext_srgb&&(35904===n||35906===n)?t[n]=n:32855===n||e.indexOf("rgba")>=0?t[n]=6408:t[n]=6407,t}),{});function I(){this.internalformat=6408,this.format=6408,this.type=5121,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=37444,this.width=0,this.height=0,this.channels=0}function k(t,e){t.internalformat=e.internalformat,t.format=e.format,t.type=e.type,t.compressed=e.compressed,t.premultiplyAlpha=e.premultiplyAlpha,t.flipY=e.flipY,t.unpackAlignment=e.unpackAlignment,t.colorSpace=e.colorSpace,t.width=e.width,t.height=e.height,t.channels=e.channels}function O(t,e){if("object"===a(e)&&e){if("premultiplyAlpha"in e&&(w.type(e.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),t.premultiplyAlpha=e.premultiplyAlpha),"flipY"in e&&(w.type(e.flipY,"boolean","invalid texture flip"),t.flipY=e.flipY),"alignment"in e&&(w.oneOf(e.alignment,[1,2,4,8],"invalid texture unpack alignment"),t.unpackAlignment=e.alignment),"colorSpace"in e&&(w.parameter(e.colorSpace,p,"invalid colorSpace"),t.colorSpace=p[e.colorSpace]),"type"in e){var n=e.type;w(r.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),w(r.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),w(r.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),w.parameter(n,v,"invalid texture type"),t.type=v[n]}var i=t.width,u=t.height,s=t.channels,c=!1;"shape"in e?(w(Array.isArray(e.shape)&&e.shape.length>=2,"shape must be an array"),i=e.shape[0],u=e.shape[1],3===e.shape.length&&(s=e.shape[2],w(s>0&&s<=4,"invalid number of channels"),c=!0),w(i>=0&&i<=o.maxTextureSize,"invalid width"),w(u>=0&&u<=o.maxTextureSize,"invalid height")):("radius"in e&&(i=u=e.radius,w(i>=0&&i<=o.maxTextureSize,"invalid radius")),"width"in e&&(i=e.width,w(i>=0&&i<=o.maxTextureSize,"invalid width")),"height"in e&&(u=e.height,w(u>=0&&u<=o.maxTextureSize,"invalid height")),"channels"in e&&(s=e.channels,w(s>0&&s<=4,"invalid number of channels"),c=!0)),t.width=0|i,t.height=0|u,t.channels=0|s;var f=!1;if("format"in e){var l=e.format;w(r.webgl_depth_texture||!("depth"===l||"depth stencil"===l),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),w.parameter(l,m,"invalid texture format");var h=t.internalformat=m[l];t.format=A[h],l in v&&("type"in e||(t.type=v[l])),l in y&&(t.compressed=!0),f=!0}!c&&f?t.channels=ot[t.format]:c&&!f?t.channels!==rt[t.format]&&(t.format=t.internalformat=rt[t.channels]):f&&c&&w(t.channels===ot[t.format],"number of channels inconsistent with specified format")}}function D(t){n.pixelStorei(37440,t.flipY),n.pixelStorei(37441,t.premultiplyAlpha),n.pixelStorei(37443,t.colorSpace),n.pixelStorei(3317,t.unpackAlignment)}function R(){I.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function M(e,n){var r=null;if(_t(n)?r=n:n&&(w.type(n,"object","invalid pixel data type"),O(e,n),"x"in n&&(e.xOffset=0|n.x),"y"in n&&(e.yOffset=0|n.y),_t(n.data)&&(r=n.data)),w(!e.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){w(!r,"can not specify copy and data field for the same texture");var i=u.viewportWidth,a=u.viewportHeight;e.width=e.width||i-e.xOffset,e.height=e.height||a-e.yOffset,e.needsCopy=!0,w(e.xOffset>=0&&e.xOffset<i&&e.yOffset>=0&&e.yOffset<a&&e.width>0&&e.width<=i&&e.height>0&&e.height<=a,"copy texture read out of bounds")}else if(r){if(t(r))e.channels=e.channels||4,e.data=r,"type"in n||5121!==e.type||(e.type=xt(r));else if(vt(r))e.channels=e.channels||4,function(t,e){var n=e.length;switch(t.type){case 5121:case 5123:case 5125:case 5126:var r=G.allocType(t.type,n);r.set(e),t.data=r;break;case 36193:t.data=$(e);break;default:w.raise("unsupported texture type, must specify a typed array")}}(e,r),e.alignment=1,e.needsFree=!0;else if(j(r)){var s=r.data;Array.isArray(s)||5121!==e.type||(e.type=xt(s));var c,f,l,h,d,p,v=r.shape,m=r.stride;3===v.length?(l=v[2],p=m[2]):(w(2===v.length,"invalid ndarray pixel data, must be 2 or 3D"),l=1,p=1),c=v[0],f=v[1],h=m[0],d=m[1],e.alignment=1,e.width=c,e.height=f,e.channels=l,e.format=e.internalformat=rt[l],e.needsFree=!0,function(t,e,n,r,o,i){for(var a=t.width,u=t.height,s=t.channels,c=wt(t,a*u*s),f=0,l=0;l<u;++l)for(var h=0;h<a;++h)for(var d=0;d<s;++d)c[f++]=e[n*h+r*l+o*d+i];Et(t,c)}(e,s,h,d,p,r.offset)}else if(gt(r)||bt(r)||yt(r)===st)gt(r)||bt(r)?e.element=r:e.element=r.canvas,e.width=e.element.width,e.height=e.element.height,e.channels=4;else if(function(t){return yt(t)===ct}(r))e.element=r,e.width=r.width,e.height=r.height,e.channels=4;else if(function(t){return yt(t)===ft}(r))e.element=r,e.width=r.naturalWidth,e.height=r.naturalHeight,e.channels=4;else if(function(t){return yt(t)===lt}(r))e.element=r,e.width=r.videoWidth,e.height=r.videoHeight,e.channels=4;else if(mt(r)){var y=e.width||r[0].length,g=e.height||r.length,b=e.channels;b=tt(r[0][0])?b||r[0][0].length:b||1;for(var _=U.shape(r),x=1,E=0;E<_.length;++E)x*=_[E];var S=wt(e,x);U.flatten(r,_,"",S),Et(e,S),e.alignment=1,e.width=y,e.height=g,e.channels=b,e.format=e.internalformat=rt[b],e.needsFree=!0}}else e.width=e.width||1,e.height=e.height||1,e.channels=e.channels||4;5126===e.type?w(o.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):36193===e.type&&w(o.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function C(t,e,r){var o=t.element,a=t.data,u=t.internalformat,s=t.format,c=t.type,f=t.width,l=t.height;D(t),o?n.texImage2D(e,r,s,s,c,o):t.compressed?n.compressedTexImage2D(e,r,u,f,l,0,a):t.needsCopy?(i(),n.copyTexImage2D(e,r,s,t.xOffset,t.yOffset,f,l,0)):n.texImage2D(e,r,s,f,l,0,s,c,a||null)}function N(t,e,r,o,a){var u=t.element,s=t.data,c=t.internalformat,f=t.format,l=t.type,h=t.width,d=t.height;D(t),u?n.texSubImage2D(e,a,r,o,f,l,u):t.compressed?n.compressedTexSubImage2D(e,a,r,o,c,h,d,s):t.needsCopy?(i(),n.copyTexSubImage2D(e,a,r,o,t.xOffset,t.yOffset,h,d)):n.texSubImage2D(e,a,r,o,h,d,f,l,s)}var P=[];function B(){return P.pop()||new R}function F(t){t.needsFree&&G.freeType(t.data),R.call(t),P.push(t)}function z(){I.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function V(t,e,n){var r=t.images[0]=B();t.mipmask=1,r.width=t.width=e,r.height=t.height=n,r.channels=t.channels=4}function W(t,e){var n=null;if(_t(e))k(n=t.images[0]=B(),t),M(n,e),t.mipmask=1;else if(O(t,e),Array.isArray(e.mipmap))for(var r=e.mipmap,o=0;o<r.length;++o)k(n=t.images[o]=B(),t),n.width>>=o,n.height>>=o,M(n,r[o]),t.mipmask|=1<<o;else k(n=t.images[0]=B(),t),M(n,e),t.mipmask=1;k(t,t.images[0]),!t.compressed||33776!==t.internalformat&&33777!==t.internalformat&&33778!==t.internalformat&&33779!==t.internalformat||w(t.width%4==0&&t.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function X(t,e){for(var n=t.images,r=0;r<n.length;++r){if(!n[r])return;C(n[r],e,r)}}var H=[];function q(){var t=H.pop()||new z;I.call(t),t.mipmask=0;for(var e=0;e<16;++e)t.images[e]=null;return t}function Y(t){for(var e=t.images,n=0;n<e.length;++n)e[n]&&F(e[n]),e[n]=null;H.push(t)}function K(){this.minFilter=9728,this.magFilter=9728,this.wrapS=33071,this.wrapT=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function Z(t,e){if("min"in e){var n=e.min;w.parameter(n,d),t.minFilter=d[n],nt.indexOf(t.minFilter)>=0&&!("faces"in e)&&(t.genMipmaps=!0)}if("mag"in e){var r=e.mag;w.parameter(r,h),t.magFilter=h[r]}var i=t.wrapS,u=t.wrapT;if("wrap"in e){var s=e.wrap;"string"==typeof s?(w.parameter(s,l),i=u=l[s]):Array.isArray(s)&&(w.parameter(s[0],l),w.parameter(s[1],l),i=l[s[0]],u=l[s[1]])}else{if("wrapS"in e){var c=e.wrapS;w.parameter(c,l),i=l[c]}if("wrapT"in e){var p=e.wrapT;w.parameter(p,l),u=l[p]}}if(t.wrapS=i,t.wrapT=u,"anisotropic"in e){var v=e.anisotropic;w("number"==typeof v&&v>=1&&v<=o.maxAnisotropic,"aniso samples must be between 1 and "),t.anisotropic=e.anisotropic}if("mipmap"in e){var m=!1;switch(a(e.mipmap)){case"string":w.parameter(e.mipmap,f,"invalid mipmap hint"),t.mipmapHint=f[e.mipmap],t.genMipmaps=!0,m=!0;break;case"boolean":m=t.genMipmaps=e.mipmap;break;case"object":w(Array.isArray(e.mipmap),"invalid mipmap type"),t.genMipmaps=!1,m=!0;break;default:w.raise("invalid mipmap type")}m&&!("min"in e)&&(t.minFilter=9984)}}function Q(t,e){n.texParameteri(e,10241,t.minFilter),n.texParameteri(e,10240,t.magFilter),n.texParameteri(e,10242,t.wrapS),n.texParameteri(e,10243,t.wrapT),r.ext_texture_filter_anisotropic&&n.texParameteri(e,34046,t.anisotropic),t.genMipmaps&&(n.hint(33170,t.mipmapHint),n.generateMipmap(e))}var J=0,it={},at=o.maxTextureUnits,ut=Array(at).map((function(){return null}));function ht(t){I.call(this),this.mipmask=0,this.internalformat=6408,this.id=J++,this.refCount=1,this.target=t,this.texture=n.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new K,c.profile&&(this.stats={size:0})}function dt(t){n.activeTexture(33984),n.bindTexture(t.target,t.texture)}function pt(){var t=ut[0];t?n.bindTexture(t.target,t.texture):n.bindTexture(3553,null)}function Tt(t){var e=t.texture;w(e,"must not double destroy texture");var r=t.unit,o=t.target;r>=0&&(n.activeTexture(33984+r),n.bindTexture(o,null),ut[r]=null),n.deleteTexture(e),t.texture=null,t.params=null,t.pixels=null,t.refCount=0,delete it[t.id],s.textureCount--}return e(ht.prototype,{bind:function(){this.bindCount+=1;var t=this.unit;if(t<0){for(var e=0;e<at;++e){var r=ut[e];if(r){if(r.bindCount>0)continue;r.unit=-1}ut[e]=this,t=e;break}t>=at&&w.raise("insufficient number of texture units"),c.profile&&s.maxTextureUnits<t+1&&(s.maxTextureUnits=t+1),this.unit=t,n.activeTexture(33984+t),n.bindTexture(this.target,this.texture)}return t},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Tt(this)}}),c.profile&&(s.getTotalTextureSize=function(){var t=0;return Object.keys(it).forEach((function(e){t+=it[e].stats.size})),t}),{create2D:function(t,e){var r=new ht(3553);function i(t,e){var n=r.texInfo;K.call(n);var a=q();return"number"==typeof t?V(a,0|t,"number"==typeof e?0|e:0|t):t?(w.type(t,"object","invalid arguments to regl.texture"),Z(n,t),W(a,t)):V(a,1,1),n.genMipmaps&&(a.mipmask=(a.width<<1)-1),r.mipmask=a.mipmask,k(r,a),w.texture2D(n,a,o),r.internalformat=a.internalformat,i.width=a.width,i.height=a.height,dt(r),X(a,3553),Q(n,3553),pt(),Y(a),c.profile&&(r.stats.size=St(r.internalformat,r.type,a.width,a.height,n.genMipmaps,!1)),i.format=_[r.internalformat],i.type=x[r.type],i.mag=E[n.magFilter],i.min=S[n.minFilter],i.wrapS=T[n.wrapS],i.wrapT=T[n.wrapT],i}return it[r.id]=r,s.textureCount++,i(t,e),i.subimage=function(t,e,n,o){w(!!t,"must specify image data");var a=0|e,u=0|n,s=0|o,c=B();return k(c,r),c.width=0,c.height=0,M(c,t),c.width=c.width||(r.width>>s)-a,c.height=c.height||(r.height>>s)-u,w(r.type===c.type&&r.format===c.format&&r.internalformat===c.internalformat,"incompatible format for texture.subimage"),w(a>=0&&u>=0&&a+c.width<=r.width&&u+c.height<=r.height,"texture.subimage write out of bounds"),w(r.mipmask&1<<s,"missing mipmap data"),w(c.data||c.element||c.needsCopy,"missing image data"),dt(r),N(c,3553,a,u,s),pt(),F(c),i},i.resize=function(t,e){var o=0|t,a=0|e||o;if(o===r.width&&a===r.height)return i;i.width=r.width=o,i.height=r.height=a,dt(r);for(var u=0;r.mipmask>>u;++u){var s=o>>u,f=a>>u;if(!s||!f)break;n.texImage2D(3553,u,r.format,s,f,0,r.format,r.type,null)}return pt(),c.profile&&(r.stats.size=St(r.internalformat,r.type,o,a,!1,!1)),i},i._reglType="texture2d",i._texture=r,c.profile&&(i.stats=r.stats),i.destroy=function(){r.decRef()},i},createCube:function(t,e,r,i,u,f){var l=new ht(34067);it[l.id]=l,s.cubeCount++;var h=new Array(6);function d(t,e,n,r,i,u){var s,f=l.texInfo;for(K.call(f),s=0;s<6;++s)h[s]=q();if("number"!=typeof t&&t)if("object"===a(t))if(e)W(h[0],t),W(h[1],e),W(h[2],n),W(h[3],r),W(h[4],i),W(h[5],u);else if(Z(f,t),O(l,t),"faces"in t){var p=t.faces;for(w(Array.isArray(p)&&6===p.length,"cube faces must be a length 6 array"),s=0;s<6;++s)w("object"===a(p[s])&&!!p[s],"invalid input for cube map face"),k(h[s],l),W(h[s],p[s])}else for(s=0;s<6;++s)W(h[s],t);else w.raise("invalid arguments to cube map");else{var v=0|t||1;for(s=0;s<6;++s)V(h[s],v,v)}for(k(l,h[0]),o.npotTextureCube||w(et(l.width)&&et(l.height),"your browser does not support non power or two texture dimensions"),f.genMipmaps?l.mipmask=(h[0].width<<1)-1:l.mipmask=h[0].mipmask,w.textureCube(l,f,h,o),l.internalformat=h[0].internalformat,d.width=h[0].width,d.height=h[0].height,dt(l),s=0;s<6;++s)X(h[s],34069+s);for(Q(f,34067),pt(),c.profile&&(l.stats.size=St(l.internalformat,l.type,d.width,d.height,f.genMipmaps,!0)),d.format=_[l.internalformat],d.type=x[l.type],d.mag=E[f.magFilter],d.min=S[f.minFilter],d.wrapS=T[f.wrapS],d.wrapT=T[f.wrapT],s=0;s<6;++s)Y(h[s]);return d}return d(t,e,r,i,u,f),d.subimage=function(t,e,n,r,o){w(!!e,"must specify image data"),w("number"==typeof t&&t===(0|t)&&t>=0&&t<6,"invalid face");var i=0|n,a=0|r,u=0|o,s=B();return k(s,l),s.width=0,s.height=0,M(s,e),s.width=s.width||(l.width>>u)-i,s.height=s.height||(l.height>>u)-a,w(l.type===s.type&&l.format===s.format&&l.internalformat===s.internalformat,"incompatible format for texture.subimage"),w(i>=0&&a>=0&&i+s.width<=l.width&&a+s.height<=l.height,"texture.subimage write out of bounds"),w(l.mipmask&1<<u,"missing mipmap data"),w(s.data||s.element||s.needsCopy,"missing image data"),dt(l),N(s,34069+t,i,a,u),pt(),F(s),d},d.resize=function(t){var e=0|t;if(e!==l.width){d.width=l.width=e,d.height=l.height=e,dt(l);for(var r=0;r<6;++r)for(var o=0;l.mipmask>>o;++o)n.texImage2D(34069+r,o,l.format,e>>o,e>>o,0,l.format,l.type,null);return pt(),c.profile&&(l.stats.size=St(l.internalformat,l.type,d.width,d.height,!1,!0)),d}},d._reglType="textureCube",d._texture=l,c.profile&&(d.stats=l.stats),d.destroy=function(){l.decRef()},d},clear:function(){for(var t=0;t<at;++t)n.activeTexture(33984+t),n.bindTexture(3553,null),ut[t]=null;L(it).forEach(Tt),s.cubeCount=0,s.textureCount=0},getTexture:function(t){return null},restore:function(){for(var t=0;t<at;++t){var e=ut[t];e&&(e.bindCount=0,e.unit=-1,ut[t]=null)}L(it).forEach((function(t){t.texture=n.createTexture(),n.bindTexture(t.target,t.texture);for(var e=0;e<32;++e)if(0!=(t.mipmask&1<<e))if(3553===t.target)n.texImage2D(3553,e,t.internalformat,t.width>>e,t.height>>e,0,t.internalformat,t.type,null);else for(var r=0;r<6;++r)n.texImage2D(34069+r,e,t.internalformat,t.width>>e,t.height>>e,0,t.internalformat,t.type,null);Q(t.texInfo,t.target)}))},refresh:function(){for(var t=0;t<at;++t){var e=ut[t];e&&(e.bindCount=0,e.unit=-1,ut[t]=null),n.activeTexture(33984+t),n.bindTexture(3553,null),n.bindTexture(34067,null)}}}}pt[32854]=2,pt[32855]=2,pt[36194]=2,pt[34041]=4,pt[33776]=.5,pt[33777]=.5,pt[33778]=1,pt[33779]=1,pt[35986]=.5,pt[35987]=1,pt[34798]=1,pt[35840]=.5,pt[35841]=.25,pt[35842]=.5,pt[35843]=.25,pt[36196]=.5;var At=[];function It(t,e,n){return At[t]*e*n}At[32854]=2,At[32855]=2,At[36194]=2,At[33189]=2,At[36168]=1,At[34041]=4,At[35907]=4,At[34836]=16,At[34842]=8,At[34843]=6;var kt=[6407,6408],Ot=[];Ot[6408]=4,Ot[6407]=3;var Dt=[];Dt[5121]=1,Dt[5126]=4,Dt[36193]=2;var Rt=[32854,32855,36194,35907,34842,34843,34836],Mt={};function Ct(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.offset=0,this.stride=0,this.divisor=0}function Nt(e,n,r,o,i,a,u){function s(s){var c;null===n.next?(w(i.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),c=5121):(w(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),c=n.next.colorAttachments[0].texture._texture.type,a.oes_texture_float?(w(5121===c||5126===c,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),5126===c&&w(u.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):w(5121===c,"Reading from a framebuffer is only allowed for the type 'uint8'"));var f=0,l=0,h=o.framebufferWidth,d=o.framebufferHeight,p=null;t(s)?p=s:s&&(w.type(s,"object","invalid arguments to regl.read()"),f=0|s.x,l=0|s.y,w(f>=0&&f<o.framebufferWidth,"invalid x offset for regl.read"),w(l>=0&&l<o.framebufferHeight,"invalid y offset for regl.read"),h=0|(s.width||o.framebufferWidth-f),d=0|(s.height||o.framebufferHeight-l),p=s.data||null),p&&(5121===c?w(p instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):5126===c&&w(p instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),w(h>0&&h+f<=o.framebufferWidth,"invalid width for read pixels"),w(d>0&&d+l<=o.framebufferHeight,"invalid height for read pixels"),r();var v=h*d*4;return p||(5121===c?p=new Uint8Array(v):5126===c&&(p=p||new Float32Array(v))),w.isTypedArray(p,"data buffer for regl.read() must be a typedarray"),w(p.byteLength>=v,"data buffer for regl.read() too small"),e.pixelStorei(3333,4),e.readPixels(f,l,h,d,6408,c,p),p}return function(t){return t&&"framebuffer"in t?function(t){var e;return n.setFBO({framebuffer:t.framebuffer},(function(){e=s(t)})),e}(t):s(t)}}function Pt(t){return Array.prototype.slice.call(t)}function Gt(t){return Pt(t).join("")}Mt[36053]="complete",Mt[36054]="incomplete attachment",Mt[36057]="incomplete dimensions",Mt[36055]="incomplete, missing attachment",Mt[36061]="unsupported";var jt="xyzw".split(""),Lt="profile",Ut="framebuffer",Bt="vert",Ft="frag",zt="elements",Vt="primitive",Wt="count",Xt="offset",Ht="instances",qt="vao",Yt=Ut+"Width",Kt=Ut+"Height",Zt=["blend.func","blend.equation","stencil.func","stencil.opFront","stencil.opBack","sample.coverage","viewport","scissor.box","polygonOffset.offset"],Qt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Jt=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],$t={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},te={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},ee={frag:35632,vert:35633},ne={cw:2304,ccw:2305};function re(e){return Array.isArray(e)||t(e)||j(e)}function oe(t){return t.sort((function(t,e){return"viewport"===t?-1:"viewport"===e?1:t<e?-1:1}))}function ie(t,e,n,r){this.thisDep=t,this.contextDep=e,this.propDep=n,this.append=r}function ae(t){return t&&!(t.thisDep||t.contextDep||t.propDep)}function ue(t){return new ie(!1,!1,!1,t)}function se(t,e){var n=t.type;if(0===n){var r=t.data.length;return new ie(!0,r>=1,r>=2,e)}if(4===n){var o=t.data;return new ie(o.thisDep,o.contextDep,o.propDep,e)}if(5===n)return new ie(!1,!1,!1,e);if(6===n){for(var i=!1,a=!1,u=!1,s=0;s<t.data.length;++s){var c=t.data[s];if(1===c.type)u=!0;else if(2===c.type)a=!0;else if(3===c.type)i=!0;else if(0===c.type){i=!0;var f=c.data;f>=1&&(a=!0),f>=2&&(u=!0)}else 4===c.type&&(i=i||c.data.thisDep,a=a||c.data.contextDep,u=u||c.data.propDep)}return new ie(i,a,u,e)}return new ie(3===n,2===n,1===n,e)}var ce=new ie(!1,!1,!1,(function(){}));function fe(t,n,r,o,i,u,s,c,f,l,h,d,p,v,m){var y=l.Record,g={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(g.min=32775,g.max=32776);var b=r.angle_instanced_arrays,_=r.webgl_draw_buffers,x={dirty:!0,profile:m.profile},E={},S=[],T={},A={};function k(t){return t.replace(".","_")}function O(t,e,n){var r=k(t);S.push(t),E[r]=x[r]=!!n,T[r]=e}function D(t,e,n){var r=k(t);S.push(t),Array.isArray(n)?(x[r]=n.slice(),E[r]=n.slice()):x[r]=E[r]=n,A[r]=e}O("dither",3024),O("blend.enable",3042),D("blend.color","blendColor",[0,0,0,0]),D("blend.equation","blendEquationSeparate",[32774,32774]),D("blend.func","blendFuncSeparate",[1,0,1,0]),O("depth.enable",2929,!0),D("depth.func","depthFunc",513),D("depth.range","depthRange",[0,1]),D("depth.mask","depthMask",!0),D("colorMask","colorMask",[!0,!0,!0,!0]),O("cull.enable",2884),D("cull.face","cullFace",1029),D("frontFace","frontFace",2305),D("lineWidth","lineWidth",1),O("polygonOffset.enable",32823),D("polygonOffset.offset","polygonOffset",[0,0]),O("sample.alpha",32926),O("sample.enable",32928),D("sample.coverage","sampleCoverage",[1,!1]),O("stencil.enable",2960),D("stencil.mask","stencilMask",-1),D("stencil.func","stencilFunc",[519,0,-1]),D("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),D("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),O("scissor.enable",3089),D("scissor.box","scissor",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]),D("viewport","viewport",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]);var R={gl:t,context:p,strings:n,next:E,current:x,draw:d,elements:u,buffer:i,shader:h,attributes:l.state,vao:l,uniforms:f,framebuffer:c,extensions:r,timer:v,isBufferArgs:re},M={primTypes:Z,compareFuncs:$t,blendFuncs:Qt,blendEquations:g,stencilOps:te,glTypes:z,orientationType:ne};w.optional((function(){R.isArrayLike=tt})),_&&(M.backBuffer=[1029],M.drawBuffer=C(o.maxDrawbuffers,(function(t){return 0===t?[0]:C(t,(function(t){return 36064+t}))})));var N=0;function P(){var t=function(){var t=0,n=[],r=[];function o(){var n=[],r=[];return e((function(){n.push.apply(n,Pt(arguments))}),{def:function(){var e="v"+t++;return r.push(e),arguments.length>0&&(n.push(e,"="),n.push.apply(n,Pt(arguments)),n.push(";")),e},toString:function(){return Gt([r.length>0?"var "+r.join(",")+";":"",Gt(n)])}})}function i(){var t=o(),n=o(),r=t.toString,i=n.toString;function a(e,r){n(e,r,"=",t.def(e,r),";")}return e((function(){t.apply(t,Pt(arguments))}),{def:t.def,entry:t,exit:n,save:a,set:function(e,n,r){a(e,n),t(e,n,"=",r,";")},toString:function(){return r()+i()}})}var a=o(),u={};return{global:a,link:function(e){for(var o=0;o<r.length;++o)if(r[o]===e)return n[o];var i="g"+t++;return n.push(i),r.push(e),i},block:o,proc:function(t,n){var r=[];function o(){var t="a"+r.length;return r.push(t),t}n=n||0;for(var a=0;a<n;++a)o();var s=i(),c=s.toString;return u[t]=e(s,{arg:o,toString:function(){return Gt(["function(",r.join(),"){",c(),"}"])}})},scope:i,cond:function(){var t=Gt(arguments),n=i(),r=i(),o=n.toString,a=r.toString;return e(n,{then:function(){return n.apply(n,Pt(arguments)),this},else:function(){return r.apply(r,Pt(arguments)),this},toString:function(){var e=a();return e&&(e="else{"+e+"}"),Gt(["if(",t,"){",o(),"}",e])}})},compile:function(){var t=['"use strict";',a,"return {"];Object.keys(u).forEach((function(e){t.push('"',e,'":',u[e].toString(),",")})),t.push("}");var e=Gt(t).replace(/;/g,";\\n").replace(/}/g,"}\\n").replace(/{/g,"{\\n");return Function.apply(null,n.concat(e)).apply(null,r)}}}(),r=t.link,o=t.global;t.id=N++,t.batchId="0";var i=r(R),a=t.shared={props:"a0"};Object.keys(R).forEach((function(t){a[t]=o.def(i,".",t)})),w.optional((function(){t.CHECK=r(w),t.commandStr=w.guessCommand(),t.command=r(t.commandStr),t.assert=function(t,e,n){t("if(!(",e,"))",this.CHECK,".commandRaise(",r(n),",",this.command,");")},M.invalidBlendCombinations=Jt}));var u=t.next={},s=t.current={};Object.keys(A).forEach((function(t){Array.isArray(x[t])&&(u[t]=o.def(a.next,".",t),s[t]=o.def(a.current,".",t))}));var c=t.constants={};Object.keys(M).forEach((function(t){c[t]=o.def(JSON.stringify(M[t]))})),t.invoke=function(e,n){switch(n.type){case 0:var o=["this",a.context,a.props,t.batchId];return e.def(r(n.data),".call(",o.slice(0,Math.max(n.data.length+1,4)),")");case 1:return e.def(a.props,n.data);case 2:return e.def(a.context,n.data);case 3:return e.def("this",n.data);case 4:return n.data.append(t,e),n.data.ref;case 5:return n.data.toString();case 6:return n.data.map((function(n){return t.invoke(e,n)}))}},t.attribCache={};var f={};return t.scopeAttrib=function(t){var e=n.id(t);if(e in f)return f[e];var o=l.scope[e];return o||(o=l.scope[e]=new y),f[e]=r(o)},t}function G(t,e,s,f,d){var p=t.static,v=t.dynamic;w.optional((function(){var t=[Ut,Bt,Ft,zt,Vt,Xt,Wt,Ht,Lt,qt].concat(S);function e(e){Object.keys(e).forEach((function(e){w.command(t.indexOf(e)>=0,'unknown parameter "'+e+'"',d.commandStr)}))}e(p),e(v)}));var m=function(t,e){var n=t.static;if("string"==typeof n[Ft]&&"string"==typeof n[Bt]){if(Object.keys(e.dynamic).length>0)return null;var r=e.static,o=Object.keys(r);if(o.length>0&&"number"==typeof r[o[0]]){for(var i=[],a=0;a<o.length;++a)w("number"==typeof r[o[a]],"must specify all vertex attribute locations when using vaos"),i.push([0|r[o[a]],o[a]]);return i}}return null}(t,e),_=function(t,e){var n=t.static,r=t.dynamic;if(Ut in n){var o=n[Ut];return o?(o=c.getFramebuffer(o),w.command(o,"invalid framebuffer object"),ue((function(t,e){var n=t.link(o),r=t.shared;e.set(r.framebuffer,".next",n);var i=r.context;return e.set(i,"."+Yt,n+".width"),e.set(i,"."+Kt,n+".height"),n}))):ue((function(t,e){var n=t.shared;e.set(n.framebuffer,".next","null");var r=n.context;return e.set(r,"."+Yt,r+".drawingBufferWidth"),e.set(r,"."+Kt,r+".drawingBufferHeight"),"null"}))}if(Ut in r){var i=r[Ut];return se(i,(function(t,e){var n=t.invoke(e,i),r=t.shared,o=r.framebuffer,a=e.def(o,".getFramebuffer(",n,")");w.optional((function(){t.assert(e,"!"+n+"||"+a,"invalid framebuffer object")})),e.set(o,".next",a);var u=r.context;return e.set(u,"."+Yt,a+"?"+a+".width:"+u+".drawingBufferWidth"),e.set(u,"."+Kt,a+"?"+a+".height:"+u+".drawingBufferHeight"),a}))}return null}(t),x=function(t,e,n){var r=t.static,o=t.dynamic;function i(t){if(t in r){var i=r[t];w.commandType(i,"object","invalid "+t,n.commandStr);var a,u,s=!0,c=0|i.x,f=0|i.y;return"width"in i?(a=0|i.width,w.command(a>=0,"invalid "+t,n.commandStr)):s=!1,"height"in i?(u=0|i.height,w.command(u>=0,"invalid "+t,n.commandStr)):s=!1,new ie(!s&&e&&e.thisDep,!s&&e&&e.contextDep,!s&&e&&e.propDep,(function(t,e){var n=t.shared.context,r=a;"width"in i||(r=e.def(n,".",Yt,"-",c));var o=u;return"height"in i||(o=e.def(n,".",Kt,"-",f)),[c,f,r,o]}))}if(t in o){var l=o[t],h=se(l,(function(e,n){var r=e.invoke(n,l);w.optional((function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+t)}));var o=e.shared.context,i=n.def(r,".x|0"),a=n.def(r,".y|0"),u=n.def('"width" in ',r,"?",r,".width|0:","(",o,".",Yt,"-",i,")"),s=n.def('"height" in ',r,"?",r,".height|0:","(",o,".",Kt,"-",a,")");return w.optional((function(){e.assert(n,u+">=0&&"+s+">=0","invalid "+t)})),[i,a,u,s]}));return e&&(h.thisDep=h.thisDep||e.thisDep,h.contextDep=h.contextDep||e.contextDep,h.propDep=h.propDep||e.propDep),h}return e?new ie(e.thisDep,e.contextDep,e.propDep,(function(t,e){var n=t.shared.context;return[0,0,e.def(n,".",Yt),e.def(n,".",Kt)]})):null}var a=i("viewport");if(a){var u=a;a=new ie(a.thisDep,a.contextDep,a.propDep,(function(t,e){var n=u.append(t,e),r=t.shared.context;return e.set(r,".viewportWidth",n[2]),e.set(r,".viewportHeight",n[3]),n}))}return{viewport:a,scissor_box:i("scissor.box")}}(t,_,d),E=function(t,e){var n=t.static,r=t.dynamic,o=function(){if(zt in n){var t=n[zt];re(t)?t=u.getElements(u.create(t,!0)):t&&(t=u.getElements(t),w.command(t,"invalid elements",e.commandStr));var o=ue((function(e,n){if(t){var r=e.link(t);return e.ELEMENTS=r,r}return e.ELEMENTS=null,null}));return o.value=t,o}if(zt in r){var i=r[zt];return se(i,(function(t,e){var n=t.shared,r=n.isBufferArgs,o=n.elements,a=t.invoke(e,i),u=e.def("null"),s=e.def(r,"(",a,")"),c=t.cond(s).then(u,"=",o,".createStream(",a,");").else(u,"=",o,".getElements(",a,");");return w.optional((function(){t.assert(c.else,"!"+a+"||"+u,"invalid elements")})),e.entry(c),e.exit(t.cond(s).then(o,".destroyStream(",u,");")),t.ELEMENTS=u,u}))}return null}();function i(t,i){if(t in n){var a=0|n[t];return w.command(!i||a>=0,"invalid "+t,e.commandStr),ue((function(t,e){return i&&(t.OFFSET=a),a}))}if(t in r){var u=r[t];return se(u,(function(e,n){var r=e.invoke(n,u);return i&&(e.OFFSET=r,w.optional((function(){e.assert(n,r+">=0","invalid "+t)}))),r}))}return i&&o?ue((function(t,e){return t.OFFSET="0",0})):null}var a=i(Xt,!0);return{elements:o,primitive:function(){if(Vt in n){var t=n[Vt];return w.commandParameter(t,Z,"invalid primitve",e.commandStr),ue((function(e,n){return Z[t]}))}if(Vt in r){var i=r[Vt];return se(i,(function(t,e){var n=t.constants.primTypes,r=t.invoke(e,i);return w.optional((function(){t.assert(e,r+" in "+n,"invalid primitive, must be one of "+Object.keys(Z))})),e.def(n,"[",r,"]")}))}return o?ae(o)?o.value?ue((function(t,e){return e.def(t.ELEMENTS,".primType")})):ue((function(){return 4})):new ie(o.thisDep,o.contextDep,o.propDep,(function(t,e){var n=t.ELEMENTS;return e.def(n,"?",n,".primType:",4)})):null}(),count:function(){if(Wt in n){var t=0|n[Wt];return w.command("number"==typeof t&&t>=0,"invalid vertex count",e.commandStr),ue((function(){return t}))}if(Wt in r){var i=r[Wt];return se(i,(function(t,e){var n=t.invoke(e,i);return w.optional((function(){t.assert(e,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")})),n}))}if(o){if(ae(o)){if(o)return a?new ie(a.thisDep,a.contextDep,a.propDep,(function(t,e){var n=e.def(t.ELEMENTS,".vertCount-",t.OFFSET);return w.optional((function(){t.assert(e,n+">=0","invalid vertex offset/element buffer too small")})),n})):ue((function(t,e){return e.def(t.ELEMENTS,".vertCount")}));var u=ue((function(){return-1}));return w.optional((function(){u.MISSING=!0})),u}var s=new ie(o.thisDep||a.thisDep,o.contextDep||a.contextDep,o.propDep||a.propDep,(function(t,e){var n=t.ELEMENTS;return t.OFFSET?e.def(n,"?",n,".vertCount-",t.OFFSET,":-1"):e.def(n,"?",n,".vertCount:-1")}));return w.optional((function(){s.DYNAMIC=!0})),s}return null}(),instances:i(Ht,!1),offset:a}}(t,d),T=function(t,e){var n=t.static,r=t.dynamic,i={};return S.forEach((function(t){var u=k(t);function s(e,o){if(t in n){var a=e(n[t]);i[u]=ue((function(){return a}))}else if(t in r){var s=r[t];i[u]=se(s,(function(t,e){return o(t,e,t.invoke(e,s))}))}}switch(t){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return s((function(n){return w.commandType(n,"boolean",t,e.commandStr),n}),(function(e,n,r){return w.optional((function(){e.assert(n,"typeof "+r+'==="boolean"',"invalid flag "+t,e.commandStr)})),r}));case"depth.func":return s((function(n){return w.commandParameter(n,$t,"invalid "+t,e.commandStr),$t[n]}),(function(e,n,r){var o=e.constants.compareFuncs;return w.optional((function(){e.assert(n,r+" in "+o,"invalid "+t+", must be one of "+Object.keys($t))})),n.def(o,"[",r,"]")}));case"depth.range":return s((function(t){return w.command(tt(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[0]<=t[1],"depth range is 2d array",e.commandStr),t}),(function(t,e,n){return w.optional((function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")})),[e.def("+",n,"[0]"),e.def("+",n,"[1]")]}));case"blend.func":return s((function(t){w.commandType(t,"object","blend.func",e.commandStr);var n="srcRGB"in t?t.srcRGB:t.src,r="srcAlpha"in t?t.srcAlpha:t.src,o="dstRGB"in t?t.dstRGB:t.dst,i="dstAlpha"in t?t.dstAlpha:t.dst;return w.commandParameter(n,Qt,u+".srcRGB",e.commandStr),w.commandParameter(r,Qt,u+".srcAlpha",e.commandStr),w.commandParameter(o,Qt,u+".dstRGB",e.commandStr),w.commandParameter(i,Qt,u+".dstAlpha",e.commandStr),w.command(-1===Jt.indexOf(n+", "+o),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+o+")",e.commandStr),[Qt[n],Qt[o],Qt[r],Qt[i]]}),(function(e,n,r){var o=e.constants.blendFuncs;function i(i,a){var u=n.def('"',i,a,'" in ',r,"?",r,".",i,a,":",r,".",i);return w.optional((function(){e.assert(n,u+" in "+o,"invalid "+t+"."+i+a+", must be one of "+Object.keys(Qt))})),u}w.optional((function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")}));var a=i("src","RGB"),u=i("dst","RGB");w.optional((function(){var t=e.constants.invalidBlendCombinations;e.assert(n,t+".indexOf("+a+'+", "+'+u+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var s=n.def(o,"[",a,"]"),c=n.def(o,"[",i("src","Alpha"),"]");return[s,n.def(o,"[",u,"]"),c,n.def(o,"[",i("dst","Alpha"),"]")]}));case"blend.equation":return s((function(n){return"string"==typeof n?(w.commandParameter(n,g,"invalid "+t,e.commandStr),[g[n],g[n]]):"object"===a(n)?(w.commandParameter(n.rgb,g,t+".rgb",e.commandStr),w.commandParameter(n.alpha,g,t+".alpha",e.commandStr),[g[n.rgb],g[n.alpha]]):void w.commandRaise("invalid blend.equation",e.commandStr)}),(function(e,n,r){var o=e.constants.blendEquations,i=n.def(),a=n.def(),u=e.cond("typeof ",r,'==="string"');return w.optional((function(){function n(t,n,r){e.assert(t,r+" in "+o,"invalid "+n+", must be one of "+Object.keys(g))}n(u.then,t,r),e.assert(u.else,r+"&&typeof "+r+'==="object"',"invalid "+t),n(u.else,t+".rgb",r+".rgb"),n(u.else,t+".alpha",r+".alpha")})),u.then(i,"=",a,"=",o,"[",r,"];"),u.else(i,"=",o,"[",r,".rgb];",a,"=",o,"[",r,".alpha];"),n(u),[i,a]}));case"blend.color":return s((function(t){return w.command(tt(t)&&4===t.length,"blend.color must be a 4d array",e.commandStr),C(4,(function(e){return+t[e]}))}),(function(t,e,n){return w.optional((function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")})),C(4,(function(t){return e.def("+",n,"[",t,"]")}))}));case"stencil.mask":return s((function(t){return w.commandType(t,"number",u,e.commandStr),0|t}),(function(t,e,n){return w.optional((function(){t.assert(e,"typeof "+n+'==="number"',"invalid stencil.mask")})),e.def(n,"|0")}));case"stencil.func":return s((function(n){w.commandType(n,"object",u,e.commandStr);var r=n.cmp||"keep",o=n.ref||0,i="mask"in n?n.mask:-1;return w.commandParameter(r,$t,t+".cmp",e.commandStr),w.commandType(o,"number",t+".ref",e.commandStr),w.commandType(i,"number",t+".mask",e.commandStr),[$t[r],o,i]}),(function(t,e,n){var r=t.constants.compareFuncs;return w.optional((function(){function o(){t.assert(e,Array.prototype.join.call(arguments,""),"invalid stencil.func")}o(n+"&&typeof ",n,'==="object"'),o('!("cmp" in ',n,")||(",n,".cmp in ",r,")")})),[e.def('"cmp" in ',n,"?",r,"[",n,".cmp]",":",7680),e.def(n,".ref|0"),e.def('"mask" in ',n,"?",n,".mask|0:-1")]}));case"stencil.opFront":case"stencil.opBack":return s((function(n){w.commandType(n,"object",u,e.commandStr);var r=n.fail||"keep",o=n.zfail||"keep",i=n.zpass||"keep";return w.commandParameter(r,te,t+".fail",e.commandStr),w.commandParameter(o,te,t+".zfail",e.commandStr),w.commandParameter(i,te,t+".zpass",e.commandStr),["stencil.opBack"===t?1029:1028,te[r],te[o],te[i]]}),(function(e,n,r){var o=e.constants.stencilOps;function i(i){return w.optional((function(){e.assert(n,'!("'+i+'" in '+r+")||("+r+"."+i+" in "+o+")","invalid "+t+"."+i+", must be one of "+Object.keys(te))})),n.def('"',i,'" in ',r,"?",o,"[",r,".",i,"]:",7680)}return w.optional((function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+t)})),["stencil.opBack"===t?1029:1028,i("fail"),i("zfail"),i("zpass")]}));case"polygonOffset.offset":return s((function(t){w.commandType(t,"object",u,e.commandStr);var n=0|t.factor,r=0|t.units;return w.commandType(n,"number",u+".factor",e.commandStr),w.commandType(r,"number",u+".units",e.commandStr),[n,r]}),(function(e,n,r){return w.optional((function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+t)})),[n.def(r,".factor|0"),n.def(r,".units|0")]}));case"cull.face":return s((function(t){var n=0;return"front"===t?n=1028:"back"===t&&(n=1029),w.command(!!n,u,e.commandStr),n}),(function(t,e,n){return w.optional((function(){t.assert(e,n+'==="front"||'+n+'==="back"',"invalid cull.face")})),e.def(n,'==="front"?',1028,":",1029)}));case"lineWidth":return s((function(t){return w.command("number"==typeof t&&t>=o.lineWidthDims[0]&&t<=o.lineWidthDims[1],"invalid line width, must be a positive number between "+o.lineWidthDims[0]+" and "+o.lineWidthDims[1],e.commandStr),t}),(function(t,e,n){return w.optional((function(){t.assert(e,"typeof "+n+'==="number"&&'+n+">="+o.lineWidthDims[0]+"&&"+n+"<="+o.lineWidthDims[1],"invalid line width")})),n}));case"frontFace":return s((function(t){return w.commandParameter(t,ne,u,e.commandStr),ne[t]}),(function(t,e,n){return w.optional((function(){t.assert(e,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),e.def(n+'==="cw"?2304:2305')}));case"colorMask":return s((function(t){return w.command(tt(t)&&4===t.length,"color.mask must be length 4 array",e.commandStr),t.map((function(t){return!!t}))}),(function(t,e,n){return w.optional((function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")})),C(4,(function(t){return"!!"+n+"["+t+"]"}))}));case"sample.coverage":return s((function(t){w.command("object"===a(t)&&t,u,e.commandStr);var n="value"in t?t.value:1,r=!!t.invert;return w.command("number"==typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",e.commandStr),[n,r]}),(function(t,e,n){return w.optional((function(){t.assert(e,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")})),[e.def('"value" in ',n,"?+",n,".value:1"),e.def("!!",n,".invert")]}))}})),i}(t,d),A=function(t,e,r){var o=t.static,i=t.dynamic;function a(t){if(t in o){var e=n.id(o[t]);w.optional((function(){h.shader(ee[t],e,w.guessCommand())}));var r=ue((function(){return e}));return r.id=e,r}if(t in i){var a=i[t];return se(a,(function(e,n){var r=e.invoke(n,a),o=n.def(e.shared.strings,".id(",r,")");return w.optional((function(){n(e.shared.shader,".shader(",ee[t],",",o,",",e.command,");")})),o}))}return null}var u,s=a(Ft),c=a(Bt),f=null;return ae(s)&&ae(c)?(f=h.program(c.id,s.id,null,r),u=ue((function(t,e){return t.link(f)}))):u=new ie(s&&s.thisDep||c&&c.thisDep,s&&s.contextDep||c&&c.contextDep,s&&s.propDep||c&&c.propDep,(function(t,e){var n,r=t.shared.shader;n=s?s.append(t,e):e.def(r,".",Ft);var o=r+".program("+(c?c.append(t,e):e.def(r,".",Bt))+","+n;return w.optional((function(){o+=","+t.command})),e.def(o+")")})),{frag:s,vert:c,progVar:u,program:f}}(t,0,m);function I(t){var e=x[t];e&&(T[t]=e)}I("viewport"),I(k("scissor.box"));var O=Object.keys(T).length>0,D={framebuffer:_,draw:E,shader:A,state:T,dirty:O,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(D.profile=function(t){var e,n=t.static,r=t.dynamic;if(Lt in n){var o=!!n[Lt];(e=ue((function(t,e){return o}))).enable=o}else if(Lt in r){var i=r[Lt];e=se(i,(function(t,e){return t.invoke(e,i)}))}return e}(t),D.uniforms=function(t,e){var n=t.static,r=t.dynamic,o={};return Object.keys(n).forEach((function(t){var r,i=n[t];if("number"==typeof i||"boolean"==typeof i)r=ue((function(){return i}));else if("function"==typeof i){var a=i._reglType;"texture2d"===a||"textureCube"===a?r=ue((function(t){return t.link(i)})):"framebuffer"===a||"framebufferCube"===a?(w.command(i.color.length>0,'missing color attachment for framebuffer sent to uniform "'+t+'"',e.commandStr),r=ue((function(t){return t.link(i.color[0])}))):w.commandRaise('invalid data for uniform "'+t+'"',e.commandStr)}else tt(i)?r=ue((function(e){return e.global.def("[",C(i.length,(function(n){return w.command("number"==typeof i[n]||"boolean"==typeof i[n],"invalid uniform "+t,e.commandStr),i[n]})),"]")})):w.commandRaise('invalid or missing data for uniform "'+t+'"',e.commandStr);r.value=i,o[t]=r})),Object.keys(r).forEach((function(t){var e=r[t];o[t]=se(e,(function(t,n){return t.invoke(n,e)}))})),o}(s,d),D.drawVAO=D.scopeVAO=function(t,e){var n=t.static,r=t.dynamic;if(qt in n){var o=n[qt];return null!==o&&null===l.getVAO(o)&&(o=l.createVAO(o)),ue((function(t){return t.link(l.getVAO(o))}))}if(qt in r){var i=r[qt];return se(i,(function(t,e){var n=t.invoke(e,i);return e.def(t.shared.vao+".getVAO("+n+")")}))}return null}(t),!D.drawVAO&&A.program&&!m&&r.angle_instanced_arrays){var R=!0,M=A.program.attributes.map((function(t){var n=e.static[t];return R=R&&!!n,n}));if(R&&M.length>0){var N=l.getVAO(l.createVAO(M));D.drawVAO=new ie(null,null,null,(function(t,e){return t.link(N)})),D.useVAO=!0}}return m?D.useVAO=!0:D.attributes=function(t,e){var r=t.static,o=t.dynamic,u={};return Object.keys(r).forEach((function(t){var o=r[t],s=n.id(t),c=new y;if(re(o))c.state=1,c.buffer=i.getBuffer(i.create(o,34962,!1,!0)),c.type=0;else{var f=i.getBuffer(o);if(f)c.state=1,c.buffer=f,c.type=0;else if(w.command("object"===a(o)&&o,"invalid data for attribute "+t,e.commandStr),"constant"in o){var l=o.constant;c.buffer="null",c.state=2,"number"==typeof l?c.x=l:(w.command(tt(l)&&l.length>0&&l.length<=4,"invalid constant for attribute "+t,e.commandStr),jt.forEach((function(t,e){e<l.length&&(c[t]=l[e])})))}else{f=re(o.buffer)?i.getBuffer(i.create(o.buffer,34962,!1,!0)):i.getBuffer(o.buffer),w.command(!!f,'missing buffer for attribute "'+t+'"',e.commandStr);var h=0|o.offset;w.command(h>=0,'invalid offset for attribute "'+t+'"',e.commandStr);var d=0|o.stride;w.command(d>=0&&d<256,'invalid stride for attribute "'+t+'", must be integer betweeen [0, 255]',e.commandStr);var p=0|o.size;w.command(!("size"in o)||p>0&&p<=4,'invalid size for attribute "'+t+'", must be 1,2,3,4',e.commandStr);var v=!!o.normalized,m=0;"type"in o&&(w.commandParameter(o.type,z,"invalid type for attribute "+t,e.commandStr),m=z[o.type]);var g=0|o.divisor;"divisor"in o&&(w.command(0===g||b,'cannot specify divisor for attribute "'+t+'", instancing not supported',e.commandStr),w.command(g>=0,'invalid divisor for attribute "'+t+'"',e.commandStr)),w.optional((function(){var n=e.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(o).forEach((function(e){w.command(r.indexOf(e)>=0,'unknown parameter "'+e+'" for attribute pointer "'+t+'" (valid parameters are '+r+")",n)}))})),c.buffer=f,c.state=1,c.size=p,c.normalized=v,c.type=m||f.dtype,c.offset=h,c.stride=d,c.divisor=g}}u[t]=ue((function(t,e){var n=t.attribCache;if(s in n)return n[s];var r={isStream:!1};return Object.keys(c).forEach((function(t){r[t]=c[t]})),c.buffer&&(r.buffer=t.link(c.buffer),r.type=r.type||r.buffer+".dtype"),n[s]=r,r}))})),Object.keys(o).forEach((function(t){var e=o[t];u[t]=se(e,(function(n,r){var o=n.invoke(r,e),i=n.shared,a=n.constants,u=i.isBufferArgs,s=i.buffer;w.optional((function(){n.assert(r,o+"&&(typeof "+o+'==="object"||typeof '+o+'==="function")&&('+u+"("+o+")||"+s+".getBuffer("+o+")||"+s+".getBuffer("+o+".buffer)||"+u+"("+o+'.buffer)||("constant" in '+o+"&&(typeof "+o+'.constant==="number"||'+i.isArrayLike+"("+o+".constant))))",'invalid dynamic attribute "'+t+'"')}));var c={isStream:r.def(!1)},f=new y;f.state=1,Object.keys(f).forEach((function(t){c[t]=r.def(""+f[t])}));var l=c.buffer,h=c.type;function d(t){r(c[t],"=",o,".",t,"|0;")}return r("if(",u,"(",o,")){",c.isStream,"=true;",l,"=",s,".createStream(",34962,",",o,");",h,"=",l,".dtype;","}else{",l,"=",s,".getBuffer(",o,");","if(",l,"){",h,"=",l,".dtype;",'}else if("constant" in ',o,"){",c.state,"=",2,";","if(typeof "+o+'.constant === "number"){',c[jt[0]],"=",o,".constant;",jt.slice(1).map((function(t){return c[t]})).join("="),"=0;","}else{",jt.map((function(t,e){return c[t]+"="+o+".constant.length>"+e+"?"+o+".constant["+e+"]:0;"})).join(""),"}}else{","if(",u,"(",o,".buffer)){",l,"=",s,".createStream(",34962,",",o,".buffer);","}else{",l,"=",s,".getBuffer(",o,".buffer);","}",h,'="type" in ',o,"?",a.glTypes,"[",o,".type]:",l,".dtype;",c.normalized,"=!!",o,".normalized;"),d("size"),d("offset"),d("stride"),d("divisor"),r("}}"),r.exit("if(",c.isStream,"){",s,".destroyStream(",l,");","}"),c}))})),u}(e,d),D.context=function(t){var e=t.static,n=t.dynamic,r={};return Object.keys(e).forEach((function(t){var n=e[t];r[t]=ue((function(t,e){return"number"==typeof n||"boolean"==typeof n?""+n:t.link(n)}))})),Object.keys(n).forEach((function(t){var e=n[t];r[t]=se(e,(function(t,n){return t.invoke(n,e)}))})),r}(f),D}function j(t,e,n){var r=t.shared.context,o=t.scope();Object.keys(n).forEach((function(i){e.save(r,"."+i);var a=n[i].append(t,e);Array.isArray(a)?o(r,".",i,"=[",a.join(),"];"):o(r,".",i,"=",a,";")})),e(o)}function L(t,e,n,r){var o,i=t.shared,a=i.gl,u=i.framebuffer;_&&(o=e.def(i.extensions,".webgl_draw_buffers"));var s,c=t.constants,f=c.drawBuffer,l=c.backBuffer;s=n?n.append(t,e):e.def(u,".next"),r||e("if(",s,"!==",u,".cur){"),e("if(",s,"){",a,".bindFramebuffer(",36160,",",s,".framebuffer);"),_&&e(o,".drawBuffersWEBGL(",f,"[",s,".colorAttachments.length]);"),e("}else{",a,".bindFramebuffer(",36160,",null);"),_&&e(o,".drawBuffersWEBGL(",l,");"),e("}",u,".cur=",s,";"),r||e("}")}function U(t,e,n){var r=t.shared,o=r.gl,i=t.current,a=t.next,u=r.current,s=r.next,c=t.cond(u,".dirty");S.forEach((function(e){var r,f,l=k(e);if(!(l in n.state))if(l in a){r=a[l],f=i[l];var h=C(x[l].length,(function(t){return c.def(r,"[",t,"]")}));c(t.cond(h.map((function(t,e){return t+"!=="+f+"["+e+"]"})).join("||")).then(o,".",A[l],"(",h,");",h.map((function(t,e){return f+"["+e+"]="+t})).join(";"),";"))}else{r=c.def(s,".",l);var d=t.cond(r,"!==",u,".",l);c(d),l in T?d(t.cond(r).then(o,".enable(",T[l],");").else(o,".disable(",T[l],");"),u,".",l,"=",r,";"):d(o,".",A[l],"(",r,");",u,".",l,"=",r,";")}})),0===Object.keys(n.state).length&&c(u,".dirty=false;"),e(c)}function B(t,e,n,r){var o=t.shared,i=t.current,a=o.current,u=o.gl;oe(Object.keys(n)).forEach((function(o){var s=n[o];if(!r||r(s)){var c=s.append(t,e);if(T[o]){var f=T[o];ae(s)?e(u,c?".enable(":".disable(",f,");"):e(t.cond(c).then(u,".enable(",f,");").else(u,".disable(",f,");")),e(a,".",o,"=",c,";")}else if(tt(c)){var l=i[o];e(u,".",A[o],"(",c,");",c.map((function(t,e){return l+"["+e+"]="+t})).join(";"),";")}else e(u,".",A[o],"(",c,");",a,".",o,"=",c,";")}}))}function F(t,e){b&&(t.instancing=e.def(t.shared.extensions,".angle_instanced_arrays"))}function V(t,e,n,r,o){var i,a,u,s=t.shared,c=t.stats,f=s.current,l=s.timer,h=n.profile;function d(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function p(t){t(i=e.def(),"=",d(),";"),"string"==typeof o?t(c,".count+=",o,";"):t(c,".count++;"),v&&(r?t(a=e.def(),"=",l,".getNumPendingQueries();"):t(l,".beginQuery(",c,");"))}function m(t){t(c,".cpuTime+=",d(),"-",i,";"),v&&(r?t(l,".pushScopeStats(",a,",",l,".getNumPendingQueries(),",c,");"):t(l,".endQuery();"))}function y(t){var n=e.def(f,".profile");e(f,".profile=",t,";"),e.exit(f,".profile=",n,";")}if(h){if(ae(h))return void(h.enable?(p(e),m(e.exit),y("true")):y("false"));y(u=h.append(t,e))}else u=e.def(f,".profile");var g=t.block();p(g),e("if(",u,"){",g,"}");var b=t.block();m(b),e.exit("if(",u,"){",b,"}")}function W(t,e,n,r,o){var i=t.shared;r.forEach((function(r){var a,u=r.name,s=n.attributes[u];if(s){if(!o(s))return;a=s.append(t,e)}else{if(!o(ce))return;var c=t.scopeAttrib(u);w.optional((function(){t.assert(e,c+".state","missing attribute "+u)})),a={},Object.keys(new y).forEach((function(t){a[t]=e.def(c,".",t)}))}!function(n,r,o){var a=i.gl,u=e.def(n,".location"),s=e.def(i.attributes,"[",u,"]"),c=o.state,f=o.buffer,l=[o.x,o.y,o.z,o.w],h=["buffer","normalized","offset","stride"];function d(){e("if(!",s,".buffer){",a,".enableVertexAttribArray(",u,");}");var n,i=o.type;if(n=o.size?e.def(o.size,"||",r):r,e("if(",s,".type!==",i,"||",s,".size!==",n,"||",h.map((function(t){return s+"."+t+"!=="+o[t]})).join("||"),"){",a,".bindBuffer(",34962,",",f,".buffer);",a,".vertexAttribPointer(",[u,n,i,o.normalized,o.stride,o.offset],");",s,".type=",i,";",s,".size=",n,";",h.map((function(t){return s+"."+t+"="+o[t]+";"})).join(""),"}"),b){var c=o.divisor;e("if(",s,".divisor!==",c,"){",t.instancing,".vertexAttribDivisorANGLE(",[u,c],");",s,".divisor=",c,";}")}}function p(){e("if(",s,".buffer){",a,".disableVertexAttribArray(",u,");",s,".buffer=null;","}if(",jt.map((function(t,e){return s+"."+t+"!=="+l[e]})).join("||"),"){",a,".vertexAttrib4f(",u,",",l,");",jt.map((function(t,e){return s+"."+t+"="+l[e]+";"})).join(""),"}")}1===c?d():2===c?p():(e("if(",c,"===",1,"){"),d(),e("}else{"),p(),e("}"))}(t.link(r),function(t){switch(t){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(r.info.type),a)}))}function X(t,e,r,o,i){for(var a,u=t.shared,s=u.gl,c=0;c<o.length;++c){var f,l=o[c],h=l.name,d=l.info.type,p=r.uniforms[h],v=t.link(l)+".location";if(p){if(!i(p))continue;if(ae(p)){var m=p.value;if(w.command(null!=m,'missing uniform "'+h+'"',t.commandStr),35678===d||35680===d){w.command("function"==typeof m&&(35678===d&&("texture2d"===m._reglType||"framebuffer"===m._reglType)||35680===d&&("textureCube"===m._reglType||"framebufferCube"===m._reglType)),"invalid texture for uniform "+h,t.commandStr);var y=t.link(m._texture||m.color[0]._texture);e(s,".uniform1i(",v,",",y+".bind());"),e.exit(y,".unbind();")}else if(35674===d||35675===d||35676===d){w.optional((function(){w.command(tt(m),"invalid matrix for uniform "+h,t.commandStr),w.command(35674===d&&4===m.length||35675===d&&9===m.length||35676===d&&16===m.length,"invalid length for matrix uniform "+h,t.commandStr)}));var g=t.global.def("new Float32Array(["+Array.prototype.slice.call(m)+"])"),b=2;35675===d?b=3:35676===d&&(b=4),e(s,".uniformMatrix",b,"fv(",v,",false,",g,");")}else{switch(d){case 5126:w.commandType(m,"number","uniform "+h,t.commandStr),a="1f";break;case 35664:w.command(tt(m)&&2===m.length,"uniform "+h,t.commandStr),a="2f";break;case 35665:w.command(tt(m)&&3===m.length,"uniform "+h,t.commandStr),a="3f";break;case 35666:w.command(tt(m)&&4===m.length,"uniform "+h,t.commandStr),a="4f";break;case 35670:w.commandType(m,"boolean","uniform "+h,t.commandStr),a="1i";break;case 5124:w.commandType(m,"number","uniform "+h,t.commandStr),a="1i";break;case 35671:case 35667:w.command(tt(m)&&2===m.length,"uniform "+h,t.commandStr),a="2i";break;case 35672:case 35668:w.command(tt(m)&&3===m.length,"uniform "+h,t.commandStr),a="3i";break;case 35673:case 35669:w.command(tt(m)&&4===m.length,"uniform "+h,t.commandStr),a="4i"}e(s,".uniform",a,"(",v,",",tt(m)?Array.prototype.slice.call(m):m,");")}continue}f=p.append(t,e)}else{if(!i(ce))continue;f=e.def(u.uniforms,"[",n.id(h),"]")}35678===d?(w(!Array.isArray(f),"must specify a scalar prop for textures"),e("if(",f,"&&",f,'._reglType==="framebuffer"){',f,"=",f,".color[0];","}")):35680===d&&(w(!Array.isArray(f),"must specify a scalar prop for cube maps"),e("if(",f,"&&",f,'._reglType==="framebufferCube"){',f,"=",f,".color[0];","}")),w.optional((function(){function n(n,r){t.assert(e,n,'bad data or missing for uniform "'+h+'".  '+r)}function r(t){w(!Array.isArray(f),"must not specify an array type for uniform"),n("typeof "+f+'==="'+t+'"',"invalid type, expected "+t)}function o(e,r){Array.isArray(f)?w(f.length===e,"must have length "+e):n(u.isArrayLike+"("+f+")&&"+f+".length==="+e,"invalid vector, should have length "+e,t.commandStr)}function i(e){w(!Array.isArray(f),"must not specify a value type"),n("typeof "+f+'==="function"&&'+f+'._reglType==="texture'+(3553===e?"2d":"Cube")+'"',"invalid texture type",t.commandStr)}switch(d){case 5124:r("number");break;case 35667:o(2);break;case 35668:o(3);break;case 35669:o(4);break;case 5126:r("number");break;case 35664:o(2);break;case 35665:o(3);break;case 35666:o(4);break;case 35670:r("boolean");break;case 35671:o(2);break;case 35672:o(3);break;case 35673:case 35674:o(4);break;case 35675:o(9);break;case 35676:o(16);break;case 35678:i(3553);break;case 35680:i(34067)}}));var _=1;switch(d){case 35678:case 35680:var x=e.def(f,"._texture");e(s,".uniform1i(",v,",",x,".bind());"),e.exit(x,".unbind();");continue;case 5124:case 35670:a="1i";break;case 35667:case 35671:a="2i",_=2;break;case 35668:case 35672:a="3i",_=3;break;case 35669:case 35673:a="4i",_=4;break;case 5126:a="1f";break;case 35664:a="2f",_=2;break;case 35665:a="3f",_=3;break;case 35666:a="4f",_=4;break;case 35674:a="Matrix2fv";break;case 35675:a="Matrix3fv";break;case 35676:a="Matrix4fv"}if(e(s,".uniform",a,"(",v,","),"M"===a.charAt(0)){var E=Math.pow(d-35674+2,2),S=t.global.def("new Float32Array(",E,")");Array.isArray(f)?e("false,(",C(E,(function(t){return S+"["+t+"]="+f[t]})),",",S,")"):e("false,(Array.isArray(",f,")||",f," instanceof Float32Array)?",f,":(",C(E,(function(t){return S+"["+t+"]="+f+"["+t+"]"})),",",S,")")}else _>1?e(C(_,(function(t){return Array.isArray(f)?f[t]:f+"["+t+"]"}))):(w(!Array.isArray(f),"uniform value must not be an array"),e(f));e(");")}}function H(t,e,n,r){var o=t.shared,i=o.gl,a=o.draw,u=r.draw,s=function(){var o,s=u.elements,c=e;return s?((s.contextDep&&r.contextDynamic||s.propDep)&&(c=n),o=s.append(t,c)):o=c.def(a,".",zt),o&&c("if("+o+")"+i+".bindBuffer(34963,"+o+".buffer.buffer);"),o}();function c(o){var i=u[o];return i?i.contextDep&&r.contextDynamic||i.propDep?i.append(t,n):i.append(t,e):e.def(a,".",o)}var f,l,h=c(Vt),d=c(Xt),p=function(){var o,i=u.count,s=e;return i?((i.contextDep&&r.contextDynamic||i.propDep)&&(s=n),o=i.append(t,s),w.optional((function(){i.MISSING&&t.assert(e,"false","missing vertex count"),i.DYNAMIC&&t.assert(s,o+">=0","missing vertex count")}))):(o=s.def(a,".",Wt),w.optional((function(){t.assert(s,o+">=0","missing vertex count")}))),o}();if("number"==typeof p){if(0===p)return}else n("if(",p,"){"),n.exit("}");b&&(f=c(Ht),l=t.instancing);var v=s+".type",m=u.elements&&ae(u.elements);function y(){function t(){n(l,".drawElementsInstancedANGLE(",[h,p,v,d+"<<(("+v+"-5121)>>1)",f],");")}function e(){n(l,".drawArraysInstancedANGLE(",[h,d,p,f],");")}s?m?t():(n("if(",s,"){"),t(),n("}else{"),e(),n("}")):e()}function g(){function t(){n(i+".drawElements("+[h,p,v,d+"<<(("+v+"-5121)>>1)"]+");")}function e(){n(i+".drawArrays("+[h,d,p]+");")}s?m?t():(n("if(",s,"){"),t(),n("}else{"),e(),n("}")):e()}b&&("number"!=typeof f||f>=0)?"string"==typeof f?(n("if(",f,">0){"),y(),n("}else if(",f,"<0){"),g(),n("}")):y():g()}function q(t,e,n,r,o){var i=P(),a=i.proc("body",o);return w.optional((function(){i.commandStr=e.commandStr,i.command=i.link(e.commandStr)})),b&&(i.instancing=a.def(i.shared.extensions,".angle_instanced_arrays")),t(i,a,n,r),i.compile().body}function Y(t,e,n,r){F(t,e),n.useVAO?n.drawVAO?e(t.shared.vao,".setVAO(",n.drawVAO.append(t,e),");"):e(t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"):(e(t.shared.vao,".setVAO(null);"),W(t,e,n,r.attributes,(function(){return!0}))),X(t,e,n,r.uniforms,(function(){return!0})),H(t,e,e,n)}function K(t,e,n,r){function o(){return!0}t.batchId="a1",F(t,e),W(t,e,n,r.attributes,o),X(t,e,n,r.uniforms,o),H(t,e,e,n)}function Q(t,e,n,r){F(t,e);var o=n.contextDep,i=e.def(),a=e.def();t.shared.props=a,t.batchId=i;var u=t.scope(),s=t.scope();function c(t){return t.contextDep&&o||t.propDep}function f(t){return!c(t)}if(e(u.entry,"for(",i,"=0;",i,"<","a1",";++",i,"){",a,"=","a0","[",i,"];",s,"}",u.exit),n.needsContext&&j(t,s,n.context),n.needsFramebuffer&&L(t,s,n.framebuffer),B(t,s,n.state,c),n.profile&&c(n.profile)&&V(t,s,n,!1,!0),r)n.useVAO?n.drawVAO?c(n.drawVAO)?s(t.shared.vao,".setVAO(",n.drawVAO.append(t,s),");"):u(t.shared.vao,".setVAO(",n.drawVAO.append(t,u),");"):u(t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"):(u(t.shared.vao,".setVAO(null);"),W(t,u,n,r.attributes,f),W(t,s,n,r.attributes,c)),X(t,u,n,r.uniforms,f),X(t,s,n,r.uniforms,c),H(t,u,s,n);else{var l=t.global.def("{}"),h=n.shader.progVar.append(t,s),d=s.def(h,".id"),p=s.def(l,"[",d,"]");s(t.shared.gl,".useProgram(",h,".program);","if(!",p,"){",p,"=",l,"[",d,"]=",t.link((function(e){return q(K,t,n,e,2)})),"(",h,");}",p,".call(this,a0[",i,"],",i,");")}}function J(t,e,n){var r=e.static[n];if(r&&function(t){if("object"===a(t)&&!tt(t)){for(var e=Object.keys(t),n=0;n<e.length;++n)if(I.isDynamic(t[e[n]]))return!0;return!1}}(r)){var o=t.global,i=Object.keys(r),u=!1,s=!1,c=!1,f=t.global.def("{}");i.forEach((function(e){var n=r[e];if(I.isDynamic(n)){"function"==typeof n&&(n=r[e]=I.unbox(n));var i=se(n,null);u=u||i.thisDep,c=c||i.propDep,s=s||i.contextDep}else{switch(o(f,".",e,"="),a(n)){case"number":o(n);break;case"string":o('"',n,'"');break;case"object":Array.isArray(n)&&o("[",n.join(),"]");break;default:o(t.link(n))}o(";")}})),e.dynamic[n]=new I.DynamicVariable(4,{thisDep:u,contextDep:s,propDep:c,ref:f,append:function(t,e){i.forEach((function(n){var o=r[n];if(I.isDynamic(o)){var i=t.invoke(e,o);e(f,".",n,"=",i,";")}}))}}),delete e.static[n]}}return{next:E,current:x,procs:function(){var t=P(),e=t.proc("poll"),n=t.proc("refresh"),i=t.block();e(i),n(i);var a,u=t.shared,s=u.gl,c=u.next,f=u.current;i(f,".dirty=false;"),L(t,e),L(t,n,null,!0),b&&(a=t.link(b)),r.oes_vertex_array_object&&n(t.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var l=0;l<o.maxAttributes;++l){var h=n.def(u.attributes,"[",l,"]"),d=t.cond(h,".buffer");d.then(s,".enableVertexAttribArray(",l,");",s,".bindBuffer(",34962,",",h,".buffer.buffer);",s,".vertexAttribPointer(",l,",",h,".size,",h,".type,",h,".normalized,",h,".stride,",h,".offset);").else(s,".disableVertexAttribArray(",l,");",s,".vertexAttrib4f(",l,",",h,".x,",h,".y,",h,".z,",h,".w);",h,".buffer=null;"),n(d),b&&n(a,".vertexAttribDivisorANGLE(",l,",",h,".divisor);")}return n(t.shared.vao,".currentVAO=null;",t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"),Object.keys(T).forEach((function(r){var o=T[r],a=i.def(c,".",r),u=t.block();u("if(",a,"){",s,".enable(",o,")}else{",s,".disable(",o,")}",f,".",r,"=",a,";"),n(u),e("if(",a,"!==",f,".",r,"){",u,"}")})),Object.keys(A).forEach((function(r){var o,a,u=A[r],l=x[r],h=t.block();if(h(s,".",u,"("),tt(l)){var d=l.length;o=t.global.def(c,".",r),a=t.global.def(f,".",r),h(C(d,(function(t){return o+"["+t+"]"})),");",C(d,(function(t){return a+"["+t+"]="+o+"["+t+"];"})).join("")),e("if(",C(d,(function(t){return o+"["+t+"]!=="+a+"["+t+"]"})).join("||"),"){",h,"}")}else o=i.def(c,".",r),a=i.def(f,".",r),h(o,");",f,".",r,"=",o,";"),e("if(",o,"!==",a,"){",h,"}");n(h)})),t.compile()}(),compile:function(t,r,o,i,a){var u=P();u.stats=u.link(a),Object.keys(r.static).forEach((function(t){J(u,r,t)})),Zt.forEach((function(e){J(u,t,e)}));var s=G(t,r,o,i,u);return function(t,e){var n=t.proc("draw",1);F(t,n),j(t,n,e.context),L(t,n,e.framebuffer),U(t,n,e),B(t,n,e.state),V(t,n,e,!1,!0);var r=e.shader.progVar.append(t,n);if(n(t.shared.gl,".useProgram(",r,".program);"),e.shader.program)Y(t,n,e,e.shader.program);else{n(t.shared.vao,".setVAO(null);");var o=t.global.def("{}"),i=n.def(r,".id"),a=n.def(o,"[",i,"]");n(t.cond(a).then(a,".call(this,a0);").else(a,"=",o,"[",i,"]=",t.link((function(n){return q(Y,t,e,n,1)})),"(",r,");",a,".call(this,a0);"))}Object.keys(e.state).length>0&&n(t.shared.current,".dirty=true;")}(u,s),function(t,e){var r=t.proc("scope",3);t.batchId="a2";var o=t.shared,i=o.current;function a(n){var i=e.shader[n];i&&r.set(o.shader,"."+n,i.append(t,r))}j(t,r,e.context),e.framebuffer&&e.framebuffer.append(t,r),oe(Object.keys(e.state)).forEach((function(n){var i=e.state[n].append(t,r);tt(i)?i.forEach((function(e,o){r.set(t.next[n],"["+o+"]",e)})):r.set(o.next,"."+n,i)})),V(t,r,e,!0,!0),[zt,Xt,Wt,Ht,Vt].forEach((function(n){var i=e.draw[n];i&&r.set(o.draw,"."+n,""+i.append(t,r))})),Object.keys(e.uniforms).forEach((function(i){var a=e.uniforms[i].append(t,r);Array.isArray(a)&&(a="["+a.join()+"]"),r.set(o.uniforms,"["+n.id(i)+"]",a)})),Object.keys(e.attributes).forEach((function(n){var o=e.attributes[n].append(t,r),i=t.scopeAttrib(n);Object.keys(new y).forEach((function(t){r.set(i,"."+t,o[t])}))})),e.scopeVAO&&r.set(o.vao,".targetVAO",e.scopeVAO.append(t,r)),a(Bt),a(Ft),Object.keys(e.state).length>0&&(r(i,".dirty=true;"),r.exit(i,".dirty=true;")),r("a1(",t.shared.context,",a0,",t.batchId,");")}(u,s),function(t,e){var n=t.proc("batch",2);t.batchId="0",F(t,n);var r=!1,o=!0;Object.keys(e.context).forEach((function(t){r=r||e.context[t].propDep})),r||(j(t,n,e.context),o=!1);var i=e.framebuffer,a=!1;function u(t){return t.contextDep&&r||t.propDep}i?(i.propDep?r=a=!0:i.contextDep&&r&&(a=!0),a||L(t,n,i)):L(t,n,null),e.state.viewport&&e.state.viewport.propDep&&(r=!0),U(t,n,e),B(t,n,e.state,(function(t){return!u(t)})),e.profile&&u(e.profile)||V(t,n,e,!1,"a1"),e.contextDep=r,e.needsContext=o,e.needsFramebuffer=a;var s=e.shader.progVar;if(s.contextDep&&r||s.propDep)Q(t,n,e,null);else{var c=s.append(t,n);if(n(t.shared.gl,".useProgram(",c,".program);"),e.shader.program)Q(t,n,e,e.shader.program);else{n(t.shared.vao,".setVAO(null);");var f=t.global.def("{}"),l=n.def(c,".id"),h=n.def(f,"[",l,"]");n(t.cond(h).then(h,".call(this,a0,a1);").else(h,"=",f,"[",l,"]=",t.link((function(n){return q(Q,t,e,n,2)})),"(",c,");",h,".call(this,a0,a1);"))}}Object.keys(e.state).length>0&&n(t.shared.current,".dirty=true;")}(u,s),e(u.compile(),{destroy:function(){s.shader.program.destroy()}})}}}var le=function(t,e){if(!e.ext_disjoint_timer_query)return null;var n=[];function r(t){n.push(t)}var o=[];function i(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var a=[];function u(t){a.push(t)}var s=[];function c(t,e,n){var r=a.pop()||new i;r.startQueryIndex=t,r.endQueryIndex=e,r.sum=0,r.stats=n,s.push(r)}var f=[],l=[];return{beginQuery:function(t){var r=n.pop()||e.ext_disjoint_timer_query.createQueryEXT();e.ext_disjoint_timer_query.beginQueryEXT(35007,r),o.push(r),c(o.length-1,o.length,t)},endQuery:function(){e.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:c,update:function(){var t,n,i=o.length;if(0!==i){l.length=Math.max(l.length,i+1),f.length=Math.max(f.length,i+1),f[0]=0,l[0]=0;var a=0;for(t=0,n=0;n<o.length;++n){var c=o[n];e.ext_disjoint_timer_query.getQueryObjectEXT(c,34919)?(a+=e.ext_disjoint_timer_query.getQueryObjectEXT(c,34918),r(c)):o[t++]=c,f[n+1]=a,l[n+1]=t}for(o.length=t,t=0,n=0;n<s.length;++n){var h=s[n],d=h.startQueryIndex,p=h.endQueryIndex;h.sum+=f[p]-f[d];var v=l[d],m=l[p];m===v?(h.stats.gpuTime+=h.sum/1e6,u(h)):(h.startQueryIndex=v,h.endQueryIndex=m,s[t++]=h)}s.length=t}},getNumPendingQueries:function(){return o.length},clear:function(){n.push.apply(n,o);for(var t=0;t<n.length;t++)e.ext_disjoint_timer_query.deleteQueryEXT(n[t]);o.length=0,n.length=0},restore:function(){o.length=0,n.length=0}}};function he(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}return function(n){var r=M(n);if(!r)return null;var o=r.gl,i=o.getContextAttributes(),u=o.isContextLost(),s=function(t,e){var n={};function r(e){w.type(e,"string","extension name must be string");var r,o=e.toLowerCase();try{r=n[o]=t.getExtension(o)}catch(t){}return!!r}for(var o=0;o<e.extensions.length;++o){var i=e.extensions[o];if(!r(i))return e.onDestroy(),e.onDone('"'+i+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return e.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach((function(t){if(n[t]&&!r(t))throw new Error("(regl): error restoring extension "+t)}))}}}(o,r);if(!s)return null;var c,f,l=(c={"":0},f=[""],{id:function(t){var e=c[t];return e||(e=c[t]=f.length,f.push(t),e)},str:function(t){return f[t]}}),h={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},d=s.extensions,p=le(0,d),v=O(),m=o.drawingBufferWidth,y=o.drawingBufferHeight,g={tick:0,time:0,viewportWidth:m,viewportHeight:y,framebufferWidth:m,framebufferHeight:y,drawingBufferWidth:m,drawingBufferHeight:y,pixelRatio:r.pixelRatio},b=function(t,e){var n=1;e.ext_texture_filter_anisotropic&&(n=t.getParameter(34047));var r=1,o=1;e.webgl_draw_buffers&&(r=t.getParameter(34852),o=t.getParameter(36063));var i=!!e.oes_texture_float;if(i){var a=t.createTexture();t.bindTexture(3553,a),t.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var u=t.createFramebuffer();if(t.bindFramebuffer(36160,u),t.framebufferTexture2D(36160,36064,3553,a,0),t.bindTexture(3553,null),36053!==t.checkFramebufferStatus(36160))i=!1;else{t.viewport(0,0,1,1),t.clearColor(1,0,0,1),t.clear(16384);var s=G.allocType(5126,4);t.readPixels(0,0,1,1,6408,5126,s),t.getError()?i=!1:(t.deleteFramebuffer(u),t.deleteTexture(a),i=1===s[0]),G.freeType(s)}}var c=!0;if("undefined"==typeof navigator||!(/MSIE/.test(navigator.userAgent)||/Trident\\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var f=t.createTexture(),l=G.allocType(5121,36);t.activeTexture(33984),t.bindTexture(34067,f),t.texImage2D(34069,0,6408,3,3,0,6408,5121,l),G.freeType(l),t.bindTexture(34067,null),t.deleteTexture(f),c=!t.getError()}return{colorBits:[t.getParameter(3410),t.getParameter(3411),t.getParameter(3412),t.getParameter(3413)],depthBits:t.getParameter(3414),stencilBits:t.getParameter(3415),subpixelBits:t.getParameter(3408),extensions:Object.keys(e).filter((function(t){return!!e[t]})),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:o,pointSizeDims:t.getParameter(33901),lineWidthDims:t.getParameter(33902),maxViewportDims:t.getParameter(3386),maxCombinedTextureUnits:t.getParameter(35661),maxCubeMapSize:t.getParameter(34076),maxRenderbufferSize:t.getParameter(34024),maxTextureUnits:t.getParameter(34930),maxTextureSize:t.getParameter(3379),maxAttributes:t.getParameter(34921),maxVertexUniforms:t.getParameter(36347),maxVertexTextureUnits:t.getParameter(35660),maxVaryingVectors:t.getParameter(36348),maxFragmentUniforms:t.getParameter(36349),glsl:t.getParameter(35724),renderer:t.getParameter(7937),vendor:t.getParameter(7936),version:t.getParameter(7938),readFloat:i,npotTextureCube:c}}(o,d),_=function(e,n,r,o){var i=0,a={};function u(t){this.id=i++,this.buffer=e.createBuffer(),this.type=t,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,r.profile&&(this.stats={size:0})}u.prototype.bind=function(){e.bindBuffer(this.type,this.buffer)},u.prototype.destroy=function(){l(this)};var s=[];function c(t,n,r){t.byteLength=n.byteLength,e.bufferData(t.type,n,r)}function f(e,n,r,o,i,a){var u,s;if(e.usage=r,Array.isArray(n)){if(e.dtype=o||5126,n.length>0)if(Array.isArray(n[0])){u=X(n);for(var f=1,l=1;l<u.length;++l)f*=u[l];e.dimension=f,c(e,s=W(n,u,e.dtype),r),a?e.persistentData=s:G.freeType(s)}else if("number"==typeof n[0]){e.dimension=i;var h=G.allocType(e.dtype,n.length);Y(h,n),c(e,h,r),a?e.persistentData=h:G.freeType(h)}else t(n[0])?(e.dimension=n[0].length,e.dtype=o||q(n[0])||5126,c(e,s=W(n,[n.length,n[0].length],e.dtype),r),a?e.persistentData=s:G.freeType(s)):w.raise("invalid buffer data")}else if(t(n))e.dtype=o||q(n),e.dimension=i,c(e,n,r),a&&(e.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(j(n)){u=n.shape;var d=n.stride,p=n.offset,v=0,m=0,y=0,g=0;1===u.length?(v=u[0],m=1,y=d[0],g=0):2===u.length?(v=u[0],m=u[1],y=d[0],g=d[1]):w.raise("invalid shape"),e.dtype=o||q(n.data)||5126,e.dimension=m;var b=G.allocType(e.dtype,v*m);K(b,n.data,v,m,y,g,p),c(e,b,r),a?e.persistentData=b:G.freeType(b)}else n instanceof ArrayBuffer?(e.dtype=5121,e.dimension=i,c(e,n,r),a&&(e.persistentData=new Uint8Array(new Uint8Array(n)))):w.raise("invalid buffer data")}function l(t){n.bufferCount--,o(t);var r=t.buffer;w(r,"buffer must not be deleted already"),e.deleteBuffer(r),t.buffer=null,delete a[t.id]}return r.profile&&(n.getTotalBufferSize=function(){var t=0;return Object.keys(a).forEach((function(e){t+=a[e].stats.size})),t}),{create:function(o,i,s,c){n.bufferCount++;var h=new u(i);function d(n){var o=35044,i=null,a=0,u=0,s=1;return Array.isArray(n)||t(n)||j(n)||n instanceof ArrayBuffer?i=n:"number"==typeof n?a=0|n:n&&(w.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(w(null===i||Array.isArray(i)||t(i)||j(i),"invalid data for buffer"),i=n.data),"usage"in n&&(w.parameter(n.usage,V,"invalid buffer usage"),o=V[n.usage]),"type"in n&&(w.parameter(n.type,z,"invalid buffer type"),u=z[n.type]),"dimension"in n&&(w.type(n.dimension,"number","invalid dimension"),s=0|n.dimension),"length"in n&&(w.nni(a,"buffer length must be a nonnegative integer"),a=0|n.length)),h.bind(),i?f(h,i,o,u,s,c):(a&&e.bufferData(h.type,a,o),h.dtype=u||5121,h.usage=o,h.dimension=s,h.byteLength=a),r.profile&&(h.stats.size=h.byteLength*H[h.dtype]),d}function p(t,n){w(n+t.byteLength<=h.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+t.byteLength+" starting from offset "+n+" to a buffer of size "+h.byteLength),e.bufferSubData(h.type,n,t)}return a[h.id]=h,s||d(o),d._reglType="buffer",d._buffer=h,d.subdata=function(e,n){var r,o=0|(n||0);if(h.bind(),t(e)||e instanceof ArrayBuffer)p(e,o);else if(Array.isArray(e)){if(e.length>0)if("number"==typeof e[0]){var i=G.allocType(h.dtype,e.length);Y(i,e),p(i,o),G.freeType(i)}else if(Array.isArray(e[0])||t(e[0])){r=X(e);var a=W(e,r,h.dtype);p(a,o),G.freeType(a)}else w.raise("invalid buffer data")}else if(j(e)){r=e.shape;var u=e.stride,s=0,c=0,f=0,l=0;1===r.length?(s=r[0],c=1,f=u[0],l=0):2===r.length?(s=r[0],c=r[1],f=u[0],l=u[1]):w.raise("invalid shape");var v=Array.isArray(e.data)?h.dtype:q(e.data),m=G.allocType(v,s*c);K(m,e.data,s,c,f,l,e.offset),p(m,o),G.freeType(m)}else w.raise("invalid data for buffer subdata");return d},r.profile&&(d.stats=h.stats),d.destroy=function(){l(h)},d},createStream:function(t,e){var n=s.pop();return n||(n=new u(t)),n.bind(),f(n,e,35040,0,1,!1),n},destroyStream:function(t){s.push(t)},clear:function(){L(a).forEach(l),s.forEach(l)},getBuffer:function(t){return t&&t._buffer instanceof u?t._buffer:null},restore:function(){L(a).forEach((function(t){t.buffer=e.createBuffer(),e.bindBuffer(t.type,t.buffer),e.bufferData(t.type,t.persistentData||t.byteLength,t.usage)}))},_initBuffer:f}}(o,h,r,(function(t){return x.destroyBuffer(t)})),x=function(e,n,r,o,i){for(var a=r.maxAttributes,u=new Array(a),s=0;s<a;++s)u[s]=new Ct;var c=0,f={},l={Record:Ct,scope:{},state:u,currentVAO:null,targetVAO:null,restore:h()?function(){h()&&L(f).forEach((function(t){t.refresh()}))}:function(){},createVAO:function(e){var r=new p;function u(e){w(Array.isArray(e),"arguments to vertex array constructor must be an array"),w(e.length<a,"too many attributes"),w(e.length>0,"must specify at least one attribute");var o={},s=r.attributes;s.length=e.length;for(var c=0;c<e.length;++c){var f,l=e[c],h=s[c]=new Ct,d=l.data||l;Array.isArray(d)||t(d)||j(d)?(r.buffers[c]&&(f=r.buffers[c],t(d)&&f._buffer.byteLength>=d.byteLength?f.subdata(d):(f.destroy(),r.buffers[c]=null)),r.buffers[c]||(f=r.buffers[c]=i.create(l,34962,!1,!0)),h.buffer=i.getBuffer(f),h.size=0|h.buffer.dimension,h.normalized=!1,h.type=h.buffer.dtype,h.offset=0,h.stride=0,h.divisor=0,h.state=1,o[c]=1):i.getBuffer(l)?(h.buffer=i.getBuffer(l),h.size=0|h.buffer.dimension,h.normalized=!1,h.type=h.buffer.dtype,h.offset=0,h.stride=0,h.divisor=0,h.state=1):i.getBuffer(l.buffer)?(h.buffer=i.getBuffer(l.buffer),h.size=0|(+l.size||h.buffer.dimension),h.normalized=!!l.normalized||!1,"type"in l?(w.parameter(l.type,z,"invalid buffer type"),h.type=z[l.type]):h.type=h.buffer.dtype,h.offset=0|(l.offset||0),h.stride=0|(l.stride||0),h.divisor=0|(l.divisor||0),h.state=1,w(h.size>=1&&h.size<=4,"size must be between 1 and 4"),w(h.offset>=0,"invalid offset"),w(h.stride>=0&&h.stride<=255,"stride must be between 0 and 255"),w(h.divisor>=0,"divisor must be positive"),w(!h.divisor||!!n.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in l?(w(c>0,"first attribute must not be a constant"),h.x=+l.x||0,h.y=+l.y||0,h.z=+l.z||0,h.w=+l.w||0,h.state=2):w(!1,"invalid attribute spec for location "+c)}for(var p=0;p<r.buffers.length;++p)!o[p]&&r.buffers[p]&&(r.buffers[p].destroy(),r.buffers[p]=null);return r.refresh(),u}return o.vaoCount+=1,u.destroy=function(){for(var t=0;t<r.buffers.length;++t)r.buffers[t]&&r.buffers[t].destroy();r.buffers.length=0,r.destroy()},u._vao=r,u._reglType="vao",u(e)},getVAO:function(t){return"function"==typeof t&&t._vao?t._vao:null},destroyBuffer:function(t){for(var n=0;n<u.length;++n){var r=u[n];r.buffer===t&&(e.disableVertexAttribArray(n),r.buffer=null)}},setVAO:h()?function(t){if(t!==l.currentVAO){var e=h();t?e.bindVertexArrayOES(t.vao):e.bindVertexArrayOES(null),l.currentVAO=t}}:function(t){if(t!==l.currentVAO){if(t)t.bindAttrs();else for(var n=d(),r=0;r<u.length;++r){var o=u[r];o.buffer?(e.enableVertexAttribArray(r),e.vertexAttribPointer(r,o.size,o.type,o.normalized,o.stride,o.offfset),n&&o.divisor&&n.vertexAttribDivisorANGLE(r,o.divisor)):(e.disableVertexAttribArray(r),e.vertexAttrib4f(r,o.x,o.y,o.z,o.w))}l.currentVAO=t}},clear:h()?function(){L(f).forEach((function(t){t.destroy()}))}:function(){}};function h(){return n.oes_vertex_array_object}function d(){return n.angle_instanced_arrays}function p(){this.id=++c,this.attributes=[];var t=h();this.vao=t?t.createVertexArrayOES():null,f[this.id]=this,this.buffers=[]}return p.prototype.bindAttrs=function(){for(var t=d(),n=this.attributes,r=0;r<n.length;++r){var o=n[r];o.buffer?(e.enableVertexAttribArray(r),e.bindBuffer(34962,o.buffer.buffer),e.vertexAttribPointer(r,o.size,o.type,o.normalized,o.stride,o.offset),t&&o.divisor&&t.vertexAttribDivisorANGLE(r,o.divisor)):(e.disableVertexAttribArray(r),e.vertexAttrib4f(r,o.x,o.y,o.z,o.w))}for(var i=n.length;i<a;++i)e.disableVertexAttribArray(i)},p.prototype.refresh=function(){var t=h();t&&(t.bindVertexArrayOES(this.vao),this.bindAttrs(),l.currentVAO=this)},p.prototype.destroy=function(){if(this.vao){var t=h();this===l.currentVAO&&(l.currentVAO=null,t.bindVertexArrayOES(null)),t.deleteVertexArrayOES(this.vao),this.vao=null}f[this.id]&&(delete f[this.id],o.vaoCount-=1)},l}(o,d,b,h,_),E=function(e,n,r,o){var i={},a=0,u={uint8:5121,uint16:5123};function s(t){this.id=a++,i[this.id]=this,this.buffer=t,this.primType=4,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(u.uint32=5125),s.prototype.bind=function(){this.buffer.bind()};var c=[];function f(o,i,a,u,s,c,f){var l;if(o.buffer.bind(),i){var h=f;f||t(i)&&(!j(i)||t(i.data))||(h=n.oes_element_index_uint?5125:5123),r._initBuffer(o.buffer,i,a,h,3)}else e.bufferData(34963,c,a),o.buffer.dtype=l||5121,o.buffer.usage=a,o.buffer.dimension=3,o.buffer.byteLength=c;if(l=f,!f){switch(o.buffer.dtype){case 5121:case 5120:l=5121;break;case 5123:case 5122:l=5123;break;case 5125:case 5124:l=5125;break;default:w.raise("unsupported type for element array")}o.buffer.dtype=l}o.type=l,w(5125!==l||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var d=s;d<0&&(d=o.buffer.byteLength,5123===l?d>>=1:5125===l&&(d>>=2)),o.vertCount=d;var p=u;if(u<0){p=4;var v=o.buffer.dimension;1===v&&(p=0),2===v&&(p=1),3===v&&(p=4)}o.primType=p}function l(t){o.elementsCount--,w(null!==t.buffer,"must not double destroy elements"),delete i[t.id],t.buffer.destroy(),t.buffer=null}return{create:function(e,n){var i=r.create(null,34963,!0),a=new s(i._buffer);function c(e){if(e)if("number"==typeof e)i(e),a.primType=4,a.vertCount=0|e,a.type=5121;else{var n=null,r=35044,o=-1,s=-1,l=0,h=0;Array.isArray(e)||t(e)||j(e)?n=e:(w.type(e,"object","invalid arguments for elements"),"data"in e&&(n=e.data,w(Array.isArray(n)||t(n)||j(n),"invalid data for element buffer")),"usage"in e&&(w.parameter(e.usage,V,"invalid element buffer usage"),r=V[e.usage]),"primitive"in e&&(w.parameter(e.primitive,Z,"invalid element buffer primitive"),o=Z[e.primitive]),"count"in e&&(w("number"==typeof e.count&&e.count>=0,"invalid vertex count for elements"),s=0|e.count),"type"in e&&(w.parameter(e.type,u,"invalid buffer type"),h=u[e.type]),"length"in e?l=0|e.length:(l=s,5123===h||5122===h?l*=2:5125!==h&&5124!==h||(l*=4))),f(a,n,r,o,s,l,h)}else i(),a.primType=4,a.vertCount=0,a.type=5121;return c}return o.elementsCount++,c(e),c._reglType="elements",c._elements=a,c.subdata=function(t,e){return i.subdata(t,e),c},c.destroy=function(){l(a)},c},createStream:function(t){var e=c.pop();return e||(e=new s(r.create(null,34963,!0,!1)._buffer)),f(e,t,35040,-1,-1,0,0),e},destroyStream:function(t){c.push(t)},getElements:function(t){return"function"==typeof t&&t._elements instanceof s?t._elements:null},clear:function(){L(i).forEach(l)}}}(o,d,_,h),S=function(t,n,r,o){var i={},a={};function u(t,e,n,r){this.name=t,this.id=e,this.location=n,this.info=r}function s(t,e){for(var n=0;n<t.length;++n)if(t[n].id===e.id)return void(t[n].location=e.location);t.push(e)}function c(e,r,o){var u=35632===e?i:a,s=u[r];if(!s){var c=n.str(r);s=t.createShader(e),t.shaderSource(s,c),t.compileShader(s),w.shaderError(t,s,c,e,o),u[r]=s}return s}var f={},l=[],h=0;function d(t,e){this.id=h++,this.fragId=t,this.vertId=e,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,o.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function p(e,r,i){var a,f,l=c(35632,e.fragId),h=c(35633,e.vertId),d=e.program=t.createProgram();if(t.attachShader(d,l),t.attachShader(d,h),i)for(a=0;a<i.length;++a){var p=i[a];t.bindAttribLocation(d,p[0],p[1])}t.linkProgram(d),w.linkError(t,d,n.str(e.fragId),n.str(e.vertId),r);var v=t.getProgramParameter(d,35718);o.profile&&(e.stats.uniformsCount=v);var m=e.uniforms;for(a=0;a<v;++a)if(f=t.getActiveUniform(d,a))if(f.size>1)for(var y=0;y<f.size;++y){var g=f.name.replace("[0]","["+y+"]");s(m,new u(g,n.id(g),t.getUniformLocation(d,g),f))}else s(m,new u(f.name,n.id(f.name),t.getUniformLocation(d,f.name),f));var b=t.getProgramParameter(d,35721);o.profile&&(e.stats.attributesCount=b);var _=e.attributes;for(a=0;a<b;++a)(f=t.getActiveAttrib(d,a))&&s(_,new u(f.name,n.id(f.name),t.getAttribLocation(d,f.name),f))}return o.profile&&(r.getMaxUniformsCount=function(){var t=0;return l.forEach((function(e){e.stats.uniformsCount>t&&(t=e.stats.uniformsCount)})),t},r.getMaxAttributesCount=function(){var t=0;return l.forEach((function(e){e.stats.attributesCount>t&&(t=e.stats.attributesCount)})),t}),{clear:function(){var e=t.deleteShader.bind(t);L(i).forEach(e),i={},L(a).forEach(e),a={},l.forEach((function(e){t.deleteProgram(e.program)})),l.length=0,f={},r.shaderCount=0},program:function(n,o,u,s){w.command(n>=0,"missing vertex shader",u),w.command(o>=0,"missing fragment shader",u);var c=f[o];c||(c=f[o]={});var h=c[n];if(h&&(h.refCount++,!s))return h;var v=new d(o,n);return r.shaderCount++,p(v,u,s),h||(c[n]=v),l.push(v),e(v,{destroy:function(){if(v.refCount--,v.refCount<=0){t.deleteProgram(v.program);var e=l.indexOf(v);l.splice(e,1),r.shaderCount--}c[v.vertId].refCount<=0&&(t.deleteShader(a[v.vertId]),delete a[v.vertId],delete f[v.fragId][v.vertId]),Object.keys(f[v.fragId]).length||(t.deleteShader(i[v.fragId]),delete i[v.fragId],delete f[v.fragId])}})},restore:function(){i={},a={};for(var t=0;t<l.length;++t)p(l[t],null,l[t].attributes.map((function(t){return[t.location,t.name]})))},shader:c,frag:-1,vert:-1}}(o,l,h,r),T=Tt(o,d,b,(function(){R.procs.poll()}),g,h,r),A=function(t,e,n,r,o){var i={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};e.ext_srgb&&(i.srgba=35907),e.ext_color_buffer_half_float&&(i.rgba16f=34842,i.rgb16f=34843),e.webgl_color_buffer_float&&(i.rgba32f=34836);var u=[];Object.keys(i).forEach((function(t){var e=i[t];u[e]=t}));var s=0,c={};function f(t){this.id=s++,this.refCount=1,this.renderbuffer=t,this.format=32854,this.width=0,this.height=0,o.profile&&(this.stats={size:0})}function l(e){var n=e.renderbuffer;w(n,"must not double destroy renderbuffer"),t.bindRenderbuffer(36161,null),t.deleteRenderbuffer(n),e.renderbuffer=null,e.refCount=0,delete c[e.id],r.renderbufferCount--}return f.prototype.decRef=function(){--this.refCount<=0&&l(this)},o.profile&&(r.getTotalRenderbufferSize=function(){var t=0;return Object.keys(c).forEach((function(e){t+=c[e].stats.size})),t}),{create:function(e,s){var l=new f(t.createRenderbuffer());function h(e,r){var s=0,c=0,f=32854;if("object"===a(e)&&e){var d=e;if("shape"in d){var p=d.shape;w(Array.isArray(p)&&p.length>=2,"invalid renderbuffer shape"),s=0|p[0],c=0|p[1]}else"radius"in d&&(s=c=0|d.radius),"width"in d&&(s=0|d.width),"height"in d&&(c=0|d.height);"format"in d&&(w.parameter(d.format,i,"invalid renderbuffer format"),f=i[d.format])}else"number"==typeof e?(s=0|e,c="number"==typeof r?0|r:s):e?w.raise("invalid arguments to renderbuffer constructor"):s=c=1;if(w(s>0&&c>0&&s<=n.maxRenderbufferSize&&c<=n.maxRenderbufferSize,"invalid renderbuffer size"),s!==l.width||c!==l.height||f!==l.format)return h.width=l.width=s,h.height=l.height=c,l.format=f,t.bindRenderbuffer(36161,l.renderbuffer),t.renderbufferStorage(36161,f,s,c),w(0===t.getError(),"invalid render buffer format"),o.profile&&(l.stats.size=It(l.format,l.width,l.height)),h.format=u[l.format],h}return c[l.id]=l,r.renderbufferCount++,h(e,s),h.resize=function(e,r){var i=0|e,a=0|r||i;return i===l.width&&a===l.height||(w(i>0&&a>0&&i<=n.maxRenderbufferSize&&a<=n.maxRenderbufferSize,"invalid renderbuffer size"),h.width=l.width=i,h.height=l.height=a,t.bindRenderbuffer(36161,l.renderbuffer),t.renderbufferStorage(36161,l.format,i,a),w(0===t.getError(),"invalid render buffer format"),o.profile&&(l.stats.size=It(l.format,l.width,l.height))),h},h._reglType="renderbuffer",h._renderbuffer=l,o.profile&&(h.stats=l.stats),h.destroy=function(){l.decRef()},h},clear:function(){L(c).forEach(l)},restore:function(){L(c).forEach((function(e){e.renderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,e.renderbuffer),t.renderbufferStorage(36161,e.format,e.width,e.height)})),t.bindRenderbuffer(36161,null)}}}(o,d,b,h,r),D=function(t,n,r,o,i,u){var s={cur:null,next:null,dirty:!1,setFBO:null},c=["rgba"],f=["rgba4","rgb565","rgb5 a1"];n.ext_srgb&&f.push("srgba"),n.ext_color_buffer_half_float&&f.push("rgba16f","rgb16f"),n.webgl_color_buffer_float&&f.push("rgba32f");var l=["uint8"];function h(t,e,n){this.target=t,this.texture=e,this.renderbuffer=n;var r=0,o=0;e?(r=e.width,o=e.height):n&&(r=n.width,o=n.height),this.width=r,this.height=o}function d(t){t&&(t.texture&&t.texture._texture.decRef(),t.renderbuffer&&t.renderbuffer._renderbuffer.decRef())}function p(t,e,n){if(t)if(t.texture){var r=t.texture._texture,o=Math.max(1,r.width),i=Math.max(1,r.height);w(o===e&&i===n,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var a=t.renderbuffer._renderbuffer;w(a.width===e&&a.height===n,"inconsistent width/height for renderbuffer"),a.refCount+=1}}function v(e,n){n&&(n.texture?t.framebufferTexture2D(36160,e,n.target,n.texture._texture.texture,0):t.framebufferRenderbuffer(36160,e,36161,n.renderbuffer._renderbuffer.renderbuffer))}function m(t){var e=3553,n=null,r=null,o=t;"object"===a(t)&&(o=t.data,"target"in t&&(e=0|t.target)),w.type(o,"function","invalid attachment data");var i=o._reglType;return"texture2d"===i?(n=o,w(3553===e)):"textureCube"===i?(n=o,w(e>=34069&&e<34075,"invalid cube map target")):"renderbuffer"===i?(r=o,e=36161):w.raise("invalid regl object for attachment"),new h(e,n,r)}function y(t,e,n,r,a){if(n){var u=o.create2D({width:t,height:e,format:r,type:a});return u._texture.refCount=0,new h(3553,u,null)}var s=i.create({width:t,height:e,format:r});return s._renderbuffer.refCount=0,new h(36161,null,s)}function g(t){return t&&(t.texture||t.renderbuffer)}function b(t,e,n){t&&(t.texture?t.texture.resize(e,n):t.renderbuffer&&t.renderbuffer.resize(e,n),t.width=e,t.height=n)}n.oes_texture_half_float&&l.push("half float","float16"),n.oes_texture_float&&l.push("float","float32");var _=0,x={};function E(){this.id=_++,x[this.id]=this,this.framebuffer=t.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function S(t){t.colorAttachments.forEach(d),d(t.depthAttachment),d(t.stencilAttachment),d(t.depthStencilAttachment)}function T(e){var n=e.framebuffer;w(n,"must not double destroy framebuffer"),t.deleteFramebuffer(n),e.framebuffer=null,u.framebufferCount--,delete x[e.id]}function A(e){var n;t.bindFramebuffer(36160,e.framebuffer);var o=e.colorAttachments;for(n=0;n<o.length;++n)v(36064+n,o[n]);for(n=o.length;n<r.maxColorAttachments;++n)t.framebufferTexture2D(36160,36064+n,3553,null,0);t.framebufferTexture2D(36160,33306,3553,null,0),t.framebufferTexture2D(36160,36096,3553,null,0),t.framebufferTexture2D(36160,36128,3553,null,0),v(36096,e.depthAttachment),v(36128,e.stencilAttachment),v(33306,e.depthStencilAttachment);var i=t.checkFramebufferStatus(36160);t.isContextLost()||36053===i||w.raise("framebuffer configuration not supported, status = "+Mt[i]),t.bindFramebuffer(36160,s.next?s.next.framebuffer:null),s.cur=s.next,t.getError()}function I(t,o){var i=new E;function a(t,e){var o;w(s.next!==i,"can not update framebuffer which is currently in use");var u=0,h=0,d=!0,v=!0,b=null,_=!0,x="rgba",E="uint8",T=1,I=null,k=null,O=null,D=!1;if("number"==typeof t)u=0|t,h=0|e||u;else if(t){w.type(t,"object","invalid arguments for framebuffer");var R=t;if("shape"in R){var M=R.shape;w(Array.isArray(M)&&M.length>=2,"invalid shape for framebuffer"),u=M[0],h=M[1]}else"radius"in R&&(u=h=R.radius),"width"in R&&(u=R.width),"height"in R&&(h=R.height);("color"in R||"colors"in R)&&(b=R.color||R.colors,Array.isArray(b)&&w(1===b.length||n.webgl_draw_buffers,"multiple render targets not supported")),b||("colorCount"in R&&(T=0|R.colorCount,w(T>0,"invalid color buffer count")),"colorTexture"in R&&(_=!!R.colorTexture,x="rgba4"),"colorType"in R&&(E=R.colorType,_?(w(n.oes_texture_float||!("float"===E||"float32"===E),"you must enable OES_texture_float in order to use floating point framebuffer objects"),w(n.oes_texture_half_float||!("half float"===E||"float16"===E),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===E||"float16"===E?(w(n.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),x="rgba16f"):"float"!==E&&"float32"!==E||(w(n.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),x="rgba32f"),w.oneOf(E,l,"invalid color type")),"colorFormat"in R&&(x=R.colorFormat,c.indexOf(x)>=0?_=!0:f.indexOf(x)>=0?_=!1:_?w.oneOf(R.colorFormat,c,"invalid color format for texture"):w.oneOf(R.colorFormat,f,"invalid color format for renderbuffer"))),("depthTexture"in R||"depthStencilTexture"in R)&&(D=!(!R.depthTexture&&!R.depthStencilTexture),w(!D||n.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in R&&("boolean"==typeof R.depth?d=R.depth:(I=R.depth,v=!1)),"stencil"in R&&("boolean"==typeof R.stencil?v=R.stencil:(k=R.stencil,d=!1)),"depthStencil"in R&&("boolean"==typeof R.depthStencil?d=v=R.depthStencil:(O=R.depthStencil,d=!1,v=!1))}else u=h=1;var C=null,N=null,P=null,G=null;if(Array.isArray(b))C=b.map(m);else if(b)C=[m(b)];else for(C=new Array(T),o=0;o<T;++o)C[o]=y(u,h,_,x,E);w(n.webgl_draw_buffers||C.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),w(C.length<=r.maxColorAttachments,"too many color attachments, not supported"),u=u||C[0].width,h=h||C[0].height,I?N=m(I):d&&!v&&(N=y(u,h,D,"depth","uint32")),k?P=m(k):v&&!d&&(P=y(u,h,!1,"stencil","uint8")),O?G=m(O):!I&&!k&&v&&d&&(G=y(u,h,D,"depth stencil","depth stencil")),w(!!I+!!k+!!O<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var j=null;for(o=0;o<C.length;++o)if(p(C[o],u,h),w(!C[o]||C[o].texture&&kt.indexOf(C[o].texture._texture.format)>=0||C[o].renderbuffer&&Rt.indexOf(C[o].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+o+" is invalid"),C[o]&&C[o].texture){var L=Ot[C[o].texture._texture.format]*Dt[C[o].texture._texture.type];null===j?j=L:w(j===L,"all color attachments much have the same number of bits per pixel.")}return p(N,u,h),w(!N||N.texture&&6402===N.texture._texture.format||N.renderbuffer&&33189===N.renderbuffer._renderbuffer.format,"invalid depth attachment for framebuffer object"),p(P,u,h),w(!P||P.renderbuffer&&36168===P.renderbuffer._renderbuffer.format,"invalid stencil attachment for framebuffer object"),p(G,u,h),w(!G||G.texture&&34041===G.texture._texture.format||G.renderbuffer&&34041===G.renderbuffer._renderbuffer.format,"invalid depth-stencil attachment for framebuffer object"),S(i),i.width=u,i.height=h,i.colorAttachments=C,i.depthAttachment=N,i.stencilAttachment=P,i.depthStencilAttachment=G,a.color=C.map(g),a.depth=g(N),a.stencil=g(P),a.depthStencil=g(G),a.width=i.width,a.height=i.height,A(i),a}return u.framebufferCount++,a(t,o),e(a,{resize:function(t,e){w(s.next!==i,"can not resize a framebuffer which is currently in use");var n=Math.max(0|t,1),r=Math.max(0|e||n,1);if(n===i.width&&r===i.height)return a;for(var o=i.colorAttachments,u=0;u<o.length;++u)b(o[u],n,r);return b(i.depthAttachment,n,r),b(i.stencilAttachment,n,r),b(i.depthStencilAttachment,n,r),i.width=a.width=n,i.height=a.height=r,A(i),a},_reglType:"framebuffer",_framebuffer:i,destroy:function(){T(i),S(i)},use:function(t){s.setFBO({framebuffer:a},t)}})}return e(s,{getFramebuffer:function(t){if("function"==typeof t&&"framebuffer"===t._reglType){var e=t._framebuffer;if(e instanceof E)return e}return null},create:I,createCube:function(t){var i=Array(6);function a(t){var r;w(i.indexOf(s.next)<0,"can not update framebuffer which is currently in use");var u,f={color:null},h=0,d=null,p="rgba",v="uint8",m=1;if("number"==typeof t)h=0|t;else if(t){w.type(t,"object","invalid arguments for framebuffer");var y=t;if("shape"in y){var g=y.shape;w(Array.isArray(g)&&g.length>=2,"invalid shape for framebuffer"),w(g[0]===g[1],"cube framebuffer must be square"),h=g[0]}else"radius"in y&&(h=0|y.radius),"width"in y?(h=0|y.width,"height"in y&&w(y.height===h,"must be square")):"height"in y&&(h=0|y.height);("color"in y||"colors"in y)&&(d=y.color||y.colors,Array.isArray(d)&&w(1===d.length||n.webgl_draw_buffers,"multiple render targets not supported")),d||("colorCount"in y&&(m=0|y.colorCount,w(m>0,"invalid color buffer count")),"colorType"in y&&(w.oneOf(y.colorType,l,"invalid color type"),v=y.colorType),"colorFormat"in y&&(p=y.colorFormat,w.oneOf(y.colorFormat,c,"invalid color format for texture"))),"depth"in y&&(f.depth=y.depth),"stencil"in y&&(f.stencil=y.stencil),"depthStencil"in y&&(f.depthStencil=y.depthStencil)}else h=1;if(d)if(Array.isArray(d))for(u=[],r=0;r<d.length;++r)u[r]=d[r];else u=[d];else{u=Array(m);var b={radius:h,format:p,type:v};for(r=0;r<m;++r)u[r]=o.createCube(b)}for(f.color=Array(u.length),r=0;r<u.length;++r){var _=u[r];w("function"==typeof _&&"textureCube"===_._reglType,"invalid cube map"),h=h||_.width,w(_.width===h&&_.height===h,"invalid cube map shape"),f.color[r]={target:34069,data:u[r]}}for(r=0;r<6;++r){for(var x=0;x<u.length;++x)f.color[x].target=34069+r;r>0&&(f.depth=i[0].depth,f.stencil=i[0].stencil,f.depthStencil=i[0].depthStencil),i[r]?i[r](f):i[r]=I(f)}return e(a,{width:h,height:h,color:u})}return a(t),e(a,{faces:i,resize:function(t){var e,n=0|t;if(w(n>0&&n<=r.maxCubeMapSize,"invalid radius for cube fbo"),n===a.width)return a;var o=a.color;for(e=0;e<o.length;++e)o[e].resize(n);for(e=0;e<6;++e)i[e].resize(n);return a.width=a.height=n,a},_reglType:"framebufferCube",destroy:function(){i.forEach((function(t){t.destroy()}))}})},clear:function(){L(x).forEach(T)},restore:function(){s.cur=null,s.next=null,s.dirty=!0,L(x).forEach((function(e){e.framebuffer=t.createFramebuffer(),A(e)}))}})}(o,d,b,T,A,h),R=fe(o,l,d,b,_,E,0,D,{},x,S,{elements:null,primitive:4,count:-1,offset:0,instances:-1},g,p,r),C=Nt(o,D,R.procs.poll,g,i,d,b),N=R.next,P=o.canvas,U=[],B=[],F=[],Q=[r.onDestroy],J=null;function $(){if(0===U.length)return p&&p.update(),void(J=null);J=k.next($),ct();for(var t=U.length-1;t>=0;--t){var e=U[t];e&&e(g,null,0)}o.flush(),p&&p.update()}function tt(){!J&&U.length>0&&(J=k.next($))}function et(){J&&(k.cancel($),J=null)}function nt(t){t.preventDefault(),u=!0,et(),B.forEach((function(t){t()}))}function rt(t){o.getError(),u=!1,s.restore(),S.restore(),_.restore(),T.restore(),A.restore(),D.restore(),x.restore(),p&&p.restore(),R.procs.refresh(),tt(),F.forEach((function(t){t()}))}function ot(t){function n(t,e){var n={},r={};return Object.keys(t).forEach((function(o){var i=t[o];if(I.isDynamic(i))r[o]=I.unbox(i,o);else{if(e&&Array.isArray(i))for(var a=0;a<i.length;++a)if(I.isDynamic(i[a]))return void(r[o]=I.unbox(i,o));n[o]=i}})),{dynamic:r,static:n}}w(!!t,"invalid args to regl({...})"),w.type(t,"object","invalid args to regl({...})");var r=n(t.context||{},!0),o=n(t.uniforms||{},!0),i=n(t.attributes||{},!1),a=n(function(t){var n=e({},t);function r(t){if(t in n){var e=n[t];delete n[t],Object.keys(e).forEach((function(r){n[t+"."+r]=e[r]}))}}return delete n.uniforms,delete n.attributes,delete n.context,delete n.vao,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),"vao"in t&&(n.vao=t.vao),n}(t),!1),s={gpuTime:0,cpuTime:0,count:0},c=R.compile(a,i,o,r,s),f=c.draw,l=c.batch,h=c.scope,d=[];return e((function(t,e){var n;if(u&&w.raise("context lost"),"function"==typeof t)return h.call(this,null,t,0);if("function"==typeof e)if("number"==typeof t)for(n=0;n<t;++n)h.call(this,null,e,n);else{if(!Array.isArray(t))return h.call(this,t,e,0);for(n=0;n<t.length;++n)h.call(this,t[n],e,n)}else if("number"==typeof t){if(t>0)return l.call(this,function(t){for(;d.length<t;)d.push(null);return d}(0|t),0|t)}else{if(!Array.isArray(t))return f.call(this,t);if(t.length)return l.call(this,t,t.length)}}),{stats:s,destroy:function(){c.destroy()}})}P&&(P.addEventListener("webglcontextlost",nt,!1),P.addEventListener("webglcontextrestored",rt,!1));var it=D.setFBO=ot({framebuffer:I.define.call(null,1,"framebuffer")});function at(t,e){var n=0;R.procs.poll();var r=e.color;r&&(o.clearColor(+r[0]||0,+r[1]||0,+r[2]||0,+r[3]||0),n|=16384),"depth"in e&&(o.clearDepth(+e.depth),n|=256),"stencil"in e&&(o.clearStencil(0|e.stencil),n|=1024),w(!!n,"called regl.clear with no buffer specified"),o.clear(n)}function ut(t){return w.type(t,"function","regl.frame() callback must be a function"),U.push(t),tt(),{cancel:function(){var e=he(U,t);w(e>=0,"cannot cancel a frame twice"),U[e]=function t(){var e=he(U,t);U[e]=U[U.length-1],U.length-=1,U.length<=0&&et()}}}}function st(){var t=N.viewport,e=N.scissor_box;t[0]=t[1]=e[0]=e[1]=0,g.viewportWidth=g.framebufferWidth=g.drawingBufferWidth=t[2]=e[2]=o.drawingBufferWidth,g.viewportHeight=g.framebufferHeight=g.drawingBufferHeight=t[3]=e[3]=o.drawingBufferHeight}function ct(){g.tick+=1,g.time=lt(),st(),R.procs.poll()}function ft(){T.refresh(),st(),R.procs.refresh(),p&&p.update()}function lt(){return(O()-v)/1e3}ft();var ht=e(ot,{clear:function(t){if(w("object"===a(t)&&t,"regl.clear() takes an object as input"),"framebuffer"in t)if(t.framebuffer&&"framebufferCube"===t.framebuffer_reglType)for(var n=0;n<6;++n)it(e({framebuffer:t.framebuffer.faces[n]},t),at);else it(t,at);else at(0,t)},prop:I.define.bind(null,1),context:I.define.bind(null,2),this:I.define.bind(null,3),draw:ot({}),buffer:function(t){return _.create(t,34962,!1,!1)},elements:function(t){return E.create(t,!1)},texture:T.create2D,cube:T.createCube,renderbuffer:A.create,framebuffer:D.create,framebufferCube:D.createCube,vao:x.createVAO,attributes:i,frame:ut,on:function(t,e){var n;switch(w.type(e,"function","listener callback must be a function"),t){case"frame":return ut(e);case"lost":n=B;break;case"restore":n=F;break;case"destroy":n=Q;break;default:w.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(e),{cancel:function(){for(var t=0;t<n.length;++t)if(n[t]===e)return n[t]=n[n.length-1],void n.pop()}}},limits:b,hasExtension:function(t){return b.extensions.indexOf(t.toLowerCase())>=0},read:C,destroy:function(){U.length=0,et(),P&&(P.removeEventListener("webglcontextlost",nt),P.removeEventListener("webglcontextrestored",rt)),S.clear(),D.clear(),A.clear(),T.clear(),E.clear(),_.clear(),x.clear(),p&&p.clear(),Q.forEach((function(t){t()}))},_gl:o,_refresh:ft,poll:function(){ct(),p&&p.update()},now:lt,stats:h});return r.onDone(null,ht),ht}},"object"===a(e)&&void 0!==t?t.exports=i():void 0===(o="function"==typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=o)},,,,,,,,function(t,e,n){var r=n(198);t.exports={Graph:r.Graph,json:n(299),alg:n(300),version:r.version}},function(t,e,n){t.exports={Graph:n(74),version:n(298)}},function(t,e,n){var r=n(104);t.exports=function(t){return r(t,4)}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(56),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():o.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(56);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(56);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(56);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},function(t,e,n){var r=n(55);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(55),o=n(75),i=n(76);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(46),o=n(213),i=n(21),a=n(107),u=/^\\[object .+?Constructor\\]$/,s=Function.prototype,c=Object.prototype,f=s.toString,l=c.hasOwnProperty,h=RegExp("^"+f.call(l).replace(/[\\\\^$.*+?()[\\]{}|]/g,"\\\\$&").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?h:u).test(a(t))}},function(t,e,n){var r=n(42),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[u]=n:delete t[u]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r,o=n(214),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(24)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(217),o=n(55),i=n(75);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(t,e,n){var r=n(218),o=n(219),i=n(220),a=n(221),u=n(222);function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e,n){var r=n(57);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(57),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(57),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},function(t,e,n){var r=n(57);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(58);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){var e=n(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(58);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(58);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(58);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},function(t,e,n){var r=n(47),o=n(32);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(31),o=n(25);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(31),o=n(78),i=n(25),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}},function(t,e,n){var r=n(110)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(47),o=n(38);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e,n){var r=n(21),o=n(64),i=n(236),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var u in t)("constructor"!=u||!e&&a.call(t,u))&&n.push(u);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(47),o=n(81);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,n){var r=n(47),o=n(115);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,n){var r=n(117),o=n(115),i=n(38);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(37)(n(24),"DataView");t.exports=r},function(t,e,n){var r=n(37)(n(24),"Promise");t.exports=r},function(t,e,n){var r=n(37)(n(24),"WeakMap");t.exports=r},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(83),o=n(245),i=n(246),a=n(247),u=n(120);t.exports=function(t,e,n){var s=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new s(+t);case"[object DataView]":return o(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(t,n);case"[object Map]":return new s;case"[object Number]":case"[object String]":return new s(t);case"[object RegExp]":return i(t);case"[object Set]":return new s;case"[object Symbol]":return a(t)}}},function(t,e,n){var r=n(83);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(42),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},function(t,e,n){var r=n(249),o=n(63),i=n(79),a=i&&i.isMap,u=a?o(a):r;t.exports=u},function(t,e,n){var r=n(44),o=n(25);t.exports=function(t){return o(t)&&"[object Map]"==r(t)}},function(t,e,n){var r=n(251),o=n(63),i=n(79),a=i&&i.isSet,u=a?o(a):r;t.exports=u},function(t,e,n){var r=n(44),o=n(25);t.exports=function(t){return o(t)&&"[object Set]"==r(t)}},function(t,e){t.exports=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),u=a.length;u--;){var s=a[t?u:++o];if(!1===n(i[s],s,i))break}return e}}},function(t,e,n){var r=n(28);t.exports=function(t,e){return function(n,o){if(null==n)return n;if(!r(n))return t(n,o);for(var i=n.length,a=e?i:-1,u=Object(n);(e?a--:++a<i)&&!1!==o(u[a],a,u););return n}}},function(t,e,n){var r=n(66);t.exports=function(t,e){var n=[];return r(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}},function(t,e,n){var r=n(256),o=n(264),i=n(132);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(54),o=n(127);t.exports=function(t,e,n,i){var a=n.length,u=a,s=!i;if(null==t)return!u;for(t=Object(t);a--;){var c=n[a];if(s&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<u;){var f=(c=n[a])[0],l=t[f],h=c[1];if(s&&c[2]){if(void 0===l&&!(f in t))return!1}else{var d=new r;if(i)var p=i(l,h,f,t,e,d);if(!(void 0===p?o(h,l,3,i,d):p))return!1}}return!0}},function(t,e,n){var r=n(54),o=n(128),i=n(261),a=n(263),u=n(44),s=n(13),c=n(43),f=n(22),l="[object Object]",h=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,d,p,v){var m=s(t),y=s(e),g=m?"[object Array]":u(t),b=y?"[object Array]":u(e),_=(g="[object Arguments]"==g?l:g)==l,x=(b="[object Arguments]"==b?l:b)==l,w=g==b;if(w&&c(t)){if(!c(e))return!1;m=!0,_=!1}if(w&&!_)return v||(v=new r),m||f(t)?o(t,e,n,d,p,v):i(t,e,g,n,d,p,v);if(!(1&n)){var E=_&&h.call(t,"__wrapped__"),S=x&&h.call(e,"__wrapped__");if(E||S){var T=E?t.value():t,A=S?e.value():e;return v||(v=new r),p(T,A,n,d,v)}}return!!w&&(v||(v=new r),a(t,e,n,d,p,v))}},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e,n){var r=n(42),o=n(119),i=n(41),a=n(128),u=n(262),s=n(87),c=r?r.prototype:void 0,f=c?c.valueOf:void 0;t.exports=function(t,e,n,r,c,l,h){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!l(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var d=u;case"[object Set]":var p=1&r;if(d||(d=s),t.size!=e.size&&!p)return!1;var v=h.get(t);if(v)return v==e;r|=2,h.set(t,e);var m=a(d(t),d(e),r,c,l,h);return h.delete(t),m;case"[object Symbol]":if(f)return f.call(t)==f.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},function(t,e,n){var r=n(116),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,i,a,u){var s=1&n,c=r(t),f=c.length;if(f!=r(e).length&&!s)return!1;for(var l=f;l--;){var h=c[l];if(!(s?h in e:o.call(e,h)))return!1}var d=u.get(t),p=u.get(e);if(d&&p)return d==e&&p==t;var v=!0;u.set(t,e),u.set(e,t);for(var m=s;++l<f;){var y=t[h=c[l]],g=e[h];if(i)var b=s?i(g,y,h,e,t,u):i(y,g,h,t,e,u);if(!(void 0===b?y===g||a(y,g,n,i,u):b)){v=!1;break}m||(m="constructor"==h)}if(v&&!m){var _=t.constructor,x=e.constructor;_==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x||(v=!1)}return u.delete(t),u.delete(e),v}},function(t,e,n){var r=n(131),o=n(32);t.exports=function(t){for(var e=o(t),n=e.length;n--;){var i=e[n],a=t[i];e[n]=[i,a,r(a)]}return e}},function(t,e,n){var r=n(127),o=n(266),i=n(134),a=n(88),u=n(131),s=n(132),c=n(49);t.exports=function(t,e){return a(t)&&u(e)?s(c(t),e):function(n){var a=o(n,t);return void 0===a&&a===e?i(n,t):r(e,a,3)}}},function(t,e,n){var r=n(67);t.exports=function(t,e,n){var o=null==t?void 0:r(t,e);return void 0===o?n:o}},function(t,e,n){var r=n(268),o=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,i=/\\\\(\\\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)})),e}));t.exports=a},function(t,e,n){var r=n(269);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(76);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},function(t,e,n){var r=n(42),o=n(69),i=n(13),a=n(45),u=r?r.prototype:void 0,s=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return s?s.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(136),o=n(273),i=n(88),a=n(49);t.exports=function(t){return i(t)?r(a(t)):o(t)}},function(t,e,n){var r=n(67);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&n.call(t,e)}},function(t,e,n){var r=n(80),o=n(44),i=n(48),a=n(13),u=n(28),s=n(43),c=n(64),f=n(22),l=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(u(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||s(t)||f(t)||i(t)))return!t.length;var e=o(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(c(t))return!r(t).length;for(var n in t)if(l.call(t,n))return!1;return!0}},function(t,e){t.exports=function(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}},function(t,e){t.exports=function(t,e,n,r,o){return o(t,(function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)})),n}},function(t,e,n){var r=n(80),o=n(44),i=n(28),a=n(279),u=n(280);t.exports=function(t){if(null==t)return 0;if(i(t))return a(t)?u(t):t.length;var e=o(t);return"[object Map]"==e||"[object Set]"==e?t.size:r(t).length}},function(t,e,n){var r=n(31),o=n(13),i=n(25);t.exports=function(t){return"string"==typeof t||!o(t)&&i(t)&&"[object String]"==r(t)}},function(t,e,n){var r=n(281),o=n(282),i=n(283);t.exports=function(t){return o(t)?i(t):r(t)}},function(t,e,n){var r=n(136)("length");t.exports=r},function(t,e){var n=RegExp("[\\\\u200d\\\\ud800-\\\\udfff\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff\\\\ufe0e\\\\ufe0f]");t.exports=function(t){return n.test(t)}},function(t,e){var n="[\\\\ud800-\\\\udfff]",r="[\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff]",o="\\\\ud83c[\\\\udffb-\\\\udfff]",i="[^\\\\ud800-\\\\udfff]",a="(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}",u="[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]",s="(?:"+r+"|"+o+")"+"?",c="[\\\\ufe0e\\\\ufe0f]?"+s+("(?:\\\\u200d(?:"+[i,a,u].join("|")+")[\\\\ufe0e\\\\ufe0f]?"+s+")*"),f="(?:"+[i+r+"?",r,a,u,n].join("|")+")",l=RegExp(o+"(?="+o+")|"+f+c,"g");t.exports=function(t){for(var e=l.lastIndex=0;l.test(t);)++e;return e}},function(t,e,n){var r=n(77),o=n(122),i=n(85),a=n(29),u=n(65),s=n(13),c=n(43),f=n(46),l=n(21),h=n(22);t.exports=function(t,e,n){var d=s(t),p=d||c(t)||h(t);if(e=a(e,4),null==n){var v=t&&t.constructor;n=p?d?new v:[]:l(t)&&f(v)?o(u(t)):{}}return(p?r:i)(t,(function(t,r,o){return e(n,t,r,o)})),n}},function(t,e,n){var r=n(89),o=n(70),i=n(144),a=n(146),u=o((function(t){return i(r(t,1,a,!0))}));t.exports=u},function(t,e,n){var r=n(42),o=n(48),i=n(13),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(84),o=n(108),i=n(39),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=a},function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var o=n(),i=16-(o-r);if(r=o,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(291);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},function(t,e,n){var r=n(145),o=n(292),i=n(293);t.exports=function(t,e,n){return e==e?i(t,e,n):r(t,o,n)}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}},function(t,e){t.exports=function(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}},function(t,e,n){var r=n(118),o=n(296),i=n(87),a=r&&1/i(new r([,-0]))[1]==1/0?function(t){return new r(t)}:o;t.exports=a},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(69);t.exports=function(t,e){return r(e,(function(e){return t[e]}))}},function(t,e){t.exports="2.1.8"},function(t,e,n){var r=n(20),o=n(74);function i(t){return r.map(t.nodes(),(function(e){var n=t.node(e),o=t.parent(e),i={v:e};return r.isUndefined(n)||(i.value=n),r.isUndefined(o)||(i.parent=o),i}))}function a(t){return r.map(t.edges(),(function(e){var n=t.edge(e),o={v:e.v,w:e.w};return r.isUndefined(e.name)||(o.name=e.name),r.isUndefined(n)||(o.value=n),o}))}t.exports={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:i(t),edges:a(t)};r.isUndefined(t.graph())||(e.value=r.clone(t.graph()));return e},read:function(t){var e=new o(t.options).setGraph(t.value);return r.each(t.nodes,(function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)})),r.each(t.edges,(function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)})),e}}},function(t,e,n){t.exports={components:n(301),dijkstra:n(148),dijkstraAll:n(302),findCycles:n(303),floydWarshall:n(304),isAcyclic:n(305),postorder:n(306),preorder:n(307),prim:n(308),tarjan:n(150),topsort:n(151)}},function(t,e,n){var r=n(20);t.exports=function(t){var e,n={},o=[];function i(o){r.has(n,o)||(n[o]=!0,e.push(o),r.each(t.successors(o),i),r.each(t.predecessors(o),i))}return r.each(t.nodes(),(function(t){e=[],i(t),e.length&&o.push(e)})),o}},function(t,e,n){var r=n(148),o=n(20);t.exports=function(t,e,n){return o.transform(t.nodes(),(function(o,i){o[i]=r(t,i,e,n)}),{})}},function(t,e,n){var r=n(20),o=n(150);t.exports=function(t){return r.filter(o(t),(function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])}))}},function(t,e,n){var r=n(20);t.exports=function(t,e,n){return function(t,e,n){var r={},o=t.nodes();return o.forEach((function(t){r[t]={},r[t][t]={distance:0},o.forEach((function(e){t!==e&&(r[t][e]={distance:Number.POSITIVE_INFINITY})})),n(t).forEach((function(n){var o=n.v===t?n.w:n.v,i=e(n);r[t][o]={distance:i,predecessor:t}}))})),o.forEach((function(t){var e=r[t];o.forEach((function(n){var i=r[n];o.forEach((function(n){var r=i[t],o=e[n],a=i[n],u=r.distance+o.distance;u<a.distance&&(a.distance=u,a.predecessor=o.predecessor)}))}))})),r}(t,e||o,n||function(e){return t.outEdges(e)})};var o=r.constant(1)},function(t,e,n){var r=n(151);t.exports=function(t){try{r(t)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},function(t,e,n){var r=n(152);t.exports=function(t,e){return r(t,e,"post")}},function(t,e,n){var r=n(152);t.exports=function(t,e){return r(t,e,"pre")}},function(t,e,n){var r=n(20),o=n(74),i=n(149);t.exports=function(t,e){var n,a=new o,u={},s=new i;function c(t){var r=t.v===n?t.w:t.v,o=s.priority(r);if(void 0!==o){var i=e(t);i<o&&(u[r]=n,s.decrease(r,i))}}if(0===t.nodeCount())return a;r.each(t.nodes(),(function(t){s.add(t,Number.POSITIVE_INFINITY),a.setNode(t)})),s.decrease(t.nodes()[0],0);var f=!1;for(;s.size()>0;){if(n=s.removeMin(),r.has(u,n))a.setEdge(n,u[n]);else{if(f)throw new Error("Input graph is not connected: "+t);f=!0}t.nodeEdges(n).forEach(c)}return a}},function(t,e,n){"use strict";var r=n(11),o=n(346),i=n(349),a=n(350),u=n(18).normalizeRanks,s=n(352),c=n(18).removeEmptyRanks,f=n(353),l=n(354),h=n(355),d=n(356),p=n(365),v=n(18),m=n(23).Graph;t.exports=function(t,e){var n=e&&e.debugTiming?v.time:v.notime;n("layout",(function(){var e=n("  buildLayoutGraph",(function(){return function(t){var e=new m({multigraph:!0,compound:!0}),n=A(t.graph());return e.setGraph(r.merge({},g,T(n,y),r.pick(n,b))),r.forEach(t.nodes(),(function(n){var o=A(t.node(n));e.setNode(n,r.defaults(T(o,_),x)),e.setParent(n,t.parent(n))})),r.forEach(t.edges(),(function(n){var o=A(t.edge(n));e.setEdge(n,r.merge({},E,T(o,w),r.pick(o,S)))})),e}(t)}));n("  runLayout",(function(){!function(t,e){e("    makeSpaceForEdgeLabels",(function(){!function(t){var e=t.graph();e.ranksep/=2,r.forEach(t.edges(),(function(n){var r=t.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(t)})),e("    removeSelfEdges",(function(){!function(t){r.forEach(t.edges(),(function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}}))}(t)})),e("    acyclic",(function(){o.run(t)})),e("    nestingGraph.run",(function(){f.run(t)})),e("    rank",(function(){a(v.asNonCompoundGraph(t))})),e("    injectEdgeLabelProxies",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),o={rank:(t.node(e.w).rank-r.rank)/2+r.rank,e:e};v.addDummyNode(t,"edge-proxy",o,"_ep")}}))}(t)})),e("    removeEmptyRanks",(function(){c(t)})),e("    nestingGraph.cleanup",(function(){f.cleanup(t)})),e("    normalizeRanks",(function(){u(t)})),e("    assignRankMinMax",(function(){!function(t){var e=0;r.forEach(t.nodes(),(function(n){var o=t.node(n);o.borderTop&&(o.minRank=t.node(o.borderTop).rank,o.maxRank=t.node(o.borderBottom).rank,e=r.max(e,o.maxRank))})),t.graph().maxRank=e}(t)})),e("    removeEdgeLabelProxies",(function(){!function(t){r.forEach(t.nodes(),(function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))}))}(t)})),e("    normalize.run",(function(){i.run(t)})),e("    parentDummyChains",(function(){s(t)})),e("    addBorderSegments",(function(){l(t)})),e("    order",(function(){d(t)})),e("    insertSelfEdges",(function(){!function(t){var e=v.buildLayerMatrix(t);r.forEach(e,(function(e){var n=0;r.forEach(e,(function(e,o){var i=t.node(e);i.order=o+n,r.forEach(i.selfEdges,(function(e){v.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:i.rank,order:o+ ++n,e:e.e,label:e.label},"_se")})),delete i.selfEdges}))}))}(t)})),e("    adjustCoordinateSystem",(function(){h.adjust(t)})),e("    position",(function(){p(t)})),e("    positionSelfEdges",(function(){!function(t){r.forEach(t.nodes(),(function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),o=r.x+r.width/2,i=r.y,a=n.x-o,u=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:o+2*a/3,y:i-u},{x:o+5*a/6,y:i-u},{x:o+a,y:i},{x:o+5*a/6,y:i+u},{x:o+2*a/3,y:i+u}],n.label.x=n.x,n.label.y=n.y}}))}(t)})),e("    removeBorderNodes",(function(){!function(t){r.forEach(t.nodes(),(function(e){if(t.children(e).length){var n=t.node(e),o=t.node(n.borderTop),i=t.node(n.borderBottom),a=t.node(r.last(n.borderLeft)),u=t.node(r.last(n.borderRight));n.width=Math.abs(u.x-a.x),n.height=Math.abs(i.y-o.y),n.x=a.x+n.width/2,n.y=o.y+n.height/2}})),r.forEach(t.nodes(),(function(e){"border"===t.node(e).dummy&&t.removeNode(e)}))}(t)})),e("    normalize.undo",(function(){i.undo(t)})),e("    fixupEdgeLabelCoords",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(t)})),e("    undoCoordinateSystem",(function(){h.undo(t)})),e("    translateGraph",(function(){!function(t){var e=Number.POSITIVE_INFINITY,n=0,o=Number.POSITIVE_INFINITY,i=0,a=t.graph(),u=a.marginx||0,s=a.marginy||0;function c(t){var r=t.x,a=t.y,u=t.width,s=t.height;e=Math.min(e,r-u/2),n=Math.max(n,r+u/2),o=Math.min(o,a-s/2),i=Math.max(i,a+s/2)}r.forEach(t.nodes(),(function(e){c(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.has(n,"x")&&c(n)})),e-=u,o-=s,r.forEach(t.nodes(),(function(n){var r=t.node(n);r.x-=e,r.y-=o})),r.forEach(t.edges(),(function(n){var i=t.edge(n);r.forEach(i.points,(function(t){t.x-=e,t.y-=o})),r.has(i,"x")&&(i.x-=e),r.has(i,"y")&&(i.y-=o)})),a.width=n-e+u,a.height=i-o+s}(t)})),e("    assignNodeIntersects",(function(){!function(t){r.forEach(t.edges(),(function(e){var n,r,o=t.edge(e),i=t.node(e.v),a=t.node(e.w);o.points?(n=o.points[0],r=o.points[o.points.length-1]):(o.points=[],n=a,r=i),o.points.unshift(v.intersectRect(i,n)),o.points.push(v.intersectRect(a,r))}))}(t)})),e("    reversePoints",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);n.reversed&&n.points.reverse()}))}(t)})),e("    acyclic.undo",(function(){o.undo(t)}))}(e,n)})),n("  updateInputGraph",(function(){!function(t,e){r.forEach(t.nodes(),(function(n){var r=t.node(n),o=e.node(n);r&&(r.x=o.x,r.y=o.y,e.children(n).length&&(r.width=o.width,r.height=o.height))})),r.forEach(t.edges(),(function(n){var o=t.edge(n),i=e.edge(n);o.points=i.points,r.has(i,"x")&&(o.x=i.x,o.y=i.y)})),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)}))}))};var y=["nodesep","edgesep","ranksep","marginx","marginy"],g={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],_=["width","height"],x={width:0,height:0},w=["minlen","weight","width","height","labeloffset"],E={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},S=["labelpos"];function T(t,e){return r.mapValues(r.pick(t,e),Number)}function A(t){var e={};return r.forEach(t,(function(t,n){e[n.toLowerCase()]=t})),e}},function(t,e,n){var r=n(104);t.exports=function(t){return r(t,5)}},function(t,e,n){var r=n(70),o=n(41),i=n(71),a=n(38),u=Object.prototype,s=u.hasOwnProperty,c=r((function(t,e){t=Object(t);var n=-1,r=e.length,c=r>2?e[2]:void 0;for(c&&i(e[0],e[1],c)&&(r=1);++n<r;)for(var f=e[n],l=a(f),h=-1,d=l.length;++h<d;){var p=l[h],v=t[p];(void 0===v||o(v,u[p])&&!s.call(t,p))&&(t[p]=f[p])}return t}));t.exports=c},function(t,e,n){var r=n(313)(n(314));t.exports=r},function(t,e,n){var r=n(29),o=n(28),i=n(32);t.exports=function(t){return function(e,n,a){var u=Object(e);if(!o(e)){var s=r(n,3);e=i(e),n=function(t){return s(u[t],t,u)}}var c=t(e,n,a);return c>-1?u[s?e[c]:c]:void 0}}},function(t,e,n){var r=n(145),o=n(29),i=n(315),a=Math.max;t.exports=function(t,e,n){var u=null==t?0:t.length;if(!u)return-1;var s=null==n?0:i(n);return s<0&&(s=a(u+s,0)),r(t,o(e,3),s)}},function(t,e,n){var r=n(153);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},function(t,e,n){var r=n(21),o=n(45),i=/^\\s+|\\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var n=u.test(t);return n||s.test(t)?c(t.slice(2),n?2:8):a.test(t)?NaN:+t}},function(t,e,n){var r=n(86),o=n(125),i=n(38);t.exports=function(t,e){return null==t?t:r(t,o(e),i)}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var r=n(60),o=n(85),i=n(29);t.exports=function(t,e){var n={};return e=i(e,3),o(t,(function(t,o,i){r(n,o,e(t,o,i))})),n}},function(t,e,n){var r=n(90),o=n(321),i=n(39);t.exports=function(t){return t&&t.length?r(t,i,o):void 0}},function(t,e){t.exports=function(t,e){return t>e}},function(t,e,n){var r=n(323),o=n(326)((function(t,e,n){r(t,e,n)}));t.exports=o},function(t,e,n){var r=n(54),o=n(155),i=n(86),a=n(324),u=n(21),s=n(38),c=n(156);t.exports=function t(e,n,f,l,h){e!==n&&i(n,(function(i,s){if(h||(h=new r),u(i))a(e,n,s,f,t,l,h);else{var d=l?l(c(e,s),i,s+"",e,n,h):void 0;void 0===d&&(d=i),o(e,s,d)}}),s)}},function(t,e,n){var r=n(155),o=n(111),i=n(120),a=n(112),u=n(121),s=n(48),c=n(13),f=n(146),l=n(43),h=n(46),d=n(21),p=n(101),v=n(22),m=n(156),y=n(325);t.exports=function(t,e,n,g,b,_,x){var w=m(t,n),E=m(e,n),S=x.get(E);if(S)r(t,n,S);else{var T=_?_(w,E,n+"",t,e,x):void 0,A=void 0===T;if(A){var I=c(E),k=!I&&l(E),O=!I&&!k&&v(E);T=E,I||k||O?c(w)?T=w:f(w)?T=a(w):k?(A=!1,T=o(E,!0)):O?(A=!1,T=i(E,!0)):T=[]:p(E)||s(E)?(T=w,s(w)?T=y(w):d(w)&&!h(w)||(T=u(E))):A=!1}A&&(x.set(E,T),b(T,E,g,_,x),x.delete(E)),r(t,n,T)}}},function(t,e,n){var r=n(47),o=n(38);t.exports=function(t){return r(t,o(t))}},function(t,e,n){var r=n(70),o=n(71);t.exports=function(t){return r((function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,u=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,u&&o(n[0],n[1],u)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,a)}return e}))}},function(t,e,n){var r=n(90),o=n(157),i=n(39);t.exports=function(t){return t&&t.length?r(t,i,o):void 0}},function(t,e,n){var r=n(90),o=n(29),i=n(157);t.exports=function(t,e){return t&&t.length?r(t,o(e,2),i):void 0}},function(t,e,n){var r=n(24);t.exports=function(){return r.Date.now()}},function(t,e,n){var r=n(331),o=n(334)((function(t,e){return null==t?{}:r(t,e)}));t.exports=o},function(t,e,n){var r=n(332),o=n(134);t.exports=function(t,e){return r(t,e,(function(e,n){return o(t,n)}))}},function(t,e,n){var r=n(67),o=n(333),i=n(68);t.exports=function(t,e,n){for(var a=-1,u=e.length,s={};++a<u;){var c=e[a],f=r(t,c);n(f,c)&&o(s,i(c,t),f)}return s}},function(t,e,n){var r=n(59),o=n(68),i=n(62),a=n(21),u=n(49);t.exports=function(t,e,n,s){if(!a(t))return t;for(var c=-1,f=(e=o(e,t)).length,l=f-1,h=t;null!=h&&++c<f;){var d=u(e[c]),p=n;if("__proto__"===d||"constructor"===d||"prototype"===d)return t;if(c!=l){var v=h[d];void 0===(p=s?s(v,d,h):void 0)&&(p=a(v)?v:i(e[c+1])?[]:{})}r(h,d,p),h=h[d]}return t}},function(t,e,n){var r=n(154),o=n(142),i=n(143);t.exports=function(t){return i(o(t,void 0,r),t+"")}},function(t,e,n){var r=n(336)();t.exports=r},function(t,e,n){var r=n(337),o=n(71),i=n(153);t.exports=function(t){return function(e,n,a){return a&&"number"!=typeof a&&o(e,n,a)&&(n=a=void 0),e=i(e),void 0===n?(n=e,e=0):n=i(n),a=void 0===a?e<n?1:-1:i(a),r(e,n,a,t)}}},function(t,e){var n=Math.ceil,r=Math.max;t.exports=function(t,e,o,i){for(var a=-1,u=r(n((e-t)/(o||1)),0),s=Array(u);u--;)s[i?u:++a]=t,t+=o;return s}},function(t,e,n){var r=n(89),o=n(339),i=n(70),a=n(71),u=i((function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),o(t,r(e,1),[])}));t.exports=u},function(t,e,n){var r=n(69),o=n(67),i=n(29),a=n(140),u=n(340),s=n(63),c=n(341),f=n(39),l=n(13);t.exports=function(t,e,n){e=e.length?r(e,(function(t){return l(t)?function(e){return o(e,1===t.length?t[0]:t)}:t})):[f];var h=-1;e=r(e,s(i));var d=a(t,(function(t,n,o){return{criteria:r(e,(function(e){return e(t)})),index:++h,value:t}}));return u(d,(function(t,e){return c(t,e,n)}))}},function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},function(t,e,n){var r=n(342);t.exports=function(t,e,n){for(var o=-1,i=t.criteria,a=e.criteria,u=i.length,s=n.length;++o<u;){var c=r(i[o],a[o]);if(c)return o>=s?c:c*("desc"==n[o]?-1:1)}return t.index-e.index}},function(t,e,n){var r=n(45);t.exports=function(t,e){if(t!==e){var n=void 0!==t,o=null===t,i=t==t,a=r(t),u=void 0!==e,s=null===e,c=e==e,f=r(e);if(!s&&!f&&!a&&t>e||a&&u&&c&&!s&&!f||o&&u&&c||!n&&c||!i)return 1;if(!o&&!a&&!f&&t<e||f&&n&&i&&!o&&!a||s&&n&&i||!u&&i||!c)return-1}return 0}},function(t,e,n){var r=n(133),o=0;t.exports=function(t){var e=++o;return r(t)+e}},function(t,e,n){var r=n(59),o=n(345);t.exports=function(t,e){return o(t||[],e||[],r)}},function(t,e){t.exports=function(t,e,n){for(var r=-1,o=t.length,i=e.length,a={};++r<o;){var u=r<i?e[r]:void 0;n(a,t[r],u)}return a}},function(t,e,n){"use strict";var r=n(11),o=n(347);t.exports={run:function(t){var e="greedy"===t.graph().acyclicer?o(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],n={},o={};function i(a){r.has(o,a)||(o[a]=!0,n[a]=!0,r.forEach(t.outEdges(a),(function(t){r.has(n,t.w)?e.push(t):i(t.w)})),delete n[a])}return r.forEach(t.nodes(),i),e}(t);r.forEach(e,(function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,r.uniqueId("rev"))}))},undo:function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}}))}}},function(t,e,n){var r=n(11),o=n(23).Graph,i=n(348);t.exports=function(t,e){if(t.nodeCount()<=1)return[];var n=function(t,e){var n=new o,a=0,u=0;r.forEach(t.nodes(),(function(t){n.setNode(t,{v:t,in:0,out:0})})),r.forEach(t.edges(),(function(t){var r=n.edge(t.v,t.w)||0,o=e(t),i=r+o;n.setEdge(t.v,t.w,i),u=Math.max(u,n.node(t.v).out+=o),a=Math.max(a,n.node(t.w).in+=o)}));var c=r.range(u+a+3).map((function(){return new i})),f=a+1;return r.forEach(n.nodes(),(function(t){s(c,f,n.node(t))})),{graph:n,buckets:c,zeroIdx:f}}(t,e||a),c=function(t,e,n){var r,o=[],i=e[e.length-1],a=e[0];for(;t.nodeCount();){for(;r=a.dequeue();)u(t,e,n,r);for(;r=i.dequeue();)u(t,e,n,r);if(t.nodeCount())for(var s=e.length-2;s>0;--s)if(r=e[s].dequeue()){o=o.concat(u(t,e,n,r,!0));break}}return o}(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(c,(function(e){return t.outEdges(e.v,e.w)})),!0)};var a=r.constant(1);function u(t,e,n,o,i){var a=i?[]:void 0;return r.forEach(t.inEdges(o.v),(function(r){var o=t.edge(r),u=t.node(r.v);i&&a.push({v:r.v,w:r.w}),u.out-=o,s(e,n,u)})),r.forEach(t.outEdges(o.v),(function(r){var o=t.edge(r),i=r.w,a=t.node(i);a.in-=o,s(e,n,a)})),t.removeNode(o.v),a}function s(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}},function(t,e){function n(){var t={};t._next=t._prev=t,this._sentinel=t}function r(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function o(t,e){if("_next"!==t&&"_prev"!==t)return e}t.exports=n,n.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return r(e),e},n.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&r(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},n.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,o)),n=n._prev;return"["+t.join(", ")+"]"}},function(t,e,n){"use strict";var r=n(11),o=n(18);t.exports={run:function(t){t.graph().dummyChains=[],r.forEach(t.edges(),(function(e){!function(t,e){var n,r,i,a=e.v,u=t.node(a).rank,s=e.w,c=t.node(s).rank,f=e.name,l=t.edge(e),h=l.labelRank;if(c===u+1)return;for(t.removeEdge(e),i=0,++u;u<c;++i,++u)l.points=[],r={width:0,height:0,edgeLabel:l,edgeObj:e,rank:u},n=o.addDummyNode(t,"edge",r,"_d"),u===h&&(r.width=l.width,r.height=l.height,r.dummy="edge-label",r.labelpos=l.labelpos),t.setEdge(a,n,{weight:l.weight},f),0===i&&t.graph().dummyChains.push(n),a=n;t.setEdge(a,s,{weight:l.weight},f)}(t,e)}))},undo:function(t){r.forEach(t.graph().dummyChains,(function(e){var n,r=t.node(e),o=r.edgeLabel;for(t.setEdge(r.edgeObj,o);r.dummy;)n=t.successors(e)[0],t.removeNode(e),o.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height),e=n,r=t.node(e)}))}}},function(t,e,n){"use strict";var r=n(72).longestPath,o=n(158),i=n(351);t.exports=function(t){switch(t.graph().ranker){case"network-simplex":u(t);break;case"tight-tree":!function(t){r(t),o(t)}(t);break;case"longest-path":a(t);break;default:u(t)}};var a=r;function u(t){i(t)}},function(t,e,n){"use strict";var r=n(11),o=n(158),i=n(72).slack,a=n(72).longestPath,u=n(23).alg.preorder,s=n(23).alg.postorder,c=n(18).simplify;function f(t){t=c(t),a(t);var e,n=o(t);for(d(n),l(n,t);e=v(n);)y(n,t,e,m(n,t,e))}function l(t,e){var n=s(t,t.nodes());n=n.slice(0,n.length-1),r.forEach(n,(function(n){!function(t,e,n){var r=t.node(n).parent;t.edge(n,r).cutvalue=h(t,e,n)}(t,e,n)}))}function h(t,e,n){var o=t.node(n).parent,i=!0,a=e.edge(n,o),u=0;return a||(i=!1,a=e.edge(o,n)),u=a.weight,r.forEach(e.nodeEdges(n),(function(r){var a,s,c=r.v===n,f=c?r.w:r.v;if(f!==o){var l=c===i,h=e.edge(r).weight;if(u+=l?h:-h,a=n,s=f,t.hasEdge(a,s)){var d=t.edge(n,f).cutvalue;u+=l?-d:d}}})),u}function d(t,e){arguments.length<2&&(e=t.nodes()[0]),p(t,{},1,e)}function p(t,e,n,o,i){var a=n,u=t.node(o);return e[o]=!0,r.forEach(t.neighbors(o),(function(i){r.has(e,i)||(n=p(t,e,n,i,o))})),u.low=a,u.lim=n++,i?u.parent=i:delete u.parent,n}function v(t){return r.find(t.edges(),(function(e){return t.edge(e).cutvalue<0}))}function m(t,e,n){var o=n.v,a=n.w;e.hasEdge(o,a)||(o=n.w,a=n.v);var u=t.node(o),s=t.node(a),c=u,f=!1;u.lim>s.lim&&(c=s,f=!0);var l=r.filter(e.edges(),(function(e){return f===g(t,t.node(e.v),c)&&f!==g(t,t.node(e.w),c)}));return r.minBy(l,(function(t){return i(e,t)}))}function y(t,e,n,o){var i=n.v,a=n.w;t.removeEdge(i,a),t.setEdge(o.v,o.w,{}),d(t),l(t,e),function(t,e){var n=r.find(t.nodes(),(function(t){return!e.node(t).parent})),o=u(t,n);o=o.slice(1),r.forEach(o,(function(n){var r=t.node(n).parent,o=e.edge(n,r),i=!1;o||(o=e.edge(r,n),i=!0),e.node(n).rank=e.node(r).rank+(i?o.minlen:-o.minlen)}))}(t,e)}function g(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}t.exports=f,f.initLowLimValues=d,f.initCutValues=l,f.calcCutValue=h,f.leaveEdge=v,f.enterEdge=m,f.exchangeEdges=y},function(t,e,n){var r=n(11);t.exports=function(t){var e=function(t){var e={},n=0;function o(i){var a=n;r.forEach(t.children(i),o),e[i]={low:a,lim:n++}}return r.forEach(t.children(),o),e}(t);r.forEach(t.graph().dummyChains,(function(n){for(var r=t.node(n),o=r.edgeObj,i=function(t,e,n,r){var o,i,a=[],u=[],s=Math.min(e[n].low,e[r].low),c=Math.max(e[n].lim,e[r].lim);o=n;do{o=t.parent(o),a.push(o)}while(o&&(e[o].low>s||c>e[o].lim));i=o,o=r;for(;(o=t.parent(o))!==i;)u.push(o);return{path:a.concat(u.reverse()),lca:i}}(t,e,o.v,o.w),a=i.path,u=i.lca,s=0,c=a[s],f=!0;n!==o.w;){if(r=t.node(n),f){for(;(c=a[s])!==u&&t.node(c).maxRank<r.rank;)s++;c===u&&(f=!1)}if(!f){for(;s<a.length-1&&t.node(c=a[s+1]).minRank<=r.rank;)s++;c=a[s]}t.setParent(n,c),n=t.successors(n)[0]}}))}},function(t,e,n){var r=n(11),o=n(18);t.exports={run:function(t){var e=o.addDummyNode(t,"root",{},"_root"),n=function(t){var e={};return r.forEach(t.children(),(function(n){!function n(o,i){var a=t.children(o);a&&a.length&&r.forEach(a,(function(t){n(t,i+1)}));e[o]=i}(n,1)})),e}(t),i=r.max(r.values(n))-1,a=2*i+1;t.graph().nestingRoot=e,r.forEach(t.edges(),(function(e){t.edge(e).minlen*=a}));var u=function(t){return r.reduce(t.edges(),(function(e,n){return e+t.edge(n).weight}),0)}(t)+1;r.forEach(t.children(),(function(s){!function t(e,n,i,a,u,s,c){var f=e.children(c);if(!f.length)return void(c!==n&&e.setEdge(n,c,{weight:0,minlen:i}));var l=o.addBorderNode(e,"_bt"),h=o.addBorderNode(e,"_bb"),d=e.node(c);e.setParent(l,c),d.borderTop=l,e.setParent(h,c),d.borderBottom=h,r.forEach(f,(function(r){t(e,n,i,a,u,s,r);var o=e.node(r),f=o.borderTop?o.borderTop:r,d=o.borderBottom?o.borderBottom:r,p=o.borderTop?a:2*a,v=f!==d?1:u-s[c]+1;e.setEdge(l,f,{weight:p,minlen:v,nestingEdge:!0}),e.setEdge(d,h,{weight:p,minlen:v,nestingEdge:!0})})),e.parent(c)||e.setEdge(n,l,{weight:0,minlen:u+s[c]})}(t,e,a,u,i,n,s)})),t.graph().nodeRankFactor=a},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,r.forEach(t.edges(),(function(e){t.edge(e).nestingEdge&&t.removeEdge(e)}))}}},function(t,e,n){var r=n(11),o=n(18);function i(t,e,n,r,i,a){var u={width:0,height:0,rank:a,borderType:e},s=i[e][a-1],c=o.addDummyNode(t,"border",u,n);i[e][a]=c,t.setParent(c,r),s&&t.setEdge(s,c,{weight:1})}t.exports=function(t){r.forEach(t.children(),(function e(n){var o=t.children(n),a=t.node(n);if(o.length&&r.forEach(o,e),r.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var u=a.minRank,s=a.maxRank+1;u<s;++u)i(t,"borderLeft","_bl",n,a,u),i(t,"borderRight","_br",n,a,u)}}))}},function(t,e,n){"use strict";var r=n(11);function o(t){r.forEach(t.nodes(),(function(e){i(t.node(e))})),r.forEach(t.edges(),(function(e){i(t.edge(e))}))}function i(t){var e=t.width;t.width=t.height,t.height=e}function a(t){t.y=-t.y}function u(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjust:function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||o(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){r.forEach(t.nodes(),(function(e){a(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.forEach(n.points,a),r.has(n,"y")&&a(n)}))}(t);"lr"!==e&&"rl"!==e||(!function(t){r.forEach(t.nodes(),(function(e){u(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.forEach(n.points,u),r.has(n,"x")&&u(n)}))}(t),o(t))}}},function(t,e,n){"use strict";var r=n(11),o=n(357),i=n(358),a=n(359),u=n(363),s=n(364),c=n(23).Graph,f=n(18);function l(t,e,n){return r.map(e,(function(e){return u(t,e,n)}))}function h(t,e){var n=new c;r.forEach(t,(function(t){var o=t.graph().root,i=a(t,o,n,e);r.forEach(i.vs,(function(e,n){t.node(e).order=n})),s(t,n,i.vs)}))}function d(t,e){r.forEach(e,(function(e){r.forEach(e,(function(e,n){t.node(e).order=n}))}))}t.exports=function(t){var e=f.maxRank(t),n=l(t,r.range(1,e+1),"inEdges"),a=l(t,r.range(e-1,-1,-1),"outEdges"),u=o(t);d(t,u);for(var s,c=Number.POSITIVE_INFINITY,p=0,v=0;v<4;++p,++v){h(p%2?n:a,p%4>=2),u=f.buildLayerMatrix(t);var m=i(t,u);m<c&&(v=0,s=r.cloneDeep(u),c=m)}d(t,s)}},function(t,e,n){"use strict";var r=n(11);t.exports=function(t){var e={},n=r.filter(t.nodes(),(function(e){return!t.children(e).length})),o=r.max(r.map(n,(function(e){return t.node(e).rank}))),i=r.map(r.range(o+1),(function(){return[]}));var a=r.sortBy(n,(function(e){return t.node(e).rank}));return r.forEach(a,(function n(o){if(r.has(e,o))return;e[o]=!0;var a=t.node(o);i[a.rank].push(o),r.forEach(t.successors(o),n)})),i}},function(t,e,n){"use strict";var r=n(11);function o(t,e,n){for(var o=r.zipObject(n,r.map(n,(function(t,e){return e}))),i=r.flatten(r.map(e,(function(e){return r.sortBy(r.map(t.outEdges(e),(function(e){return{pos:o[e.w],weight:t.edge(e).weight}})),"pos")})),!0),a=1;a<n.length;)a<<=1;var u=2*a-1;a-=1;var s=r.map(new Array(u),(function(){return 0})),c=0;return r.forEach(i.forEach((function(t){var e=t.pos+a;s[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=s[e+1]),s[e=e-1>>1]+=t.weight;c+=t.weight*n}))),c}t.exports=function(t,e){for(var n=0,r=1;r<e.length;++r)n+=o(t,e[r-1],e[r]);return n}},function(t,e,n){var r=n(11),o=n(360),i=n(361),a=n(362);t.exports=function t(e,n,u,s){var c=e.children(n),f=e.node(n),l=f?f.borderLeft:void 0,h=f?f.borderRight:void 0,d={};l&&(c=r.filter(c,(function(t){return t!==l&&t!==h})));var p=o(e,c);r.forEach(p,(function(n){if(e.children(n.v).length){var o=t(e,n.v,u,s);d[n.v]=o,r.has(o,"barycenter")&&(i=n,a=o,r.isUndefined(i.barycenter)?(i.barycenter=a.barycenter,i.weight=a.weight):(i.barycenter=(i.barycenter*i.weight+a.barycenter*a.weight)/(i.weight+a.weight),i.weight+=a.weight))}var i,a}));var v=i(p,u);!function(t,e){r.forEach(t,(function(t){t.vs=r.flatten(t.vs.map((function(t){return e[t]?e[t].vs:t})),!0)}))}(v,d);var m=a(v,s);if(l&&(m.vs=r.flatten([l,m.vs,h],!0),e.predecessors(l).length)){var y=e.node(e.predecessors(l)[0]),g=e.node(e.predecessors(h)[0]);r.has(m,"barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+y.order+g.order)/(m.weight+2),m.weight+=2}return m}},function(t,e,n){var r=n(11);t.exports=function(t,e){return r.map(e,(function(e){var n=t.inEdges(e);if(n.length){var o=r.reduce(n,(function(e,n){var r=t.edge(n),o=t.node(n.v);return{sum:e.sum+r.weight*o.order,weight:e.weight+r.weight}}),{sum:0,weight:0});return{v:e,barycenter:o.sum/o.weight,weight:o.weight}}return{v:e}}))}},function(t,e,n){"use strict";var r=n(11);t.exports=function(t,e){var n={};return r.forEach(t,(function(t,e){var o=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};r.isUndefined(t.barycenter)||(o.barycenter=t.barycenter,o.weight=t.weight)})),r.forEach(e.edges(),(function(t){var e=n[t.v],o=n[t.w];r.isUndefined(e)||r.isUndefined(o)||(o.indegree++,e.out.push(n[t.w]))})),function(t){var e=[];function n(t){return function(e){e.merged||(r.isUndefined(e.barycenter)||r.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&function(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight);e.weight&&(n+=e.barycenter*e.weight,r+=e.weight);t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}(t,e)}}function o(e){return function(n){n.in.push(e),0==--n.indegree&&t.push(n)}}for(;t.length;){var i=t.pop();e.push(i),r.forEach(i.in.reverse(),n(i)),r.forEach(i.out,o(i))}return r.map(r.filter(e,(function(t){return!t.merged})),(function(t){return r.pick(t,["vs","i","barycenter","weight"])}))}(r.filter(n,(function(t){return!t.indegree})))}},function(t,e,n){var r=n(11),o=n(18);function i(t,e,n){for(var o;e.length&&(o=r.last(e)).i<=n;)e.pop(),t.push(o.vs),n++;return n}t.exports=function(t,e){var n=o.partition(t,(function(t){return r.has(t,"barycenter")})),a=n.lhs,u=r.sortBy(n.rhs,(function(t){return-t.i})),s=[],c=0,f=0,l=0;a.sort((h=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:h?e.i-t.i:t.i-e.i})),l=i(s,u,l),r.forEach(a,(function(t){l+=t.vs.length,s.push(t.vs),c+=t.barycenter*t.weight,f+=t.weight,l=i(s,u,l)}));var h;var d={vs:r.flatten(s,!0)};f&&(d.barycenter=c/f,d.weight=f);return d}},function(t,e,n){var r=n(11),o=n(23).Graph;t.exports=function(t,e,n){var i=function(t){var e;for(;t.hasNode(e=r.uniqueId("_root")););return e}(t),a=new o({compound:!0}).setGraph({root:i}).setDefaultNodeLabel((function(e){return t.node(e)}));return r.forEach(t.nodes(),(function(o){var u=t.node(o),s=t.parent(o);(u.rank===e||u.minRank<=e&&e<=u.maxRank)&&(a.setNode(o),a.setParent(o,s||i),r.forEach(t[n](o),(function(e){var n=e.v===o?e.w:e.v,i=a.edge(n,o),u=r.isUndefined(i)?0:i.weight;a.setEdge(n,o,{weight:t.edge(e).weight+u})})),r.has(u,"minRank")&&a.setNode(o,{borderLeft:u.borderLeft[e],borderRight:u.borderRight[e]}))})),a}},function(t,e,n){var r=n(11);t.exports=function(t,e,n){var o,i={};r.forEach(n,(function(n){for(var r,a,u=t.parent(n);u;){if((r=t.parent(u))?(a=i[r],i[r]=u):(a=o,o=u),a&&a!==u)return void e.setEdge(a,u);u=r}}))}},function(t,e,n){"use strict";var r=n(11),o=n(18),i=n(366).positionX;t.exports=function(t){(function(t){var e=o.buildLayerMatrix(t),n=t.graph().ranksep,i=0;r.forEach(e,(function(e){var o=r.max(r.map(e,(function(e){return t.node(e).height})));r.forEach(e,(function(e){t.node(e).y=i+o/2})),i+=o+n}))})(t=o.asNonCompoundGraph(t)),r.forEach(i(t),(function(e,n){t.node(n).x=e}))}},function(t,e,n){"use strict";var r=n(11),o=n(23).Graph,i=n(18);function a(t,e){var n={};return r.reduce(e,(function(e,o){var i=0,a=0,u=e.length,c=r.last(o);return r.forEach(o,(function(e,f){var l=function(t,e){if(t.node(e).dummy)return r.find(t.predecessors(e),(function(e){return t.node(e).dummy}))}(t,e),h=l?t.node(l).order:u;(l||e===c)&&(r.forEach(o.slice(a,f+1),(function(e){r.forEach(t.predecessors(e),(function(r){var o=t.node(r),a=o.order;!(a<i||h<a)||o.dummy&&t.node(e).dummy||s(n,r,e)}))})),a=f+1,i=h)})),o})),n}function u(t,e){var n={};function o(e,o,i,a,u){var c;r.forEach(r.range(o,i),(function(o){c=e[o],t.node(c).dummy&&r.forEach(t.predecessors(c),(function(e){var r=t.node(e);r.dummy&&(r.order<a||r.order>u)&&s(n,e,c)}))}))}return r.reduce(e,(function(e,n){var i,a=-1,u=0;return r.forEach(n,(function(r,s){if("border"===t.node(r).dummy){var c=t.predecessors(r);c.length&&(i=t.node(c[0]).order,o(n,u,s,a,i),u=s,a=i)}o(n,u,n.length,i,e.length)})),n})),n}function s(t,e,n){if(e>n){var r=e;e=n,n=r}var o=t[e];o||(t[e]=o={}),o[n]=!0}function c(t,e,n){if(e>n){var o=e;e=n,n=o}return r.has(t[e],n)}function f(t,e,n,o){var i={},a={},u={};return r.forEach(e,(function(t){r.forEach(t,(function(t,e){i[t]=t,a[t]=t,u[t]=e}))})),r.forEach(e,(function(t){var e=-1;r.forEach(t,(function(t){var s=o(t);if(s.length)for(var f=((s=r.sortBy(s,(function(t){return u[t]}))).length-1)/2,l=Math.floor(f),h=Math.ceil(f);l<=h;++l){var d=s[l];a[t]===t&&e<u[d]&&!c(n,t,d)&&(a[d]=t,a[t]=i[t]=i[d],e=u[d])}}))})),{root:i,align:a}}function l(t,e,n,i,a){var u={},s=function(t,e,n,i){var a=new o,u=t.graph(),s=function(t,e,n){return function(o,i,a){var u,s=o.node(i),c=o.node(a),f=0;if(f+=s.width/2,r.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2}if(u&&(f+=n?u:-u),u=0,f+=(s.dummy?e:t)/2,f+=(c.dummy?e:t)/2,f+=c.width/2,r.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":u=c.width/2;break;case"r":u=-c.width/2}return u&&(f+=n?u:-u),u=0,f}}(u.nodesep,u.edgesep,i);return r.forEach(e,(function(e){var o;r.forEach(e,(function(e){var r=n[e];if(a.setNode(r),o){var i=n[o],u=a.edge(i,r);a.setEdge(i,r,Math.max(s(t,e,o),u||0))}o=e}))})),a}(t,e,n,a),c=a?"borderLeft":"borderRight";function f(t,e){for(var n=s.nodes(),r=n.pop(),o={};r;)o[r]?t(r):(o[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return f((function(t){u[t]=s.inEdges(t).reduce((function(t,e){return Math.max(t,u[e.v]+s.edge(e))}),0)}),s.predecessors.bind(s)),f((function(e){var n=s.outEdges(e).reduce((function(t,e){return Math.min(t,u[e.w]-s.edge(e))}),Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==c&&(u[e]=Math.max(u[e],n))}),s.successors.bind(s)),r.forEach(i,(function(t){u[t]=u[n[t]]})),u}function h(t,e){return r.minBy(r.values(e),(function(e){var n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return r.forIn(e,(function(e,r){var i=function(t,e){return t.node(e).width}(t,r)/2;n=Math.max(e+i,n),o=Math.min(e-i,o)})),n-o}))}function d(t,e){var n=r.values(e),o=r.min(n),i=r.max(n);r.forEach(["u","d"],(function(n){r.forEach(["l","r"],(function(a){var u,s=n+a,c=t[s];if(c!==e){var f=r.values(c);(u="l"===a?o-r.min(f):i-r.max(f))&&(t[s]=r.mapValues(c,(function(t){return t+u})))}}))}))}function p(t,e){return r.mapValues(t.ul,(function(n,o){if(e)return t[e.toLowerCase()][o];var i=r.sortBy(r.map(t,o));return(i[1]+i[2])/2}))}t.exports={positionX:function(t){var e,n=i.buildLayerMatrix(t),o=r.merge(a(t,n),u(t,n)),s={};r.forEach(["u","d"],(function(i){e="u"===i?n:r.values(n).reverse(),r.forEach(["l","r"],(function(n){"r"===n&&(e=r.map(e,(function(t){return r.values(t).reverse()})));var a=("u"===i?t.predecessors:t.successors).bind(t),u=f(t,e,o,a),c=l(t,e,u.root,u.align,"r"===n);"r"===n&&(c=r.mapValues(c,(function(t){return-t}))),s[i+n]=c}))}));var c=h(t,s);return d(s,c),p(s,t.graph().align)},findType1Conflicts:a,findType2Conflicts:u,addConflict:s,hasConflict:c,verticalAlignment:f,horizontalCompaction:l,alignCoordinates:d,findSmallestWidthAlignment:h,balance:p}},function(t,e,n){var r=n(11),o=n(18),i=n(23).Graph;t.exports={debugOrdering:function(t){var e=o.buildLayerMatrix(t),n=new i({compound:!0,multigraph:!0}).setGraph({});return r.forEach(t.nodes(),(function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)})),r.forEach(t.edges(),(function(t){n.setEdge(t.v,t.w,{},t.name)})),r.forEach(e,(function(t,e){var o="layer"+e;n.setNode(o,{rank:"same"}),r.reduce(t,(function(t,e){return n.setEdge(t,e,{style:"invis"}),e}))})),n}}},function(t,e){t.exports="0.8.5"},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var s,c=[],f=!1,l=-1;function h(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&d())}function d(){if(!f){var t=u(h);f=!0;for(var e=c.length;e;){for(s=c,c=[];++l<e;)s&&s[l].run();l=-1,e=c.length}s=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||f||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=function(t){"use strict";var n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new S(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=x(a,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,a),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function h(){}function d(){}function p(){}var v={};v[i]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(T([])));y&&y!==n&&r.call(y,i)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,n){var o;this._invoke=function(i,a){function u(){return new n((function(o,u){!function o(i,a,u,s){var c=f(t[i],t,a);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"===e(h)&&r.call(h,"__await")?n.resolve(h.__await).then((function(t){o("next",t,u,s)}),(function(t){o("throw",t,u,s)})):n.resolve(h).then((function(t){l.value=t,u(l)}),(function(t){return o("throw",t,u,s)}))}s(c.arg)}(i,a,o,u)}))}return o=o?o.then(u,u):u()}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=f(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=g.constructor=p,p.constructor=d,d.displayName=s(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(_.prototype),_.prototype[a]=function(){return this},t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),s(g,u,"Generator"),g[i]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}("object"===e(t)?t.exports:{});try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}}).call(this,n(61)(t))},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Container=void 0;var a=n(375),u=n(19),s=n(30),c=n(17),f=n(162),l=n(376),h=n(383),d=n(385),p=n(40),v=n(50),m=n(388),y=n(389),g=function(){function t(t){var e=t||{};if("object"!==r(e))throw new Error(""+u.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===e.defaultScope)e.defaultScope=s.BindingScopeEnum.Transient;else if(e.defaultScope!==s.BindingScopeEnum.Singleton&&e.defaultScope!==s.BindingScopeEnum.Transient&&e.defaultScope!==s.BindingScopeEnum.Request)throw new Error(""+u.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===e.autoBindInjectable)e.autoBindInjectable=!1;else if("boolean"!=typeof e.autoBindInjectable)throw new Error(""+u.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===e.skipBaseClassChecks)e.skipBaseClassChecks=!1;else if("boolean"!=typeof e.skipBaseClassChecks)throw new Error(""+u.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:e.autoBindInjectable,defaultScope:e.defaultScope,skipBaseClassChecks:e.skipBaseClassChecks},this.id=p.id(),this._bindingDictionary=new y.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new f.MetadataReader}return t.merge=function(e,n){var r=new t,o=l.getBindingDictionary(r),i=l.getBindingDictionary(e),a=l.getBindingDictionary(n);function u(t,e){t.traverse((function(t,n){n.forEach((function(t){e.add(t.serviceIdentifier,t.clone())}))}))}return u(i,o),u(a,o),r},t.prototype.load=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=this._getContainerModuleHelpersFactory(),r=0,o=t;r<o.length;r++){var i=o[r],a=n(i.id);i.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},t.prototype.loadAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(this,void 0,void 0,(function(){var e,n,r,o,a;return i(this,(function(i){switch(i.label){case 0:e=this._getContainerModuleHelpersFactory(),n=0,r=t,i.label=1;case 1:return n<r.length?(o=r[n],a=e(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},t.prototype.unload=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(t){return function(e){return e.moduleId===t}};e.forEach((function(e){var n=r(e.id);t._bindingDictionary.removeByCondition(n)}))},t.prototype.bind=function(t){var e=this.options.defaultScope||s.BindingScopeEnum.Transient,n=new a.Binding(t,e);return this._bindingDictionary.add(t,n),new d.BindingToSyntax(n)},t.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},t.prototype.unbind=function(t){try{this._bindingDictionary.remove(t)}catch(e){throw new Error(u.CANNOT_UNBIND+" "+v.getServiceIdentifierAsString(t))}},t.prototype.unbindAll=function(){this._bindingDictionary=new y.Lookup},t.prototype.isBound=function(t){var e=this._bindingDictionary.hasKey(t);return!e&&this.parent&&(e=this.parent.isBound(t)),e},t.prototype.isBoundNamed=function(t,e){return this.isBoundTagged(t,c.NAMED_TAG,e)},t.prototype.isBoundTagged=function(t,e,n){var r=!1;if(this._bindingDictionary.hasKey(t)){var o=this._bindingDictionary.get(t),i=l.createMockRequest(this,t,e,n);r=o.some((function(t){return t.constraint(i)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(t,e,n)),r},t.prototype.snapshot=function(){this._snapshots.push(m.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},t.prototype.restore=function(){var t=this._snapshots.pop();if(void 0===t)throw new Error(u.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=t.bindings,this._middleware=t.middleware},t.prototype.createChild=function(e){var n=new t(e||this.options);return n.parent=this,n},t.prototype.applyMiddleware=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce((function(t,e){return e(t)}),n)},t.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},t.prototype.get=function(t){return this._get(!1,!1,s.TargetTypeEnum.Variable,t)},t.prototype.getTagged=function(t,e,n){return this._get(!1,!1,s.TargetTypeEnum.Variable,t,e,n)},t.prototype.getNamed=function(t,e){return this.getTagged(t,c.NAMED_TAG,e)},t.prototype.getAll=function(t){return this._get(!0,!0,s.TargetTypeEnum.Variable,t)},t.prototype.getAllTagged=function(t,e,n){return this._get(!1,!0,s.TargetTypeEnum.Variable,t,e,n)},t.prototype.getAllNamed=function(t,e){return this.getAllTagged(t,c.NAMED_TAG,e)},t.prototype.resolve=function(t){var e=this.createChild();return e.bind(t).toSelf(),e.get(t)},t.prototype._getContainerModuleHelpersFactory=function(){var t=this,e=function(t,e){t._binding.moduleId=e},n=function(n){return function(r){var o=t.rebind.bind(t)(r);return e(o,n),o}};return function(r){return{bindFunction:(o=r,function(n){var r=t.bind.bind(t)(n);return e(r,o),r}),isboundFunction:function(e){return t.isBound.bind(t)(e)},rebindFunction:n(r),unbindFunction:function(e){t.unbind.bind(t)(e)}};var o}},t.prototype._get=function(t,e,n,r,o,i){var a=null,s={avoidConstraints:t,contextInterceptor:function(t){return t},isMultiInject:e,key:o,serviceIdentifier:r,targetType:n,value:i};if(this._middleware){if(null==(a=this._middleware(s)))throw new Error(u.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(s);return a},t.prototype._planAndResolve=function(){var t=this;return function(e){var n=l.plan(t._metadataReader,t,e.isMultiInject,e.targetType,e.serviceIdentifier,e.key,e.value,e.avoidConstraints);return n=e.contextInterceptor(n),h.resolve(n)}},t}();e.Container=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Binding=void 0;var r=n(30),o=n(40),i=function(){function t(t,e){this.id=o.id(),this.activated=!1,this.serviceIdentifier=t,this.scope=e,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(t){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=!1,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.cache=this.cache,e},t}();e.Binding=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBindingDictionary=e.createMockRequest=e.plan=void 0;var r=n(377),o=n(19),i=n(30),a=n(17),u=n(163),s=n(50),c=n(378),f=n(26),l=n(379),h=n(380),d=n(382),p=n(165);function v(t){return t._bindingDictionary}function m(t,e,n,i,a){var u=y(n.container,a.serviceIdentifier),c=[];return u.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"==typeof a.serviceIdentifier&&t.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(a.serviceIdentifier).toSelf(),u=y(n.container,a.serviceIdentifier)),c=e?u:u.filter((function(t){var e=new d.Request(t.serviceIdentifier,n,i,t,a);return t.constraint(e)})),function(t,e,n,i){switch(e.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return e;var a=s.getServiceIdentifierAsString(t),u=o.NOT_REGISTERED;throw u+=s.listMetadataForTarget(a,n),u+=s.listRegisteredBindingsForServiceIdentifier(i,a,y),new Error(u);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return e;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return e;a=s.getServiceIdentifierAsString(t),u=o.AMBIGUOUS_MATCH+" "+a;throw u+=s.listRegisteredBindingsForServiceIdentifier(i,a,y),new Error(u)}}(a.serviceIdentifier,c,a,n.container),c}function y(t,e){var n=[],r=v(t);return r.hasKey(e)?n=r.get(e):null!==t.parent&&(n=y(t.parent,e)),n}e.getBindingDictionary=v,e.plan=function(t,e,n,r,v,y,g,b){void 0===b&&(b=!1);var _=new c.Context(e),x=function(t,e,n,r,o,i){var u=t?a.MULTI_INJECT_TAG:a.INJECT_TAG,s=new f.Metadata(u,n),c=new p.Target(e,r,n,s);if(void 0!==o){var l=new f.Metadata(o,i);c.metadata.push(l)}return c}(n,r,v,"",y,g);try{return function t(e,n,r,a,u,s){var c,f;if(null===u){c=m(e,n,a,null,s),f=new d.Request(r,a,null,c,s);var p=new l.Plan(a,f);a.addPlan(p)}else c=m(e,n,a,u,s),f=u.addChildRequest(s.serviceIdentifier,c,s);c.forEach((function(n){var r=null;if(s.isArray())r=f.addChildRequest(n.serviceIdentifier,n,s);else{if(n.cache)return;r=f}if(n.type===i.BindingTypeEnum.Instance&&null!==n.implementationType){var u=h.getDependencies(e,n.implementationType);if(!a.container.options.skipBaseClassChecks){var c=h.getBaseClassDependencyCount(e,n.implementationType);if(u.length<c){var l=o.ARGUMENTS_LENGTH_MISMATCH(h.getFunctionName(n.implementationType));throw new Error(l)}}u.forEach((function(n){t(e,!1,n.serviceIdentifier,a,r,n)}))}}))}(t,b,v,_,null,x),_}catch(t){throw u.isStackOverflowExeption(t)&&_.plan&&s.circularDependencyToException(_.plan.rootRequest),t}},e.createMockRequest=function(t,e,n,r){var o=new p.Target(i.TargetTypeEnum.Variable,"",e,new f.Metadata(n,r)),a=new c.Context(t);return new d.Request(e,a,null,[],o)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingCount=void 0;e.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Context=void 0;var r=n(40),o=function(){function t(t){this.id=r.id(),this.container=t}return t.prototype.addPlan=function(t){this.plan=t},t.prototype.setCurrentRequest=function(t){this.currentRequest=t},t}();e.Context=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Plan=void 0;var r=function(t,e){this.parentContext=t,this.rootRequest=e};e.Plan=r},function(t,e,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r};Object.defineProperty(e,"__esModule",{value:!0}),e.getFunctionName=e.getBaseClassDependencyCount=e.getDependencies=void 0;var o=n(164),i=n(19),a=n(30),u=n(17),s=n(50);Object.defineProperty(e,"getFunctionName",{enumerable:!0,get:function(){return s.getFunctionName}});var c=n(165);function f(t,e,n,o){var u=t.getConstructorMetadata(n),s=u.compilerGeneratedMetadata;if(void 0===s){var f=i.MISSING_INJECTABLE_ANNOTATION+" "+e+".";throw new Error(f)}var d=u.userGeneratedMetadata,p=Object.keys(d),v=function(t,e,n,r,o){for(var i=[],a=0;a<o;a++){var u=l(a,t,e,n,r);null!==u&&i.push(u)}return i}(o,e,s,d,0===n.length&&p.length>0?p.length:n.length),m=function t(e,n){for(var o=e.getPropertiesMetadata(n),i=[],u=Object.keys(o),s=0,f=u;s<f.length;s++){var l=f[s],d=o[l],p=h(o[l]),v=p.targetName||l,m=p.inject||p.multiInject,y=new c.Target(a.TargetTypeEnum.ClassProperty,v,m);y.metadata=d,i.push(y)}var g=Object.getPrototypeOf(n.prototype).constructor;if(g!==Object){var b=t(e,g);i=r(i,b)}return i}(t,n);return r(v,m)}function l(t,e,n,r,u){var s=u[t.toString()]||[],f=h(s),l=!0!==f.unmanaged,d=r[t],p=f.inject||f.multiInject;if((d=p||d)instanceof o.LazyServiceIdentifer&&(d=d.unwrap()),l){if(!e&&(d===Object||d===Function||void 0===d)){var v=i.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+n+".";throw new Error(v)}var m=new c.Target(a.TargetTypeEnum.ConstructorArgument,f.targetName,d);return m.metadata=s,m}return null}function h(t){var e={};return t.forEach((function(t){e[t.key.toString()]=t.value})),{inject:e[u.INJECT_TAG],multiInject:e[u.MULTI_INJECT_TAG],targetName:e[u.NAME_TAG],unmanaged:e[u.UNMANAGED_TAG]}}e.getDependencies=function(t,e){return f(t,s.getFunctionName(e),e,!1)},e.getBaseClassDependencyCount=function t(e,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var o=f(e,s.getFunctionName(r),r,!0),i=o.map((function(t){return t.metadata.filter((function(t){return t.key===u.UNMANAGED_TAG}))})),a=[].concat.apply([],i).length,c=o.length-a;return c>0?c:t(e,r)}return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryableString=void 0;var r=function(){function t(t){this.str=t}return t.prototype.startsWith=function(t){return 0===this.str.indexOf(t)},t.prototype.endsWith=function(t){var e,n=t.split("").reverse().join("");return e=this.str.split("").reverse().join(""),this.startsWith.call({str:e},n)},t.prototype.contains=function(t){return-1!==this.str.indexOf(t)},t.prototype.equals=function(t){return this.str===t},t.prototype.value=function(){return this.str},t}();e.QueryableString=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Request=void 0;var r=n(40),o=function(){function t(t,e,n,o,i){this.id=r.id(),this.serviceIdentifier=t,this.parentContext=e,this.parentRequest=n,this.target=i,this.childRequests=[],this.bindings=Array.isArray(o)?o:[o],this.requestScope=null===n?new Map:null}return t.prototype.addChildRequest=function(e,n,r){var o=new t(e,this.parentContext,this,n,r);return this.childRequests.push(o),o},t}();e.Request=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolve=void 0;var r=n(19),o=n(30),i=n(163),a=n(50),u=n(384),s=function(t,e,n){try{return n()}catch(n){throw i.isStackOverflowExeption(n)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(t,e.toString())):n}};e.resolve=function(t){return function t(e){return function(n){n.parentContext.setCurrentRequest(n);var i=n.bindings,c=n.childRequests,f=n.target&&n.target.isArray(),l=!(n.parentRequest&&n.parentRequest.target&&n.target&&n.parentRequest.target.matchesArray(n.target.serviceIdentifier));if(f&&l)return c.map((function(n){return t(e)(n)}));var h=null;if(!n.target.isOptional()||0!==i.length){var d=i[0],p=d.scope===o.BindingScopeEnum.Singleton,v=d.scope===o.BindingScopeEnum.Request;if(p&&d.activated)return d.cache;if(v&&null!==e&&e.has(d.id))return e.get(d.id);if(d.type===o.BindingTypeEnum.ConstantValue)h=d.cache;else if(d.type===o.BindingTypeEnum.Function)h=d.cache;else if(d.type===o.BindingTypeEnum.Constructor)h=d.implementationType;else if(d.type===o.BindingTypeEnum.DynamicValue&&null!==d.dynamicValue)h=s("toDynamicValue",d.serviceIdentifier,(function(){return d.dynamicValue(n.parentContext)}));else if(d.type===o.BindingTypeEnum.Factory&&null!==d.factory)h=s("toFactory",d.serviceIdentifier,(function(){return d.factory(n.parentContext)}));else if(d.type===o.BindingTypeEnum.Provider&&null!==d.provider)h=s("toProvider",d.serviceIdentifier,(function(){return d.provider(n.parentContext)}));else{if(d.type!==o.BindingTypeEnum.Instance||null===d.implementationType){var m=a.getServiceIdentifierAsString(n.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+m)}h=u.resolveInstance(d.implementationType,c,t(e))}return"function"==typeof d.onActivation&&(h=d.onActivation(n.parentContext,h)),p&&(d.cache=h,d.activated=!0),v&&null!==e&&!e.has(d.id)&&e.set(d.id,h),h}}}(t.plan.rootRequest.requestScope)(t.plan.rootRequest)}},function(t,e,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r};Object.defineProperty(e,"__esModule",{value:!0}),e.resolveInstance=void 0;var o=n(19),i=n(30),a=n(17);e.resolveInstance=function(t,e,n){var u,s,c=null;if(e.length>0){var f=e.filter((function(t){return null!==t.target&&t.target.type===i.TargetTypeEnum.ConstructorArgument})).map(n);s=f,c=function(t,e,n){var r=e.filter((function(t){return null!==t.target&&t.target.type===i.TargetTypeEnum.ClassProperty})),o=r.map(n);return r.forEach((function(e,n){var r;r=e.target.name.value();var i=o[n];t[r]=i})),t}(c=new((u=t).bind.apply(u,r([void 0],s))),e,n)}else c=new t;return function(t,e){if(Reflect.hasMetadata(a.POST_CONSTRUCT,t)){var n=Reflect.getMetadata(a.POST_CONSTRUCT,t);try{e[n.value]()}catch(e){throw new Error(o.POST_CONSTRUCT_ERROR(t.name,e.message))}}}(t,c),c}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingToSyntax=void 0;var r=n(19),o=n(30),i=n(386),a=n(166),u=function(){function t(t){this._binding=t}return t.prototype.to=function(t){return this._binding.type=o.BindingTypeEnum.Instance,this._binding.implementationType=t,new i.BindingInWhenOnSyntax(this._binding)},t.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var t=this._binding.serviceIdentifier;return this.to(t)},t.prototype.toConstantValue=function(t){return this._binding.type=o.BindingTypeEnum.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toDynamicValue=function(t){return this._binding.type=o.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new i.BindingInWhenOnSyntax(this._binding)},t.prototype.toConstructor=function(t){return this._binding.type=o.BindingTypeEnum.Constructor,this._binding.implementationType=t,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFactory=function(t){return this._binding.type=o.BindingTypeEnum.Factory,this._binding.factory=t,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFunction=function(t){if("function"!=typeof t)throw new Error(r.INVALID_FUNCTION_BINDING);var e=this.toConstantValue(t);return this._binding.type=o.BindingTypeEnum.Function,e},t.prototype.toAutoFactory=function(t){return this._binding.type=o.BindingTypeEnum.Factory,this._binding.factory=function(e){return function(){return e.container.get(t)}},new a.BindingWhenOnSyntax(this._binding)},t.prototype.toProvider=function(t){return this._binding.type=o.BindingTypeEnum.Provider,this._binding.provider=t,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toService=function(t){this.toDynamicValue((function(e){return e.container.get(t)}))},t}();e.BindingToSyntax=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingInWhenOnSyntax=void 0;var r=n(387),o=n(91),i=n(92),a=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new o.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(t)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingInWhenOnSyntax=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingInSyntax=void 0;var r=n(30),o=n(166),i=function(){function t(t){this._binding=t}return t.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new o.BindingWhenOnSyntax(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new o.BindingWhenOnSyntax(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new o.BindingWhenOnSyntax(this._binding)},t}();e.BindingInSyntax=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerSnapshot=void 0;var r=function(){function t(){}return t.of=function(e,n){var r=new t;return r.bindings=e,r.middleware=n,r},t}();e.ContainerSnapshot=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lookup=void 0;var r=n(19),o=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(t,e){if(null==t)throw new Error(r.NULL_ARGUMENT);if(null==e)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(t);void 0!==n?(n.push(e),this._map.set(t,n)):this._map.set(t,[e])},t.prototype.get=function(t){if(null==t)throw new Error(r.NULL_ARGUMENT);var e=this._map.get(t);if(void 0!==e)return e;throw new Error(r.KEY_NOT_FOUND)},t.prototype.remove=function(t){if(null==t)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(t))throw new Error(r.KEY_NOT_FOUND)},t.prototype.removeByCondition=function(t){var e=this;this._map.forEach((function(n,r){var o=n.filter((function(e){return!t(e)}));o.length>0?e._map.set(r,o):e._map.delete(r)}))},t.prototype.hasKey=function(t){if(null==t)throw new Error(r.NULL_ARGUMENT);return this._map.has(t)},t.prototype.clone=function(){var e=new t;return this._map.forEach((function(t,n){t.forEach((function(t){return e.add(n,t.clone())}))})),e},t.prototype.traverse=function(t){this._map.forEach((function(e,n){t(n,e)}))},t}();e.Lookup=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncContainerModule=e.ContainerModule=void 0;var r=n(40),o=function(t){this.id=r.id(),this.registry=t};e.ContainerModule=o;var i=function(t){this.id=r.id(),this.registry=t};e.AsyncContainerModule=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectable=void 0;var r=n(19),o=n(17);e.injectable=function(){return function(t){if(Reflect.hasOwnMetadata(o.PARAM_TYPES,t))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var e=Reflect.getMetadata(o.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(o.PARAM_TYPES,e,t),t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tagged=void 0;var r=n(26),o=n(33);e.tagged=function(t,e){return function(n,i,a){var u=new r.Metadata(t,e);"number"==typeof a?o.tagParameter(n,i,a,u):o.tagProperty(n,i,u)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.named=void 0;var r=n(17),o=n(26),i=n(33);e.named=function(t){return function(e,n,a){var u=new o.Metadata(r.NAMED_TAG,t);"number"==typeof a?i.tagParameter(e,n,a,u):i.tagProperty(e,n,u)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optional=void 0;var r=n(17),o=n(26),i=n(33);e.optional=function(){return function(t,e,n){var a=new o.Metadata(r.OPTIONAL_TAG,!0);"number"==typeof n?i.tagParameter(t,e,n,a):i.tagProperty(t,e,a)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unmanaged=void 0;var r=n(17),o=n(26),i=n(33);e.unmanaged=function(){return function(t,e,n){var a=new o.Metadata(r.UNMANAGED_TAG,!0);i.tagParameter(t,e,n,a)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiInject=void 0;var r=n(17),o=n(26),i=n(33);e.multiInject=function(t){return function(e,n,a){var u=new o.Metadata(r.MULTI_INJECT_TAG,t);"number"==typeof a?i.tagParameter(e,n,a,u):i.tagProperty(e,n,u)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.targetName=void 0;var r=n(17),o=n(26),i=n(33);e.targetName=function(t){return function(e,n,a){var u=new o.Metadata(r.NAME_TAG,t);i.tagParameter(e,n,a,u)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.postConstruct=void 0;var r=n(19),o=n(17),i=n(26);e.postConstruct=function(){return function(t,e,n){var a=new i.Metadata(o.POST_CONSTRUCT,e);if(Reflect.hasOwnMetadata(o.POST_CONSTRUCT,t.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(o.POST_CONSTRUCT,a,t.constructor)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiBindToService=void 0,e.multiBindToService=function(t){return function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return t.bind(n).toService(e)}))}}}},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Symbol.for("INJECTION");function o(t,e,n,o){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return o&&!Reflect.hasMetadata(r,this,e)&&Reflect.defineMetadata(r,n(),this,e),Reflect.hasMetadata(r,this,e)?Reflect.getMetadata(r,this,e):n()},set:function(t){Reflect.defineMetadata(r,t,this,e)}})}e.makePropertyInjectDecorator=function(t,e){return function(n){return function(r,i){o(r,i,(function(){return t.get(n)}),e)}}},e.makePropertyInjectNamedDecorator=function(t,e){return function(n,r){return function(i,a){o(i,a,(function(){return t.getNamed(n,r)}),e)}}},e.makePropertyInjectTaggedDecorator=function(t,e){return function(n,r,i){return function(a,u){o(a,u,(function(){return t.getTagged(n,r,i)}),e)}}},e.makePropertyMultiInjectDecorator=function(t,e){return function(n){return function(r,i){o(r,i,(function(){return t.getAll(n)}),e)}}}},function(t,e,n){var r=n(161);t.exports=function(t){if(Array.isArray(t))return r(t)}},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e){t.exports=function(t){var e=new Float32Array(2);return e[0]=t[0],e[1]=t[1],e}},function(t,e){t.exports=function(t,e){var n=new Float32Array(2);return n[0]=t,n[1]=e,n}},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t}},function(t,e,n){t.exports=function(t,e){var n=t[0],o=t[1],i=e[0],a=e[1];return Math.abs(n-i)<=r*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(o-a)<=r*Math.max(1,Math.abs(o),Math.abs(a))};var r=n(175)},function(t,e){t.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]}},function(t,e,n){t.exports=n(100)},function(t,e,n){t.exports=n(179)},function(t,e,n){t.exports=n(180)},function(t,e){t.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}},function(t,e){t.exports=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}},function(t,e){t.exports=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}},function(t,e){t.exports=function(t,e,n){var r=Math.cos(n),o=Math.sin(n),i=e[0],a=e[1];return t[0]=i*r-a*o,t[1]=i*o+a*r,t}},function(t,e){t.exports=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}},function(t,e){t.exports=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}},function(t,e,n){t.exports=n(181)},function(t,e,n){t.exports=n(182)},function(t,e,n){t.exports=n(183)},function(t,e,n){t.exports=n(184)},function(t,e){t.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t}},function(t,e){t.exports=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}},function(t,e){t.exports=function(t,e,n,r){var o=e[0],i=e[1];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t}},function(t,e){t.exports=function(t,e){e=e||1;var n=2*Math.random()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}},function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o,t[1]=n[1]*r+n[3]*o,t}},function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o+n[4],t[1]=n[1]*r+n[3]*o+n[5],t}},function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[3]*o+n[6],t[1]=n[1]*r+n[4]*o+n[7],t}},function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[4]*o+n[12],t[1]=n[1]*r+n[5]*o+n[13],t}},function(t,e,n){t.exports=function(t,e,n,o,i,a){var u,s;e||(e=2);n||(n=0);s=o?Math.min(o*e+n,t.length):t.length;for(u=n;u<s;u+=e)r[0]=t[u],r[1]=t[u+1],i(r,r,a),t[u]=r[0],t[u+1]=r[1];return t};var r=n(176)()},function(t,e){t.exports=function(t,e,n){var r=e[0]*e[0]+e[1]*e[1];if(r>n*n){var o=Math.sqrt(r);t[0]=e[0]/o*n,t[1]=e[1]/o*n}else t[0]=e[0],t[1]=e[1];return t}},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"create",(function(){return go})),n.d(r,"fromMat4",(function(){return bo})),n.d(r,"clone",(function(){return _o})),n.d(r,"copy",(function(){return xo})),n.d(r,"fromValues",(function(){return wo})),n.d(r,"set",(function(){return Eo})),n.d(r,"identity",(function(){return So})),n.d(r,"transpose",(function(){return To})),n.d(r,"invert",(function(){return Ao})),n.d(r,"adjoint",(function(){return Io})),n.d(r,"determinant",(function(){return ko})),n.d(r,"multiply",(function(){return Oo})),n.d(r,"translate",(function(){return Do})),n.d(r,"rotate",(function(){return Ro})),n.d(r,"scale",(function(){return Mo})),n.d(r,"fromTranslation",(function(){return Co})),n.d(r,"fromRotation",(function(){return No})),n.d(r,"fromScaling",(function(){return Po})),n.d(r,"fromMat2d",(function(){return Go})),n.d(r,"fromQuat",(function(){return jo})),n.d(r,"normalFromMat4",(function(){return Lo})),n.d(r,"projection",(function(){return Uo})),n.d(r,"str",(function(){return Bo})),n.d(r,"frob",(function(){return Fo})),n.d(r,"add",(function(){return zo})),n.d(r,"subtract",(function(){return Vo})),n.d(r,"multiplyScalar",(function(){return Wo})),n.d(r,"multiplyScalarAndAdd",(function(){return Xo})),n.d(r,"exactEquals",(function(){return Ho})),n.d(r,"equals",(function(){return qo})),n.d(r,"mul",(function(){return Yo})),n.d(r,"sub",(function(){return Ko}));var o={};n.r(o),n.d(o,"create",(function(){return Zo})),n.d(o,"clone",(function(){return Qo})),n.d(o,"copy",(function(){return Jo})),n.d(o,"fromValues",(function(){return $o})),n.d(o,"set",(function(){return ti})),n.d(o,"identity",(function(){return ei})),n.d(o,"transpose",(function(){return ni})),n.d(o,"invert",(function(){return ri})),n.d(o,"adjoint",(function(){return oi})),n.d(o,"determinant",(function(){return ii})),n.d(o,"multiply",(function(){return ai})),n.d(o,"translate",(function(){return ui})),n.d(o,"scale",(function(){return si})),n.d(o,"rotate",(function(){return ci})),n.d(o,"rotateX",(function(){return fi})),n.d(o,"rotateY",(function(){return li})),n.d(o,"rotateZ",(function(){return hi})),n.d(o,"fromTranslation",(function(){return di})),n.d(o,"fromScaling",(function(){return pi})),n.d(o,"fromRotation",(function(){return vi})),n.d(o,"fromXRotation",(function(){return mi})),n.d(o,"fromYRotation",(function(){return yi})),n.d(o,"fromZRotation",(function(){return gi})),n.d(o,"fromRotationTranslation",(function(){return bi})),n.d(o,"fromQuat2",(function(){return _i})),n.d(o,"getTranslation",(function(){return xi})),n.d(o,"getScaling",(function(){return wi})),n.d(o,"getRotation",(function(){return Ei})),n.d(o,"fromRotationTranslationScale",(function(){return Si})),n.d(o,"fromRotationTranslationScaleOrigin",(function(){return Ti})),n.d(o,"fromQuat",(function(){return Ai})),n.d(o,"frustum",(function(){return Ii})),n.d(o,"perspective",(function(){return ki})),n.d(o,"perspectiveFromFieldOfView",(function(){return Oi})),n.d(o,"ortho",(function(){return Di})),n.d(o,"lookAt",(function(){return Ri})),n.d(o,"targetTo",(function(){return Mi})),n.d(o,"str",(function(){return Ci})),n.d(o,"frob",(function(){return Ni})),n.d(o,"add",(function(){return Pi})),n.d(o,"subtract",(function(){return Gi})),n.d(o,"multiplyScalar",(function(){return ji})),n.d(o,"multiplyScalarAndAdd",(function(){return Li})),n.d(o,"exactEquals",(function(){return Ui})),n.d(o,"equals",(function(){return Bi})),n.d(o,"mul",(function(){return Fi})),n.d(o,"sub",(function(){return zi}));var i={};n.r(i),n.d(i,"create",(function(){return Vi})),n.d(i,"clone",(function(){return Wi})),n.d(i,"length",(function(){return Xi})),n.d(i,"fromValues",(function(){return Hi})),n.d(i,"copy",(function(){return qi})),n.d(i,"set",(function(){return Yi})),n.d(i,"add",(function(){return Ki})),n.d(i,"subtract",(function(){return Zi})),n.d(i,"multiply",(function(){return Qi})),n.d(i,"divide",(function(){return Ji})),n.d(i,"ceil",(function(){return $i})),n.d(i,"floor",(function(){return ta})),n.d(i,"min",(function(){return ea})),n.d(i,"max",(function(){return na})),n.d(i,"round",(function(){return ra})),n.d(i,"scale",(function(){return oa})),n.d(i,"scaleAndAdd",(function(){return ia})),n.d(i,"distance",(function(){return aa})),n.d(i,"squaredDistance",(function(){return ua})),n.d(i,"squaredLength",(function(){return sa})),n.d(i,"negate",(function(){return ca})),n.d(i,"inverse",(function(){return fa})),n.d(i,"normalize",(function(){return la})),n.d(i,"dot",(function(){return ha})),n.d(i,"cross",(function(){return da})),n.d(i,"lerp",(function(){return pa})),n.d(i,"hermite",(function(){return va})),n.d(i,"bezier",(function(){return ma})),n.d(i,"random",(function(){return ya})),n.d(i,"transformMat4",(function(){return ga})),n.d(i,"transformMat3",(function(){return ba})),n.d(i,"transformQuat",(function(){return _a})),n.d(i,"rotateX",(function(){return xa})),n.d(i,"rotateY",(function(){return wa})),n.d(i,"rotateZ",(function(){return Ea})),n.d(i,"angle",(function(){return Sa})),n.d(i,"zero",(function(){return Ta})),n.d(i,"str",(function(){return Aa})),n.d(i,"exactEquals",(function(){return Ia})),n.d(i,"equals",(function(){return ka})),n.d(i,"sub",(function(){return Da})),n.d(i,"mul",(function(){return Ra})),n.d(i,"div",(function(){return Ma})),n.d(i,"dist",(function(){return Ca})),n.d(i,"sqrDist",(function(){return Na})),n.d(i,"len",(function(){return Pa})),n.d(i,"sqrLen",(function(){return Ga})),n.d(i,"forEach",(function(){return ja}));var a={};n.r(a),n.d(a,"create",(function(){return La})),n.d(a,"clone",(function(){return Ua})),n.d(a,"fromValues",(function(){return Ba})),n.d(a,"copy",(function(){return Fa})),n.d(a,"set",(function(){return za})),n.d(a,"add",(function(){return Va})),n.d(a,"subtract",(function(){return Wa})),n.d(a,"multiply",(function(){return Xa})),n.d(a,"divide",(function(){return Ha})),n.d(a,"ceil",(function(){return qa})),n.d(a,"floor",(function(){return Ya})),n.d(a,"min",(function(){return Ka})),n.d(a,"max",(function(){return Za})),n.d(a,"round",(function(){return Qa})),n.d(a,"scale",(function(){return Ja})),n.d(a,"scaleAndAdd",(function(){return $a})),n.d(a,"distance",(function(){return tu})),n.d(a,"squaredDistance",(function(){return eu})),n.d(a,"length",(function(){return nu})),n.d(a,"squaredLength",(function(){return ru})),n.d(a,"negate",(function(){return ou})),n.d(a,"inverse",(function(){return iu})),n.d(a,"normalize",(function(){return au})),n.d(a,"dot",(function(){return uu})),n.d(a,"cross",(function(){return su})),n.d(a,"lerp",(function(){return cu})),n.d(a,"random",(function(){return fu})),n.d(a,"transformMat4",(function(){return lu})),n.d(a,"transformQuat",(function(){return hu})),n.d(a,"zero",(function(){return du})),n.d(a,"str",(function(){return pu})),n.d(a,"exactEquals",(function(){return vu})),n.d(a,"equals",(function(){return mu})),n.d(a,"sub",(function(){return yu})),n.d(a,"mul",(function(){return gu})),n.d(a,"div",(function(){return bu})),n.d(a,"dist",(function(){return _u})),n.d(a,"sqrDist",(function(){return xu})),n.d(a,"len",(function(){return wu})),n.d(a,"sqrLen",(function(){return Eu})),n.d(a,"forEach",(function(){return Su}));var u={};n.r(u),n.d(u,"create",(function(){return Tu})),n.d(u,"identity",(function(){return Au})),n.d(u,"setAxisAngle",(function(){return Iu})),n.d(u,"getAxisAngle",(function(){return ku})),n.d(u,"getAngle",(function(){return Ou})),n.d(u,"multiply",(function(){return Du})),n.d(u,"rotateX",(function(){return Ru})),n.d(u,"rotateY",(function(){return Mu})),n.d(u,"rotateZ",(function(){return Cu})),n.d(u,"calculateW",(function(){return Nu})),n.d(u,"exp",(function(){return Pu})),n.d(u,"ln",(function(){return Gu})),n.d(u,"pow",(function(){return ju})),n.d(u,"slerp",(function(){return Lu})),n.d(u,"random",(function(){return Uu})),n.d(u,"invert",(function(){return Bu})),n.d(u,"conjugate",(function(){return Fu})),n.d(u,"fromMat3",(function(){return zu})),n.d(u,"fromEuler",(function(){return Vu})),n.d(u,"str",(function(){return Wu})),n.d(u,"clone",(function(){return as})),n.d(u,"fromValues",(function(){return us})),n.d(u,"copy",(function(){return ss})),n.d(u,"set",(function(){return cs})),n.d(u,"add",(function(){return fs})),n.d(u,"mul",(function(){return ls})),n.d(u,"scale",(function(){return hs})),n.d(u,"dot",(function(){return ds})),n.d(u,"lerp",(function(){return ps})),n.d(u,"length",(function(){return vs})),n.d(u,"len",(function(){return ms})),n.d(u,"squaredLength",(function(){return ys})),n.d(u,"sqrLen",(function(){return gs})),n.d(u,"normalize",(function(){return bs})),n.d(u,"exactEquals",(function(){return _s})),n.d(u,"equals",(function(){return xs})),n.d(u,"rotationTo",(function(){return ws})),n.d(u,"sqlerp",(function(){return Es})),n.d(u,"setAxes",(function(){return Ss}));var s,c,f="LAYOUT_RUN",l="LAYOUT_END",h="LAYOUT_ERROR",d="GPU_LAYOUT_RUN",p=function(t){return"string"==typeof t},v=/-(\\w)/g,m=(s=function(t){return t.replace(v,(function(t,e){return e?e.toUpperCase():""}))},c=Object.create(null),Array.isArray),y=function(t){return"number"==typeof t},g=function(t){return Number.isNaN(Number(t))},b=function(t,e,n){for(var r=[],o=0;o<t;o++)r[o]=0;return n?(n.forEach((function(t){t.source&&(r[e[t.source]]+=1),t.target&&(r[e[t.target]]+=1)})),r):r},_=function(t){for(var e=[],n=t.length,r=0;r<n;r+=1){e[r]=[];for(var o=0;o<n;o+=1)r===o?e[r][o]=0:0!==t[r][o]&&t[r][o]?e[r][o]=t[r][o]:e[r][o]=1/0}for(var i=0;i<n;i+=1)for(var a=0;a<n;a+=1)for(var u=0;u<n;u+=1)e[a][u]>e[a][i]+e[i][u]&&(e[a][u]=e[a][i]+e[i][u]);return e},x=function(t,e){var n=t.nodes,r=t.edges,o=[],i={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(t,e){i[t.id]=e;o.push([])})),r&&r.forEach((function(t){var n=t.source,r=t.target,a=i[n],u=i[r];o[a][u]=1,e||(o[u][a]=1)})),o},w=function(t,e){"function"==typeof e&&function t(e,n){if(e&&e.children)for(var r=e.children.length-1;r>=0;r--)if(!t(e.children[r],n))return;return!!n(e)}(t,e)};function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var S=function t(e){if(null===e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof Array){var n=[];return e.forEach((function(t){n.push(t)})),n.map((function(e){return t(e)}))}if("object"===E(e)&&e!=={}){var r=Object.assign({},e);return Object.keys(r).forEach((function(e){r[e]=t(r[e])})),r}return e},T=function(t){return"function"==typeof t};function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var I=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}var e,n,r;return e=t,(n=[{key:"layout",value:function(t){return this.init(t),this.execute(!0)}},{key:"init",value:function(t){this.nodes=t.nodes||[],this.edges=t.edges||[],this.combos=t.combos||[]}},{key:"execute",value:function(t){}},{key:"executeWithWorker",value:function(){}},{key:"getDefaultCfg",value:function(){return{}}},{key:"updateCfg",value:function(t){t&&Object.assign(this,t)}},{key:"getType",value:function(){return"base"}},{key:"destroy",value:function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0}}])&&A(e.prototype,n),r&&A(e,r),t}();function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=C(t);if(e){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M(this,n)}}function M(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(i,t);var e,n,r,o=R(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).begin=[0,0],e.preventOverlap=!0,e.preventOverlapPadding=10,e.condense=!1,e.sortBy="degree",e.nodeSize=30,e.nodes=[],e.edges=[],e.width=300,e.height=300,e.row=0,e.col=0,e.cellWidth=0,e.cellHeight=0,e.cellUsed={},e.id2manPos={},e.onLayoutEnd=function(){},e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}}},{key:"execute",value:function(){var t=this,e=t.nodes,n=e.length,r=t.begin;if(0!==n){if(1===n)return e[0].x=r[0],e[0].y=r[1],void(t.onLayoutEnd&&t.onLayoutEnd());var o=t.edges,i=[];e.forEach((function(t){i.push(t)}));var a={};if(i.forEach((function(t,e){a[t.id]=e})),("degree"===t.sortBy||!p(t.sortBy)||void 0===i[0][t.sortBy])&&(t.sortBy="degree",g(e[0].degree))){var u=b(i.length,a,o);i.forEach((function(t,e){t.degree=u[e]}))}i.sort((function(e,n){return n[t.sortBy]-e[t.sortBy]})),t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight);var s=t.rows,c=null!=t.cols?t.cols:t.columns;if(t.cells=n,null!=s&&null!=c?(t.rows=s,t.cols=c):null!=s&&null==c?(t.rows=s,t.cols=Math.ceil(t.cells/t.rows)):null==s&&null!=c?(t.cols=c,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.cols*t.rows>t.cells){var f=t.small(),l=t.large();(f-1)*l>=t.cells?t.small(f-1):(l-1)*f>=t.cells&&t.large(l-1)}else for(;t.cols*t.rows<t.cells;){var h=t.small(),d=t.large();(d+1)*h>=t.cells?t.large(d+1):t.small(h+1)}t.cellWidth=t.width/t.cols,t.cellHeight=t.height/t.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&i.forEach((function(e){var n,r;e.x&&e.y||(e.x=0,e.y=0),m(e.size)?(n=e.size[0],r=e.size[1]):y(e.size)&&(n=e.size,r=e.size),void 0!==n&&void 0!==r||(m(t.nodeSize)?(n=t.nodeSize[0],r=t.nodeSize[1]):y(t.nodeSize)?(n=t.nodeSize,r=t.nodeSize):(n=30,r=30));var o=t.preventOverlapPadding,i=n+o,a=r+o;t.cellWidth=Math.max(t.cellWidth,i),t.cellHeight=Math.max(t.cellHeight,a)})),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var v=0;v<i.length;v++){var _=i[v],x=void 0;if(t.position&&(x=t.position(_)),x&&(void 0!==x.row||void 0!==x.col)){var w={row:x.row,col:x.col};if(void 0===w.col)for(w.col=0;t.used(w.row,w.col);)w.col++;else if(void 0===w.row)for(w.row=0;t.used(w.row,w.col);)w.row++;t.id2manPos[_.id]=w,t.use(w.row,w.col)}t.getPos(_)}return t.onLayoutEnd&&t.onLayoutEnd(),{edges:o,nodes:i}}t.onLayoutEnd&&t.onLayoutEnd()}},{key:"small",value:function(t){var e,n=this.rows||5,r=this.cols||5;return null==t?e=Math.min(n,r):Math.min(n,r)===this.rows?this.rows=t:this.cols=t,e}},{key:"large",value:function(t){var e,n=this.rows||5,r=this.cols||5;return null==t?e=Math.max(n,r):Math.max(n,r)===this.rows?this.rows=t:this.cols=t,e}},{key:"used",value:function(t,e){return this.cellUsed["c-".concat(t,"-").concat(e)]||!1}},{key:"use",value:function(t,e){this.cellUsed["c-".concat(t,"-").concat(e)]=!0}},{key:"moveToNextCell",value:function(){var t=this.cols||5;this.col++,this.col>=t&&(this.col=0,this.row++)}},{key:"getPos",value:function(t){var e,n,r=this.begin,o=this.cellWidth,i=this.cellHeight,a=this.id2manPos[t.id];if(a)e=a.col*o+o/2+r[0],n=a.row*i+i/2+r[1];else{for(;this.used(this.row,this.col);)this.moveToNextCell();e=this.col*o+o/2+r[0],n=this.row*i+i/2+r[1],this.use(this.row,this.col),this.moveToNextCell()}t.x=e,t.y=n}},{key:"getType",value:function(){return"grid"}}])&&O(e.prototype,n),r&&O(e,r),i}(I);function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=B(t);if(e){var o=B(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return U(this,n)}}function U(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var F=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}(i,t);var e,n,r,o=L(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).center=[0,0],e.width=300,e.height=300,e.nodes=[],e.edges=[],e.onLayoutEnd=function(){},e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{center:[0,0],width:300,height:300}}},{key:"execute",value:function(){var t=this,e=t.nodes,n=t.center;return t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),e&&e.forEach((function(e){e.x=.9*(Math.random()-.5)*t.width+n[0],e.y=.9*(Math.random()-.5)*t.height+n[1]})),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:this.edges}}},{key:"getType",value:function(){return"random"}}])&&G(e.prototype,n),r&&G(e,r),i}(I);function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=q(t);if(e){var o=q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H(this,n)}}function H(t,e){return!e||"object"!==z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Y=function(t,e){return t?y(t)?function(e){return t}:t:function(t){return e||1}},K=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}(i,t);var e,n,r,o=X(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).maxIteration=1e3,e.edgeStrength=200,e.nodeStrength=1e3,e.coulombDisScale=.005,e.damping=.9,e.maxSpeed=1e3,e.minMovement=.5,e.interval=.02,e.factor=1,e.linkDistance=1,e.gravity=10,e.preventOverlap=!0,e.tick=function(){},e.nodes=[],e.edges=[],e.width=300,e.height=300,e.nodeMap={},e.nodeIdxMap={},e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{maxIteration:500,gravity:10,enableTick:!0}}},{key:"execute",value:function(){var t=this,e=t.nodes;if(void 0!==t.timeInterval&&"undefined"!=typeof window&&window.clearInterval(t.timeInterval),e&&0!==e.length){t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);var n=t.center;if(1===e.length)return e[0].x=n[0],e[0].y=n[1],void(t.onLayoutEnd&&t.onLayoutEnd());var r={},o={};e.forEach((function(e,n){y(e.x)||(e.x=Math.random()*t.width),y(e.y)||(e.y=Math.random()*t.height),r[e.id]=e,o[e.id]=n})),t.nodeMap=r,t.nodeIdxMap=o,t.linkDistance=Y(t.linkDistance,1),t.nodeStrength=Y(t.nodeStrength,1),t.edgeStrength=Y(t.edgeStrength,1);var i,a=t.nodeSize;if(t.preventOverlap){var u,s=t.nodeSpacing;u=y(s)?function(){return s}:T(s)?s:function(){return 0},i=a?m(a)?function(t){return(a[0]>a[1]?a[0]:a[1])+u(t)}:function(t){return a+u(t)}:function(t){return t.size?m(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])+u(t):t.size+u(t):10+u(t)}}t.nodeSize=i;var c=t.edges;t.degrees=b(e.length,t.nodeIdxMap,c),t.getMass||(t.getMass=function(e){return t.degrees[t.nodeIdxMap[e.id]]}),t.run()}else t.onLayoutEnd&&t.onLayoutEnd()}},{key:"run",value:function(){var t=this,e=t.nodes,n=t.edges,r=t.maxIteration;if("undefined"!=typeof window){var o=0;this.timeInterval=window.setInterval((function(){var i=[],a=[];if(e){e.forEach((function(t,e){i[2*e]=0,i[2*e+1]=0,a[2*e]=0,a[2*e+1]=0})),t.calRepulsive(i,e),n&&t.calAttractive(i,n),t.calGravity(i,e);var u=Math.max(.02,t.interval-.002*o);t.updateVelocity(i,a,u,e);var s=[];e.forEach((function(t){s.push({x:t.x,y:t.y})})),t.updatePosition(a,u,e),t.tick&&t.tick();var c=0;e.forEach((function(t,e){var n=t.x-s[e].x,r=t.y-s[e].y;c+=Math.sqrt(n*n+r*r)})),(c/=e.length)<t.minMovement&&(window.clearInterval(t.timeInterval),t.onLayoutEnd&&t.onLayoutEnd()),++o>r&&(window.clearInterval(t.timeInterval),t.onLayoutEnd&&t.onLayoutEnd())}}),0)}}},{key:"calRepulsive",value:function(t,e){var n=this.getMass,r=this.nodeStrength,o=this.factor,i=this.coulombDisScale,a=this.preventOverlap,u=this.nodeSize;e.forEach((function(s,c){var f=n?n(s):1;e.forEach((function(e,l){if(!(c>=l)){var h=s.x-e.x,d=s.y-e.y,p=Math.sqrt(h*h+d*d)+.01,v=(p+.1)*i,m=h/p,y=d/p,g=(r(s)+r(e))/2*o/(v*v),b=n?n(e):1;if(t[2*c]+=m*g/f,t[2*c+1]+=y*g/f,t[2*l]-=m*g/b,t[2*l+1]-=y*g/b,a&&p<(u(s)+u(e))/2){var _=(r(s)+r(e))/2/(p*p);t[2*c]+=m*_/f,t[2*c+1]+=y*_/f,t[2*l]-=m*_/b,t[2*l+1]-=y*_/b}}}))}))}},{key:"calAttractive",value:function(t,e){var n=this.nodeMap,r=this.nodeIdxMap,o=this.linkDistance,i=this.edgeStrength,a=this.getMass;e.forEach((function(e,u){var s=n[e.source],c=n[e.target],f=c.x-s.x,l=c.y-s.y,h=Math.sqrt(f*f+l*l)+.01,d=f/h,p=l/h,v=((o(e)||1)-h)*i(e),m=r[e.source],y=r[e.target],g=a?a(s):1,b=a?a(c):1;t[2*m]-=d*v/g,t[2*m+1]-=p*v/g,t[2*y]+=d*v/b,t[2*y+1]+=p*v/b}))}},{key:"calGravity",value:function(t,e){for(var n=this.center,r=this.gravity,o=this.degrees,i=e.length,a=0;a<i;a++){var u=e[a],s=u.x-n[0],c=u.y-n[1],f=r;if(this.getCenter){var l=this.getCenter(u,o[a]);l&&y(l[0])&&y(l[1])&&y(l[2])&&(s=u.x-l[0],c=u.y-l[1],f=l[2])}f&&(t[2*a]-=f*s,t[2*a+1]-=f*c)}}},{key:"updateVelocity",value:function(t,e,n,r){var o=this,i=n*o.damping;r.forEach((function(n,r){var a=t[2*r]*i||.01,u=t[2*r+1]*i||.01,s=Math.sqrt(a*a+u*u);if(s>o.maxSpeed){var c=o.maxSpeed/s;a*=c,u*=c}e[2*r]=a,e[2*r+1]=u}))}},{key:"updatePosition",value:function(t,e,n){n.forEach((function(n,r){var o=t[2*r]*e,i=t[2*r+1]*e;n.x+=o,n.y+=i}))}},{key:"stop",value:function(){this.timeInterval&&"undefined"!=typeof window&&window.clearInterval(this.timeInterval)}},{key:"destroy",value:function(){this.stop(),this.tick=null,this.nodes=null,this.edges=null,this.destroyed=!0}},{key:"getType",value:function(){return"gForce"}}])&&V(e.prototype,n),r&&V(e,r),i}(I);function Z(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var o,i,a,u,s,c,f,l,h,d=t._root,p={data:r},v=t._x0,m=t._y0,y=t._x1,g=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(i=(v+y)/2))?v=i:y=i,(f=n>=(a=(m+g)/2))?m=a:g=a,o=d,!(d=d[l=f<<1|c]))return o[l]=p,t;if(u=+t._x.call(null,d.data),s=+t._y.call(null,d.data),e===u&&n===s)return p.next=d,o?o[l]=p:t._root=p,t;do{o=o?o[l]=new Array(4):t._root=new Array(4),(c=e>=(i=(v+y)/2))?v=i:y=i,(f=n>=(a=(m+g)/2))?m=a:g=a}while((l=f<<1|c)==(h=(s>=a)<<1|u>=i));return o[h]=d,o[l]=p,t}var Q=function(t,e,n,r,o){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=o};function J(t){return t[0]}function $(t){return t[1]}function tt(t,e,n){var r=new et(null==e?J:e,null==n?$:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function et(t,e,n,r,o,i){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function nt(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var rt=tt.prototype=et.prototype;rt.copy=function(){var t,e,n=new et(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=nt(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var o=0;o<4;++o)(e=r.source[o])&&(e.length?t.push({source:e,target:r.target[o]=new Array(4)}):r.target[o]=nt(e));return n},rt.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Z(this.cover(e,n),e,n,t)},rt.addAll=function(t){var e,n,r,o,i=t.length,a=new Array(i),u=new Array(i),s=1/0,c=1/0,f=-1/0,l=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(a[n]=r,u[n]=o,r<s&&(s=r),r>f&&(f=r),o<c&&(c=o),o>l&&(l=o));if(s>f||c>l)return this;for(this.cover(s,c).cover(f,l),n=0;n<i;++n)Z(this,a[n],u[n],t[n]);return this},rt.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(t))+1,i=(r=Math.floor(e))+1;else{for(var a,u,s=o-n||1,c=this._root;n>t||t>=o||r>e||e>=i;)switch(u=(e<r)<<1|t<n,(a=new Array(4))[u]=c,c=a,s*=2,u){case 0:o=n+s,i=r+s;break;case 1:n=o-s,i=r+s;break;case 2:o=n+s,r=i-s;break;case 3:n=o-s,r=i-s}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this},rt.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},rt.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},rt.find=function(t,e,n){var r,o,i,a,u,s,c,f=this._x0,l=this._y0,h=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new Q(v,f,l,h,d)),null==n?n=1/0:(f=t-n,l=e-n,h=t+n,d=e+n,n*=n);s=p.pop();)if(!(!(v=s.node)||(o=s.x0)>h||(i=s.y0)>d||(a=s.x1)<f||(u=s.y1)<l))if(v.length){var m=(o+a)/2,y=(i+u)/2;p.push(new Q(v[3],m,y,a,u),new Q(v[2],o,y,m,u),new Q(v[1],m,i,a,y),new Q(v[0],o,i,m,y)),(c=(e>=y)<<1|t>=m)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=s)}else{var g=t-+this._x.call(null,v.data),b=e-+this._y.call(null,v.data),_=g*g+b*b;if(_<n){var x=Math.sqrt(n=_);f=t-x,l=e-x,h=t+x,d=e+x,r=v.data}}return r},rt.remove=function(t){if(isNaN(i=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,o,i,a,u,s,c,f,l,h,d=this._root,p=this._x0,v=this._y0,m=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((c=i>=(u=(p+m)/2))?p=u:m=u,(f=a>=(s=(v+y)/2))?v=s:y=s,e=d,!(d=d[l=f<<1|c]))return this;if(!d.length)break;(e[l+1&3]||e[l+2&3]||e[l+3&3])&&(n=e,h=l)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(o=d.next)&&delete d.next,r?(o?r.next=o:delete r.next,this):e?(o?e[l]=o:delete e[l],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=o,this)},rt.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},rt.root=function(){return this._root},rt.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},rt.visit=function(t){var e,n,r,o,i,a,u=[],s=this._root;for(s&&u.push(new Q(s,this._x0,this._y0,this._x1,this._y1));e=u.pop();)if(!t(s=e.node,r=e.x0,o=e.y0,i=e.x1,a=e.y1)&&s.length){var c=(r+i)/2,f=(o+a)/2;(n=s[3])&&u.push(new Q(n,c,f,i,a)),(n=s[2])&&u.push(new Q(n,r,f,c,a)),(n=s[1])&&u.push(new Q(n,c,o,i,f)),(n=s[0])&&u.push(new Q(n,r,o,c,f))}return this},rt.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Q(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var o=e.node;if(o.length){var i,a=e.x0,u=e.y0,s=e.x1,c=e.y1,f=(a+s)/2,l=(u+c)/2;(i=o[0])&&n.push(new Q(i,a,u,f,l)),(i=o[1])&&n.push(new Q(i,f,u,s,l)),(i=o[2])&&n.push(new Q(i,a,l,f,c)),(i=o[3])&&n.push(new Q(i,f,l,s,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},rt.x=function(t){return arguments.length?(this._x=t,this):this._x},rt.y=function(t){return arguments.length?(this._y=t,this):this._y};var ot=function(t){return function(){return t}},it=function(t){return 1e-6*(t()-.5)},at={value:function(){}};function ut(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new st(r)}function st(t){this._=t}function ct(t,e){return t.trim().split(/^|\\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function ft(t,e){for(var n,r=0,o=t.length;r<o;++r)if((n=t[r]).name===e)return n.value}function lt(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=at,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}st.prototype=ut.prototype={constructor:st,on:function(t,e){var n,r=this._,o=ct(t+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<a;)if(n=(t=o[i]).type)r[n]=lt(r[n],t.name,e);else if(null==e)for(n in r)r[n]=lt(r[n],t.name,null);return this}for(;++i<a;)if((n=(t=o[i]).type)&&(n=ft(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new st(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};var ht=ut;function dt(t){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var pt,vt,mt=0,yt=0,gt=0,bt=0,_t=0,xt=0,wt="object"===("undefined"==typeof performance?"undefined":dt(performance))&&performance.now?performance:Date,Et="object"===("undefined"==typeof window?"undefined":dt(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function St(){return _t||(Et(Tt),_t=wt.now()+xt)}function Tt(){_t=0}function At(){this._call=this._time=this._next=null}function It(t,e,n){var r=new At;return r.restart(t,e,n),r}function kt(){_t=(bt=wt.now())+xt,mt=yt=0;try{!function(){St(),++mt;for(var t,e=pt;e;)(t=_t-e._time)>=0&&e._call.call(null,t),e=e._next;--mt}()}finally{mt=0,function(){var t,e,n=pt,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:pt=e);vt=t,Dt(r)}(),_t=0}}function Ot(){var t=wt.now(),e=t-bt;e>1e3&&(xt-=e,bt=t)}function Dt(t){mt||(yt&&(yt=clearTimeout(yt)),t-_t>24?(t<1/0&&(yt=setTimeout(kt,t-wt.now()-xt)),gt&&(gt=clearInterval(gt))):(gt||(bt=wt.now(),gt=setInterval(Ot,1e3)),mt=1,Et(kt)))}At.prototype=It.prototype={constructor:At,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?St():+n)+(null==e?0:+e),this._next||vt===this||(vt?vt._next=this:pt=this,vt=this),this._call=t,this._time=n,Dt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Dt())}};function Rt(t){return t.x}function Mt(t){return t.y}var Ct=Math.PI*(3-Math.sqrt(5)),Nt=function(t){var e,n,r=1,o=.001,i=1-Math.pow(o,1/300),a=0,u=.6,s=new Map,c=It(h),f=ht("tick","end"),l=(n=1,function(){return(n=(1664525*n+1013904223)%4294967296)/4294967296});function h(){d(),f.call("tick",e),r<o&&(c.stop(),f.call("end",e))}function d(n){var o,c,f=t.length;void 0===n&&(n=1);for(var l=0;l<n;++l)for(r+=(a-r)*i,s.forEach((function(t){t(r)})),o=0;o<f;++o)null==(c=t[o]).fx?c.x+=c.vx*=u:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=u:(c.y=c.fy,c.vy=0);return e}function p(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var o=10*Math.sqrt(.5+n),i=n*Ct;e.x=o*Math.cos(i),e.y=o*Math.sin(i)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function v(e){return e.initialize&&e.initialize(t,l),e}return null==t&&(t=[]),p(),e={tick:d,restart:function(){return c.restart(h),e},stop:function(){return c.stop(),e},nodes:function(n){return arguments.length?(t=n,p(),s.forEach(v),e):t},alpha:function(t){return arguments.length?(r=+t,e):r},alphaMin:function(t){return arguments.length?(o=+t,e):o},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(a=+t,e):a},velocityDecay:function(t){return arguments.length?(u=1-t,e):1-u},randomSource:function(t){return arguments.length?(l=t,s.forEach(v),e):l},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,v(n)),e):s.get(t)},find:function(e,n,r){var o,i,a,u,s,c=0,f=t.length;for(null==r?r=1/0:r*=r,c=0;c<f;++c)(a=(o=e-(u=t[c]).x)*o+(i=n-u.y)*i)<r&&(s=u,r=a);return s},on:function(t,n){return arguments.length>1?(f.on(t,n),e):f.on(t)}}},Pt=function(){var t,e,n,r,o,i=ot(-30),a=1,u=1/0,s=.81;function c(n){var o,i=t.length,a=tt(t,Rt,Mt).visitAfter(l);for(r=n,o=0;o<i;++o)e=t[o],a.visit(h)}function f(){if(t){var e,n,r=t.length;for(o=new Array(r),e=0;e<r;++e)n=t[e],o[n.index]=+i(n,e,t)}}function l(t){var e,n,r,i,a,u=0,s=0;if(t.length){for(r=i=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(u+=e.value,s+=n,r+=n*e.x,i+=n*e.y);t.x=r/s,t.y=i/s}else{(e=t).x=e.data.x,e.y=e.data.y;do{u+=o[e.data.index]}while(e=e.next)}t.value=u}function h(t,i,c,f){if(!t.value)return!0;var l=t.x-e.x,h=t.y-e.y,d=f-i,p=l*l+h*h;if(d*d/s<p)return p<u&&(0===l&&(p+=(l=it(n))*l),0===h&&(p+=(h=it(n))*h),p<a&&(p=Math.sqrt(a*p)),e.vx+=l*t.value*r/p,e.vy+=h*t.value*r/p),!0;if(!(t.length||p>=u)){(t.data!==e||t.next)&&(0===l&&(p+=(l=it(n))*l),0===h&&(p+=(h=it(n))*h),p<a&&(p=Math.sqrt(a*p)));do{t.data!==e&&(d=o[t.data.index]*r/p,e.vx+=l*d,e.vy+=h*d)}while(t=t.next)}}return c.initialize=function(e,r){t=e,n=r,f()},c.strength=function(t){return arguments.length?(i="function"==typeof t?t:ot(+t),f(),c):i},c.distanceMin=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.distanceMax=function(t){return arguments.length?(u=t*t,c):Math.sqrt(u)},c.theta=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c};function Gt(t){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jt(t){return t.index}function Lt(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}var Ut=function(t){var e,n,r,o,i,a,u=jt,s=function(t){return 1/Math.min(o[t.source.index],o[t.target.index])},c=ot(30),f=1;function l(r){for(var o=0,u=t.length;o<f;++o)for(var s,c,l,h,d,p,v,m=0;m<u;++m)c=(s=t[m]).source,h=(l=s.target).x+l.vx-c.x-c.vx||it(a),d=l.y+l.vy-c.y-c.vy||it(a),h*=p=((p=Math.sqrt(h*h+d*d))-n[m])/p*r*e[m],d*=p,l.vx-=h*(v=i[m]),l.vy-=d*v,c.vx+=h*(v=1-v),c.vy+=d*v}function h(){if(r){var a,s,c=r.length,f=t.length,l=new Map(r.map((function(t,e){return[u(t,e,r),t]})));for(a=0,o=new Array(c);a<f;++a)(s=t[a]).index=a,"object"!==Gt(s.source)&&(s.source=Lt(l,s.source)),"object"!==Gt(s.target)&&(s.target=Lt(l,s.target)),o[s.source.index]=(o[s.source.index]||0)+1,o[s.target.index]=(o[s.target.index]||0)+1;for(a=0,i=new Array(f);a<f;++a)s=t[a],i[a]=o[s.source.index]/(o[s.source.index]+o[s.target.index]);e=new Array(f),d(),n=new Array(f),p()}}function d(){if(r)for(var n=0,o=t.length;n<o;++n)e[n]=+s(t[n],n,t)}function p(){if(r)for(var e=0,o=t.length;e<o;++e)n[e]=+c(t[e],e,t)}return null==t&&(t=[]),l.initialize=function(t,e){r=t,a=e,h()},l.links=function(e){return arguments.length?(t=e,h(),l):t},l.id=function(t){return arguments.length?(u=t,l):u},l.iterations=function(t){return arguments.length?(f=+t,l):f},l.strength=function(t){return arguments.length?(s="function"==typeof t?t:ot(+t),d(),l):s},l.distance=function(t){return arguments.length?(c="function"==typeof t?t:ot(+t),p(),l):c},l};function Bt(t){return t.x+t.vx}function Ft(t){return t.y+t.vy}var zt=function(t){var e,n,r,o=1,i=1;function a(){for(var t,a,s,c,f,l,h,d=e.length,p=0;p<i;++p)for(a=tt(e,Bt,Ft).visitAfter(u),t=0;t<d;++t)s=e[t],l=n[s.index],h=l*l,c=s.x+s.vx,f=s.y+s.vy,a.visit(v);function v(t,e,n,i,a){var u=t.data,d=t.r,p=l+d;if(!u)return e>c+p||i<c-p||n>f+p||a<f-p;if(u.index>s.index){var v=c-u.x-u.vx,m=f-u.y-u.vy,y=v*v+m*m;y<p*p&&(0===v&&(y+=(v=it(r))*v),0===m&&(y+=(m=it(r))*m),y=(p-(y=Math.sqrt(y)))/y*o,s.vx+=(v*=y)*(p=(d*=d)/(h+d)),s.vy+=(m*=y)*p,u.vx-=v*(p=1-p),u.vy-=m*p)}}}function u(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var r,o,i=e.length;for(n=new Array(i),r=0;r<i;++r)o=e[r],n[o.index]=+t(o,r,e)}}return"function"!=typeof t&&(t=ot(null==t?1:+t)),a.initialize=function(t,n){e=t,r=n,s()},a.iterations=function(t){return arguments.length?(i=+t,a):i},a.strength=function(t){return arguments.length?(o=+t,a):o},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:ot(+e),s(),a):t},a};function Vt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Wt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xt(){function t(t){return function(){return t}}var e,n=function(t){return t.cluster},r=t(1),o=t(-1),i=t(100),a=t(.1),u=[0,0],s=[],c={},f=[],l=100,h=100,d={none:{x:0,y:0}},p=[],v="force",m=!0,y=.1;function g(t){if(!m)return g;e.tick(),_();for(var r,o=0,i=s.length,a=t*y;o<i;++o)(r=s[o]).vx+=(d[n(r)].x-r.x)*a,r.vy+=(d[n(r)].y-r.y)*a}function b(){s&&function(){if(!s||!s.length)return;if(void 0===n(s[0]))throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var t=(d=[],v=[],m={},y=[],u=function(t){var e={};return t.forEach((function(t){var r=n(t);e[r]||(e[r]={count:0,sumforceNodeSize:0})})),t.forEach((function(t){var o=n(t),i=r(t),a=e[o];a.count=a.count+1,a.sumforceNodeSize=a.sumforceNodeSize+Math.PI*(i*i)*1.3,e[o]=a})),e}(s),y=function(t){var e={},r=[];return t.forEach((function(t){var r=function(t){var e=n(c[t.source]),r=n(c[t.target]);return e<=r?"".concat(e,"~").concat(r):"".concat(r,"~").concat(e)}(t),o=0;void 0!==e[r]&&(o=e[r]),o+=1,e[r]=o})),Object.entries(e).forEach((function(t){var e=Vt(t,2),n=e[0],o=e[1],i=n.split("~")[0],a=n.split("~")[1];void 0!==i&&void 0!==a&&r.push({source:i,target:a,count:o})})),r}(f),Object.keys(u).forEach((function(t,e){var n=u[t];d.push({id:t,size:n.count,r:Math.sqrt(n.sumforceNodeSize/Math.PI)}),m[t]=e})),y.forEach((function(t){var e=m[t.source],n=m[t.target];void 0!==e&&void 0!==n&&v.push({source:e,target:n,count:t.count})})),{nodes:d,links:v});var u,d,v,m,y;e=Nt(t.nodes).force("x",function(t){var e,n,r,o=ot(.1);function i(t){for(var o,i=0,a=e.length;i<a;++i)(o=e[i]).vx+=(r[i]-o.x)*n[i]*t}function a(){if(e){var i,a=e.length;for(n=new Array(a),r=new Array(a),i=0;i<a;++i)n[i]=isNaN(r[i]=+t(e[i],i,e))?0:+o(e[i],i,e)}}return"function"!=typeof t&&(t=ot(null==t?0:+t)),i.initialize=function(t){e=t,a()},i.strength=function(t){return arguments.length?(o="function"==typeof t?t:ot(+t),a(),i):o},i.x=function(e){return arguments.length?(t="function"==typeof e?e:ot(+e),a(),i):t},i}(l).strength(.1)).force("y",function(t){var e,n,r,o=ot(.1);function i(t){for(var o,i=0,a=e.length;i<a;++i)(o=e[i]).vy+=(r[i]-o.y)*n[i]*t}function a(){if(e){var i,a=e.length;for(n=new Array(a),r=new Array(a),i=0;i<a;++i)n[i]=isNaN(r[i]=+t(e[i],i,e))?0:+o(e[i],i,e)}}return"function"!=typeof t&&(t=ot(null==t?0:+t)),i.initialize=function(t){e=t,a()},i.strength=function(t){return arguments.length?(o="function"==typeof t?t:ot(+t),a(),i):o},i.y=function(e){return arguments.length?(t="function"==typeof e?e:ot(+e),a(),i):t},i}(h).strength(.1)).force("collide",zt((function(t){return t.r})).iterations(4)).force("charge",Pt().strength(o)).force("links",Ut(t.nodes.length?t.links:[]).distance(i).strength(a)),p=e.nodes(),_()}()}function _(){return d={none:{x:0,y:0}},p.forEach((function(t){d[t.id]={x:t.x-u[0],y:t.y-u[1]}})),d}function x(t){c={},t.forEach((function(t){c[t.id]=t}))}return g.initialize=function(t){s=t,b()},g.template=function(t){return arguments.length?(v=t,b(),g):v},g.groupBy=function(t){return arguments.length?"string"==typeof t?(n=function(e){return e[t]},g):(n=t,g):n},g.enableGrouping=function(t){return arguments.length?(m=t,g):m},g.strength=function(t){return arguments.length?(y=t,g):y},g.centerX=function(t){return arguments.length?(l=t,g):l},g.centerY=function(t){return arguments.length?(h=t,g):h},g.nodes=function(t){return arguments.length?(x(t||[]),s=t||[],g):s},g.links=function(t){return arguments.length?(f=t||[],b(),g):f},g.forceNodeSize=function(e){return arguments.length?(r="function"==typeof e?e:t(+e),b(),g):r},g.nodeSize=g.forceNodeSize,g.forceCharge=function(e){return arguments.length?(o="function"==typeof e?e:t(+e),b(),g):o},g.forceLinkDistance=function(e){return arguments.length?(i="function"==typeof e?e:t(+e),b(),g):i},g.forceLinkStrength=function(e){return arguments.length?(a="function"==typeof e?e:t(+e),b(),g):a},g.offset=function(t){return arguments.length?(u=t,g):u},g.getFocis=_,g}var Ht="LAYOUT_RUN",qt="LAYOUT_END",Yt="LAYOUT_ERROR",Kt="LAYOUT_TICK",Zt="GPU_LAYOUT_RUN",Qt="GPU_LAYOUT_END";function Jt(t){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function te(t,e){return(te=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ee(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=re(t);if(e){var o=re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ne(this,n)}}function ne(t,e){return!e||"object"!==Jt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function re(t){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var oe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&te(t,e)}(i,t);var e,n,r,o=ee(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).center=[0,0],e.nodeStrength=null,e.edgeStrength=null,e.preventOverlap=!1,e.clusterNodeStrength=null,e.clusterEdgeStrength=null,e.clusterEdgeDistance=null,e.clusterNodeSize=null,e.clusterFociStrength=null,e.linkDistance=50,e.alphaDecay=.028,e.alphaMin=.001,e.alpha=.3,e.collideStrength=1,e.workerEnabled=!1,e.tick=function(){},e.onLayoutEnd=function(){},e.ticking=void 0,t&&e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},workerEnabled:!1}}},{key:"init",value:function(t){this.nodes=t.nodes||[];var e=t.edges||[];this.edges=e.map((function(t){var e={},n=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(t).forEach((function(r){n.indexOf(r)>-1||(e[r]=t[r])})),e})),this.ticking=!1}},{key:"execute",value:function(t){var e=this,n=e.nodes,r=e.edges;if(!e.ticking){var o=e.forceSimulation,i=e.alphaMin,a=e.alphaDecay,u=e.alpha;if(o){if(t)if(e.clustering&&e.clusterForce&&(e.clusterForce.nodes(n),e.clusterForce.links(r)),o.nodes(n),r&&e.edgeForce)e.edgeForce.links(r);else if(r&&!e.edgeForce){var s=Ut().id((function(t){return t.id})).links(r);e.edgeStrength&&s.strength(e.edgeStrength),e.linkDistance&&s.distance(e.linkDistance),e.edgeForce=s,o.force("link",s)}e.preventOverlap&&e.overlapProcess(o),o.alpha(u).restart(),this.ticking=!0}else try{var c=Pt();if(e.nodeStrength&&c.strength(e.nodeStrength),o=Nt().nodes(n),e.clustering){var f=Xt();f.centerX(e.center[0]).centerY(e.center[1]).template("force").strength(e.clusterFociStrength),r&&f.links(r),n&&f.nodes(n),f.forceLinkDistance(e.clusterEdgeDistance).forceLinkStrength(e.clusterEdgeStrength).forceCharge(e.clusterNodeStrength).forceNodeSize(e.clusterNodeSize),e.clusterForce=f,o.force("group",f)}if(o.force("center",function(t,e){var n,r=1;function o(){var o,i,a=n.length,u=0,s=0;for(o=0;o<a;++o)u+=(i=n[o]).x,s+=i.y;for(u=(u/a-t)*r,s=(s/a-e)*r,o=0;o<a;++o)(i=n[o]).x-=u,i.y-=s}return null==t&&(t=0),null==e&&(e=0),o.initialize=function(t){n=t},o.x=function(e){return arguments.length?(t=+e,o):t},o.y=function(t){return arguments.length?(e=+t,o):e},o.strength=function(t){return arguments.length?(r=+t,o):r},o}(e.center[0],e.center[1])).force("charge",c).alpha(u).alphaDecay(a).alphaMin(i),e.preventOverlap&&e.overlapProcess(o),r){var l=Ut().id((function(t){return t.id})).links(r);e.edgeStrength&&l.strength(e.edgeStrength),e.linkDistance&&l.distance(e.linkDistance),e.edgeForce=l,o.force("link",l)}if(e.workerEnabled&&!ie()&&(e.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),e.workerEnabled){o.stop();for(var h=function(t){var e=t.alphaMin(),n=t.alphaTarget(),r=t.alpha(),o=Math.log((e-n)/(r-n))/Math.log(1-t.alphaDecay());return Math.ceil(o)}(o),d=1;d<=h;d++)o.tick(),postMessage({nodes:n,currentTick:d,totalTicks:h,type:Kt},void 0);e.ticking=!1}else o.on("tick",(function(){e.tick()})).on("end",(function(){e.ticking=!1,e.onLayoutEnd&&e.onLayoutEnd()})),e.ticking=!0;e.forceSimulation=o,e.ticking=!0}catch(t){e.ticking=!1,console.warn(t)}}}},{key:"overlapProcess",value:function(t){var e,n,r=this.nodeSize,o=this.nodeSpacing,i=this.collideStrength;if(n=y(o)?function(){return o}:T(o)?o:function(){return 0},r)if(T(r))e=function(t){return r(t)+n(t)};else if(m(r)){var a=(r[0]>r[1]?r[0]:r[1])/2;e=function(t){return a+n(t)}}else if(y(r)){var u=r/2;e=function(t){return u+n(t)}}else e=function(){return 10};else e=function(t){return t.size?m(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2+n(t):t.size/2+n(t):10+n(t)};t.force("collisionForce",zt(e).strength(i))}},{key:"updateCfg",value:function(t){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.forceSimulation=null,Object.assign(this,t)}},{key:"destroy",value:function(){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.nodes=null,this.edges=null,this.destroyed=!0}}])&&$t(e.prototype,n),r&&$t(e,r),i}(I);function ie(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}function ae(t){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function se(t,e){return(se=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ce(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=le(t);if(e){var o=le(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fe(this,n)}}function fe(t,e){return!e||"object"!==ae(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function le(t){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function he(t,e,n,r){t.forEach((function(e,n){t[n].children=[],t[n].parent=[]})),r?e.forEach((function(e){var r=0;e.source&&(r=n[e.source]);var o=0;e.target&&(o=n[e.target]);var i=t[r].children,a=t[o].parent;i.push(t[o].id),a.push(t[r].id)})):e.forEach((function(e){var r=0;e.source&&(r=n[e.source]);var o=0;e.target&&(o=n[e.target]);var i=t[r].children,a=t[o].children;i.push(t[o].id),a.push(t[r].id)}))}function de(t,e,n){for(var r=n.length,o=0;o<r;o++)if(t.id===n[o].source&&e.id===n[o].target||e.id===n[o].source&&t.id===n[o].target)return!0;return!1}function pe(t,e){var n=t.degree,r=e.degree;return n<r?-1:n>r?1:0}var ve=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&se(t,e)}(i,t);var e,n,r,o=ce(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).radius=null,e.startRadius=null,e.endRadius=null,e.startAngle=0,e.endAngle=2*Math.PI,e.clockwise=!0,e.divisions=1,e.ordering=null,e.angleRatio=1,e.nodes=[],e.edges=[],e.nodeMap={},e.degrees=[],e.width=300,e.height=300,e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}}},{key:"execute",value:function(){var t=this.nodes,e=this.edges,n=t.length;if(0!==n){this.width||"undefined"==typeof window||(this.width=window.innerWidth),this.height||"undefined"==typeof window||(this.height=window.innerHeight),this.center||(this.center=[this.width/2,this.height/2]);var r=this.center;if(1===n)return t[0].x=r[0],t[0].y=r[1],void(this.onLayoutEnd&&this.onLayoutEnd());var o=this.radius,i=this.startRadius,a=this.endRadius,u=this.divisions,s=this.startAngle,c=this.endAngle,f=(c-s)/n,l={};t.forEach((function(t,e){l[t.id]=e})),this.nodeMap=l;var h=b(t.length,l,e);this.degrees=h,o||i||a?!i&&a?i=a:i&&!a&&(a=i):o=this.height>this.width?this.width/2:this.height/2;var d=f*this.angleRatio,p=this.ordering,v=[];v="topology"===p?this.topologyOrdering():"topology-directed"===p?this.topologyOrdering(!0):"degree"===p?this.degreeOrdering():t;for(var m=this.clockwise,y=Math.ceil(n/u),g=0;g<n;++g){var _=o;_||null===i||null===a||(_=i+g*(a-i)/(n-1)),_||(_=10+100*g/(n-1));var x=s+g%y*d+2*Math.PI/u*Math.floor(g/y);m||(x=c-g%y*d-2*Math.PI/u*Math.floor(g/y)),v[g].x=r[0]+Math.cos(x)*_,v[g].y=r[1]+Math.sin(x)*_,v[g].weight=h[g]}return this.onLayoutEnd&&this.onLayoutEnd(),{nodes:v,edges:this.edges}}this.onLayoutEnd&&this.onLayoutEnd()}},{key:"topologyOrdering",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this,n=e.degrees,r=e.edges,o=e.nodes,i=S(o),a=e.nodeMap,u=[i[0]],s=[o[0]],c=[],f=o.length;c[0]=!0,he(i,r,a,t);var l=0;return i.forEach((function(t,e){if(0!==e)if(e!==f-1&&n[e]===n[e+1]&&!de(u[l],t,r)||c[e]){for(var h=u[l].children,d=!1,p=0;p<h.length;p++){var v=a[h[p]];if(n[v]===n[e]&&!c[v]){u.push(i[v]),s.push(o[a[i[v].id]]),c[v]=!0,d=!0;break}}for(var m=0;!d&&(c[m]||(u.push(i[m]),s.push(o[a[i[m].id]]),c[m]=!0,d=!0),++m!==f););}else u.push(t),s.push(o[a[t.id]]),c[e]=!0,l++})),s}},{key:"degreeOrdering",value:function(){var t=this.nodes,e=[],n=this.degrees;return t.forEach((function(t,r){t.degree=n[r],e.push(t)})),e.sort(pe),e}},{key:"getType",value:function(){return"circular"}}])&&ue(e.prototype,n),r&&ue(e,r),i}(I),me=n(102),ye=n.n(me);function ge(t){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _e(t,e){return(_e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ee(t);if(e){var o=Ee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return we(this,n)}}function we(t,e){return!e||"object"!==ge(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ee(t){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Se=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_e(t,e)}(i,t);var e,n,r,o=xe(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).rankdir="TB",e.nodesep=50,e.ranksep=50,e.controlPoints=!1,e.sortByCombo=!1,e.nodes=[],e.edges=[],e.onLayoutEnd=function(){},e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}}},{key:"execute",value:function(){var t=this,e=t.nodes,n=t.nodeSize,r=t.rankdir;if(e){var o,i=t.edges||[],a=new ye.a.graphlib.Graph;o=n?m(n)?function(){return n}:function(){return[n,n]}:function(t){return t.size?m(t.size)?t.size:[t.size,t.size]:[40,40]};var u,s=Te(t.nodesepFunc,t.nodesep,50),c=Te(t.ranksepFunc,t.ranksep,50);return"LR"!==r&&"RL"!==r||(s=Te(t.ranksepFunc,t.ranksep,50),c=Te(t.nodesepFunc,t.nodesep,50)),a.setDefaultEdgeLabel((function(){return{}})),a.setGraph(t),e.forEach((function(t){var e=o(t),n=c(t),r=s(t),i=e[0]+2*r,u=e[1]+2*n;a.setNode(t.id,{width:i,height:u})})),i.forEach((function(t){a.setEdge(t.source,t.target,{weight:t.weight||1})})),ye.a.layout(a),a.nodes().forEach((function(t){u=a.node(t);var n=e.findIndex((function(e){return e.id===t}));e[n].x=u.x,e[n].y=u.y})),a.edges().forEach((function(e){u=a.edge(e);var n=i.findIndex((function(t){return t.source===e.v&&t.target===e.w}));t.controlPoints&&"loop"!==i[n].type&&(i[n].controlPoints=u.points.slice(1,u.points.length-1))})),t.sortByCombo&&t.sortLevel("comboId"),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:i}}}},{key:"sortLevel",value:function(t){var e=this,n=e.nodes,r={};n.forEach((function(t){r[t.y]||(r[t.y]={y:t.y,nodes:[]}),r[t.y].nodes.push(t)})),Object.keys(r).forEach((function(n){var o=r[n].nodes,i=o.length,a={};if(o.forEach((function(t){var e=t.comboId;a[e]||(a[e]={x:0,y:0,count:0}),a[e].x+=t.x,a[e].y+=t.y,a[e].count++})),Object.keys(a).forEach((function(t){a[t].x/=a[t].count,a[t].y/=a[t].count})),1!==i){var u=o.sort((function(t,e){return t.x-e.x})),s=u[0].x,c=(u[i-1].x-s)/(i-1);o.sort((function(e,n){var r=e[t]||"undefined",o=n[t]||"undefined";return r<o?-1:r>o?1:0})).forEach((function(t,e){t.x=s+e*c}))}else e.onLayoutEnd&&e.onLayoutEnd()}))}},{key:"getType",value:function(){return"dagre"}}])&&be(e.prototype,n),r&&be(e,r),i}(I);function Te(t,e,n){return t||(y(e)?function(){return e}:function(){return n})}var Ae=Object.prototype.toString;function Ie(t){return Ae.call(t).endsWith("Array]")}var ke=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Ie(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var n=e.fromIndex,r=void 0===n?0:n,o=e.toIndex,i=void 0===o?t.length:o;if(r<0||r>=t.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=r||i>t.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[r],u=r+1;u<i;u++)t[u]>a&&(a=t[u]);return a};var Oe=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Ie(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var n=e.fromIndex,r=void 0===n?0:n,o=e.toIndex,i=void 0===o?t.length:o;if(r<0||r>=t.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=r||i>t.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[r],u=r+1;u<i;u++)t[u]<a&&(a=t[u]);return a};var De=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Ie(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==n.output){if(!Ie(n.output))throw new TypeError("output option must be an array if specified");e=n.output}else e=new Array(t.length);var r=Oe(t),o=ke(t);if(r===o)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var i=n.min,a=void 0===i?n.autoMinMax?r:0:i,u=n.max,s=void 0===u?n.autoMinMax?o:1:u;if(a>=s)throw new RangeError("min option must be smaller than max option");for(var c=(s-a)/(o-r),f=0;f<t.length;f++)e[f]=(t[f]-r)*c+a;return e},Re=" ".repeat(2),Me=" ".repeat(4);function Ce(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.maxRows,r=void 0===n?15:n,o=e.maxColumns,i=void 0===o?10:o,a=e.maxNumSize,u=void 0===a?8:a;return"".concat(t.constructor.name," {\\n").concat(Re,"[\\n").concat(Me).concat(Ne(t,r,i,u),"\\n").concat(Re,"]\\n").concat(Re,"rows: ").concat(t.rows,"\\n").concat(Re,"columns: ").concat(t.columns,"\\n}")}function Ne(t,e,n,r){for(var o=t.rows,i=t.columns,a=Math.min(o,e),u=Math.min(i,n),s=[],c=0;c<a;c++){for(var f=[],l=0;l<u;l++)f.push(Pe(t.get(c,l),r));s.push("".concat(f.join(" ")))}return u!==i&&(s[s.length-1]+=" ... ".concat(i-n," more columns")),a!==o&&s.push("... ".concat(o-e," more rows")),s.join("\\n".concat(Me))}function Pe(t,e){var n=String(t);if(n.length<=e)return n.padEnd(e," ");var r=t.toPrecision(e-2);if(r.length<=e)return r;var o=t.toExponential(e-2),i=o.indexOf("e"),a=o.slice(i);return o.slice(0,e-a.length)+a}function Ge(t){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function je(t,e,n){var r=n?t.rows:t.rows-1;if(e<0||e>r)throw new RangeError("Row index out of range")}function Le(t,e,n){var r=n?t.columns:t.columns-1;if(e<0||e>r)throw new RangeError("Column index out of range")}function Ue(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function Be(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function Fe(t,e){if("object"!==Ge(e))throw new TypeError("unexpected type for row indices");if(e.some((function(e){return e<0||e>=t.rows})))throw new RangeError("row indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function ze(t,e){if("object"!==Ge(e))throw new TypeError("unexpected type for column indices");if(e.some((function(e){return e<0||e>=t.columns})))throw new RangeError("column indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function Ve(t,e,n,r,o){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(Xe("startRow",e),Xe("endRow",n),Xe("startColumn",r),Xe("endColumn",o),e>n||r>o||e<0||e>=t.rows||n<0||n>=t.rows||r<0||r>=t.columns||o<0||o>=t.columns)throw new RangeError("Submatrix indices are out of range")}function We(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=0;r<t;r++)n.push(e);return n}function Xe(t,e){if("number"!=typeof e)throw new TypeError("".concat(t," must be a number"))}function He(t){if(t.isEmpty())throw new Error("Empty matrix has no elements to index")}function qe(t,e,n){for(var r=t.rows,o=t.columns,i=[],a=0;a<r;a++){for(var u=0,s=0,c=0,f=0;f<o;f++)u+=c=t.get(a,f)-n[a],s+=c*c;e?i.push((s-u*u/o)/(o-1)):i.push((s-u*u/o)/o)}return i}function Ye(t,e,n){for(var r=t.rows,o=t.columns,i=[],a=0;a<o;a++){for(var u=0,s=0,c=0,f=0;f<r;f++)u+=c=t.get(f,a)-n[a],s+=c*c;e?i.push((s-u*u/r)/(r-1)):i.push((s-u*u/r)/r)}return i}function Ke(t,e,n){for(var r=t.rows,o=t.columns,i=r*o,a=0,u=0,s=0,c=0;c<r;c++)for(var f=0;f<o;f++)a+=s=t.get(c,f)-n,u+=s*s;return e?(u-a*a/i)/(i-1):(u-a*a/i)/i}function Ze(t,e){for(var n=0;n<t.rows;n++)for(var r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[n])}function Qe(t,e){for(var n=0;n<t.rows;n++)for(var r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[r])}function Je(t,e){for(var n=0;n<t.rows;n++)for(var r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e)}function $e(t){for(var e=[],n=0;n<t.rows;n++){for(var r=0,o=0;o<t.columns;o++)r+=Math.pow(t.get(n,o),2)/(t.columns-1);e.push(Math.sqrt(r))}return e}function tn(t,e){for(var n=0;n<t.rows;n++)for(var r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[n])}function en(t){for(var e=[],n=0;n<t.columns;n++){for(var r=0,o=0;o<t.rows;o++)r+=Math.pow(t.get(o,n),2)/(t.rows-1);e.push(Math.sqrt(r))}return e}function nn(t,e){for(var n=0;n<t.rows;n++)for(var r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[r])}function rn(t){for(var e=t.size-1,n=0,r=0;r<t.columns;r++)for(var o=0;o<t.rows;o++)n+=Math.pow(t.get(o,r),2)/e;return Math.sqrt(n)}function on(t,e){for(var n=0;n<t.rows;n++)for(var r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e)}function an(t,e){return(an=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function un(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=cn(t);if(e){var o=cn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sn(this,n)}}function sn(t,e){return!e||"object"!==fn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cn(t){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fn(t){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ln(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dn(t,e,n){return e&&hn(t.prototype,e),n&&hn(t,n),t}var pn=function(){function t(){ln(this,t)}return dn(t,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(t){if("function"!=typeof t)throw new TypeError("callback must be a function");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.call(this,e,n);return this}},{key:"to1DArray",value:function(){for(var t=[],e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:"to2DArray",value:function(){for(var t=[],e=0;e<this.rows;e++){t.push([]);for(var n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return 1===this.rows}},{key:"isColumnVector",value:function(){return 1===this.columns}},{key:"isVector",value:function(){return 1===this.rows||1===this.columns}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return 0===this.rows||0===this.columns}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var t=0,e=0,n=-1,r=!0,o=!1;t<this.rows&&r;){for(e=0,o=!1;e<this.columns&&!1===o;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>n?(o=!0,n=e):(r=!1,o=!0);t++}return r}},{key:"isReducedEchelonForm",value:function(){for(var t=0,e=0,n=-1,r=!0,o=!1;t<this.rows&&r;){for(e=0,o=!1;e<this.columns&&!1===o;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>n?(o=!0,n=e):(r=!1,o=!0);for(var i=e+1;i<this.rows;i++)0!==this.get(t,i)&&(r=!1);t++}return r}},{key:"echelonForm",value:function(){for(var t=this.clone(),e=0,n=0;e<t.rows&&n<t.columns;){for(var r=e,o=e;o<t.rows;o++)t.get(o,n)>t.get(r,n)&&(r=o);if(0===t.get(r,n))n++;else{t.swapRows(e,r);for(var i=t.get(e,n),a=n;a<t.columns;a++)t.set(e,a,t.get(e,a)/i);for(var u=e+1;u<t.rows;u++){var s=t.get(u,n)/t.get(e,n);t.set(u,n,0);for(var c=n+1;c<t.columns;c++)t.set(u,c,t.get(u,c)-t.get(e,c)*s)}e++,n++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),e=t.columns,n=t.rows,r=n-1;r>=0;)if(0===t.maxRow(r))r--;else{for(var o=0,i=!1;o<n&&!1===i;)1===t.get(r,o)?i=!0:o++;for(var a=0;a<r;a++)for(var u=t.get(a,o),s=o;s<e;s++){var c=t.get(a,s)-u*t.get(r,s);t.set(a,s,c)}r--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==fn(t))throw new TypeError("options must be an object");var e=t.rows,n=void 0===e?1:e,r=t.columns,o=void 0===r?1:r;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(o)||o<=0)throw new TypeError("columns must be a positive integer");for(var i=new gn(this.rows*n,this.columns*o),a=0;a<n;a++)for(var u=0;u<o;u++)i.setSubMatrix(this,this.rows*a,this.columns*u);return i}},{key:"fill",value:function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){je(this,t);for(var e=[],n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:"getRowVector",value:function(t){return gn.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,e){je(this,t),e=Ue(this,e);for(var n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}},{key:"swapRows",value:function(t,e){je(this,t),je(this,e);for(var n=0;n<this.columns;n++){var r=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,r)}return this}},{key:"getColumn",value:function(t){Le(this,t);for(var e=[],n=0;n<this.rows;n++)e.push(this.get(n,t));return e}},{key:"getColumnVector",value:function(t){return gn.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,e){Le(this,t),e=Be(this,e);for(var n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}},{key:"swapColumns",value:function(t,e){Le(this,t),Le(this,e);for(var n=0;n<this.rows;n++){var r=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,r)}return this}},{key:"addRowVector",value:function(t){t=Ue(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}},{key:"subRowVector",value:function(t){t=Ue(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}},{key:"mulRowVector",value:function(t){t=Ue(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}},{key:"divRowVector",value:function(t){t=Ue(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}},{key:"addColumnVector",value:function(t){t=Be(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}},{key:"subColumnVector",value:function(t){t=Be(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}},{key:"mulColumnVector",value:function(t){t=Be(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}},{key:"divColumnVector",value:function(t){t=Be(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}},{key:"mulRow",value:function(t,e){je(this,t);for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}},{key:"mulColumn",value:function(t,e){Le(this,t);for(var n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}},{key:"max",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}},{key:"maxIndex",value:function(){He(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)>t&&(t=this.get(n,r),e[0]=n,e[1]=r);return e}},{key:"min",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}},{key:"minIndex",value:function(){He(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)<t&&(t=this.get(n,r),e[0]=n,e[1]=r);return e}},{key:"maxRow",value:function(t){if(je(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}},{key:"maxRowIndex",value:function(t){je(this,t),He(this);for(var e=this.get(t,0),n=[t,0],r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r),n[1]=r);return n}},{key:"minRow",value:function(t){if(je(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}},{key:"minRowIndex",value:function(t){je(this,t),He(this);for(var e=this.get(t,0),n=[t,0],r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r),n[1]=r);return n}},{key:"maxColumn",value:function(t){if(Le(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}},{key:"maxColumnIndex",value:function(t){Le(this,t),He(this);for(var e=this.get(0,t),n=[0,t],r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t),n[0]=r);return n}},{key:"minColumn",value:function(t){if(Le(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}},{key:"minColumnIndex",value:function(t){Le(this,t),He(this);for(var e=this.get(0,t),n=[0,t],r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t),n[0]=r);return n}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),e=[],n=0;n<t;n++)e.push(this.get(n,n));return e}},{key:"norm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"frobenius",e=0;if("max"===t)return this.max();if("frobenius"===t){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)e+=this.get(n,r)*this.get(n,r);return Math.sqrt(e)}throw new RangeError("unknown norm type: ".concat(t))}},{key:"cumulativeSum",value:function(){for(var t=0,e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}},{key:"dot",value:function(e){t.isMatrix(e)&&(e=e.to1DArray());var n=this.to1DArray();if(n.length!==e.length)throw new RangeError("vectors do not have the same size");for(var r=0,o=0;o<n.length;o++)r+=n[o]*e[o];return r}},{key:"mmul",value:function(t){t=gn.checkMatrix(t);for(var e=this.rows,n=this.columns,r=t.columns,o=new gn(e,r),i=new Float64Array(n),a=0;a<r;a++){for(var u=0;u<n;u++)i[u]=t.get(u,a);for(var s=0;s<e;s++){for(var c=0,f=0;f<n;f++)c+=this.get(s,f)*i[f];o.set(s,a,c)}}return o}},{key:"strassen2x2",value:function(t){t=gn.checkMatrix(t);var e=new gn(2,2),n=this.get(0,0),r=t.get(0,0),o=this.get(0,1),i=t.get(0,1),a=this.get(1,0),u=t.get(1,0),s=this.get(1,1),c=t.get(1,1),f=(n+s)*(r+c),l=(a+s)*r,h=n*(i-c),d=s*(u-r),p=(n+o)*c,v=f+d-p+(o-s)*(u+c),m=h+p,y=l+d,g=f-l+h+(a-n)*(r+i);return e.set(0,0,v),e.set(0,1,m),e.set(1,0,y),e.set(1,1,g),e}},{key:"strassen3x3",value:function(t){t=gn.checkMatrix(t);var e=new gn(3,3),n=this.get(0,0),r=this.get(0,1),o=this.get(0,2),i=this.get(1,0),a=this.get(1,1),u=this.get(1,2),s=this.get(2,0),c=this.get(2,1),f=this.get(2,2),l=t.get(0,0),h=t.get(0,1),d=t.get(0,2),p=t.get(1,0),v=t.get(1,1),m=t.get(1,2),y=t.get(2,0),g=t.get(2,1),b=t.get(2,2),_=(n-i)*(-h+v),x=(-n+i+a)*(l-h+v),w=(i+a)*(-l+h),E=n*l,S=(-n+s+c)*(l-d+m),T=(-n+s)*(d-m),A=(s+c)*(-l+d),I=(-o+c+f)*(v+y-g),k=(o-f)*(v-g),O=o*y,D=(c+f)*(-y+g),R=(-o+a+u)*(m+y-b),M=(o-u)*(m-b),C=(a+u)*(-y+b),N=E+O+r*p,P=(n+r+o-i-a-c-f)*v+x+w+E+I+O+D,G=E+S+A+(n+r+o-a-u-s-c)*m+O+R+C,j=_+a*(-l+h+p-v-m-y+b)+x+E+O+R+M,L=_+x+w+E+u*g,U=O+R+M+C+i*d,B=E+S+T+c*(-l+d+p-v-m-y+g)+I+k+O,F=I+k+O+D+s*h,z=E+S+T+A+f*b;return e.set(0,0,N),e.set(0,1,P),e.set(0,2,G),e.set(1,0,j),e.set(1,1,L),e.set(1,2,U),e.set(2,0,B),e.set(2,1,F),e.set(2,2,z),e}},{key:"mmulStrassen",value:function(e){e=gn.checkMatrix(e);var n=this.clone(),r=n.rows,o=n.columns,i=e.rows,a=e.columns;function u(e,n,r){var o=e.rows,i=e.columns;if(o===n&&i===r)return e;var a=t.zeros(n,r);return a=a.setSubMatrix(e,0,0)}o!==i&&console.warn("Multiplying ".concat(r," x ").concat(o," and ").concat(i," x ").concat(a," matrix: dimensions do not match."));var s=Math.max(r,i),c=Math.max(o,a);return function e(n,r,o,i){if(o<=512||i<=512)return n.mmul(r);o%2==1&&i%2==1?(n=u(n,o+1,i+1),r=u(r,o+1,i+1)):o%2==1?(n=u(n,o+1,i),r=u(r,o+1,i)):i%2==1&&(n=u(n,o,i+1),r=u(r,o,i+1));var a=parseInt(n.rows/2,10),s=parseInt(n.columns/2,10),c=n.subMatrix(0,a-1,0,s-1),f=r.subMatrix(0,a-1,0,s-1),l=n.subMatrix(0,a-1,s,n.columns-1),h=r.subMatrix(0,a-1,s,r.columns-1),d=n.subMatrix(a,n.rows-1,0,s-1),p=r.subMatrix(a,r.rows-1,0,s-1),v=n.subMatrix(a,n.rows-1,s,n.columns-1),m=r.subMatrix(a,r.rows-1,s,r.columns-1),y=e(t.add(c,v),t.add(f,m),a,s),g=e(t.add(d,v),f,a,s),b=e(c,t.sub(h,m),a,s),_=e(v,t.sub(p,f),a,s),x=e(t.add(c,l),m,a,s),w=e(t.sub(d,c),t.add(f,h),a,s),E=e(t.sub(l,v),t.add(p,m),a,s),S=t.add(y,_);S.sub(x),S.add(E);var T=t.add(b,x),A=t.add(g,_),I=t.sub(y,g);I.add(b),I.add(w);var k=t.zeros(2*S.rows,2*S.columns);return(k=(k=(k=(k=k.setSubMatrix(S,0,0)).setSubMatrix(T,S.rows,0)).setSubMatrix(A,0,S.columns)).setSubMatrix(I,S.rows,S.columns)).subMatrix(0,o-1,0,i-1)}(n=u(n,s,c),e=u(e,s,c),s,c)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==fn(t))throw new TypeError("options must be an object");var e=t.min,n=void 0===e?0:e,r=t.max,o=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var i=new gn(this.rows,this.columns),a=0;a<this.rows;a++){var u=this.getRow(a);u.length>0&&De(u,{min:n,max:o,output:u}),i.setRow(a,u)}return i}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==fn(t))throw new TypeError("options must be an object");var e=t.min,n=void 0===e?0:e,r=t.max,o=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var i=new gn(this.rows,this.columns),a=0;a<this.columns;a++){var u=this.getColumn(a);u.length&&De(u,{min:n,max:o,output:u}),i.setColumn(a,u)}return i}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),e=0;e<this.rows;e++)for(var n=0;n<t;n++){var r=this.get(e,n),o=this.get(e,this.columns-1-n);this.set(e,n,o),this.set(e,this.columns-1-n,r)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),e=0;e<this.columns;e++)for(var n=0;n<t;n++){var r=this.get(n,e),o=this.get(this.rows-1-n,e);this.set(n,e,o),this.set(this.rows-1-n,e,r)}return this}},{key:"kroneckerProduct",value:function(t){t=gn.checkMatrix(t);for(var e=this.rows,n=this.columns,r=t.rows,o=t.columns,i=new gn(e*r,n*o),a=0;a<e;a++)for(var u=0;u<n;u++)for(var s=0;s<r;s++)for(var c=0;c<o;c++)i.set(r*a+s,o*u+c,this.get(a,u)*t.get(s,c));return i}},{key:"transpose",value:function(){for(var t=new gn(this.columns,this.rows),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}},{key:"subMatrix",value:function(t,e,n,r){Ve(this,t,e,n,r);for(var o=new gn(e-t+1,r-n+1),i=t;i<=e;i++)for(var a=n;a<=r;a++)o.set(i-t,a-n,this.get(i,a));return o}},{key:"subMatrixRow",value:function(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=this.columns-1),e>n||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var r=new gn(t.length,n-e+1),o=0;o<t.length;o++)for(var i=e;i<=n;i++){if(t[o]<0||t[o]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[o]));r.set(o,i-e,this.get(t[o],i))}return r}},{key:"subMatrixColumn",value:function(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=this.rows-1),e>n||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var r=new gn(n-e+1,t.length),o=0;o<t.length;o++)for(var i=e;i<=n;i++){if(t[o]<0||t[o]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[o]));r.set(i-e,o,this.get(i,t[o]))}return r}},{key:"setSubMatrix",value:function(t,e,n){if((t=gn.checkMatrix(t)).isEmpty())return this;Ve(this,e,e+t.rows-1,n,n+t.columns-1);for(var r=0;r<t.rows;r++)for(var o=0;o<t.columns;o++)this.set(e+r,n+o,t.get(r,o));return this}},{key:"selection",value:function(t,e){for(var n=function(t,e,n){return{row:Fe(t,e),column:ze(t,n)}}(this,t,e),r=new gn(t.length,e.length),o=0;o<n.row.length;o++)for(var i=n.row[o],a=0;a<n.column.length;a++){var u=n.column[a];r.set(o,a,this.get(i,u))}return r}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),e=0,n=0;n<t;n++)e+=this.get(n,n);return e}},{key:"clone",value:function(){for(var t=new gn(this.rows,this.columns),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(e,n,this.get(e,n));return t}},{key:"sum",value:function(t){switch(t){case"row":return function(t){for(var e=We(t.rows),n=0;n<t.rows;++n)for(var r=0;r<t.columns;++r)e[n]+=t.get(n,r);return e}(this);case"column":return function(t){for(var e=We(t.columns),n=0;n<t.rows;++n)for(var r=0;r<t.columns;++r)e[r]+=t.get(n,r);return e}(this);case void 0:return function(t){for(var e=0,n=0;n<t.rows;n++)for(var r=0;r<t.columns;r++)e+=t.get(n,r);return e}(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return function(t){for(var e=We(t.rows,1),n=0;n<t.rows;++n)for(var r=0;r<t.columns;++r)e[n]*=t.get(n,r);return e}(this);case"column":return function(t){for(var e=We(t.columns,1),n=0;n<t.rows;++n)for(var r=0;r<t.columns;++r)e[r]*=t.get(n,r);return e}(this);case void 0:return function(t){for(var e=1,n=0;n<t.rows;n++)for(var r=0;r<t.columns;r++)e*=t.get(n,r);return e}(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var e=this.sum(t);switch(t){case"row":for(var n=0;n<this.rows;n++)e[n]/=this.columns;return e;case"column":for(var r=0;r<this.columns;r++)e[r]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===fn(t)&&(e=t,t=void 0),"object"!==fn(e))throw new TypeError("options must be an object");var n=e,r=n.unbiased,o=void 0===r||r,i=n.mean,a=void 0===i?this.mean(t):i;if("boolean"!=typeof o)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!Array.isArray(a))throw new TypeError("mean must be an array");return qe(this,o,a);case"column":if(!Array.isArray(a))throw new TypeError("mean must be an array");return Ye(this,o,a);case void 0:if("number"!=typeof a)throw new TypeError("mean must be a number");return Ke(this,o,a);default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,e){"object"===fn(t)&&(e=t,t=void 0);var n=this.variance(t,e);if(void 0===t)return Math.sqrt(n);for(var r=0;r<n.length;r++)n[r]=Math.sqrt(n[r]);return n}},{key:"center",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===fn(t)&&(e=t,t=void 0),"object"!==fn(e))throw new TypeError("options must be an object");var n=e,r=n.center,o=void 0===r?this.mean(t):r;switch(t){case"row":if(!Array.isArray(o))throw new TypeError("center must be an array");return Ze(this,o),this;case"column":if(!Array.isArray(o))throw new TypeError("center must be an array");return Qe(this,o),this;case void 0:if("number"!=typeof o)throw new TypeError("center must be a number");return Je(this,o),this;default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===fn(t)&&(e=t,t=void 0),"object"!==fn(e))throw new TypeError("options must be an object");var n=e.scale;switch(t){case"row":if(void 0===n)n=$e(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return tn(this,n),this;case"column":if(void 0===n)n=en(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return nn(this,n),this;case void 0:if(void 0===n)n=rn(this);else if("number"!=typeof n)throw new TypeError("scale must be a number");return on(this,n),this;default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return Ce(this,t)}}],[{key:"from1DArray",value:function(t,e,n){if(t*e!==n.length)throw new RangeError("data length does not match given dimensions");for(var r=new gn(t,e),o=0;o<t;o++)for(var i=0;i<e;i++)r.set(o,i,n[o*e+i]);return r}},{key:"rowVector",value:function(t){for(var e=new gn(1,t.length),n=0;n<t.length;n++)e.set(0,n,t[n]);return e}},{key:"columnVector",value:function(t){for(var e=new gn(t.length,1),n=0;n<t.length;n++)e.set(n,0,t[n]);return e}},{key:"zeros",value:function(t,e){return new gn(t,e)}},{key:"ones",value:function(t,e){return new gn(t,e).fill(1)}},{key:"rand",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==fn(n))throw new TypeError("options must be an object");for(var r=n.random,o=void 0===r?Math.random:r,i=new gn(t,e),a=0;a<t;a++)for(var u=0;u<e;u++)i.set(a,u,o());return i}},{key:"randInt",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==fn(n))throw new TypeError("options must be an object");var r=n.min,o=void 0===r?0:r,i=n.max,a=void 0===i?1e3:i,u=n.random,s=void 0===u?Math.random:u;if(!Number.isInteger(o))throw new TypeError("min must be an integer");if(!Number.isInteger(a))throw new TypeError("max must be an integer");if(o>=a)throw new RangeError("min must be smaller than max");for(var c=a-o,f=new gn(t,e),l=0;l<t;l++)for(var h=0;h<e;h++){var d=o+Math.round(s()*c);f.set(l,h,d)}return f}},{key:"eye",value:function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=1);for(var r=Math.min(t,e),o=this.zeros(t,e),i=0;i<r;i++)o.set(i,i,n);return o}},{key:"diag",value:function(t,e,n){var r=t.length;void 0===e&&(e=r),void 0===n&&(n=e);for(var o=Math.min(r,e,n),i=this.zeros(e,n),a=0;a<o;a++)i.set(a,a,t[a]);return i}},{key:"min",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,r=t.columns,o=new gn(n,r),i=0;i<n;i++)for(var a=0;a<r;a++)o.set(i,a,Math.min(t.get(i,a),e.get(i,a)));return o}},{key:"max",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,r=t.columns,o=new this(n,r),i=0;i<n;i++)for(var a=0;a<r;a++)o.set(i,a,Math.max(t.get(i,a),e.get(i,a)));return o}},{key:"checkMatrix",value:function(e){return t.isMatrix(e)?e:new gn(e)}},{key:"isMatrix",value:function(t){return null!=t&&"Matrix"===t.klass}}]),t}();function vn(t,e){return t-e}pn.prototype.klass="Matrix","undefined"!=typeof Symbol&&(pn.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return Ce(this)}),pn.random=pn.rand,pn.randomInt=pn.randInt,pn.diagonal=pn.diag,pn.prototype.diagonal=pn.prototype.diag,pn.identity=pn.eye,pn.prototype.negate=pn.prototype.neg,pn.prototype.tensorProduct=pn.prototype.kroneckerProduct;var mn,yn,gn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&an(t,e)}(n,t);var e=un(n);function n(t,r){var o;if(ln(this,n),o=e.call(this),n.isMatrix(t))return sn(o,t.clone());if(Number.isInteger(t)&&t>=0){if(o.data=[],!(Number.isInteger(r)&&r>=0))throw new TypeError("nColumns must be a positive integer");for(var i=0;i<t;i++)o.data.push(new Float64Array(r))}else{if(!Array.isArray(t))throw new TypeError("First argument must be a positive number or an array");var a=t;if("number"!=typeof(r=(t=a.length)?a[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");o.data=[];for(var u=0;u<t;u++){if(a[u].length!==r)throw new RangeError("Inconsistent array dimensions");o.data.push(Float64Array.from(a[u]))}}return o.rows=t,o.columns=r,o}return dn(n,[{key:"set",value:function(t,e,n){return this.data[t][e]=n,this}},{key:"get",value:function(t,e){return this.data[t][e]}},{key:"removeRow",value:function(t){return je(this,t),this.data.splice(t,1),this.rows-=1,this}},{key:"addRow",value:function(t,e){return void 0===e&&(e=t,t=this.rows),je(this,t,!0),e=Float64Array.from(Ue(this,e)),this.data.splice(t,0,e),this.rows+=1,this}},{key:"removeColumn",value:function(t){Le(this,t);for(var e=0;e<this.rows;e++){for(var n=new Float64Array(this.columns-1),r=0;r<t;r++)n[r]=this.data[e][r];for(var o=t+1;o<this.columns;o++)n[o-1]=this.data[e][o];this.data[e]=n}return this.columns-=1,this}},{key:"addColumn",value:function(t,e){void 0===e&&(e=t,t=this.columns),Le(this,t,!0),e=Be(this,e);for(var n=0;n<this.rows;n++){for(var r=new Float64Array(this.columns+1),o=0;o<t;o++)r[o]=this.data[n][o];for(r[o++]=e[n];o<this.columns+1;o++)r[o]=this.data[n][o-1];this.data[n]=r}return this.columns+=1,this}}]),n}(pn);function bn(t){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xn(t,e){return(xn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Sn(t);if(e){var o=Sn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return En(this,n)}}function En(t,e){return!e||"object"!==bn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sn(t){return(Sn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}yn=gn,(mn=pn).prototype.add=function(t){return"number"==typeof t?this.addS(t):this.addM(t)},mn.prototype.addS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t);return this},mn.prototype.addM=function(t){if(t=yn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t.get(e,n));return this},mn.add=function(t,e){return new yn(t).add(e)},mn.prototype.sub=function(t){return"number"==typeof t?this.subS(t):this.subM(t)},mn.prototype.subS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t);return this},mn.prototype.subM=function(t){if(t=yn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t.get(e,n));return this},mn.sub=function(t,e){return new yn(t).sub(e)},mn.prototype.subtract=mn.prototype.sub,mn.prototype.subtractS=mn.prototype.subS,mn.prototype.subtractM=mn.prototype.subM,mn.subtract=mn.sub,mn.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):this.mulM(t)},mn.prototype.mulS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this},mn.prototype.mulM=function(t){if(t=yn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t.get(e,n));return this},mn.mul=function(t,e){return new yn(t).mul(e)},mn.prototype.multiply=mn.prototype.mul,mn.prototype.multiplyS=mn.prototype.mulS,mn.prototype.multiplyM=mn.prototype.mulM,mn.multiply=mn.mul,mn.prototype.div=function(t){return"number"==typeof t?this.divS(t):this.divM(t)},mn.prototype.divS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t);return this},mn.prototype.divM=function(t){if(t=yn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t.get(e,n));return this},mn.div=function(t,e){return new yn(t).div(e)},mn.prototype.divide=mn.prototype.div,mn.prototype.divideS=mn.prototype.divS,mn.prototype.divideM=mn.prototype.divM,mn.divide=mn.div,mn.prototype.mod=function(t){return"number"==typeof t?this.modS(t):this.modM(t)},mn.prototype.modS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t);return this},mn.prototype.modM=function(t){if(t=yn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t.get(e,n));return this},mn.mod=function(t,e){return new yn(t).mod(e)},mn.prototype.modulus=mn.prototype.mod,mn.prototype.modulusS=mn.prototype.modS,mn.prototype.modulusM=mn.prototype.modM,mn.modulus=mn.mod,mn.prototype.and=function(t){return"number"==typeof t?this.andS(t):this.andM(t)},mn.prototype.andS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t);return this},mn.prototype.andM=function(t){if(t=yn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t.get(e,n));return this},mn.and=function(t,e){return new yn(t).and(e)},mn.prototype.or=function(t){return"number"==typeof t?this.orS(t):this.orM(t)},mn.prototype.orS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t);return this},mn.prototype.orM=function(t){if(t=yn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t.get(e,n));return this},mn.or=function(t,e){return new yn(t).or(e)},mn.prototype.xor=function(t){return"number"==typeof t?this.xorS(t):this.xorM(t)},mn.prototype.xorS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t);return this},mn.prototype.xorM=function(t){if(t=yn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t.get(e,n));return this},mn.xor=function(t,e){return new yn(t).xor(e)},mn.prototype.leftShift=function(t){return"number"==typeof t?this.leftShiftS(t):this.leftShiftM(t)},mn.prototype.leftShiftS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t);return this},mn.prototype.leftShiftM=function(t){if(t=yn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t.get(e,n));return this},mn.leftShift=function(t,e){return new yn(t).leftShift(e)},mn.prototype.signPropagatingRightShift=function(t){return"number"==typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},mn.prototype.signPropagatingRightShiftS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t);return this},mn.prototype.signPropagatingRightShiftM=function(t){if(t=yn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t.get(e,n));return this},mn.signPropagatingRightShift=function(t,e){return new yn(t).signPropagatingRightShift(e)},mn.prototype.rightShift=function(t){return"number"==typeof t?this.rightShiftS(t):this.rightShiftM(t)},mn.prototype.rightShiftS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t);return this},mn.prototype.rightShiftM=function(t){if(t=yn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t.get(e,n));return this},mn.rightShift=function(t,e){return new yn(t).rightShift(e)},mn.prototype.zeroFillRightShift=mn.prototype.rightShift,mn.prototype.zeroFillRightShiftS=mn.prototype.rightShiftS,mn.prototype.zeroFillRightShiftM=mn.prototype.rightShiftM,mn.zeroFillRightShift=mn.rightShift,mn.prototype.not=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},mn.not=function(t){return new yn(t).not()},mn.prototype.abs=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},mn.abs=function(t){return new yn(t).abs()},mn.prototype.acos=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},mn.acos=function(t){return new yn(t).acos()},mn.prototype.acosh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},mn.acosh=function(t){return new yn(t).acosh()},mn.prototype.asin=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},mn.asin=function(t){return new yn(t).asin()},mn.prototype.asinh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},mn.asinh=function(t){return new yn(t).asinh()},mn.prototype.atan=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},mn.atan=function(t){return new yn(t).atan()},mn.prototype.atanh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},mn.atanh=function(t){return new yn(t).atanh()},mn.prototype.cbrt=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},mn.cbrt=function(t){return new yn(t).cbrt()},mn.prototype.ceil=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},mn.ceil=function(t){return new yn(t).ceil()},mn.prototype.clz32=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},mn.clz32=function(t){return new yn(t).clz32()},mn.prototype.cos=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},mn.cos=function(t){return new yn(t).cos()},mn.prototype.cosh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},mn.cosh=function(t){return new yn(t).cosh()},mn.prototype.exp=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},mn.exp=function(t){return new yn(t).exp()},mn.prototype.expm1=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},mn.expm1=function(t){return new yn(t).expm1()},mn.prototype.floor=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},mn.floor=function(t){return new yn(t).floor()},mn.prototype.fround=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},mn.fround=function(t){return new yn(t).fround()},mn.prototype.log=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},mn.log=function(t){return new yn(t).log()},mn.prototype.log1p=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},mn.log1p=function(t){return new yn(t).log1p()},mn.prototype.log10=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},mn.log10=function(t){return new yn(t).log10()},mn.prototype.log2=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},mn.log2=function(t){return new yn(t).log2()},mn.prototype.round=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},mn.round=function(t){return new yn(t).round()},mn.prototype.sign=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},mn.sign=function(t){return new yn(t).sign()},mn.prototype.sin=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},mn.sin=function(t){return new yn(t).sin()},mn.prototype.sinh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},mn.sinh=function(t){return new yn(t).sinh()},mn.prototype.sqrt=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},mn.sqrt=function(t){return new yn(t).sqrt()},mn.prototype.tan=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},mn.tan=function(t){return new yn(t).tan()},mn.prototype.tanh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},mn.tanh=function(t){return new yn(t).tanh()},mn.prototype.trunc=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},mn.trunc=function(t){return new yn(t).trunc()},mn.pow=function(t,e){return new yn(t).pow(e)},mn.prototype.pow=function(t){return"number"==typeof t?this.powS(t):this.powM(t)},mn.prototype.powS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.pow(this.get(e,n),t));return this},mn.prototype.powM=function(t){if(t=yn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.pow(this.get(e,n),t.get(e,n)));return this};var Tn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xn(t,e)}(i,t);var e,n,r,o=wn(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).data=t,e.rows=t.length,e.columns=t[0].length,e}return e=i,(n=[{key:"set",value:function(t,e,n){return this.data[t][e]=n,this}},{key:"get",value:function(t,e){return this.data[t][e]}}])&&_n(e.prototype,n),r&&_n(e,r),i}(pn);function An(t,e){var n=0;return Math.abs(t)>Math.abs(e)?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0!==e?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):0}function In(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var On=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(In(this,t),(e=Tn.checkMatrix(e)).isEmpty())throw new Error("Matrix must be non-empty");var r,o=e.rows,i=e.columns,a=n.computeLeftSingularVectors,u=void 0===a||a,s=n.computeRightSingularVectors,c=void 0===s||s,f=n.autoTranspose,l=void 0!==f&&f,h=Boolean(u),d=Boolean(c),p=!1;if(o<i)if(l){o=(r=e.transpose()).rows,i=r.columns,p=!0;var v=h;h=d,d=v}else r=e.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else r=e.clone();for(var m=Math.min(o,i),y=Math.min(o+1,i),g=new Float64Array(y),b=new gn(o,m),_=new gn(i,i),x=new Float64Array(i),w=new Float64Array(o),E=new Float64Array(y),S=0;S<y;S++)E[S]=S;for(var T=Math.min(o-1,i),A=Math.max(0,Math.min(i-2,o)),I=Math.max(T,A),k=0;k<I;k++){if(k<T){g[k]=0;for(var O=k;O<o;O++)g[k]=An(g[k],r.get(O,k));if(0!==g[k]){r.get(k,k)<0&&(g[k]=-g[k]);for(var D=k;D<o;D++)r.set(D,k,r.get(D,k)/g[k]);r.set(k,k,r.get(k,k)+1)}g[k]=-g[k]}for(var R=k+1;R<i;R++){if(k<T&&0!==g[k]){for(var M=0,C=k;C<o;C++)M+=r.get(C,k)*r.get(C,R);M=-M/r.get(k,k);for(var N=k;N<o;N++)r.set(N,R,r.get(N,R)+M*r.get(N,k))}x[R]=r.get(k,R)}if(h&&k<T)for(var P=k;P<o;P++)b.set(P,k,r.get(P,k));if(k<A){x[k]=0;for(var G=k+1;G<i;G++)x[k]=An(x[k],x[G]);if(0!==x[k]){x[k+1]<0&&(x[k]=0-x[k]);for(var j=k+1;j<i;j++)x[j]/=x[k];x[k+1]+=1}if(x[k]=-x[k],k+1<o&&0!==x[k]){for(var L=k+1;L<o;L++)w[L]=0;for(var U=k+1;U<o;U++)for(var B=k+1;B<i;B++)w[U]+=x[B]*r.get(U,B);for(var F=k+1;F<i;F++)for(var z=-x[F]/x[k+1],V=k+1;V<o;V++)r.set(V,F,r.get(V,F)+z*w[V])}if(d)for(var W=k+1;W<i;W++)_.set(W,k,x[W])}}var X=Math.min(i,o+1);if(T<i&&(g[T]=r.get(T,T)),o<X&&(g[X-1]=0),A+1<X&&(x[A]=r.get(A,X-1)),x[X-1]=0,h){for(var H=T;H<m;H++){for(var q=0;q<o;q++)b.set(q,H,0);b.set(H,H,1)}for(var Y=T-1;Y>=0;Y--)if(0!==g[Y]){for(var K=Y+1;K<m;K++){for(var Z=0,Q=Y;Q<o;Q++)Z+=b.get(Q,Y)*b.get(Q,K);Z=-Z/b.get(Y,Y);for(var J=Y;J<o;J++)b.set(J,K,b.get(J,K)+Z*b.get(J,Y))}for(var $=Y;$<o;$++)b.set($,Y,-b.get($,Y));b.set(Y,Y,1+b.get(Y,Y));for(var tt=0;tt<Y-1;tt++)b.set(tt,Y,0)}else{for(var et=0;et<o;et++)b.set(et,Y,0);b.set(Y,Y,1)}}if(d)for(var nt=i-1;nt>=0;nt--){if(nt<A&&0!==x[nt])for(var rt=nt+1;rt<i;rt++){for(var ot=0,it=nt+1;it<i;it++)ot+=_.get(it,nt)*_.get(it,rt);ot=-ot/_.get(nt+1,nt);for(var at=nt+1;at<i;at++)_.set(at,rt,_.get(at,rt)+ot*_.get(at,nt))}for(var ut=0;ut<i;ut++)_.set(ut,nt,0);_.set(nt,nt,1)}for(var st=X-1,ct=Number.EPSILON;X>0;){var ft=void 0,lt=void 0;for(ft=X-2;ft>=-1&&-1!==ft;ft--){var ht=Number.MIN_VALUE+ct*Math.abs(g[ft]+Math.abs(g[ft+1]));if(Math.abs(x[ft])<=ht||Number.isNaN(x[ft])){x[ft]=0;break}}if(ft===X-2)lt=4;else{var dt=void 0;for(dt=X-1;dt>=ft&&dt!==ft;dt--){var pt=(dt!==X?Math.abs(x[dt]):0)+(dt!==ft+1?Math.abs(x[dt-1]):0);if(Math.abs(g[dt])<=ct*pt){g[dt]=0;break}}dt===ft?lt=3:dt===X-1?lt=1:(lt=2,ft=dt)}switch(ft++,lt){case 1:var vt=x[X-2];x[X-2]=0;for(var mt=X-2;mt>=ft;mt--){var yt=An(g[mt],vt),gt=g[mt]/yt,bt=vt/yt;if(g[mt]=yt,mt!==ft&&(vt=-bt*x[mt-1],x[mt-1]=gt*x[mt-1]),d)for(var _t=0;_t<i;_t++)yt=gt*_.get(_t,mt)+bt*_.get(_t,X-1),_.set(_t,X-1,-bt*_.get(_t,mt)+gt*_.get(_t,X-1)),_.set(_t,mt,yt)}break;case 2:var xt=x[ft-1];x[ft-1]=0;for(var wt=ft;wt<X;wt++){var Et=An(g[wt],xt),St=g[wt]/Et,Tt=xt/Et;if(g[wt]=Et,xt=-Tt*x[wt],x[wt]=St*x[wt],h)for(var At=0;At<o;At++)Et=St*b.get(At,wt)+Tt*b.get(At,ft-1),b.set(At,ft-1,-Tt*b.get(At,wt)+St*b.get(At,ft-1)),b.set(At,wt,Et)}break;case 3:var It=Math.max(Math.abs(g[X-1]),Math.abs(g[X-2]),Math.abs(x[X-2]),Math.abs(g[ft]),Math.abs(x[ft])),kt=g[X-1]/It,Ot=g[X-2]/It,Dt=x[X-2]/It,Rt=g[ft]/It,Mt=x[ft]/It,Ct=((Ot+kt)*(Ot-kt)+Dt*Dt)/2,Nt=kt*Dt*(kt*Dt),Pt=0;0===Ct&&0===Nt||(Pt=Nt/(Ct+(Pt=Ct<0?0-Math.sqrt(Ct*Ct+Nt):Math.sqrt(Ct*Ct+Nt))));for(var Gt=(Rt+kt)*(Rt-kt)+Pt,jt=Rt*Mt,Lt=ft;Lt<X-1;Lt++){var Ut=An(Gt,jt);0===Ut&&(Ut=Number.MIN_VALUE);var Bt=Gt/Ut,Ft=jt/Ut;if(Lt!==ft&&(x[Lt-1]=Ut),Gt=Bt*g[Lt]+Ft*x[Lt],x[Lt]=Bt*x[Lt]-Ft*g[Lt],jt=Ft*g[Lt+1],g[Lt+1]=Bt*g[Lt+1],d)for(var zt=0;zt<i;zt++)Ut=Bt*_.get(zt,Lt)+Ft*_.get(zt,Lt+1),_.set(zt,Lt+1,-Ft*_.get(zt,Lt)+Bt*_.get(zt,Lt+1)),_.set(zt,Lt,Ut);if(0===(Ut=An(Gt,jt))&&(Ut=Number.MIN_VALUE),Bt=Gt/Ut,Ft=jt/Ut,g[Lt]=Ut,Gt=Bt*x[Lt]+Ft*g[Lt+1],g[Lt+1]=-Ft*x[Lt]+Bt*g[Lt+1],jt=Ft*x[Lt+1],x[Lt+1]=Bt*x[Lt+1],h&&Lt<o-1)for(var Vt=0;Vt<o;Vt++)Ut=Bt*b.get(Vt,Lt)+Ft*b.get(Vt,Lt+1),b.set(Vt,Lt+1,-Ft*b.get(Vt,Lt)+Bt*b.get(Vt,Lt+1)),b.set(Vt,Lt,Ut)}x[X-2]=Gt,1;break;case 4:if(g[ft]<=0&&(g[ft]=g[ft]<0?-g[ft]:0,d))for(var Wt=0;Wt<=st;Wt++)_.set(Wt,ft,-_.get(Wt,ft));for(;ft<st&&!(g[ft]>=g[ft+1]);){var Xt=g[ft];if(g[ft]=g[ft+1],g[ft+1]=Xt,d&&ft<i-1)for(var Ht=0;Ht<i;Ht++)Xt=_.get(Ht,ft+1),_.set(Ht,ft+1,_.get(Ht,ft)),_.set(Ht,ft,Xt);if(h&&ft<o-1)for(var qt=0;qt<o;qt++)Xt=b.get(qt,ft+1),b.set(qt,ft+1,b.get(qt,ft)),b.set(qt,ft,Xt);ft++}0,X--}}if(p){var Yt=_;_=b,b=Yt}this.m=o,this.n=i,this.s=g,this.U=b,this.V=_}var e,n,r;return e=t,(n=[{key:"solve",value:function(t){for(var e=t,n=this.threshold,r=this.s.length,o=gn.zeros(r,r),i=0;i<r;i++)Math.abs(this.s[i])<=n?o.set(i,i,0):o.set(i,i,1/this.s[i]);for(var a=this.U,u=this.rightSingularVectors,s=u.mmul(o),c=u.rows,f=a.rows,l=gn.zeros(c,f),h=0;h<c;h++)for(var d=0;d<f;d++){for(var p=0,v=0;v<r;v++)p+=s.get(h,v)*a.get(d,v);l.set(h,d,p)}return l.mmul(e)}},{key:"solveForDiagonal",value:function(t){return this.solve(gn.diag(t))}},{key:"inverse",value:function(){for(var t=this.V,e=this.threshold,n=t.rows,r=t.columns,o=new gn(n,this.s.length),i=0;i<n;i++)for(var a=0;a<r;a++)Math.abs(this.s[a])>e&&o.set(i,a,t.get(i,a)/this.s[a]);for(var u=this.U,s=u.rows,c=u.columns,f=new gn(n,s),l=0;l<n;l++)for(var h=0;h<s;h++){for(var d=0,p=0;p<c;p++)d+=o.get(l,p)*u.get(h,p);f.set(l,h,d)}return f}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,n=this.s,r=0,o=n.length;r<o;r++)n[r]>t&&e++;return e}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return gn.diag(this.s)}}])&&kn(e.prototype,n),r&&kn(e,r),t}();function Dn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Rn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.distances=e.distances,this.dimension=e.dimension||2,this.linkDistance=e.linkDistance}var e,n,r;return e=t,(n=[{key:"layout",value:function(){var t=this.dimension,e=this.distances,n=this.linkDistance;try{var r=gn.mul(gn.pow(e,2),-.5),o=r.mean("row"),i=r.mean("column"),a=r.mean();r.add(a).subRowVector(o).subColumnVector(i);var u=new On(r),s=gn.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map((function(e){return gn.mul([e],[s]).toJSON()[0].splice(0,t)}))}catch(t){for(var c=[],f=0;f<e.length;f++){var l=Math.random()*n,h=Math.random()*n;c.push([l,h])}return c}}}])&&Dn(e.prototype,n),r&&Dn(e,r),t}();function Mn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Cn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.disp=[],this.positions=e.positions,this.adjMatrix=e.adjMatrix,this.focusID=e.focusID,this.radii=e.radii,this.iterations=e.iterations||10,this.height=e.height||10,this.width=e.width||10,this.speed=e.speed||100,this.gravity=e.gravity||10,this.nodeSizeFunc=e.nodeSizeFunc,this.k=e.k||5,this.strictRadial=e.strictRadial,this.nodes=e.nodes}var e,n,r;return e=t,(n=[{key:"layout",value:function(){var t=this.positions,e=[],n=this.iterations,r=this.width/10;this.maxDisplace=r,this.disp=e;for(var o=0;o<n;o++)t.forEach((function(t,n){e[n]={x:0,y:0}})),this.getRepulsion(),this.updatePositions();return t}},{key:"getRepulsion",value:function(){var t=this,e=t.positions,n=t.nodes,r=t.disp,o=t.k,i=t.radii||[];e.forEach((function(a,u){r[u]={x:0,y:0},e.forEach((function(e,s){if(u!==s&&i[u]===i[s]){var c=a[0]-e[0],f=a[1]-e[1],l=Math.sqrt(c*c+f*f);if(0===l){l=1;var h=u>s?1:-1;c=.01*h,f=.01*h}if(l<t.nodeSizeFunc(n[u])/2+t.nodeSizeFunc(n[s])/2){var d=o*o/l;r[u].x+=c/l*d,r[u].y+=f/l*d}}}))}))}},{key:"updatePositions",value:function(){var t=this.positions,e=this.disp,n=this.speed,r=this.strictRadial,o=this.focusID,i=this.maxDisplace||this.width/10;r&&e.forEach((function(e,n){var r=t[n][0]-t[o][0],i=t[n][1]-t[o][1],a=Math.sqrt(r*r+i*i),u=i/a,s=-r/a,c=Math.sqrt(e.x*e.x+e.y*e.y),f=Math.acos((u*e.x+s*e.y)/c);f>Math.PI/2&&(f-=Math.PI/2,u*=-1,s*=-1);var l=Math.cos(f)*c;e.x=u*l,e.y=s*l}));var a=this.radii;t.forEach((function(u,s){if(s!==o){var c=Math.sqrt(e[s].x*e[s].x+e[s].y*e[s].y);if(c>0&&s!==o){var f=Math.min(i*(n/800),c);if(u[0]+=e[s].x/c*f,u[1]+=e[s].y/c*f,r){var l=u[0]-t[o][0],h=u[1]-t[o][1],d=Math.sqrt(l*l+h*h);l=l/d*a[s],h=h/d*a[s],u[0]=t[o][0]+l,u[1]=t[o][1]+h}}}}))}}])&&Mn(e.prototype,n),r&&Mn(e,r),t}();function Nn(t){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pn(t){return function(t){if(Array.isArray(t))return Gn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Gn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gn(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ln(t,e){return(Ln=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Un(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Fn(t);if(e){var o=Fn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bn(this,n)}}function Bn(t,e){return!e||"object"!==Nn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fn(t){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zn(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var Vn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ln(t,e)}(i,t);var e,n,r,o=Un(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).maxIteration=1e3,e.focusNode=null,e.unitRadius=null,e.linkDistance=50,e.preventOverlap=!1,e.strictRadial=!0,e.maxPreventOverlapIteration=200,e.sortStrength=10,e.nodes=[],e.edges=[],e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}}},{key:"execute",value:function(){var t=this,e=t.nodes,n=t.edges||[];if(e&&0!==e.length){t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);var r=t.center;if(1===e.length)return e[0].x=r[0],e[0].y=r[1],void(t.onLayoutEnd&&t.onLayoutEnd());var o=t.linkDistance,i=null;if(p(t.focusNode)){for(var a=!1,u=0;u<e.length;u++)e[u].id===t.focusNode&&(i=e[u],t.focusNode=i,a=!0,u=e.length);a||(i=null)}else i=t.focusNode;i||(i=e[0],t.focusNode=i);var s,c,f,l=(s=e,c=i.id,f=-1,s.forEach((function(t,e){t.id===c&&(f=e)})),f);t.focusIndex=l;var h=x({nodes:e,edges:n},!1),d=_(h),v=t.maxToFocus(d,l);t.handleInfinity(d,l,v+1),t.distances=d;var b=d[l],w=t.width||500,E=t.height||500,S=w-r[0]>r[0]?r[0]:w-r[0],A=E-r[1]>r[1]?r[1]:E-r[1];0===S&&(S=w/2),0===A&&(A=E/2);var I=A>S?S:A,k=Math.max.apply(Math,Pn(b)),O=[];b.forEach((function(e,n){t.unitRadius||(t.unitRadius=I/k),O[n]=e*t.unitRadius})),t.radii=O;var D=t.eIdealDisMatrix();t.eIdealDistances=D;var R=function(t){for(var e=t.length,n=t[0].length,r=[],o=0;o<e;o++){for(var i=[],a=0;a<n;a++)0!==t[o][a]?i.push(1/(t[o][a]*t[o][a])):i.push(0);r.push(i)}return r}(D);t.weights=R;var M=new Rn({linkDistance:o,distances:D}).layout();M.forEach((function(t){g(t[0])&&(t[0]=Math.random()*o),g(t[1])&&(t[1]=Math.random()*o)})),t.positions=M,M.forEach((function(t,n){e[n].x=t[0]+r[0],e[n].y=t[1]+r[1]})),M.forEach((function(t){t[0]-=M[l][0],t[1]-=M[l][1]})),t.run();var C,N=t.preventOverlap,P=t.nodeSize,G=t.strictRadial;if(N){var j,L=t.nodeSpacing;j=y(L)?function(){return L}:T(L)?L:function(){return 0},C=P?m(P)?function(t){return(P[0]>P[1]?P[0]:P[1])+j(t)}:function(t){return P+j(t)}:function(t){return t.size?m(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])+j(t):t.size+j(t):10+j(t)};var U={nodes:e,nodeSizeFunc:C,adjMatrix:h,positions:M,radii:O,height:E,width:w,strictRadial:G,focusID:l,iterations:t.maxPreventOverlapIteration||200,k:M.length/4.5},B=new Cn(U);M=B.layout()}return M.forEach((function(t,n){e[n].x=t[0]+r[0],e[n].y=t[1]+r[1]})),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n}}t.onLayoutEnd&&t.onLayoutEnd()}},{key:"run",value:function(){for(var t=this.maxIteration,e=this.positions||[],n=this.weights||[],r=this.eIdealDistances||[],o=this.radii||[],i=0;i<=t;i++){var a=i/t;this.oneIteration(a,e,o,r,n)}}},{key:"oneIteration",value:function(t,e,n,r,o){var i=1-t,a=this.focusIndex;e.forEach((function(u,s){var c=zn(u,[0,0]),f=0===c?0:1/c;if(s!==a){var l=0,h=0,d=0;e.forEach((function(t,e){if(s!==e){var n=zn(u,t),i=0===n?0:1/n,a=r[e][s];d+=o[s][e],l+=o[s][e]*(t[0]+a*(u[0]-t[0])*i),h+=o[s][e]*(t[1]+a*(u[1]-t[1])*i)}}));var p=0===n[s]?0:1/n[s];d*=i,d+=t*p*p,l*=i,l+=t*p*u[0]*f,u[0]=l/d,h*=i,h+=t*p*u[1]*f,u[1]=h/d}}))}},{key:"eIdealDisMatrix",value:function(){var t=this,e=t.nodes;if(!e)return[];var n=t.distances,r=t.linkDistance,o=t.radii||[],i=t.unitRadius||50,a=[];return n&&n.forEach((function(n,u){var s=[];n.forEach((function(n,a){if(u===a)s.push(0);else if(o[u]===o[a])if("data"===t.sortBy)s.push(n*(Math.abs(u-a)*t.sortStrength)/(o[u]/i));else if(t.sortBy){var c=e[u][t.sortBy]||0,f=e[a][t.sortBy]||0;p(c)&&(c=c.charCodeAt(0)),p(f)&&(f=f.charCodeAt(0)),s.push(n*(Math.abs(c-f)*t.sortStrength)/(o[u]/i))}else s.push(n*r/(o[u]/i));else{var l=(r+i)/2;s.push(n*l)}})),a.push(s)})),a}},{key:"handleInfinity",value:function(t,e,n){for(var r=t.length,o=0;o<r;o++)if(t[e][o]===1/0){t[e][o]=n,t[o][e]=n;for(var i=0;i<r;i++)t[o][i]!==1/0&&t[e][i]===1/0&&(t[e][i]=n+t[o][i],t[i][e]=n+t[o][i])}for(var a=0;a<r;a++)if(a!==e)for(var u=0;u<r;u++)if(t[a][u]===1/0){var s=Math.abs(t[e][a]-t[e][u]);s=0===s?1:s,t[a][u]=s}}},{key:"maxToFocus",value:function(t,e){for(var n=0,r=0;r<t[e].length;r++)t[e][r]!==1/0&&(n=t[e][r]>n?t[e][r]:n);return n}},{key:"getType",value:function(){return"radial"}}])&&jn(e.prototype,n),r&&jn(e,r),i}(I);function Wn(t){return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xn(t,e){return(Xn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Kn(t);if(e){var o=Kn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qn(this,n)}}function qn(t,e){return!e||"object"!==Wn(e)&&"function"!=typeof e?Yn(t):e}function Yn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kn(t){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Zn=new Map,Qn=function(t,e){if(Zn.get(t)&&console.warn("The layout with the name ".concat(t," exists already, it will be overridden")),null!==(r=e)&&"object"===E(r)){var n=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xn(t,e)}(r,t);var n=Hn(r);function r(t){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var i=Yn(o=n.call(this)),a={},u=i.getDefaultCfg();return Object.assign(a,u,e,t),Object.keys(a).forEach((function(t){var e=a[t];i[t]=e})),o}return r}(I);Zn.set(t,n)}else Zn.set(t,e);var r},Jn=function(t){return Zn.has(t)?Zn.get(t):null};function $n(t){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function er(t,e){return(er=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=or(t);if(e){var o=or(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rr(this,n)}}function rr(t,e){return!e||"object"!==$n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function or(t){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ir=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&er(t,e)}(i,t);var e,n,r,o=nr(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).nodeSize=30,e.minNodeSpacing=10,e.preventOverlap=!1,e.equidistant=!1,e.startAngle=1.5*Math.PI,e.clockwise=!0,e.sortBy="degree",e.nodes=[],e.edges=[],e.width=300,e.height=300,e.onLayoutEnd=function(){},e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}}},{key:"execute",value:function(){var t=this,e=t.nodes,n=t.edges,r=e.length;if(0!==r){t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);var o=t.center;if(1===r)return e[0].x=o[0],e[0].y=o[1],void(t.onLayoutEnd&&t.onLayoutEnd());var i,a=[];i=m(t.nodeSize)?Math.max(t.nodeSize[0],t.nodeSize[1]):t.nodeSize,e.forEach((function(t){a.push(t);var e=i;m(t.size)?e=Math.max(t.size[0],t.size[1]):y(t.size)&&(e=t.size),i=Math.max(i,e)})),t.clockwise=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise;var u={},s={};if(a.forEach((function(t,e){u[t.id]=t,s[t.id]=e})),!("degree"!==t.sortBy&&p(t.sortBy)&&void 0!==a[0][t.sortBy]||(t.sortBy="degree",y(e[0].degree)))){var c=b(e.length,s,n);a.forEach((function(t,e){t.degree=c[e]}))}a.sort((function(e,n){return n[t.sortBy]-e[t.sortBy]})),t.maxValueNode=a[0],t.maxLevelDiff=t.maxLevelDiff||t.maxValueNode[t.sortBy]/4;var f=[[]],l=f[0];a.forEach((function(e){if(l.length>0){var n=Math.abs(l[0][t.sortBy]-e[t.sortBy]);t.maxLevelDiff&&n>=t.maxLevelDiff&&(l=[],f.push(l))}l.push(e)}));var h=i+t.minNodeSpacing;if(!t.preventOverlap){var d=f.length>0&&f[0].length>1,v=(Math.min(t.width,t.height)/2-h)/(f.length+(d?1:0));h=Math.min(h,v)}var g=0;if(f.forEach((function(e){var n=t.sweep;void 0===n&&(n=2*Math.PI-2*Math.PI/e.length);var r=e.dTheta=n/Math.max(1,e.length-1);if(e.length>1&&t.preventOverlap){var o=Math.cos(r)-Math.cos(0),i=Math.sin(r)-Math.sin(0),a=Math.sqrt(h*h/(o*o+i*i));g=Math.max(a,g)}e.r=g,g+=h})),t.equidistant){for(var _=0,x=0,w=0;w<f.length;w++){var E=f[w].r-x;_=Math.max(_,E)}x=0,f.forEach((function(t,e){0===e&&(x=t.r),t.r=x,x+=_}))}return f.forEach((function(e){var n=e.dTheta,r=e.r;e.forEach((function(e,i){var a=t.startAngle+(t.clockwise?1:-1)*n*i;e.x=o[0]+r*Math.cos(a),e.y=o[1]+r*Math.sin(a)}))})),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n}}t.onLayoutEnd&&t.onLayoutEnd()}},{key:"getType",value:function(){return"concentric"}}])&&tr(e.prototype,n),r&&tr(e,r),i}(I);function ar(t){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ur(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sr(t,e){return(sr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=lr(t);if(e){var o=lr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fr(this,n)}}function fr(t,e){return!e||"object"!==ar(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lr(t){return(lr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var hr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sr(t,e)}(i,t);var e,n,r,o=cr(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).center=[0,0],e.linkDistance=50,e.nodes=[],e.edges=[],e.onLayoutEnd=function(){},e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{center:[0,0],linkDistance:50}}},{key:"execute",value:function(){var t=this.nodes,e=this.edges,n=void 0===e?[]:e,r=this.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=r[0],t[0].y=r[1],void(this.onLayoutEnd&&this.onLayoutEnd());var o=this.linkDistance,i=x({nodes:t,edges:n},!1),a=_(i);this.handleInfinity(a);var u,s,c=(u=o,s=[],a.forEach((function(t){var e=[];t.forEach((function(t){e.push(t*u)})),s.push(e)})),s);this.scaledDistances=c;var f=this.runMDS();return this.positions=f,f.forEach((function(e,n){t[n].x=e[0]+r[0],t[n].y=e[1]+r[1]})),this.onLayoutEnd&&this.onLayoutEnd(),{nodes:t,edges:n}}this.onLayoutEnd&&this.onLayoutEnd()}},{key:"runMDS",value:function(){var t=this.scaledDistances,e=gn.mul(gn.pow(t,2),-.5),n=e.mean("row"),r=e.mean("column"),o=e.mean();e.add(o).subRowVector(n).subColumnVector(r);var i=new On(e),a=gn.sqrt(i.diagonalMatrix).diagonal();return i.leftSingularVectors.toJSON().map((function(t){return gn.mul([t],[a]).toJSON()[0].splice(0,2)}))}},{key:"handleInfinity",value:function(t){var e=-999999;t.forEach((function(t){t.forEach((function(t){t!==1/0&&e<t&&(e=t)}))})),t.forEach((function(n,r){n.forEach((function(n,o){n===1/0&&(t[r][o]=e)}))}))}},{key:"getType",value:function(){return"mds"}}])&&ur(e.prototype,n),r&&ur(e,r),i}(I);function dr(t){return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vr(t,e){return(vr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gr(t);if(e){var o=gr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yr(this,n)}}function yr(t,e){return!e||"object"!==dr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gr(t){return(gr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var br=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vr(t,e)}(i,t);var e,n,r,o=mr(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).maxIteration=1e3,e.gravity=10,e.speed=1,e.clustering=!1,e.clusterGravity=10,e.nodes=[],e.edges=[],e.width=300,e.height=300,e.nodeMap={},e.nodeIdxMap={},e.onLayoutEnd=function(){},e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}},{key:"execute",value:function(){var t=this,e=this.nodes;if(e&&0!==e.length){this.width||"undefined"==typeof window||(this.width=window.innerWidth),this.height||"undefined"==typeof window||(this.height=window.innerHeight),this.center||(this.center=[this.width/2,this.height/2]);var n=this.center;if(1===e.length)return e[0].x=n[0],e[0].y=n[1],void(this.onLayoutEnd&&this.onLayoutEnd());var r={},o={};return e.forEach((function(e,n){y(e.x)||(e.x=Math.random()*t.width),y(e.y)||(e.y=Math.random()*t.height),r[e.id]=e,o[e.id]=n})),this.nodeMap=r,this.nodeIdxMap=o,this.run()}this.onLayoutEnd&&this.onLayoutEnd()}},{key:"run",value:function(){var t=this,e=t.nodes,n=t.edges,r=t.maxIteration,o=t.center,i=t.height*t.width,a=Math.sqrt(i)/10,u=i/(e.length+1),s=Math.sqrt(u),c=t.gravity,f=t.speed,l=t.clustering,h={};if(l)for(var d in e.forEach((function(t){if(void 0===h[t.cluster]){var e={name:t.cluster,cx:0,cy:0,count:0};h[t.cluster]=e}var n=h[t.cluster];y(t.x)&&(n.cx+=t.x),y(t.y)&&(n.cy+=t.y),n.count++})),h)h[d].cx/=h[d].count,h[d].cy/=h[d].count;for(var p=function(r){var i=[];if(e.forEach((function(t,e){i[e]={x:0,y:0}})),t.applyCalculate(e,n,i,s,u),l){var d=t.clusterGravity||c;for(var p in e.forEach((function(t,e){if(y(t.x)&&y(t.y)){var n=h[t.cluster],r=Math.sqrt((t.x-n.cx)*(t.x-n.cx)+(t.y-n.cy)*(t.y-n.cy)),o=s*d;i[e].x-=o*(t.x-n.cx)/r,i[e].y-=o*(t.y-n.cy)/r}})),h)h[p].cx=0,h[p].cy=0,h[p].count=0;for(var v in e.forEach((function(t){var e=h[t.cluster];y(t.x)&&(e.cx+=t.x),y(t.y)&&(e.cy+=t.y),e.count++})),h)h[v].cx/=h[v].count,h[v].cy/=h[v].count}e.forEach((function(t,e){if(y(t.x)&&y(t.y)){var n=.01*s*c;i[e].x-=n*(t.x-o[0]),i[e].y-=n*(t.y-o[1])}})),e.forEach((function(t,e){if(y(t.x)&&y(t.y)){var n=Math.sqrt(i[e].x*i[e].x+i[e].y*i[e].y);if(n>0){var r=Math.min(a*(f/800),n);t.x+=i[e].x/n*r,t.y+=i[e].y/n*r}}}))},v=0;v<r;v++)p();return t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n}}},{key:"applyCalculate",value:function(t,e,n,r,o){this.calRepulsive(t,n,o),this.calAttractive(e,n,r)}},{key:"calRepulsive",value:function(t,e,n){t.forEach((function(r,o){e[o]={x:0,y:0},t.forEach((function(t,i){if(o!==i&&y(r.x)&&y(t.x)&&y(r.y)&&y(t.y)){var a=r.x-t.x,u=r.y-t.y,s=a*a+u*u;if(0===s){s=1;var c=o>i?1:-1;a=.01*c,u=.01*c}var f=n/s;e[o].x+=a*f,e[o].y+=u*f}}))}))}},{key:"calAttractive",value:function(t,e,n){var r=this;t.forEach((function(t){if(t.source&&t.target){var o=r.nodeIdxMap[t.source],i=r.nodeIdxMap[t.target];if(o!==i){var a=r.nodeMap[t.source],u=r.nodeMap[t.target];if(y(u.x)&&y(a.x)&&y(u.y)&&y(a.y)){var s=u.x-a.x,c=u.y-a.y,f=Math.sqrt(s*s+c*c),l=f*f/n;e[i].x-=s/f*l,e[i].y-=c/f*l,e[o].x+=s/f*l,e[o].y+=c/f*l}}}}))}},{key:"getType",value:function(){return"fruchterman"}}])&&pr(e.prototype,n),r&&pr(e,r),i}(I),_r=n(6),xr=n.n(_r),wr=n(2),Er=n.n(wr),Sr=n(4),Tr=n.n(Sr),Ar=n(7),Ir=n.n(Ar),kr=(n(16),n(159),n(5)),Or=n.n(kr),Dr=n(8),Rr=n.n(Dr),Mr=1;function Cr(){return Mr++}var Nr=function t(e){Er()(this,t)},Pr=function(){function t(e){Er()(this,t),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=e}var e;return Tr()(t,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(t){return this.lookup[t]>-1}},{key:"create",value:function(t,e){this.lookup[t]=this.components.length;var n=new this.clazz(e||{});return this.components.push(n),this.entities.push(t),n}},{key:"remove",value:function(t){var e=this.lookup[t];e>-1&&e<this.components.length-1&&(this.components[e]=this.components[this.components.length-1],this.entities[e]=this.entities[this.entities.length-1],this.lookup[this.entities[e]]=e),this.components.pop(),this.entities.pop(),delete this.lookup[t]}},{key:"removeKeepSorted",value:function(t){var e=this.lookup[t];if(e>-1){var n=this.entities[e];if(e<this.components.length-1){for(var r=e+1;r<this.components.length;++r)this.components[r-1]=this.components[r];for(var o=e+1;o<this.entities.length;++o)this.entities[o-1]=this.entities[o],this.lookup[this.entities[o-1]]=o-1}this.components.pop(),this.entities.pop(),delete this.lookup[n]}}},{key:"moveItem",value:function(t,e){if(t!==e){for(var n=this.components[t],r=this.entities[t],o=t<e?1:-1,i=t;i!==e;i+=o){var a=i+o;this.components[i]=this.components[a],this.entities[i]=this.entities[a],this.lookup[this.entities[i]]=i}this.components[e]=n,this.entities[e]=r,this.lookup[r]=e}}},{key:"getEntity",value:function(t){return this.entities[t]}},{key:"getComponent",value:function(t){return this.components[t]}},{key:"getComponentByEntity",value:function(t){var e=this.lookup[t];return e>-1?this.components[e]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(t){for(var e=0,n=Object.keys(this.lookup);e<n.length;e++){var r=n[e],o=Number(r);if(this.lookup[o]===t)return o}return-1}},{key:"find",value:function(t){for(var e=0;e<this.getCount();e++){var n=this.getComponent(e);if(t(n,e))return n}return null}},{key:"findIndex",value:function(t){for(var e=0;e<this.getCount();e++){if(t(this.getComponent(e),e))return e}return-1}},{key:"forEach",value:function(t){for(var e=0,n=Object.keys(this.lookup);e<n.length;e++){var r=n[e],o=Number(r),i=this.lookup[o];t(o,this.getComponent(i))}}},{key:"forEachAsync",value:(e=Rr()(Or.a.mark((function t(e){var n,r,o,i,a;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0,r=Object.keys(this.lookup);case 1:if(!(n<r.length)){t.next=10;break}return o=r[n],i=Number(o),a=this.lookup[i],t.next=7,e(i,this.getComponent(a));case 7:n++,t.next=1;break;case 10:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"map",value:function(t){for(var e=[],n=0,r=Object.keys(this.lookup);n<r.length;n++){var o=r[n],i=Number(o),a=this.lookup[i];e.push(t(i,this.getComponent(a)))}return e}}]),t}(),Gr=n(34),jr=n.n(Gr),Lr=n(1),Ur={HierarchyComponentManager:Symbol("HierarchyComponentManager"),TransformComponentManager:Symbol("TransformComponentManager"),NameComponentManager:Symbol("NameComponentManager"),SceneGraphSystem:Symbol("SceneGraphSystem"),FrameGraphSystem:Symbol("FrameGraphSystem"),ResourcePool:Symbol("ResourcePool"),ResourceHandleComponentManager:Symbol("ResourceHandleComponentManager"),PassNodeComponentManager:Symbol("PassNodeComponentManager"),RendererSystem:Symbol("RendererSystem"),RenderPass:Symbol("RenderPass"),RenderPassFactory:Symbol("Factory<IRenderPass>"),Renderable:Symbol("Factory<IRenderPass>"),MeshSystem:Symbol("MeshSystem"),MeshComponentManager:Symbol("MeshComponentManager"),CullableComponentManager:Symbol("CullableComponentManager"),GeometrySystem:Symbol("GeometrySystem"),GeometryComponentManager:Symbol("GeometryComponentManager"),MaterialSystem:Symbol("MaterialSystem"),MaterialComponentManager:Symbol("MaterialComponentManager"),ForwardRenderPath:Symbol("ForwardRenderPath"),ComputeSystem:Symbol("ComputeSystem"),ComputeComponentManager:Symbol("ComputeComponentManager"),ComputeStrategy:Symbol("ComputeStrategy"),Systems:Symbol("Systems"),World:Symbol("World"),RenderEngine:Symbol("RenderEngine"),WebGPUEngine:Symbol("WebGPUEngine"),WebGLEngine:Symbol("WebGLEngine"),ShaderModuleService:Symbol("ShaderModuleService"),ConfigService:Symbol("ConfigService"),InteractorService:Symbol("InteractorService"),IEventEmitter:Symbol("IEventEmitter"),Light:Symbol("Light")},Br=function t(){Er()(this,t),this.index=void 0},Fr=function t(){Er()(this,t),this.name=void 0,this.data=void 0,this.execute=void 0,this.tearDown=void 0},zr=function(){function t(){Er()(this,t),this.name=void 0,this.refCount=0,this.hasSideEffect=!1,this.devirtualize=[],this.destroy=[],this.reads=[],this.writes=[]}return Tr()(t,[{key:"read",value:function(t){return this.reads.find((function(e){return e.index===t.index}))||this.reads.push(t),t}},{key:"sample",value:function(t){return this.read(t),t}},{key:"write",value:function(t,e){if(this.writes.find((function(t){return t.index===e.index})))return e;var n=t.getResourceNode(e);n.resource.version++,n.resource.imported&&(this.hasSideEffect=!0);var r=t.createResourceNode(n.resource);return t.getResourceNode(r).writer=this,this.writes.push(r),r}}]),t}(),Vr=n(14),Wr=n.n(Vr),Xr=n(15),Hr=n.n(Xr),qr=n(9),Yr=n.n(qr);function Kr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yr()(t);if(e){var o=Yr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr()(this,n)}}var Zr,Qr,Jr,$r,to,eo=function(t){Wr()(n,t);var e=Kr(n);function n(){var t;Er()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).version=0,t.refs=0,t.name=void 0,t.imported=void 0,t.priority=void 0,t.discardStart=!0,t.discardEnd=!1,t.descriptor=void 0,t.resource=void 0,t}return Tr()(n,[{key:"preExecuteDestroy",value:function(){this.discardEnd=!0}},{key:"postExecuteDestroy",value:function(){this.imported}},{key:"postExecuteDevirtualize",value:function(){this.discardStart=!1}},{key:"preExecuteDevirtualize",value:function(){this.imported}}]),n}((function t(){Er()(this,t),this.first=void 0,this.last=void 0})),no=function t(){Er()(this,t),this.resource=void 0,this.writer=void 0,this.readerCount=0,this.version=void 0};function ro(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return oo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function oo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var io=(Zr=Object(Lr.injectable)(),Qr=Object(Lr.inject)(Ur.RenderEngine),Zr(($r=function(){function t(){Er()(this,t),this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[],xr()(this,"engine",to,this)}var e,n;return Tr()(t,[{key:"execute",value:(n=Rr()(Or.a.mark((function t(e){return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.compile(),t.next=3,this.executePassNodes(e);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"tearDown",value:function(){this.frameGraphPasses.forEach((function(t){t.tearDown&&t.tearDown()})),this.reset()}},{key:"addPass",value:function(t,e,n,r){var o=new Fr;o.execute=n,r&&(o.tearDown=r),o.name=t;var i=new zr;return i.name=t,this.passNodes.push(i),this.frameGraphPasses.push(o),e(this,i,o),o}},{key:"getPass",value:function(t){return this.frameGraphPasses.find((function(e){return e.name===t}))}},{key:"compile",value:function(){var t,e=this,n=ro(this.passNodes);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.refCount=r.writes.length+(r.hasSideEffect?1:0),r.reads.forEach((function(t){e.resourceNodes[t.index].readerCount++}))}}catch(t){n.e(t)}finally{n.f()}var o,i=[],a=ro(this.resourceNodes);try{for(a.s();!(o=a.n()).done;){var u=o.value;0===u.readerCount&&i.push(u)}}catch(t){a.e(t)}finally{a.f()}for(;i.length;){var s=i.pop(),c=s&&s.writer;if(c&&0==--c.refCount){var f,l=ro(c.reads);try{for(l.s();!(f=l.n()).done;){var h=f.value,d=this.resourceNodes[h.index];0==--d.readerCount&&i.push(d)}}catch(t){l.e(t)}finally{l.f()}}}this.resourceNodes.forEach((function(t){t.resource.refs+=t.readerCount}));var p,v=ro(this.passNodes);try{for(v.s();!(p=v.n()).done;){var m=p.value;if(m.refCount){var y,g=ro(m.reads);try{for(g.s();!(y=g.n()).done;){var b=y.value,_=this.resourceNodes[b.index].resource;_.first=_.first?_.first:m,_.last=m}}catch(t){g.e(t)}finally{g.f()}var x,w=ro(m.writes);try{for(w.s();!(x=w.n()).done;){var E=x.value,S=this.resourceNodes[E.index].resource;S.first=S.first?S.first:m,S.last=m}}catch(t){w.e(t)}finally{w.f()}}}}catch(t){v.e(t)}finally{v.f()}for(var T=0;T<2;T++){var A,I=ro(this.resourceNodes);try{for(I.s();!(A=I.n()).done;){var k=A.value.resource;if(k.priority===T&&k.refs){var O=k.first,D=k.last;O&&D&&(O.devirtualize.push(k),D.destroy.push(k))}}}catch(t){I.e(t)}finally{I.f()}}}},{key:"executePassNodes",value:(e=Rr()(Or.a.mark((function t(e){var n,r,o,i,a,u,s,c,f,l,h,d,p;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=ro(this.passNodes.entries()),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=18;break}if(o=jr()(r.value,2),i=o[0],!(a=o[1]).refCount){t.next=16;break}u=ro(a.devirtualize);try{for(u.s();!(s=u.n()).done;)s.value.preExecuteDevirtualize(this.engine)}catch(t){u.e(t)}finally{u.f()}c=ro(a.destroy);try{for(c.s();!(f=c.n()).done;)f.value.preExecuteDestroy(this.engine)}catch(t){c.e(t)}finally{c.f()}return t.next=12,this.frameGraphPasses[i].execute(this,this.frameGraphPasses[i],e);case 12:l=ro(a.devirtualize);try{for(l.s();!(h=l.n()).done;)h.value.postExecuteDevirtualize(this.engine)}catch(t){l.e(t)}finally{l.f()}d=ro(a.destroy);try{for(d.s();!(p=d.n()).done;)p.value.postExecuteDestroy(this.engine)}catch(t){d.e(t)}finally{d.f()}case 16:t.next=3;break;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(1),n.e(t.t0);case 23:return t.prev=23,n.f(),t.finish(23);case 26:this.reset();case 27:case"end":return t.stop()}}),t,this,[[1,20,23,26]])}))),function(t){return e.apply(this,arguments)})},{key:"reset",value:function(){this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[]}},{key:"getResourceNode",value:function(t){return this.resourceNodes[t.index]}},{key:"createResourceNode",value:function(t){var e=new no;e.resource=t,e.version=t.version,this.resourceNodes.push(e);var n=new Br;return n.index=this.resourceNodes.length-1,n}},{key:"createTexture",value:function(t,e,n){var r=new eo;return r.name=e,r.descriptor=n,this.createResourceNode(r)}},{key:"createRenderTarget",value:function(t,e,n){var r=new eo;return r.name=e,r.descriptor=n,this.createResourceNode(r)}},{key:"present",value:function(t){this.addPass("Present",(function(e,n){n.read(t),n.hasSideEffect=!0}),Rr()(Or.a.mark((function t(){return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))))}}]),t}(),to=Ir()($r.prototype,"engine",[Qr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jr=$r))||Jr),ao=n(0),uo=n.n(ao),so=n(12),co=n.n(so);function fo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fo(Object(n),!0).forEach((function(e){uo()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ho(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yr()(t);if(e){var o=Yr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr()(this,n)}}var po=function(t){Wr()(n,t);var e=ho(n);function n(t){var r;return Er()(this,n),(r=e.call(this,t)).dirty=!0,r.attributes=[],r.indices=void 0,r.indicesBuffer=void 0,r.vertexCount=void 0,r.maxInstancedCount=void 0,r.aabb=void 0,Object.assign(co()(r),t),r}return Tr()(n,[{key:"setAttribute",value:function(t,e,n,r){var o=this.attributes.find((function(e){return e.name===t}));return o?(o.data=e,o.dirty=!0):this.attributes.push(lo(lo({dirty:!0,name:t,data:e},n),{},{bufferGetter:r})),this.dirty=!0,this}},{key:"setIndex",value:function(t){return this.indices=new Uint32Array(t.buffer?t.buffer:t),this.dirty=!0,this}}]),n}(Nr),vo=(n(168),1e-6),mo="undefined"!=typeof Float32Array?Float32Array:Array,yo=Math.random;Math.PI;function go(){var t=new mo(9);return mo!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function bo(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function _o(t){var e=new mo(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function xo(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function wo(t,e,n,r,o,i,a,u,s){var c=new mo(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=o,c[5]=i,c[6]=a,c[7]=u,c[8]=s,c}function Eo(t,e,n,r,o,i,a,u,s,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t[6]=u,t[7]=s,t[8]=c,t}function So(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function To(t,e){if(t===e){var n=e[1],r=e[2],o=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=o}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function Ao(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=f*a-u*c,h=-f*i+u*s,d=c*i-a*s,p=n*l+r*h+o*d;return p?(p=1/p,t[0]=l*p,t[1]=(-f*r+o*c)*p,t[2]=(u*r-o*a)*p,t[3]=h*p,t[4]=(f*n-o*s)*p,t[5]=(-u*n+o*i)*p,t[6]=d*p,t[7]=(-c*n+r*s)*p,t[8]=(a*n-r*i)*p,t):null}function Io(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8];return t[0]=a*f-u*c,t[1]=o*c-r*f,t[2]=r*u-o*a,t[3]=u*s-i*f,t[4]=n*f-o*s,t[5]=o*i-n*u,t[6]=i*c-a*s,t[7]=r*s-n*c,t[8]=n*a-r*i,t}function ko(t){var e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],u=t[6],s=t[7],c=t[8];return e*(c*i-a*s)+n*(-c*o+a*u)+r*(s*o-i*u)}function Oo(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=n[0],d=n[1],p=n[2],v=n[3],m=n[4],y=n[5],g=n[6],b=n[7],_=n[8];return t[0]=h*r+d*a+p*c,t[1]=h*o+d*u+p*f,t[2]=h*i+d*s+p*l,t[3]=v*r+m*a+y*c,t[4]=v*o+m*u+y*f,t[5]=v*i+m*s+y*l,t[6]=g*r+b*a+_*c,t[7]=g*o+b*u+_*f,t[8]=g*i+b*s+_*l,t}function Do(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=n[0],d=n[1];return t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=u,t[5]=s,t[6]=h*r+d*a+c,t[7]=h*o+d*u+f,t[8]=h*i+d*s+l,t}function Ro(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=Math.sin(n),d=Math.cos(n);return t[0]=d*r+h*a,t[1]=d*o+h*u,t[2]=d*i+h*s,t[3]=d*a-h*r,t[4]=d*u-h*o,t[5]=d*s-h*i,t[6]=c,t[7]=f,t[8]=l,t}function Mo(t,e,n){var r=n[0],o=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Co(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function No(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Po(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Go(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function jo(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n+n,u=r+r,s=o+o,c=n*a,f=r*a,l=r*u,h=o*a,d=o*u,p=o*s,v=i*a,m=i*u,y=i*s;return t[0]=1-l-p,t[3]=f-y,t[6]=h+m,t[1]=f+y,t[4]=1-c-p,t[7]=d-v,t[2]=h-m,t[5]=d+v,t[8]=1-c-l,t}function Lo(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],p=e[12],v=e[13],m=e[14],y=e[15],g=n*u-r*a,b=n*s-o*a,_=n*c-i*a,x=r*s-o*u,w=r*c-i*u,E=o*c-i*s,S=f*v-l*p,T=f*m-h*p,A=f*y-d*p,I=l*m-h*v,k=l*y-d*v,O=h*y-d*m,D=g*O-b*k+_*I+x*A-w*T+E*S;return D?(D=1/D,t[0]=(u*O-s*k+c*I)*D,t[1]=(s*A-a*O-c*T)*D,t[2]=(a*k-u*A+c*S)*D,t[3]=(o*k-r*O-i*I)*D,t[4]=(n*O-o*A+i*T)*D,t[5]=(r*A-n*k-i*S)*D,t[6]=(v*E-m*w+y*x)*D,t[7]=(m*_-p*E-y*b)*D,t[8]=(p*w-v*_+y*g)*D,t):null}function Uo(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Bo(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function Fo(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function zo(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function Vo(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function Wo(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function Xo(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function Ho(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function qo(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],u=t[5],s=t[6],c=t[7],f=t[8],l=e[0],h=e[1],d=e[2],p=e[3],v=e[4],m=e[5],y=e[6],g=e[7],b=e[8];return Math.abs(n-l)<=vo*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-h)<=vo*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(o-d)<=vo*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(i-p)<=vo*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-v)<=vo*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(u-m)<=vo*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(s-y)<=vo*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(c-g)<=vo*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(f-b)<=vo*Math.max(1,Math.abs(f),Math.abs(b))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var Yo=Oo,Ko=Vo;function Zo(){var t=new mo(16);return mo!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Qo(t){var e=new mo(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Jo(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function $o(t,e,n,r,o,i,a,u,s,c,f,l,h,d,p,v){var m=new mo(16);return m[0]=t,m[1]=e,m[2]=n,m[3]=r,m[4]=o,m[5]=i,m[6]=a,m[7]=u,m[8]=s,m[9]=c,m[10]=f,m[11]=l,m[12]=h,m[13]=d,m[14]=p,m[15]=v,m}function ti(t,e,n,r,o,i,a,u,s,c,f,l,h,d,p,v,m){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t[6]=u,t[7]=s,t[8]=c,t[9]=f,t[10]=l,t[11]=h,t[12]=d,t[13]=p,t[14]=v,t[15]=m,t}function ei(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ni(t,e){if(t===e){var n=e[1],r=e[2],o=e[3],i=e[6],a=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=o,t[13]=a,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function ri(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],p=e[12],v=e[13],m=e[14],y=e[15],g=n*u-r*a,b=n*s-o*a,_=n*c-i*a,x=r*s-o*u,w=r*c-i*u,E=o*c-i*s,S=f*v-l*p,T=f*m-h*p,A=f*y-d*p,I=l*m-h*v,k=l*y-d*v,O=h*y-d*m,D=g*O-b*k+_*I+x*A-w*T+E*S;return D?(D=1/D,t[0]=(u*O-s*k+c*I)*D,t[1]=(o*k-r*O-i*I)*D,t[2]=(v*E-m*w+y*x)*D,t[3]=(h*w-l*E-d*x)*D,t[4]=(s*A-a*O-c*T)*D,t[5]=(n*O-o*A+i*T)*D,t[6]=(m*_-p*E-y*b)*D,t[7]=(f*E-h*_+d*b)*D,t[8]=(a*k-u*A+c*S)*D,t[9]=(r*A-n*k-i*S)*D,t[10]=(p*w-v*_+y*g)*D,t[11]=(l*_-f*w-d*g)*D,t[12]=(u*T-a*I-s*S)*D,t[13]=(n*I-r*T+o*S)*D,t[14]=(v*b-p*x-m*g)*D,t[15]=(f*x-l*b+h*g)*D,t):null}function oi(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],p=e[12],v=e[13],m=e[14],y=e[15];return t[0]=u*(h*y-d*m)-l*(s*y-c*m)+v*(s*d-c*h),t[1]=-(r*(h*y-d*m)-l*(o*y-i*m)+v*(o*d-i*h)),t[2]=r*(s*y-c*m)-u*(o*y-i*m)+v*(o*c-i*s),t[3]=-(r*(s*d-c*h)-u*(o*d-i*h)+l*(o*c-i*s)),t[4]=-(a*(h*y-d*m)-f*(s*y-c*m)+p*(s*d-c*h)),t[5]=n*(h*y-d*m)-f*(o*y-i*m)+p*(o*d-i*h),t[6]=-(n*(s*y-c*m)-a*(o*y-i*m)+p*(o*c-i*s)),t[7]=n*(s*d-c*h)-a*(o*d-i*h)+f*(o*c-i*s),t[8]=a*(l*y-d*v)-f*(u*y-c*v)+p*(u*d-c*l),t[9]=-(n*(l*y-d*v)-f*(r*y-i*v)+p*(r*d-i*l)),t[10]=n*(u*y-c*v)-a*(r*y-i*v)+p*(r*c-i*u),t[11]=-(n*(u*d-c*l)-a*(r*d-i*l)+f*(r*c-i*u)),t[12]=-(a*(l*m-h*v)-f*(u*m-s*v)+p*(u*h-s*l)),t[13]=n*(l*m-h*v)-f*(r*m-o*v)+p*(r*h-o*l),t[14]=-(n*(u*m-s*v)-a*(r*m-o*v)+p*(r*s-o*u)),t[15]=n*(u*h-s*l)-a*(r*h-o*l)+f*(r*s-o*u),t}function ii(t){var e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],u=t[6],s=t[7],c=t[8],f=t[9],l=t[10],h=t[11],d=t[12],p=t[13],v=t[14],m=t[15];return(e*a-n*i)*(l*m-h*v)-(e*u-r*i)*(f*m-h*p)+(e*s-o*i)*(f*v-l*p)+(n*u-r*a)*(c*m-h*d)-(n*s-o*a)*(c*v-l*d)+(r*s-o*u)*(c*p-f*d)}function ai(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=e[9],d=e[10],p=e[11],v=e[12],m=e[13],y=e[14],g=e[15],b=n[0],_=n[1],x=n[2],w=n[3];return t[0]=b*r+_*u+x*l+w*v,t[1]=b*o+_*s+x*h+w*m,t[2]=b*i+_*c+x*d+w*y,t[3]=b*a+_*f+x*p+w*g,b=n[4],_=n[5],x=n[6],w=n[7],t[4]=b*r+_*u+x*l+w*v,t[5]=b*o+_*s+x*h+w*m,t[6]=b*i+_*c+x*d+w*y,t[7]=b*a+_*f+x*p+w*g,b=n[8],_=n[9],x=n[10],w=n[11],t[8]=b*r+_*u+x*l+w*v,t[9]=b*o+_*s+x*h+w*m,t[10]=b*i+_*c+x*d+w*y,t[11]=b*a+_*f+x*p+w*g,b=n[12],_=n[13],x=n[14],w=n[15],t[12]=b*r+_*u+x*l+w*v,t[13]=b*o+_*s+x*h+w*m,t[14]=b*i+_*c+x*d+w*y,t[15]=b*a+_*f+x*p+w*g,t}function ui(t,e,n){var r,o,i,a,u,s,c,f,l,h,d,p,v=n[0],m=n[1],y=n[2];return e===t?(t[12]=e[0]*v+e[4]*m+e[8]*y+e[12],t[13]=e[1]*v+e[5]*m+e[9]*y+e[13],t[14]=e[2]*v+e[6]*m+e[10]*y+e[14],t[15]=e[3]*v+e[7]*m+e[11]*y+e[15]):(r=e[0],o=e[1],i=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=e[9],d=e[10],p=e[11],t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=u,t[5]=s,t[6]=c,t[7]=f,t[8]=l,t[9]=h,t[10]=d,t[11]=p,t[12]=r*v+u*m+l*y+e[12],t[13]=o*v+s*m+h*y+e[13],t[14]=i*v+c*m+d*y+e[14],t[15]=a*v+f*m+p*y+e[15]),t}function si(t,e,n){var r=n[0],o=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function ci(t,e,n,r){var o,i,a,u,s,c,f,l,h,d,p,v,m,y,g,b,_,x,w,E,S,T,A,I,k=r[0],O=r[1],D=r[2],R=Math.hypot(k,O,D);return R<vo?null:(k*=R=1/R,O*=R,D*=R,o=Math.sin(n),a=1-(i=Math.cos(n)),u=e[0],s=e[1],c=e[2],f=e[3],l=e[4],h=e[5],d=e[6],p=e[7],v=e[8],m=e[9],y=e[10],g=e[11],b=k*k*a+i,_=O*k*a+D*o,x=D*k*a-O*o,w=k*O*a-D*o,E=O*O*a+i,S=D*O*a+k*o,T=k*D*a+O*o,A=O*D*a-k*o,I=D*D*a+i,t[0]=u*b+l*_+v*x,t[1]=s*b+h*_+m*x,t[2]=c*b+d*_+y*x,t[3]=f*b+p*_+g*x,t[4]=u*w+l*E+v*S,t[5]=s*w+h*E+m*S,t[6]=c*w+d*E+y*S,t[7]=f*w+p*E+g*S,t[8]=u*T+l*A+v*I,t[9]=s*T+h*A+m*I,t[10]=c*T+d*A+y*I,t[11]=f*T+p*A+g*I,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function fi(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[4],a=e[5],u=e[6],s=e[7],c=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*o+c*r,t[5]=a*o+f*r,t[6]=u*o+l*r,t[7]=s*o+h*r,t[8]=c*o-i*r,t[9]=f*o-a*r,t[10]=l*o-u*r,t[11]=h*o-s*r,t}function li(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],u=e[2],s=e[3],c=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o-c*r,t[1]=a*o-f*r,t[2]=u*o-l*r,t[3]=s*o-h*r,t[8]=i*r+c*o,t[9]=a*r+f*o,t[10]=u*r+l*o,t[11]=s*r+h*o,t}function hi(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],u=e[2],s=e[3],c=e[4],f=e[5],l=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o+c*r,t[1]=a*o+f*r,t[2]=u*o+l*r,t[3]=s*o+h*r,t[4]=c*o-i*r,t[5]=f*o-a*r,t[6]=l*o-u*r,t[7]=h*o-s*r,t}function di(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function pi(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function vi(t,e,n){var r,o,i,a=n[0],u=n[1],s=n[2],c=Math.hypot(a,u,s);return c<vo?null:(a*=c=1/c,u*=c,s*=c,r=Math.sin(e),i=1-(o=Math.cos(e)),t[0]=a*a*i+o,t[1]=u*a*i+s*r,t[2]=s*a*i-u*r,t[3]=0,t[4]=a*u*i-s*r,t[5]=u*u*i+o,t[6]=s*u*i+a*r,t[7]=0,t[8]=a*s*i+u*r,t[9]=u*s*i-a*r,t[10]=s*s*i+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function mi(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function yi(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function gi(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function bi(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],u=r+r,s=o+o,c=i+i,f=r*u,l=r*s,h=r*c,d=o*s,p=o*c,v=i*c,m=a*u,y=a*s,g=a*c;return t[0]=1-(d+v),t[1]=l+g,t[2]=h-y,t[3]=0,t[4]=l-g,t[5]=1-(f+v),t[6]=p+m,t[7]=0,t[8]=h+y,t[9]=p-m,t[10]=1-(f+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function _i(t,e){var n=new mo(3),r=-e[0],o=-e[1],i=-e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=r*r+o*o+i*i+a*a;return l>0?(n[0]=2*(u*a+f*r+s*i-c*o)/l,n[1]=2*(s*a+f*o+c*r-u*i)/l,n[2]=2*(c*a+f*i+u*o-s*r)/l):(n[0]=2*(u*a+f*r+s*i-c*o),n[1]=2*(s*a+f*o+c*r-u*i),n[2]=2*(c*a+f*i+u*o-s*r)),bi(t,e,n),t}function xi(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function wi(t,e){var n=e[0],r=e[1],o=e[2],i=e[4],a=e[5],u=e[6],s=e[8],c=e[9],f=e[10];return t[0]=Math.hypot(n,r,o),t[1]=Math.hypot(i,a,u),t[2]=Math.hypot(s,c,f),t}function Ei(t,e){var n=new mo(3);wi(n,e);var r=1/n[0],o=1/n[1],i=1/n[2],a=e[0]*r,u=e[1]*o,s=e[2]*i,c=e[4]*r,f=e[5]*o,l=e[6]*i,h=e[8]*r,d=e[9]*o,p=e[10]*i,v=a+f+p,m=0;return v>0?(m=2*Math.sqrt(v+1),t[3]=.25*m,t[0]=(l-d)/m,t[1]=(h-s)/m,t[2]=(u-c)/m):a>f&&a>p?(m=2*Math.sqrt(1+a-f-p),t[3]=(l-d)/m,t[0]=.25*m,t[1]=(u+c)/m,t[2]=(h+s)/m):f>p?(m=2*Math.sqrt(1+f-a-p),t[3]=(h-s)/m,t[0]=(u+c)/m,t[1]=.25*m,t[2]=(l+d)/m):(m=2*Math.sqrt(1+p-a-f),t[3]=(u-c)/m,t[0]=(h+s)/m,t[1]=(l+d)/m,t[2]=.25*m),t}function Si(t,e,n,r){var o=e[0],i=e[1],a=e[2],u=e[3],s=o+o,c=i+i,f=a+a,l=o*s,h=o*c,d=o*f,p=i*c,v=i*f,m=a*f,y=u*s,g=u*c,b=u*f,_=r[0],x=r[1],w=r[2];return t[0]=(1-(p+m))*_,t[1]=(h+b)*_,t[2]=(d-g)*_,t[3]=0,t[4]=(h-b)*x,t[5]=(1-(l+m))*x,t[6]=(v+y)*x,t[7]=0,t[8]=(d+g)*w,t[9]=(v-y)*w,t[10]=(1-(l+p))*w,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Ti(t,e,n,r,o){var i=e[0],a=e[1],u=e[2],s=e[3],c=i+i,f=a+a,l=u+u,h=i*c,d=i*f,p=i*l,v=a*f,m=a*l,y=u*l,g=s*c,b=s*f,_=s*l,x=r[0],w=r[1],E=r[2],S=o[0],T=o[1],A=o[2],I=(1-(v+y))*x,k=(d+_)*x,O=(p-b)*x,D=(d-_)*w,R=(1-(h+y))*w,M=(m+g)*w,C=(p+b)*E,N=(m-g)*E,P=(1-(h+v))*E;return t[0]=I,t[1]=k,t[2]=O,t[3]=0,t[4]=D,t[5]=R,t[6]=M,t[7]=0,t[8]=C,t[9]=N,t[10]=P,t[11]=0,t[12]=n[0]+S-(I*S+D*T+C*A),t[13]=n[1]+T-(k*S+R*T+N*A),t[14]=n[2]+A-(O*S+M*T+P*A),t[15]=1,t}function Ai(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n+n,u=r+r,s=o+o,c=n*a,f=r*a,l=r*u,h=o*a,d=o*u,p=o*s,v=i*a,m=i*u,y=i*s;return t[0]=1-l-p,t[1]=f+y,t[2]=h-m,t[3]=0,t[4]=f-y,t[5]=1-c-p,t[6]=d+v,t[7]=0,t[8]=h+m,t[9]=d-v,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ii(t,e,n,r,o,i,a){var u=1/(n-e),s=1/(o-r),c=1/(i-a);return t[0]=2*i*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*s,t[6]=0,t[7]=0,t[8]=(n+e)*u,t[9]=(o+r)*s,t[10]=(a+i)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*i*2*c,t[15]=0,t}function ki(t,e,n,r,o){var i,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=o&&o!==1/0?(i=1/(r-o),t[10]=(o+r)*i,t[14]=2*o*r*i):(t[10]=-1,t[14]=-2*r),t}function Oi(t,e,n,r){var o=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),s=2/(a+u),c=2/(o+i);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-u)*s*.5,t[9]=(o-i)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function Di(t,e,n,r,o,i,a){var u=1/(e-n),s=1/(r-o),c=1/(i-a);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*u,t[13]=(o+r)*s,t[14]=(a+i)*c,t[15]=1,t}function Ri(t,e,n,r){var o,i,a,u,s,c,f,l,h,d,p=e[0],v=e[1],m=e[2],y=r[0],g=r[1],b=r[2],_=n[0],x=n[1],w=n[2];return Math.abs(p-_)<vo&&Math.abs(v-x)<vo&&Math.abs(m-w)<vo?ei(t):(f=p-_,l=v-x,h=m-w,o=g*(h*=d=1/Math.hypot(f,l,h))-b*(l*=d),i=b*(f*=d)-y*h,a=y*l-g*f,(d=Math.hypot(o,i,a))?(o*=d=1/d,i*=d,a*=d):(o=0,i=0,a=0),u=l*a-h*i,s=h*o-f*a,c=f*i-l*o,(d=Math.hypot(u,s,c))?(u*=d=1/d,s*=d,c*=d):(u=0,s=0,c=0),t[0]=o,t[1]=u,t[2]=f,t[3]=0,t[4]=i,t[5]=s,t[6]=l,t[7]=0,t[8]=a,t[9]=c,t[10]=h,t[11]=0,t[12]=-(o*p+i*v+a*m),t[13]=-(u*p+s*v+c*m),t[14]=-(f*p+l*v+h*m),t[15]=1,t)}function Mi(t,e,n,r){var o=e[0],i=e[1],a=e[2],u=r[0],s=r[1],c=r[2],f=o-n[0],l=i-n[1],h=a-n[2],d=f*f+l*l+h*h;d>0&&(f*=d=1/Math.sqrt(d),l*=d,h*=d);var p=s*h-c*l,v=c*f-u*h,m=u*l-s*f;return(d=p*p+v*v+m*m)>0&&(p*=d=1/Math.sqrt(d),v*=d,m*=d),t[0]=p,t[1]=v,t[2]=m,t[3]=0,t[4]=l*m-h*v,t[5]=h*p-f*m,t[6]=f*v-l*p,t[7]=0,t[8]=f,t[9]=l,t[10]=h,t[11]=0,t[12]=o,t[13]=i,t[14]=a,t[15]=1,t}function Ci(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Ni(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function Pi(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function Gi(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function ji(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function Li(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function Ui(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Bi(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],u=t[5],s=t[6],c=t[7],f=t[8],l=t[9],h=t[10],d=t[11],p=t[12],v=t[13],m=t[14],y=t[15],g=e[0],b=e[1],_=e[2],x=e[3],w=e[4],E=e[5],S=e[6],T=e[7],A=e[8],I=e[9],k=e[10],O=e[11],D=e[12],R=e[13],M=e[14],C=e[15];return Math.abs(n-g)<=vo*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(r-b)<=vo*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(o-_)<=vo*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(i-x)<=vo*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(a-w)<=vo*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(u-E)<=vo*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(s-S)<=vo*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(c-T)<=vo*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(f-A)<=vo*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(l-I)<=vo*Math.max(1,Math.abs(l),Math.abs(I))&&Math.abs(h-k)<=vo*Math.max(1,Math.abs(h),Math.abs(k))&&Math.abs(d-O)<=vo*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(p-D)<=vo*Math.max(1,Math.abs(p),Math.abs(D))&&Math.abs(v-R)<=vo*Math.max(1,Math.abs(v),Math.abs(R))&&Math.abs(m-M)<=vo*Math.max(1,Math.abs(m),Math.abs(M))&&Math.abs(y-C)<=vo*Math.max(1,Math.abs(y),Math.abs(C))}var Fi=ai,zi=Gi;function Vi(){var t=new mo(3);return mo!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Wi(t){var e=new mo(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Xi(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function Hi(t,e,n){var r=new mo(3);return r[0]=t,r[1]=e,r[2]=n,r}function qi(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Yi(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function Ki(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function Zi(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function Qi(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function Ji(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function $i(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function ta(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function ea(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function na(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function ra(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function oa(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function ia(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function aa(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return Math.hypot(n,r,o)}function ua(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return n*n+r*r+o*o}function sa(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function ca(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function fa(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function la(t,e){var n=e[0],r=e[1],o=e[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function ha(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function da(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],u=n[1],s=n[2];return t[0]=o*s-i*u,t[1]=i*a-r*s,t[2]=r*u-o*a,t}function pa(t,e,n,r){var o=e[0],i=e[1],a=e[2];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t[2]=a+r*(n[2]-a),t}function va(t,e,n,r,o,i){var a=i*i,u=a*(2*i-3)+1,s=a*(i-2)+i,c=a*(i-1),f=a*(3-2*i);return t[0]=e[0]*u+n[0]*s+r[0]*c+o[0]*f,t[1]=e[1]*u+n[1]*s+r[1]*c+o[1]*f,t[2]=e[2]*u+n[2]*s+r[2]*c+o[2]*f,t}function ma(t,e,n,r,o,i){var a=1-i,u=a*a,s=i*i,c=u*a,f=3*i*u,l=3*s*a,h=s*i;return t[0]=e[0]*c+n[0]*f+r[0]*l+o[0]*h,t[1]=e[1]*c+n[1]*f+r[1]*l+o[1]*h,t[2]=e[2]*c+n[2]*f+r[2]*l+o[2]*h,t}function ya(t,e){e=e||1;var n=2*yo()*Math.PI,r=2*yo()-1,o=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=r*e,t}function ga(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[3]*r+n[7]*o+n[11]*i+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/a,t[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/a,t[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/a,t}function ba(t,e,n){var r=e[0],o=e[1],i=e[2];return t[0]=r*n[0]+o*n[3]+i*n[6],t[1]=r*n[1]+o*n[4]+i*n[7],t[2]=r*n[2]+o*n[5]+i*n[8],t}function _a(t,e,n){var r=n[0],o=n[1],i=n[2],a=n[3],u=e[0],s=e[1],c=e[2],f=o*c-i*s,l=i*u-r*c,h=r*s-o*u,d=o*h-i*l,p=i*f-r*h,v=r*l-o*f,m=2*a;return f*=m,l*=m,h*=m,d*=2,p*=2,v*=2,t[0]=u+f+d,t[1]=s+l+p,t[2]=c+h+v,t}function xa(t,e,n,r){var o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[0],i[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),i[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function wa(t,e,n,r){var o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),i[1]=o[1],i[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function Ea(t,e,n,r){var o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),i[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),i[2]=o[2],t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function Sa(t,e){var n=t[0],r=t[1],o=t[2],i=e[0],a=e[1],u=e[2],s=Math.sqrt(n*n+r*r+o*o)*Math.sqrt(i*i+a*a+u*u),c=s&&ha(t,e)/s;return Math.acos(Math.min(Math.max(c,-1),1))}function Ta(t){return t[0]=0,t[1]=0,t[2]=0,t}function Aa(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Ia(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function ka(t,e){var n=t[0],r=t[1],o=t[2],i=e[0],a=e[1],u=e[2];return Math.abs(n-i)<=vo*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-a)<=vo*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(o-u)<=vo*Math.max(1,Math.abs(o),Math.abs(u))}var Oa,Da=Zi,Ra=Qi,Ma=Ji,Ca=aa,Na=ua,Pa=Xi,Ga=sa,ja=(Oa=Vi(),function(t,e,n,r,o,i){var a,u;for(e||(e=3),n||(n=0),u=r?Math.min(r*e+n,t.length):t.length,a=n;a<u;a+=e)Oa[0]=t[a],Oa[1]=t[a+1],Oa[2]=t[a+2],o(Oa,Oa,i),t[a]=Oa[0],t[a+1]=Oa[1],t[a+2]=Oa[2];return t});function La(){var t=new mo(4);return mo!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Ua(t){var e=new mo(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Ba(t,e,n,r){var o=new mo(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o}function Fa(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function za(t,e,n,r,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t}function Va(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function Wa(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function Xa(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function Ha(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function qa(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function Ya(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function Ka(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function Za(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function Qa(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function Ja(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function $a(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}function tu(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],i=e[3]-t[3];return Math.hypot(n,r,o,i)}function eu(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],i=e[3]-t[3];return n*n+r*r+o*o+i*i}function nu(t){var e=t[0],n=t[1],r=t[2],o=t[3];return Math.hypot(e,n,r,o)}function ru(t){var e=t[0],n=t[1],r=t[2],o=t[3];return e*e+n*n+r*r+o*o}function ou(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function iu(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function au(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n*n+r*r+o*o+i*i;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=r*a,t[2]=o*a,t[3]=i*a,t}function uu(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function su(t,e,n,r){var o=n[0]*r[1]-n[1]*r[0],i=n[0]*r[2]-n[2]*r[0],a=n[0]*r[3]-n[3]*r[0],u=n[1]*r[2]-n[2]*r[1],s=n[1]*r[3]-n[3]*r[1],c=n[2]*r[3]-n[3]*r[2],f=e[0],l=e[1],h=e[2],d=e[3];return t[0]=l*c-h*s+d*u,t[1]=-f*c+h*a-d*i,t[2]=f*s-l*a+d*o,t[3]=-f*u+l*i-h*o,t}function cu(t,e,n,r){var o=e[0],i=e[1],a=e[2],u=e[3];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t[2]=a+r*(n[2]-a),t[3]=u+r*(n[3]-u),t}function fu(t,e){var n,r,o,i,a,u;e=e||1;do{a=(n=2*yo()-1)*n+(r=2*yo()-1)*r}while(a>=1);do{u=(o=2*yo()-1)*o+(i=2*yo()-1)*i}while(u>=1);var s=Math.sqrt((1-a)/u);return t[0]=e*n,t[1]=e*r,t[2]=e*o*s,t[3]=e*i*s,t}function lu(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3];return t[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*a,t[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*a,t[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*a,t[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*a,t}function hu(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],u=n[1],s=n[2],c=n[3],f=c*r+u*i-s*o,l=c*o+s*r-a*i,h=c*i+a*o-u*r,d=-a*r-u*o-s*i;return t[0]=f*c+d*-a+l*-s-h*-u,t[1]=l*c+d*-u+h*-a-f*-s,t[2]=h*c+d*-s+f*-u-l*-a,t[3]=e[3],t}function du(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function pu(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function vu(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function mu(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],a=e[0],u=e[1],s=e[2],c=e[3];return Math.abs(n-a)<=vo*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-u)<=vo*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(o-s)<=vo*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(i-c)<=vo*Math.max(1,Math.abs(i),Math.abs(c))}var yu=Wa,gu=Xa,bu=Ha,_u=tu,xu=eu,wu=nu,Eu=ru,Su=function(){var t=La();return function(e,n,r,o,i,a){var u,s;for(n||(n=4),r||(r=0),s=o?Math.min(o*n+r,e.length):e.length,u=r;u<s;u+=n)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],t[3]=e[u+3],i(t,t,a),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2],e[u+3]=t[3];return e}}();function Tu(){var t=new mo(4);return mo!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Au(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Iu(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function ku(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return r>vo?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function Ou(t,e){var n=ds(t,e);return Math.acos(2*n*n-1)}function Du(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],u=n[0],s=n[1],c=n[2],f=n[3];return t[0]=r*f+a*u+o*c-i*s,t[1]=o*f+a*s+i*u-r*c,t[2]=i*f+a*c+r*s-o*u,t[3]=a*f-r*u-o*s-i*c,t}function Ru(t,e,n){n*=.5;var r=e[0],o=e[1],i=e[2],a=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+a*u,t[1]=o*s+i*u,t[2]=i*s-o*u,t[3]=a*s-r*u,t}function Mu(t,e,n){n*=.5;var r=e[0],o=e[1],i=e[2],a=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s-i*u,t[1]=o*s+a*u,t[2]=i*s+r*u,t[3]=a*s-o*u,t}function Cu(t,e,n){n*=.5;var r=e[0],o=e[1],i=e[2],a=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+o*u,t[1]=o*s-r*u,t[2]=i*s+a*u,t[3]=a*s-i*u,t}function Nu(t,e){var n=e[0],r=e[1],o=e[2];return t[0]=n,t[1]=r,t[2]=o,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-o*o)),t}function Pu(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=Math.sqrt(n*n+r*r+o*o),u=Math.exp(i),s=a>0?u*Math.sin(a)/a:0;return t[0]=n*s,t[1]=r*s,t[2]=o*s,t[3]=u*Math.cos(a),t}function Gu(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=Math.sqrt(n*n+r*r+o*o),u=a>0?Math.atan2(a,i)/a:0;return t[0]=n*u,t[1]=r*u,t[2]=o*u,t[3]=.5*Math.log(n*n+r*r+o*o+i*i),t}function ju(t,e,n){return Gu(t,e),hs(t,t,n),Pu(t,t),t}function Lu(t,e,n,r){var o,i,a,u,s,c=e[0],f=e[1],l=e[2],h=e[3],d=n[0],p=n[1],v=n[2],m=n[3];return(i=c*d+f*p+l*v+h*m)<0&&(i=-i,d=-d,p=-p,v=-v,m=-m),1-i>vo?(o=Math.acos(i),a=Math.sin(o),u=Math.sin((1-r)*o)/a,s=Math.sin(r*o)/a):(u=1-r,s=r),t[0]=u*c+s*d,t[1]=u*f+s*p,t[2]=u*l+s*v,t[3]=u*h+s*m,t}function Uu(t){var e=yo(),n=yo(),r=yo(),o=Math.sqrt(1-e),i=Math.sqrt(e);return t[0]=o*Math.sin(2*Math.PI*n),t[1]=o*Math.cos(2*Math.PI*n),t[2]=i*Math.sin(2*Math.PI*r),t[3]=i*Math.cos(2*Math.PI*r),t}function Bu(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n*n+r*r+o*o+i*i,u=a?1/a:0;return t[0]=-n*u,t[1]=-r*u,t[2]=-o*u,t[3]=i*u,t}function Fu(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function zu(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var o=0;e[4]>e[0]&&(o=1),e[8]>e[3*o+o]&&(o=2);var i=(o+1)%3,a=(o+2)%3;n=Math.sqrt(e[3*o+o]-e[3*i+i]-e[3*a+a]+1),t[o]=.5*n,n=.5/n,t[3]=(e[3*i+a]-e[3*a+i])*n,t[i]=(e[3*i+o]+e[3*o+i])*n,t[a]=(e[3*a+o]+e[3*o+a])*n}return t}function Vu(t,e,n,r){var o=.5*Math.PI/180;e*=o,n*=o,r*=o;var i=Math.sin(e),a=Math.cos(e),u=Math.sin(n),s=Math.cos(n),c=Math.sin(r),f=Math.cos(r);return t[0]=i*s*f-a*u*c,t[1]=a*u*f+i*s*c,t[2]=a*s*c-i*u*f,t[3]=a*s*f+i*u*c,t}function Wu(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var Xu,Hu,qu,Yu,Ku,Zu,Qu,Ju,$u,ts,es,ns,rs,os,is,as=Ua,us=Ba,ss=Fa,cs=za,fs=Va,ls=Du,hs=Ja,ds=uu,ps=cu,vs=nu,ms=vs,ys=ru,gs=ys,bs=au,_s=vu,xs=mu,ws=(Xu=Vi(),Hu=Hi(1,0,0),qu=Hi(0,1,0),function(t,e,n){var r=ha(e,n);return r<-.999999?(da(Xu,Hu,e),Pa(Xu)<1e-6&&da(Xu,qu,e),la(Xu,Xu),Iu(t,Xu,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(da(Xu,e,n),t[0]=Xu[0],t[1]=Xu[1],t[2]=Xu[2],t[3]=1+r,bs(t,t))}),Es=(Yu=Tu(),Ku=Tu(),function(t,e,n,r,o,i){return Lu(Yu,e,o,i),Lu(Ku,n,r,i),Lu(t,Yu,Ku,2*i*(1-i)),t}),Ss=(Zu=go(),function(t,e,n,r){return Zu[0]=n[0],Zu[3]=n[1],Zu[6]=n[2],Zu[1]=r[0],Zu[4]=r[1],Zu[7]=r[2],Zu[2]=-e[0],Zu[5]=-e[1],Zu[8]=-e[2],bs(t,zu(t,Zu))}),Ts=function(){function t(e,n){Er()(this,t),this.center=void 0,this.halfExtents=void 0,this.min=i.create(),this.max=i.create(),this.update(e,n)}return Tr()(t,[{key:"update",value:function(t,e){this.center=t||i.create(),this.halfExtents=e||i.fromValues(.5,.5,.5),this.min=i.sub(this.min,this.center,this.halfExtents),this.max=i.add(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(t,e){i.add(this.center,e,t),i.scale(this.center,this.center,.5),i.sub(this.halfExtents,e,t),i.scale(this.halfExtents,this.halfExtents,.5),i.copy(this.min,t),i.copy(this.max,e)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(t){var e=this.center,n=e[0],r=e[1],o=e[2],i=this.halfExtents,a=i[0],u=i[1],s=i[2],c=n-a,f=n+a,l=r-u,h=r+u,d=o-s,p=o+s,v=t.center,m=v[0],y=v[1],g=v[2],b=t.halfExtents,_=b[0],x=b[1],w=b[2],E=m-_,S=m+_,T=y-x,A=y+x,I=g-w,k=g+w;E<c&&(c=E),S>f&&(f=S),T<l&&(l=T),A>h&&(h=A),I<d&&(d=I),k>p&&(p=k),e[0]=.5*(c+f),e[1]=.5*(l+h),e[2]=.5*(d+p),i[0]=.5*(f-c),i[1]=.5*(h-l),i[2]=.5*(p-d),this.min[0]=c,this.min[1]=l,this.min[2]=d,this.max[0]=f,this.max[1]=h,this.max[2]=p}},{key:"intersects",value:function(t){var e=this.getMax(),n=this.getMin(),r=t.getMax(),o=t.getMin();return n[0]<=r[0]&&e[0]>=o[0]&&n[1]<=r[1]&&e[1]>=o[1]&&n[2]<=r[2]&&e[2]>=o[2]}},{key:"containsPoint",value:function(t){var e=this.getMin(),n=this.getMax();return!(t[0]<e[0]||t[0]>n[0]||t[1]<e[1]||t[1]>n[1]||t[2]<e[2]||t[2]>n[2])}},{key:"getNegativeFarPoint",value:function(t){return 273===t.pnVertexFlag?i.copy(i.create(),this.min):272===t.pnVertexFlag?i.fromValues(this.min[0],this.min[1],this.max[2]):257===t.pnVertexFlag?i.fromValues(this.min[0],this.max[1],this.min[2]):256===t.pnVertexFlag?i.fromValues(this.min[0],this.max[1],this.max[2]):17===t.pnVertexFlag?i.fromValues(this.max[0],this.min[1],this.min[2]):16===t.pnVertexFlag?i.fromValues(this.max[0],this.min[1],this.max[2]):1===t.pnVertexFlag?i.fromValues(this.max[0],this.max[1],this.min[2]):i.fromValues(this.max[0],this.max[1],this.max[2])}},{key:"getPositiveFarPoint",value:function(t){return 273===t.pnVertexFlag?i.copy(i.create(),this.max):272===t.pnVertexFlag?i.fromValues(this.max[0],this.max[1],this.min[2]):257===t.pnVertexFlag?i.fromValues(this.max[0],this.min[1],this.max[2]):256===t.pnVertexFlag?i.fromValues(this.max[0],this.min[1],this.min[2]):17===t.pnVertexFlag?i.fromValues(this.min[0],this.max[1],this.max[2]):16===t.pnVertexFlag?i.fromValues(this.min[0],this.max[1],this.min[2]):1===t.pnVertexFlag?i.fromValues(this.min[0],this.min[1],this.max[2]):i.fromValues(this.min[0],this.min[1],this.min[2])}}]),t}();function As(t){for(var e=new Ts,n=i.fromValues(t[0],t[1],t[2]),r=i.fromValues(t[0],t[1],t[2]),o=3;o<t.length;){var a=t[o++],u=t[o++],s=t[o++];a<n[0]&&(n[0]=a),u<n[1]&&(n[1]=u),s<n[2]&&(n[2]=s),a>r[0]&&(r[0]=a),u>r[1]&&(r[1]=u),s>r[2]&&(r[2]=s)}return e.setMinMax(n,r),e}(Ju=Qu||(Qu={}))[Ju.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",Ju[Ju.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",Ju[Ju.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",Ju[Ju.POINTS=0]="POINTS",Ju[Ju.LINES=1]="LINES",Ju[Ju.LINE_LOOP=2]="LINE_LOOP",Ju[Ju.LINE_STRIP=3]="LINE_STRIP",Ju[Ju.TRIANGLES=4]="TRIANGLES",Ju[Ju.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",Ju[Ju.TRIANGLE_FAN=6]="TRIANGLE_FAN",Ju[Ju.ZERO=0]="ZERO",Ju[Ju.ONE=1]="ONE",Ju[Ju.SRC_COLOR=768]="SRC_COLOR",Ju[Ju.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",Ju[Ju.SRC_ALPHA=770]="SRC_ALPHA",Ju[Ju.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",Ju[Ju.DST_ALPHA=772]="DST_ALPHA",Ju[Ju.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",Ju[Ju.DST_COLOR=774]="DST_COLOR",Ju[Ju.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",Ju[Ju.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",Ju[Ju.FUNC_ADD=32774]="FUNC_ADD",Ju[Ju.BLEND_EQUATION=32777]="BLEND_EQUATION",Ju[Ju.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",Ju[Ju.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",Ju[Ju.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",Ju[Ju.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",Ju[Ju.MAX_EXT=32776]="MAX_EXT",Ju[Ju.MIN_EXT=32775]="MIN_EXT",Ju[Ju.BLEND_DST_RGB=32968]="BLEND_DST_RGB",Ju[Ju.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",Ju[Ju.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",Ju[Ju.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",Ju[Ju.CONSTANT_COLOR=32769]="CONSTANT_COLOR",Ju[Ju.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",Ju[Ju.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",Ju[Ju.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",Ju[Ju.BLEND_COLOR=32773]="BLEND_COLOR",Ju[Ju.ARRAY_BUFFER=34962]="ARRAY_BUFFER",Ju[Ju.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",Ju[Ju.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",Ju[Ju.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",Ju[Ju.STREAM_DRAW=35040]="STREAM_DRAW",Ju[Ju.STATIC_DRAW=35044]="STATIC_DRAW",Ju[Ju.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",Ju[Ju.BUFFER_SIZE=34660]="BUFFER_SIZE",Ju[Ju.BUFFER_USAGE=34661]="BUFFER_USAGE",Ju[Ju.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",Ju[Ju.FRONT=1028]="FRONT",Ju[Ju.BACK=1029]="BACK",Ju[Ju.FRONT_AND_BACK=1032]="FRONT_AND_BACK",Ju[Ju.CULL_FACE=2884]="CULL_FACE",Ju[Ju.BLEND=3042]="BLEND",Ju[Ju.DITHER=3024]="DITHER",Ju[Ju.STENCIL_TEST=2960]="STENCIL_TEST",Ju[Ju.DEPTH_TEST=2929]="DEPTH_TEST",Ju[Ju.SCISSOR_TEST=3089]="SCISSOR_TEST",Ju[Ju.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",Ju[Ju.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",Ju[Ju.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",Ju[Ju.NO_ERROR=0]="NO_ERROR",Ju[Ju.INVALID_ENUM=1280]="INVALID_ENUM",Ju[Ju.INVALID_VALUE=1281]="INVALID_VALUE",Ju[Ju.INVALID_OPERATION=1282]="INVALID_OPERATION",Ju[Ju.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",Ju[Ju.CW=2304]="CW",Ju[Ju.CCW=2305]="CCW",Ju[Ju.LINE_WIDTH=2849]="LINE_WIDTH",Ju[Ju.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",Ju[Ju.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",Ju[Ju.CULL_FACE_MODE=2885]="CULL_FACE_MODE",Ju[Ju.FRONT_FACE=2886]="FRONT_FACE",Ju[Ju.DEPTH_RANGE=2928]="DEPTH_RANGE",Ju[Ju.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",Ju[Ju.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",Ju[Ju.DEPTH_FUNC=2932]="DEPTH_FUNC",Ju[Ju.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",Ju[Ju.STENCIL_FUNC=2962]="STENCIL_FUNC",Ju[Ju.STENCIL_FAIL=2964]="STENCIL_FAIL",Ju[Ju.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",Ju[Ju.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",Ju[Ju.STENCIL_REF=2967]="STENCIL_REF",Ju[Ju.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",Ju[Ju.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",Ju[Ju.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",Ju[Ju.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",Ju[Ju.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",Ju[Ju.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",Ju[Ju.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",Ju[Ju.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",Ju[Ju.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",Ju[Ju.VIEWPORT=2978]="VIEWPORT",Ju[Ju.SCISSOR_BOX=3088]="SCISSOR_BOX",Ju[Ju.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",Ju[Ju.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",Ju[Ju.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",Ju[Ju.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",Ju[Ju.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",Ju[Ju.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",Ju[Ju.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",Ju[Ju.RED_BITS=3410]="RED_BITS",Ju[Ju.GREEN_BITS=3411]="GREEN_BITS",Ju[Ju.BLUE_BITS=3412]="BLUE_BITS",Ju[Ju.ALPHA_BITS=3413]="ALPHA_BITS",Ju[Ju.DEPTH_BITS=3414]="DEPTH_BITS",Ju[Ju.STENCIL_BITS=3415]="STENCIL_BITS",Ju[Ju.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",Ju[Ju.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",Ju[Ju.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",Ju[Ju.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",Ju[Ju.SAMPLES=32937]="SAMPLES",Ju[Ju.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",Ju[Ju.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",Ju[Ju.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",Ju[Ju.DONT_CARE=4352]="DONT_CARE",Ju[Ju.FASTEST=4353]="FASTEST",Ju[Ju.NICEST=4354]="NICEST",Ju[Ju.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",Ju[Ju.BYTE=5120]="BYTE",Ju[Ju.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",Ju[Ju.SHORT=5122]="SHORT",Ju[Ju.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",Ju[Ju.INT=5124]="INT",Ju[Ju.UNSIGNED_INT=5125]="UNSIGNED_INT",Ju[Ju.FLOAT=5126]="FLOAT",Ju[Ju.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",Ju[Ju.ALPHA=6406]="ALPHA",Ju[Ju.RGB=6407]="RGB",Ju[Ju.RGBA=6408]="RGBA",Ju[Ju.LUMINANCE=6409]="LUMINANCE",Ju[Ju.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",Ju[Ju.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",Ju[Ju.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",Ju[Ju.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",Ju[Ju.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",Ju[Ju.VERTEX_SHADER=35633]="VERTEX_SHADER",Ju[Ju.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",Ju[Ju.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",Ju[Ju.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",Ju[Ju.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",Ju[Ju.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",Ju[Ju.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",Ju[Ju.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",Ju[Ju.SHADER_TYPE=35663]="SHADER_TYPE",Ju[Ju.DELETE_STATUS=35712]="DELETE_STATUS",Ju[Ju.LINK_STATUS=35714]="LINK_STATUS",Ju[Ju.VALIDATE_STATUS=35715]="VALIDATE_STATUS",Ju[Ju.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",Ju[Ju.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",Ju[Ju.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",Ju[Ju.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",Ju[Ju.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",Ju[Ju.NEVER=512]="NEVER",Ju[Ju.LESS=513]="LESS",Ju[Ju.EQUAL=514]="EQUAL",Ju[Ju.LEQUAL=515]="LEQUAL",Ju[Ju.GREATER=516]="GREATER",Ju[Ju.NOTEQUAL=517]="NOTEQUAL",Ju[Ju.GEQUAL=518]="GEQUAL",Ju[Ju.ALWAYS=519]="ALWAYS",Ju[Ju.KEEP=7680]="KEEP",Ju[Ju.REPLACE=7681]="REPLACE",Ju[Ju.INCR=7682]="INCR",Ju[Ju.DECR=7683]="DECR",Ju[Ju.INVERT=5386]="INVERT",Ju[Ju.INCR_WRAP=34055]="INCR_WRAP",Ju[Ju.DECR_WRAP=34056]="DECR_WRAP",Ju[Ju.VENDOR=7936]="VENDOR",Ju[Ju.RENDERER=7937]="RENDERER",Ju[Ju.VERSION=7938]="VERSION",Ju[Ju.NEAREST=9728]="NEAREST",Ju[Ju.LINEAR=9729]="LINEAR",Ju[Ju.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",Ju[Ju.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",Ju[Ju.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",Ju[Ju.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",Ju[Ju.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",Ju[Ju.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",Ju[Ju.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",Ju[Ju.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",Ju[Ju.TEXTURE_2D=3553]="TEXTURE_2D",Ju[Ju.TEXTURE=5890]="TEXTURE",Ju[Ju.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",Ju[Ju.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",Ju[Ju.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",Ju[Ju.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",Ju[Ju.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",Ju[Ju.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",Ju[Ju.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",Ju[Ju.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",Ju[Ju.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",Ju[Ju.TEXTURE0=33984]="TEXTURE0",Ju[Ju.TEXTURE1=33985]="TEXTURE1",Ju[Ju.TEXTURE2=33986]="TEXTURE2",Ju[Ju.TEXTURE3=33987]="TEXTURE3",Ju[Ju.TEXTURE4=33988]="TEXTURE4",Ju[Ju.TEXTURE5=33989]="TEXTURE5",Ju[Ju.TEXTURE6=33990]="TEXTURE6",Ju[Ju.TEXTURE7=33991]="TEXTURE7",Ju[Ju.TEXTURE8=33992]="TEXTURE8",Ju[Ju.TEXTURE9=33993]="TEXTURE9",Ju[Ju.TEXTURE10=33994]="TEXTURE10",Ju[Ju.TEXTURE11=33995]="TEXTURE11",Ju[Ju.TEXTURE12=33996]="TEXTURE12",Ju[Ju.TEXTURE13=33997]="TEXTURE13",Ju[Ju.TEXTURE14=33998]="TEXTURE14",Ju[Ju.TEXTURE15=33999]="TEXTURE15",Ju[Ju.TEXTURE16=34e3]="TEXTURE16",Ju[Ju.TEXTURE17=34001]="TEXTURE17",Ju[Ju.TEXTURE18=34002]="TEXTURE18",Ju[Ju.TEXTURE19=34003]="TEXTURE19",Ju[Ju.TEXTURE20=34004]="TEXTURE20",Ju[Ju.TEXTURE21=34005]="TEXTURE21",Ju[Ju.TEXTURE22=34006]="TEXTURE22",Ju[Ju.TEXTURE23=34007]="TEXTURE23",Ju[Ju.TEXTURE24=34008]="TEXTURE24",Ju[Ju.TEXTURE25=34009]="TEXTURE25",Ju[Ju.TEXTURE26=34010]="TEXTURE26",Ju[Ju.TEXTURE27=34011]="TEXTURE27",Ju[Ju.TEXTURE28=34012]="TEXTURE28",Ju[Ju.TEXTURE29=34013]="TEXTURE29",Ju[Ju.TEXTURE30=34014]="TEXTURE30",Ju[Ju.TEXTURE31=34015]="TEXTURE31",Ju[Ju.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",Ju[Ju.REPEAT=10497]="REPEAT",Ju[Ju.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",Ju[Ju.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",Ju[Ju.FLOAT_VEC2=35664]="FLOAT_VEC2",Ju[Ju.FLOAT_VEC3=35665]="FLOAT_VEC3",Ju[Ju.FLOAT_VEC4=35666]="FLOAT_VEC4",Ju[Ju.INT_VEC2=35667]="INT_VEC2",Ju[Ju.INT_VEC3=35668]="INT_VEC3",Ju[Ju.INT_VEC4=35669]="INT_VEC4",Ju[Ju.BOOL=35670]="BOOL",Ju[Ju.BOOL_VEC2=35671]="BOOL_VEC2",Ju[Ju.BOOL_VEC3=35672]="BOOL_VEC3",Ju[Ju.BOOL_VEC4=35673]="BOOL_VEC4",Ju[Ju.FLOAT_MAT2=35674]="FLOAT_MAT2",Ju[Ju.FLOAT_MAT3=35675]="FLOAT_MAT3",Ju[Ju.FLOAT_MAT4=35676]="FLOAT_MAT4",Ju[Ju.SAMPLER_2D=35678]="SAMPLER_2D",Ju[Ju.SAMPLER_CUBE=35680]="SAMPLER_CUBE",Ju[Ju.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",Ju[Ju.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",Ju[Ju.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",Ju[Ju.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",Ju[Ju.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",Ju[Ju.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",Ju[Ju.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",Ju[Ju.COMPILE_STATUS=35713]="COMPILE_STATUS",Ju[Ju.LOW_FLOAT=36336]="LOW_FLOAT",Ju[Ju.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",Ju[Ju.HIGH_FLOAT=36338]="HIGH_FLOAT",Ju[Ju.LOW_INT=36339]="LOW_INT",Ju[Ju.MEDIUM_INT=36340]="MEDIUM_INT",Ju[Ju.HIGH_INT=36341]="HIGH_INT",Ju[Ju.FRAMEBUFFER=36160]="FRAMEBUFFER",Ju[Ju.RENDERBUFFER=36161]="RENDERBUFFER",Ju[Ju.RGBA4=32854]="RGBA4",Ju[Ju.RGB5_A1=32855]="RGB5_A1",Ju[Ju.RGB565=36194]="RGB565",Ju[Ju.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",Ju[Ju.STENCIL_INDEX=6401]="STENCIL_INDEX",Ju[Ju.STENCIL_INDEX8=36168]="STENCIL_INDEX8",Ju[Ju.DEPTH_STENCIL=34041]="DEPTH_STENCIL",Ju[Ju.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",Ju[Ju.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",Ju[Ju.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",Ju[Ju.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",Ju[Ju.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",Ju[Ju.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",Ju[Ju.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",Ju[Ju.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",Ju[Ju.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",Ju[Ju.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",Ju[Ju.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",Ju[Ju.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",Ju[Ju.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",Ju[Ju.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",Ju[Ju.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",Ju[Ju.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",Ju[Ju.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",Ju[Ju.NONE=0]="NONE",Ju[Ju.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",Ju[Ju.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",Ju[Ju.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",Ju[Ju.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",Ju[Ju.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",Ju[Ju.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",Ju[Ju.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",Ju[Ju.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",Ju[Ju.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",Ju[Ju.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",Ju[Ju.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",Ju[Ju.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",Ju[Ju.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",Ju[Ju.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",Ju[Ju.COPY_SRC=1]="COPY_SRC",Ju[Ju.COPY_DST=2]="COPY_DST",Ju[Ju.SAMPLED=4]="SAMPLED",Ju[Ju.STORAGE=8]="STORAGE",Ju[Ju.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT";var Is=($u=Object(Lr.injectable)(),ts=Object(Lr.inject)(Ur.GeometryComponentManager),es=Object(Lr.inject)(Ur.RenderEngine),$u((rs=function(){function t(){Er()(this,t),xr()(this,"geometry",os,this),xr()(this,"engine",is,this)}var e;return Tr()(t,[{key:"execute",value:(e=Rr()(Or.a.mark((function t(){var e=this;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.geometry.forEach((function(t,n){n.dirty&&(n.attributes.forEach((function(t){var n;t.dirty&&t.data&&(t.buffer?null===(n=t.buffer)||void 0===n||n.subData({data:t.data,offset:0}):t.buffer=e.engine.createBuffer({data:t.data,type:Qu.FLOAT}),t.dirty=!1)})),n.indices&&(n.indicesBuffer?n.indicesBuffer.subData({data:n.indices,offset:0}):n.indicesBuffer=e.engine.createElements({data:n.indices,count:n.indices.length,type:Qu.UNSIGNED_INT,usage:Qu.STATIC_DRAW})),n.dirty=!1)}));case 1:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"tearDown",value:function(){this.geometry.forEach((function(t,e){e.indicesBuffer&&e.indicesBuffer.destroy(),e.attributes.forEach((function(t){t.buffer&&t.buffer.destroy()}))})),this.geometry.clear()}},{key:"createBufferGeometry",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{vertexCount:3},e=t.vertexCount,n=Cr();return this.geometry.create(n,{vertexCount:e})}},{key:"createInstancedBufferGeometry",value:function(t){var e=t.maxInstancedCount,n=t.vertexCount,r=Cr();return this.geometry.create(r,{maxInstancedCount:e,vertexCount:n})}},{key:"createBox",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.widthSegments||1,n=t.heightSegments||1,r=t.depthSegments||1,o=t.halfExtents||i.fromValues(.5,.5,.5),a=jr()(o,3),u=a[0],s=a[1],c=a[2],f=[i.fromValues(-u,-s,c),i.fromValues(u,-s,c),i.fromValues(u,s,c),i.fromValues(-u,s,c),i.fromValues(u,-s,-c),i.fromValues(-u,-s,-c),i.fromValues(-u,s,-c),i.fromValues(u,s,-c)],l=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],h=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],d={FRONT:0,BACK:1,TOP:2,BOTTOM:3,RIGHT:4,LEFT:5},p=[],v=[],m=[],y=[],g=[],b=0,_=function(t,e,n){var r,o,a,u;for(a=0;a<=e;a++)for(u=0;u<=n;u++){var s=i.create(),c=i.create(),d=i.create(),_=i.create();i.lerp(s,f[l[t][0]],f[l[t][1]],a/e),i.lerp(c,f[l[t][0]],f[l[t][2]],u/n),i.sub(d,c,f[l[t][0]]),i.add(_,s,d),r=a/e,o=u/n,p.push(_[0],_[1],_[2]),v.push(h[t][0],h[t][1],h[t][2]),m.push(r,o),r=.875*(r/=3)+4/64,o=.875*(o/=3)+4/64,r+=t%3/3,o+=Math.floor(t/3)/3,y.push(r,o),a<e&&u<n&&(g.push(b+n+1,b+1,b),g.push(b+n+1,b+n+2,b+1)),b++}};_(d.FRONT,e,n),_(d.BACK,e,n),_(d.TOP,e,r),_(d.BOTTOM,e,r),_(d.RIGHT,r,n),_(d.LEFT,r,n);var x=As(p),w=Cr();return this.geometry.create(w,{indices:Uint32Array.from(g),aabb:x,attributes:[{dirty:!0,name:"position",data:Float32Array.from(p),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]}]})}}]),t}(),os=Ir()(rs.prototype,"geometry",[ts],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),is=Ir()(rs.prototype,"engine",[es],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ns=rs))||ns);n(169);function ks(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yr()(t);if(e){var o=Yr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr()(this,n)}}var Os,Ds,Rs,Ms,Cs,Ns,Ps,Gs,js,Ls=function(t){Wr()(n,t);var e=ks(n);function n(t){var r;return Er()(this,n),(r=e.call(this,t)).vertexShaderGLSL=void 0,r.fragmentShaderGLSL=void 0,r.dirty=!0,r.uniforms=[],r.cull={enable:!0,face:Qu.BACK},r.depth={enable:!0},r.blend=void 0,Object.assign(co()(r),t),r}return Tr()(n,[{key:"setCull",value:function(t){return this.cull=t,this}},{key:"setDepth",value:function(t){return this.depth=t,this}},{key:"setBlend",value:function(t){return this.blend=t,this}},{key:"setUniform",value:function(t,e){var n=this;if("string"!=typeof t)return Object.keys(t).forEach((function(e){return n.setUniform(e,t[e])})),this;var r=this.uniforms.find((function(e){return e.name===t}));return r?(r.dirty=!0,r.data=e):this.uniforms.push({name:t,dirty:!0,data:e}),this.dirty=!0,this}}]),n}(Nr);function Us(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Us(Object(n),!0).forEach((function(e){uo()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Us(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Fs,zs=(Os=Object(Lr.injectable)(),Ds=Object(Lr.inject)(Ur.MaterialComponentManager),Rs=Object(Lr.inject)(Ur.RenderEngine),Ms=Object(Lr.inject)(Ur.ShaderModuleService),Os((Ns=function(){function t(){Er()(this,t),xr()(this,"material",Ps,this),xr()(this,"engine",Gs,this),xr()(this,"shaderModule",js,this)}var e;return Tr()(t,[{key:"execute",value:(e=Rr()(Or.a.mark((function t(){return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(this.material.map(function(){var t=Rr()(Or.a.mark((function t(e,n){return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"tearDown",value:function(){this.material.clear()}},{key:"createBasicMaterial",value:function(){var t=Cr();return this.material.create(t,{vertexShaderGLSL:this.engine.supportWebGPU?"layout(set = 0, binding = 0) uniform Uniforms {\\n  vec4 color;\\n  mat4 projectionMatrix;\\n  mat4 modelViewMatrix;\\n} uniforms;\\n\\nlayout(location = 0) in vec3 position;\\n// layout(location = 1) in vec3 barycentric;\\n\\nlayout(location = 0) out vec4 fragColor;\\n// layout(location = 1) out vec3 v_Barycentric;\\n\\nvoid main() {\\n  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);\\n  fragColor = uniforms.color;\\n  // v_Barycentric = barycentric;\\n}":"attribute vec3 position;\\n\\nuniform mat4 projectionMatrix;\\nuniform mat4 modelViewMatrix;\\nuniform vec4 color;\\n\\nvarying vec4 fragColor;\\n\\nvoid main() {\\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n  fragColor = color;\\n}",fragmentShaderGLSL:this.engine.supportWebGPU?"// layout(set = 0, binding = 1) uniform WireframeUniforms {\\n//   float lineWidth;\\n//   vec4 lineColor;\\n// } wireframe;\\n\\nlayout(location = 0) in vec4 fragColor;\\n// layout(location = 1) in vec3 v_Barycentric;\\n\\nlayout(location = 0) out vec4 outColor;\\n\\n// wireframe\\n// float edgeFactor() {\\n//   vec3 d = fwidth(v_Barycentric);\\n//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);\\n//   return min(min(a3.x, a3.y), a3.z);\\n// }\\n\\nvoid main() {\\n  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));\\n  outColor = fragColor;\\n}":"varying vec4 fragColor;\\n\\nvoid main() {\\n  gl_FragColor = fragColor;\\n}"})}},{key:"createShaderMaterial",value:function(t){var e=Cr(),n=t.vertexShader,r=t.fragmentShader,o=[];if(!this.engine.supportWebGPU){var i="material-".concat(e);this.shaderModule.registerModule(i,{vs:t.vertexShader,fs:t.fragmentShader});var a=this.shaderModule.getModule(i);n=a.vs,r=a.fs,a.uniforms&&(o=Object.keys(a.uniforms).map((function(t){return{dirty:!0,name:t,data:a.uniforms[t]}})))}return this.material.create(e,Bs(Bs({vertexShaderGLSL:n,fragmentShaderGLSL:r},t),{},{uniforms:o}))}}]),t}(),Ps=Ir()(Ns.prototype,"material",[Ds],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gs=Ir()(Ns.prototype,"engine",[Rs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),js=Ir()(Ns.prototype,"shaderModule",[Ms],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cs=Ns))||Cs);function Vs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yr()(t);if(e){var o=Yr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr()(this,n)}}!function(t){t[t.Standard=0]="Standard"}(Fs||(Fs={}));var Ws=function(t){Wr()(n,t);var e=Vs(n);function n(t){var r;return Er()(this,n),(r=e.call(this,t)).strategy=Fs.Standard,r.visibilityPlaneMask=0,r.visible=!1,Object.assign(co()(r),t),r}return n}(Nr);n(170);function Xs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yr()(t);if(e){var o=Yr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr()(this,n)}}var Hs,qs=function(t){Wr()(n,t);var e=Xs(n);function n(t){var r;return Er()(this,n),(r=e.call(this,t)).material=void 0,r.geometry=void 0,r.aabb=new Ts,r.aabbDirty=!0,r.model=void 0,r.visible=!0,Object.assign(co()(r),t),r}return n}(Nr),Ys=function(){function t(e,n){Er()(this,t),this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=e||0,this.normal=n||i.fromValues(0,1,0),this.updatePNVertexFlag()}return Tr()(t,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(t){return i.dot(t,this.normal)-this.distance}},{key:"normalize",value:function(){var t=1/i.len(this.normal);i.scale(this.normal,this.normal,t),this.distance*=t}},{key:"intersectsLine",value:function(t,e,n){var r=this.distanceToPoint(t),o=r/(r-this.distanceToPoint(e)),a=o>=0&&o<=1;return a&&n&&i.lerp(n,t,e,o),a}}]),t}();!function(t){t[t.OUTSIDE=4294967295]="OUTSIDE",t[t.INSIDE=0]="INSIDE",t[t.INDETERMINATE=2147483647]="INDETERMINATE"}(Hs||(Hs={}));var Ks,Zs,Qs,Js,$s,tc,ec,nc,rc,oc,ic,ac,uc,sc=function(){function t(e){if(Er()(this,t),this.planes=[],e)this.planes=e;else for(var n=0;n<6;n++)this.planes.push(new Ys)}return Tr()(t,[{key:"extractFromVPMatrix",value:function(t){var e=jr()(t,16),n=e[0],r=e[1],o=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=e[9],d=e[10],p=e[11],v=e[12],m=e[13],y=e[14],g=e[15];i.set(this.planes[0].normal,a-n,f-u,p-l),this.planes[0].distance=-(g-v),i.set(this.planes[1].normal,a+n,f+u,p+l),this.planes[1].distance=-(g+v),i.set(this.planes[2].normal,a+r,f+s,p+h),this.planes[2].distance=-(g+m),i.set(this.planes[3].normal,a-r,f-s,p-h),this.planes[3].distance=-(g-m),i.set(this.planes[4].normal,a-o,f-c,p-d),this.planes[4].distance=-(g-y),i.set(this.planes[5].normal,a+o,f+c,p+d),this.planes[5].distance=-(g+y),this.planes.forEach((function(t){t.normalize(),t.updatePNVertexFlag()}))}}]),t}(),cc=n(35),fc=n.n(cc);function lc(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return hc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hc(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function hc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var dc,pc,vc,mc,yc,gc,bc,_c,xc,wc,Ec,Sc,Tc,Ac,Ic,kc,Oc,Dc,Rc,Mc,Cc,Nc,Pc,Gc,jc=(Ks=Object(Lr.injectable)(),Zs=Object(Lr.inject)(Ur.MeshComponentManager),Qs=Object(Lr.inject)(Ur.CullableComponentManager),Js=Object(Lr.inject)(Ur.GeometryComponentManager),$s=Object(Lr.inject)(Ur.HierarchyComponentManager),tc=Object(Lr.inject)(Ur.TransformComponentManager),Ks((nc=function(){function t(){Er()(this,t),xr()(this,"mesh",rc,this),xr()(this,"cullable",oc,this),xr()(this,"geometry",ic,this),xr()(this,"hierarchy",ac,this),xr()(this,"transform",uc,this),this.planes=void 0}var e;return Tr()(t,[{key:"setFrustumPlanes",value:function(t){this.planes=t}},{key:"execute",value:(e=Rr()(Or.a.mark((function t(e){var n,o,a,u=this;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=lc(e);try{for(a=function(){var t=o.value,e=(t.getScene(),t.getCamera());u.mesh.forEach((function(t,n){var o,a,s=u.hierarchy.getComponentByEntity(t),c=u.cullable.getComponentByEntity(t),f=n.geometry,l=u.transform.getComponentByEntity(t);if(f&&f.aabb&&l&&n.aabbDirty){var h=l.worldTransform,d=f.aabb,p=d.center,v=d.halfExtents,m=i.transformMat4(i.create(),p,h),y=(o=h,(a=r.create())[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[4],a[4]=o[5],a[5]=o[6],a[6]=o[8],a[7]=o[9],a[8]=o[10],a),g=i.transformMat3(i.create(),v,y);n.aabb.update(m,g),n.aabbDirty=!1}if(c&&f){var b=u.cullable.getComponentByEntity((null==s?void 0:s.parentID)||-1);c.visibilityPlaneMask=u.computeVisibilityWithPlaneMask(n.aabb,(null==b?void 0:b.visibilityPlaneMask)||Hs.INDETERMINATE,u.planes||e.getFrustum().planes),c.visible=c.visibilityPlaneMask!==Hs.OUTSIDE}}))},n.s();!(o=n.n()).done;)a()}catch(t){n.e(t)}finally{n.f()}case 2:case"end":return t.stop()}}),t)}))),function(t){return e.apply(this,arguments)})},{key:"tearDown",value:function(){this.cullable.clear(),this.mesh.clear()}},{key:"computeVisibilityWithPlaneMask",value:function(t,e,n){if(e===Hs.OUTSIDE||e===Hs.INSIDE)return e;for(var r=Hs.INSIDE,o=0,a=n.length;o<a;++o){var u=o<31?1<<o:0;if(!(o<31&&0==(e&u))){var s=n[o],c=s.normal,f=s.distance;if(i.dot(c,t.getNegativeFarPoint(n[o]))+f>0)return Hs.OUTSIDE;i.dot(c,t.getPositiveFarPoint(n[o]))+f>0&&(r|=u)}}return r}}]),t}(),rc=Ir()(nc.prototype,"mesh",[Zs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oc=Ir()(nc.prototype,"cullable",[Qs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ic=Ir()(nc.prototype,"geometry",[Js],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ac=Ir()(nc.prototype,"hierarchy",[$s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uc=Ir()(nc.prototype,"transform",[tc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ec=nc))||ec);function Lc(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Uc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uc(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Uc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Bc,Fc,zc,Vc,Wc,Xc,Hc,qc,Yc,Kc,Zc,Qc,Jc,$c,tf,ef,nf,rf,of,af,uf,sf,cf=(dc=Object(Lr.injectable)(),pc=Object(Lr.inject)(Ur.MeshComponentManager),vc=Object(Lr.inject)(Ur.GeometryComponentManager),mc=Object(Lr.inject)(Ur.MaterialComponentManager),yc=Object(Lr.inject)(Ur.CullableComponentManager),gc=Object(Lr.inject)(Ur.TransformComponentManager),bc=Object(Lr.inject)(Ur.HierarchyComponentManager),_c=Object(Lr.inject)(Ur.Systems),xc=Object(Lr.named)(Ur.FrameGraphSystem),wc=Object(Lr.inject)(Ur.RenderEngine),Ec=Object(Lr.inject)(Ur.ResourcePool),dc((Gc=Pc=function(){function t(){var e=this;Er()(this,t),xr()(this,"mesh",Ac,this),xr()(this,"geometry",Ic,this),xr()(this,"material",kc,this),xr()(this,"cullable",Oc,this),xr()(this,"transform",Dc,this),xr()(this,"hierarchy",Rc,this),xr()(this,"frameGraphSystem",Mc,this),xr()(this,"engine",Cc,this),xr()(this,"resourcePool",Nc,this),this.setup=function(t,e,n){var r=t.createRenderTarget(e,"color buffer",{width:1,height:1,usage:Qu.RENDER_ATTACHMENT|Qu.SAMPLED|Qu.COPY_SRC});n.data={output:e.write(t,r)}},this.execute=function(){var t=Rr()(Or.a.mark((function t(n,r,o){var i,a,u,s,c,f;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.getResourceNode(r.data.output),a=e.resourcePool.getOrCreateResource(i.resource),u=Lc(o),t.prev=3,u.s();case 5:if((s=u.n()).done){t.next=11;break}return c=s.value,t.next=9,e.initView(c);case 9:t.next=5;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),u.e(t.t0);case 16:return t.prev=16,u.f(),t.finish(16);case 19:f=e.engine.getCanvas(),a.resize({width:f.width,height:f.height}),e.engine.setScissor({enable:!1}),e.engine.clear({framebuffer:a,color:o[0].getClearColor(),depth:1}),e.engine.useFramebuffer(a,(function(){var t,n=Lc(o);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.renderView(r)}}catch(t){n.e(t)}finally{n.f()}}));case 24:case"end":return t.stop()}}),t,null,[[3,13,16,19]])})));return function(e,n,r){return t.apply(this,arguments)}}()}var e,n;return Tr()(t,[{key:"renderView",value:function(t){var e=t.getScene(),n=t.getCamera(),r=n.getViewTransform(),i=o.multiply(o.create(),n.getPerspective(),r);n.getFrustum().extractFromVPMatrix(i);var a=t.getViewport(),u=a.x,s=a.y,c=a.width,f=a.height;this.engine.viewport({x:u,y:s,width:c,height:f});var l,h=Lc(e.getEntities());try{for(h.s();!(l=h.n()).done;){var d=l.value;this.renderMesh(d,{camera:n,view:t,viewMatrix:r})}}catch(t){h.e(t)}finally{h.f()}}},{key:"renderMesh",value:function(t,e){var n=this,r=e.camera,i=e.view,a=e.viewMatrix,u=this.mesh.getComponentByEntity(t);if(u.visible){this.hierarchy.forEach((function(e,o){o.parentID===t&&n.renderMesh(e,{camera:r,view:i,viewMatrix:a})}));var s=u.material,c=u.geometry;if(c&&!c.dirty&&s){var f=this.transform.getComponentByEntity(t),l=o.multiply(o.create(),a,f.worldTransform),h=i.getViewport(),d=h.width,p=h.height;s.setUniform({projectionMatrix:r.getPerspective(),modelViewMatrix:l,modelMatrix:f.worldTransform,viewMatrix:a,cameraPosition:r.getPosition(),u_viewport:[d,p]}),u.model&&(u.model.draw({uniforms:s.uniforms.reduce((function(t,e){return t[e.name]=e.data,t}),{})}),s.uniforms.forEach((function(t){t.dirty=!1})),s.dirty=!1)}}}},{key:"initMesh",value:(n=Rr()(Or.a.mark((function t(e,n){var r,o,i,a,u,s,c,f=this;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.mesh.getComponentByEntity(e)){t.next=3;break}return t.abrupt("return");case 3:return o=r.material,i=r.geometry,t.next=7,this.hierarchy.forEachAsync(function(){var t=Rr()(Or.a.mark((function t(r,o){return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o.parentID!==e){t.next=4;break}return t.next=4,f.initMesh(r,n);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 7:if(i&&!i.dirty&&o){t.next=9;break}return t.abrupt("return");case 9:if(r.model){t.next=21;break}return o.setUniform({projectionMatrix:1,modelViewMatrix:1,modelMatrix:1,viewMatrix:1,cameraPosition:1,u_viewport:1}),a=this.engine,u=a.createModel,s=a.createAttribute,c={vs:o.vertexShaderGLSL,fs:o.fragmentShaderGLSL,attributes:i.attributes.reduce((function(t,e){return e.data&&e.buffer&&(t[e.name]=s({buffer:e.buffer,attributes:e.attributes,arrayStride:e.arrayStride,stepMode:e.stepMode,divisor:"vertex"===e.stepMode?0:1})),t}),{}),uniforms:o.uniforms.reduce((function(t,e){return t[e.name]=e.data,t}),{}),scissor:{enable:!0,box:function(){return n.getViewport()}}},o.cull&&(c.cull=o.cull),o.depth&&(c.depth=o.depth),o.blend&&(c.blend=o.blend),i.indicesBuffer&&(c.elements=i.indicesBuffer),i.maxInstancedCount&&(c.instances=i.maxInstancedCount,c.count=i.vertexCount||3),t.next=20,u(c);case 20:r.model=t.sent;case 21:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"initView",value:(e=Rr()(Or.a.mark((function t(e){var n,r,o,i;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.getScene(),r=Lc(n.getEntities()),t.prev=2,r.s();case 4:if((o=r.n()).done){t.next=10;break}return i=o.value,t.next=8,this.initMesh(i,e);case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),r.e(t.t0);case 15:return t.prev=15,r.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[2,12,15,18]])}))),function(t){return e.apply(this,arguments)})}]),t}(),Pc.IDENTIFIER="Render Pass",Tc=Gc,Ac=Ir()(Tc.prototype,"mesh",[pc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ic=Ir()(Tc.prototype,"geometry",[vc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kc=Ir()(Tc.prototype,"material",[mc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oc=Ir()(Tc.prototype,"cullable",[yc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dc=Ir()(Tc.prototype,"transform",[gc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rc=Ir()(Tc.prototype,"hierarchy",[bc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mc=Ir()(Tc.prototype,"frameGraphSystem",[_c,xc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cc=Ir()(Tc.prototype,"engine",[wc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nc=Ir()(Tc.prototype,"resourcePool",[Ec],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sc=Tc))||Sc),ff=(Bc=Object(Lr.injectable)(),Fc=Object(Lr.inject)(Ur.RenderEngine),zc=Object(Lr.inject)(Ur.ResourcePool),Bc((Yc=qc=function t(){var e=this;Er()(this,t),xr()(this,"engine",Xc,this),xr()(this,"resourcePool",Hc,this),this.model=void 0,this.setup=function(t,e,n){var r=t.getPass(cf.IDENTIFIER);if(r){var o=t.createRenderTarget(e,"render to screen",{width:1,height:1});n.data={input:e.read(r.data.output),output:e.write(t,o)}}},this.execute=function(){var t=Rr()(Or.a.mark((function t(n,r){var o,i,a,u,s,c,f;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.engine,i=o.createModel,a=o.createAttribute,u=o.createBuffer,e.model){t.next=6;break}return t.next=4,i({vs:e.engine.supportWebGPU?"layout(location = 0) in vec2 a_Position;\\nlayout(location = 0) out vec2 v_UV;\\n\\nvoid main() {\\n  v_UV = 0.5 * (a_Position + 1.0);\\n  gl_Position = vec4(a_Position, 0., 1.);\\n}":"attribute vec2 a_Position;\\n\\nvarying vec2 v_UV;\\n\\nvoid main() {\\n  v_UV = 0.5 * (a_Position + 1.0);\\n  gl_Position = vec4(a_Position, 0., 1.);\\n}",fs:e.engine.supportWebGPU?"layout(set = 0, binding = 0) uniform sampler u_TextureSampler;\\nlayout(set = 0, binding = 1) uniform texture2D u_Texture;\\n\\nlayout(location = 0) in vec2 v_UV;\\nlayout(location = 0) out vec4 outColor;\\n\\nvoid main() {\\n  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);\\n}":"varying vec2 v_UV;\\n\\nuniform sampler2D u_Texture;\\n\\nvoid main() {\\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\\n}",attributes:{a_Position:a({buffer:u({data:[-4,-4,4,-4,0,4],type:Qu.FLOAT}),size:2,arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})},uniforms:{u_Texture:null},depth:{enable:!1},count:3,blend:{enable:!0}});case 4:s=t.sent,e.model=s;case 6:c=n.getResourceNode(r.data.input),f=e.resourcePool.getOrCreateResource(c.resource),e.engine.useFramebuffer(null,(function(){e.engine.clear({framebuffer:null,color:[0,0,0,0],depth:1,stencil:0}),e.model.draw({uniforms:{u_Texture:f}})}));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),this.tearDown=function(){e.model=void 0}},qc.IDENTIFIER="Copy Pass",Wc=Yc,Xc=Ir()(Wc.prototype,"engine",[Fc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hc=Ir()(Wc.prototype,"resourcePool",[zc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vc=Wc))||Vc);function lf(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return hf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hf(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function hf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var df,pf,vf,mf,yf,gf,bf,_f,xf,wf,Ef,Sf,Tf=1,Af=2,If=(Kc=Object(Lr.injectable)(),Zc=Object(Lr.inject)(Ur.RenderEngine),Qc=Object(Lr.inject)(Ur.ResourcePool),Jc=Object(Lr.inject)(Ur.RenderPassFactory),$c=Object(Lr.inject)(Ur.MeshComponentManager),Kc((sf=uf=function(){function t(){var e=this;Er()(this,t),xr()(this,"engine",nf,this),xr()(this,"resourcePool",rf,this),xr()(this,"renderPassFactory",of,this),xr()(this,"mesh",af,this),this.pickingFBO=void 0,this.views=void 0,this.highlightEnabled=!0,this.highlightColor=[255,0,0,255],this.alreadyInRendering=!1,this.setup=function(t,e,n){var r=t.createRenderTarget(e,"picking fbo",{width:1,height:1});n.data={output:e.write(t,r)},e.hasSideEffect=!0},this.execute=function(){var t=Rr()(Or.a.mark((function t(n,r,o){var i,a,u;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.views=o,!e.alreadyInRendering){t.next=3;break}return t.abrupt("return");case 3:i=lf(o);try{for(u=function(){var t=a.value,o=t.getViewport(),i=o.width,u=o.height;e.alreadyInRendering=!0;var s=n.getResourceNode(r.data.output);e.pickingFBO=e.resourcePool.getOrCreateResource(s.resource),e.pickingFBO.resize({width:i,height:u}),e.engine.useFramebuffer(e.pickingFBO,(function(){e.engine.clear({framebuffer:e.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var n,r=e.renderPassFactory(cf.IDENTIFIER),o=[],i=lf(t.getScene().getEntities());try{for(i.s();!(n=i.n()).done;){var a=n.value,u=e.mesh.getComponentByEntity(a);u.material.setUniform("u_PickingStage",Tf),o.push(u)}}catch(t){i.e(t)}finally{i.f()}r.renderView(t),o.forEach((function(t){t.material.setUniform("u_PickingStage",Af)})),e.alreadyInRendering=!1}))},i.s();!(a=i.n()).done;)u()}catch(t){i.e(t)}finally{i.f()}case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),this.pick=function(t,n){var r,o,i=t.x,a=t.y,u=e.engine,s=u.readPixels,c=u.useFramebuffer,f=n.getViewport(),l=f.width,h=f.height,d=i*window.devicePixelRatio,p=a*window.devicePixelRatio;if(!(d>l||d<0||p>h||p<0))return c(e.pickingFBO,(function(){var t,i;0===(r=s({x:Math.round(d),y:Math.round(h-(a+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(4),framebuffer:e.pickingFBO}))[0]&&0===r[1]&&0===r[2]||(t=r,i=jr()(t,3),o=i[0]+256*i[1]+65536*i[2]-1,e.highlightEnabled&&e.highlightPickedFeature(r,n))})),o}}return Tr()(t,[{key:"enableHighlight",value:function(t){this.highlightEnabled=t}},{key:"setHighlightColor",value:function(t){this.highlightColor=t}},{key:"highlightPickedFeature",value:function(t,e){if(t){var n,r=lf(e.getScene().getEntities());try{for(r.s();!(n=r.n()).done;){var o=n.value,i=this.mesh.getComponentByEntity(o).material;i.setUniform("u_PickingStage",Af),i.setUniform("u_PickingColor",[t[0],t[1],t[2]]),i.setUniform("u_HighlightColor",this.highlightColor)}}catch(t){r.e(t)}finally{r.f()}}}}]),t}(),uf.IDENTIFIER="PixelPicking Pass",ef=sf,nf=Ir()(ef.prototype,"engine",[Zc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rf=Ir()(ef.prototype,"resourcePool",[Qc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),of=Ir()(ef.prototype,"renderPassFactory",[Jc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),af=Ir()(ef.prototype,"mesh",[$c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tf=ef))||tf),kf=(df=Object(Lr.injectable)(),pf=Object(Lr.inject)(Ur.Systems),vf=Object(Lr.named)(Ur.FrameGraphSystem),mf=Object(Lr.inject)(Ur.RenderPassFactory),yf=Object(Lr.inject)(Ur.ConfigService),gf=Object(Lr.inject)(Ur.ResourcePool),df((_f=function(){function t(){Er()(this,t),xr()(this,"frameGraphSystem",xf,this),xr()(this,"renderPassFactory",wf,this),xr()(this,"configService",Ef,this),xr()(this,"resourcePool",Sf,this)}var e;return Tr()(t,[{key:"execute",value:(e=Rr()(Or.a.mark((function t(e){var n,r,o,i,a,u,s,c;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.renderPassFactory(cf.IDENTIFIER),r=n.setup,o=n.execute,this.frameGraphSystem.addPass(cf.IDENTIFIER,r,o),i=this.renderPassFactory(ff.IDENTIFIER),a=i.setup,u=i.execute,s=i.tearDown,c=this.frameGraphSystem.addPass(ff.IDENTIFIER,a,u,s),this.frameGraphSystem.present(c.data.output);case 5:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"tearDown",value:function(){this.resourcePool.clean()}},{key:"pick",value:function(t,e){return this.renderPassFactory(If.IDENTIFIER).pick(t,e)}}]),t}(),xf=Ir()(_f.prototype,"frameGraphSystem",[pf,vf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wf=Ir()(_f.prototype,"renderPassFactory",[mf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ef=Ir()(_f.prototype,"configService",[yf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sf=Ir()(_f.prototype,"resourcePool",[gf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bf=_f))||bf);function Of(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yr()(t);if(e){var o=Yr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr()(this,n)}}var Df,Rf,Mf,Cf,Nf,Pf,Gf,jf,Lf,Uf=function(t){Wr()(n,t);var e=Of(n);function n(t){var r;return Er()(this,n),(r=e.call(this,t)).parentID=void 0,Object.assign(co()(r),t),r}return n}(Nr),Bf=(Df=Object(Lr.injectable)(),Rf=Object(Lr.inject)(Ur.HierarchyComponentManager),Mf=Object(Lr.inject)(Ur.TransformComponentManager),Cf=Object(Lr.inject)(Ur.MeshComponentManager),Df((Pf=function(){function t(){Er()(this,t),xr()(this,"hierarchy",Gf,this),xr()(this,"transform",jf,this),xr()(this,"mesh",Lf,this)}var e;return Tr()(t,[{key:"execute",value:(e=Rr()(Or.a.mark((function t(){return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.runTransformUpdateSystem(),this.runHierarchyUpdateSystem();case 2:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"tearDown",value:function(){this.hierarchy.clear(),this.transform.clear()}},{key:"getHierarchyComponentManager",value:function(){return this.hierarchy}},{key:"getTransformComponentManager",value:function(){return this.transform}},{key:"runTransformUpdateSystem",value:function(){var t=this;this.transform.forEach((function(e,n){n.isDirty()&&(t.setMeshAABBDirty(e),n.updateTransform())}))}},{key:"runHierarchyUpdateSystem",value:function(){var t=this;this.hierarchy.forEach((function(e,n){var r=t.transform.getComponentByEntity(e),o=t.transform.getComponentByEntity(n.parentID);null!==r&&null!==o&&r.updateTransformWithParent(o)}))}},{key:"attach",value:function(t,e,n){if(this.hierarchy.contains(t)&&this.detach(t),this.hierarchy.create(t,{parentID:e}),this.setMeshAABBDirty(e),this.hierarchy.getCount()>1)for(var r=this.hierarchy.getCount()-1;r>0;--r)for(var i=this.hierarchy.getEntity(r),a=0;a<r;++a){if(this.hierarchy.getComponent(a).parentID===i){this.hierarchy.moveItem(r,a),++r;break}}this.hierarchy.getComponentByEntity(t);var u=this.transform.getComponentByEntity(e);null===u&&(u=this.transform.create(e));var s=this.transform.getComponentByEntity(t);null===s&&(s=this.transform.create(t),u=this.transform.getComponentByEntity(e)),!n&&u&&(s.matrixTransform(o.invert(o.create(),u.worldTransform)),s.updateTransform()),u&&s.updateTransformWithParent(u)}},{key:"detach",value:function(t){if(null!==this.hierarchy.getComponentByEntity(t)){var e=this.transform.getComponentByEntity(t);null!==e&&e.applyTransform(),this.hierarchy.removeKeepSorted(t),this.setMeshAABBDirty(t)}}},{key:"detachChildren",value:function(t){for(var e=0;e<this.hierarchy.getCount();){var n;if((null===(n=this.hierarchy.getComponent(e))||void 0===n?void 0:n.parentID)===t){var r=this.hierarchy.getEntity(e);this.detach(r)}else++e}}},{key:"setMeshAABBDirty",value:function(t){var e=this.mesh.getComponentByEntity(t);e&&(e.aabbDirty=!0)}}]),t}(),Gf=Ir()(Pf.prototype,"hierarchy",[Rf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jf=Ir()(Pf.prototype,"transform",[Mf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lf=Ir()(Pf.prototype,"mesh",[Cf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nf=Pf))||Nf);function Ff(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yr()(t);if(e){var o=Yr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr()(this,n)}}var zf=function(t){Wr()(n,t);var e=Ff(n);function n(t){var r,a,s,c,f,l,h,d,p,v,m,y,g,b,_;return Er()(this,n),(r=e.call(this,t)).dirtyFlag=void 0,r.localTranslation=i.fromValues(0,0,0),r.localRotation=u.fromValues(0,0,0,1),r.localScale=i.fromValues(1,1,1),r.localTransform=o.create(),r.worldTransform=o.create(),r.getRotation=(a=u.create(),function(){return o.getRotation(a,r.worldTransform),a}),r.getScale=(s=i.create(),function(){return o.getScaling(s,r.worldTransform),s}),r.getPosition=(c=i.create(),function(){return o.getTranslation(c,r.worldTransform),c}),r.getLocalMatrix=(f=o.create(),function(){return o.fromRotationTranslationScale(f,r.localRotation,r.localTranslation,r.localScale),f}),r.matrixTransform=(l=o.create(),function(t){o.multiply(l,r.getLocalMatrix(),t),o.getScaling(r.localScale,l),o.getTranslation(r.localTranslation,l),o.getRotation(r.localRotation,l)}),r.rotateRollPitchYaw=(h=u.create(),d=u.create(),p=u.create(),function(t,e,n){r.setDirty(),u.fromEuler(h,t,0,0),u.fromEuler(d,0,e,0),u.fromEuler(p,0,0,n),u.multiply(r.localRotation,h,r.localRotation),u.multiply(r.localRotation,r.localRotation,d),u.multiply(r.localRotation,p,r.localRotation),u.normalize(r.localRotation,r.localRotation)}),r.lerp=(v=i.create(),m=u.create(),y=i.create(),g=i.create(),b=u.create(),_=i.create(),function(t,e,n){r.setDirty(),o.getScaling(v,t.worldTransform),o.getTranslation(y,t.worldTransform),o.getRotation(m,t.worldTransform),o.getScaling(g,e.worldTransform),o.getTranslation(_,e.worldTransform),o.getRotation(b,e.worldTransform),i.lerp(r.localScale,v,g,n),u.slerp(r.localRotation,m,b,n),i.lerp(r.localTranslation,y,_,n)}),r}return Tr()(n,[{key:"isDirty",value:function(){return this.dirtyFlag}},{key:"setDirty",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?this.dirtyFlag|=n.DIRTY:this.dirtyFlag&=~n.DIRTY}},{key:"updateTransform",value:function(){this.isDirty()&&(this.setDirty(!1),o.copy(this.worldTransform,this.getLocalMatrix()))}},{key:"updateTransformWithParent",value:function(t){o.multiply(this.worldTransform,this.getLocalMatrix(),t.worldTransform)}},{key:"applyTransform",value:function(){this.setDirty(),o.getScaling(this.localScale,this.worldTransform),o.getTranslation(this.localTranslation,this.worldTransform),o.getRotation(this.localRotation,this.worldTransform)}},{key:"clearTransform",value:function(){this.setDirty(),this.localTranslation=i.fromValues(0,0,0),this.localRotation=u.fromValues(0,0,0,1),this.localScale=i.fromValues(1,1,1)}},{key:"translate",value:function(t){return this.setDirty(),i.add(this.localTranslation,this.localTranslation,t),this}},{key:"scale",value:function(t){return this.setDirty(),i.multiply(this.localScale,this.localScale,t),this}},{key:"rotate",value:function(t){return this.setDirty(),u.multiply(this.localRotation,this.localRotation,t),u.normalize(this.localRotation,this.localRotation),this}}]),n}(Nr);zf.DIRTY=1;n(93),n(94),n(171),n(95),n(96),n(73),n(97),n(27),n(98),n(172);var Vf,Wf,Xf,Hf,qf,Yf=n(103),Kf=n(187),Zf=n.n(Kf),Qf=(Vf=Object(Lr.injectable)(),Wf=Object(Lr.inject)(Ur.RenderEngine),Vf((Hf=function(){function t(){Er()(this,t),xr()(this,"engine",qf,this),this.resourcePool={}}return Tr()(t,[{key:"getOrCreateResource",value:function(t){if(!this.resourcePool[t.name]){var e=t.descriptor,n=e.width,r=e.height,o=e.usage;this.resourcePool[t.name]=this.engine.createFramebuffer({color:this.engine.createTexture2D({width:n,height:r,wrapS:Qu.CLAMP_TO_EDGE,wrapT:Qu.CLAMP_TO_EDGE,usage:o})})}return this.resourcePool[t.name]}},{key:"clean",value:function(){this.resourcePool={}}}]),t}(),qf=Ir()(Hf.prototype,"engine",[Wf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xf=Hf))||Xf);function Jf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yr()(t);if(e){var o=Yr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr()(this,n)}}var $f,tl,el=function(t){Wr()(n,t);var e=Jf(n);function n(t){var r;return Er()(this,n),(r=e.call(this,t)).name=void 0,r.name=t.name||"",r}return n}(Nr),nl=Object(Lr.injectable)()($f=function(){function t(){Er()(this,t),this.config=void 0}return Tr()(t,[{key:"get",value:function(){return this.config}},{key:"set",value:function(t){this.config=t}}]),t}())||$f,rl=Object(Lr.injectable)()(tl=function(){function t(){Er()(this,t)}return Tr()(t,[{key:"listen",value:function(t){}},{key:"on",value:function(t,e){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){}}]),t}())||tl,ol=n(188),il=n.n(ol);var al,ul=/uniform\\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\\s+([\\s\\S]*?);/g;function sl(t){var e={};return{content:t=t.replace(ul,(function(t,n,r){var o=r.split(":"),i=o[0].trim(),a="";switch(o.length>1&&(a=o[1].trim()),n){case"bool":a="true"===a;break;case"float":case"int":a=Number(a);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":a=a?a.replace("[","").replace("]","").split(",").reduce((function(t,e){return t.push(Number(e.trim())),t}),[]):new Array(function(t){var e=0;switch(t){case"vec2":case"ivec2":e=2;break;case"vec3":case"ivec3":e=3;break;case"vec4":case"ivec4":case"mat2":e=4;break;case"mat3":e=9;break;case"mat4":e=16}return e}(n)).fill(0)}return e[i]=a,"uniform ".concat(n," ").concat(i,";\\n")})),uniforms:e}}function cl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cl(Object(n),!0).forEach((function(e){uo()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ll=/precision\\s+(high|low|medium)p\\s+float/,hl=/#pragma include (["^+"]?["\\ "[a-zA-Z_0-9](.*)"]*?)/g,dl=Object(Lr.injectable)()(al=function(){function t(){Er()(this,t),this.moduleCache={},this.rawContentCache={}}return Tr()(t,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("picking",{vs:"attribute vec3 a_PickingColor;\\nvarying vec4 v_PickingResult;\\n\\nuniform vec3 u_PickingColor : [0, 0, 0];\\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\\nuniform float u_PickingStage : 0.0;\\nuniform float u_PickingThreshold : 1.0;\\nuniform float u_PickingBuffer: 0.0;\\n\\n#define PICKING_ENCODE 1.0\\n#define PICKING_HIGHLIGHT 2.0\\n#define COLOR_SCALE 1. / 255.\\n\\nbool isVertexPicked(vec3 vertexColor) {\\n  return\\n    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&\\n    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&\\n    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;\\n}\\n\\nvoid setPickingColor(vec3 pickingColor) {\\n  // compares only in highlight stage\\n  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));\\n\\n  // Stores the picking color so that the fragment shader can render it during picking\\n  v_PickingResult.rgb = pickingColor * COLOR_SCALE;\\n}\\n\\nfloat setPickingSize(float x) {\\n   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;\\n}",fs:"varying vec4 v_PickingResult;\\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\\nuniform float u_PickingStage : 0.0;\\n\\n#define PICKING_ENCODE 1.0\\n#define PICKING_HIGHLIGHT 2.0\\n#define COLOR_SCALE 1. / 255.\\n\\n/*\\n * Returns highlight color if this item is selected.\\n */\\nvec4 filterHighlightColor(vec4 color) {\\n  bool selected = bool(v_PickingResult.a);\\n\\n  if (selected) {\\n    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;\\n\\n    float highLightAlpha = highLightColor.a;\\n    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));\\n\\n    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\\n    return vec4(resultRGB, color.a);\\n  } else {\\n    return color;\\n  }\\n}\\n\\n/*\\n * Returns picking color if picking enabled else unmodified argument.\\n */\\nvec4 filterPickingColor(vec4 color) {\\n  vec3 pickingColor = v_PickingResult.rgb;\\n  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {\\n    discard;\\n  }\\n  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;\\n}\\n\\n/*\\n * Returns picking color if picking is enabled if not\\n * highlight color if this item is selected, otherwise unmodified argument.\\n */\\nvec4 filterColor(vec4 color) {\\n  return filterPickingColor(filterHighlightColor(color));\\n}\\n"}),this.registerModule("sdf2d",{vs:"",fs:"/**\\n * 2D signed distance field functions\\n * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm\\n */\\n\\nfloat ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }\\n\\nfloat sdCircle(vec2 p, float r) {\\n  return length(p) - r;\\n}\\n\\nfloat sdEquilateralTriangle(vec2 p) {\\n  float k = sqrt(3.0);\\n  p.x = abs(p.x) - 1.0;\\n  p.y = p.y + 1.0/k;\\n  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\\n  p.x -= clamp( p.x, -2.0, 0.0 );\\n  return -length(p)*sign(p.y);\\n}\\n\\nfloat sdBox(vec2 p, vec2 b) {\\n  vec2 d = abs(p)-b;\\n  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);\\n}\\n\\nfloat sdPentagon(vec2 p, float r) {\\n  vec3 k = vec3(0.809016994,0.587785252,0.726542528);\\n  p.x = abs(p.x);\\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\\n  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);\\n  return length(p)*sign(p.y);\\n}\\n\\nfloat sdHexagon(vec2 p, float r) {\\n  vec3 k = vec3(-0.866025404,0.5,0.577350269);\\n  p = abs(p);\\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\\n  return length(p)*sign(p.y);\\n}\\n\\nfloat sdOctogon(vec2 p, float r) {\\n  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );\\n  p = abs(p);\\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\\n  return length(p)*sign(p.y);\\n}\\n\\nfloat sdHexagram(vec2 p, float r) {\\n  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);\\n  p = abs(p);\\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\\n  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;\\n  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);\\n  return length(p)*sign(p.y);\\n}\\n\\nfloat sdRhombus(vec2 p, vec2 b) {\\n  vec2 q = abs(p);\\n  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);\\n  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );\\n  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );\\n}\\n\\nfloat sdVesica(vec2 p, float r, float d) {\\n  p = abs(p);\\n  float b = sqrt(r*r-d*d); // can delay this sqrt\\n  return ((p.y-b)*d>p.x*b)\\n          ? length(p-vec2(0.0,b))\\n          : length(p-vec2(-d,0.0))-r;\\n}"})}},{key:"registerModule",value:function(t,e){if(!this.rawContentCache[t]){var n=e.vs,r=e.fs,o=e.uniforms,i=sl(n),a=i.content,u=i.uniforms,s=sl(r),c=s.content,f=s.uniforms;this.rawContentCache[t]={fs:c,uniforms:fl(fl(fl({},u),f),o),vs:a}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(t){var e=this;if(this.moduleCache[t])return this.moduleCache[t];var n=this.rawContentCache[t].vs,r=this.rawContentCache[t].fs,o=this.processModule(n,[],"vs"),i=o.content,a=o.includeList,u=this.processModule(r,[],"fs"),s=u.content,c=u.includeList,f=s,l=il()(a.concat(c).concat(t)).reduce((function(t,n){return fl(fl({},t),e.rawContentCache[n].uniforms)}),{});return ll.test(s)||(f="#ifdef GL_FRAGMENT_PRECISION_HIGH\\n precision highp float;\\n #else\\n precision mediump float;\\n#endif\\n"+s),this.moduleCache[t]={fs:f.trim(),uniforms:l,vs:i.trim()},this.moduleCache[t]}},{key:"processModule",value:function(t,e,n){var r=this;return{content:t.replace(hl,(function(t,o){var i=o.split(" ")[0].replace(/"/g,"");if(e.indexOf(i)>-1)return"";var a=r.rawContentCache[i][n];return e.push(i),r.processModule(a,e,n).content})),includeList:e}}}]),t}())||al,pl=new Lr.Container;Object(Lr.decorate)(Object(Lr.injectable)(),Yf.EventEmitter),pl.bind(Ur.IEventEmitter).to(Yf.EventEmitter);Zf()(pl,!1);function vl(){var t=new Lr.Container;return t.parent=pl,t.bind(Ur.Systems).to(Bf).inSingletonScope().whenTargetNamed(Ur.SceneGraphSystem),t.bind(Ur.Systems).to(io).inSingletonScope().whenTargetNamed(Ur.FrameGraphSystem),t.bind(Ur.Systems).to(jc).inSingletonScope().whenTargetNamed(Ur.MeshSystem),t.bind(Ur.Systems).to(Is).inSingletonScope().whenTargetNamed(Ur.GeometrySystem),t.bind(Ur.Systems).to(zs).inSingletonScope().whenTargetNamed(Ur.MaterialSystem),t.bind(Ur.Systems).to(kf).inSingletonScope().whenTargetNamed(Ur.RendererSystem),t.bind(Ur.ResourcePool).to(Qf).inSingletonScope(),t.bind(Ur.ConfigService).to(nl).inSingletonScope(),t.bind(Ur.InteractorService).to(rl).inSingletonScope(),t.bind(Ur.RenderPass).to(cf).inSingletonScope().whenTargetNamed(cf.IDENTIFIER),t.bind(Ur.RenderPass).to(ff).inSingletonScope().whenTargetNamed(ff.IDENTIFIER),t.bind(Ur.RenderPass).to(If).inSingletonScope().whenTargetNamed(If.IDENTIFIER),t.bind(Ur.RenderPassFactory).toFactory((function(t){return function(e){return t.container.getNamed(Ur.RenderPass,e)}})),t}pl.bind(Ur.ShaderModuleService).to(dl).inSingletonScope(),pl.bind(Ur.NameComponentManager).toConstantValue(new Pr(el)),pl.bind(Ur.HierarchyComponentManager).toConstantValue(new Pr(Uf)),pl.bind(Ur.TransformComponentManager).toConstantValue(new Pr(zf)),pl.bind(Ur.MeshComponentManager).toConstantValue(new Pr(qs)),pl.bind(Ur.CullableComponentManager).toConstantValue(new Pr(Ws)),pl.bind(Ur.GeometryComponentManager).toConstantValue(new Pr(po)),pl.bind(Ur.MaterialComponentManager).toConstantValue(new Pr(Ls));var ml;n(173),n(99);!function(t){t.PANSTART="PANSTART",t.PANEND="PANEND",t.PANMOVE="PANMOVE",t.PINCH="PINCH",t.KEYDOWN="KEYDOWN",t.KEYUP="KEYUP",t.HOVER="HOVER"}(ml||(ml={}));n(174);var yl,gl,bl,_l,xl="undefined"!=typeof navigator&&/Version\\/[\\d\\.]+.*Safari/.test(navigator.userAgent);!function(t){t.Void="Void",t.Boolean="Boolean",t.Float="Float",t.Uint32="Uint32",t.Int32="Int32",t.Vector="Vector",t.Vector2Float="vec2<f32>",t.Vector3Float="vec3<f32>",t.Vector4Float="vec4<f32>",t.Vector2Boolean="vec2<bool>",t.Vector3Boolean="vec3<bool>",t.Vector4Boolean="vec4<bool>",t.Vector2Uint="vec2<u32>",t.Vector3Uint="vec3<u32>",t.Vector4Uint="vec4<u32>",t.Vector2Int="vec2<i32>",t.Vector3Int="vec3<i32>",t.Vector4Int="vec4<i32>",t.Matrix="Matrix",t.Matrix3x3Float="mat3x3<f32>",t.Matrix4x4Float="mat4x4<i32>",t.Struct="Struct",t.FloatArray="Float[]",t.Vector4FloatArray="vec4<f32>[]"}(yl||(yl={})),function(t){t.Program="Program",t.Identifier="Identifier",t.VariableDeclaration="VariableDeclaration",t.BlockStatement="BlockStatement",t.ReturnStatement="ReturnStatement",t.FunctionDeclaration="FunctionDeclaration",t.VariableDeclarator="VariableDeclarator",t.AssignmentExpression="AssignmentExpression",t.LogicalExpression="LogicalExpression",t.BinaryExpression="BinaryExpression",t.ArrayExpression="ArrayExpression",t.UnaryExpression="UnaryExpression",t.UpdateExpression="UpdateExpression",t.FunctionExpression="FunctionExpression",t.MemberExpression="MemberExpression",t.ConditionalExpression="ConditionalExpression",t.ExpressionStatement="ExpressionStatement",t.CallExpression="CallExpression",t.NumThreadStatement="NumThreadStatement",t.StorageStatement="StorageStatement",t.DoWhileStatement="DoWhileStatement",t.WhileStatement="WhileStatement",t.ForStatement="ForStatement",t.BreakStatement="BreakStatement",t.ContinueStatement="ContinueStatement",t.IfStatement="IfStatement",t.ImportedFunctionStatement="ImportedFunctionStatement"}(gl||(gl={})),function(t){t.Input="Input",t.Output="Output",t.Uniform="Uniform",t.Workgroup="Workgroup",t.UniformConstant="UniformConstant",t.Image="Image",t.StorageBuffer="StorageBuffer",t.Private="Private",t.Function="Function"}(bl||(bl={})),function(t){t.GLSL100="GLSL100",t.GLSL450="GLSL450",t.WGSL="WGSL"}(_l||(_l={}));function wl(t){return void 0===t?0:t>360||t<-360?t%360:t}function El(t,e,n){return fc()(t)?i.fromValues(t,e,n):3===t.length?i.clone(t):i.fromValues(t[0],t[1],t[2])}var Sl,Tl,Al,Il,kl,Ol,Dl,Rl,Ml=function(){function t(e,n){Er()(this,t),this.name=void 0,this.matrix=void 0,this.right=void 0,this.up=void 0,this.forward=void 0,this.position=void 0,this.focalPoint=void 0,this.distanceVector=void 0,this.distance=void 0,this.dollyingStep=void 0,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.name=e,this.matrix=o.clone(n.matrix),this.right=i.clone(n.right),this.up=i.clone(n.up),this.forward=i.clone(n.forward),this.position=i.clone(n.position),this.focalPoint=i.clone(n.focalPoint),this.distanceVector=i.clone(n.distanceVector),this.azimuth=n.azimuth,this.elevation=n.elevation,this.roll=n.roll,this.relAzimuth=n.relAzimuth,this.relElevation=n.relElevation,this.relRoll=n.relRoll,this.dollyingStep=n.dollyingStep,this.distance=n.distance}return Tr()(t,[{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getRoll",value:function(){return this.roll}},{key:"retrieve",value:function(t){t.matrix=o.copy(t.matrix,this.matrix),t.right=i.copy(t.right,this.right),t.up=i.copy(t.up,this.up),t.forward=i.copy(t.forward,this.forward),t.position=i.copy(t.position,this.position),t.focalPoint=i.copy(t.focalPoint,this.focalPoint),t.distanceVector=i.copy(t.distanceVector,this.distanceVector),t.azimuth=this.azimuth,t.elevation=this.elevation,t.roll=this.roll,t.relAzimuth=this.relAzimuth,t.relElevation=this.relElevation,t.relRoll=this.relRoll,t.dollyingStep=this.dollyingStep,t.distance=this.distance}}]),t}();!function(t){t.ORBITING="ORBITING",t.EXPLORING="EXPLORING",t.TRACKING="TRACKING"}(Ol||(Ol={})),function(t){t.DEFAULT="DEFAULT",t.ROTATIONAL="ROTATIONAL",t.TRANSLATIONAL="TRANSLATIONAL",t.CINEMATIC="CINEMATIC"}(Dl||(Dl={})),function(t){t.ORTHOGRAPHIC="ORTHOGRAPHIC",t.PERSPECTIVE="PERSPECTIVE"}(Rl||(Rl={}));var Cl,Nl,Pl,Gl,jl,Ll,Ul,Bl=Math.PI/180,Fl=180/Math.PI,zl=(Sl=Object(Lr.injectable)(),Tl=Object(Lr.inject)(Ur.InteractorService),Sl((Il=function(){function t(){Er()(this,t),this.matrix=o.create(),this.right=i.fromValues(1,0,0),this.up=i.fromValues(0,1,0),this.forward=i.fromValues(0,0,1),this.position=i.fromValues(0,0,1),this.focalPoint=i.fromValues(0,0,0),this.distanceVector=i.fromValues(0,0,0),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.rotateWorld=!1,xr()(this,"interactor",kl,this),this.fov=30,this.near=.1,this.far=1e4,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.zoom=1,this.perspective=o.create(),this.view=void 0,this.following=void 0,this.type=Ol.EXPLORING,this.trackingMode=Dl.DEFAULT,this.projectionMode=Rl.PERSPECTIVE,this.frustum=new sc,this.landmarks=[],this.landmarkAnimationID=void 0}return Tr()(t,[{key:"clone",value:function(){var e=new t;return e.setType(this.type,void 0),e.interactor=this.interactor,e}},{key:"getPerspective",value:function(){return this.perspective}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"setType",value:function(t,e){return this.type=t,this.type===Ol.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===Ol.TRACKING&&void 0!==e&&this.setTrackingMode(e),this}},{key:"setProjectionMode",value:function(t){return this.projectionMode=t,this}},{key:"setTrackingMode",value:function(t){if(this.type!==Ol.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=t,this}},{key:"setWorldRotation",value:function(t){this.rotateWorld=t,this._getAngles()}},{key:"getViewTransform",value:function(){return o.invert(o.create(),this.matrix)}},{key:"setMatrix",value:function(t){return this.matrix=t,this._update(),this}},{key:"setAspect",value:function(t){return this.setPerspective(this.near,this.far,this.fov,t),this}},{key:"setViewOffset",value:function(t,e,n,r,o,i){return this.aspect=t/e,void 0===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=i,this.projectionMode===Rl.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return void 0!==this.view&&(this.view.enabled=!1),this.projectionMode===Rl.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setPerspective",value:function(t,e,n,r){return this.projectionMode=Rl.PERSPECTIVE,this.fov=n,this.near=t,this.far=e,this.aspect=r,o.perspective(this.perspective,this.fov*Bl,this.aspect,this.near,this.far),this}},{key:"setOrthographic",value:function(t,e,n,r,i,a){this.projectionMode=Rl.ORTHOGRAPHIC,this.rright=e,this.left=t,this.top=n,this.bottom=r,this.near=i,this.far=a;var u=(this.rright-this.left)/(2*this.zoom),s=(this.top-this.bottom)/(2*this.zoom),c=(this.rright+this.left)/2,f=(this.top+this.bottom)/2,l=c-u,h=c+u,d=f+s,p=f-s;if(void 0!==this.view&&this.view.enabled){var v=(this.rright-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;h=(l+=v*this.view.offsetX)+v*this.view.width,p=(d-=m*this.view.offsetY)-m*this.view.height}return o.ortho(this.perspective,l,h,d,p,i,a),this}},{key:"setPosition",value:function(t,e,n){return this._setPosition(t,e,n),this.setFocalPoint(this.focalPoint),this}},{key:"setFocalPoint",value:function(t,e,n){var r=i.fromValues(0,1,0);if(this.focalPoint=El(t,e,n),this.trackingMode===Dl.CINEMATIC){var a=i.subtract(i.create(),this.focalPoint,this.position);t=a[0],e=a[1],n=a[2];var u=i.length(a),s=Math.asin(e/u)*Fl,c=90+Math.atan2(n,t)*Fl,f=o.create();o.rotateY(f,f,c*Bl),o.rotateX(f,f,s*Bl),r=i.transformMat4(i.create(),[0,1,0],f)}return o.invert(this.matrix,o.lookAt(o.create(),this.position,this.focalPoint,r)),this._getAxes(),this._getDistance(),this._getAngles(),this}},{key:"setDistance",value:function(t){if(!(this.distance===t||t<0)){this.distance=t,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var e=i.create();t=this.distance;var n=this.forward,r=this.focalPoint;return e[0]=t*n[0]+r[0],e[1]=t*n[1]+r[1],e[2]=t*n[2]+r[2],this._setPosition(e),this}}},{key:"changeAzimuth",value:function(t){return this.setAzimuth(this.azimuth+t),this}},{key:"changeElevation",value:function(t){return this.setElevation(this.elevation+t),this}},{key:"changeRoll",value:function(t){return this.setRoll(this.roll+t),this}},{key:"setAzimuth",value:function(t){return this.azimuth=wl(t),this.computeMatrix(),this._getAxes(),this.type===Ol.ORBITING||this.type===Ol.EXPLORING?this._getPosition():this.type===Ol.TRACKING&&this._getFocalPoint(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(t){return this.elevation=wl(t),this.computeMatrix(),this._getAxes(),this.type===Ol.ORBITING||this.type===Ol.EXPLORING?this._getPosition():this.type===Ol.TRACKING&&this._getFocalPoint(),this}},{key:"setRoll",value:function(t){return this.roll=wl(t),this.computeMatrix(),this._getAxes(),this.type===Ol.ORBITING||this.type===Ol.EXPLORING?this._getPosition():this.type===Ol.TRACKING&&this._getFocalPoint(),this}},{key:"rotate",value:function(t,e,n){if(this.type===Ol.EXPLORING){t=wl(t),e=wl(e),n=wl(n);var r=u.setAxisAngle(u.create(),[1,0,0],(this.rotateWorld?1:-1)*e*Bl),i=u.setAxisAngle(u.create(),[0,1,0],(this.rotateWorld?1:-1)*t*Bl),a=u.setAxisAngle(u.create(),[0,0,1],n*Bl),s=u.multiply(u.create(),i,r);s=u.multiply(u.create(),s,a);var c=o.fromQuat(o.create(),s);o.translate(this.matrix,this.matrix,[0,0,-this.distance]),o.multiply(this.matrix,this.matrix,c),o.translate(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation+e)>90)return;this.relElevation=wl(e),this.relAzimuth=wl(t),this.relRoll=wl(n),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.computeMatrix()}return this._getAxes(),this.type===Ol.ORBITING||this.type===Ol.EXPLORING?this._getPosition():this.type===Ol.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(t,e){var n=El(t,e,0),r=i.clone(this.position);return i.add(r,r,i.scale(i.create(),this.right,n[0])),i.add(r,r,i.scale(i.create(),this.up,n[1])),this._setPosition(r),this}},{key:"dolly",value:function(t){var e=this.forward,n=i.clone(this.position),r=t*this.dollyingStep;return n[0]+=r*e[0],n[1]+=r*e[1],n[2]+=r*e[2],this._setPosition(n),this.type===Ol.ORBITING||this.type===Ol.EXPLORING?this._getDistance():this.type===Ol.TRACKING&&i.add(this.focalPoint,n,this.distanceVector),this}},{key:"createLandmark",value:function(t,e){var n=this.clone();n.setPosition(e.position),n.setFocalPoint(e.focalPoint),void 0!==e.roll&&n.setRoll(e.roll);var r=new Ml(t,n);return this.landmarks.push(r),r}},{key:"setLandmark",value:function(t){var e=new Ml(t,this);return this.landmarks.push(e),this}},{key:"gotoLandmark",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=this.landmarks.find((function(e){return e.name===t}));if(r){if(0===n)return void r.retrieve(this);void 0!==this.landmarkAnimationID&&window.cancelAnimationFrame(this.landmarkAnimationID),this.interactor.disconnect();var o,a=r.getPosition(),u=r.getFocalPoint(),s=r.getRoll(),c=function t(r){void 0===o&&(o=r);var c,f=r-o,l=(1-Math.cos(f/n*Math.PI))/2,h=i.create(),d=i.create();if(i.lerp(h,e.focalPoint,u,l),i.lerp(d,e.position,a,l),c=e.roll*(1-l)+s*l,e.setFocalPoint(h),e.setPosition(d),e.setRoll(c),e.computeMatrix(),!(i.dist(h,u)+i.dist(d,a)>.01))return e.setFocalPoint(h),e.setPosition(d),e.setRoll(c),e.computeMatrix(),void e.interactor.connect();f<n&&(e.landmarkAnimationID=window.requestAnimationFrame(t))};window.requestAnimationFrame(c)}}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles()}},{key:"computeMatrix",value:function(){var t,e,n=u.setAxisAngle(u.create(),[0,0,1],this.roll*Bl);o.identity(this.matrix),t=u.setAxisAngle(u.create(),[1,0,0],(this.rotateWorld&&this.type!==Ol.TRACKING||this.type===Ol.TRACKING?1:-1)*this.elevation*Bl),e=u.setAxisAngle(u.create(),[0,1,0],(this.rotateWorld&&this.type!==Ol.TRACKING||this.type===Ol.TRACKING?1:-1)*this.azimuth*Bl);var r=u.multiply(u.create(),e,t);r=u.multiply(u.create(),r,n);var i=o.fromQuat(o.create(),r);this.type===Ol.ORBITING||this.type===Ol.EXPLORING?(o.translate(this.matrix,this.matrix,this.focalPoint),o.multiply(this.matrix,this.matrix,i),o.translate(this.matrix,this.matrix,[0,0,this.distance])):this.type===Ol.TRACKING&&(o.translate(this.matrix,this.matrix,this.position),o.multiply(this.matrix,this.matrix,i))}},{key:"_setPosition",value:function(t,e,n){this.position=El(t,e,n);var r=this.matrix;r[12]=this.position[0],r[13]=this.position[1],r[14]=this.position[2],r[15]=1}},{key:"_getAxes",value:function(){i.copy(this.right,El(a.transformMat4(a.create(),[1,0,0,0],this.matrix))),i.copy(this.up,El(a.transformMat4(a.create(),[0,1,0,0],this.matrix))),i.copy(this.forward,El(a.transformMat4(a.create(),[0,0,1,0],this.matrix))),i.normalize(this.right,this.right),i.normalize(this.up,this.up),i.normalize(this.forward,this.forward)}},{key:"_getAngles",value:function(){var t=this.distanceVector[0],e=this.distanceVector[1],n=this.distanceVector[2],r=i.length(this.distanceVector);if(0===r)return this.elevation=0,void(this.azimuth=0);this.type===Ol.TRACKING||this.rotateWorld?(this.elevation=Math.asin(e/r)*Fl,this.azimuth=Math.atan2(-t,-n)*Fl):(this.elevation=-Math.asin(e/r)*Fl,this.azimuth=-Math.atan2(-t,-n)*Fl)}},{key:"_getPosition",value:function(){i.copy(this.position,El(a.transformMat4(a.create(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){i.transformMat3(this.distanceVector,[0,0,-this.distance],r.fromMat4(r.create(),this.matrix)),i.add(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=i.subtract(i.create(),this.focalPoint,this.position),this.distance=i.length(this.distanceVector),this.dollyingStep=this.distance/100}}]),t}(),kl=Ir()(Il.prototype,"interactor",[Tl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Al=Il))||Al),Vl=n(22),Wl=n.n(Vl),Xl=n(13),Hl=n.n(Xl),ql=n(3);function Yl(){if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function Kl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kl(Object(n),!0).forEach((function(e){uo()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ql,Jl,$l,th,eh,nh,rh,oh,ih,ah,uh,sh,ch,fh,lh,hh,dh,ph,vh,mh,yh,gh,bh,_h,xh,wh,Eh,Sh,Th=(Cl=Object(Lr.injectable)(),Nl=Object(Lr.inject)(Ur.RenderEngine),Pl=Object(Lr.inject)(Ur.ConfigService),Cl((jl=function(){function t(){Er()(this,t),xr()(this,"engine",Ll,this),xr()(this,"configService",Ul,this),this.entity=Cr(),this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}var e,n,r;return Tr()(t,[{key:"init",value:function(){var t=this.configService.get(),e=t.canvas,n=t.engineOptions;this.initPromise=this.engine.init(Zl({canvas:e||Yl(),swapChainFormat:ql.TextureFormat.BGRA8Unorm,antialiasing:!1},n))}},{key:"setBundle",value:function(t){this.compiledBundle=JSON.parse(JSON.stringify(t))}},{key:"setDispatch",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=t),this}},{key:"setMaxIteration",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=t),this}},{key:"setBinding",value:function(t,e){var n=this;if("string"==typeof t){var r=fc()(e)||Wl()(e)||Hl()(e);if(this.compiledBundle&&this.compiledBundle.context){var o=this.compiledBundle.context.defines.find((function(e){return e.name===t}));if(o)return o.value=e,this;var i=this.compiledBundle.context.uniforms.find((function(e){return e.name===t}));i&&(r?(i.data=e,i.isReferer=!1,i.storageClass===bl.Uniform?this.model&&this.model.updateUniform(t,e):this.model&&this.model.updateBuffer(t,e)):(i.isReferer=!0,i.data=e))}}else Object.keys(t).forEach((function(e){n.setBinding(e,t[e])}));return this}},{key:"execute",value:(r=Rr()(Or.a.mark((function t(){var e,n,r=this,o=arguments;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.length>0&&void 0!==o[0]?o[0]:1,!this.dirty){t.next=6;break}return this.compiledBundle.context&&(e>1?this.compiledBundle.context.maxIteration=e:this.compiledBundle.context.maxIteration++),t.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter((function(t){return t.isReferer})).forEach((function(t){var e=t.data,n=t.name;r.model.confirmInput(e.model,n)})),n=0;n<e;n++)this.model.run();return this.engine.endFrame(),t.abrupt("return",this);case 12:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"getOutput",value:(n=Rr()(Or.a.mark((function t(){return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.model.readData());case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"compile",value:(e=Rr()(Or.a.mark((function t(){var e,n,r;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initPromise;case 2:return e=Zl({},this.compiledBundle.context),n=this.engine.supportWebGPU?this.engine.useWGSL?_l.WGSL:_l.GLSL450:_l.GLSL100,r=this.compiledBundle.shaders[n],e.defines.filter((function(t){return t.runtime})).forEach((function(t){var e="".concat("__DefineValuePlaceholder__").concat(t.name);r=r.replace(e,"".concat(t.value))})),e.shader=r,e.uniforms.forEach((function(t){if(!t.data&&t.storageClass===bl.StorageBuffer){var n=1;t.type===yl.FloatArray?n=1:t.type===yl.Vector4FloatArray&&(n=4),t.data=new Float32Array(e.output.length*n).fill(0)}})),this.compiledBundle.context=e,t.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=t.sent;case 12:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),t}(),Ll=Ir()(jl.prototype,"engine",[Nl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ul=Ir()(jl.prototype,"configService",[Pl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gl=jl))||Gl),Ah=(Ql=Object(Lr.injectable)(),Jl=Object(Lr.inject)(Ur.MeshComponentManager),$l=Object(Lr.inject)(Ur.CullableComponentManager),th=Object(Lr.inject)(Ur.TransformComponentManager),eh=Object(Lr.inject)(Ur.Systems),nh=Object(Lr.named)(Ur.SceneGraphSystem),Ql((fh=ch=function(){function t(){Er()(this,t),this.attributes={},this.config=void 0,xr()(this,"mesh",ih,this),xr()(this,"cullable",ah,this),xr()(this,"transform",uh,this),xr()(this,"sceneGraphSystem",sh,this),this.meshComponent=void 0,this.transformComponent=void 0,this.entity=void 0}return Tr()(t,[{key:"getEntity",value:function(){return this.entity}},{key:"getTransformComponent",value:function(){return this.transformComponent}},{key:"getMeshComponent",value:function(){return this.meshComponent}},{key:"setConfig",value:function(t){this.config=t}},{key:"setEntity",value:function(t){this.entity=t,this.cullable.create(t),this.meshComponent=this.mesh.create(t),this.transformComponent=this.transform.create(t),this.onEntityCreated()}},{key:"setMaterial",value:function(t){return this.meshComponent.material=t,this}},{key:"setGeometry",value:function(t){return this.meshComponent.geometry=t,this}},{key:"setAttributes",value:function(t){var e=this;Object.keys(t).forEach((function(n){void 0!==t[n]&&t[n]!==e.attributes[n]&&(e.onAttributeChanged({name:n,data:t[n]}),e.attributes[n]=t[n])}))}},{key:"setVisible",value:function(t){return this.meshComponent.visible=t,this}},{key:"isVisible",value:function(){return this.meshComponent.visible}},{key:"attach",value:function(t){return this.sceneGraphSystem.attach(this.entity,t.entity),this}},{key:"detach",value:function(){return this.sceneGraphSystem.detach(this.entity),this}},{key:"detachChildren",value:function(){return this.sceneGraphSystem.detachChildren(this.entity),this}},{key:"onEntityCreated",value:function(){}},{key:"onAttributeChanged",value:function(t){var e=t.name,n=t.data;this.meshComponent&&this.meshComponent.material&&this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(e),n)}},{key:"convertAttributeName2UniformName",value:function(t){return t}}]),t}(),ch.POINT="point",ch.LINE="line",ch.GRID="grid",oh=fh,ih=Ir()(oh.prototype,"mesh",[Jl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ah=Ir()(oh.prototype,"cullable",[$l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uh=Ir()(oh.prototype,"transform",[th],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sh=Ir()(oh.prototype,"sceneGraphSystem",[eh,nh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rh=oh))||rh),Ih=n(189),kh=n.n(Ih),Oh=function(){function t(e,n){Er()(this,t),this.attribute=void 0,this.buffer=void 0;var r=n.buffer,o=n.offset,i=n.stride,a=n.normalized,u=n.size,s=n.divisor;this.buffer=r,this.attribute={buffer:r.get(),offset:o||0,stride:i||0,normalized:a||!1,divisor:s||0},u&&(this.attribute.size=u)}return Tr()(t,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),t}(),Dh=(lh={},uo()(lh,Qu.POINTS,"points"),uo()(lh,Qu.LINES,"lines"),uo()(lh,Qu.LINE_LOOP,"line loop"),uo()(lh,Qu.LINE_STRIP,"line strip"),uo()(lh,Qu.TRIANGLES,"triangles"),uo()(lh,Qu.TRIANGLE_FAN,"triangle fan"),uo()(lh,Qu.TRIANGLE_STRIP,"triangle strip"),lh),Rh=(hh={},uo()(hh,Qu.STATIC_DRAW,"static"),uo()(hh,Qu.DYNAMIC_DRAW,"dynamic"),uo()(hh,Qu.STREAM_DRAW,"stream"),hh),Mh=(dh={},uo()(dh,Qu.BYTE,"int8"),uo()(dh,Qu.UNSIGNED_INT,"int16"),uo()(dh,Qu.INT,"int32"),uo()(dh,Qu.UNSIGNED_BYTE,"uint8"),uo()(dh,Qu.UNSIGNED_SHORT,"uint16"),uo()(dh,Qu.UNSIGNED_INT,"uint32"),uo()(dh,Qu.FLOAT,"float"),dh),Ch=(ph={},uo()(ph,Qu.ALPHA,"alpha"),uo()(ph,Qu.LUMINANCE,"luminance"),uo()(ph,Qu.LUMINANCE_ALPHA,"luminance alpha"),uo()(ph,Qu.RGB,"rgb"),uo()(ph,Qu.RGBA,"rgba"),uo()(ph,Qu.RGBA4,"rgba4"),uo()(ph,Qu.RGB5_A1,"rgb5 a1"),uo()(ph,Qu.RGB565,"rgb565"),uo()(ph,Qu.DEPTH_COMPONENT,"depth"),uo()(ph,Qu.DEPTH_STENCIL,"depth stencil"),ph),Nh=(vh={},uo()(vh,Qu.DONT_CARE,"dont care"),uo()(vh,Qu.NICEST,"nice"),uo()(vh,Qu.FASTEST,"fast"),vh),Ph=(mh={},uo()(mh,Qu.NEAREST,"nearest"),uo()(mh,Qu.LINEAR,"linear"),uo()(mh,Qu.LINEAR_MIPMAP_LINEAR,"mipmap"),uo()(mh,Qu.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),uo()(mh,Qu.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),uo()(mh,Qu.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),mh),Gh=(yh={},uo()(yh,Qu.REPEAT,"repeat"),uo()(yh,Qu.CLAMP_TO_EDGE,"clamp"),uo()(yh,Qu.MIRRORED_REPEAT,"mirror"),yh),jh=(gh={},uo()(gh,Qu.NONE,"none"),uo()(gh,Qu.BROWSER_DEFAULT_WEBGL,"browser"),gh),Lh=(bh={},uo()(bh,Qu.NEVER,"never"),uo()(bh,Qu.ALWAYS,"always"),uo()(bh,Qu.LESS,"less"),uo()(bh,Qu.LEQUAL,"lequal"),uo()(bh,Qu.GREATER,"greater"),uo()(bh,Qu.GEQUAL,"gequal"),uo()(bh,Qu.EQUAL,"equal"),uo()(bh,Qu.NOTEQUAL,"notequal"),bh),Uh=(_h={},uo()(_h,Qu.FUNC_ADD,"add"),uo()(_h,Qu.MIN_EXT,"min"),uo()(_h,Qu.MAX_EXT,"max"),uo()(_h,Qu.FUNC_SUBTRACT,"subtract"),uo()(_h,Qu.FUNC_REVERSE_SUBTRACT,"reverse subtract"),_h),Bh=(xh={},uo()(xh,Qu.ZERO,"zero"),uo()(xh,Qu.ONE,"one"),uo()(xh,Qu.SRC_COLOR,"src color"),uo()(xh,Qu.ONE_MINUS_SRC_COLOR,"one minus src color"),uo()(xh,Qu.SRC_ALPHA,"src alpha"),uo()(xh,Qu.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),uo()(xh,Qu.DST_COLOR,"dst color"),uo()(xh,Qu.ONE_MINUS_DST_COLOR,"one minus dst color"),uo()(xh,Qu.DST_ALPHA,"dst alpha"),uo()(xh,Qu.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),uo()(xh,Qu.CONSTANT_COLOR,"constant color"),uo()(xh,Qu.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),uo()(xh,Qu.CONSTANT_ALPHA,"constant alpha"),uo()(xh,Qu.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),uo()(xh,Qu.SRC_ALPHA_SATURATE,"src alpha saturate"),xh),Fh=(wh={},uo()(wh,Qu.NEVER,"never"),uo()(wh,Qu.ALWAYS,"always"),uo()(wh,Qu.LESS,"less"),uo()(wh,Qu.LEQUAL,"lequal"),uo()(wh,Qu.GREATER,"greater"),uo()(wh,Qu.GEQUAL,"gequal"),uo()(wh,Qu.EQUAL,"equal"),uo()(wh,Qu.NOTEQUAL,"notequal"),wh),zh=(Eh={},uo()(Eh,Qu.ZERO,"zero"),uo()(Eh,Qu.KEEP,"keep"),uo()(Eh,Qu.REPLACE,"replace"),uo()(Eh,Qu.INVERT,"invert"),uo()(Eh,Qu.INCR,"increment"),uo()(Eh,Qu.DECR,"decrement"),uo()(Eh,Qu.INCR_WRAP,"increment wrap"),uo()(Eh,Qu.DECR_WRAP,"decrement wrap"),Eh),Vh=(Sh={},uo()(Sh,Qu.FRONT,"front"),uo()(Sh,Qu.BACK,"back"),Sh),Wh=function(){function t(e,n){Er()(this,t),this.buffer=void 0;var r=n.data,o=n.usage,i=n.type;this.buffer=e.buffer({data:r,usage:Rh[o||Qu.STATIC_DRAW],type:Mh[i||Qu.UNSIGNED_BYTE]})}return Tr()(t,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(t){var e=t.data,n=t.offset;this.buffer.subdata(e,n)}}]),t}(),Xh=n(10),Hh=n.n(Xh);function qh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qh(Object(n),!0).forEach((function(e){uo()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Kh=0,Zh=function(){function t(e,n){var r=this;Er()(this,t),this.reGl=e,this.context=n,this.entity=Cr(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var o={};this.context.uniforms.forEach((function(t){var e=t.name,n=t.type,i=t.data,a=t.isReferer,u=t.storageClass;if(u===bl.StorageBuffer){if(a)r.textureCache[e]={data:void 0},o["".concat(e,"Size")]=function(){return i.compiledBundle.context.output.textureSize};else{r.textureCache[e]=r.calcDataTexture(e,n,i);var s=r.textureCache[e],c=s.textureWidth,f=s.isOutput;o["".concat(e,"Size")]=[c,c],f&&(r.outputTextureName=e,r.context.needPingpong&&(r.outputTextureName="".concat(e,"Output"),r.textureCache[r.outputTextureName]=r.calcDataTexture(e,n,i)))}o[e]=function(){return r.textureCache[e].texture}}else if(u===bl.Uniform){if(i&&(Array.isArray(i)||Wl()(i))&&i.length>16)throw new Error("invalid data type ".concat(n));o[e]=function(){return t.data}}}));var i=this.getOuputDataTexture(),a=i.textureWidth,u=i.texelCount;o.u_OutputTextureSize=[a,a],o.u_OutputTexelCount=u,this.context.output.textureSize=[a,a];var s={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\\n  precision highp float;\\n#else\\n  precision mediump float;\\n#endif\\n".concat(this.context.shader),uniforms:o,vert:"attribute vec3 a_Position;\\nattribute vec2 a_TexCoord;\\n\\nvarying vec2 v_TexCoord;\\n\\nvoid main() {\\n  gl_Position = vec4(a_Position, 1.0);\\n  v_TexCoord = a_TexCoord;\\n}",primitive:"triangle strip",count:4};this.computeCommand=this.reGl(s)}var e;return Tr()(t,[{key:"run",value:function(){var t=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use((function(){t.computeCommand()}))}},{key:"readData",value:(e=Rr()(Or.a.mark((function t(){var e,n,r,o,i,a,u,s,c=this;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.reGl({framebuffer:this.texFBO})((function(){e=c.reGl.read()})),!e){t.next=6;break}if(n=this.getOuputDataTexture(),r=n.originalDataLength,o=n.elementsPerTexel,i=n.typedArrayConstructor,a=void 0===i?Float32Array:i,u=[],4!==o)for(s=0;s<e.length;s+=4)1===o?u.push(e[s]):2===o?u.push(e[s],e[s+1]):u.push(e[s],e[s+1],e[s+2]);else u=e;return t.abrupt("return",new a(u.slice(0,r)));case 6:return t.abrupt("return",new Float32Array);case 7:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"confirmInput",value:function(t,e){var n;this.entity===t.entity?(this.dynamicPingpong=!0,n=this):n=t,this.textureCache[e].id=n.getOuputDataTexture().id,this.textureCache[e].texture=n.getOuputDataTexture().texture}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(t,e){var n=this.context.uniforms.find((function(e){return e.name===t}));if(n){var r=this.calcDataTexture(t,n.type,e),o=r.texture,i=r.data;this.textureCache[t].data=i,this.textureCache[t].texture=o}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var t=this.context.output.name;this.textureCache[t].id=this.getOuputDataTexture().id,this.textureCache[t].texture=this.getOuputDataTexture().texture}var e=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=e}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var t=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=t}},{key:"cloneDataTexture",value:function(t){var e=t.data,n=t.textureWidth;return Yh(Yh({},t),{},{id:Kh++,texture:this.reGl.texture({width:n,height:n,data:e,type:"float"})})}},{key:"calcDataTexture",value:function(t,e,n){var r=1;e===yl.Vector4FloatArray&&(r=4);for(var o=[],i=0;i<n.length;i+=r)1===r?o.push(n[i],0,0,0):2===r?o.push(n[i],n[i+1],0,0):3===r?o.push(n[i],n[i+1],n[i+2],0):4===r&&o.push(n[i],n[i+1],n[i+2],n[i+3]);var a=n.length,u=Math.ceil(a/r),s=Math.ceil(Math.sqrt(u)),c=s*s;u<c&&o.push.apply(o,Hh()(new Array(4*(c-u)).fill(0)));var f=this.reGl.texture({width:s,height:s,data:o,type:"float"});return{id:Kh++,data:o,originalDataLength:a,typedArrayConstructor:Wl()(n)?n.constructor:void 0,textureWidth:s,texture:f,texelCount:u,elementsPerTexel:r,isOutput:t===this.context.output.name}}}]),t}(),Qh=function(){function t(e,n){Er()(this,t),this.elements=void 0;var r=n.data,o=n.usage,i=n.type,a=n.count;this.elements=e.elements({data:r,usage:Rh[o||Qu.STATIC_DRAW],type:Mh[i||Qu.UNSIGNED_BYTE],count:a})}return Tr()(t,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(t){var e=t.data;this.elements.subdata(e)}},{key:"destroy",value:function(){this.elements.destroy()}}]),t}(),Jh=function(){function t(e,n){Er()(this,t),this.framebuffer=void 0;var r=n.width,o=n.height,i=n.color,a=n.colors,u=(n.depth,n.stencil,{width:r,height:o});Array.isArray(a)&&(u.colors=a.map((function(t){return t.get()}))),i&&"boolean"!=typeof i&&(u.color=i.get()),this.framebuffer=e.framebuffer(u)}return Tr()(t,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(t){var e=t.width,n=t.height;this.framebuffer.resize(e,n)}}]),t}(),$h=n(51),td=n.n($h),ed=n(101),nd=n.n(ed);function rd(t){var e={};return Object.keys(t).forEach((function(n){!function t(e,n,r,o){if(null===n||"number"==typeof n||"boolean"==typeof n||Array.isArray(n)&&"number"==typeof n[0]||Wl()(n)||""===n||"resize"in n)return void(r["".concat(o&&o+".").concat(e)]=n);nd()(n)&&Object.keys(n).forEach((function(i){t(i,n[i],r,"".concat(o&&o+".").concat(e))}));Array.isArray(n)&&n.forEach((function(n,i){Object.keys(n).forEach((function(a){t(a,n[a],r,"".concat(o&&o+".").concat(e,"[").concat(i,"]"))}))}))}(n,t[n],e,"")})),e}function od(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function id(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?od(Object(n),!0).forEach((function(e){uo()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):od(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ad,ud,sd=function(){function t(e,n){Er()(this,t),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=e;var r=n.vs,o=n.fs,i=n.attributes,a=n.uniforms,u=n.primitive,s=n.count,c=n.elements,f=n.depth,l=n.blend,h=n.stencil,d=n.cull,p=n.instances,v=n.scissor,m=n.viewport,y={};a&&(this.uniforms=rd(a),Object.keys(a).forEach((function(t){y[t]=e.prop(t)})));var g={};Object.keys(i).forEach((function(t){g[t]=i[t].get()}));var b={attributes:g,frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\\n  precision highp float;\\n#else\\n  precision mediump float;\\n#endif\\n".concat(o),uniforms:y,vert:r,primitive:Dh[void 0===u?Qu.TRIANGLES:u]};p&&(b.instances=p),s&&(b.count=s),c&&(b.elements=c.get()),v&&(b.scissor=v),m&&(b.viewport=m),this.initDepthDrawParams({depth:f},b),this.initBlendDrawParams({blend:l},b),this.initStencilDrawParams({stencil:h},b),this.initCullDrawParams({cull:d},b),this.drawCommand=e(b)}return Tr()(t,[{key:"addUniforms",value:function(t){this.uniforms=id(id({},this.uniforms),rd(t))}},{key:"draw",value:function(t){var e=id(id({},this.uniforms),rd(t.uniforms||{})),n={};Object.keys(e).forEach((function(t){var r=td()(e[t]);"boolean"===r||"number"===r||Array.isArray(e[t])||e[t].BYTES_PER_ELEMENT?n[t]=e[t]:n[t]=e[t].get()})),this.drawCommand(n)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(t,e){var n=t.depth;n&&(e.depth={enable:void 0===n.enable||!!n.enable,mask:void 0===n.mask||!!n.mask,func:Lh[n.func||Qu.LESS],range:n.range||[0,1]})}},{key:"initBlendDrawParams",value:function(t,e){var n=t.blend;if(n){var r=n.enable,o=n.func,i=n.equation,a=n.color,u=void 0===a?[0,0,0,0]:a;e.blend={enable:!!r,func:{srcRGB:Bh[o&&o.srcRGB||Qu.SRC_ALPHA],srcAlpha:Bh[o&&o.srcAlpha||Qu.SRC_ALPHA],dstRGB:Bh[o&&o.dstRGB||Qu.ONE_MINUS_SRC_ALPHA],dstAlpha:Bh[o&&o.dstAlpha||Qu.ONE_MINUS_SRC_ALPHA]},equation:{rgb:Uh[i&&i.rgb||Qu.FUNC_ADD],alpha:Uh[i&&i.alpha||Qu.FUNC_ADD]},color:u}}}},{key:"initStencilDrawParams",value:function(t,e){var n=t.stencil;if(n){var r=n.enable,o=n.mask,i=void 0===o?-1:o,a=n.func,u=void 0===a?{cmp:Qu.ALWAYS,ref:0,mask:-1}:a,s=n.opFront,c=void 0===s?{fail:Qu.KEEP,zfail:Qu.KEEP,zpass:Qu.KEEP}:s,f=n.opBack,l=void 0===f?{fail:Qu.KEEP,zfail:Qu.KEEP,zpass:Qu.KEEP}:f;e.stencil={enable:!!r,mask:i,func:id(id({},u),{},{cmp:Fh[u.cmp]}),opFront:{fail:zh[c.fail],zfail:zh[c.zfail],zpass:zh[c.zpass]},opBack:{fail:zh[l.fail],zfail:zh[l.zfail],zpass:zh[l.zpass]}}}}},{key:"initCullDrawParams",value:function(t,e){var n=t.cull;if(n){var r=n.enable,o=n.face,i=void 0===o?Qu.BACK:o;e.cull={enable:!!r,face:Vh[i]}}}}]),t}(),cd=function(){function t(e,n){Er()(this,t),this.texture=void 0,this.width=void 0,this.height=void 0;var r=n.data,o=n.type,i=void 0===o?Qu.UNSIGNED_BYTE:o,a=n.width,u=n.height,s=n.flipY,c=void 0!==s&&s,f=n.format,l=void 0===f?Qu.RGBA:f,h=n.mipmap,d=void 0!==h&&h,p=n.wrapS,v=void 0===p?Qu.CLAMP_TO_EDGE:p,m=n.wrapT,y=void 0===m?Qu.CLAMP_TO_EDGE:m,g=n.aniso,b=void 0===g?0:g,_=n.alignment,x=void 0===_?1:_,w=n.premultiplyAlpha,E=void 0!==w&&w,S=n.mag,T=void 0===S?Qu.NEAREST:S,A=n.min,I=void 0===A?Qu.NEAREST:A,k=n.colorSpace,O=void 0===k?Qu.BROWSER_DEFAULT_WEBGL:k;this.width=a,this.height=u;var D={width:a,height:u,type:Mh[i],format:Ch[l],wrapS:Gh[v],wrapT:Gh[y],mag:Ph[T],min:Ph[I],alignment:x,flipY:c,colorSpace:jh[O],premultiplyAlpha:E,aniso:b};r&&(D.data=r),"number"==typeof d?D.mipmap=Nh[d]:"boolean"==typeof d&&(D.mipmap=d),this.texture=e.texture(D)}return Tr()(t,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(t){var e=t.width,n=t.height;this.texture.resize(e,n),this.width=e,this.height=n}},{key:"destroy",value:function(){this.texture.destroy()}}]),t}(),fd=Object(Lr.injectable)()(ad=function(){function t(){var e=this;Er()(this,t),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var t=Rr()(Or.a.mark((function t(n){return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new sd(e.gl,n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.createAttribute=function(t){return new Oh(e.gl,t)},this.createBuffer=function(t){return new Wh(e.gl,t)},this.createElements=function(t){return new Qh(e.gl,t)},this.createTexture2D=function(t){return new cd(e.gl,t)},this.createFramebuffer=function(t){return new Jh(e.gl,t)},this.useFramebuffer=function(t,n){e.gl({framebuffer:t?t.get():null})(n)},this.createComputeModel=function(){var t=Rr()(Or.a.mark((function t(n){return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Zh(e.gl,n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.clear=function(t){var n=t.color,r=t.depth,o=t.stencil,i=t.framebuffer,a=void 0===i?null:i,u={color:n,depth:r,stencil:o};u.framebuffer=null===a?a:a.get(),e.gl.clear(u)},this.setScissor=function(t){e.gl&&e.gl._gl&&(t.enable&&t.box?(e.gl._gl.enable(Qu.SCISSOR_TEST),e.gl._gl.scissor(t.box.x,t.box.y,t.box.width,t.box.height)):e.gl._gl.disable(Qu.SCISSOR_TEST),e.gl._refresh())},this.viewport=function(t){var n=t.x,r=t.y,o=t.width,i=t.height;e.gl&&e.gl._gl&&(e.gl._gl.viewport(n,r,o,i),e.gl._refresh())},this.readPixels=function(t){var n=t.framebuffer,r={x:t.x,y:t.y,width:t.width,height:t.height};return n&&(r.framebuffer=n.get()),e.gl.read(r)},this.getCanvas=function(){return e.$canvas},this.getGLContext=function(){return e.gl._gl},this.destroy=function(){e.gl&&(e.gl.destroy(),e.inited=!1)}}var e;return Tr()(t,[{key:"init",value:(e=Rr()(Or.a.mark((function t(e){return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.inited){t.next=2;break}return t.abrupt("return");case 2:return this.$canvas=e.canvas,t.next=5,new Promise((function(t,n){kh()({canvas:e.canvas,attributes:{alpha:!0,antialias:e.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(e,r){!e&&r||n(e),t(r)}})}));case 5:this.gl=t.sent,this.inited=!0;case 7:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),t}())||ad;function ld(t,e,n,r){if("undefined"!=typeof window){var o=document.getElementsByTagName("head")[0],i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",t),r&&(i.id=r),i.onload=function(){e&&e()},i.onerror=function(e){n&&n("Unable to load script '".concat(t,"'"),e)},o.appendChild(i)}}function hd(t,e){return new Promise((function(e,n){ld(t,(function(){e()}),(function(t,e){n(e)}))}))}var dd=function(){return pd.apply(this,arguments)};function pd(){return(pd=Rr()(Or.a.mark((function t(){return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!ud){t.next=2;break}return t.abrupt("return",ud);case 2:return t.next=4,hd("https://preview.babylonjs.com/glslang/glslang.js");case 4:return ud=window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"),t.abrupt("return",ud);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var vd,md,yd,gd,bd,_d,xd,wd=function(){function t(e,n){Er()(this,t),this.engine=e,this.options=n,this.attribute=void 0,this.buffer=void 0;var r=n,o=r.buffer,i=r.offset,a=r.stride,u=r.normalized,s=r.size,c=r.divisor,f=r.arrayStride,l=r.attributes,h=r.stepMode;this.buffer=o,this.attribute={buffer:o.get(),offset:i||0,stride:a||0,normalized:u||!1,divisor:c||0,arrayStride:f||0,attributes:l,stepMode:h||"vertex"},s&&(this.attribute.size=s)}return Tr()(t,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),t}(),Ed=function(){function t(e,n){Er()(this,t),this.engine=e,this.options=n,this.buffer=void 0;var r=n,o=r.data,i=r.usage;r.type;this.buffer=this.createBuffer(o instanceof Array?new Float32Array(o):o,i||ql.BufferUsage.Vertex|ql.BufferUsage.CopyDst)}return Tr()(t,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(t){var e=t.data,n=t.offset;this.setSubData(this.buffer,n,e instanceof Array?new Float32Array(e):e)}},{key:"createBuffer",value:function(t,e){var n=t.byteLength%4,r={size:t.byteLength+n,usage:e},o=this.engine.device.createBuffer(r);return this.setSubData(o,0,t),o}},{key:"setSubData",value:function(t,e,n){(xl?this.engine.device.getQueue():this.engine.device.defaultQueue).writeBuffer(t,e,n)}}]),t}(),Sd=n(52),Td=n.n(Sd),Ad=function(){function t(e,n){Er()(this,t),this.engine=e,this.context=n,this.entity=Cr(),this.uniformGPUBufferLayout=[],this.uniformBuffer=void 0,this.vertexBuffers={},this.outputBuffer=void 0,this.bindGroupEntries=void 0,this.bindGroup=void 0,this.computePipeline=void 0}var e,n,r;return Tr()(t,[{key:"init",value:(r=Rr()(Or.a.mark((function t(){var e,n,r,o,i,a,u,s=this;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.compileComputePipelineStageDescriptor(this.context.shader);case 2:e=t.sent,n=e.computeStage,r=this.context.uniforms.filter((function(t){return t.storageClass===bl.StorageBuffer})),o=this.context.uniforms.filter((function(t){return t.storageClass===bl.Uniform})),i=o.length?1:0,this.bindGroupEntries=[],i&&(a=0,u=[],o.forEach((function(t){if(fc()(t.data))s.uniformGPUBufferLayout.push({name:t.name,offset:a}),a+=4,u.push(t.data);else{var e,n=(null===(e=t.data)||void 0===e?void 0:e.length)||1;3===n&&(n=4,t.data.push(0));var r=a/4%4;if(r>0){var o=4-r;if(n>1&&n<=o)2===n&&(3===o&&(a+=4,u.push(0)),u.push.apply(u,Hh()(t.data)),s.uniformGPUBufferLayout.push({name:t.name,offset:a}));else{for(var i=0;i<o;i++)a+=4,u.push(0);u.push.apply(u,Hh()(t.data)),s.uniformGPUBufferLayout.push({name:t.name,offset:a})}}a+=4*n}})),this.uniformBuffer=new Ed(this.engine,{data:u instanceof Array?new Float32Array(u):u,usage:ql.BufferUsage.Uniform|ql.BufferUsage.CopyDst}),this.bindGroupEntries.push({binding:0,resource:{buffer:this.uniformBuffer.get()}})),r.forEach((function(t){var e;Td()(t.data)||t.type!==yl.Vector4FloatArray&&t.type!==yl.FloatArray||(t.name===s.context.output.name?(e=new Ed(s.engine,{data:isFinite(Number(t.data))?[t.data]:t.data,usage:ql.BufferUsage.Storage|ql.BufferUsage.CopyDst|ql.BufferUsage.CopySrc}),s.outputBuffer=e,s.context.output={name:t.name,length:isFinite(Number(t.data))?1:t.data.length,typedArrayConstructor:Float32Array,gpuBuffer:e.get()}):t.isReferer?t.data.model&&t.data.model.outputBuffer&&(e=t.data.model.outputBuffer):e=new Ed(s.engine,{data:isFinite(Number(t.data))?[t.data]:t.data,usage:ql.BufferUsage.Storage|ql.BufferUsage.CopyDst|ql.BufferUsage.CopySrc}),s.vertexBuffers[t.name]=e,s.bindGroupEntries.push({binding:i,resource:{name:t.name,refer:e?void 0:t.data,buffer:e?e.get():void 0}}),i++)})),this.computePipeline=this.engine.device.createComputePipeline({computeStage:n}),console.log(this.bindGroupEntries),this.bindGroup=this.engine.device.createBindGroup({layout:this.computePipeline.getBindGroupLayout(0),entries:this.bindGroupEntries});case 13:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"destroy",value:function(){var t=this;this.uniformBuffer&&this.uniformBuffer.destroy(),Object.keys(this.vertexBuffers).forEach((function(e){return t.vertexBuffers[e].destroy()}))}},{key:"readData",value:(n=Rr()(Or.a.mark((function t(){var e,n,r,o,i,a,u,s,c;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=this.context.output)){t.next=16;break}if(n=e.length,r=e.typedArrayConstructor,!(o=e.gpuBuffer)){t.next=16;break}return i=n*r.BYTES_PER_ELEMENT,a=this.engine.device.createBuffer({size:i,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),(u=this.engine.device.createCommandEncoder()).copyBufferToBuffer(o,0,a,0,i),(xl?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([u.finish()]),t.next=12,a.mapAsync(ql.MapMode.Read);case 12:return s=a.getMappedRange(),c=new r(s.slice(0)),a.unmap(),t.abrupt("return",c);case 16:return t.abrupt("return",new Float32Array);case 17:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"run",value:function(){var t;this.engine.currentComputePass&&(this.engine.currentComputePass.setPipeline(this.computePipeline),this.engine.currentComputePass.setBindGroup(0,this.bindGroup),(t=this.engine.currentComputePass).dispatch.apply(t,Hh()(this.context.dispatch)))}},{key:"updateBuffer",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.vertexBuffers[t];r&&r.subData({data:e,offset:n})}},{key:"updateUniform",value:function(t,e){var n=this.uniformGPUBufferLayout.find((function(e){return e.name===t}));n&&this.uniformBuffer.subData({data:Number.isFinite(e)?new Float32Array([e]):new Float32Array(e),offset:n.offset})}},{key:"confirmInput",value:function(t,e){var n=this.vertexBuffers[e],r=t.outputBuffer;if(n&&r&&n!==r){var o=this.engine.device.createCommandEncoder(),i=t.context.output,a=i.length*i.typedArrayConstructor.BYTES_PER_ELEMENT;o.copyBufferToBuffer(r.get(),0,n.get(),0,a),(xl?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([o.finish()])}}},{key:"compileShaderToSpirV",value:function(t,e,n){return this.compileRawShaderToSpirV(n+t,e)}},{key:"compileRawShaderToSpirV",value:function(t,e){return this.engine.glslang.compileGLSL(t,e)}},{key:"compileComputePipelineStageDescriptor",value:(e=Rr()(Or.a.mark((function t(e){var n;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e,this.engine.options.useWGSL){t.next=6;break}return t.next=5,this.compileShaderToSpirV(e,"compute","#version 450\\n");case 5:n=t.sent;case 6:return t.abrupt("return",{computeStage:{module:this.engine.device.createShaderModule({code:n,isWHLSL:xl}),entryPoint:"main"}});case 7:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}(),Id=function(){function t(e,n){Er()(this,t),this.engine=e,this.options=n,this.indexCount=void 0,this.buffer=void 0;var r=n,o=r.data,i=(r.usage,r.type,r.count);this.indexCount=i||0,this.buffer=new Ed(e,{data:o instanceof Array?new Uint16Array(o):o,usage:ql.BufferUsage.Index|ql.BufferUsage.CopyDst})}return Tr()(t,[{key:"get",value:function(){return this.buffer}},{key:"subData",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),t}(),kd=function(){function t(e,n){Er()(this,t),this.engine=e,this.options=n,this.colorTexture=void 0,this.depthTexture=void 0,this.width=0,this.height=0;var r=n,o=(r.width,r.height,r.color),i=(r.colors,r.depth);r.stencil;o&&(this.colorTexture=o),i&&(this.depthTexture=i)}return Tr()(t,[{key:"get",value:function(){var t,e;return{color:null===(t=this.colorTexture)||void 0===t?void 0:t.get(),depth:null===(e=this.depthTexture)||void 0===e?void 0:e.get()}}},{key:"destroy",value:function(){var t,e;null===(t=this.colorTexture)||void 0===t||t.destroy(),null===(e=this.depthTexture)||void 0===e||e.destroy()}},{key:"resize",value:function(t){var e,n,r=t.width,o=t.height;r===this.width&&o===this.height||(null===(e=this.colorTexture)||void 0===e||e.resize({width:r,height:o}),null===(n=this.depthTexture)||void 0===n||n.resize({width:r,height:o}));this.width=r,this.height=o}}]),t}(),Od=(vd={},uo()(vd,Qu.POINTS,ql.PrimitiveTopology.PointList),uo()(vd,Qu.LINES,ql.PrimitiveTopology.LineList),uo()(vd,Qu.LINE_LOOP,ql.PrimitiveTopology.LineList),uo()(vd,Qu.LINE_STRIP,ql.PrimitiveTopology.LineStrip),uo()(vd,Qu.TRIANGLES,ql.PrimitiveTopology.TriangleList),uo()(vd,Qu.TRIANGLE_FAN,ql.PrimitiveTopology.TriangleList),uo()(vd,Qu.TRIANGLE_STRIP,ql.PrimitiveTopology.TriangleStrip),vd),Dd=(md={},uo()(md,Qu.NEVER,ql.CompareFunction.Never),uo()(md,Qu.ALWAYS,ql.CompareFunction.Always),uo()(md,Qu.LESS,ql.CompareFunction.Less),uo()(md,Qu.LEQUAL,ql.CompareFunction.LessEqual),uo()(md,Qu.GREATER,ql.CompareFunction.Greater),uo()(md,Qu.GEQUAL,ql.CompareFunction.GreaterEqual),uo()(md,Qu.EQUAL,ql.CompareFunction.Equal),uo()(md,Qu.NOTEQUAL,ql.CompareFunction.NotEqual),md),Rd=(yd={},uo()(yd,Qu.FUNC_ADD,ql.BlendOperation.Add),uo()(yd,Qu.MIN_EXT,ql.BlendOperation.Min),uo()(yd,Qu.MAX_EXT,ql.BlendOperation.Max),uo()(yd,Qu.FUNC_SUBTRACT,ql.BlendOperation.Subtract),uo()(yd,Qu.FUNC_REVERSE_SUBTRACT,ql.BlendOperation.ReverseSubtract),yd),Md=(gd={},uo()(gd,Qu.ZERO,ql.BlendFactor.Zero),uo()(gd,Qu.ONE,ql.BlendFactor.One),uo()(gd,Qu.SRC_COLOR,ql.BlendFactor.SrcColor),uo()(gd,Qu.ONE_MINUS_SRC_COLOR,ql.BlendFactor.OneMinusSrcColor),uo()(gd,Qu.SRC_ALPHA,ql.BlendFactor.SrcAlpha),uo()(gd,Qu.ONE_MINUS_SRC_ALPHA,ql.BlendFactor.OneMinusSrcAlpha),uo()(gd,Qu.DST_COLOR,ql.BlendFactor.DstColor),uo()(gd,Qu.ONE_MINUS_DST_COLOR,ql.BlendFactor.OneMinusDstColor),uo()(gd,Qu.DST_ALPHA,ql.BlendFactor.DstAlpha),uo()(gd,Qu.ONE_MINUS_DST_ALPHA,ql.BlendFactor.OneMinusDstAlpha),uo()(gd,Qu.CONSTANT_COLOR,ql.BlendFactor.BlendColor),uo()(gd,Qu.ONE_MINUS_CONSTANT_COLOR,ql.BlendFactor.OneMinusBlendColor),uo()(gd,Qu.SRC_ALPHA_SATURATE,ql.BlendFactor.SrcAlphaSaturated),gd),Cd=(bd={},uo()(bd,Qu.ALPHA,"r8unorm"),uo()(bd,Qu.RGBA,"rgba8unorm"),uo()(bd,Qu.DEPTH_COMPONENT,"depth32float"),uo()(bd,Qu.DEPTH_STENCIL,"depth24plus-stencil8"),bd),Nd=(_d={},uo()(_d,Qu.NEAREST,"nearest"),uo()(_d,Qu.LINEAR,"linear"),_d),Pd=(xd={},uo()(xd,Qu.REPEAT,"repeat"),uo()(xd,Qu.CLAMP_TO_EDGE,"clamp-to-edge"),uo()(xd,Qu.MIRRORED_REPEAT,"mirror-repeat"),xd);function Gd(t){var e=t.cull;return e&&e.enable?e.face?e.face===Qu.FRONT?ql.CullMode.Front:ql.CullMode.Back:void 0:ql.CullMode.None}function jd(t){var e=t.depth,n=(t.stencil,{compare:ql.CompareFunction.Always,depthFailOp:ql.StencilOperation.Keep,failOp:ql.StencilOperation.Keep,passOp:ql.StencilOperation.Keep});return{depthWriteEnabled:e&&e.enable,depthCompare:Dd[(null==e?void 0:e.func)||Qu.ALWAYS],format:ql.TextureFormat.Depth24PlusStencil8,stencilFront:n,stencilBack:n,stencilReadMask:4294967295,stencilWriteMask:4294967295}}function Ld(t,e){var n=t.blend;return[{format:e,alphaBlend:{srcFactor:Md[n&&n.func&&n.func.srcAlpha||Qu.ONE],dstFactor:Md[n&&n.func&&n.func.dstAlpha||Qu.ZERO],operation:Rd[n&&n.equation&&n.equation.alpha||Qu.FUNC_ADD]},colorBlend:{srcFactor:Md[n&&n.func&&n.func.srcRGB||Qu.ONE],dstFactor:Md[n&&n.func&&n.func.dstRGB||Qu.ZERO],operation:Rd[n&&n.equation&&n.equation.rgb||Qu.FUNC_ADD]},writeMask:ql.ColorWrite.All}]}function Ud(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ud(Object(n),!0).forEach((function(e){uo()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ud(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Fd(t){for(var e=0,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(var i=0,a=r;i<a.length;i++){var u=a[i];e+=u.length}for(var s=new t(e),c=0,f=0,l=r;f<l.length;f++){var h=l[f];s.set(h,c),c+=h.length}return s}var zd,Vd,Wd,Xd,Hd,qd,Yd,Kd,Zd,Qd,Jd,$d,tp=function(){function t(e,n){Er()(this,t),this.engine=e,this.options=n,this.pipelineLayout=void 0,this.renderPipeline=void 0,this.uniformsBindGroupLayout=void 0,this.uniformBindGroup=void 0,this.uniformBuffer=void 0,this.uniforms={},this.uniformGPUBufferLayout=[],this.attributeCache={},this.indexBuffer=void 0,this.indexCount=void 0}var e,n;return Tr()(t,[{key:"init",value:(n=Rr()(Or.a.mark((function t(){var e,n,r,o,i,a,u,s,c,f,l,h,d,p,v,m,y=this;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.options,n=e.vs,r=e.fs,o=e.attributes,i=e.uniforms,a=e.primitive,e.count,u=e.elements,s=e.depth,c=e.blend,f=e.stencil,l=e.cull,e.instances,t.next=3,this.compilePipelineStageDescriptor(n,r,null);case 3:h=t.sent,d=h.vertexStage,p=h.fragmentStage,i&&this.buildUniformBindGroup(i),u&&(this.indexBuffer=u.get(),this.indexCount=u.indexCount),v={vertexBuffers:Object.keys(o).map((function(t,e){var n=o[t],r=n.get(),i=r.arrayStride,a=r.stepMode,u=r.attributes;return y.attributeCache[t]=n,{arrayStride:i,stepMode:a,attributes:u}}))},m={sampleCount:this.engine.mainPassSampleCount,primitiveTopology:Od[a||Qu.TRIANGLES],rasterizationState:Bd(Bd({},this.getDefaultRasterizationStateDescriptor()),{},{cullMode:Gd({cull:l})}),depthStencilState:jd({depth:s,stencil:f}),colorStates:Ld({blend:c},this.engine.options.swapChainFormat),layout:this.pipelineLayout,vertexStage:d,fragmentStage:p,vertexState:v},this.renderPipeline=this.engine.device.createRenderPipeline(m);case 11:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"addUniforms",value:function(t){this.uniforms=Bd(Bd({},this.uniforms),rd(t))}},{key:"draw",value:function(t){var e=this,n=this.engine.getCurrentRenderPass(),r=Bd(Bd({},this.uniforms),rd(t.uniforms||{})),o=[];Object.keys(r).forEach((function(t){var n=td()(r[t]);if("boolean"===n||"number"===n||Array.isArray(r[t])||r[t].BYTES_PER_ELEMENT){var i,a=null===(i=e.uniformGPUBufferLayout.find((function(e){return e.name===t})))||void 0===i?void 0:i.offset;Td()(a)||e.uniformBuffer.subData({data:r[t],offset:a})}else{var u,s=null===(u=e.uniformGPUBufferLayout.find((function(e){return e.name===t})))||void 0===u?void 0:u.offset;if(!Td()(s)){var c=r[t].get(),f=c.color||c,l=f.texture,h=f.sampler;h&&(o.push({binding:s,resource:h}),s++),o.push({binding:s,resource:l.createView()})}}})),this.uniformBuffer&&(o[0]={binding:0,resource:{buffer:this.uniformBuffer.get()}}),this.uniformBindGroup=this.engine.device.createBindGroup({layout:this.uniformsBindGroupLayout,entries:o}),this.renderPipeline&&n.setPipeline(this.renderPipeline),n.setBindGroup(0,this.uniformBindGroup),this.indexBuffer&&n.setIndexBuffer(this.indexBuffer.get(),ql.IndexFormat.Uint32,0),Object.keys(this.attributeCache).forEach((function(t,r){n.setVertexBuffer(0+r,e.attributeCache[t].get().buffer,0)})),this.indexBuffer?n.drawIndexed(this.indexCount,this.options.instances||1,0,0,0):n.draw(this.options.count||0,this.options.instances||0,0,0)}},{key:"destroy",value:function(){throw new Error("Method not implemented.")}},{key:"compilePipelineStageDescriptor",value:(e=Rr()(Or.a.mark((function t(e,n,r){var o,i,a;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o="#version 450\\n",i=e,a=n,this.engine.options.useWGSL){t.next=10;break}return t.next=6,this.compileShaderToSpirV(e,"vertex",o);case 6:return i=t.sent,t.next=9,this.compileShaderToSpirV(n,"fragment",o);case 9:a=t.sent;case 10:return t.abrupt("return",this.createPipelineStageDescriptor(i,a));case 11:case"end":return t.stop()}}),t,this)}))),function(t,n,r){return e.apply(this,arguments)})},{key:"compileShaderToSpirV",value:function(t,e,n){return this.compileRawShaderToSpirV(n+t,e)}},{key:"compileRawShaderToSpirV",value:function(t,e){return this.engine.glslang.compileGLSL(t,e)}},{key:"createPipelineStageDescriptor",value:function(t,e){return{vertexStage:{module:this.engine.device.createShaderModule({code:t,isWHLSL:xl}),entryPoint:"main"},fragmentStage:{module:this.engine.device.createShaderModule({code:e,isWHLSL:xl}),entryPoint:"main"}}}},{key:"getDefaultRasterizationStateDescriptor",value:function(){return{frontFace:ql.FrontFace.CCW,cullMode:ql.CullMode.None,depthBias:0,depthBiasSlopeScale:0,depthBiasClamp:0}}},{key:"buildUniformBindGroup",value:function(t){var e=this,n=0,r=Fd.apply(void 0,[Float32Array].concat(Hh()(Object.keys(t).map((function(r){return t[r]?(e.uniformGPUBufferLayout.push({name:r,offset:n}),n+=4*(t[r].length||1),t[r]):[]}))))),o=[],i=!1;r.length&&(i=!0,o.push({binding:0,visibility:ql.ShaderStage.Fragment|ql.ShaderStage.Vertex,type:ql.BindingType.UniformBuffer})),Object.keys(t).filter((function(e){return null===t[e]})).forEach((function(t,n){e.uniformGPUBufferLayout.push({name:t,offset:2*n+(i?1:0)}),o.push({binding:2*n+(i?1:0),visibility:ql.ShaderStage.Fragment,type:ql.BindingType.Sampler},{binding:2*n+(i?1:0)+1,visibility:ql.ShaderStage.Fragment,type:ql.BindingType.SampledTexture})})),this.uniformsBindGroupLayout=this.engine.device.createBindGroupLayout({entries:o}),this.pipelineLayout=this.engine.device.createPipelineLayout({bindGroupLayouts:[this.uniformsBindGroupLayout]}),i&&(this.uniformBuffer=new Ed(this.engine,{data:r instanceof Array?new Float32Array(r):r,usage:ql.BufferUsage.Uniform|ql.BufferUsage.CopyDst}))}}]),t}(),ep=function(){function t(e,n){Er()(this,t),this.engine=e,this.options=n,this.texture=void 0,this.sampler=void 0,this.width=void 0,this.height=void 0,this.createTexture()}return Tr()(t,[{key:"get",value:function(){return{texture:this.texture,sampler:this.sampler}}},{key:"update",value:function(){}},{key:"resize",value:function(t){var e=t.width,n=t.height;e===this.width&&n===this.height||(this.destroy(),this.createTexture()),this.width=e,this.height=n}},{key:"destroy",value:function(){this.texture&&this.texture.destroy()}},{key:"createTexture",value:function(){var t=this.options,e=(t.data,t.type),n=(void 0===e&&Qu.UNSIGNED_BYTE,t.width),r=t.height,o=(t.flipY,t.format),i=void 0===o?Qu.RGBA:o,a=(t.mipmap,t.wrapS),u=void 0===a?Qu.CLAMP_TO_EDGE:a,s=t.wrapT,c=void 0===s?Qu.CLAMP_TO_EDGE:s,f=t.aniso,l=void 0===f?0:f,h=(t.alignment,t.premultiplyAlpha,t.mag),d=void 0===h?Qu.NEAREST:h,p=t.min,v=void 0===p?Qu.NEAREST:p,m=t.colorSpace,y=(void 0===m&&Qu.BROWSER_DEFAULT_WEBGL,t.usage);this.width=n,this.height=r,this.texture=this.engine.device.createTexture({size:[n,r,1],mipLevelCount:1,sampleCount:1,dimension:ql.TextureDimension.E2d,format:Cd[i],usage:y||ql.TextureUsage.Sampled|ql.TextureUsage.CopyDst}),(!y||y&ql.TextureUsage.Sampled)&&(this.sampler=this.engine.device.createSampler({addressModeU:Pd[u],addressModeV:Pd[c],addressModeW:Pd[u],magFilter:Nd[d],minFilter:Nd[v],maxAnisotropy:l}))}}]),t}(),np=Object(Lr.injectable)()(zd=function(){function t(){var e=this;Er()(this,t),this.supportWebGPU=!0,this.useWGSL=!1,this.options=void 0,this.canvas=void 0,this.context=void 0,this.glslang=void 0,this.adapter=void 0,this.device=void 0,this.swapChain=void 0,this.mainPassSampleCount=void 0,this.mainTexture=void 0,this.depthTexture=void 0,this.mainColorAttachments=void 0,this.mainTextureExtends=void 0,this.mainDepthAttachment=void 0,this.uploadEncoder=void 0,this.renderEncoder=void 0,this.computeEncoder=void 0,this.renderTargetEncoder=void 0,this.commandBuffers=new Array(4).fill(void 0),this.currentRenderPass=null,this.mainRenderPass=null,this.currentRenderTargetViewDescriptor=void 0,this.currentComputePass=null,this.bundleEncoder=void 0,this.tempBuffers=[],this.currentRenderTarget=null,this.uploadEncoderDescriptor={label:"upload"},this.renderEncoderDescriptor={label:"render"},this.renderTargetEncoderDescriptor={label:"renderTarget"},this.computeEncoderDescriptor={label:"compute"},this.pipelines={},this.computePipelines={},this.defaultSampleCount=4,this.clearDepthValue=1,this.clearStencilValue=0,this.transientViewport={x:1/0,y:0,width:0,height:0},this.cachedViewport={x:0,y:0,width:0,height:0},this.clear=function(t){t.framebuffer;var n=t.color,r=t.depth,o=t.stencil;e.options.supportCompute&&e.startComputePass(),e.currentRenderTarget?(e.currentRenderPass&&e.endRenderTargetRenderPass(),e.startRenderTargetRenderPass(e.currentRenderTarget,n||null,!!r,!!o)):(e.mainColorAttachments[0].loadValue=n||ql.LoadOp.Load,e.mainDepthAttachment.depthLoadValue=r||ql.LoadOp.Load,e.mainDepthAttachment.stencilLoadValue=o?e.clearStencilValue:ql.LoadOp.Load,e.mainRenderPass&&e.endMainRenderPass(),e.startMainRenderPass())},this.createModel=function(){var t=Rr()(Or.a.mark((function t(n){var r;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new tp(e,n),t.next=3,r.init();case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.createAttribute=function(t){return new wd(e,t)},this.createBuffer=function(t){return new Ed(e,t)},this.createElements=function(t){return new Id(e,t)},this.createTexture2D=function(t){return new ep(e,t)},this.createFramebuffer=function(t){return new kd(e,t)},this.useFramebuffer=function(t,n){e.currentRenderTarget&&e.unbindFramebuffer(e.currentRenderTarget),e.currentRenderTarget=t,e.currentRenderTargetViewDescriptor={dimension:ql.TextureViewDimension.E2d,arrayLayerCount:1,aspect:ql.TextureAspect.All},e.currentRenderPass=null,n()},this.createComputeModel=function(){var t=Rr()(Or.a.mark((function t(n){var r;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new Ad(e,n),t.next=3,r.init();case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.getCanvas=function(){return e.canvas},this.getGLContext=function(){throw new Error("Method not implemented.")},this.viewport=function(t){var n=t.x,r=t.y,o=t.width,i=t.height;if(e.currentRenderPass){if(e.transientViewport.x!==1/0){e.getCurrentRenderPass().setViewport(e.transientViewport.x,e.transientViewport.y,e.transientViewport.width,e.transientViewport.height,0,1)}else if(n!==e.cachedViewport.x||r!==e.cachedViewport.y||o!==e.cachedViewport.width||i!==e.cachedViewport.height){e.cachedViewport={x:n,y:r,width:o,height:i},e.getCurrentRenderPass().setViewport(n,r,o,i,0,1)}}else e.transientViewport={x:n,y:r,width:o,height:i}},this.readPixels=function(t){throw new Error("Method not implemented.")}}var e,n;return Tr()(t,[{key:"isFloatSupported",value:function(){return!0}},{key:"init",value:(n=Rr()(Or.a.mark((function t(e){return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.canvas=e.canvas,this.options=e,this.useWGSL=!!e.useWGSL,this.mainPassSampleCount=e.antialiasing?this.defaultSampleCount:1,t.next=6,this.initGlslang();case 6:this.initContextAndSwapChain(),this.initMainAttachments();case 8:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"destroy",value:function(){this.mainTexture&&this.mainTexture.destroy(),this.depthTexture&&this.depthTexture.destroy(),this.tempBuffers.forEach((function(t){return t.destroy()})),this.tempBuffers=[]}},{key:"beginFrame",value:function(){this.uploadEncoder=this.device.createCommandEncoder(this.uploadEncoderDescriptor),this.renderEncoder=this.device.createCommandEncoder(this.renderEncoderDescriptor),this.renderTargetEncoder=this.device.createCommandEncoder(this.renderTargetEncoderDescriptor),this.options.supportCompute&&(this.computeEncoder=this.device.createCommandEncoder(this.computeEncoderDescriptor))}},{key:"endFrame",value:function(){this.options.supportCompute&&this.endComputePass(),this.endMainRenderPass(),this.commandBuffers[0]=this.uploadEncoder.finish(),this.commandBuffers[1]=this.renderEncoder.finish(),this.options.supportCompute&&(this.commandBuffers[2]=this.computeEncoder.finish()),this.commandBuffers[3]=this.renderTargetEncoder.finish(),xl?this.device.getQueue().submit(this.commandBuffers.filter((function(t){return t}))):this.device.defaultQueue.submit(this.commandBuffers.filter((function(t){return t})))}},{key:"getCurrentRenderPass",value:function(){return this.currentRenderTarget&&!this.currentRenderPass?this.startRenderTargetRenderPass(this.currentRenderTarget,null,!1,!1):this.currentRenderPass||this.startMainRenderPass(),this.currentRenderPass}},{key:"initGlslang",value:(e=Rr()(Or.a.mark((function t(){var e,n;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dd();case 2:return this.glslang=t.sent,t.next=5,null===(e=navigator)||void 0===e||null===(n=e.gpu)||void 0===n?void 0:n.requestAdapter();case 5:return this.adapter=t.sent,t.next=8,this.adapter.requestDevice();case 8:this.device=t.sent;case 9:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"initContextAndSwapChain",value:function(){this.context=this.canvas.getContext(xl?"gpu":"gpupresent"),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.options.swapChainFormat,usage:ql.TextureUsage.OutputAttachment|ql.TextureUsage.CopySrc})}},{key:"initMainAttachments",value:function(){if(this.mainTextureExtends={width:this.canvas.width,height:this.canvas.height,depth:1},this.options.antialiasing){var t={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:ql.TextureDimension.E2d,format:ql.TextureFormat.BGRA8Unorm,usage:ql.TextureUsage.OutputAttachment};this.mainTexture&&this.mainTexture.destroy(),this.mainTexture=this.device.createTexture(t),this.mainColorAttachments=[{attachment:xl?this.mainTexture.createDefaultView():this.mainTexture.createView(),loadValue:[0,0,0,1],storeOp:ql.StoreOp.Store}]}else this.mainColorAttachments=[{attachment:xl?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),loadValue:[0,0,0,1],storeOp:ql.StoreOp.Store}];var e={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:ql.TextureDimension.E2d,format:xl?"depth32float-stencil8":ql.TextureFormat.Depth24PlusStencil8,usage:ql.TextureUsage.OutputAttachment};this.depthTexture&&this.depthTexture.destroy(),this.depthTexture=this.device.createTexture(e),this.mainDepthAttachment={attachment:xl?this.depthTexture.createDefaultView():this.depthTexture.createView(),depthLoadValue:this.clearDepthValue,depthStoreOp:ql.StoreOp.Store,stencilLoadValue:this.clearStencilValue,stencilStoreOp:ql.StoreOp.Store}}},{key:"startComputePass",value:function(){this.currentComputePass&&this.endComputePass(),this.currentComputePass=this.computeEncoder.beginComputePass()}},{key:"startMainRenderPass",value:function(){this.currentRenderPass&&!this.currentRenderTarget&&this.endMainRenderPass(),this.options.antialiasing?this.mainColorAttachments[0].resolveTarget=xl?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView():this.mainColorAttachments[0].attachment=xl?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),this.currentRenderPass=this.renderEncoder.beginRenderPass({colorAttachments:this.mainColorAttachments,depthStencilAttachment:this.mainDepthAttachment}),this.mainRenderPass=this.currentRenderPass,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"startRenderTargetRenderPass",value:function(t,e,n){var r,o,i,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=null===(r=t.get().color)||void 0===r?void 0:r.texture;u&&(i=u.createView(this.currentRenderTargetViewDescriptor));var s,c=null===(o=t.get().depth)||void 0===o?void 0:o.texture;c&&(s=c.createView());var f=this.renderTargetEncoder.beginRenderPass({colorAttachments:[{attachment:i,loadValue:null!==e?e:ql.LoadOp.Load,storeOp:ql.StoreOp.Store}],depthStencilAttachment:c&&s?{attachment:s,depthLoadValue:n?this.clearDepthValue:ql.LoadOp.Load,depthStoreOp:ql.StoreOp.Store,stencilLoadValue:a?this.clearStencilValue:ql.LoadOp.Load,stencilStoreOp:ql.StoreOp.Store}:void 0});this.currentRenderPass=f,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"endMainRenderPass",value:function(){this.currentRenderPass===this.mainRenderPass&&null!==this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport(),this.currentRenderPass=null,this.mainRenderPass=null)}},{key:"endComputePass",value:function(){this.currentComputePass&&(this.currentComputePass.endPass(),this.currentComputePass=null)}},{key:"endRenderTargetRenderPass",value:function(){this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport())}},{key:"resetCachedViewport",value:function(){this.cachedViewport={x:0,y:0,width:0,height:0}}},{key:"unbindFramebuffer",value:function(t){this.currentRenderPass&&this.currentRenderPass!==this.mainRenderPass&&this.endRenderTargetRenderPass(),this.transientViewport.x=1/0,this.currentRenderTarget=null,this.currentRenderPass=this.mainRenderPass}}]),t}())||zd;function rp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yr()(t);if(e){var o=Yr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr()(this,n)}}var op=(Vd=Object(Lr.injectable)(),Wd=Object(Lr.inject)(Ur.Systems),Xd=Object(Lr.named)(Ur.MaterialSystem),Hd=Object(Lr.inject)(Ur.Systems),qd=Object(Lr.named)(Ur.GeometrySystem),Yd=Object(Lr.inject)(Ur.ShaderModuleService),Vd((Zd=function(t){Wr()(n,t);var e=rp(n);function n(){var t;Er()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),xr()(t,"materialSystem",Qd,co()(t)),xr()(t,"geometrySystem",Jd,co()(t)),xr()(t,"shaderModuleService",$d,co()(t)),t}return Tr()(n,[{key:"onAttributeChanged",value:function(t){var e=t.name,n=t.data,r=this.getMeshComponent();r&&r.material&&("gridColor"===e?(r.material.setUniform("u_GridColor",n),r.material.setUniform("u_GridColor2",n)):"gridSize"===e&&(r.material.setUniform("u_GridSize",n),r.material.setUniform("u_GridSize2",n)))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:"attribute vec3 a_Position;\\n\\nvarying vec3 v_Position;\\n\\nuniform mat4 projectionMatrix;\\nuniform mat4 modelViewMatrix;\\n\\nvoid main() {\\n  v_Position = a_Position;\\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);\\n}",fs:"// generate grid, borrow from clay.gl viewer\\n// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl\\n#extension GL_OES_standard_derivatives : enable\\n\\nvarying vec3 v_Position;\\n// varying vec3 v_Normal;\\n\\nuniform float u_GridSize : 5;\\nuniform float u_GridSize2 : .5;\\nuniform vec4 u_GridColor : [0, 0, 0, 1];\\nuniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];\\nuniform bool u_GridEnabled : true;\\n\\n// uniform vec3 u_LightDirection;\\n// uniform vec3 u_LightColor;\\n// uniform vec3 u_Camera;\\n\\nvoid main() {\\n  // vec3 n = v_Normal;\\n  // vec3 l = normalize(u_LightDirection);\\n  // float NdotL = clamp(dot(n, l), 0.001, 1.0);\\n\\n  gl_FragColor = vec4(1.);\\n\\n  if (u_GridEnabled) {\\n    float wx = v_Position.x;\\n    float wz = v_Position.z;\\n    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;\\n    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;\\n\\n    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;\\n    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;\\n\\n    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);\\n    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);\\n    // if (v0 > 0.1) {\\n        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);\\n    // }\\n    // else {\\n        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);\\n    // }\\n  }\\n\\n  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);\\n  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;\\n\\n  // gl_FragColor.rgb *= diffuseColor;\\n}"});var t=this.shaderModuleService.getModule("grid"),e=t.vs,n=t.fs,r=t.uniforms,o=this.materialSystem.createShaderMaterial({vertexShader:e,fragmentShader:n});this.setMaterial(o);var i=this.geometrySystem.createBufferGeometry({vertexCount:4});this.setGeometry(i),o.setCull({enable:!1,face:Qu.BACK}).setDepth({enable:!0,func:Qu.LESS}),o.setUniform(r),this.setAttributes({gridColor:this.config.gridColor,gridSize:this.config.gridSize}),i.setIndex([0,3,2,2,1,0]),i.setAttribute("a_Position",Float32Array.from([-4,-1,-4,4,-1,-4,4,-1,4,-4,-1,4]),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})}}]),n}(Ah),Qd=Ir()(Zd.prototype,"materialSystem",[Wd,Xd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jd=Ir()(Zd.prototype,"geometrySystem",[Hd,qd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$d=Ir()(Zd.prototype,"shaderModuleService",[Yd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kd=Zd))||Kd),ip=n(53),ap=n(36);function up(t,e,n,r,o){sp(e,r,-o),sp(e,r,o),t.push(n),t.push(n)}function sp(t,e,n){t.push([[e[0],e[1]],n])}var cp,fp,lp,hp,dp,pp,vp,mp,yp,gp,bp;function _p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yr()(t);if(e){var o=Yr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr()(this,n)}}var xp,wp,Ep,Sp,Tp,Ap,Ip,kp,Op,Dp,Rp,Mp=(cp=Object(Lr.injectable)(),fp=Object(Lr.inject)(Ur.Systems),lp=Object(Lr.named)(Ur.MaterialSystem),hp=Object(Lr.inject)(Ur.Systems),dp=Object(Lr.named)(Ur.GeometrySystem),pp=Object(Lr.inject)(Ur.ShaderModuleService),cp((mp=function(t){Wr()(n,t);var e=_p(n);function n(){var t;Er()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),xr()(t,"materialSystem",yp,co()(t)),xr()(t,"geometrySystem",gp,co()(t)),xr()(t,"shaderModuleService",bp,co()(t)),t.vertexCount=void 0,t}return Tr()(n,[{key:"onAttributeChanged",value:function(t){var e=t.name,n=t.data,r=this.getMeshComponent();if(r&&r.material)switch(e){case"dashArray":r.material.setUniform("u_dash_array",n);break;case"dashOffset":r.material.setUniform("u_dash_offset",n);break;case"dashRatio":r.material.setUniform("u_dash_ratio",n);break;case"thickness":r.material.setUniform("u_thickness",n);break;case"color":var o=new Array(this.vertexCount).fill(void 0).map((function(){return n})).reduce((function(t,e){return[].concat(Hh()(t),Hh()(e))}),[]);r.geometry.setAttribute("a_color",Float32Array.from(o),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]})}}},{key:"onEntityCreated",value:function(){var t=this;this.shaderModuleService.registerModule("line",{vs:"attribute vec2 a_pos;\\nattribute vec4 a_color;\\nattribute float a_line_miter;\\nattribute vec2 a_line_normal;\\nattribute float a_counters;\\n\\nuniform mat4 projectionMatrix;\\nuniform mat4 modelViewMatrix;\\nuniform float u_thickness : 0.02;\\nuniform vec2 u_viewport;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_counters;\\n\\nvoid main() {\\n  v_color = a_color;\\n  v_counters = a_counters;\\n\\n  vec3 normal = normalize(vec3(a_line_normal, 0.0));\\n\\n  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);\\n\\n  v_normal = vec2(normal * sign(a_line_miter));\\n\\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;\\n}\\n",fs:"uniform float u_dash_array : 0.02;\\nuniform float u_dash_offset : 0;\\nuniform float u_dash_ratio : 0;\\nuniform float u_thickness : 0.02;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_counters;\\n\\nvoid main() {\\n    float blur = 1. - smoothstep(0.98, 1., length(v_normal));\\n\\n    gl_FragColor = v_color;\\n    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));\\n}"});var e=this.shaderModuleService.getModule("line"),n=e.vs,r=e.fs,o=e.uniforms,i=this.materialSystem.createShaderMaterial({vertexShader:n,fragmentShader:r}),a=function(t,e,n){var r=[0,0],o=[0,0],i=[0,0],a=[0,0],u=-1,s=!1,c=null,f=Object(ip.create)(),l=n||0,h=[],d=[],p=[],v=[0,0];e&&(t=t.slice()).push(t[0]);for(var m=t.length,y=1;y<m;y++){var g=l,b=t[y-1],_=t[y],x=y<t.length-1?t[y+1]:null;if(v.push(y/m,y/m),Object(ap.direction)(r,_,b),c||(c=[0,0],Object(ap.normal)(c,r)),s||(s=!0,up(d,h,b,c,1)),p.push([g+0,g+1,g+2]),x){Object(ap.direction)(o,x,_);var w=Object(ap.computeMiter)(i,a,r,o,1),E=Object(ip.dot)(i,c)<0?-1:1,S=w>3;if(!isFinite(w)){Object(ap.normal)(c,r),up(d,h,_,c,1),p.push(1===u?[g,g+2,g+3]:[g+2,g+1,g+3]),l+=2,u=E;continue}S?(w=3,v.push(y/m),sp(h,c,-E),d.push(_),sp(h,a,w*E),d.push(_),p.push(u!==-E?[g,g+2,g+3]:[g+2,g+1,g+3]),p.push([g+2,g+3,g+4]),Object(ap.normal)(f,o),Object(ip.copy)(c,f),sp(h,c,-E),d.push(_),l+=3):(up(d,h,_,a,w),p.push(1===u?[g,g+2,g+3]:[g+2,g+1,g+3]),E=-1,Object(ip.copy)(c,a),l+=2),u=E}else Object(ap.normal)(c,r),up(d,h,_,c,1),p.push(1===u?[g,g+2,g+3]:[g+2,g+1,g+3]),l+=2}return{normals:h,attrIndex:p,attrPos:d,attrCounters:v}}(this.config.points,!1),u=a.normals,s=a.attrIndex,c=a.attrPos,f=a.attrCounters,l=c.length;this.vertexCount=l;var h=this.geometrySystem.createBufferGeometry({vertexCount:l});this.setMaterial(i),this.setGeometry(h),i.setCull({enable:!1,face:Qu.BACK}).setUniform(o),this.setAttributes({dashArray:this.config.dashArray,dashOffset:this.config.dashOffset,dashRatio:this.config.dashRatio,thickness:this.config.thickness});var d=[],p=[];u.forEach((function(t){var e=t[0],n=t[1];d.push([e[0],e[1]]),p.push(n)})),h.setIndex(s.reduce((function(t,e){return[].concat(Hh()(t),Hh()(e))}),[])),h.setAttribute("a_pos",Float32Array.from(c.reduce((function(t,e){return[].concat(Hh()(t),Hh()(e))}),[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]});var v=new Array(l).fill(void 0).map((function(){return Hh()(t.config.color)})).reduce((function(t,e){return[].concat(Hh()(t),Hh()(e))}),[]);h.setAttribute("a_color",Float32Array.from(v),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]}),h.setAttribute("a_line_miter",Float32Array.from(p),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float"}]}),h.setAttribute("a_line_normal",Float32Array.from(d.reduce((function(t,e){return[].concat(Hh()(t),Hh()(e))}),[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:3,offset:0,format:"float2"}]}),h.setAttribute("a_counters",Float32Array.from(f),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:4,offset:0,format:"float"}]})}}]),n}(Ah),yp=Ir()(mp.prototype,"materialSystem",[fp,lp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gp=Ir()(mp.prototype,"geometrySystem",[hp,dp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bp=Ir()(mp.prototype,"shaderModuleService",[pp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vp=mp))||vp);function Cp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Np(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yr()(t);if(e){var o=Yr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr()(this,n)}}var Pp=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"];console.log();var Gp,jp,Lp,Up,Bp,Fp,zp,Vp,Wp,Xp=(xp=Object(Lr.injectable)(),wp=Object(Lr.inject)(Ur.Systems),Ep=Object(Lr.named)(Ur.MaterialSystem),Sp=Object(Lr.inject)(Ur.Systems),Tp=Object(Lr.named)(Ur.GeometrySystem),Ap=Object(Lr.inject)(Ur.ShaderModuleService),xp((kp=function(t){Wr()(n,t);var e=Np(n);function n(){var t;Er()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),xr()(t,"materialSystem",Op,co()(t)),xr()(t,"geometrySystem",Dp,co()(t)),xr()(t,"shaderModuleService",Rp,co()(t)),t}return Tr()(n,[{key:"onAttributeChanged",value:function(t){var e=t.name,n=t.data,r=this.getMeshComponent();r&&r.material&&("strokeWidth"===e?r.material.setUniform("u_stroke_width",n):"strokeColor"===e?r.material.setUniform("u_stroke_color",n):"strokeOpacity"===e?r.material.setUniform("u_stroke_opacity",n):"opacity"===e?r.material.setUniform("u_opacity",n):"blur"===e&&r.material.setUniform("u_blur",n))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:'attribute vec2 position;\\nattribute vec4 color;\\nattribute float shape;\\nattribute vec2 offset;\\nattribute float size;\\n\\nuniform mat4 projectionMatrix;\\nuniform mat4 modelViewMatrix;\\n\\nuniform float u_stroke_width : 0.01;\\nuniform float u_device_pixel_ratio;\\nuniform vec2 u_viewport;\\n\\nvarying vec4 v_color;\\nvarying vec4 v_data;\\nvarying float v_radius;\\n\\n#pragma include "picking"\\n\\nvoid main() {\\n  v_color = color;\\n  v_radius = size;\\n\\n  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);\\n\\n  // construct point coords\\n  v_data = vec4(position, antialiasblur, shape);\\n\\n  gl_Position = projectionMatrix * modelViewMatrix\\n    * vec4(position * size + offset, 0.0, 1.0);\\n\\n  setPickingColor(a_PickingColor);\\n}',fs:"uniform float u_blur : 0.05;\\nuniform float u_opacity : 0.7;\\nuniform float u_stroke_width : 0.01;\\nuniform vec4 u_stroke_color : [0, 0, 0, 0];\\nuniform float u_stroke_opacity : 1;\\n\\nvarying vec4 v_color;\\nvarying vec4 v_data;\\nvarying float v_radius;\\n\\n#pragma include \\"sdf2d\\"\\n#pragma include \\"picking\\"\\n\\nvoid main() {\\n  int shape = int(floor(v_data.w + 0.5));\\n\\n  float antialiasblur = v_data.z;\\n  float antialiased_blur = -max(u_blur, antialiasblur);\\n  float r = v_radius / (v_radius + u_stroke_width);\\n\\n  float outer_df;\\n  float inner_df;\\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\\n  // if (shape == 0) {\\n    outer_df = sdCircle(v_data.xy, 1.0);\\n    inner_df = sdCircle(v_data.xy, r);\\n  // } else if (shape == 1) {\\n  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\\n  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\\n  // } else if (shape == 2) {\\n  //   outer_df = sdBox(v_data.xy, vec2(1.));\\n  //   inner_df = sdBox(v_data.xy, vec2(r));\\n  // } else if (shape == 3) {\\n  //   outer_df = sdPentagon(v_data.xy, 0.8);\\n  //   inner_df = sdPentagon(v_data.xy, r * 0.8);\\n  // } else if (shape == 4) {\\n  //   outer_df = sdHexagon(v_data.xy, 0.8);\\n  //   inner_df = sdHexagon(v_data.xy, r * 0.8);\\n  // } else if (shape == 5) {\\n  //   outer_df = sdOctogon(v_data.xy, 1.0);\\n  //   inner_df = sdOctogon(v_data.xy, r);\\n  // } else if (shape == 6) {\\n  //   outer_df = sdHexagram(v_data.xy, 0.52);\\n  //   inner_df = sdHexagram(v_data.xy, r * 0.52);\\n  // } else if (shape == 7) {\\n  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));\\n  //   inner_df = sdRhombus(v_data.xy, vec2(r));\\n  // } else if (shape == 8) {\\n  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);\\n  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\\n  // }\\n\\n  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);\\n\\n  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(\\n    antialiased_blur,\\n    0.0,\\n    inner_df\\n  );\\n  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;\\n\\n  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);\\n  gl_FragColor.a = gl_FragColor.a * opacity_t;\\n\\n  gl_FragColor = filterColor(gl_FragColor);\\n}"});var t=this.shaderModuleService.getModule("grid"),e=t.vs,n=t.fs,r=t.uniforms,o=this.materialSystem.createShaderMaterial({vertexShader:e,fragmentShader:n,cull:{enable:!1},depth:{enable:!1},blend:{enable:!0,func:{srcRGB:Qu.SRC_ALPHA,dstRGB:Qu.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}});o.setUniform(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Cp(Object(n),!0).forEach((function(e){uo()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({u_device_pixel_ratio:window.devicePixelRatio},r));var i=this.buildAttributes(),a=this.geometrySystem.createInstancedBufferGeometry({maxInstancedCount:i.instancedOffsets.length/2,vertexCount:6});a.setIndex([0,2,1,0,3,2]),a.setAttribute("position",Float32Array.from(i.positions),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),a.setAttribute("offset",Float32Array.from(i.instancedOffsets),{arrayStride:8,stepMode:"instance",attributes:[{shaderLocation:1,offset:0,format:"float2"}]}),a.setAttribute("color",Float32Array.from(i.instancedColors),{arrayStride:16,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float4"}]}),a.setAttribute("size",Float32Array.from(i.instancedSizes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:3,offset:0,format:"float"}]}),a.setAttribute("shape",Float32Array.from(i.instancedShapes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:4,offset:0,format:"float"}]}),a.setAttribute("a_PickingColor",Float32Array.from(i.instancedPickingColors),{arrayStride:12,stepMode:"instance",attributes:[{shaderLocation:6,offset:0,format:"float3"}]}),this.setMaterial(o),this.setGeometry(a)}},{key:"buildAttribute",value:function(t,e,n){var r,o,i,a,u;(r=e.instancedPickingColors).push.apply(r,Hh()([(u=t.id||n)+1&255,u+1>>8&255,u+1>>8>>8&255])),e.instancedShapes.push(Pp.indexOf(t.shape||"circle")),(o=e.instancedColors).push.apply(o,Hh()(t.color||[1,0,0,1])),(i=e.instancedOffsets).push.apply(i,Hh()(t.position||[0,0])),(a=e.instancedSizes).push.apply(a,Hh()(t.size||[.2,.2]))}},{key:"buildAttributes",value:function(){var t=this,e={positions:[1,1,1,-1,-1,-1,-1,1],instancedOffsets:[],instancedColors:[],instancedSizes:[],instancedShapes:[],instancedPickingColors:[]};return Array.isArray(this.config)?this.config.forEach((function(n,r){t.buildAttribute(n,e,r)})):this.buildAttribute(this.config,e,0),e}}]),n}(Ah),Op=Ir()(kp.prototype,"materialSystem",[wp,Ep],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dp=Ir()(kp.prototype,"geometrySystem",[Sp,Tp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rp=Ir()(kp.prototype,"shaderModuleService",[Ap],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ip=kp))||Ip);function Hp(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return qp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qp(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function qp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Yp,Kp,Zp,Qp,Jp,$p,tv,ev,nv,rv,ov,iv,av=(Gp=Object(Lr.injectable)(),jp=Object(Lr.inject)(Ur.RenderEngine),Lp=Object(Lr.inject)(Ur.ShaderModuleService),Up=Object(Lr.inject)(Ur.ConfigService),Gp((Fp=function(){function t(){Er()(this,t),xr()(this,"engine",zp,this),xr()(this,"shaderModule",Vp,this),xr()(this,"configService",Wp,this),this.inited=!1,this.rendering=!1,this.pendings=[],this.views=[],this.size=void 0,this.container=void 0}var e,n;return Tr()(t,[{key:"init",value:(n=Rr()(Or.a.mark((function t(){var e,n,r,o,i;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.shaderModule.registerBuiltinModules(),e=this.container.getAll(Ur.Systems),!(n=this.configService.get()).canvas){t.next=25;break}return t.next=6,this.engine.init({canvas:n.canvas,swapChainFormat:ql.TextureFormat.BGRA8Unorm,antialiasing:!1});case 6:r=Hp(e),t.prev=7,r.s();case 9:if((o=r.n()).done){t.next=16;break}if(!(i=o.value).initialize){t.next=14;break}return t.next=14,i.initialize();case 14:t.next=9;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(7),r.e(t.t0);case 21:return t.prev=21,r.f(),t.finish(21);case 24:this.inited=!0;case 25:case"end":return t.stop()}}),t,this,[[7,18,21,24]])}))),function(){return n.apply(this,arguments)})},{key:"render",value:(e=Rr()(Or.a.mark((function t(){var e,n,r,o,i,a,u,s=arguments;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.inited&&!this.rendering){t.next=2;break}return t.abrupt("return");case 2:for(this.pendings.length&&this.pendings.forEach((function(t){t()})),this.rendering=!0,this.engine.beginFrame(),e=this.container.getAll(Ur.Systems),n=s.length,r=new Array(n),o=0;o<n;o++)r[o]=s[o];i=Hp(e),t.prev=8,i.s();case 10:if((a=i.n()).done){t.next=17;break}if(!(u=a.value).execute){t.next=15;break}return t.next=15,u.execute(r);case 15:t.next=10;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(8),i.e(t.t0);case 22:return t.prev=22,i.f(),t.finish(22);case 25:this.engine.endFrame(),this.rendering=!1;case 27:case"end":return t.stop()}}),t,this,[[8,19,22,25]])}))),function(){return e.apply(this,arguments)})},{key:"clear",value:function(t){var e=this;return this.inited?this.engine.clear(t):this.pendings.unshift((function(){e.engine.clear(t),e.pendings.shift()})),this}},{key:"setSize",value:function(t){var e=t.width,n=t.height,r=this.engine.getCanvas();return this.size={width:e,height:n},r.width=e,r.height=n,this}},{key:"getSize",value:function(){return this.size}}]),t}(),zp=Ir()(Fp.prototype,"engine",[jp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vp=Ir()(Fp.prototype,"shaderModule",[Lp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wp=Ir()(Fp.prototype,"configService",[Up],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bp=Fp))||Bp),uv=Object(Lr.injectable)()(Yp=function(){function t(){Er()(this,t),this.entities=[]}return Tr()(t,[{key:"getEntities",value:function(){return this.entities}},{key:"addEntity",value:function(t){return-1===this.entities.indexOf(t)&&this.entities.push(t),this}},{key:"removeEntity",value:function(t){var e=this.entities.indexOf(t);return this.entities.splice(e,1),this}}]),t}())||Yp,sv=(Kp=Object(Lr.injectable)(),Zp=Object(Lr.inject)(Ur.Systems),Qp=Object(Lr.named)(Ur.RendererSystem),Kp(($p=function(){function t(){Er()(this,t),xr()(this,"rendererSystem",tv,this),this.camera=void 0,this.scene=void 0,this.viewport={x:0,y:0,width:0,height:0},this.clearColor=[1,1,1,1]}return Tr()(t,[{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getViewport",value:function(){return this.viewport}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"setCamera",value:function(t){return this.camera=t,this}},{key:"setScene",value:function(t){return this.scene=t,this}},{key:"setViewport",value:function(t){return this.viewport=t,this}},{key:"setClearColor",value:function(t){return this.clearColor=t,this}},{key:"pick",value:function(t){return this.rendererSystem.pick(t,this)}}]),t}(),tv=Ir()($p.prototype,"rendererSystem",[Zp,Qp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jp=$p))||Jp);function cv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fv(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cv(Object(n),!0).forEach((function(e){uo()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var lv=(ev=Object(Lr.injectable)(),nv=Object(Lr.inject)(Ur.ConfigService),ev((ov=function(){function t(){Er()(this,t),xr()(this,"configService",iv,this),this.container=void 0}var e;return Tr()(t,[{key:"getEngine",value:(e=Rr()(Or.a.mark((function t(){var e,n,r,o;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.container.get(Ur.RenderEngine),n=this.configService.get(),r=n.canvas,o=n.engineOptions,t.next=4,e.init(fv({canvas:r||Yl(),swapChainFormat:ql.TextureFormat.BGRA8Unorm,antialiasing:!1},o));case 4:return t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"getTransformComponent",value:function(t){return this.container.get(Ur.TransformComponentManager).getComponentByEntity(t)}},{key:"getMeshComponent",value:function(t){return this.container.get(Ur.MeshComponentManager).getComponentByEntity(t)}},{key:"setConfig",value:function(t){this.configService.set(t)}},{key:"setContainer",value:function(t){this.container=t}},{key:"getContainer",value:function(){return this.container}},{key:"createEntity",value:function(){return Cr()}},{key:"createScene",value:function(){return this.container.get(uv)}},{key:"createCamera",value:function(){return this.container.get(zl)}},{key:"createView",value:function(){return this.container.get(sv)}},{key:"createRenderable",value:function(t,e,n){var r=e?this.container.getNamed(Ur.Renderable,e):this.container.get(Ah);return r.setConfig(n||{}),r.setEntity(t),r}},{key:"createBoxGeometry",value:function(t){return this.container.getNamed(Ur.Systems,Ur.GeometrySystem).createBox(t)}},{key:"createBufferGeometry",value:function(t){return this.container.getNamed(Ur.Systems,Ur.GeometrySystem).createBufferGeometry(t)}},{key:"createInstancedBufferGeometry",value:function(t){return this.container.getNamed(Ur.Systems,Ur.GeometrySystem).createInstancedBufferGeometry(t)}},{key:"createBasicMaterial",value:function(){return this.container.getNamed(Ur.Systems,Ur.MaterialSystem).createBasicMaterial()}},{key:"createShaderMaterial",value:function(t){return this.container.getNamed(Ur.Systems,Ur.MaterialSystem).createShaderMaterial(t)}},{key:"createKernel",value:function(t){var e=this.container.get(Th);return"string"==typeof t?e.setBundle(JSON.parse(t)):e.setBundle(t),e.init(),e}},{key:"createRenderer",value:function(){var t=this.container.get(av);return t.container=this.container,t.init(),t}},{key:"destroy",value:function(){this.container.getAll(Ur.Systems).forEach((function(t){t.tearDown&&t.tearDown()})),this.container.get(Ur.RenderEngine).destroy(),this.container.get(Ur.InteractorService).destroy()}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=vl(),r=navigator.gpu?np:fd;n.isBound(Ur.RenderEngine)||n.bind(Ur.RenderEngine).to(r).inSingletonScope(),n.bind(av).toSelf(),n.bind(Th).toSelf(),n.bind(Ah).toSelf(),n.bind(sv).toSelf(),n.bind(zl).toSelf(),n.bind(uv).toSelf(),n.bind(t).toSelf(),n.bind(Ur.Renderable).to(Xp).whenTargetNamed(Ah.POINT),n.bind(Ur.Renderable).to(Mp).whenTargetNamed(Ah.LINE),n.bind(Ur.Renderable).to(op).whenTargetNamed(Ah.GRID);var o=n.get(t);return o.setContainer(n),o.setConfig(e),o}}]),t}(),iv=Ir()(ov.prototype,"configService",[nv],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rv=ov))||rv),hv=function(t,e){return t?y(t)?function(){return t}:t:function(){return e||1}},dv=function(t,e){var n=[],r=[],o={},i=0;for(i=0;i<t.length;i++){var a=t[i];o[a.id]=i,n.push(a.x),n.push(a.y),n.push(0),n.push(0),r.push([])}for(i=0;i<e.length;i++){var u=e[i];r[o[u.source]].push(o[u.target]),r[o[u.target]].push(o[u.source])}var s=0;for(i=0;i<t.length;i++){var c=n.length,f=r[i],l=f.length;n[4*i+2]=c,n[4*i+3]=f.length,s=Math.max(s,f.length);for(var h=0;h<l;++h){var d=f[h];n.push(+d)}}for(;n.length%4!=0;)n.push(0);return{maxEdgePerVetex:s,array:new Float32Array(n)}},pv=function(t,e,n,r){var o=[],i=[],a={},u=0;for(u=0;u<t.length;u++){var s=t[u];a[s.id]=u,o.push(s.x),o.push(s.y),o.push(0),o.push(0),i.push([])}for(u=0;u<e.length;u++){var c=e[u];i[a[c.source]].push(a[c.target]),i[a[c.source]].push(n(c)),i[a[c.source]].push(r(c)),i[a[c.source]].push(0),i[a[c.target]].push(a[c.source]),i[a[c.target]].push(n(c)),i[a[c.target]].push(r(c)),i[a[c.target]].push(0)}var f=0;for(u=0;u<t.length;u++){var l=o.length,h=i[u],d=h.length;o[4*u+2]=l+1048576*d/4,o[4*u+3]=0,f=Math.max(f,d/4);for(var p=0;p<d;++p){var v=h[p];o.push(+v)}}for(;o.length%4!=0;)o.push(0);return{maxEdgePerVetex:f,array:new Float32Array(o)}},vv=function(t,e){var n=[],r=t.length,o={};return e.forEach((function(e){t.forEach((function(t,i){if(void 0===o[e[t]]&&(o[e[t]]=Object.keys(o).length),n.push(o[e[t]]),i===r-1)for(;n.length%4!=0;)n.push(0)}))})),{array:new Float32Array(n),count:Object.keys(o).length}},mv=function(t){for(var e=[],n=t.length,r=t[0].length,o=function(r){t.forEach((function(t,o){if(e.push(t[r]),o===n-1)for(;e.length%4!=0;)e.push(0)}))},i=0;i<r;i++)o(i);return new Float32Array(e)};function yv(t){return(yv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bv(t,e){return(bv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wv(t);if(e){var o=wv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xv(this,n)}}function xv(t,e){return!e||"object"!==yv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wv(t){return(wv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ev=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},Sv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bv(t,e)}(i,t);var e,n,r,o=_v(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).maxIteration=1e3,e.gravity=10,e.speed=1,e.clustering=!1,e.clusterField="cluster",e.clusterGravity=10,e.workerEnabled=!1,e.nodes=[],e.edges=[],e.width=300,e.height=300,e.nodeMap={},e.nodeIdxMap={},e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}},{key:"execute",value:function(){return Ev(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,r,o,i,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=(e=this).nodes)&&0!==n.length){t.next=5;break}return e.onLayoutEnd&&e.onLayoutEnd(),t.abrupt("return");case 5:if(e.width||"undefined"==typeof window||(e.width=window.innerWidth),e.height||"undefined"==typeof window||(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]),r=e.center,1!==n.length){t.next=14;break}return n[0].x=r[0],n[0].y=r[1],e.onLayoutEnd&&e.onLayoutEnd(),t.abrupt("return");case 14:return o={},i={},n.forEach((function(t,e){y(t.x)||(t.x=Math.random()*a.width),y(t.y)||(t.y=Math.random()*a.height),o[t.id]=t,i[t.id]=e})),e.nodeMap=o,e.nodeIdxMap=i,t.next=21,e.run();case 21:case"end":return t.stop()}}),t,this)})))}},{key:"executeWithWorker",value:function(t,e){return Ev(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i,a,u,s=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=(r=this).nodes,i=r.center,o&&0!==o.length){n.next=5;break}return n.abrupt("return");case 5:if(1!==o.length){n.next=9;break}return o[0].x=i[0],o[0].y=i[1],n.abrupt("return");case 9:return a={},u={},o.forEach((function(t,e){y(t.x)||(t.x=Math.random()*s.width),y(t.y)||(t.y=Math.random()*s.height),a[t.id]=t,u[t.id]=e})),r.nodeMap=a,r.nodeIdxMap=u,n.next=16,r.run(t,e);case 16:case"end":return n.stop()}}),n,this)})))}},{key:"run",value:function(t,e){return Ev(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i,a,u,s,c,f,l,h,d,p,v,m,y,g,b,_,x,w,E,S,T,A,I,k,O=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(o=(r=this).nodes,i=r.edges,a=r.maxIteration,u=r.center,s=r.height*r.width,c=Math.sqrt(s)/10,f=s/(o.length+1),l=Math.sqrt(f),h=r.speed,d=r.clustering,p=vv([r.clusterField],o),v=p.array,m=p.count,y=o.length,g=dv(o,i),b=g.maxEdgePerVetex,_=g.array,x=r.workerEnabled,w=x?lv.create({canvas:t,engineOptions:{supportCompute:!0}}):lv.create({engineOptions:{supportCompute:!0}}),E=r.onLayoutEnd,S=[],T=0;T<m;T++)S.push(0,0,0,0);return A=w.createKernel('{"shaders":{"WGSL":"import \\\\"GLSL.std.450\\\\" as std;\\\\n\\\\n\\\\n# var gWebGPUDebug : bool = false;\\\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\\\n\\\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\\\n\\\\ntype GWebGPUParams = [[block]] struct {\\\\n  [[offset 0]] u_K : f32;\\\\n  [[offset 4]] u_K2 : f32;\\\\n  [[offset 8]] u_Center : vec2<f32>;\\\\n  [[offset 16]] u_Gravity : f32;\\\\n  [[offset 20]] u_ClusterGravity : f32;\\\\n  [[offset 24]] u_Speed : f32;\\\\n  [[offset 28]] u_MaxDisplace : f32;\\\\n  [[offset 32]] u_Clustering : f32;\\\\n};\\\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\\\ntype GWebGPUBuffer0 = [[block]] struct {\\\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\\\n};\\\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\\\ntype GWebGPUBuffer1 = [[block]] struct {\\\\n  [[offset 0]] u_AttributeArray : [[stride 16]] array<vec4<f32>>;\\\\n};\\\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\\\ntype GWebGPUBuffer2 = [[block]] struct {\\\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\\\n};\\\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\\\nvar dy : f32 = 0.0;\\\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\\\nvar xDist : f32 = currentNode.x - nextNode.x;\\\\nvar yDist : f32 = currentNode.y - nextNode.y;\\\\nvar dist : f32 = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\\\nvar param : f32 = gWebGPUUniformParams.u_K2 / dist;\\\\nif (dist > 0.0) {dx = dx + param * xDist;\\\\ndy = dy + param * yDist;\\\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < j);\\\\ndx = dx + param * std::sign;\\\\ndy = dy + param * std::sign;}}}}\\\\nreturn vec2<f32>(dx, dy);}\\\\nfn calcGravity(currentNode : vec4<f32>, nodeAttributes : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\\\nvar dy : f32 = 0.0;\\\\nvar vx : f32 = currentNode.x - gWebGPUUniformParams.u_Center.x;\\\\nvar vy : f32 = currentNode.y - gWebGPUUniformParams.u_Center.y;\\\\nvar gf : f32 = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\\\ndx = gf * vx;\\\\ndy = gf * vy;\\\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {var clusterIdx : i32 = i32(nodeAttributes.x);\\\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\\\nvar cvx : f32 = currentNode.x - center.x;\\\\nvar cvy : f32 = currentNode.y - center.y;\\\\nvar dist : f32 = std::sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\\\nvar parma : f32 = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\\\ndx = dx + parma * cvx;\\\\ndy = dy + parma * cvy;}\\\\nreturn vec2<f32>(dx, dy);}\\\\nfn calcAttractive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\\\nvar dy : f32 = 0.0;\\\\nvar arr_offset : i32 = i32(std::floor(currentNode.z + 0.5));\\\\nvar length : i32 = i32(std::floor(currentNode.w + 0.5));\\\\nvar node_buffer : vec4<f32>;\\\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\\\nvar arr_idx : i32 = arr_offset + i32(p);\\\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\\\nvar float_j : f32 = select(node_buffer.x, select(node_buffer.y, select(node_buffer.z, node_buffer.w, buf_offset == 2), buf_offset == 1), buf_offset == 0);\\\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\\\nvar xDist : f32 = currentNode.x - nextNode.x;\\\\nvar yDist : f32 = currentNode.y - nextNode.y;\\\\nvar dist : f32 = std::sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\\\nvar attractiveF : f32 = dist / gWebGPUUniformParams.u_K;\\\\nif (dist > 0.0) {dx = dx - xDist * attractiveF;\\\\ndy = dy - yDist * attractiveF;\\\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < i32(float_j));\\\\ndx = dx - std::sign * attractiveF;\\\\ndy = dy - std::sign * attractiveF;}}}\\\\nreturn vec2<f32>(dx, dy);}\\\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\\\nvar dx : f32 = 0.0;\\\\nvar dy : f32 = 0.0;\\\\nif (i >= __DefineValuePlaceholder__VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\\\nreturn ;}\\\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\\\ndx = dx + repulsive.x;\\\\ndy = dy + repulsive.y;\\\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode);\\\\ndx = dx + attractive.x;\\\\ndy = dy + attractive.y;\\\\nvar nodeAttributes : vec4<f32> = gWebGPUBuffer1.u_AttributeArray[i];\\\\nvar gravity : vec2<f32> = calcGravity(currentNode, nodeAttributes);\\\\ndx = dx - gravity.x;\\\\ndy = dy - gravity.y;\\\\ndx = dx * gWebGPUUniformParams.u_Speed;\\\\ndy = dy * gWebGPUUniformParams.u_Speed;\\\\nvar distLength : f32 = std::sqrt((dx * dx) + (dy * dy));\\\\nif (distLength > 0.0) {var limitedDist : f32 = std::min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}\\\\nreturn;}\\\\n\\\\nentry_point compute as \\\\"main\\\\" = main;\\\\n","GLSL450":"\\\\n\\\\n\\\\nbool gWebGPUDebug = false;\\\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\\\n\\\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\\\nivec3 workGroupSize = ivec3(1,1,1);\\\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\\\n\\\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\\\n  float u_K;\\\\n  float u_K2;\\\\n  vec2 u_Center;\\\\n  float u_Gravity;\\\\n  float u_ClusterGravity;\\\\n  float u_Speed;\\\\n  float u_MaxDisplace;\\\\n  float u_Clustering;\\\\n} gWebGPUUniformParams;\\\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\\\n  vec4 u_Data[];\\\\n} gWebGPUBuffer0;\\\\n\\\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\\\n  vec4 u_AttributeArray[];\\\\n} gWebGPUBuffer1;\\\\n\\\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\\\n  vec4 u_ClusterCenters[];\\\\n} gWebGPUBuffer2;\\\\n\\\\n\\\\n\\\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\\\nlayout (\\\\n  local_size_x = 1,\\\\n  local_size_y = 1,\\\\n  local_size_z = 1\\\\n) in;\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\nvec2 calcRepulsive(int i, vec4 currentNode) {float dx = 0.0;\\\\nfloat dy = 0.0;\\\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\\\nfloat xDist = currentNode.x - nextNode.x;\\\\nfloat yDist = currentNode.y - nextNode.y;\\\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\\\nfloat param = gWebGPUUniformParams.u_K2 / dist;\\\\nif (dist > 0.0) {dx += param * xDist;\\\\ndy += param * yDist;\\\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\\\ndx += param * sign;\\\\ndy += param * sign;}}}}\\\\nreturn vec2(dx, dy);}\\\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {float dx = 0.0;\\\\nfloat dy = 0.0;\\\\nfloat vx = currentNode.x - gWebGPUUniformParams.u_Center.x;\\\\nfloat vy = currentNode.y - gWebGPUUniformParams.u_Center.y;\\\\nfloat gf = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\\\ndx = gf * vx;\\\\ndy = gf * vy;\\\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\\\nfloat cvx = currentNode.x - center.x;\\\\nfloat cvy = currentNode.y - center.y;\\\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\\\nfloat parma = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\\\ndx += parma * cvx;\\\\ndy += parma * cvy;}\\\\nreturn vec2(dx, dy);}\\\\nvec2 calcAttractive(int i, vec4 currentNode) {float dx = 0.0;\\\\nfloat dy = 0.0;\\\\nint arr_offset = int(floor(currentNode.z + 0.5));\\\\nint length = int(floor(currentNode.w + 0.5));\\\\nvec4 node_buffer;\\\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\\\nint arr_idx = arr_offset + int(p);\\\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\\\nfloat xDist = currentNode.x - nextNode.x;\\\\nfloat yDist = currentNode.y - nextNode.y;\\\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\\\nfloat attractiveF = dist / gWebGPUUniformParams.u_K;\\\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\\\ndy -= yDist * attractiveF;\\\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\\\ndx -= sign * attractiveF;\\\\ndy -= sign * attractiveF;}}}\\\\nreturn vec2(dx, dy);}\\\\nvoid main() {int i = globalInvocationID.x;\\\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\\\nfloat dx = 0.0;\\\\nfloat dy = 0.0;\\\\nif (i >= VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\\\nreturn ;}\\\\nvec2 repulsive = calcRepulsive(i, currentNode);\\\\ndx += repulsive.x;\\\\ndy += repulsive.y;\\\\nvec2 attractive = calcAttractive(i, currentNode);\\\\ndx += attractive.x;\\\\ndy += attractive.y;\\\\nvec4 nodeAttributes = gWebGPUBuffer1.u_AttributeArray[i];\\\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\\\ndx -= gravity.x;\\\\ndy -= gravity.y;\\\\ndx *= gWebGPUUniformParams.u_Speed;\\\\ndy *= gWebGPUUniformParams.u_Speed;\\\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\\\nif (distLength > 0.0) {float limitedDist = min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}}\\\\n","GLSL100":"\\\\n\\\\nfloat epsilon = 0.00001;\\\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\\\n  vec2 normAddr2D = float(address1D) * conv_const;\\\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\\\n}\\\\n\\\\nvoid barrier() {}\\\\n  \\\\n\\\\nuniform vec2 u_OutputTextureSize;\\\\nuniform int u_OutputTexelCount;\\\\nvarying vec2 v_TexCoord;\\\\n\\\\nbool gWebGPUDebug = false;\\\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\\\n\\\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\\\n\\\\nuniform sampler2D u_Data;\\\\nuniform vec2 u_DataSize;\\\\nvec4 getDatau_Data(vec2 address2D) {\\\\n  return vec4(texture2D(u_Data, address2D).rgba);\\\\n}\\\\nvec4 getDatau_Data(float address1D) {\\\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\\\n}\\\\nvec4 getDatau_Data(int address1D) {\\\\n  return getDatau_Data(float(address1D));\\\\n}\\\\nuniform float u_K;\\\\nuniform float u_K2;\\\\nuniform vec2 u_Center;\\\\nuniform float u_Gravity;\\\\nuniform float u_ClusterGravity;\\\\nuniform float u_Speed;\\\\nuniform float u_MaxDisplace;\\\\nuniform float u_Clustering;\\\\nuniform sampler2D u_AttributeArray;\\\\nuniform vec2 u_AttributeArraySize;\\\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\\\n}\\\\nvec4 getDatau_AttributeArray(float address1D) {\\\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\\\n}\\\\nvec4 getDatau_AttributeArray(int address1D) {\\\\n  return getDatau_AttributeArray(float(address1D));\\\\n}\\\\nuniform sampler2D u_ClusterCenters;\\\\nuniform vec2 u_ClusterCentersSize;\\\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\\\n}\\\\nvec4 getDatau_ClusterCenters(float address1D) {\\\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\\\n}\\\\nvec4 getDatau_ClusterCenters(int address1D) {\\\\n  return getDatau_ClusterCenters(float(address1D));\\\\n}\\\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\\\nivec3 workGroupSize = ivec3(1, 1, 1);\\\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\\\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\\\nfloat dx = 0.0;\\\\nfloat dy = 0.0;\\\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\\\nfloat xDist = currentNode.x - nextNode.x;\\\\nfloat yDist = currentNode.y - nextNode.y;\\\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\\\nfloat param = u_K2 / dist;\\\\nif (dist > 0.0) {dx += param * xDist;\\\\ndy += param * yDist;\\\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\\\ndx += param * sign;\\\\ndy += param * sign;}}}}\\\\nreturn vec2(dx, dy);}\\\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\\\nivec3 workGroupSize = ivec3(1, 1, 1);\\\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\\\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\\\nfloat dx = 0.0;\\\\nfloat dy = 0.0;\\\\nfloat vx = currentNode.x - u_Center.x;\\\\nfloat vy = currentNode.y - u_Center.y;\\\\nfloat gf = (0.01 * u_K) * u_Gravity;\\\\ndx = gf * vx;\\\\ndy = gf * vy;\\\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\\\nfloat cvx = currentNode.x - center.x;\\\\nfloat cvy = currentNode.y - center.y;\\\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\\\ndx += parma * cvx;\\\\ndy += parma * cvy;}\\\\nreturn vec2(dx, dy);}\\\\nvec2 calcAttractive(int i, vec4 currentNode) {\\\\nivec3 workGroupSize = ivec3(1, 1, 1);\\\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\\\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\\\nfloat dx = 0.0;\\\\nfloat dy = 0.0;\\\\nint arr_offset = int(floor(currentNode.z + 0.5));\\\\nint length = int(floor(currentNode.w + 0.5));\\\\nvec4 node_buffer;\\\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\\\nint arr_idx = arr_offset + int(p);\\\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\\\nvec4 nextNode = getDatau_Data(int(float_j));\\\\nfloat xDist = currentNode.x - nextNode.x;\\\\nfloat yDist = currentNode.y - nextNode.y;\\\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\\\nfloat attractiveF = dist / u_K;\\\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\\\ndy -= yDist * attractiveF;\\\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\\\ndx -= sign * attractiveF;\\\\ndy -= sign * attractiveF;}}}\\\\nreturn vec2(dx, dy);}\\\\nvoid main() {\\\\nivec3 workGroupSize = ivec3(1, 1, 1);\\\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\\\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\\\nint i = globalInvocationID.x;\\\\nvec4 currentNode = getDatau_Data(i);\\\\nfloat dx = 0.0;\\\\nfloat dy = 0.0;\\\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\\\nreturn ;}\\\\nvec2 repulsive = calcRepulsive(i, currentNode);\\\\ndx += repulsive.x;\\\\ndy += repulsive.y;\\\\nvec2 attractive = calcAttractive(i, currentNode);\\\\ndx += attractive.x;\\\\ndy += attractive.y;\\\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\\\ndx -= gravity.x;\\\\ndy -= gravity.y;\\\\ndx *= u_Speed;\\\\ndy *= u_Speed;\\\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\\\n  gl_FragColor = gWebGPUDebugOutput;\\\\n}}\\\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}').setDispatch([y,1,1]).setBinding({u_Data:_,u_K:l,u_K2:f,u_Gravity:r.gravity,u_ClusterGravity:r.clusterGravity||r.gravity||1,u_Speed:h,u_MaxDisplace:c,u_Clustering:d?1:0,u_Center:u,u_AttributeArray:v,u_ClusterCenters:S,MAX_EDGE_PER_VERTEX:b,VERTEX_COUNT:y}),d&&(I=w.createKernel('{"shaders":{"WGSL":"import \\\\"GLSL.std.450\\\\" as std;\\\\n\\\\n\\\\n# var gWebGPUDebug : bool = false;\\\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\\\n\\\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\\\n\\\\n\\\\ntype GWebGPUBuffer0 = [[block]] struct {\\\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\\\n};\\\\n[[binding 0, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\\\ntype GWebGPUBuffer1 = [[block]] struct {\\\\n  [[offset 0]] u_NodeAttributes : [[stride 16]] array<vec4<f32>>;\\\\n};\\\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\\\ntype GWebGPUBuffer2 = [[block]] struct {\\\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\\\n};\\\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[i];\\\\nvar sumx : f32 = 0.0;\\\\nvar sumy : f32 = 0.0;\\\\nvar count : f32 = 0.0;\\\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var attributes : vec4<f32> = gWebGPUBuffer1.u_NodeAttributes[j];\\\\nvar clusterIdx : i32 = i32(attributes.x);\\\\nvar vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\\\nif (clusterIdx == i) {sumx = sumx + vertex.x;\\\\nsumy = sumy + vertex.y;\\\\ncount = count + 1.0;}}\\\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4<f32>(sumx / count, sumy / count, count, i);\\\\nreturn;}\\\\n\\\\nentry_point compute as \\\\"main\\\\" = main;\\\\n","GLSL450":"\\\\n\\\\n\\\\nbool gWebGPUDebug = false;\\\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\\\n\\\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\\\nivec3 workGroupSize = ivec3(1,1,1);\\\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\\\n\\\\n\\\\nlayout(std430, set = 0, binding = 0) buffer readonly  GWebGPUBuffer0 {\\\\n  vec4 u_Data[];\\\\n} gWebGPUBuffer0;\\\\n\\\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer1 {\\\\n  vec4 u_NodeAttributes[];\\\\n} gWebGPUBuffer1;\\\\n\\\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer2 {\\\\n  vec4 u_ClusterCenters[];\\\\n} gWebGPUBuffer2;\\\\n\\\\n\\\\n\\\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\\\nlayout (\\\\n  local_size_x = 1,\\\\n  local_size_y = 1,\\\\n  local_size_z = 1\\\\n) in;\\\\n\\\\n\\\\n\\\\nvoid main() {int i = globalInvocationID.x;\\\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[i];\\\\nfloat sumx = 0.0;\\\\nfloat sumy = 0.0;\\\\nfloat count = 0.0;\\\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = gWebGPUBuffer1.u_NodeAttributes[j];\\\\nint clusterIdx = int(attributes.x);\\\\nvec4 vertex = gWebGPUBuffer0.u_Data[j];\\\\nif (clusterIdx == i) {sumx += vertex.x;\\\\nsumy += vertex.y;\\\\ncount += 1.0;}}\\\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4(sumx / count, sumy / count, count, i);}\\\\n","GLSL100":"\\\\n\\\\nfloat epsilon = 0.00001;\\\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\\\n  vec2 normAddr2D = float(address1D) * conv_const;\\\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\\\n}\\\\n\\\\nvoid barrier() {}\\\\n  \\\\n\\\\nuniform vec2 u_OutputTextureSize;\\\\nuniform int u_OutputTexelCount;\\\\nvarying vec2 v_TexCoord;\\\\n\\\\nbool gWebGPUDebug = false;\\\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\\\n\\\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\\\n\\\\nuniform sampler2D u_Data;\\\\nuniform vec2 u_DataSize;\\\\nvec4 getDatau_Data(vec2 address2D) {\\\\n  return vec4(texture2D(u_Data, address2D).rgba);\\\\n}\\\\nvec4 getDatau_Data(float address1D) {\\\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\\\n}\\\\nvec4 getDatau_Data(int address1D) {\\\\n  return getDatau_Data(float(address1D));\\\\n}\\\\nuniform sampler2D u_NodeAttributes;\\\\nuniform vec2 u_NodeAttributesSize;\\\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\\\n}\\\\nvec4 getDatau_NodeAttributes(float address1D) {\\\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\\\n}\\\\nvec4 getDatau_NodeAttributes(int address1D) {\\\\n  return getDatau_NodeAttributes(float(address1D));\\\\n}\\\\nuniform sampler2D u_ClusterCenters;\\\\nuniform vec2 u_ClusterCentersSize;\\\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\\\n}\\\\nvec4 getDatau_ClusterCenters(float address1D) {\\\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\\\n}\\\\nvec4 getDatau_ClusterCenters(int address1D) {\\\\n  return getDatau_ClusterCenters(float(address1D));\\\\n}\\\\nvoid main() {\\\\nivec3 workGroupSize = ivec3(1, 1, 1);\\\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\\\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\\\nint i = globalInvocationID.x;\\\\nvec4 center = getDatau_ClusterCenters(i);\\\\nfloat sumx = 0.0;\\\\nfloat sumy = 0.0;\\\\nfloat count = 0.0;\\\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\\\nint clusterIdx = int(attributes.x);\\\\nvec4 vertex = getDatau_Data(j);\\\\nif (clusterIdx == i) {sumx += vertex.x;\\\\nsumy += vertex.y;\\\\ncount += 1.0;}}\\\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\\\n  gl_FragColor = gWebGPUDebugOutput;\\\\n}}\\\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}').setDispatch([m,1,1]).setBinding({u_Data:_,u_NodeAttributes:v,u_ClusterCenters:S,VERTEX_COUNT:y,CLUSTER_COUNT:m})),k=function(){return Ev(O,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=0;case 1:if(!(r<a)){n.next=13;break}return n.next=4,A.execute();case 4:if(!d){n.next=9;break}return I.setBinding({u_Data:A}),n.next=8,I.execute();case 8:A.setBinding({u_ClusterCenters:I});case 9:A.setBinding({u_MaxDisplace:c*=.99});case 10:r++,n.next=1;break;case 13:return n.next=15,A.getOutput();case 15:i=n.sent,t?e.postMessage({type:Qt,vertexEdgeData:i}):o.forEach((function(t,e){var n=i[4*e],r=i[4*e+1];t.x=n,t.y=r})),E&&E();case 18:case"end":return n.stop()}}),n)})))},n.next=24,k();case 24:case"end":return n.stop()}}),n,this)})))}},{key:"getType",value:function(){return"fruchterman-gpu"}}])&&gv(e.prototype,n),r&&gv(e,r),i}(I);function Tv(t){return(Tv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Av(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Iv(t,e){return(Iv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Dv(t);if(e){var o=Dv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ov(this,n)}}function Ov(t,e){return!e||"object"!==Tv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Dv(t){return(Dv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rv=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},Mv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Iv(t,e)}(i,t);var e,n,r,o=kv(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).maxIteration=1e3,e.edgeStrength=200,e.nodeStrength=1e3,e.coulombDisScale=.005,e.damping=.9,e.maxSpeed=1e3,e.minMovement=1,e.interval=.02,e.factor=1,e.linkDistance=1,e.gravity=10,e.workerEnabled=!1,e.nodes=[],e.edges=[],e.width=300,e.height=300,e.nodeMap={},e.nodeIdxMap={},e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}}},{key:"execute",value:function(){return Rv(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=(e=this).nodes)&&0!==n.length){t.next=5;break}return e.onLayoutEnd&&e.onLayoutEnd(),t.abrupt("return");case 5:if(e.width||"undefined"==typeof window||(e.width=window.innerWidth),e.height||"undefined"==typeof window||(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]),r=e.center,1!==n.length){t.next=14;break}return n[0].x=r[0],n[0].y=r[1],e.onLayoutEnd&&e.onLayoutEnd(),t.abrupt("return");case 14:return o={},i={},n.forEach((function(t,n){y(t.x)||(t.x=Math.random()*e.width),y(t.y)||(t.y=Math.random()*e.height),o[t.id]=t,i[t.id]=n})),e.nodeMap=o,e.nodeIdxMap=i,e.nodeStrength=hv(e.nodeStrength,1),e.edgeStrength=hv(e.edgeStrength,1),t.next=23,e.run();case 23:case"end":return t.stop()}}),t,this)})))}},{key:"executeWithWorker",value:function(t,e){var n=this,r=n.nodes,o=n.center;if(r&&0!==r.length){if(1===r.length)return r[0].x=o[0],void(r[0].y=o[1]);var i={},a={};r.forEach((function(t,e){y(t.x)||(t.x=Math.random()*n.width),y(t.y)||(t.y=Math.random()*n.height),i[t.id]=t,a[t.id]=e})),n.nodeMap=i,n.nodeIdxMap=a,n.nodeStrength=hv(n.nodeStrength,1),n.edgeStrength=hv(n.edgeStrength,1),n.run(t,e)}}},{key:"run",value:function(t,e){return Rv(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i,a,u,s,c,f,l,h,d,p,v,m,g,_,x,w,E,S,T,A,I,k,O,D=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(o=(r=this).nodes,i=r.edges,a=r.maxIteration,r.width||"undefined"==typeof window||(r.width=window.innerWidth),r.height||"undefined"==typeof window||(r.height=window.innerHeight),u=o.length,r.linkDistance=hv(r.linkDistance),r.edgeStrength=hv(r.edgeStrength),s=pv(o,i,r.linkDistance,r.edgeStrength),c=s.maxEdgePerVetex,f=s.array,r.degrees=b(o.length,r.nodeIdxMap,i),l=[],h=[],d=[],p=[],v=[],r.getMass||(r.getMass=function(t){return r.degrees[r.nodeIdxMap[t.id]]||1}),m=r.gravity,g=r.center,o.forEach((function(t,e){l.push(r.getMass(t)),h.push(r.nodeStrength(t)),r.degrees[e]||(r.degrees[e]=0);var n=[g[0],g[1],m];if(r.getCenter){var o=r.getCenter(t,r.degrees[e]);o&&y(o[0])&&y(o[1])&&y(o[2])&&(n=o)}d.push(n[0]),p.push(n[1]),v.push(n[2])})),_=mv([l,r.degrees,h]),x=mv([d,p,v]),w=r.workerEnabled,E=w?lv.create({canvas:t,engineOptions:{supportCompute:!0}}):lv.create({engineOptions:{supportCompute:!0}}),S=r.onLayoutEnd,T=[],f.forEach((function(t){T.push(t)})),A=0;A<4;A++)T.push(0);return I=E.createKernel('{"shaders":{"WGSL":"import \\\\"GLSL.std.450\\\\" as std;\\\\n\\\\n\\\\n# var gWebGPUDebug : bool = false;\\\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\\\n\\\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\\\n\\\\ntype GWebGPUParams = [[block]] struct {\\\\n  [[offset 0]] u_damping : f32;\\\\n  [[offset 4]] u_maxSpeed : f32;\\\\n  [[offset 8]] u_minMovement : f32;\\\\n  \\\\n  [[offset 12]] u_coulombDisScale : f32;\\\\n  [[offset 16]] u_factor : f32;\\\\n  \\\\n  \\\\n  [[offset 20]] u_interval : f32;\\\\n};\\\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\\\ntype GWebGPUBuffer0 = [[block]] struct {\\\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\\\n};\\\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\\\ntype GWebGPUBuffer1 = [[block]] struct {\\\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\\\n};\\\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\\\ntype GWebGPUBuffer2 = [[block]] struct {\\\\n  [[offset 0]] u_NodeAttributeArray1 : [[stride 16]] array<vec4<f32>>;\\\\n};\\\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\\\ntype GWebGPUBuffer3 = [[block]] struct {\\\\n  [[offset 0]] u_NodeAttributeArray2 : [[stride 16]] array<vec4<f32>>;\\\\n};\\\\n[[binding 4, set 0]] var<storage_buffer> gWebGPUBuffer3 : GWebGPUBuffer3;\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\nfn unpack_float(packedValue : f32) -> vec2<i32> {var packedIntValue : i32 = i32(packedValue);\\\\nvar v0 : i32 = packedIntValue / 1048576;\\\\nreturn vec2<i32>(v0, packedIntValue - (v0 * 1048576));}\\\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var ax : f32 = 0.0;\\\\nvar ay : f32 = 0.0;\\\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\\\nvar vx : f32 = currentNode.x - nextNode.x;\\\\nvar vy : f32 = currentNode.y - nextNode.y;\\\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\\\nvar n_dist : f32 = dist * gWebGPUUniformParams.u_coulombDisScale;\\\\nvar direx : f32 = vx / dist;\\\\nvar direy : f32 = vy / dist;\\\\nvar attributesi : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\\\nvar attributesj : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\\\nvar massi : f32 = attributesi.x;\\\\nvar nodeStrengthi : f32 = attributesi.z;\\\\nvar nodeStrengthj : f32 = attributesj.z;\\\\nvar nodeStrength : f32 = (nodeStrengthi + nodeStrengthj) / 2.0;\\\\nvar param : f32 = (1000.0 * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\\\nax = ax + direx * param;\\\\nay = ay + direy * param;}}\\\\nreturn vec2<f32>(ax, ay);}\\\\nfn calcGravity(i : i32, currentNode : vec4<f32>, attributes2 : vec4<f32>) -> vec2<f32> {var vx : f32 = currentNode.x - attributes2.x;\\\\nvar vy : f32 = currentNode.y - attributes2.y;\\\\nvar ax : f32 = vx * attributes2.w;\\\\nvar ay : f32 = vy * attributes2.w;\\\\nreturn vec2<f32>(ax, ay);}\\\\nfn calcAttractive(i : i32, currentNode : vec4<f32>, attributes1 : vec4<f32>) -> vec2<f32> {var mass : f32 = attributes1.x;\\\\nvar ax : f32 = 0.0;\\\\nvar ay : f32 = 0.0;\\\\nvar compressed : vec2<i32> = unpack_float(currentNode.z);\\\\nvar length : i32 = compressed.x;\\\\nvar arr_offset : i32 = compressed.y;\\\\nvar node_buffer : vec4<f32>;\\\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\\\nvar arr_idx : i32 = arr_offset + (4 * p);\\\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\\\nvar float_j : f32 = node_buffer.x;\\\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\\\nvar vx : f32 = nextNode.x - currentNode.x;\\\\nvar vy : f32 = nextNode.y - currentNode.y;\\\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\\\nvar direx : f32 = vx / dist;\\\\nvar direy : f32 = vy / dist;\\\\nvar edgeLength : f32 = node_buffer.y;\\\\nvar edgeStrength : f32 = node_buffer.z;\\\\nvar diff : f32 = edgeLength - dist;\\\\nvar param : f32 = (diff * edgeStrength) / mass;\\\\nax = ax - direx * param;\\\\nay = ay - direy * param;}\\\\nreturn vec2<f32>(ax, ay);}\\\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\\\nvar movement : vec4<f32> = gWebGPUBuffer1.u_AveMovement[0];\\\\nvar ax : f32 = 0.0;\\\\nvar ay : f32 = 0.0;\\\\nif ((i >= __DefineValuePlaceholder__VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\\\nreturn ;}\\\\nvar nodeAttributes1 : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\\\nvar nodeAttributes2 : vec4<f32> = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\\\nax = ax + repulsive.x;\\\\nay = ay + repulsive.y;\\\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode, nodeAttributes1);\\\\nax = ax + attractive.x;\\\\nay = ay + attractive.y;\\\\nvar gravity : vec2<f32> = calcGravity(i, currentNode, nodeAttributes2);\\\\nax = ax - gravity.x;\\\\nay = ay - gravity.y;\\\\nvar param : f32 = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\\\nvar vx : f32 = ax * param;\\\\nvar vy : f32 = ay * param;\\\\nvar vlength : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.0001;\\\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {var param2 : f32 = gWebGPUUniformParams.u_maxSpeed / vlength;\\\\nvx = param2 * vx;\\\\nvy = param2 * vy;}\\\\nvar distx : f32 = vx * gWebGPUUniformParams.u_interval;\\\\nvar disty : f32 = vy * gWebGPUUniformParams.u_interval;\\\\nvar distLength : f32 = std::sqrt((distx * distx) + (disty * disty));\\\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);\\\\nreturn;}\\\\n\\\\nentry_point compute as \\\\"main\\\\" = main;\\\\n","GLSL450":"\\\\n\\\\n\\\\nbool gWebGPUDebug = false;\\\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\\\n\\\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\\\nivec3 workGroupSize = ivec3(1,1,1);\\\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\\\n\\\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\\\n  float u_damping;\\\\n  float u_maxSpeed;\\\\n  float u_minMovement;\\\\n  \\\\n  float u_coulombDisScale;\\\\n  float u_factor;\\\\n  \\\\n  \\\\n  float u_interval;\\\\n} gWebGPUUniformParams;\\\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\\\n  vec4 u_Data[];\\\\n} gWebGPUBuffer0;\\\\n\\\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\\\n  vec4 u_AveMovement[];\\\\n} gWebGPUBuffer1;\\\\n\\\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\\\n  vec4 u_NodeAttributeArray1[];\\\\n} gWebGPUBuffer2;\\\\n\\\\nlayout(std430, set = 0, binding = 4) buffer readonly  GWebGPUBuffer3 {\\\\n  vec4 u_NodeAttributeArray2[];\\\\n} gWebGPUBuffer3;\\\\n\\\\n\\\\n\\\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\\\n#define SHIFT_20 1048576.0\\\\nlayout (\\\\n  local_size_x = 1,\\\\n  local_size_y = 1,\\\\n  local_size_z = 1\\\\n) in;\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\nivec2 unpack_float(float packedValue) {int packedIntValue = int(packedValue);\\\\nint v0 = packedIntValue / int(SHIFT_20);\\\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\\\nvec2 calcRepulsive(int i, vec4 currentNode) {float ax = 0.0;\\\\nfloat ay = 0.0;\\\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\\\nfloat vx = currentNode.x - nextNode.x;\\\\nfloat vy = currentNode.y - nextNode.y;\\\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\\\nfloat n_dist = dist * gWebGPUUniformParams.u_coulombDisScale;\\\\nfloat direx = vx / dist;\\\\nfloat direy = vy / dist;\\\\nvec4 attributesi = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\\\nvec4 attributesj = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\\\nfloat massi = attributesi.x;\\\\nfloat nodeStrengthi = attributesi.z;\\\\nfloat nodeStrengthj = attributesj.z;\\\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\\\nfloat param = (1000.0 * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\\\nax += direx * param;\\\\nay += direy * param;}}\\\\nreturn vec2(ax, ay);}\\\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {float vx = currentNode.x - attributes2.x;\\\\nfloat vy = currentNode.y - attributes2.y;\\\\nfloat ax = vx * attributes2.w;\\\\nfloat ay = vy * attributes2.w;\\\\nreturn vec2(ax, ay);}\\\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {float mass = attributes1.x;\\\\nfloat ax = 0.0;\\\\nfloat ay = 0.0;\\\\nivec2 compressed = unpack_float(currentNode.z);\\\\nint length = compressed.x;\\\\nint arr_offset = compressed.y;\\\\nvec4 node_buffer;\\\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\\\nint arr_idx = arr_offset + (4 * p);\\\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\\\nfloat float_j = node_buffer.x;\\\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\\\nfloat vx = nextNode.x - currentNode.x;\\\\nfloat vy = nextNode.y - currentNode.y;\\\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\\\nfloat direx = vx / dist;\\\\nfloat direy = vy / dist;\\\\nfloat edgeLength = node_buffer.y;\\\\nfloat edgeStrength = node_buffer.z;\\\\nfloat diff = edgeLength - dist;\\\\nfloat param = (diff * edgeStrength) / mass;\\\\nax -= direx * param;\\\\nay -= direy * param;}\\\\nreturn vec2(ax, ay);}\\\\nvoid main() {int i = globalInvocationID.x;\\\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\\\nvec4 movement = gWebGPUBuffer1.u_AveMovement[0];\\\\nfloat ax = 0.0;\\\\nfloat ay = 0.0;\\\\nif ((i >= VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\\\nreturn ;}\\\\nvec4 nodeAttributes1 = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\\\nvec4 nodeAttributes2 = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\\\nvec2 repulsive = calcRepulsive(i, currentNode);\\\\nax += repulsive.x;\\\\nay += repulsive.y;\\\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\\\nax += attractive.x;\\\\nay += attractive.y;\\\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\\\nax -= gravity.x;\\\\nay -= gravity.y;\\\\nfloat param = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\\\nfloat vx = ax * param;\\\\nfloat vy = ay * param;\\\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {float param2 = gWebGPUUniformParams.u_maxSpeed / vlength;\\\\nvx = param2 * vx;\\\\nvy = param2 * vy;}\\\\nfloat distx = vx * gWebGPUUniformParams.u_interval;\\\\nfloat disty = vy * gWebGPUUniformParams.u_interval;\\\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}\\\\n","GLSL100":"\\\\n\\\\nfloat epsilon = 0.00001;\\\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\\\n  vec2 normAddr2D = float(address1D) * conv_const;\\\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\\\n}\\\\n\\\\nvoid barrier() {}\\\\n  \\\\n\\\\nuniform vec2 u_OutputTextureSize;\\\\nuniform int u_OutputTexelCount;\\\\nvarying vec2 v_TexCoord;\\\\n\\\\nbool gWebGPUDebug = false;\\\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\\\n\\\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\\\n#define SHIFT_20 1048576.0\\\\n\\\\nuniform sampler2D u_Data;\\\\nuniform vec2 u_DataSize;\\\\nvec4 getDatau_Data(vec2 address2D) {\\\\n  return vec4(texture2D(u_Data, address2D).rgba);\\\\n}\\\\nvec4 getDatau_Data(float address1D) {\\\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\\\n}\\\\nvec4 getDatau_Data(int address1D) {\\\\n  return getDatau_Data(float(address1D));\\\\n}\\\\nuniform float u_damping;\\\\nuniform float u_maxSpeed;\\\\nuniform float u_minMovement;\\\\nuniform sampler2D u_AveMovement;\\\\nuniform vec2 u_AveMovementSize;\\\\nvec4 getDatau_AveMovement(vec2 address2D) {\\\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\\\n}\\\\nvec4 getDatau_AveMovement(float address1D) {\\\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\\\n}\\\\nvec4 getDatau_AveMovement(int address1D) {\\\\n  return getDatau_AveMovement(float(address1D));\\\\n}\\\\nuniform float u_coulombDisScale;\\\\nuniform float u_factor;\\\\nuniform sampler2D u_NodeAttributeArray1;\\\\nuniform vec2 u_NodeAttributeArray1Size;\\\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\\\n}\\\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\\\n}\\\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\\\n  return getDatau_NodeAttributeArray1(float(address1D));\\\\n}\\\\nuniform sampler2D u_NodeAttributeArray2;\\\\nuniform vec2 u_NodeAttributeArray2Size;\\\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\\\n}\\\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\\\n}\\\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\\\n  return getDatau_NodeAttributeArray2(float(address1D));\\\\n}\\\\nuniform float u_interval;\\\\nivec2 unpack_float(float packedValue) {\\\\nivec3 workGroupSize = ivec3(1, 1, 1);\\\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\\\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\\\nint packedIntValue = int(packedValue);\\\\nint v0 = packedIntValue / int(SHIFT_20);\\\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\\\nivec3 workGroupSize = ivec3(1, 1, 1);\\\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\\\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\\\nfloat ax = 0.0;\\\\nfloat ay = 0.0;\\\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\\\nfloat vx = currentNode.x - nextNode.x;\\\\nfloat vy = currentNode.y - nextNode.y;\\\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\\\nfloat n_dist = dist * u_coulombDisScale;\\\\nfloat direx = vx / dist;\\\\nfloat direy = vy / dist;\\\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\\\nfloat massi = attributesi.x;\\\\nfloat nodeStrengthi = attributesi.z;\\\\nfloat nodeStrengthj = attributesj.z;\\\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\\\nfloat param = (1000.0 * u_factor) / (n_dist * n_dist);\\\\nax += direx * param;\\\\nay += direy * param;}}\\\\nreturn vec2(ax, ay);}\\\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\\\nivec3 workGroupSize = ivec3(1, 1, 1);\\\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\\\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\\\nfloat vx = currentNode.x - attributes2.x;\\\\nfloat vy = currentNode.y - attributes2.y;\\\\nfloat ax = vx * attributes2.w;\\\\nfloat ay = vy * attributes2.w;\\\\nreturn vec2(ax, ay);}\\\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\\\nivec3 workGroupSize = ivec3(1, 1, 1);\\\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\\\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\\\nfloat mass = attributes1.x;\\\\nfloat ax = 0.0;\\\\nfloat ay = 0.0;\\\\nivec2 compressed = unpack_float(currentNode.z);\\\\nint length = compressed.x;\\\\nint arr_offset = compressed.y;\\\\nvec4 node_buffer;\\\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\\\nint arr_idx = arr_offset + (4 * p);\\\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\\\nfloat float_j = node_buffer.x;\\\\nvec4 nextNode = getDatau_Data(int(float_j));\\\\nfloat vx = nextNode.x - currentNode.x;\\\\nfloat vy = nextNode.y - currentNode.y;\\\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\\\nfloat direx = vx / dist;\\\\nfloat direy = vy / dist;\\\\nfloat edgeLength = node_buffer.y;\\\\nfloat edgeStrength = node_buffer.z;\\\\nfloat diff = edgeLength - dist;\\\\nfloat param = (diff * edgeStrength) / mass;\\\\nax -= direx * param;\\\\nay -= direy * param;}\\\\nreturn vec2(ax, ay);}\\\\nvoid main() {\\\\nivec3 workGroupSize = ivec3(1, 1, 1);\\\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\\\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\\\nint i = globalInvocationID.x;\\\\nvec4 currentNode = getDatau_Data(i);\\\\nvec4 movement = getDatau_AveMovement(0.0);\\\\nfloat ax = 0.0;\\\\nfloat ay = 0.0;\\\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\\\nreturn ;}\\\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\\\nvec2 repulsive = calcRepulsive(i, currentNode);\\\\nax += repulsive.x;\\\\nay += repulsive.y;\\\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\\\nax += attractive.x;\\\\nay += attractive.y;\\\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\\\nax -= gravity.x;\\\\nay -= gravity.y;\\\\nfloat param = u_interval * u_damping;\\\\nfloat vx = ax * param;\\\\nfloat vy = ay * param;\\\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\\\nvx = param2 * vx;\\\\nvy = param2 * vy;}\\\\nfloat distx = vx * u_interval;\\\\nfloat disty = vy * u_interval;\\\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\\\ngl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));if (gWebGPUDebug) {\\\\n  gl_FragColor = gWebGPUDebugOutput;\\\\n}}\\\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}').setDispatch([u,1,1]).setBinding({u_Data:f,u_damping:r.damping,u_maxSpeed:r.maxSpeed,u_minMovement:r.minMovement,u_coulombDisScale:r.coulombDisScale,u_factor:r.factor,u_NodeAttributeArray1:_,u_NodeAttributeArray2:x,MAX_EDGE_PER_VERTEX:c,VERTEX_COUNT:u,u_AveMovement:T,u_interval:r.interval}),k=E.createKernel('{"shaders":{"WGSL":"import \\\\"GLSL.std.450\\\\" as std;\\\\n\\\\n\\\\n# var gWebGPUDebug : bool = false;\\\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\\\n\\\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\\\n\\\\ntype GWebGPUParams = [[block]] struct {\\\\n  [[offset 0]] u_iter : f32;\\\\n};\\\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\\\ntype GWebGPUBuffer0 = [[block]] struct {\\\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\\\n};\\\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\\\ntype GWebGPUBuffer1 = [[block]] struct {\\\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\\\n};\\\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\nfn main() -> void {var movement : f32 = 0.0;\\\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\\\nmovement = movement + vertex.w;}\\\\nmovement = movement / f32(__DefineValuePlaceholder__VERTEX_COUNT);\\\\ngWebGPUBuffer1.u_AveMovement[0] = vec4<f32>(movement, 0.0, 0.0, 0.0);\\\\nreturn;}\\\\n\\\\nentry_point compute as \\\\"main\\\\" = main;\\\\n","GLSL450":"\\\\n\\\\n\\\\nbool gWebGPUDebug = false;\\\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\\\n\\\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\\\nivec3 workGroupSize = ivec3(1,1,1);\\\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\\\n\\\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\\\n  float u_iter;\\\\n} gWebGPUUniformParams;\\\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer0 {\\\\n  vec4 u_Data[];\\\\n} gWebGPUBuffer0;\\\\n\\\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer1 {\\\\n  vec4 u_AveMovement[];\\\\n} gWebGPUBuffer1;\\\\n\\\\n\\\\n\\\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\\\nlayout (\\\\n  local_size_x = 1,\\\\n  local_size_y = 1,\\\\n  local_size_z = 1\\\\n) in;\\\\n\\\\n\\\\n\\\\nvoid main() {float movement = 0.0;\\\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = gWebGPUBuffer0.u_Data[j];\\\\nmovement += vertex.w;}\\\\nmovement = movement / float(VERTEX_COUNT);\\\\ngWebGPUBuffer1.u_AveMovement[0] = vec4(movement, 0.0, 0.0, 0.0);}\\\\n","GLSL100":"\\\\n\\\\nfloat epsilon = 0.00001;\\\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\\\n  vec2 normAddr2D = float(address1D) * conv_const;\\\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\\\n}\\\\n\\\\nvoid barrier() {}\\\\n  \\\\n\\\\nuniform vec2 u_OutputTextureSize;\\\\nuniform int u_OutputTexelCount;\\\\nvarying vec2 v_TexCoord;\\\\n\\\\nbool gWebGPUDebug = false;\\\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\\\n\\\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\\\n\\\\nuniform sampler2D u_Data;\\\\nuniform vec2 u_DataSize;\\\\nvec4 getDatau_Data(vec2 address2D) {\\\\n  return vec4(texture2D(u_Data, address2D).rgba);\\\\n}\\\\nvec4 getDatau_Data(float address1D) {\\\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\\\n}\\\\nvec4 getDatau_Data(int address1D) {\\\\n  return getDatau_Data(float(address1D));\\\\n}\\\\nuniform float u_iter;\\\\nuniform sampler2D u_AveMovement;\\\\nuniform vec2 u_AveMovementSize;\\\\nvec4 getDatau_AveMovement(vec2 address2D) {\\\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\\\n}\\\\nvec4 getDatau_AveMovement(float address1D) {\\\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\\\n}\\\\nvec4 getDatau_AveMovement(int address1D) {\\\\n  return getDatau_AveMovement(float(address1D));\\\\n}\\\\nvoid main() {\\\\nivec3 workGroupSize = ivec3(1, 1, 1);\\\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\\\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\\\nfloat movement = 0.0;\\\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\\\nmovement += vertex.w;}\\\\nmovement = movement / float(VERTEX_COUNT);\\\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\\\n  gl_FragColor = gWebGPUDebugOutput;\\\\n}}\\\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}').setDispatch([1,1,1]).setBinding({u_Data:f,VERTEX_COUNT:u,u_AveMovement:[0,0,0,0]}),O=function(){return Rv(D,void 0,void 0,regeneratorRuntime.mark((function n(){var i,u,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=0;case 1:if(!(i<a)){n.next=12;break}return n.next=4,I.execute();case 4:return k.setBinding({u_Data:I}),n.next=7,k.execute();case 7:u=Math.max(.02,r.interval-.002*i),I.setBinding({u_interval:u,u_AveMovement:k});case 9:i++,n.next=1;break;case 12:return n.next=14,I.getOutput();case 14:s=n.sent,t?e.postMessage({type:Qt,vertexEdgeData:s}):o.forEach((function(t,e){var n=s[4*e],r=s[4*e+1];t.x=n,t.y=r})),S&&S();case 17:case"end":return n.stop()}}),n)})))},n.next=33,O();case 33:case"end":return n.stop()}}),n,this)})))}},{key:"getType",value:function(){return"gForce-gpu"}}])&&Av(e.prototype,n),r&&Av(e,r),i}(I);function Cv(t){return(Cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pv(t,e){return(Pv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Gv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lv(t);if(e){var o=Lv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jv(this,n)}}function jv(t,e){return!e||"object"!==Cv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Lv(t){return(Lv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Uv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pv(t,e)}(i,t);var e,n,r,o=Gv(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).center=[0,0],e.maxIteration=100,e.gravity=10,e.comboGravity=10,e.linkDistance=10,e.alpha=1,e.alphaMin=.001,e.alphaDecay=1-Math.pow(e.alphaMin,1/300),e.alphaTarget=0,e.velocityDecay=.6,e.edgeStrength=.6,e.nodeStrength=30,e.preventOverlap=!1,e.preventNodeOverlap=!1,e.preventComboOverlap=!1,e.collideStrength=void 0,e.nodeCollideStrength=.5,e.comboCollideStrength=.5,e.comboSpacing=20,e.comboPadding=10,e.optimizeRangeFactor=1,e.onTick=function(){},e.onLayoutEnd=function(){},e.depthAttractiveForceScale=1,e.depthRepulsiveForceScale=2,e.nodes=[],e.edges=[],e.combos=[],e.comboTrees=[],e.width=300,e.height=300,e.bias=[],e.nodeMap={},e.oriComboMap={},e.indexMap={},e.comboMap={},e.previousLayouted=!1,e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}}},{key:"execute",value:function(){var t=this.nodes,e=this.center;if(this.comboTree={id:"comboTreeRoot",depth:-1,children:this.comboTrees},t&&0!==t.length){if(1===t.length)return t[0].x=e[0],t[0].y=e[1],void(this.onLayoutEnd&&this.onLayoutEnd());this.initVals(),this.run(),this.onLayoutEnd&&this.onLayoutEnd()}else this.onLayoutEnd&&this.onLayoutEnd()}},{key:"run",value:function(){var t=this,e=t.nodes,n=t.previousLayouted?t.maxIteration/5:t.maxIteration;t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight);var r=t.center,o=t.velocityDecay,i=t.comboMap;t.previousLayouted||t.initPos(i);for(var a=function(n){var r=[];e.forEach((function(t,e){r[e]={x:0,y:0}})),t.applyCalculate(r),t.applyComboCenterForce(r),e.forEach((function(t,e){y(t.x)&&y(t.y)&&(t.x+=r[e].x*o,t.y+=r[e].y*o)})),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()},u=0;u<n;u++)a();var s=[0,0];e.forEach((function(t){y(t.x)&&y(t.y)&&(s[0]+=t.x,s[1]+=t.y)})),s[0]/=e.length,s[1]/=e.length;var c=[r[0]-s[0],r[1]-s[1]];e.forEach((function(t,e){y(t.x)&&y(t.y)&&(t.x+=c[0],t.y+=c[1])})),t.combos.forEach((function(t){var e=i[t.id];e&&e.empty&&(t.x=e.cx||t.x,t.y=e.cy||t.y)})),t.previousLayouted=!0}},{key:"initVals",value:function(){var t=this.edges,e=this.nodes,n=this.combos,r={},o={},i={};e.forEach((function(t,e){o[t.id]=t,i[t.id]=e})),this.nodeMap=o,this.indexMap=i;var a={};n.forEach((function(t){a[t.id]=t})),this.oriComboMap=a,this.comboMap=this.getComboMap();var u=this.preventOverlap;this.preventComboOverlap=this.preventComboOverlap||u,this.preventNodeOverlap=this.preventNodeOverlap||u;var s=this.collideStrength;s&&(this.comboCollideStrength=s,this.nodeCollideStrength=s),this.comboCollideStrength=this.comboCollideStrength?this.comboCollideStrength:0,this.nodeCollideStrength=this.nodeCollideStrength?this.nodeCollideStrength:0;for(var c=0;c<t.length;++c)r[t[c].source]?r[t[c].source]++:r[t[c].source]=1,r[t[c].target]?r[t[c].target]++:r[t[c].target]=1;for(var f=[],l=0;l<t.length;++l)f[l]=r[t[l].source]/(r[t[l].source]+r[t[l].target]);this.bias=f;var h,d,p=this.nodeSize,v=this.nodeSpacing;if(d=y(v)?function(){return v}:T(v)?v:function(){return 0},this.nodeSpacing=d,p)if(T(p))h=function(t){return p(t)};else if(m(p)){var g=(p[0]>p[1]?p[0]:p[1])/2;h=function(t){return g}}else{var b=p/2;h=function(t){return b}}else h=function(t){return t.size?m(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2:t.size/2:10};this.nodeSize=h;var _,x=this.comboSpacing;_=y(x)?function(){return x}:T(x)?x:function(){return 0},this.comboSpacing=_;var w,E=this.comboPadding;w=y(E)?function(){return E}:m(E)?function(){return Math.max.apply(null,E)}:T(E)?E:function(){return 0},this.comboPadding=w;var S,A=this.linkDistance;A||(A=10),S=y(A)?function(t){return A}:A,this.linkDistance=S;var I,k=this.edgeStrength;k||(k=1),I=y(k)?function(t){return k}:k,this.edgeStrength=I;var O,D=this.nodeStrength;D||(D=30),O=y(D)?function(t){return D}:D,this.nodeStrength=O}},{key:"initPos",value:function(t){this.nodes.forEach((function(e,n){var r=e.comboId,o=t[r];r&&o?(e.x=o.cx+100/(n+1),e.y=o.cy+100/(n+1)):(e.x=100/(n+1),e.y=100/(n+1))}))}},{key:"getComboMap",value:function(){var t=this,e=t.nodeMap,n=t.indexMap,r=t.comboTrees,o=t.oriComboMap,i={};return(r||[]).forEach((function(r){var a=[];w(r,(function(r){if("node"===r.itemType)return!0;if(!o[r.id])return!0;if(void 0===i[r.id]){var u={id:r.id,name:r.id,cx:0,cy:0,count:0,depth:t.oriComboMap[r.id].depth,children:[]};i[r.id]=u}var s=r.children;s&&s.forEach((function(t){if(!i[t.id]&&!e[t.id])return!0;a.push(t)}));var c=i[r.id];if(c.cx=0,c.cy=0,0===a.length){c.empty=!0;var f=o[r.id],l=Object.keys(e).length,h="".concat(r.id,"-visual-child-").concat(l),d={id:h,x:f.x,y:f.y,depth:c.depth+1,itemType:"node"};t.nodes.push(d),e[h]=d,n[h]=l,c.cx=f.x,c.cy=f.y,a.push(d)}return a.forEach((function(t){if(c.count++,"node"!==t.itemType){var n=i[t.id];return y(n.cx)&&(c.cx+=n.cx),void(y(n.cy)&&(c.cy+=n.cy))}var r=e[t.id];r&&(y(r.x)&&(c.cx+=r.x),y(r.y)&&(c.cy+=r.y))})),c.cx/=c.count,c.cy/=c.count,c.children=a,!0}))})),i}},{key:"applyComboCenterForce",value:function(t){var e=this.gravity,n=this.comboGravity||e,r=this.alpha,o=this.comboTrees,i=this.indexMap,a=this.nodeMap,u=this.comboMap;(o||[]).forEach((function(e){w(e,(function(e){if("node"===e.itemType)return!0;if(!u[e.id])return!0;var o=u[e.id],s=(o.depth+1)/10*.5,c=o.cx,f=o.cy;return o.cx=0,o.cy=0,o.children.forEach((function(e){if("node"!==e.itemType){var l=u[e.id];return l&&y(l.cx)&&(o.cx+=l.cx),void(l&&y(l.cy)&&(o.cy+=l.cy))}var h=a[e.id],d=h.x-c||.005,p=h.y-f||.005,v=Math.sqrt(d*d+p*p),m=i[h.id],g=n*r/v*s;t[m].x-=d*g,t[m].y-=p*g,y(h.x)&&(o.cx+=h.x),y(h.y)&&(o.cy+=h.y)})),o.cx/=o.count,o.cy/=o.count,!0}))}))}},{key:"applyCalculate",value:function(t){var e=this.comboMap,n=this.nodes,r={};n.forEach((function(t,e){n.forEach((function(n,o){if(!(e<o)){var i=t.x-n.x||.005,a=t.y-n.y||.005,u=i*i+a*a,s=Math.sqrt(u);u<1&&(u=s),r["".concat(t.id,"-").concat(n.id)]={vx:i,vy:a,vl2:u,vl:s},r["".concat(n.id,"-").concat(t.id)]={vl2:u,vl:s,vx:-i,vy:-a}}}))})),this.updateComboSizes(e),this.calRepulsive(t,r),this.calAttractive(t,r),this.preventComboOverlap&&this.comboNonOverlapping(t,e)}},{key:"updateComboSizes",value:function(t){var e=this,n=e.comboTrees,r=e.nodeMap,o=e.nodeSize,i=e.comboSpacing,a=e.comboPadding;(n||[]).forEach((function(n){var u=[];w(n,(function(n){if("node"===n.itemType)return!0;var s=t[n.id];if(!s)return!1;var c=n.children;c&&c.forEach((function(e){(t[e.id]||r[e.id])&&u.push(e)})),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0,u.forEach((function(t){if("node"!==t.itemType)return!0;var e=r[t.id];if(!e)return!0;var n=o(e),i=e.x-n,a=e.y-n,u=e.x+n,c=e.y+n;s.minX>i&&(s.minX=i),s.minY>a&&(s.minY=a),s.maxX<u&&(s.maxX=u),s.maxY<c&&(s.maxY=c)}));var f=e.oriComboMap[n.id].size||10;m(f)&&(f=f[0]);var l=Math.max(s.maxX-s.minX,s.maxY-s.minY,f);return s.r=l/2+i(s)/2+a(s),!0}))}))}},{key:"comboNonOverlapping",value:function(t,e){var n=this.comboTree,r=this.comboCollideStrength,o=this.indexMap,i=this.nodeMap;w(n,(function(n){if(!e[n.id]&&!i[n.id]&&"comboTreeRoot"!==n.id)return!1;var a=n.children;return a&&a.length>1&&a.forEach((function(n,u){if("node"===n.itemType)return!1;var s=e[n.id];s&&a.forEach((function(a,c){if(u<=c)return!1;if("node"===a.itemType)return!1;var f=e[a.id];if(!f)return!1;var l=s.cx-f.cx||.005,h=s.cy-f.cy||.005,d=l*l+h*h,p=s.r,v=f.r,m=p+v,y=v*v,g=p*p;if(d<m*m){var b=n.children;if(!b||0===b.length)return!1;var _=a.children;if(!_||0===_.length)return!1;var x=Math.sqrt(d),w=(m-x)/x*r,E=l*w,S=h*w,T=y/(g+y),A=1-T;b.forEach((function(e){if("node"!==e.itemType)return!1;if(i[e.id]){var n=o[e.id];_.forEach((function(e){if("node"!==e.itemType)return!1;if(!i[e.id])return!1;var r=o[e.id];t[n].x+=E*T,t[n].y+=S*T,t[r].x-=E*A,t[r].y-=S*A}))}}))}}))})),!0}))}},{key:"calRepulsive",value:function(t,e){var n=this,r=n.nodes,o=n.width*n.optimizeRangeFactor,i=n.nodeStrength,a=n.alpha,u=n.nodeCollideStrength,s=n.preventNodeOverlap,c=n.nodeSize,f=n.nodeSpacing,l=n.depthRepulsiveForceScale,h=n.center;r.forEach((function(d,p){if(d.x&&d.y){if(h){var v=n.gravity,m=d.x-h[0]||.005,y=d.y-h[1]||.005,g=Math.sqrt(m*m+y*y);t[p].x-=m*v*a/g,t[p].y-=y*v*a/g}r.forEach((function(n,r){if(p!==r&&n.x&&n.y){var h=e["".concat(d.id,"-").concat(n.id)],v=h.vl2,m=h.vl;if(!(m>o)){var y=e["".concat(d.id,"-").concat(n.id)],g=y.vx,b=y.vy,_=Math.log(Math.abs(n.depth-d.depth)/10)+1||1;_=_<1?1:_,n.comboId!==d.comboId&&(_+=1);var x=_?Math.pow(l,_):1,w=i(n)*a/v*x;if(t[p].x+=g*w,t[p].y+=b*w,p<r&&s){var E=c(d)+f(d),S=c(n)+f(n),T=E+S;if(v<T*T){var A=(T-m)/m*u,I=S*S,k=I/(E*E+I),O=g*A,D=b*A;t[p].x+=O*k,t[p].y+=D*k,k=1-k,t[r].x-=O*k,t[r].y-=D*k}}}}}))}}))}},{key:"calAttractive",value:function(t,e){var n=this,r=n.edges,o=n.linkDistance,i=n.alpha,a=n.edgeStrength,u=n.bias,s=n.depthAttractiveForceScale;r.forEach((function(r,c){if(r.source&&r.target&&r.source!==r.target){var f=n.indexMap[r.source],l=n.indexMap[r.target],h=n.nodeMap[r.source],d=n.nodeMap[r.target];if(h&&d){var p=Math.log(Math.abs(h.depth-d.depth)/10);h.comboId===d.comboId&&(p/=2);var v=p?Math.pow(s,p):1;if(h.comboId!==d.comboId&&1===v?v=s/2:h.comboId===d.comboId&&(v=2),y(d.x)&&y(h.x)&&y(d.y)&&y(h.y)){var m=e["".concat(r.target,"-").concat(r.source)],g=m.vl,b=m.vx,_=m.vy,x=(g-o(r))/g*i*a(r)*v,w=b*x,E=_*x,S=u[c];t[l].x-=w*S,t[l].y-=E*S,t[f].x+=w*(1-S),t[f].y+=E*(1-S)}}}}))}},{key:"getType",value:function(){return"comboForce"}}])&&Nv(e.prototype,n),r&&Nv(e,r),i}(I);var Bv;new Proxy({},{get:function(t,e){return Jn(e)},set:function(t,e,n){return Qn(e,n),!0}});Bv||(Bv={}),Qn("grid",N),Qn("random",F),Qn("force",oe),Qn("circular",ve),Qn("dagre",Se),Qn("radial",Vn),Qn("concentric",ir),Qn("mds",hr),Qn("fruchterman",br),Qn("fruchterman-gpu",Sv),Qn("gForce",K),Qn("gForce-gpu",Mv),Qn("comboForce",Uv);var Fv=self;Fv.onmessage=function(t){(function(t){var e=t.data.type;return e===Ht||e===Zt})(t)&&function(t){switch(t.data.type){case Ht:var e=t.data,n=e.nodes,r=e.edges,o=e.layoutCfg,i=void 0===o?{}:o,a=i.type,u=Jn(a);if(!u){Fv.postMessage({type:Yt,message:"layout ".concat(a," not found")});break}var s=new u(i);s.init({nodes:n,edges:r}),s.execute(),Fv.postMessage({nodes:n,type:qt}),s.destroy();break;case Zt:var c=t.data,f=c.nodes,l=c.edges,h=c.layoutCfg,d=void 0===h?{}:h,p=c.canvas,v=d.type,m=Jn(v);if(!m){Fv.postMessage({type:Yt,message:"layout ".concat(v," not found")});break}if("gpu"!==v.split("-")[1]){Fv.postMessage({type:Yt,message:"layout ".concat(v," does not support GPU")});break}var y=new m(d);y.init({nodes:f,edges:l}),y.executeWithWorker(p,Fv)}}(t)};var zv=self;zv.onmessage=function(t){(function(t){var e=t.data.type;return e===f||e===d})(t)&&function(t){switch(t.data.type){case f:var e=t.data,n=e.nodes,r=e.edges,o=e.layoutCfg,i=(p=void 0===o?{}:o).type;if(!(a=Jn(i))){zv.postMessage({type:h,message:"layout "+i+" not found"});break}(u=new a(p)).init({nodes:n,edges:r}),u.execute(),zv.postMessage({type:l,nodes:n}),u.destroy();break;case d:var a,u,s=t.data,c=(n=s.nodes,r=s.edges,s.layoutCfg),p=void 0===c?{}:c,v=s.canvas;i=p.type;if(!(a=Jn(i))){zv.postMessage({type:h,message:"layout "+i+" not found"});break}if("gpu"!==i.split("-")[1]){zv.postMessage({type:h,message:"layout "+i+" does not support GPU"});break}(u=new a(p)).init({nodes:n,edges:r}),u.executeWithWorker(v,zv)}}(t)};e.default=null}]);
//# sourceMappingURL=g6Layout.worker.js.map`,"Worker",void 0,t.p+"g6Layout.worker.js")}var x="LAYOUT_RUN",A="LAYOUT_END",k="LAYOUT_ERROR",X="LAYOUT_TICK",et="GPU_LAYOUT_RUN",tt="GPU_LAYOUT_END",ft=t(122),st=function(yt){return setTimeout(yt,16)},vt=function(yt){return clearTimeout(yt)},mt=function(yt){return(typeof window!="undefined"&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||st)(yt)},pt=function(yt){return(typeof window!="undefined"&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||vt)(yt)},rt=["fruchterman","gForce"],Bt=function(ot){function yt(xt){var wt=ot.call(this,xt)||this;return wt.graph=xt,wt.layoutCfg=xt.get("layout")||{},wt.layoutType=wt.layoutCfg.type,wt.worker=null,wt.workerData={},wt.initLayout(),wt}return Object(n.b)(yt,ot),yt.prototype.initLayout=function(){},yt.prototype.getWorker=function(){return this.worker||(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=new p),this.worker},yt.prototype.stopWorker=function(){var xt=this.workerData;this.worker&&(this.worker.terminate(),this.worker=null,xt.requestId&&(pt(xt.requestId),xt.requestId=null),xt.requestId2&&(pt(xt.requestId2),xt.requestId2=null))},yt.prototype.layout=function(xt){var wt=this,Q=this.graph;this.data=this.setDataFromGraph();var ct=this.data.nodes;if(!ct)return!1;var it=Q.get("width"),U=Q.get("height"),D={};Object.assign(D,{width:it,height:U,center:[it/2,U/2]},this.layoutCfg),this.layoutCfg=D;var W=!!this.layoutType,P=this.layoutMethod;P&&P.destroy(),Q.emit("beforelayout"),this.initPositions(D.center,ct);var m=this.layoutType,y=!1;if(m&&m.split("-")[1]==="gpu"&&(m=m.split("-")[0],D.gpuEnabled=!0),m&&D.gpuEnabled){var V=!0;Object(ft.gpuDetector)().webgl||(console.warn("Your browser does not support webGL or GPGPU. The layout will run in CPU."),V=!1),this.hasGPUVersion(m)||(console.warn("The '"+m+"' layout does not support GPU calculation for now, it will run in CPU."),V=!1),V&&(m+="-gpu",y=!0)}if(this.isGPU=y,this.stopWorker(),D.workerEnabled&&this.layoutWithWorker(this.data,xt))return!0;var J=D.onLayoutEnd;if(D.layoutEndFormatted||(D.layoutEndFormatted=!0,D.onLayoutEnd=function(){J&&J(),Q.emit("afterlayout"),wt.refreshLayout(),xt&&xt()}),m==="force"||m==="g6force"||m==="gForce"){var ht=D.onTick,gt=function(){ht&&ht(),Q.refreshPositions()};D.tick=gt}else this.layoutType==="comboForce"&&(D.comboTrees=Q.get("comboTrees"));if(m!==void 0){try{P=new C.a[m](D)}catch(Lt){return console.warn("The layout method: '"+m+"' does not exist! Please specify it first."),!1}if(P.enableTick){var Mt=D.onTick;gt=function(){Mt&&Mt(),Q.refreshPositions()},P.tick=gt}P.init(this.data),W&&(Q.emit("beginlayout"),P.execute(),P.isCustomLayout&&D.onLayoutEnd&&D.onLayoutEnd()),this.layoutMethod=P}else D.onLayoutEnd&&D.onLayoutEnd();return!1},yt.prototype.layoutWithWorker=function(xt,wt){var Q=this,ct=xt.nodes,it=xt.edges,U=this.layoutCfg,D=this.graph,W=this.isGPU,P=this.getWorker(),m=this.workerData;if(!P)return!1;m.requestId=null,m.requestId2=null,m.currentTick=null,m.currentTickData=null,D.emit("beforelayout");var y=document.createElement("canvas"),V=W&&typeof window!="undefined"&&window.navigator&&!navigator.gpu&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in y,J=function(gt,Mt){var Lt={};return gt&&typeof gt=="object"?(Object.keys(gt).forEach(function(At){gt.hasOwnProperty(At)&&Mt(gt[At])&&(Lt[At]=gt[At])}),Lt):gt}(U,function(gt){return typeof gt!="function"});if(V){var ht=y.transferControlToOffscreen();J.type=J.type+"-gpu",P.postMessage({type:et,nodes:ct,edges:it,layoutCfg:J,canvas:ht},[ht])}else P.postMessage({type:x,nodes:ct,edges:it,layoutCfg:J});return P.onmessage=function(gt){Q.handleWorkerMessage(gt,xt,wt)},!0},yt.prototype.handleWorkerMessage=function(xt,wt,Q){var ct=this.graph,it=this.workerData,U=this.layoutCfg,D=xt.data,W=D.type,P=function(){U.onTick&&U.onTick()},m=function(){U.onLayoutEnd&&U.onLayoutEnd(),ct.emit("afterlayout")};switch(W){case X:it.currentTick=D.currentTick,it.currentTickData=D,it.requestId||(it.requestId=mt(function(){It(wt,D),ct.refreshPositions(),P(),D.currentTick===1&&Q&&Q(),D.currentTick===D.totalTicks?m():it.currentTick===D.totalTicks&&(it.requestId2=mt(function(){It(wt,it.currentTickData),ct.refreshPositions(),it.requestId2=null,P(),m()})),it.requestId=null}));break;case A:it.currentTick==null&&(It(wt,D),this.refreshLayout(),Q&&Q(),ct.emit("afterlayout"));break;case tt:it.currentTick==null&&(function(y,V){for(var J=y.nodes,ht=V.vertexEdgeData,gt=J.length,Mt=0;Mt<gt;Mt++){var Lt=J[Mt],At=ht[4*Mt],Ct=ht[4*Mt+1];Lt.x=At,Lt.y=Ct}}(wt,D),this.refreshLayout(),Q&&Q(),ct.emit("afterlayout"));break;case k:console.warn("Web-Worker layout error!",D.message)}},yt.prototype.updateLayoutCfg=function(xt){var wt=this.graph,Q=this.layoutMethod,ct=(this.layoutType,this.layoutCfg);if(this.layoutType=xt.type,!Q||Q.destroyed)return this.layoutCfg=Object(h.A)({},ct,xt),void this.layout();this.data=this.setDataFromGraph(),this.stopWorker(),xt.workerEnabled&&this.layoutWithWorker(this.data,null)||(Q.init(this.data),Q.updateCfg(xt),wt.emit("beforelayout"),Q.execute(),Q.isCustomLayout&&ct.onLayoutEnd&&ct.onLayoutEnd())},yt.prototype.hasGPUVersion=function(xt){for(var wt=rt.length,Q=0;Q<wt;Q++)if(rt[Q]===xt)return!0;return!1},yt.prototype.destroy=function(){var xt=this.layoutMethod;xt&&(xt.destroy(),xt.destroyed=!0);var wt=this.worker;wt&&(wt.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethod=void 0,this.graph=null},yt}(E.c);function It(ot,yt){for(var xt=ot.nodes,wt=yt.nodes,Q=xt.length,ct=0;ct<Q;ct++){var it=xt[ct];it.x=wt[ct].x,it.y=wt[ct].y}}var St=b.a.transform,H=function(ot){function yt(xt){var wt=ot.call(this,xt)||this,Q=wt.get("defaultNode");return Q||wt.set("defaultNode",{type:"circle"}),Q.type||(Q.type="circle",wt.set("defaultNode",Q)),wt.destroyed=!1,wt}return Object(n.b)(yt,ot),yt.prototype.initLayoutController=function(){var xt=new Bt(this);this.set({layoutController:xt})},yt.prototype.initEventController=function(){var xt=new v(this);this.set({eventController:xt})},yt.prototype.initCanvas=function(){var xt=this.get("container");if(typeof xt=="string"&&(xt=document.getElementById(xt),this.set("container",xt)),!xt)throw new Error("invalid container");var wt,Q=this.get("width"),ct=this.get("height");if(this.get("renderer")==="svg")wt=new S.Canvas({container:xt,width:Q,height:ct});else{var it={container:xt,width:Q,height:ct},U=this.get("pixelRatio");U&&(it.pixelRatio=U),wt=new d.Canvas(it)}this.set("canvas",wt)},yt.prototype.initPlugins=function(){var xt=this;Object(h.f)(xt.get("plugins"),function(wt){!wt.destroyed&&wt.initPlugin&&wt.initPlugin(xt)})},yt.prototype.toDataURL=function(xt,wt){var Q=this.get("canvas"),ct=Q.getRenderer(),it=Q.get("el");xt||(xt="image/png");var U="";if(ct==="svg"){var D=it.cloneNode(!0),W=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),P=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",W);P.replaceChild(D,P.documentElement);var m=new XMLSerializer().serializeToString(P);U="data:image/svg+xml;charset=utf8,"+encodeURIComponent(m)}else{var y=void 0,V=it.getContext("2d"),J=this.get("width"),ht=this.get("height"),gt=void 0;if(wt){var Mt=typeof window!="undefined"?window.devicePixelRatio:1;y=V.getImageData(0,0,J*Mt,ht*Mt),gt=V.globalCompositeOperation,V.globalCompositeOperation="destination-over",V.fillStyle=wt,V.fillRect(0,0,J,ht)}U=it.toDataURL(xt),wt&&(V.clearRect(0,0,J,ht),V.putImageData(y,0,0),V.globalCompositeOperation=gt)}return U},yt.prototype.toFullDataURL=function(xt,wt,Q){var ct=this.get("group").getCanvasBBox(),it=ct.height,U=ct.width,D=this.get("renderer"),W=Object(o.b)('<id="virtual-image"></div>'),P=Q?Q.backgroundColor:void 0,m=Q?Q.padding:void 0;m?Object(h.t)(m)&&(m=[m,m,m,m]):m=[0,0,0,0];var y=it+m[0]+m[2],V=U+m[1]+m[3],J={container:W,height:y,width:V,quickHit:!0},ht=D==="svg"?new S.Canvas(J):new d.Canvas(J),gt=this.get("group").clone(),Mt=Object(h.c)(gt.getMatrix());Mt||(Mt=[1,0,0,0,1,0,0,0,1]);var Lt=(ct.maxX+ct.minX)/2,At=(ct.maxY+ct.minY)/2;Mt=St(Mt,[["t",-Lt,-At],["t",U/2+m[3],it/2+m[0]]]),gt.resetMatrix(),gt.setMatrix(Mt),ht.add(gt);var Ct=ht.get("el"),Ot="";wt||(wt="image/png"),setTimeout(function(){if(D==="svg"){var Dt=Ct.cloneNode(!0),Ft=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),Xt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Ft);Xt.replaceChild(Dt,Xt.documentElement);var Rt=new XMLSerializer().serializeToString(Xt);Ot="data:image/svg+xml;charset=utf8,"+encodeURIComponent(Rt)}else{var Kt=void 0,$t=Ct.getContext("2d"),le=void 0;if(P){var Me=typeof window!="undefined"?window.devicePixelRatio:1;Kt=$t.getImageData(0,0,V*Me,y*Me),le=$t.globalCompositeOperation,$t.globalCompositeOperation="destination-over",$t.fillStyle=P,$t.fillRect(0,0,V,y)}Ot=Ct.toDataURL(wt),P&&($t.clearRect(0,0,V,y),$t.putImageData(Kt,0,0),$t.globalCompositeOperation=le)}xt&&xt(Ot)},16)},yt.prototype.downloadFullImage=function(xt,wt,Q){var ct=this,it=this.get("group").getCanvasBBox(),U=it.height,D=it.width,W=this.get("renderer"),P=Object(o.b)('<id="virtual-image"></div>'),m=Q?Q.backgroundColor:void 0,y=Q?Q.padding:void 0;y?Object(h.t)(y)&&(y=[y,y,y,y]):y=[0,0,0,0];var V=U+y[0]+y[2],J=D+y[1]+y[3],ht={container:P,height:V,width:J},gt=W==="svg"?new S.Canvas(ht):new d.Canvas(ht),Mt=this.get("group").clone(),Lt=Object(h.c)(Mt.getMatrix());Lt||(Lt=[1,0,0,0,1,0,0,0,1]);var At=(it.maxX+it.minX)/2,Ct=(it.maxY+it.minY)/2;Lt=St(Lt,[["t",-At,-Ct],["t",D/2+y[3],U/2+y[0]]]),Mt.resetMatrix(),Mt.setMatrix(Lt),gt.add(Mt);var Ot=gt.get("el");wt||(wt="image/png"),setTimeout(function(){var Dt="";if(W==="svg"){var Ft=Ot.cloneNode(!0),Xt=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),Rt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Xt);Rt.replaceChild(Ft,Rt.documentElement);var Kt=new XMLSerializer().serializeToString(Rt);Dt="data:image/svg+xml;charset=utf8,"+encodeURIComponent(Kt)}else{var $t=void 0,le=Ot.getContext("2d"),Me=void 0;if(m){var on=typeof window!="undefined"?window.devicePixelRatio:1;$t=le.getImageData(0,0,J*on,V*on),Me=le.globalCompositeOperation,le.globalCompositeOperation="destination-over",le.fillStyle=m,le.fillRect(0,0,J,V)}Dt=Ot.toDataURL(wt),m&&(le.clearRect(0,0,J,V),le.putImageData($t,0,0),le.globalCompositeOperation=Me)}var hn=document.createElement("a"),Cn=(xt||"graph")+(W==="svg"?".svg":"."+wt.split("/")[1]);ct.dataURLToImage(Dt,W,hn,Cn);var He=document.createEvent("MouseEvents");He.initEvent("click",!1,!1),hn.dispatchEvent(He)},16)},yt.prototype.downloadImage=function(xt,wt,Q){var ct=this,it=this;it.isAnimating()&&it.stopAnimate();var U=it.get("canvas").getRenderer();wt||(wt="image/png");var D=(xt||"graph")+(U==="svg"?".svg":wt.split("/")[1]),W=document.createElement("a");setTimeout(function(){var P=it.toDataURL(wt,Q);ct.dataURLToImage(P,U,W,D);var m=document.createEvent("MouseEvents");m.initEvent("click",!1,!1),W.dispatchEvent(m)},16)},yt.prototype.dataURLToImage=function(xt,wt,Q,ct){if(typeof window!="undefined")if(window.Blob&&window.URL&&wt!=="svg"){var it=xt.split(","),U="";if(it&&it.length>0){var D=it[0].match(/:(.*?);/);D&&D.length>=2&&(U=D[1])}for(var W=atob(it[1]),P=W.length,m=new Uint8Array(P);P--;)m[P]=W.charCodeAt(P);var y=new Blob([m],{type:U});window.navigator.msSaveBlob?window.navigator.msSaveBlob(y,ct):Q.addEventListener("click",function(){Q.download=ct,Q.href=window.URL.createObjectURL(y)})}else Q.addEventListener("click",function(){Q.download=ct,Q.href=xt})},yt.prototype.addPlugin=function(xt){xt.destroyed||(this.get("plugins").push(xt),xt.initPlugin(this))},yt.prototype.removePlugin=function(xt){var wt=this.get("plugins"),Q=wt.indexOf(xt);Q>=0&&(xt.destroyPlugin(),wt.splice(Q,1))},yt.prototype.setImageWaterMarker=function(xt,wt){xt===void 0&&(xt=T.a.waterMarkerImage);var Q=this.get("container");Object(h.x)(Q)&&(Q=document.getElementById(Q)),Q.style.position||(Q.style.position="relative");var ct=this.get("graphWaterMarker"),it=Object(h.e)({},T.a.imageWaterMarkerConfig,wt),U=it.width,D=it.height,W=it.compatible,P=it.image;if(!ct){var m={container:Q,width:U,height:D,capture:!1},y=this.get("pixelRatio");y&&(m.pixelRatio=y),ct=new d.Canvas(m),this.set("graphWaterMarker",ct)}ct.get("el").style.display="none";var V=ct.get("context"),J=P.rotate,ht=P.x,gt=P.y;V.rotate(-J*Math.PI/180);var Mt=new Image;Mt.crossOrigin="anonymous",Mt.src=xt,Mt.onload=function(){if(V.drawImage(Mt,ht,gt,P.width,P.height),V.rotate(J*Math.PI/180),W)Q.style.cssText="background-image: url("+ct.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var Lt=document.querySelector(".g6-graph-watermarker");Lt||((Lt=document.createElement("div")).className="g6-graph-watermarker"),Lt.className="g6-graph-watermarker",ct.destroyed||(Lt.style.cssText="background-image: url("+ct.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;",Q.appendChild(Lt))}}},yt.prototype.setTextWaterMarker=function(xt,wt){var Q=this.get("container");Object(h.x)(Q)&&(Q=document.getElementById(Q)),Q.style.position||(Q.style.position="relative");var ct=this.get("graphWaterMarker"),it=Object(h.e)({},T.a.textWaterMarkerConfig,wt),U=it.width,D=it.height,W=it.compatible,P=it.text;if(!ct){var m={container:Q,width:U,height:D,capture:!1},y=this.get("pixelRatio");y&&(m.pixelRatio=y),ct=new d.Canvas(m),this.set("graphWaterMarker",ct)}ct.get("el").style.display="none";var V=ct.get("context"),J=P.rotate,ht=P.fill,gt=P.fontFamily,Mt=P.fontSize,Lt=P.baseline,At=P.x,Ct=P.y,Ot=P.lineHeight;V.rotate(-J*Math.PI/180),V.font=Mt+"px "+gt,V.fillStyle=ht,V.textBaseline=Lt;for(var Dt=xt.length-1;Dt>=0;Dt--)V.fillText(xt[Dt],At,Ct+Dt*Ot);if(V.rotate(J*Math.PI/180),W)Q.style.cssText="background-image: url("+ct.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var Ft=document.querySelector(".g6-graph-watermarker");Ft||((Ft=document.createElement("div")).className="g6-graph-watermarker"),Ft.style.cssText="background-image: url("+ct.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;",Q.appendChild(Ft)}},yt.prototype.destroy=function(){Object(h.f)(this.get("plugins"),function(it){it.destroyPlugin()});var xt=this.get("tooltips");if(xt)for(var wt=0;wt<xt.length;wt++){var Q=xt[wt];if(Q){var ct=Q.parentElement;ct&&ct.removeChild(Q)}}this.get("eventController").destroy(),this.get("layoutController").destroy(),this.get("graphWaterMarker")&&this.get("graphWaterMarker").destroy(),document.querySelector(".g6-graph-watermarker")&&document.querySelector(".g6-graph-watermarker").remove(),ot.prototype.destroy.call(this)},yt}(E.b);M.a=H},function(a,M){a.exports=function(t){return t==null}},function(a,M,t){var n;function d(S){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(S)}(function(S){var b=/^\s+/,h=/\s+$/,E=0,T=S.round,o=S.min,s=S.max,u=S.random;function v(y,V){if(V=V||{},(y=y||"")instanceof v)return y;if(!(this instanceof v))return new v(y,V);var J=function(ht){var gt={r:0,g:0,b:0},Mt=1,Lt=null,At=null,Ct=null,Ot=!1,Dt=!1;typeof ht=="string"&&(ht=function(Kt){Kt=Kt.replace(b,"").replace(h,"").toLowerCase();var $t,le=!1;if(It[Kt])Kt=It[Kt],le=!0;else if(Kt=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return($t=P.rgb.exec(Kt))?{r:$t[1],g:$t[2],b:$t[3]}:($t=P.rgba.exec(Kt))?{r:$t[1],g:$t[2],b:$t[3],a:$t[4]}:($t=P.hsl.exec(Kt))?{h:$t[1],s:$t[2],l:$t[3]}:($t=P.hsla.exec(Kt))?{h:$t[1],s:$t[2],l:$t[3],a:$t[4]}:($t=P.hsv.exec(Kt))?{h:$t[1],s:$t[2],v:$t[3]}:($t=P.hsva.exec(Kt))?{h:$t[1],s:$t[2],v:$t[3],a:$t[4]}:($t=P.hex8.exec(Kt))?{r:xt($t[1]),g:xt($t[2]),b:xt($t[3]),a:it($t[4]),format:le?"name":"hex8"}:($t=P.hex6.exec(Kt))?{r:xt($t[1]),g:xt($t[2]),b:xt($t[3]),format:le?"name":"hex"}:($t=P.hex4.exec(Kt))?{r:xt($t[1]+""+$t[1]),g:xt($t[2]+""+$t[2]),b:xt($t[3]+""+$t[3]),a:it($t[4]+""+$t[4]),format:le?"name":"hex8"}:($t=P.hex3.exec(Kt))?{r:xt($t[1]+""+$t[1]),g:xt($t[2]+""+$t[2]),b:xt($t[3]+""+$t[3]),format:le?"name":"hex"}:!1}(ht)),d(ht)=="object"&&(m(ht.r)&&m(ht.g)&&m(ht.b)?(Ft=ht.r,Xt=ht.g,Rt=ht.b,gt={r:255*ot(Ft,255),g:255*ot(Xt,255),b:255*ot(Rt,255)},Ot=!0,Dt=String(ht.r).substr(-1)==="%"?"prgb":"rgb"):m(ht.h)&&m(ht.s)&&m(ht.v)?(Lt=Q(ht.s),At=Q(ht.v),gt=function(Kt,$t,le){Kt=6*ot(Kt,360),$t=ot($t,100),le=ot(le,100);var Me=S.floor(Kt),on=Kt-Me,hn=le*(1-$t),Cn=le*(1-on*$t),He=le*(1-(1-on)*$t),mn=Me%6;return{r:255*[le,Cn,hn,hn,He,le][mn],g:255*[He,le,le,Cn,hn,hn][mn],b:255*[hn,hn,He,le,le,Cn][mn]}}(ht.h,Lt,At),Ot=!0,Dt="hsv"):m(ht.h)&&m(ht.s)&&m(ht.l)&&(Lt=Q(ht.s),Ct=Q(ht.l),gt=function(Kt,$t,le){var Me,on,hn;function Cn(dn,Un,Xn){return Xn<0&&(Xn+=1),Xn>1&&(Xn-=1),Xn<1/6?dn+6*(Un-dn)*Xn:Xn<.5?Un:Xn<2/3?dn+(Un-dn)*(2/3-Xn)*6:dn}if(Kt=ot(Kt,360),$t=ot($t,100),le=ot(le,100),$t===0)Me=on=hn=le;else{var He=le<.5?le*(1+$t):le+$t-le*$t,mn=2*le-He;Me=Cn(mn,He,Kt+1/3),on=Cn(mn,He,Kt),hn=Cn(mn,He,Kt-1/3)}return{r:255*Me,g:255*on,b:255*hn}}(ht.h,Lt,Ct),Ot=!0,Dt="hsl"),ht.hasOwnProperty("a")&&(Mt=ht.a));var Ft,Xt,Rt;return Mt=H(Mt),{ok:Ot,format:ht.format||Dt,r:o(255,s(gt.r,0)),g:o(255,s(gt.g,0)),b:o(255,s(gt.b,0)),a:Mt}}(y);this._originalInput=y,this._r=J.r,this._g=J.g,this._b=J.b,this._a=J.a,this._roundA=T(100*this._a)/100,this._format=V.format||J.format,this._gradientType=V.gradientType,this._r<1&&(this._r=T(this._r)),this._g<1&&(this._g=T(this._g)),this._b<1&&(this._b=T(this._b)),this._ok=J.ok,this._tc_id=E++}function C(y,V,J){y=ot(y,255),V=ot(V,255),J=ot(J,255);var ht,gt,Mt=s(y,V,J),Lt=o(y,V,J),At=(Mt+Lt)/2;if(Mt==Lt)ht=gt=0;else{var Ct=Mt-Lt;switch(gt=At>.5?Ct/(2-Mt-Lt):Ct/(Mt+Lt),Mt){case y:ht=(V-J)/Ct+(V<J?6:0);break;case V:ht=(J-y)/Ct+2;break;case J:ht=(y-V)/Ct+4}ht/=6}return{h:ht,s:gt,l:At}}function O(y,V,J){y=ot(y,255),V=ot(V,255),J=ot(J,255);var ht,gt,Mt=s(y,V,J),Lt=o(y,V,J),At=Mt,Ct=Mt-Lt;if(gt=Mt===0?0:Ct/Mt,Mt==Lt)ht=0;else{switch(Mt){case y:ht=(V-J)/Ct+(V<J?6:0);break;case V:ht=(J-y)/Ct+2;break;case J:ht=(y-V)/Ct+4}ht/=6}return{h:ht,s:gt,v:At}}function j(y,V,J,ht){var gt=[wt(T(y).toString(16)),wt(T(V).toString(16)),wt(T(J).toString(16))];return ht&&gt[0].charAt(0)==gt[0].charAt(1)&&gt[1].charAt(0)==gt[1].charAt(1)&&gt[2].charAt(0)==gt[2].charAt(1)?gt[0].charAt(0)+gt[1].charAt(0)+gt[2].charAt(0):gt.join("")}function p(y,V,J,ht){return[wt(ct(ht)),wt(T(y).toString(16)),wt(T(V).toString(16)),wt(T(J).toString(16))].join("")}function x(y,V){V=V===0?0:V||10;var J=v(y).toHsl();return J.s-=V/100,J.s=yt(J.s),v(J)}function A(y,V){V=V===0?0:V||10;var J=v(y).toHsl();return J.s+=V/100,J.s=yt(J.s),v(J)}function k(y){return v(y).desaturate(100)}function X(y,V){V=V===0?0:V||10;var J=v(y).toHsl();return J.l+=V/100,J.l=yt(J.l),v(J)}function et(y,V){V=V===0?0:V||10;var J=v(y).toRgb();return J.r=s(0,o(255,J.r-T(-V/100*255))),J.g=s(0,o(255,J.g-T(-V/100*255))),J.b=s(0,o(255,J.b-T(-V/100*255))),v(J)}function tt(y,V){V=V===0?0:V||10;var J=v(y).toHsl();return J.l-=V/100,J.l=yt(J.l),v(J)}function ft(y,V){var J=v(y).toHsl(),ht=(J.h+V)%360;return J.h=ht<0?360+ht:ht,v(J)}function st(y){var V=v(y).toHsl();return V.h=(V.h+180)%360,v(V)}function vt(y){var V=v(y).toHsl(),J=V.h;return[v(y),v({h:(J+120)%360,s:V.s,l:V.l}),v({h:(J+240)%360,s:V.s,l:V.l})]}function mt(y){var V=v(y).toHsl(),J=V.h;return[v(y),v({h:(J+90)%360,s:V.s,l:V.l}),v({h:(J+180)%360,s:V.s,l:V.l}),v({h:(J+270)%360,s:V.s,l:V.l})]}function pt(y){var V=v(y).toHsl(),J=V.h;return[v(y),v({h:(J+72)%360,s:V.s,l:V.l}),v({h:(J+216)%360,s:V.s,l:V.l})]}function rt(y,V,J){V=V||6,J=J||30;var ht=v(y).toHsl(),gt=360/J,Mt=[v(y)];for(ht.h=(ht.h-(gt*V>>1)+720)%360;--V;)ht.h=(ht.h+gt)%360,Mt.push(v(ht));return Mt}function Bt(y,V){V=V||6;for(var J=v(y).toHsv(),ht=J.h,gt=J.s,Mt=J.v,Lt=[],At=1/V;V--;)Lt.push(v({h:ht,s:gt,v:Mt})),Mt=(Mt+At)%1;return Lt}v.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var V=this.toRgb();return(299*V.r+587*V.g+114*V.b)/1e3},getLuminance:function(){var V,J,ht,gt=this.toRgb();return V=gt.r/255,J=gt.g/255,ht=gt.b/255,.2126*(V<=.03928?V/12.92:S.pow((V+.055)/1.055,2.4))+.7152*(J<=.03928?J/12.92:S.pow((J+.055)/1.055,2.4))+.0722*(ht<=.03928?ht/12.92:S.pow((ht+.055)/1.055,2.4))},setAlpha:function(V){return this._a=H(V),this._roundA=T(100*this._a)/100,this},toHsv:function(){var V=O(this._r,this._g,this._b);return{h:360*V.h,s:V.s,v:V.v,a:this._a}},toHsvString:function(){var V=O(this._r,this._g,this._b),J=T(360*V.h),ht=T(100*V.s),gt=T(100*V.v);return this._a==1?"hsv("+J+", "+ht+"%, "+gt+"%)":"hsva("+J+", "+ht+"%, "+gt+"%, "+this._roundA+")"},toHsl:function(){var V=C(this._r,this._g,this._b);return{h:360*V.h,s:V.s,l:V.l,a:this._a}},toHslString:function(){var V=C(this._r,this._g,this._b),J=T(360*V.h),ht=T(100*V.s),gt=T(100*V.l);return this._a==1?"hsl("+J+", "+ht+"%, "+gt+"%)":"hsla("+J+", "+ht+"%, "+gt+"%, "+this._roundA+")"},toHex:function(V){return j(this._r,this._g,this._b,V)},toHexString:function(V){return"#"+this.toHex(V)},toHex8:function(V){return function(J,ht,gt,Mt,Lt){var At=[wt(T(J).toString(16)),wt(T(ht).toString(16)),wt(T(gt).toString(16)),wt(ct(Mt))];return Lt&&At[0].charAt(0)==At[0].charAt(1)&&At[1].charAt(0)==At[1].charAt(1)&&At[2].charAt(0)==At[2].charAt(1)&&At[3].charAt(0)==At[3].charAt(1)?At[0].charAt(0)+At[1].charAt(0)+At[2].charAt(0)+At[3].charAt(0):At.join("")}(this._r,this._g,this._b,this._a,V)},toHex8String:function(V){return"#"+this.toHex8(V)},toRgb:function(){return{r:T(this._r),g:T(this._g),b:T(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+T(this._r)+", "+T(this._g)+", "+T(this._b)+")":"rgba("+T(this._r)+", "+T(this._g)+", "+T(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:T(100*ot(this._r,255))+"%",g:T(100*ot(this._g,255))+"%",b:T(100*ot(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+T(100*ot(this._r,255))+"%, "+T(100*ot(this._g,255))+"%, "+T(100*ot(this._b,255))+"%)":"rgba("+T(100*ot(this._r,255))+"%, "+T(100*ot(this._g,255))+"%, "+T(100*ot(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(St[j(this._r,this._g,this._b,!0)]||!1)},toFilter:function(V){var J="#"+p(this._r,this._g,this._b,this._a),ht=J,gt=this._gradientType?"GradientType = 1, ":"";if(V){var Mt=v(V);ht="#"+p(Mt._r,Mt._g,Mt._b,Mt._a)}return"progid:DXImageTransform.Microsoft.gradient("+gt+"startColorstr="+J+",endColorstr="+ht+")"},toString:function(V){var J=!!V;V=V||this._format;var ht=!1,gt=this._a<1&&this._a>=0;return J||!gt||V!=="hex"&&V!=="hex6"&&V!=="hex3"&&V!=="hex4"&&V!=="hex8"&&V!=="name"?(V==="rgb"&&(ht=this.toRgbString()),V==="prgb"&&(ht=this.toPercentageRgbString()),V!=="hex"&&V!=="hex6"||(ht=this.toHexString()),V==="hex3"&&(ht=this.toHexString(!0)),V==="hex4"&&(ht=this.toHex8String(!0)),V==="hex8"&&(ht=this.toHex8String()),V==="name"&&(ht=this.toName()),V==="hsl"&&(ht=this.toHslString()),V==="hsv"&&(ht=this.toHsvString()),ht||this.toHexString()):V==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return v(this.toString())},_applyModification:function(V,J){var ht=V.apply(null,[this].concat([].slice.call(J)));return this._r=ht._r,this._g=ht._g,this._b=ht._b,this.setAlpha(ht._a),this},lighten:function(){return this._applyModification(X,arguments)},brighten:function(){return this._applyModification(et,arguments)},darken:function(){return this._applyModification(tt,arguments)},desaturate:function(){return this._applyModification(x,arguments)},saturate:function(){return this._applyModification(A,arguments)},greyscale:function(){return this._applyModification(k,arguments)},spin:function(){return this._applyModification(ft,arguments)},_applyCombination:function(V,J){return V.apply(null,[this].concat([].slice.call(J)))},analogous:function(){return this._applyCombination(rt,arguments)},complement:function(){return this._applyCombination(st,arguments)},monochromatic:function(){return this._applyCombination(Bt,arguments)},splitcomplement:function(){return this._applyCombination(pt,arguments)},triad:function(){return this._applyCombination(vt,arguments)},tetrad:function(){return this._applyCombination(mt,arguments)}},v.fromRatio=function(y,V){if(d(y)=="object"){var J={};for(var ht in y)y.hasOwnProperty(ht)&&(J[ht]=ht==="a"?y[ht]:Q(y[ht]));y=J}return v(y,V)},v.equals=function(y,V){return!(!y||!V)&&v(y).toRgbString()==v(V).toRgbString()},v.random=function(){return v.fromRatio({r:u(),g:u(),b:u()})},v.mix=function(y,V,J){J=J===0?0:J||50;var ht=v(y).toRgb(),gt=v(V).toRgb(),Mt=J/100;return v({r:(gt.r-ht.r)*Mt+ht.r,g:(gt.g-ht.g)*Mt+ht.g,b:(gt.b-ht.b)*Mt+ht.b,a:(gt.a-ht.a)*Mt+ht.a})},v.readability=function(y,V){var J=v(y),ht=v(V);return(S.max(J.getLuminance(),ht.getLuminance())+.05)/(S.min(J.getLuminance(),ht.getLuminance())+.05)},v.isReadable=function(y,V,J){var ht,gt,Mt=v.readability(y,V);switch(gt=!1,(ht=function(Lt){var At,Ct;return At=((Lt=Lt||{level:"AA",size:"small"}).level||"AA").toUpperCase(),Ct=(Lt.size||"small").toLowerCase(),At!=="AA"&&At!=="AAA"&&(At="AA"),Ct!=="small"&&Ct!=="large"&&(Ct="small"),{level:At,size:Ct}}(J)).level+ht.size){case"AAsmall":case"AAAlarge":gt=Mt>=4.5;break;case"AAlarge":gt=Mt>=3;break;case"AAAsmall":gt=Mt>=7}return gt},v.mostReadable=function(y,V,J){var ht,gt,Mt,Lt,At=null,Ct=0;gt=(J=J||{}).includeFallbackColors,Mt=J.level,Lt=J.size;for(var Ot=0;Ot<V.length;Ot++)(ht=v.readability(y,V[Ot]))>Ct&&(Ct=ht,At=v(V[Ot]));return v.isReadable(y,At,{level:Mt,size:Lt})||!gt?At:(J.includeFallbackColors=!1,v.mostReadable(y,["#fff","#000"],J))};var It=v.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},St=v.hexNames=function(y){var V={};for(var J in y)y.hasOwnProperty(J)&&(V[y[J]]=J);return V}(It);function H(y){return y=parseFloat(y),(isNaN(y)||y<0||y>1)&&(y=1),y}function ot(y,V){(function(ht){return typeof ht=="string"&&ht.indexOf(".")!=-1&&parseFloat(ht)===1})(y)&&(y="100%");var J=function(ht){return typeof ht=="string"&&ht.indexOf("%")!=-1}(y);return y=o(V,s(0,parseFloat(y))),J&&(y=parseInt(y*V,10)/100),S.abs(y-V)<1e-6?1:y%V/parseFloat(V)}function yt(y){return o(1,s(0,y))}function xt(y){return parseInt(y,16)}function wt(y){return y.length==1?"0"+y:""+y}function Q(y){return y<=1&&(y=100*y+"%"),y}function ct(y){return S.round(255*parseFloat(y)).toString(16)}function it(y){return xt(y)/255}var U,D,W,P=(D="[\\s|\\(]+("+(U="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+U+")[,|\\s]+("+U+")\\s*\\)?",W="[\\s|\\(]+("+U+")[,|\\s]+("+U+")[,|\\s]+("+U+")[,|\\s]+("+U+")\\s*\\)?",{CSS_UNIT:new RegExp(U),rgb:new RegExp("rgb"+D),rgba:new RegExp("rgba"+W),hsl:new RegExp("hsl"+D),hsla:new RegExp("hsla"+W),hsv:new RegExp("hsv"+D),hsva:new RegExp("hsva"+W),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function m(y){return!!P.CSS_UNIT.exec(y)}a.exports?a.exports=v:(n=function(){return v}.call(M,t,M,a))===void 0||(a.exports=n)})(Math)},function(a,M,t){a.exports={EPSILON:t(233),create:t(234),clone:t(477),fromValues:t(478),copy:t(479),set:t(235),equals:t(480),exactEquals:t(481),add:t(236),subtract:t(150),sub:t(482),multiply:t(237),mul:t(483),divide:t(238),div:t(484),inverse:t(485),min:t(486),max:t(487),rotate:t(488),floor:t(489),ceil:t(490),round:t(491),scale:t(492),scaleAndAdd:t(493),distance:t(239),dist:t(494),squaredDistance:t(240),sqrDist:t(495),length:t(241),len:t(496),squaredLength:t(242),sqrLen:t(497),negate:t(498),normalize:t(243),dot:t(244),cross:t(499),lerp:t(500),random:t(501),transformMat2:t(502),transformMat2d:t(503),transformMat3:t(504),transformMat4:t(505),forEach:t(506),limit:t(507)}},function(a,M,t){var n=t(97),d=t(278),S=t(279),b=t(280),h=t(281),E=t(282);function T(o){var s=this.__data__=new n(o);this.size=s.size}T.prototype.clear=d,T.prototype.delete=S,T.prototype.get=b,T.prototype.has=h,T.prototype.set=E,a.exports=T},function(a,M,t){var n=t(273),d=t(274),S=t(275),b=t(276),h=t(277);function E(T){var o=-1,s=T==null?0:T.length;for(this.clear();++o<s;){var u=T[o];this.set(u[0],u[1])}}E.prototype.clear=n,E.prototype.delete=d,E.prototype.get=S,E.prototype.has=b,E.prototype.set=h,a.exports=E},function(a,M,t){var n=t(72);a.exports=function(d,S){for(var b=d.length;b--;)if(n(d[b][0],S))return b;return-1}},function(a,M,t){var n=t(65)(Object,"create");a.exports=n},function(a,M,t){var n=t(297);a.exports=function(d,S){var b=d.__data__;return n(S)?b[typeof S=="string"?"string":"hash"]:b.map}},function(a,M,t){var n=t(102),d=t(72),S=Object.prototype.hasOwnProperty;a.exports=function(b,h,E){var T=b[h];S.call(b,h)&&d(T,E)&&(E!==void 0||h in b)||n(b,h,E)}},function(a,M,t){var n=t(166);a.exports=function(d,S,b){S=="__proto__"&&n?n(d,S,{configurable:!0,enumerable:!0,value:b,writable:!0}):d[S]=b}},function(a,M){function t(d){return(t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(d)}var n=/^(?:0|[1-9]\d*)$/;a.exports=function(d,S){var b=t(d);return!!(S=S==null?9007199254740991:S)&&(b=="number"||b!="symbol"&&n.test(d))&&d>-1&&d%1==0&&d<S}},function(a,M){a.exports=function(t){return function(n){return t(n)}}},function(a,M){var t=Object.prototype;a.exports=function(n){var d=n&&n.constructor;return n===(typeof d=="function"&&d.prototype||t)}},function(a,M,t){var n=t(168)(Object.getPrototypeOf,Object);a.exports=n},function(a,M,t){var n=t(135),d=t(326)(n);a.exports=d},function(a,M,t){var n=t(109),d=t(88);a.exports=function(S,b){for(var h=0,E=(b=n(b,S)).length;S!=null&&h<E;)S=S[d(b[h++])];return h&&h==E?S:void 0}},function(a,M,t){var n=t(26),d=t(138),S=t(340),b=t(191);a.exports=function(h,E){return n(h)?h:d(h,E)?[h]:S(b(h))}},function(a,M){a.exports=function(t,n){for(var d=-1,S=t==null?0:t.length,b=Array(S);++d<S;)b[d]=n(t[d],d,t);return b}},function(a,M,t){var n=t(67),d=t(200),S=t(201);a.exports=function(b,h){return S(d(b,h,n),b+"")}},function(a,M,t){function n(E){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(E)}var d=t(72),S=t(53),b=t(103),h=t(43);a.exports=function(E,T,o){if(!h(o))return!1;var s=n(T);return!!(s=="number"?S(o)&&b(T,o.length):s=="string"&&T in o)&&d(o[T],E)}},function(a,M,t){"use strict";var n=t(24);a.exports={longestPath:function(S){var b={};n.forEach(S.sources(),function h(E){var T=S.node(E);if(n.has(b,E))return T.rank;b[E]=!0;var o=n.min(n.map(S.outEdges(E),function(s){return h(s.w)-S.edge(s).minlen}));return o!==Number.POSITIVE_INFINITY&&o!=null||(o=0),T.rank=o})},slack:function(S,b){return S.node(b.w).rank-S.node(b.v).rank-S.edge(b).minlen}}},function(a,M){},function(a,M,t){"use strict";var n=function(){function d(S,b){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=S,this.name=S,this.originalEvent=b,this.timeStamp=b.timeStamp}return d.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},d.prototype.stopPropagation=function(){this.propagationStopped=!0},d.prototype.toString=function(){return"[Event (type="+this.type+")]"},d.prototype.save=function(){},d.prototype.restore=function(){},d}();M.a=n},function(a,M,t){"use strict";var n=t(1),d=t(80),S=t(19),b=function(h){function E(T){var o=h.call(this)||this;o.destroyed=!1;var s=o.getDefaultCfg();return o.cfg=Object(S.i)(s,T),o}return Object(n.b)(E,h),E.prototype.getDefaultCfg=function(){return{}},E.prototype.get=function(T){return this.cfg[T]},E.prototype.set=function(T,o){this.cfg[T]=o},E.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},E}(d.a);M.a=b},function(a,M,t){"use strict";t.d(M,"a",function(){return d});var n=null;function d(){if(!n){var S=document.createElement("canvas");S.width=1,S.height=1,n=S.getContext("2d")}return n}},function(a,M,t){"use strict";var n=t(1),d=t(119),S=t(19),b={},h=function(E){function T(){return E!==null&&E.apply(this,arguments)||this}return Object(n.b)(T,E),T.prototype.isCanvas=function(){return!1},T.prototype.getBBox=function(){var o=1/0,s=-1/0,u=1/0,v=-1/0,C=[],O=[],j=this.getChildren().filter(function(p){return p.get("visible")&&(!p.isGroup()||p.isGroup()&&p.getChildren().length>0)});return j.length>0?(Object(S.a)(j,function(p){var x=p.getBBox();C.push(x.minX,x.maxX),O.push(x.minY,x.maxY)}),o=Math.min.apply(null,C),s=Math.max.apply(null,C),u=Math.min.apply(null,O),v=Math.max.apply(null,O)):(o=0,s=0,u=0,v=0),{x:o,y:u,minX:o,minY:u,maxX:s,maxY:v,width:s-o,height:v-u}},T.prototype.getCanvasBBox=function(){var o=1/0,s=-1/0,u=1/0,v=-1/0,C=[],O=[],j=this.getChildren().filter(function(p){return p.get("visible")&&(!p.isGroup()||p.isGroup()&&p.getChildren().length>0)});return j.length>0?(Object(S.a)(j,function(p){var x=p.getCanvasBBox();C.push(x.minX,x.maxX),O.push(x.minY,x.maxY)}),o=Math.min.apply(null,C),s=Math.max.apply(null,C),u=Math.min.apply(null,O),v=Math.max.apply(null,O)):(o=0,s=0,u=0,v=0),{x:o,y:u,minX:o,minY:u,maxX:s,maxY:v,width:s-o,height:v-u}},T.prototype.getDefaultCfg=function(){var o=E.prototype.getDefaultCfg.call(this);return o.children=[],o},T.prototype.onAttrChange=function(o,s,u){if(E.prototype.onAttrChange.call(this,o,s,u),o==="matrix"){var v=this.getTotalMatrix();this._applyChildrenMarix(v)}},T.prototype.applyMatrix=function(o){var s=this.getTotalMatrix();E.prototype.applyMatrix.call(this,o);var u=this.getTotalMatrix();u!==s&&this._applyChildrenMarix(u)},T.prototype._applyChildrenMarix=function(o){var s=this.getChildren();Object(S.a)(s,function(u){u.applyMatrix(o)})},T.prototype.addShape=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var u=o[0],v=o[1];Object(S.f)(u)?v=u:v.type=u;var C=b[v.type];C||(C=Object(S.k)(v.type),b[v.type]=C);var O=this.getShapeBase(),j=new O[C](v);return this.add(j),j},T.prototype.addGroup=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var u,v=o[0],C=o[1];if(Object(S.d)(v))u=new v(C||{parent:this});else{var O=v||{},j=this.getGroupBase();u=new j(O)}return this.add(u),u},T.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},T.prototype.getShape=function(o,s,u){if(!Object(S.b)(this))return null;var v,C=this.getChildren();if(this.isCanvas())v=this._findShape(C,o,s,u);else{var O=[o,s,1];O=this.invertFromMatrix(O),this.isClipped(O[0],O[1])||(v=this._findShape(C,O[0],O[1],u))}return v},T.prototype._findShape=function(o,s,u,v){for(var C=null,O=o.length-1;O>=0;O--){var j=o[O];if(Object(S.b)(j)&&(j.isGroup()?C=j.getShape(s,u,v):j.isHit(s,u)&&(C=j)),C)break}return C},T.prototype.add=function(o){var s=this.getCanvas(),u=this.getChildren(),v=this.get("timeline"),C=o.getParent();C&&function(O,j,p){p===void 0&&(p=!0),p?j.destroy():(j.set("parent",null),j.set("canvas",null)),Object(S.j)(O.getChildren(),j)}(C,o,!1),o.set("parent",this),s&&function O(j,p){if(j.set("canvas",p),j.isGroup()){var x=j.get("children");x.length&&x.forEach(function(A){O(A,p)})}}(o,s),v&&function O(j,p){if(j.set("timeline",p),j.isGroup()){var x=j.get("children");x.length&&x.forEach(function(A){O(A,p)})}}(o,v),u.push(o),o.onCanvasChange("add"),this._applyElementMatrix(o)},T.prototype._applyElementMatrix=function(o){var s=this.getTotalMatrix();s&&o.applyMatrix(s)},T.prototype.getChildren=function(){return this.get("children")},T.prototype.sort=function(){var o,s=this.getChildren();Object(S.a)(s,function(u,v){return u._INDEX=v,u}),s.sort((o=function(v,C){return v.get("zIndex")-C.get("zIndex")},function(u,v){var C=o(u,v);return C===0?u._INDEX-v._INDEX:C})),this.onCanvasChange("sort")},T.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var o=this.getChildren(),s=o.length-1;s>=0;s--)o[s].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},T.prototype.destroy=function(){this.get("destroyed")||(this.clear(),E.prototype.destroy.call(this))},T.prototype.getFirst=function(){return this.getChildByIndex(0)},T.prototype.getLast=function(){var o=this.getChildren();return this.getChildByIndex(o.length-1)},T.prototype.getChildByIndex=function(o){return this.getChildren()[o]},T.prototype.getCount=function(){return this.getChildren().length},T.prototype.contain=function(o){return this.getChildren().indexOf(o)>-1},T.prototype.removeChild=function(o,s){s===void 0&&(s=!0),this.contain(o)&&o.remove(s)},T.prototype.findAll=function(o){var s=[],u=this.getChildren();return Object(S.a)(u,function(v){o(v)&&s.push(v),v.isGroup()&&(s=s.concat(v.findAll(o)))}),s},T.prototype.find=function(o){var s=null,u=this.getChildren();return Object(S.a)(u,function(v){if(o(v)?s=v:v.isGroup()&&(s=v.find(o)),s)return!1}),s},T.prototype.findById=function(o){return this.find(function(s){return s.get("id")===o})},T.prototype.findByClassName=function(o){return this.find(function(s){return s.get("className")===o})},T.prototype.findAllByName=function(o){return this.findAll(function(s){return s.get("name")===o})},T}(d.a);M.a=h},function(a,M,t){"use strict";var n=t(1),d=t(0),S=t(10),b=t(19),h=t(39),E=t(116),T=S.a.transform,o=["zIndex","capture","visible","type"],s=["repeat"];function u(j,p){var x={},A=p.attrs;for(var k in j)x[k]=A[k];return x}function v(j,p){var x={},A=p.attr();return Object(d.f)(j,function(k,X){s.indexOf(X)!==-1||Object(d.q)(A[X],k)||(x[X]=k)}),x}function C(j,p){if(p.onFrame)return j;var x=p.startTime,A=p.delay,k=p.duration,X=Object.prototype.hasOwnProperty;return Object(d.f)(j,function(et){x+A<et.startTime+et.delay+et.duration&&k>et.delay&&Object(d.f)(p.toAttrs,function(tt,ft){X.call(et.toAttrs,ft)&&(delete et.toAttrs[ft],delete et.fromAttrs[ft])})}),j}var O=function(j){function p(x){var A=j.call(this,x)||this;A.attrs={};var k=A.getDefaultAttrs();return Object(d.A)(k,x.attrs),A.attrs=k,A.initAttrs(k),A.initAnimate(),A}return Object(n.b)(p,j),p.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},p.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},p.prototype.onCanvasChange=function(x){},p.prototype.initAttrs=function(x){},p.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},p.prototype.isGroup=function(){return!1},p.prototype.getParent=function(){return this.get("parent")},p.prototype.getCanvas=function(){return this.get("canvas")},p.prototype.attr=function(){for(var x,A=[],k=0;k<arguments.length;k++)A[k]=arguments[k];var X=A[0],et=A[1];if(!X)return this.attrs;if(Object(d.v)(X)){for(var tt in X)this.setAttr(tt,X[tt]);return this.afterAttrsChange(X),this}return A.length===2?(this.setAttr(X,et),this.afterAttrsChange(((x={})[X]=et,x)),this):this.attrs[X]},p.prototype.isClipped=function(x,A){var k=this.getClip();return k&&!k.isHit(x,A)},p.prototype.setAttr=function(x,A){var k=this.attrs[x];k!==A&&(this.attrs[x]=A,this.onAttrChange(x,A,k))},p.prototype.onAttrChange=function(x,A,k){x==="matrix"&&this.set("totalMatrix",null)},p.prototype.afterAttrsChange=function(x){if(this.cfg.isClipShape){var A=this.cfg.applyTo;A&&A.onCanvasChange("clip")}else this.onCanvasChange("attr")},p.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},p.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},p.prototype.setZIndex=function(x){this.set("zIndex",x);var A=this.getParent();return A&&A.sort(),this},p.prototype.toFront=function(){var x=this.getParent();if(x){var A=x.getChildren(),k=(this.get("el"),A.indexOf(this));A.splice(k,1),A.push(this),this.onCanvasChange("zIndex")}},p.prototype.toBack=function(){var x=this.getParent();if(x){var A=x.getChildren(),k=(this.get("el"),A.indexOf(this));A.splice(k,1),A.unshift(this),this.onCanvasChange("zIndex")}},p.prototype.remove=function(x){x===void 0&&(x=!0);var A=this.getParent();A?(Object(b.j)(A.getChildren(),this),A.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),x&&this.destroy()},p.prototype.resetMatrix=function(){this.attr("matrix",this.getDefaultMatrix()),this.onCanvasChange("matrix")},p.prototype.getMatrix=function(){return this.attr("matrix")},p.prototype.setMatrix=function(x){this.attr("matrix",x),this.onCanvasChange("matrix")},p.prototype.getTotalMatrix=function(){var x=this.cfg.totalMatrix;if(!x){var A=this.attr("matrix"),k=this.cfg.parentMatrix;x=k&&A?Object(h.b)(k,A):A||k,this.set("totalMatrix",x)}return x},p.prototype.applyMatrix=function(x){var A=this.attr("matrix"),k=null;k=x&&A?Object(h.b)(x,A):A||x,this.set("totalMatrix",k),this.set("parentMatrix",x)},p.prototype.getDefaultMatrix=function(){return null},p.prototype.applyToMatrix=function(x){var A=this.attr("matrix");return A?Object(h.c)(A,x):x},p.prototype.invertFromMatrix=function(x){var A=this.attr("matrix");if(A){var k=Object(h.a)(A);if(k)return Object(h.c)(k,x)}return x},p.prototype.setClip=function(x){var A=this.getCanvas(),k=null;if(x){var X=this.getShapeBase()[Object(d.I)(x.type)];X&&(k=new X({type:x.type,isClipShape:!0,applyTo:this,attrs:x.attrs,canvas:A}))}return this.set("clipShape",k),this.onCanvasChange("clip"),k},p.prototype.getClip=function(){var x=this.cfg.clipShape;return x||null},p.prototype.clone=function(){var x=this,A=this.attrs,k={};Object(d.f)(A,function(et,tt){Object(d.m)(A[tt])?k[tt]=function(ft){for(var st=[],vt=0;vt<ft.length;vt++)Object(d.m)(ft[vt])?st.push([].concat(ft[vt])):st.push(ft[vt]);return st}(A[tt]):k[tt]=A[tt]});var X=new this.constructor({attrs:k});return Object(d.f)(o,function(et){X.set(et,x.get(et))}),X},p.prototype.destroy=function(){this.destroyed||(this.attrs={},j.prototype.destroy.call(this))},p.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},p.prototype.animate=function(){for(var x=[],A=0;A<arguments.length;A++)x[A]=arguments[A];var k=this.isCanvas&&this.isCanvas();if(k||this.get("canvas")){this.set("animating",!0);var X=this.get("timeline");X||(X=this.get("canvas").get("timeline"),this.set("timeline",X));var et=this.get("animations")||[];X.timer||X.initTimer();var tt,ft,st,vt,mt,pt=x[0],rt=x[1],Bt=x[2],It=Bt===void 0?"easeLinear":Bt,St=x[3],H=St===void 0?d.C:St,ot=x[4],yt=ot===void 0?0:ot;Object(d.r)(pt)?(tt=pt,pt={}):Object(d.v)(pt)&&pt.onFrame&&(tt=pt.onFrame,ft=pt.repeat),Object(d.v)(rt)?(rt=(mt=rt).duration,It=mt.easing||"easeLinear",yt=mt.delay||0,ft=mt.repeat||ft||!1,H=mt.callback||d.C,st=mt.pauseCallback||d.C,vt=mt.resumeCallback||d.C):(Object(d.t)(H)&&(yt=H,H=null),Object(d.r)(It)?(H=It,It="easeLinear"):It=It||"easeLinear");var xt=v(pt,this),wt={fromAttrs:u(xt,this),toAttrs:xt,duration:rt,easing:It,repeat:ft,callback:H,pauseCallback:st,resumeCallback:vt,delay:yt,startTime:X.getTime(),id:Object(d.H)(),onFrame:tt,pathFormatted:!1};et.length>0?et=C(et,wt):X.addAnimator(this),et.push(wt),this.set("animations",et),this.set("_pause",{isPaused:!1})}},p.prototype.stopAnimate=function(x){var A=this;x===void 0&&(x=!0);var k=this.get("animations");Object(d.f)(k,function(X){x&&(X.onFrame?A.attr(X.onFrame(1)):A.attr(X.toAttrs)),X.callback&&X.callback()}),this.set("animating",!1),this.set("animations",[])},p.prototype.pauseAnimate=function(){var x=this.get("timeline"),A=this.get("animations"),k=x.getTime();return Object(d.f)(A,function(X){X._paused=!0,X._pauseTime=k,X.pauseCallback&&X.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:k}),this},p.prototype.resumeAnimate=function(){var x=this.get("timeline").getTime(),A=this.get("animations"),k=this.get("_pause").pauseTime;return Object(d.f)(A,function(X){X.startTime=X.startTime+(x-k),X._paused=!1,X._pauseTime=null,X.resumeCallback&&X.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",A),this},p.prototype.emitDelegation=function(x,A){var k,X=this,et=A.propagationPath;this.getEvents(),x==="mouseenter"?k=A.fromShape:x==="mouseleave"&&(k=A.toShape);for(var tt=function(mt){var pt=et[mt],rt=pt.get("name");if(rt){if((pt.isGroup()||pt.isCanvas&&pt.isCanvas())&&k&&Object(b.g)(pt,k))return"break";Object(d.m)(rt)?Object(d.f)(rt,function(Bt){X.emitDelegateEvent(pt,Bt,A)}):ft.emitDelegateEvent(pt,rt,A)}},ft=this,st=0;st<et.length&&tt(st)!=="break";st++);},p.prototype.emitDelegateEvent=function(x,A,k){var X=this.getEvents(),et=A+":"+k.type;(X[et]||X["*"])&&(k.name=et,k.currentTarget=x,k.delegateTarget=this,k.delegateObject=x.get("delegateObject"),this.emit(et,k))},p.prototype.translate=function(x,A){x===void 0&&(x=0),A===void 0&&(A=0);var k=this.getMatrix(),X=T(k,[["t",x,A]]);return this.setMatrix(X),this},p.prototype.move=function(x,A){var k=this.attr("x")||0,X=this.attr("y")||0;return this.translate(x-k,A-X),this},p.prototype.moveTo=function(x,A){return this.move(x,A)},p.prototype.scale=function(x,A){var k=this.getMatrix(),X=T(k,[["s",x,A||x]]);return this.setMatrix(X),this},p.prototype.rotate=function(x){var A=this.getMatrix(),k=T(A,[["r",x]]);return this.setMatrix(k),this},p.prototype.rotateAtStart=function(x){var A=this.attr(),k=A.x,X=A.y,et=this.getMatrix(),tt=T(et,[["t",-k,-X],["r",x],["t",k,X]]);return this.setMatrix(tt),this},p.prototype.rotateAtPoint=function(x,A,k){var X=this.getMatrix(),et=T(X,[["t",-x,-A],["r",k],["t",x,A]]);return this.setMatrix(et),this},p}(E.a);M.a=O},function(a,M,t){"use strict";(function(n){t.d(M,"a",function(){return v});var d=function(){for(var p=0,x=0,A=arguments.length;x<A;x++)p+=arguments[x].length;var k=Array(p),X=0;for(x=0;x<A;x++)for(var et=arguments[x],tt=0,ft=et.length;tt<ft;tt++,X++)k[X]=et[tt];return k},S=function(p,x,A){this.name=p,this.version=x,this.os=A,this.type="browser"},b=function(p){this.version=p,this.type="node",this.name="node",this.os=n.platform},h=function(p,x,A,k){this.name=p,this.version=x,this.os=A,this.bot=k,this.type="bot-device"},E=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},T=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},o=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,s=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],u=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function v(j){return j?O(j):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new T:typeof navigator!="undefined"?O(navigator.userAgent):n!==void 0&&n.version?new b(n.version.slice(1)):null}function C(j){return j!==""&&s.reduce(function(p,x){var A=x[0],k=x[1];if(p)return p;var X=k.exec(j);return!!X&&[A,X]},!1)}function O(j){var p=C(j);if(!p)return null;var x=p[0],A=p[1];if(x==="searchbot")return new E;var k=A[1]&&A[1].split(/[._]/).slice(0,3);k?k.length<3&&(k=d(k,function(ft){for(var st=[],vt=0;vt<ft;vt++)st.push("0");return st}(3-k.length))):k=[];var X=k.join("."),et=function(ft){for(var st=0,vt=u.length;st<vt;st++){var mt=u[st],pt=mt[0];if(mt[1].exec(ft))return pt}return null}(j),tt=o.exec(j);return tt&&tt[1]?new h(x,X,et,tt[1]):new S(x,X,et)}}).call(this,t(158))},function(a,M,t){"use strict";t.d(M,"b",function(){return T}),t.d(M,"a",function(){return o});var n=t(17),d=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,S=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,b=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,h=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function E(s,u){var v=s.match(h);Object(n.c)(v,function(C){var O=C.split(":");u.addColorStop(O[0],O[1])})}function T(s,u,v){if(Object(n.k)(v)){if(v[1]==="("||v[2]==="("){if(v[0]==="l")return function(C,O,j){var p,x,A=d.exec(j),k=parseFloat(A[1])%360*(Math.PI/180),X=A[2],et=O.getBBox();k>=0&&k<.5*Math.PI?(p={x:et.minX,y:et.minY},x={x:et.maxX,y:et.maxY}):.5*Math.PI<=k&&k<Math.PI?(p={x:et.maxX,y:et.minY},x={x:et.minX,y:et.maxY}):Math.PI<=k&&k<1.5*Math.PI?(p={x:et.maxX,y:et.maxY},x={x:et.minX,y:et.minY}):(p={x:et.minX,y:et.maxY},x={x:et.maxX,y:et.minY});var tt=Math.tan(k),ft=tt*tt,st=(x.x-p.x+tt*(x.y-p.y))/(ft+1)+p.x,vt=tt*(x.x-p.x+tt*(x.y-p.y))/(ft+1)+p.y,mt=C.createLinearGradient(p.x,p.y,st,vt);return E(X,mt),mt}(s,u,v);if(v[0]==="r")return function(C,O,j){var p=S.exec(j),x=parseFloat(p[1]),A=parseFloat(p[2]),k=parseFloat(p[3]),X=p[4];if(k===0){var et=X.match(h);return et[et.length-1].split(":")[1]}var tt=O.getBBox(),ft=tt.maxX-tt.minX,st=tt.maxY-tt.minY,vt=Math.sqrt(ft*ft+st*st)/2,mt=C.createRadialGradient(tt.minX+ft*x,tt.minY+st*A,0,tt.minX+ft/2,tt.minY+st/2,k*vt);return E(X,mt),mt}(s,u,v);if(v[0]==="p")return function(C,O,j){if(O.get("patternSource")&&O.get("patternSource")===j)return O.get("pattern");var p,x,A=b.exec(j),k=A[1],X=A[2];function et(){p=C.createPattern(x,k),O.set("pattern",p),O.set("patternSource",j)}switch(k){case"a":k="repeat";break;case"x":k="repeat-x";break;case"y":k="repeat-y";break;case"n":k="no-repeat";break;default:k="no-repeat"}return x=new Image,X.match(/^data:/i)||(x.crossOrigin="Anonymous"),x.src=X,x.complete?et():(x.onload=et,x.src=x.src),p}(s,u,v)}return v}}function o(s){var u=0,v=0,C=0,O=0;return Object(n.g)(s)?s.length===1?u=v=C=O=s[0]:s.length===2?(u=C=s[0],v=O=s[1]):s.length===3?(u=s[0],v=O=s[1],C=s[2]):(u=s[0],v=s[1],C=s[2],O=s[3]):u=v=C=O=s,[u,v,C,O]}},function(a,M,t){"use strict";t.r(M),t.d(M,"gpuDetector",function(){return n});var n=function d(){return typeof window=="undefined"||typeof document=="undefined"?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var S=document.createElement("canvas");return!(!window.WebGLRenderingContext||!S.getContext("webgl")&&!S.getContext("experimental-webgl"))}catch(b){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var b=document.createElement("div");return b.id="webgl-error-message",b.style.fontFamily="monospace",b.style.fontSize="13px",b.style.fontWeight="normal",b.style.textAlign="center",b.style.background="#fff",b.style.color="#000",b.style.padding="1.5em",b.style.width="400px",b.style.margin="5em auto 0",this.webgl||(b.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`)),b},addGetWebGLMessage:function(b){var h=(b=b||{}).parent!==void 0?b.parent:document.body,E=b.id!==void 0?b.id:"oldie",T=d().getWebGLErrorMessage();T.id=E,h.appendChild(T)}}}},function(a,M,t){"use strict";t.r(M),t.d(M,"mixColor",function(){return O}),t.d(M,"getColorsWithSubjectColor",function(){return j}),t.d(M,"getColorSetsBySubjectColors",function(){return p});var n=t(83),d=t.n(n),S=t(94),b=t.n(S),h=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function E(x,A,k){var X;return(X=Math.round(x.h)>=60&&Math.round(x.h)<=240?k?Math.round(x.h)-2*A:Math.round(x.h)+2*A:k?Math.round(x.h)+2*A:Math.round(x.h)-2*A)<0?X+=360:X>=360&&(X-=360),X}function T(x,A,k){return x.h===0&&x.s===0?x.s:((X=k?x.s-.16*A:A===4?x.s+.16:x.s+.05*A)>1&&(X=1),k&&A===5&&X>.1&&(X=.1),X<.06&&(X=.06),Number(X.toFixed(2)));var X}function o(x,A,k){var X;return(X=k?x.v+.05*A:x.v-.15*A)>1&&(X=1),Number(X.toFixed(2))}function s(x){for(var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=[],X=b()(x),et=5;et>0;et-=1){var tt=X.toHsv(),ft=b()({h:E(tt,et,!0),s:T(tt,et,!0),v:o(tt,et,!0)}).toHexString();k.push(ft)}k.push(X.toHexString());for(var st=1;st<=4;st+=1){var vt=X.toHsv(),mt=b()({h:E(vt,st),s:T(vt,st),v:o(vt,st)}).toHexString();k.push(mt)}return A.theme==="dark"?h.map(function(pt){var rt=pt.index,Bt=pt.opacity;return b.a.mix(A.backgroundColor||"#141414",k[rt],100*Bt).toHexString()}):k}var u={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},v={},C={};Object.keys(u).forEach(function(x){v[x]=s(u[x]),v[x].primary=v[x][5],C[x]=s(u[x],{theme:"dark",backgroundColor:"#141414"}),C[x].primary=C[x][5]}),v.red,v.volcano,v.gold,v.orange,v.yellow,v.lime,v.green,v.cyan,v.blue,v.geekblue,v.purple,v.magenta,v.grey;var O=function(A,k,X){var et=d()(A),tt=d()(k);return d()([(1-X)*et.red()+X*tt.red(),(1-X)*et.green()+X*tt.green(),(1-X)*et.blue()+X*tt.blue()]).rgb()},j=function(A,k,X,et){return k===void 0&&(k="#fff"),X===void 0&&(X="default"),et===void 0&&(et="rgb(150, 150, 150)"),X==="default"?function(tt,ft,st){ft===void 0&&(ft="#fff"),st===void 0&&(st="rgb(150, 150, 150)");var vt=O(ft,tt,.05).rgb().toString(),mt=O(ft,tt,.1).rgb().toString(),pt=O(ft,tt,.2).rgb().toString(),rt=O(ft,tt,.4).rgb().toString(),Bt=O(ft,st,.02).rgb().toString(),It=O(ft,st,.05).rgb().toString(),St=O(ft,st,.1).rgb().toString(),H=O(ft,st,.2).rgb().toString(),ot=O(ft,st,.3).rgb().toString(),yt=s(tt,{theme:"default",backgroundColor:ft}),xt=d()(tt).hex().toLowerCase(),wt=yt.indexOf(xt),Q=tt;return wt!==-1&&(Q=yt[wt+1]),{mainStroke:tt,mainFill:mt,activeStroke:tt,activeFill:vt,inactiveStroke:rt,inactiveFill:vt,selectedStroke:tt,selectedFill:ft,highlightStroke:Q,highlightFill:pt,disableStroke:ot,disableFill:It,edgeMainStroke:ot,edgeActiveStroke:tt,edgeInactiveStroke:H,edgeSelectedStroke:tt,edgeHighlightStroke:tt,edgeDisableStroke:St,comboMainStroke:ot,comboMainFill:Bt,comboActiveStroke:tt,comboActiveFill:vt,comboInactiveStroke:ot,comboInactiveFill:Bt,comboSelectedStroke:tt,comboSelectedFill:Bt,comboHighlightStroke:Q,comboHighlightFill:Bt,comboDisableStroke:H,comboDisableFill:It}}(A,k,"rgb(150, 150, 150)"):function(tt,ft,st){ft===void 0&&(ft="#fff"),st===void 0&&(st="#777");var vt=O(ft,tt,.2).rgb().toString(),mt=O(ft,tt,.3).rgb().toString(),pt=O(ft,tt,.6).rgb().toString(),rt=O(ft,tt,.8).rgb().toString(),Bt=O(ft,st,.2).rgb().toString(),It=O(ft,st,.25).rgb().toString(),St=O(ft,st,.3).rgb().toString(),H=O(ft,st,.4).rgb().toString(),ot=O(ft,st,.5).rgb().toString(),yt=s(tt,{theme:"dark",backgroundColor:ft}),xt=d()(tt).hex().toLowerCase(),wt=yt.indexOf(xt),Q=tt;return wt!==-1&&(Q=yt[wt+1]),{mainStroke:rt,mainFill:vt,activeStroke:tt,activeFill:mt,inactiveStroke:rt,inactiveFill:vt,selectedStroke:tt,selectedFill:vt,highlightStroke:tt,highlightFill:pt,disableStroke:ot,disableFill:It,edgeMainStroke:st,edgeActiveStroke:tt,edgeInactiveStroke:st,edgeSelectedStroke:tt,edgeHighlightStroke:tt,edgeDisableStroke:St,comboMainStroke:H,comboMainFill:It,comboActiveStroke:tt,comboActiveFill:Bt,comboInactiveStroke:H,comboInactiveFill:It,comboSelectedStroke:tt,comboSelectedFill:Bt,comboHighlightStroke:Q,comboHighlightFill:It,comboDisableStroke:H,comboDisableFill:Bt}}(A,k,"#777")},p=function(A,k,X,et){k===void 0&&(k="#fff"),X===void 0&&(X="default"),et===void 0&&(et="rgb(150, 150, 150)");var tt=[];return A.forEach(function(ft){tt.push(j(ft,k,X,et))}),tt}},function(a,M,t){"use strict";function n(s){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(s)}var d=t(42);a.exports=S;function S(s){this._isDirected=!d.has(s,"directed")||s.directed,this._isMultigraph=!!d.has(s,"multigraph")&&s.multigraph,this._isCompound=!!d.has(s,"compound")&&s.compound,this._label=void 0,this._defaultNodeLabelFn=d.constant(void 0),this._defaultEdgeLabelFn=d.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function b(s,u){s[u]?s[u]++:s[u]=1}function h(s,u){--s[u]||delete s[u]}function E(s,u,v,C){var O=""+u,j=""+v;if(!s&&O>j){var p=O;O=j,j=p}return O+""+j+""+(d.isUndefined(C)?"\0":C)}function T(s,u,v,C){var O=""+u,j=""+v;if(!s&&O>j){var p=O;O=j,j=p}var x={v:O,w:j};return C&&(x.name=C),x}function o(s,u){return E(s,u.v,u.w,u.name)}S.prototype._nodeCount=0,S.prototype._edgeCount=0,S.prototype.isDirected=function(){return this._isDirected},S.prototype.isMultigraph=function(){return this._isMultigraph},S.prototype.isCompound=function(){return this._isCompound},S.prototype.setGraph=function(s){return this._label=s,this},S.prototype.graph=function(){return this._label},S.prototype.setDefaultNodeLabel=function(s){return d.isFunction(s)||(s=d.constant(s)),this._defaultNodeLabelFn=s,this},S.prototype.nodeCount=function(){return this._nodeCount},S.prototype.nodes=function(){return d.keys(this._nodes)},S.prototype.sources=function(){var s=this;return d.filter(this.nodes(),function(u){return d.isEmpty(s._in[u])})},S.prototype.sinks=function(){var s=this;return d.filter(this.nodes(),function(u){return d.isEmpty(s._out[u])})},S.prototype.setNodes=function(s,u){var v=arguments,C=this;return d.each(s,function(O){v.length>1?C.setNode(O,u):C.setNode(O)}),this},S.prototype.setNode=function(s,u){return d.has(this._nodes,s)?(arguments.length>1&&(this._nodes[s]=u),this):(this._nodes[s]=arguments.length>1?u:this._defaultNodeLabelFn(s),this._isCompound&&(this._parent[s]="\0",this._children[s]={},this._children["\0"][s]=!0),this._in[s]={},this._preds[s]={},this._out[s]={},this._sucs[s]={},++this._nodeCount,this)},S.prototype.node=function(s){return this._nodes[s]},S.prototype.hasNode=function(s){return d.has(this._nodes,s)},S.prototype.removeNode=function(s){var u=this;if(d.has(this._nodes,s)){var v=function(O){u.removeEdge(u._edgeObjs[O])};delete this._nodes[s],this._isCompound&&(this._removeFromParentsChildList(s),delete this._parent[s],d.each(this.children(s),function(C){u.setParent(C)}),delete this._children[s]),d.each(d.keys(this._in[s]),v),delete this._in[s],delete this._preds[s],d.each(d.keys(this._out[s]),v),delete this._out[s],delete this._sucs[s],--this._nodeCount}return this},S.prototype.setParent=function(s,u){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(d.isUndefined(u))u="\0";else{for(var v=u+="";!d.isUndefined(v);v=this.parent(v))if(v===s)throw new Error("Setting "+u+" as parent of "+s+" would create a cycle");this.setNode(u)}return this.setNode(s),this._removeFromParentsChildList(s),this._parent[s]=u,this._children[u][s]=!0,this},S.prototype._removeFromParentsChildList=function(s){delete this._children[this._parent[s]][s]},S.prototype.parent=function(s){if(this._isCompound){var u=this._parent[s];if(u!=="\0")return u}},S.prototype.children=function(s){if(d.isUndefined(s)&&(s="\0"),this._isCompound){var u=this._children[s];if(u)return d.keys(u)}else{if(s==="\0")return this.nodes();if(this.hasNode(s))return[]}},S.prototype.predecessors=function(s){var u=this._preds[s];if(u)return d.keys(u)},S.prototype.successors=function(s){var u=this._sucs[s];if(u)return d.keys(u)},S.prototype.neighbors=function(s){var u=this.predecessors(s);if(u)return d.union(u,this.successors(s))},S.prototype.isLeaf=function(s){return(this.isDirected()?this.successors(s):this.neighbors(s)).length===0},S.prototype.filterNodes=function(s){var u=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});u.setGraph(this.graph());var v=this;d.each(this._nodes,function(O,j){s(j)&&u.setNode(j,O)}),d.each(this._edgeObjs,function(O){u.hasNode(O.v)&&u.hasNode(O.w)&&u.setEdge(O,v.edge(O))});var C={};return this._isCompound&&d.each(u.nodes(),function(O){u.setParent(O,function j(p){var x=v.parent(p);return x===void 0||u.hasNode(x)?(C[p]=x,x):x in C?C[x]:j(x)}(O))}),u},S.prototype.setDefaultEdgeLabel=function(s){return d.isFunction(s)||(s=d.constant(s)),this._defaultEdgeLabelFn=s,this},S.prototype.edgeCount=function(){return this._edgeCount},S.prototype.edges=function(){return d.values(this._edgeObjs)},S.prototype.setPath=function(s,u){var v=this,C=arguments;return d.reduce(s,function(O,j){return C.length>1?v.setEdge(O,j,u):v.setEdge(O,j),j}),this},S.prototype.setEdge=function(){var s,u,v,C,O=!1,j=arguments[0];n(j)==="object"&&j!==null&&"v"in j?(s=j.v,u=j.w,v=j.name,arguments.length===2&&(C=arguments[1],O=!0)):(s=j,u=arguments[1],v=arguments[3],arguments.length>2&&(C=arguments[2],O=!0)),s=""+s,u=""+u,d.isUndefined(v)||(v=""+v);var p=E(this._isDirected,s,u,v);if(d.has(this._edgeLabels,p))return O&&(this._edgeLabels[p]=C),this;if(!d.isUndefined(v)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(s),this.setNode(u),this._edgeLabels[p]=O?C:this._defaultEdgeLabelFn(s,u,v);var x=T(this._isDirected,s,u,v);return s=x.v,u=x.w,Object.freeze(x),this._edgeObjs[p]=x,b(this._preds[u],s),b(this._sucs[s],u),this._in[u][p]=x,this._out[s][p]=x,this._edgeCount++,this},S.prototype.edge=function(s,u,v){var C=arguments.length===1?o(this._isDirected,arguments[0]):E(this._isDirected,s,u,v);return this._edgeLabels[C]},S.prototype.hasEdge=function(s,u,v){var C=arguments.length===1?o(this._isDirected,arguments[0]):E(this._isDirected,s,u,v);return d.has(this._edgeLabels,C)},S.prototype.removeEdge=function(s,u,v){var C=arguments.length===1?o(this._isDirected,arguments[0]):E(this._isDirected,s,u,v),O=this._edgeObjs[C];return O&&(s=O.v,u=O.w,delete this._edgeLabels[C],delete this._edgeObjs[C],h(this._preds[u],s),h(this._sucs[s],u),delete this._in[u][C],delete this._out[s][C],this._edgeCount--),this},S.prototype.inEdges=function(s,u){var v=this._in[s];if(v){var C=d.values(v);return u?d.filter(C,function(O){return O.v===u}):C}},S.prototype.outEdges=function(s,u){var v=this._out[s];if(v){var C=d.values(v);return u?d.filter(C,function(O){return O.w===u}):C}},S.prototype.nodeEdges=function(s,u){var v=this.inEdges(s,u);if(v)return v.concat(this.outEdges(s,u))}},function(a,M,t){var n=t(65)(t(47),"Map");a.exports=n},function(a,M,t){var n=t(289),d=t(296),S=t(298),b=t(299),h=t(300);function E(T){var o=-1,s=T==null?0:T.length;for(this.clear();++o<s;){var u=T[o];this.set(u[0],u[1])}}E.prototype.clear=n,E.prototype.delete=d,E.prototype.get=S,E.prototype.has=b,E.prototype.set=h,a.exports=E},function(a,M){a.exports=function(t,n){for(var d=-1,S=t==null?0:t.length;++d<S&&n(t[d],d,t)!==!1;);return t}},function(a,M){a.exports=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991}},function(a,M,t){(function(n){function d(o){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(o)}var S=t(163),b=d(M)=="object"&&M&&!M.nodeType&&M,h=b&&d(n)=="object"&&n&&!n.nodeType&&n,E=h&&h.exports===b&&S.process,T=function(){try{var o=h&&h.require&&h.require("util").types;return o||E&&E.binding&&E.binding("util")}catch(s){}}();n.exports=T}).call(this,t(87)(a))},function(a,M,t){var n=t(105),d=t(306),S=Object.prototype.hasOwnProperty;a.exports=function(b){if(!n(b))return d(b);var h=[];for(var E in Object(b))S.call(b,E)&&E!="constructor"&&h.push(E);return h}},function(a,M,t){var n=t(171),d=t(172),S=Object.prototype.propertyIsEnumerable,b=Object.getOwnPropertySymbols,h=b?function(E){return E==null?[]:(E=Object(E),n(b(E),function(T){return S.call(E,T)}))}:d;a.exports=h},function(a,M){a.exports=function(t,n){for(var d=-1,S=n.length,b=t.length;++d<S;)t[b+d]=n[d];return t}},function(a,M,t){var n=t(177);a.exports=function(d){var S=new d.constructor(d.byteLength);return new n(S).set(new n(d)),S}},function(a,M){a.exports=function(t){return function(){return t}}},function(a,M,t){var n=t(136),d=t(58);a.exports=function(S,b){return S&&n(S,b,d)}},function(a,M,t){var n=t(325)();a.exports=n},function(a,M){a.exports=function(t){var n=-1,d=Array(t.size);return t.forEach(function(S){d[++n]=S}),d}},function(a,M,t){function n(E){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(E)}var d=t(26),S=t(76),b=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h=/^\w*$/;a.exports=function(E,T){if(d(E))return!1;var o=n(E);return!(o!="number"&&o!="symbol"&&o!="boolean"&&E!=null&&!S(E))||h.test(E)||!b.test(E)||T!=null&&E in Object(T)}},function(a,M,t){var n=t(132),d=t(359);a.exports=function S(b,h,E,T,o){var s=-1,u=b.length;for(E||(E=d),o||(o=[]);++s<u;){var v=b[s];h>0&&E(v)?h>1?S(v,h-1,E,T,o):n(o,v):T||(o[o.length]=v)}return o}},function(a,M,t){var n=t(76);a.exports=function(d,S,b){for(var h=-1,E=d.length;++h<E;){var T=d[h],o=S(T);if(o!=null&&(s===void 0?o==o&&!n(o):b(o,s)))var s=o,u=T}return u}},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.BindingOnSyntax=void 0;var n=t(142),d=function(){function S(b){this._binding=b}return S.prototype.onActivation=function(b){return this._binding.onActivation=b,new n.BindingWhenSyntax(this._binding)},S}();M.BindingOnSyntax=d},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.BindingWhenSyntax=void 0;var n=t(141),d=t(225),S=function(){function b(h){this._binding=h}return b.prototype.when=function(h){return this._binding.constraint=h,new n.BindingOnSyntax(this._binding)},b.prototype.whenTargetNamed=function(h){return this._binding.constraint=d.namedConstraint(h),new n.BindingOnSyntax(this._binding)},b.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(h){return h.target!==null&&!h.target.isNamed()&&!h.target.isTagged()},new n.BindingOnSyntax(this._binding)},b.prototype.whenTargetTagged=function(h,E){return this._binding.constraint=d.taggedConstraint(h)(E),new n.BindingOnSyntax(this._binding)},b.prototype.whenInjectedInto=function(h){return this._binding.constraint=function(E){return d.typeConstraint(h)(E.parentRequest)},new n.BindingOnSyntax(this._binding)},b.prototype.whenParentNamed=function(h){return this._binding.constraint=function(E){return d.namedConstraint(h)(E.parentRequest)},new n.BindingOnSyntax(this._binding)},b.prototype.whenParentTagged=function(h,E){return this._binding.constraint=function(T){return d.taggedConstraint(h)(E)(T.parentRequest)},new n.BindingOnSyntax(this._binding)},b.prototype.whenAnyAncestorIs=function(h){return this._binding.constraint=function(E){return d.traverseAncerstors(E,d.typeConstraint(h))},new n.BindingOnSyntax(this._binding)},b.prototype.whenNoAncestorIs=function(h){return this._binding.constraint=function(E){return!d.traverseAncerstors(E,d.typeConstraint(h))},new n.BindingOnSyntax(this._binding)},b.prototype.whenAnyAncestorNamed=function(h){return this._binding.constraint=function(E){return d.traverseAncerstors(E,d.namedConstraint(h))},new n.BindingOnSyntax(this._binding)},b.prototype.whenNoAncestorNamed=function(h){return this._binding.constraint=function(E){return!d.traverseAncerstors(E,d.namedConstraint(h))},new n.BindingOnSyntax(this._binding)},b.prototype.whenAnyAncestorTagged=function(h,E){return this._binding.constraint=function(T){return d.traverseAncerstors(T,d.taggedConstraint(h)(E))},new n.BindingOnSyntax(this._binding)},b.prototype.whenNoAncestorTagged=function(h,E){return this._binding.constraint=function(T){return!d.traverseAncerstors(T,d.taggedConstraint(h)(E))},new n.BindingOnSyntax(this._binding)},b.prototype.whenAnyAncestorMatches=function(h){return this._binding.constraint=function(E){return d.traverseAncerstors(E,h)},new n.BindingOnSyntax(this._binding)},b.prototype.whenNoAncestorMatches=function(h){return this._binding.constraint=function(E){return!d.traverseAncerstors(E,h)},new n.BindingOnSyntax(this._binding)},b}();M.BindingWhenSyntax=S},function(a,M){},function(a,M){},function(a,M){},function(a,M){},function(a,M){},function(a,M){},function(a,M){},function(a,M){a.exports=function(t,n,d){return t[0]=n[0]-d[0],t[1]=n[1]-d[1],t}},function(a,M,t){var n=t(57),d=t(106),S=t(48),b=Function.prototype,h=Object.prototype,E=b.toString,T=h.hasOwnProperty,o=E.call(Object);a.exports=function(s){if(!S(s)||n(s)!="[object Object]")return!1;var u=d(s);if(u===null)return!0;var v=T.call(u,"constructor")&&u.constructor;return typeof v=="function"&&v instanceof v&&E.call(v)==o}},function(a,M,t){"use strict";var n=t(1),d=t(155),S=t.n(d),b=t(0),h=t(38),E=t(92),T=h.a.radialLayout,o=h.a.traverseTree,s=function(u){function v(C){var O=u.call(this,C)||this;return O.layoutAnimating=!1,O.set("removeList",[]),O.set("layoutMethod",O.getLayout()),O}return Object(n.b)(v,u),v.prototype.getLayout=function(){var C=this.get("layout");return C?typeof C=="function"?C:(C.type||(C.type="dendrogram"),C.direction||(C.direction="TB"),C.radial?function(O){var j=S.a[C.type](O,C);return T(j),j}:function(O){return S.a[C.type](O,C)}):null},v.indexOfChild=function(C,O){var j=-1;return Object(b.f)(C,function(p,x){if(O===p.id)return j=x,!1}),j},v.prototype.getDefaultCfg=function(){var C=u.prototype.getDefaultCfg.call(this);return C.animate=!0,C},v.prototype.innerAddChild=function(C,O,j){var p=this,x=C.data;x&&(x.x=C.x,x.y=C.y,x.depth=C.depth);var A=p.addItem("node",x,!1);if(O){if(A.set("parent",O),j){var k=O.get("originAttrs");if(k)A.set("originAttrs",k);else{var X=O.getModel();A.set("originAttrs",{x:X.x,y:X.y})}}var et=O.get("children");et?et.push(A):O.set("children",[A]),p.addItem("edge",{source:O,target:A,id:O.get("id")+":"+A.get("id")},!1)}return Object(b.f)(C.children||[],function(tt){p.innerAddChild(tt,A,j)}),p.emit("afteraddchild",{item:A,parent:O}),A},v.prototype.innerUpdateChild=function(C,O,j){var p=this,x=p.findById(C.id);if(x){Object(b.f)(C.children||[],function(st){p.innerUpdateChild(st,x,j)});var A,k,X=x.get("children");if(X&&X.length>0)for(var et=X.length-1;et>=0;et--){var tt=X[et].getModel();v.indexOfChild(C.children||[],tt.id)===-1&&(p.innerRemoveChild(tt.id,{x:C.x,y:C.y},j),X.splice(et,1))}x.get("originAttrs")&&(A=x.get("originAttrs").x,k=x.get("originAttrs").y);var ft=x.getModel();j&&x.set("originAttrs",{x:ft.x,y:ft.y}),x.set("model",C.data),A===C.x&&k===C.y||x.updatePosition({x:C.x,y:C.y})}else p.innerAddChild(C,O,j)},v.prototype.innerRemoveChild=function(C,O,j){var p=this,x=p.findById(C);if(x)if(Object(b.f)(x.get("children"),function(k){p.innerRemoveChild(k.getModel().id,O,j)}),j){var A=x.getModel();x.set("to",O),x.set("originAttrs",{x:A.x,y:A.y}),p.get("removeList").push(x)}else p.removeItem(x)},v.prototype.changeData=function(C){var O=this;this.getNodes().map(function(j){return O.clearItemStates(j)}),this.getEdges().map(function(j){return O.clearItemStates(j)}),C?(O.data(C),O.render()):O.layout(this.get("fitView"))},v.prototype.changeLayout=function(C){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon"),this.updateLayout(C)},v.prototype.updateLayout=function(C){C?(this.set("layout",C),this.set("layoutMethod",this.getLayout()),this.layout()):console.warn("layout cannot be null")},v.prototype.refreshLayout=function(C){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon"),this.layout(C)},v.prototype.layout=function(C){var O=this.get("data"),j=this.get("layoutMethod")(O,this.get("layout")),p=this.get("animate");this.emit("beforerefreshlayout",{data:O,layoutData:j}),this.emit("beforelayout"),this.innerUpdateChild(j,void 0,p),C&&this.get("viewController").fitView(),p?this.layoutAnimate(j):(this.refresh(),this.paint()),this.emit("afterrefreshlayout",{data:O,layoutData:j}),this.emit("afterlayout")},v.prototype.addChild=function(C,O){this.emit("beforeaddchild",{model:C,parent:O}),Object(b.x)(O)||(O=O.get("id"));var j=this.findDataById(O);j&&(j.children||(j.children=[]),j.children.push(C),this.changeData())},v.prototype.updateChildren=function(C,O){O&&this.findById(O)?(this.findDataById(O).children=C,this.changeData()):console.warn("Update children failed! There is no node with id '"+O+"'")},v.prototype.updateChild=function(C,O){if(O&&this.findById(O)){var j=this.findDataById(O),p=this.findById(C.id);if(j.children||(j.children=[]),p){var x=v.indexOfChild(j.children,C.id);j.children[x]=C}else j.children.push(C);this.changeData()}else this.changeData(C)},v.prototype.removeChild=function(C){var O=this.findById(C);if(O){var j=O.get("parent");if(j&&!j.destroyed){var p=this.findDataById(j.get("id")),x=p&&p.children||[],A=O.getModel(),k=v.indexOfChild(x,A.id);x.splice(k,1)}this.changeData()}},v.prototype.findDataById=function(C,O){var j=this;if(O||(O=j.get("data")),C===O.id)return O;var p=null;return Object(b.f)(O.children||[],function(x){return x.id===C?(p=x,!1):!(p=j.findDataById(C,x))&&void 0}),p},v.prototype.layoutAnimate=function(C,O){var j=this,p=this.get("animateCfg");j.emit("beforeanimate",{data:C}),j.getEdges().forEach(function(x){var A=x.get("model");A.sourceAnchor||(A.sourceAnchor=x.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(x){o(C,function(A){var k=j.findById(A.id);if(k){var X=k.get("originAttrs"),et=k.get("model");if(X||(X={x:et.x,y:et.y},k.set("originAttrs",X)),O){var tt=O(k,x,X,C);k.set("model",Object.assign(et,tt))}else et.x=X.x+(A.x-X.x)*x,et.y=X.y+(A.y-X.y)*x}return!0}),Object(b.f)(j.get("removeList"),function(A){var k=A.getModel(),X=A.get("originAttrs"),et=A.get("to");k.x=X.x+(et.x-X.x)*x,k.y=X.y+(et.y-X.y)*x}),j.refreshPositions()},{duration:p.duration,easing:p.ease,callback:function(){Object(b.f)(j.getNodes(),function(A){A.set("originAttrs",null)}),Object(b.f)(j.get("removeList"),function(A){j.removeItem(A)}),j.set("removeList",[]),p.callback&&p.callback(),j.emit("afteranimate",{data:C})},delay:p.delay})},v.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},v.prototype.isLayoutAnimating=function(){return this.layoutAnimating},v.prototype.render=function(){if(!this.get("data"))throw new Error("data must be defined first");this.clear(),this.emit("beforerender"),this.layout(this.get("fitView")),this.emit("afterrender")},v.prototype.save=function(){return this.get("data")},v}(E.a);M.a=s},function(a,M,t){a.exports={graphlib:t(46),layout:t(382),debug:t(440),util:{time:t(37).time,notime:t(37).notime},version:t(441)}},function(a,M,t){"use strict";var n=Object.prototype.hasOwnProperty,d="~";function S(){}function b(o,s,u){this.fn=o,this.context=s,this.once=u||!1}function h(o,s,u,v,C){if(typeof u!="function")throw new TypeError("The listener must be a function");var O=new b(u,v||o,C),j=d?d+s:s;return o._events[j]?o._events[j].fn?o._events[j]=[o._events[j],O]:o._events[j].push(O):(o._events[j]=O,o._eventsCount++),o}function E(o,s){--o._eventsCount==0?o._events=new S:delete o._events[s]}function T(){this._events=new S,this._eventsCount=0}Object.create&&(S.prototype=Object.create(null),new S().__proto__||(d=!1)),T.prototype.eventNames=function(){var o,s,u=[];if(this._eventsCount===0)return u;for(s in o=this._events)n.call(o,s)&&u.push(d?s.slice(1):s);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(o)):u},T.prototype.listeners=function(o){var s=d?d+o:o,u=this._events[s];if(!u)return[];if(u.fn)return[u.fn];for(var v=0,C=u.length,O=new Array(C);v<C;v++)O[v]=u[v].fn;return O},T.prototype.listenerCount=function(o){var s=d?d+o:o,u=this._events[s];return u?u.fn?1:u.length:0},T.prototype.emit=function(o,s,u,v,C,O){var j=d?d+o:o;if(!this._events[j])return!1;var p,x,A=this._events[j],k=arguments.length;if(A.fn){switch(A.once&&this.removeListener(o,A.fn,void 0,!0),k){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,s),!0;case 3:return A.fn.call(A.context,s,u),!0;case 4:return A.fn.call(A.context,s,u,v),!0;case 5:return A.fn.call(A.context,s,u,v,C),!0;case 6:return A.fn.call(A.context,s,u,v,C,O),!0}for(x=1,p=new Array(k-1);x<k;x++)p[x-1]=arguments[x];A.fn.apply(A.context,p)}else{var X,et=A.length;for(x=0;x<et;x++)switch(A[x].once&&this.removeListener(o,A[x].fn,void 0,!0),k){case 1:A[x].fn.call(A[x].context);break;case 2:A[x].fn.call(A[x].context,s);break;case 3:A[x].fn.call(A[x].context,s,u);break;case 4:A[x].fn.call(A[x].context,s,u,v);break;default:if(!p)for(X=1,p=new Array(k-1);X<k;X++)p[X-1]=arguments[X];A[x].fn.apply(A[x].context,p)}}return!0},T.prototype.on=function(o,s,u){return h(this,o,s,u,!1)},T.prototype.once=function(o,s,u){return h(this,o,s,u,!0)},T.prototype.removeListener=function(o,s,u,v){var C=d?d+o:o;if(!this._events[C])return this;if(!s)return E(this,C),this;var O=this._events[C];if(O.fn)O.fn!==s||v&&!O.once||u&&O.context!==u||E(this,C);else{for(var j=0,p=[],x=O.length;j<x;j++)(O[j].fn!==s||v&&!O[j].once||u&&O[j].context!==u)&&p.push(O[j]);p.length?this._events[C]=p.length===1?p[0]:p:E(this,C)}return this},T.prototype.removeAllListeners=function(o){var s;return o?(s=d?d+o:o,this._events[s]&&E(this,s)):(this._events=new S,this._eventsCount=0),this},T.prototype.off=T.prototype.removeListener,T.prototype.addListener=T.prototype.on,T.prefixed=d,T.EventEmitter=T,a.exports=T},function(a,M,t){(function(n){var d,S,b,h;function E(T){return(E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(T)}typeof self!="undefined"&&self,h=function(){return function(o){var s={};function u(v){if(s[v])return s[v].exports;var C=s[v]={i:v,l:!1,exports:{}};return o[v].call(C.exports,C,C.exports,u),C.l=!0,C.exports}return u.m=o,u.c=s,u.d=function(v,C,O){u.o(v,C)||Object.defineProperty(v,C,{configurable:!1,enumerable:!0,get:O})},u.n=function(v){var C=v&&v.__esModule?function(){return v.default}:function(){return v};return u.d(C,"a",C),C},u.o=function(v,C){return Object.prototype.hasOwnProperty.call(v,C)},u.p="",u(u.s=31)}([function(o,s,u){"use strict";var v=u(4);s.a=function(C){return Array.isArray?Array.isArray(C):Object(v.a)(C,"Array")}},function(o,s,u){"use strict";s.a=function(v){return v!==null&&typeof v!="function"&&isFinite(v.length)}},function(o,s,u){"use strict";var v=u(0),C=u(13);s.a=function(O,j){if(O){if(Object(v.a)(O))for(var p=0,x=O.length;p<x&&j(O[p],p)!==!1;p++);else if(Object(C.a)(O)){for(var A in O)if(O.hasOwnProperty(A)&&j(O[A],A)===!1)break}}}},function(o,s,u){"use strict";var v=u(4);s.a=function(C){return Object(v.a)(C,"Function")}},function(o,s,u){"use strict";var v={}.toString;s.a=function(C,O){return v.call(C)==="[object "+O+"]"}},function(o,s,u){"use strict";var v=u(4);s.a=function(C){return Object(v.a)(C,"Number")}},function(o,s,u){"use strict";s.a=function(v){return v==null}},function(o,s,u){var v=u(33).mix;o.exports={assign:v}},function(o,s,u){"use strict";var v=u(4);s.a=function(C){return Object(v.a)(C,"String")}},function(o,s,u){"use strict";var v=u(15),C=u(4);s.a=function(O){if(!Object(v.a)(O)||!Object(C.a)(O,"Object"))return!1;if(Object.getPrototypeOf(O)===null)return!0;for(var j=O;Object.getPrototypeOf(j)!==null;)j=Object.getPrototypeOf(j);return Object.getPrototypeOf(O)===j}},function(o,s,u){"use strict";var v=u(6);s.a=function(C){return Object(v.a)(C)?"":C.toString()}},function(o,s,u){var v=u(18),C=function(){function O(j,p){p===void 0&&(p={}),this.options=p,this.rootNode=v(j,p)}return O.prototype.execute=function(){throw new Error("please override this method")},O}();o.exports=C},function(o,s,u){"use strict";var v=u(1);s.a=function(C,O){return!!Object(v.a)(C)&&C.indexOf(O)>-1}},function(o,s,u){"use strict";s.a=function(v){var C=E(v);return v!==null&&C==="object"||C==="function"}},function(o,s,u){"use strict";var v=u(2),C=u(1);s.a=function(O,j){if(!Object(C.a)(O))return O;var p=[];return Object(v.a)(O,function(x,A){j(x,A)&&p.push(x)}),p}},function(o,s,u){"use strict";s.a=function(v){return E(v)==="object"&&v!==null}},function(o,s,u){"use strict";function v(C,O){for(var j in O)O.hasOwnProperty(j)&&j!=="constructor"&&O[j]!==void 0&&(C[j]=O[j])}s.a=function(C,O,j,p){return O&&v(C,O),j&&v(C,j),p&&v(C,p),C}},function(o,s,u){var v=u(30),C=["LR","RL","TB","BT","H","V"],O=["LR","RL","H"],j=C[0];o.exports=function(p,x,A){var k=x.direction||j;if(x.isHorizontal=function(vt){return O.indexOf(vt)>-1}(k),k&&C.indexOf(k)===-1)throw new TypeError("Invalid direction: "+k);if(k===C[0])A(p,x);else if(k===C[1])A(p,x),p.right2left();else if(k===C[2])A(p,x);else if(k===C[3])A(p,x),p.bottom2top();else if(k===C[4]||k===C[5]){var X=v(p,x),et=X.left,tt=X.right;A(et,x),A(tt,x),x.isHorizontal?et.right2left():et.bottom2top(),tt.translate(et.x-tt.x,et.y-tt.y),p.x=et.x,p.y=tt.y;var ft=p.getBoundingBox();x.isHorizontal?ft.top<0&&p.translate(0,-ft.top):ft.left<0&&p.translate(-ft.left,0)}var st=x.fixedRoot;return st===void 0&&(st=!0),st&&p.translate(-(p.x+p.width/2+p.hgap),-(p.y+p.height/2+p.vgap)),p}},function(o,s,u){var v=u(7),C={getId:function(p){return p.id||p.name},getHGap:function(p){return p.hgap||18},getVGap:function(p){return p.vgap||18},getChildren:function(p){return p.children},getHeight:function(p){return p.height||36},getWidth:function(p){var x=p.label||" ";return p.width||18*x.split("").length}};function O(j,p){var x=this;if(x.vgap=x.hgap=0,j instanceof O)return j;x.data=j;var A=p.getHGap(j),k=p.getVGap(j);return x.width=p.getWidth(j),x.height=p.getHeight(j),x.id=p.getId(j),x.x=x.y=0,x.depth=0,x.children||(x.children=[]),x.addGap(A,k),x}v.assign(O.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(p,x){this.hgap+=p,this.vgap+=x,this.width+=2*p,this.height+=2*x},eachNode:function(p){for(var x,A=[this];x=A.shift();)p(x),A=x.children.concat(A)},DFTraverse:function(p){this.eachNode(p)},BFTraverse:function(p){for(var x,A=[this];x=A.shift();)p(x),A=A.concat(x.children)},getBoundingBox:function(){var p={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(x){p.left=Math.min(p.left,x.x),p.top=Math.min(p.top,x.y),p.width=Math.max(p.width,x.x+x.width),p.height=Math.max(p.height,x.y+x.height)}),p},translate:function(p,x){p===void 0&&(p=0),x===void 0&&(x=0),this.eachNode(function(A){A.x+=p,A.y+=x})},right2left:function(){var p=this.getBoundingBox();this.eachNode(function(x){x.x=x.x-2*(x.x-p.left)-x.width}),this.translate(p.width,0)},bottom2top:function(){var p=this.getBoundingBox();this.eachNode(function(x){x.y=x.y-2*(x.y-p.top)-x.height}),this.translate(0,p.height)}}),o.exports=function(j,p,x){p===void 0&&(p={});var A,k=new O(j,p=v.assign({},C,p)),X=[k];if(!x&&!j.collapsed){for(;A=X.shift();)if(!A.data.collapsed){var et=p.getChildren(A.data),tt=et?et.length:0;if(A.children=new Array(tt),et&&tt)for(var ft=0;ft<tt;ft++){var st=new O(et[ft],p);A.children[ft]=st,X.push(st),st.parent=A,st.depth=A.depth+1}}}return k}},function(o,s,u){"use strict";var v=u(6),C=u(20);s.a=function(O,j){var p=Object(C.a)(j),x=p.length;if(Object(v.a)(O))return!x;for(var A=0;A<x;A+=1){var k=p[A];if(j[k]!==O[k]||!(k in O))return!1}return!0}},function(o,s,u){"use strict";var v=u(2),C=u(3),O=Object.keys?function(j){return Object.keys(j)}:function(j){var p=[];return Object(v.a)(j,function(x,A){Object(C.a)(j)&&A==="prototype"||p.push(A)}),p};s.a=O},function(o,s,u){"use strict";var v=u(1),C=Array.prototype.splice;s.a=function(O,j){if(!Object(v.a)(O))return[];for(var p=O?j.length:0,x=p-1;p--;){var A=void 0,k=j[p];p!==x&&k===A||(A=k,C.call(O,k,1))}return O}},function(o,s,u){"use strict";var v=u(12),C=u(2);s.a=function(O){var j=[];return Object(C.a)(O,function(p){Object(v.a)(j,p)||j.push(p)}),j}},function(o,s,u){"use strict";var v=u(0),C=u(3),O=u(24);s.a=function(j,p){if(!p)return{0:j};if(!Object(C.a)(p)){var x=Object(v.a)(p)?p:p.replace(/\s+/g,"").split("*");p=function(k){for(var X="_",et=0,tt=x.length;et<tt;et++)X+=k[x[et]]&&k[x[et]].toString();return X}}return Object(O.a)(j,p)}},function(o,s,u){"use strict";var v=u(2),C=u(0),O=u(3),j=Object.prototype.hasOwnProperty;s.a=function(p,x){if(!x||!Object(C.a)(p))return{};var A,k={},X=Object(O.a)(x)?x:function(et){return et[x]};return Object(v.a)(p,function(et){A=X(et),j.call(k,A)?k[A].push(et):k[A]=[et]}),k}},function(o,s,u){"use strict";s.a=function(v,C){return v.hasOwnProperty(C)}},function(o,s,u){"use strict";var v=u(2),C=u(3),O=Object.values?function(j){return Object.values(j)}:function(j){var p=[];return Object(v.a)(j,function(x,A){Object(C.a)(j)&&A==="prototype"||p.push(x)}),p};s.a=O},function(o,s,u){"use strict";var v={}.toString;s.a=function(C){return v.call(C).replace(/^\[object /,"").replace(/]$/,"")}},function(o,s,u){"use strict";var v=Object.prototype;s.a=function(C){var O=C&&C.constructor;return C===(typeof O=="function"&&O.prototype||v)}},function(o,s,u){"use strict";var v=u(15),C=u(1),O=u(8);s.a=function j(p,x){if(p===x)return!0;if(!p||!x||Object(O.a)(p)||Object(O.a)(x))return!1;if(Object(C.a)(p)||Object(C.a)(x)){if(p.length!==x.length)return!1;for(var A=!0,k=0;k<p.length&&(A=j(p[k],x[k]));k++);return A}if(Object(v.a)(p)||Object(v.a)(x)){var X=Object.keys(p),et=Object.keys(x);if(X.length!==et.length)return!1;for(A=!0,k=0;k<X.length&&(A=j(p[X[k]],x[X[k]]));k++);return A}return!1}},function(o,s,u){var v=u(18);o.exports=function(C,O){for(var j=v(C.data,O,!0),p=v(C.data,O,!0),x=C.children.length,A=Math.round(x/2),k=O.getSide||function(tt,ft){return ft<A?"right":"left"},X=0;X<x;X++){var et=C.children[X];k(et,X)==="right"?p.children.push(et):j.children.push(et)}return j.eachNode(function(tt){tt.isRoot()||(tt.side="left")}),p.eachNode(function(tt){tt.isRoot()||(tt.side="right")}),{left:j,right:p}}},function(o,s,u){var v={compactBox:u(32),dendrogram:u(114),indented:u(116),mindmap:u(118)};o.exports=v},function(o,s,u){var v=u(11),C=u(113),O=u(17),j=u(7),p=function(A){var k,X;function et(){return A.apply(this,arguments)||this}return X=A,(k=et).prototype=Object.create(X.prototype),k.prototype.constructor=k,k.__proto__=X,et.prototype.execute=function(){return O(this.rootNode,this.options,C)},et}(v),x={};o.exports=function(A,k){return k=j.assign({},x,k),new p(A,k).execute()}},function(o,s,u){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var v=u(12);u.d(s,"contains",function(){return v.a}),u.d(s,"includes",function(){return v.a});var C=u(34);u.d(s,"difference",function(){return C.a});var O=u(35);u.d(s,"find",function(){return O.a});var j=u(36);u.d(s,"findIndex",function(){return j.a});var p=u(37);u.d(s,"firstValue",function(){return p.a});var x=u(38);u.d(s,"flatten",function(){return x.a});var A=u(39);u.d(s,"flattenDeep",function(){return A.a});var k=u(40);u.d(s,"getRange",function(){return k.a});var X=u(41);u.d(s,"pull",function(){return X.a});var et=u(21);u.d(s,"pullAt",function(){return et.a});var tt=u(42);u.d(s,"reduce",function(){return tt.a});var ft=u(43);u.d(s,"remove",function(){return ft.a});var st=u(44);u.d(s,"sortBy",function(){return st.a});var vt=u(45);u.d(s,"union",function(){return vt.a});var mt=u(22);u.d(s,"uniq",function(){return mt.a});var pt=u(46);u.d(s,"valuesOfKey",function(){return pt.a});var rt=u(47);u.d(s,"head",function(){return rt.a});var Bt=u(48);u.d(s,"last",function(){return Bt.a});var It=u(49);u.d(s,"startsWith",function(){return It.a});var St=u(50);u.d(s,"endsWith",function(){return St.a});var H=u(14);u.d(s,"filter",function(){return H.a});var ot=u(51);u.d(s,"every",function(){return ot.a});var yt=u(52);u.d(s,"some",function(){return yt.a});var xt=u(53);u.d(s,"group",function(){return xt.a});var wt=u(24);u.d(s,"groupBy",function(){return wt.a});var Q=u(23);u.d(s,"groupToMap",function(){return Q.a});var ct=u(54);u.d(s,"getWrapBehavior",function(){return ct.a});var it=u(55);u.d(s,"wrapBehavior",function(){return it.a});var U=u(56);u.d(s,"number2color",function(){return U.a});var D=u(57);u.d(s,"parseRadius",function(){return D.a});var W=u(58);u.d(s,"clamp",function(){return W.a});var P=u(59);u.d(s,"fixedBase",function(){return P.a});var m=u(60);u.d(s,"isDecimal",function(){return m.a});var y=u(61);u.d(s,"isEven",function(){return y.a});var V=u(62);u.d(s,"isInteger",function(){return V.a});var J=u(63);u.d(s,"isNegative",function(){return J.a});var ht=u(64);u.d(s,"isNumberEqual",function(){return ht.a});var gt=u(65);u.d(s,"isOdd",function(){return gt.a});var Mt=u(66);u.d(s,"isPositive",function(){return Mt.a});var Lt=u(67);u.d(s,"maxBy",function(){return Lt.a});var At=u(68);u.d(s,"minBy",function(){return At.a});var Ct=u(69);u.d(s,"mod",function(){return Ct.a});var Ot=u(70);u.d(s,"toDegree",function(){return Ot.a});var Dt=u(71);u.d(s,"toInteger",function(){return Dt.a});var Ft=u(72);u.d(s,"toRadian",function(){return Ft.a});var Xt=u(73);u.d(s,"forIn",function(){return Xt.a});var Rt=u(25);u.d(s,"has",function(){return Rt.a});var Kt=u(74);u.d(s,"hasKey",function(){return Kt.a});var $t=u(75);u.d(s,"hasValue",function(){return $t.a});var le=u(20);u.d(s,"keys",function(){return le.a});var Me=u(19);u.d(s,"isMatch",function(){return Me.a});var on=u(26);u.d(s,"values",function(){return on.a});var hn=u(76);u.d(s,"lowerCase",function(){return hn.a});var Cn=u(77);u.d(s,"lowerFirst",function(){return Cn.a});var He=u(78);u.d(s,"substitute",function(){return He.a});var mn=u(79);u.d(s,"upperCase",function(){return mn.a});var dn=u(80);u.d(s,"upperFirst",function(){return dn.a});var Un=u(27);u.d(s,"getType",function(){return Un.a});var Xn=u(81);u.d(s,"isArguments",function(){return Xn.a});var Hn=u(0);u.d(s,"isArray",function(){return Hn.a});var _n=u(1);u.d(s,"isArrayLike",function(){return _n.a});var $n=u(82);u.d(s,"isBoolean",function(){return $n.a});var ir=u(83);u.d(s,"isDate",function(){return ir.a});var dr=u(84);u.d(s,"isError",function(){return dr.a});var xr=u(3);u.d(s,"isFunction",function(){return xr.a});var Qr=u(85);u.d(s,"isFinite",function(){return Qr.a});var Mr=u(6);u.d(s,"isNil",function(){return Mr.a});var Er=u(86);u.d(s,"isNull",function(){return Er.a});var Dr=u(5);u.d(s,"isNumber",function(){return Dr.a});var hi=u(13);u.d(s,"isObject",function(){return hi.a});var Wi=u(15);u.d(s,"isObjectLike",function(){return Wi.a});var oa=u(9);u.d(s,"isPlainObject",function(){return oa.a});var Za=u(28);u.d(s,"isPrototype",function(){return Za.a});var ao=u(87);u.d(s,"isRegExp",function(){return ao.a});var Ji=u(8);u.d(s,"isString",function(){return Ji.a});var Ya=u(4);u.d(s,"isType",function(){return Ya.a});var Ca=u(88);u.d(s,"isUndefined",function(){return Ca.a});var La=u(89);u.d(s,"isElement",function(){return La.a});var Ba=u(90);u.d(s,"requestAnimationFrame",function(){return Ba.a});var oo=u(91);u.d(s,"clearAnimationFrame",function(){return oo.a});var Yr=u(92);u.d(s,"augment",function(){return Yr.a});var $a=u(93);u.d(s,"clone",function(){return $a.a});var Ma=u(94);u.d(s,"debounce",function(){return Ma.a});var to=u(95);u.d(s,"memoize",function(){return to.a});var Aa=u(96);u.d(s,"deepMix",function(){return Aa.a});var Vr=u(2);u.d(s,"each",function(){return Vr.a});var Pi=u(97);u.d(s,"extend",function(){return Pi.a});var wi=u(98);u.d(s,"indexOf",function(){return wi.a});var Ei=u(99);u.d(s,"isEmpty",function(){return Ei.a});var bi=u(29);u.d(s,"isEqual",function(){return bi.a});var Di=u(100);u.d(s,"isEqualWith",function(){return Di.a});var Fi=u(101);u.d(s,"map",function(){return Fi.a});var Ni=u(102);u.d(s,"mapValues",function(){return Ni.a});var ji=u(16);u.d(s,"mix",function(){return ji.a}),u.d(s,"assign",function(){return ji.a});var Xi=u(103);u.d(s,"get",function(){return Xi.a});var Ki=u(104);u.d(s,"set",function(){return Ki.a});var la=u(105);u.d(s,"pick",function(){return la.a});var ta=u(106);u.d(s,"throttle",function(){return ta.a});var ma=u(107);u.d(s,"toArray",function(){return ma.a});var Oa=u(10);u.d(s,"toString",function(){return Oa.a});var uo=u(108);u.d(s,"uniqueId",function(){return uo.a});var sa=u(109);u.d(s,"noop",function(){return sa.a});var Xa=u(110);u.d(s,"identity",function(){return Xa.a});var po=u(111);u.d(s,"size",function(){return po.a});var bo=u(112);u.d(s,"Cache",function(){return bo.a})},function(o,s,u){"use strict";var v=u(14),C=u(12);s.a=function(O,j){return j===void 0&&(j=[]),Object(v.a)(O,function(p){return!Object(C.a)(j,p)})}},function(o,s,u){"use strict";var v=u(3),C=u(19),O=u(0),j=u(9);s.a=function(p,x){if(!Object(O.a)(p))return null;var A;if(Object(v.a)(x)&&(A=x),Object(j.a)(x)&&(A=function(et){return Object(C.a)(et,x)}),A){for(var k=0;k<p.length;k+=1)if(A(p[k]))return p[k]}return null}},function(o,s,u){"use strict";s.a=function(v,C,O){O===void 0&&(O=0);for(var j=O;j<v.length;j++)if(C(v[j],j))return j;return-1}},function(o,s,u){"use strict";var v=u(6),C=u(0);s.a=function(O,j){for(var p=null,x=0;x<O.length;x++){var A=O[x][j];if(!Object(v.a)(A)){p=Object(C.a)(A)?A[0]:A;break}}return p}},function(o,s,u){"use strict";var v=u(0);s.a=function(C){if(!Object(v.a)(C))return[];for(var O=[],j=0;j<C.length;j++)O=O.concat(C[j]);return O}},function(o,s,u){"use strict";var v=u(0);s.a=function C(O,j){if(j===void 0&&(j=[]),Object(v.a)(O))for(var p=0;p<O.length;p+=1)C(O[p],j);else j.push(O);return j}},function(o,s,u){"use strict";var v=u(0),C=u(14);s.a=function(O){if(!(O=Object(C.a)(O,function(A){return!isNaN(A)})).length)return{min:0,max:0};if(Object(v.a)(O[0])){for(var j=[],p=0;p<O.length;p++)j=j.concat(O[p]);O=j}var x=Math.max.apply(null,O);return{min:Math.min.apply(null,O),max:x}}},function(o,s,u){"use strict";var v=Array.prototype,C=v.splice,O=v.indexOf;s.a=function(j){for(var p=[],x=1;x<arguments.length;x++)p[x-1]=arguments[x];for(var A=0;A<p.length;A++)for(var k=p[A],X=-1;(X=O.call(j,k))>-1;)C.call(j,X,1);return j}},function(o,s,u){"use strict";var v=u(2),C=u(0),O=u(9);s.a=function(j,p,x){if(!Object(C.a)(j)&&!Object(O.a)(j))return j;var A=x;return Object(v.a)(j,function(k,X){A=p(A,k,X)}),A}},function(o,s,u){"use strict";var v=u(1),C=u(21);s.a=function(O,j){var p=[];if(!Object(v.a)(O))return p;for(var x=-1,A=[],k=O.length;++x<k;){var X=O[x];j(X,x,O)&&(p.push(X),A.push(x))}return Object(C.a)(O,A),p}},function(o,s,u){"use strict";var v=u(0),C=u(8),O=u(3);s.a=function(j,p){var x;if(Object(O.a)(p))x=function(X,et){return p(X)-p(et)};else{var A=[];Object(C.a)(p)?A.push(p):Object(v.a)(p)&&(A=p),x=function(X,et){for(var tt=0;tt<A.length;tt+=1){var ft=A[tt];if(X[ft]>et[ft])return 1;if(X[ft]<et[ft])return-1}return 0}}return j.sort(x),j}},function(o,s,u){"use strict";var v=u(22);s.a=function(){for(var C=[],O=0;O<arguments.length;O++)C[O]=arguments[O];return Object(v.a)([].concat.apply([],C))}},function(o,s,u){"use strict";var v=u(2),C=u(0),O=u(6);s.a=function(j,p){var x=[],A={};return j.forEach(function(k){var X=k[p];Object(O.a)(X)||(Object(C.a)(X)||(X=[X]),Object(v.a)(X,function(et){A[et]||(x.push(et),A[et]=!0)}))}),x}},function(o,s,u){"use strict";s.a=function(C){if(Object(v.a)(C))return C[0]};var v=u(1)},function(o,s,u){"use strict";s.a=function(C){if(Object(v.a)(C))return C[C.length-1]};var v=u(1)},function(o,s,u){"use strict";var v=u(0),C=u(8);s.a=function(O,j){return!(!Object(v.a)(O)&&!Object(C.a)(O))&&O[0]===j}},function(o,s,u){"use strict";var v=u(0),C=u(8);s.a=function(O,j){return!(!Object(v.a)(O)&&!Object(C.a)(O))&&O[O.length-1]===j}},function(o,s,u){"use strict";s.a=function(v,C){for(var O=0;O<v.length;O++)if(!C(v[O],O))return!1;return!0}},function(o,s,u){"use strict";s.a=function(v,C){for(var O=0;O<v.length;O++)if(C(v[O],O))return!0;return!1}},function(o,s,u){"use strict";var v=u(23);s.a=function(C,O){if(!O)return[C];var j=Object(v.a)(C,O),p=[];for(var x in j)p.push(j[x]);return p}},function(o,s,u){"use strict";s.a=function(v,C){return v["_wrap_"+C]}},function(o,s,u){"use strict";s.a=function(v,C){if(v["_wrap_"+C])return v["_wrap_"+C];var O=function(p){v[C](p)};return v["_wrap_"+C]=O,O}},function(o,s,u){"use strict";var v={};s.a=function(C){var O=v[C];if(!O){for(var j=C.toString(16),p=j.length;p<6;p++)j="0"+j;O="#"+j,v[C]=O}return O}},function(o,s,u){"use strict";var v=u(0);s.a=function(C){var O=0,j=0,p=0,x=0;return Object(v.a)(C)?C.length===1?O=j=p=x=C[0]:C.length===2?(O=p=C[0],j=x=C[1]):C.length===3?(O=C[0],j=x=C[1],p=C[2]):(O=C[0],j=C[1],p=C[2],x=C[3]):O=j=p=x=C,{r1:O,r2:j,r3:p,r4:x}}},function(o,s,u){"use strict";s.a=function(v,C,O){return v<C?C:v>O?O:v}},function(o,s,u){"use strict";s.a=function(v,C){var O=C.toString(),j=O.indexOf(".");if(j===-1)return Math.round(v);var p=O.substr(j+1).length;return p>20&&(p=20),parseFloat(v.toFixed(p))}},function(o,s,u){"use strict";var v=u(5);s.a=function(C){return Object(v.a)(C)&&C%1!=0}},function(o,s,u){"use strict";var v=u(5);s.a=function(C){return Object(v.a)(C)&&C%2==0}},function(o,s,u){"use strict";var v=u(5),C=Number.isInteger?Number.isInteger:function(O){return Object(v.a)(O)&&O%1==0};s.a=C},function(o,s,u){"use strict";var v=u(5);s.a=function(C){return Object(v.a)(C)&&C<0}},function(o,s,u){"use strict";s.a=function(v,C,O){return O===void 0&&(O=1e-5),Math.abs(v-C)<O}},function(o,s,u){"use strict";var v=u(5);s.a=function(C){return Object(v.a)(C)&&C%2!=0}},function(o,s,u){"use strict";var v=u(5);s.a=function(C){return Object(v.a)(C)&&C>0}},function(o,s,u){"use strict";var v=u(2),C=u(0),O=u(3);s.a=function(j,p){if(Object(C.a)(j)){var x,A,k=j[0];return x=Object(O.a)(p)?p(j[0]):j[0][p],Object(v.a)(j,function(X){(A=Object(O.a)(p)?p(X):X[p])>x&&(k=X,x=A)}),k}}},function(o,s,u){"use strict";var v=u(2),C=u(0),O=u(3);s.a=function(j,p){if(Object(C.a)(j)){var x,A,k=j[0];return x=Object(O.a)(p)?p(j[0]):j[0][p],Object(v.a)(j,function(X){(A=Object(O.a)(p)?p(X):X[p])<x&&(k=X,x=A)}),k}}},function(o,s,u){"use strict";s.a=function(v,C){return(v%C+C)%C}},function(o,s,u){"use strict";var v=180/Math.PI;s.a=function(C){return v*C}},function(o,s,u){"use strict";s.a=parseInt},function(o,s,u){"use strict";var v=Math.PI/180;s.a=function(C){return v*C}},function(o,s,u){"use strict";var v=u(2);s.a=v.a},function(o,s,u){"use strict";var v=u(25);s.a=v.a},function(o,s,u){"use strict";var v=u(12),C=u(26);s.a=function(O,j){return Object(v.a)(Object(C.a)(O),j)}},function(o,s,u){"use strict";var v=u(10);s.a=function(C){return Object(v.a)(C).toLowerCase()}},function(o,s,u){"use strict";var v=u(10);s.a=function(C){var O=Object(v.a)(C);return O.charAt(0).toLowerCase()+O.substring(1)}},function(o,s,u){"use strict";s.a=function(v,C){return v&&C?v.replace(/\\?\{([^{}]+)\}/g,function(O,j){return O.charAt(0)==="\\"?O.slice(1):C[j]===void 0?"":C[j]}):v}},function(o,s,u){"use strict";var v=u(10);s.a=function(C){return Object(v.a)(C).toUpperCase()}},function(o,s,u){"use strict";var v=u(10);s.a=function(C){var O=Object(v.a)(C);return O.charAt(0).toUpperCase()+O.substring(1)}},function(o,s,u){"use strict";var v=u(4);s.a=function(C){return Object(v.a)(C,"Arguments")}},function(o,s,u){"use strict";var v=u(4);s.a=function(C){return Object(v.a)(C,"Boolean")}},function(o,s,u){"use strict";var v=u(4);s.a=function(C){return Object(v.a)(C,"Date")}},function(o,s,u){"use strict";var v=u(4);s.a=function(C){return Object(v.a)(C,"Error")}},function(o,s,u){"use strict";var v=u(5);s.a=function(C){return Object(v.a)(C)&&isFinite(C)}},function(o,s,u){"use strict";s.a=function(v){return v===null}},function(o,s,u){"use strict";var v=u(4);s.a=function(C){return Object(v.a)(C,"RegExp")}},function(o,s,u){"use strict";s.a=function(v){return v===void 0}},function(o,s,u){"use strict";s.a=function(v){return v instanceof Element||v instanceof HTMLDocument}},function(o,s,u){"use strict";s.a=function(v){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(C){return setTimeout(C,16)})(v)}},function(o,s,u){"use strict";s.a=function(v){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(v)}},function(o,s,u){"use strict";var v=u(16),C=u(3);s.a=function(){for(var O=[],j=0;j<arguments.length;j++)O[j]=arguments[j];for(var p=O[0],x=1;x<O.length;x++){var A=O[x];Object(C.a)(A)&&(A=A.prototype),Object(v.a)(p.prototype,A)}}},function(o,s,u){"use strict";var v=u(0);s.a=function C(O){if(E(O)!=="object"||O===null)return O;var j;if(Object(v.a)(O)){j=[];for(var p=0,x=O.length;p<x;p++)E(O[p])==="object"&&O[p]!=null?j[p]=C(O[p]):j[p]=O[p]}else for(var A in j={},O)E(O[A])==="object"&&O[A]!=null?j[A]=C(O[A]):j[A]=O[A];return j}},function(o,s,u){"use strict";s.a=function(v,C,O){var j;return function(){var p=this,x=arguments,A=function(){j=null,O||v.apply(p,x)},k=O&&!j;clearTimeout(j),j=setTimeout(A,C),k&&v.apply(p,x)}}},function(o,s,u){"use strict";var v=u(3);s.a=function(C,O){if(!Object(v.a)(C))throw new TypeError("Expected a function");var j=function p(){for(var x=[],A=0;A<arguments.length;A++)x[A]=arguments[A];var k=O?O.apply(this,x):x[0],X=p.cache;if(X.has(k))return X.get(k);var et=C.apply(this,x);return X.set(k,et),et};return j.cache=new Map,j}},function(o,s,u){"use strict";var v=u(0),C=u(9);function O(j,p,x,A){for(var k in x=x||0,A=A||5,p)if(p.hasOwnProperty(k)){var X=p[k];X!==null&&Object(C.a)(X)?(Object(C.a)(j[k])||(j[k]={}),x<A?O(j[k],X,x+1,A):j[k]=p[k]):Object(v.a)(X)?(j[k]=[],j[k]=j[k].concat(X)):X!==void 0&&(j[k]=X)}}s.a=function(j){for(var p=[],x=1;x<arguments.length;x++)p[x-1]=arguments[x];for(var A=0;A<p.length;A+=1)O(j,p[A]);return j}},function(o,s,u){"use strict";var v=u(16),C=u(3);s.a=function(O,j,p,x){Object(C.a)(j)||(p=j,j=O,O=function(){});var A=Object.create?function(X,et){return Object.create(X,{constructor:{value:et}})}:function(X,et){function tt(){}tt.prototype=X;var ft=new tt;return ft.constructor=et,ft},k=A(j.prototype,O);return O.prototype=Object(v.a)(k,O.prototype),O.superclass=A(j.prototype,j),Object(v.a)(k,p),Object(v.a)(O,x),O}},function(o,s,u){"use strict";var v=u(1);s.a=function(C,O){if(!Object(v.a)(C))return-1;var j=Array.prototype.indexOf;if(j)return j.call(C,O);for(var p=-1,x=0;x<C.length;x++)if(C[x]===O){p=x;break}return p}},function(o,s,u){"use strict";var v=u(6),C=u(1),O=u(27),j=u(28),p=Object.prototype.hasOwnProperty;s.a=function(x){if(Object(v.a)(x))return!0;if(Object(C.a)(x))return!x.length;var A=Object(O.a)(x);if(A==="Map"||A==="Set")return!x.size;if(Object(j.a)(x))return!Object.keys(x).length;for(var k in x)if(p.call(x,k))return!1;return!0}},function(o,s,u){"use strict";var v=u(3),C=u(29);s.a=function(O,j,p){return Object(v.a)(p)?!!p(O,j):Object(C.a)(O,j)}},function(o,s,u){"use strict";var v=u(2),C=u(1);s.a=function(O,j){if(!Object(C.a)(O))return O;var p=[];return Object(v.a)(O,function(x,A){p.push(j(x,A))}),p}},function(o,s,u){"use strict";var v=u(6),C=u(13),O=function(p){return p};s.a=function(j,p){p===void 0&&(p=O);var x={};return Object(C.a)(j)&&!Object(v.a)(j)&&Object.keys(j).forEach(function(A){x[A]=p(j[A],A)}),x}},function(o,s,u){"use strict";var v=u(8);s.a=function(C,O,j){for(var p=0,x=Object(v.a)(O)?O.split("."):O;C&&p<x.length;)C=C[x[p++]];return C===void 0||p<x.length?j:C}},function(o,s,u){"use strict";var v=u(13),C=u(8),O=u(5);s.a=function(j,p,x){var A=j,k=Object(C.a)(p)?p.split("."):p;return k.forEach(function(X,et){et<k.length-1?(Object(v.a)(A[X])||(A[X]=Object(O.a)(k[et+1])?[]:{}),A=A[X]):A[X]=x}),j}},function(o,s,u){"use strict";var v=u(2),C=u(9),O=Object.prototype.hasOwnProperty;s.a=function(j,p){if(j===null||!Object(C.a)(j))return{};var x={};return Object(v.a)(p,function(A){O.call(j,A)&&(x[A]=j[A])}),x}},function(o,s,u){"use strict";s.a=function(v,C,O){var j,p,x,A,k=0;O||(O={});var X=function(){k=O.leading===!1?0:Date.now(),j=null,A=v.apply(p,x),j||(p=x=null)},et=function(){var ft=Date.now();k||O.leading!==!1||(k=ft);var st=C-(ft-k);return p=this,x=arguments,st<=0||st>C?(j&&(clearTimeout(j),j=null),k=ft,A=v.apply(p,x),j||(p=x=null)):j||O.trailing===!1||(j=setTimeout(X,st)),A};return et.cancel=function(){clearTimeout(j),k=0,j=p=x=null},et}},function(o,s,u){"use strict";var v=u(1);s.a=function(C){return Object(v.a)(C)?Array.prototype.slice.call(C):[]}},function(o,s,u){"use strict";var v={};s.a=function(C){return v[C=C||"g"]?v[C]+=1:v[C]=1,C+v[C]}},function(o,s,u){"use strict";s.a=function(){}},function(o,s,u){"use strict";s.a=function(v){return v}},function(o,s,u){"use strict";s.a=function(O){return Object(v.a)(O)?0:Object(C.a)(O)?O.length:Object.keys(O).length};var v=u(6),C=u(1)},function(o,s,u){"use strict";var v=function(){function C(){this.map={}}return C.prototype.has=function(O){return this.map[O]!==void 0},C.prototype.get=function(O,j){var p=this.map[O];return p===void 0?j:p},C.prototype.set=function(O,j){this.map[O]=j},C.prototype.clear=function(){this.map={}},C.prototype.delete=function(O){delete this.map[O]},C.prototype.size=function(){return Object.keys(this.map).length},C}();s.a=v},function(o,s){function u(C,O,j,p){p===void 0&&(p=[]);var x=this;x.w=C||0,x.h=O||0,x.y=j||0,x.x=0,x.c=p||[],x.cs=p.length,x.prelim=0,x.mod=0,x.shift=0,x.change=0,x.tl=null,x.tr=null,x.el=null,x.er=null,x.msel=0,x.mser=0}function v(C,O){var j=function p(x,A){var k=A?x.y:x.x;return x.children.forEach(function(X){k=Math.min(p(X,A),k)}),k}(C,O);(function p(x,A,k){k?x.y+=A:x.x+=A,x.children.forEach(function(X){p(X,A,k)})})(C,-j,O)}u.fromNode=function(C,O){if(!C)return null;var j=[];return C.children.forEach(function(p){j.push(u.fromNode(p,O))}),O?new u(C.height,C.width,C.x,j):new u(C.width,C.height,C.y,j)},o.exports=function(C,O){O===void 0&&(O={});var j=O.isHorizontal;function p(st){st.cs===0?(st.el=st,st.er=st,st.msel=st.mser=0):(st.el=st.c[0].el,st.msel=st.c[0].msel,st.er=st.c[st.cs-1].er,st.mser=st.c[st.cs-1].mser)}function x(st,vt,mt){for(var pt=st.c[vt-1],rt=pt.mod,Bt=st.c[vt],It=Bt.mod;pt!==null&&Bt!==null;){et(pt)>mt.low&&(mt=mt.nxt);var St=rt+pt.prelim+pt.w-(It+Bt.prelim);St>0&&(It+=St,A(st,vt,mt.index,St));var H=et(pt),ot=et(Bt);H<=ot&&(pt=X(pt))!==null&&(rt+=pt.mod),H>=ot&&(Bt=k(Bt))!==null&&(It+=Bt.mod)}!pt&&Bt?function(yt,xt,wt,Q){var ct=yt.c[0].el;ct.tl=wt;var it=Q-wt.mod-yt.c[0].msel;ct.mod+=it,ct.prelim-=it,yt.c[0].el=yt.c[xt].el,yt.c[0].msel=yt.c[xt].msel}(st,vt,Bt,It):pt&&!Bt&&function(yt,xt,wt,Q){var ct=yt.c[xt].er;ct.tr=wt;var it=Q-wt.mod-yt.c[xt].mser;ct.mod+=it,ct.prelim-=it,yt.c[xt].er=yt.c[xt-1].er,yt.c[xt].mser=yt.c[xt-1].mser}(st,vt,pt,rt)}function A(st,vt,mt,pt){st.c[vt].mod+=pt,st.c[vt].msel+=pt,st.c[vt].mser+=pt,function(rt,Bt,It,St){if(It!==Bt-1){var H=Bt-It;rt.c[It+1].shift+=St/H,rt.c[Bt].shift-=St/H,rt.c[Bt].change-=St-St/H}}(st,vt,mt,pt)}function k(st){return st.cs===0?st.tl:st.c[0]}function X(st){return st.cs===0?st.tr:st.c[st.cs-1]}function et(st){return st.y+st.h}function tt(st,vt,mt){for(;mt!==null&&st>=mt.low;)mt=mt.nxt;return{low:st,index:vt,nxt:mt}}(function st(vt,mt,pt){pt===void 0&&(pt=0),mt?(vt.x=pt,pt+=vt.width):(vt.y=pt,pt+=vt.height),vt.children.forEach(function(rt){st(rt,mt,pt)})})(C,j);var ft=u.fromNode(C,j);return function st(vt){if(vt.cs!==0){st(vt.c[0]);for(var mt=tt(et(vt.c[0].el),0,null),pt=1;pt<vt.cs;++pt){st(vt.c[pt]);var rt=et(vt.c[pt].er);x(vt,pt,mt),mt=tt(rt,pt,mt)}(function(Bt){Bt.prelim=(Bt.c[0].prelim+Bt.c[0].mod+Bt.c[Bt.cs-1].mod+Bt.c[Bt.cs-1].prelim+Bt.c[Bt.cs-1].w)/2-Bt.w/2})(vt),p(vt)}else p(vt)}(ft),function st(vt,mt){mt+=vt.mod,vt.x=vt.prelim+mt,function(rt){for(var Bt=0,It=0,St=0;St<rt.cs;St++)Bt+=rt.c[St].shift,It+=Bt+rt.c[St].change,rt.c[St].mod+=It}(vt);for(var pt=0;pt<vt.cs;pt++)st(vt.c[pt],mt)}(ft,0),function st(vt,mt,pt){pt?mt.y=vt.x:mt.x=vt.x,vt.c.forEach(function(rt,Bt){st(rt,mt.children[Bt],pt)})}(ft,C,j),v(C,j),C}},function(o,s,u){var v=u(11),C=u(115),O=u(17),j=u(7),p=function(A){var k,X;function et(){return A.apply(this,arguments)||this}return X=A,(k=et).prototype=Object.create(X.prototype),k.prototype.constructor=k,k.__proto__=X,et.prototype.execute=function(){return this.rootNode.width=0,O(this.rootNode,this.options,C)},et}(v),x={};o.exports=function(A,k){return k=j.assign({},x,k),new p(A,k).execute()}},function(o,s,u){var v=u(7);function C(j,p){j===void 0&&(j=0),p===void 0&&(p=[]);var x=this;x.x=x.y=0,x.leftChild=x.rightChild=null,x.height=0,x.children=p}var O={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};o.exports=function(j,p){p===void 0&&(p={}),p=v.assign({},O,p);var x,A=0,k=function X(et){if(!et)return null;et.width=0,et.depth&&et.depth>A&&(A=et.depth);var tt=et.children,ft=tt.length,st=new C(et.height,[]);return tt.forEach(function(vt,mt){var pt=X(vt);st.children.push(pt),mt===0&&(st.leftChild=pt),mt===ft-1&&(st.rightChild=pt)}),st.originNode=et,st.isLeaf=et.isLeaf(),st}(j);return function X(et){if(et.isLeaf||et.children.length===0)et.drawingDepth=A;else{var tt=et.children.map(function(st){return X(st)}),ft=Math.min.apply(null,tt);et.drawingDepth=ft-1}return et.drawingDepth}(k),function X(et){et.x=et.drawingDepth*p.rankSep,et.isLeaf?(et.y=0,x&&(et.y=x.y+x.height+p.nodeSep,et.originNode.parent!==x.originNode.parent&&(et.y+=p.subTreeSep)),x=et):(et.children.forEach(function(tt){X(tt)}),et.y=(et.leftChild.y+et.rightChild.y)/2)}(k),function X(et,tt,ft){ft?(tt.x=et.x,tt.y=et.y):(tt.x=et.y,tt.y=et.x),et.children.forEach(function(st,vt){X(st,tt.children[vt],ft)})}(k,j,p.isHorizontal),j}},function(o,s,u){var v=u(11),C=u(117),O=u(30),j=u(7),p=["LR","RL","H"],x=p[0],A=function(X){var et,tt;function ft(){return X.apply(this,arguments)||this}return tt=X,(et=ft).prototype=Object.create(tt.prototype),et.prototype.constructor=et,et.__proto__=tt,ft.prototype.execute=function(){var st=this.options,vt=this.rootNode;st.isHorizontal=!0;var mt=st.indent,pt=mt===void 0?20:mt,rt=st.dropCap,Bt=rt===void 0||rt,It=st.direction||x;if(It&&p.indexOf(It)===-1)throw new TypeError("Invalid direction: "+It);if(It===p[0])C(vt,pt,Bt);else if(It===p[1])C(vt,pt,Bt),vt.right2left();else if(It===p[2]){var St=O(vt,st),H=St.left,ot=St.right;C(H,pt,Bt),H.right2left(),C(ot,pt,Bt);var yt=H.getBoundingBox();ot.translate(yt.width,0),vt.x=ot.x-vt.width/2}return vt},ft}(v),k={};o.exports=function(X,et){return et=j.assign({},k,et),new A(X,et).execute()}},function(o,s){o.exports=function(u,v,C){var O=null;u.eachNode(function(j){(function(p,x,A,k){if(!k)try{if(p.id===p.parent.children[0].id)return p.x+=A*p.depth,void(p.y=x?x.y:0)}catch(X){}p.x+=A*p.depth,p.y=x?x.y+x.height:0})(j,O,v,C),O=j})}},function(o,s,u){var v=u(11),C=u(119),O=u(17),j=u(7),p=function(A){var k,X;function et(){return A.apply(this,arguments)||this}return X=A,(k=et).prototype=Object.create(X.prototype),k.prototype.constructor=k,k.__proto__=X,et.prototype.execute=function(){return O(this.rootNode,this.options,C)},et}(v),x={};o.exports=function(A,k){return k=j.assign({},x,k),new p(A,k).execute()}},function(o,s,u){var v=u(7),C={getSubTreeSep:function(){return 0}};o.exports=function(O,j){j===void 0&&(j={}),j=v.assign({},C,j),O.parent={x:0,width:0,height:0,y:0},O.BFTraverse(function(p){p.x=p.parent.x+p.parent.width}),O.parent=null,function p(x,A){var k=0;return x.children.length?x.children.forEach(function(X){k+=p(X,A)}):k=x.height,x._subTreeSep=A.getSubTreeSep(x.data),x.totalHeight=Math.max(x.height,k)+2*x._subTreeSep,x.totalHeight}(O,j),O.startY=0,O.y=O.totalHeight/2-O.height/2,O.eachNode(function(p){var x=p.children,A=x.length;if(A){var k=x[0];if(k.startY=p.startY+p._subTreeSep,A===1)k.y=p.y+p.height/2-k.height/2;else{k.y=k.startY+k.totalHeight/2-k.height/2;for(var X=1;X<A;X++){var et=x[X];et.startY=x[X-1].startY+x[X-1].totalHeight,et.y=et.startY+et.totalHeight/2-et.height/2}}}}),function p(x){var A=x.children,k=A.length;if(k){A.forEach(function(vt){p(vt)});var X=A[0],et=A[k-1],tt=et.y-X.y+et.height,ft=0;if(A.forEach(function(vt){ft+=vt.totalHeight}),tt>x.height)x.y=X.y+tt/2-x.height/2;else if(A.length!==1||x.height>ft){var st=x.y+(x.height-tt)/2-X.y;A.forEach(function(vt){vt.translate(0,st)})}else x.y=(X.y+X.height/2+et.y+et.height/2)/2-x.height/2}}(O)}}])},E(M)==="object"&&E(n)==="object"?n.exports=h():(S=[],(b=typeof(d=h)=="function"?d.apply(M,S):d)===void 0||(n.exports=b))}).call(this,t(87)(a))},function(a,M){},function(a,M){},function(a,M){var t,n,d=a.exports={};function S(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}function h(j){if(t===setTimeout)return setTimeout(j,0);if((t===S||!t)&&setTimeout)return t=setTimeout,setTimeout(j,0);try{return t(j,0)}catch(p){try{return t.call(null,j,0)}catch(x){return t.call(this,j,0)}}}(function(){try{t=typeof setTimeout=="function"?setTimeout:S}catch(j){t=S}try{n=typeof clearTimeout=="function"?clearTimeout:b}catch(j){n=b}})();var E,T=[],o=!1,s=-1;function u(){o&&E&&(o=!1,E.length?T=E.concat(T):s=-1,T.length&&v())}function v(){if(!o){var j=h(u);o=!0;for(var p=T.length;p;){for(E=T,T=[];++s<p;)E&&E[s].run();s=-1,p=T.length}E=null,o=!1,function(x){if(n===clearTimeout)return clearTimeout(x);if((n===b||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(x);try{n(x)}catch(A){try{return n.call(null,x)}catch(k){return n.call(this,x)}}}(j)}}function C(j,p){this.fun=j,this.array=p}function O(){}d.nextTick=function(j){var p=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)p[x-1]=arguments[x];T.push(new C(j,p)),T.length!==1||o||h(v)},C.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=O,d.addListener=O,d.once=O,d.off=O,d.removeListener=O,d.removeAllListeners=O,d.emit=O,d.prependListener=O,d.prependOnceListener=O,d.listeners=function(j){return[]},d.binding=function(j){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(j){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(a,M,t){"use strict";var n=t(1),d=function(S){function b(){return S!==null&&S.apply(this,arguments)||this}return Object(n.b)(b,S),b.prototype.isGroup=function(){return!0},b.prototype.isEntityGroup=function(){return!1},b.prototype.clone=function(){for(var h=S.prototype.clone.call(this),E=this.getChildren(),T=0;T<E.length;T++){var o=E[T];h.add(o.clone())}return h},b}(t(118).a);M.a=d},function(a,M,t){"use strict";var n=t(1),d=t(119),S=t(39),b=function(h){function E(T){return h.call(this,T)||this}return Object(n.b)(E,h),E.prototype._isInBBox=function(T,o){var s=this.getBBox();return s.minX<=T&&s.maxX>=T&&s.minY<=o&&s.maxY>=o},E.prototype.afterAttrsChange=function(T){h.prototype.afterAttrsChange.call(this,T),this.clearCacheBBox()},E.prototype.getBBox=function(){var T=this.cfg.bbox;return T||(T=this.calculateBBox(),this.set("bbox",T)),T},E.prototype.getCanvasBBox=function(){var T=this.cfg.canvasBBox;return T||(T=this.calculateCanvasBBox(),this.set("canvasBBox",T)),T},E.prototype.applyMatrix=function(T){h.prototype.applyMatrix.call(this,T),this.set("canvasBBox",null)},E.prototype.calculateCanvasBBox=function(){var T=this.getBBox(),o=this.getTotalMatrix(),s=T.minX,u=T.minY,v=T.maxX,C=T.maxY;if(o){var O=Object(S.c)(o,[T.minX,T.minY]),j=Object(S.c)(o,[T.maxX,T.minY]),p=Object(S.c)(o,[T.minX,T.maxY]),x=Object(S.c)(o,[T.maxX,T.maxY]);s=Math.min(O[0],j[0],p[0],x[0]),v=Math.max(O[0],j[0],p[0],x[0]),u=Math.min(O[1],j[1],p[1],x[1]),C=Math.max(O[1],j[1],p[1],x[1])}var A=this.attrs;if(A.shadowColor){var k=A.shadowBlur,X=k===void 0?0:k,et=A.shadowOffsetX,tt=et===void 0?0:et,ft=A.shadowOffsetY,st=ft===void 0?0:ft,vt=s-X+tt,mt=v+X+tt,pt=u-X+st,rt=C+X+st;s=Math.min(s,vt),v=Math.max(v,mt),u=Math.min(u,pt),C=Math.max(C,rt)}return{x:s,y:u,minX:s,minY:u,maxX:v,maxY:C,width:v-s,height:C-u}},E.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},E.prototype.isClipShape=function(){return this.get("isClipShape")},E.prototype.isInShape=function(T,o){return!1},E.prototype.isOnlyHitBox=function(){return!1},E.prototype.isHit=function(T,o){var s=this.get("startArrowShape"),u=this.get("endArrowShape"),v=[T,o,1],C=(v=this.invertFromMatrix(v))[0],O=v[1],j=this._isInBBox(C,O);return this.isOnlyHitBox()?j:!!(j&&!this.isClipped(C,O)&&(this.isInShape(C,O)||s&&s.isHit(C,O)||u&&u.isHit(C,O)))},E}(d.a);M.a=b},function(a,M,t){var n=t(268),d={};for(var S in n)n.hasOwnProperty(S)&&(d[n[S]]=S);var b=a.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var h in b)if(b.hasOwnProperty(h)){if(!("channels"in b[h]))throw new Error("missing channels property: "+h);if(!("labels"in b[h]))throw new Error("missing channel labels property: "+h);if(b[h].labels.length!==b[h].channels)throw new Error("channel and label counts mismatch: "+h);var E=b[h].channels,T=b[h].labels;delete b[h].channels,delete b[h].labels,Object.defineProperty(b[h],"channels",{value:E}),Object.defineProperty(b[h],"labels",{value:T})}b.rgb.hsl=function(o){var s,u,v=o[0]/255,C=o[1]/255,O=o[2]/255,j=Math.min(v,C,O),p=Math.max(v,C,O),x=p-j;return p===j?s=0:v===p?s=(C-O)/x:C===p?s=2+(O-v)/x:O===p&&(s=4+(v-C)/x),(s=Math.min(60*s,360))<0&&(s+=360),u=(j+p)/2,[s,100*(p===j?0:u<=.5?x/(p+j):x/(2-p-j)),100*u]},b.rgb.hsv=function(o){var s,u,v,C,O,j=o[0]/255,p=o[1]/255,x=o[2]/255,A=Math.max(j,p,x),k=A-Math.min(j,p,x),X=function(tt){return(A-tt)/6/k+.5};return k===0?C=O=0:(O=k/A,s=X(j),u=X(p),v=X(x),j===A?C=v-u:p===A?C=1/3+s-v:x===A&&(C=2/3+u-s),C<0?C+=1:C>1&&(C-=1)),[360*C,100*O,100*A]},b.rgb.hwb=function(o){var s=o[0],u=o[1],v=o[2];return[b.rgb.hsl(o)[0],100*(1/255*Math.min(s,Math.min(u,v))),100*(v=1-1/255*Math.max(s,Math.max(u,v)))]},b.rgb.cmyk=function(o){var s,u=o[0]/255,v=o[1]/255,C=o[2]/255;return[100*((1-u-(s=Math.min(1-u,1-v,1-C)))/(1-s)||0),100*((1-v-s)/(1-s)||0),100*((1-C-s)/(1-s)||0),100*s]},b.rgb.keyword=function(o){var s=d[o];if(s)return s;var u,v,C,O=1/0;for(var j in n)if(n.hasOwnProperty(j)){var p=n[j],x=(v=o,C=p,Math.pow(v[0]-C[0],2)+Math.pow(v[1]-C[1],2)+Math.pow(v[2]-C[2],2));x<O&&(O=x,u=j)}return u},b.keyword.rgb=function(o){return n[o]},b.rgb.xyz=function(o){var s=o[0]/255,u=o[1]/255,v=o[2]/255;return[100*(.4124*(s=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92)+.3576*(u=u>.04045?Math.pow((u+.055)/1.055,2.4):u/12.92)+.1805*(v=v>.04045?Math.pow((v+.055)/1.055,2.4):v/12.92)),100*(.2126*s+.7152*u+.0722*v),100*(.0193*s+.1192*u+.9505*v)]},b.rgb.lab=function(o){var s=b.rgb.xyz(o),u=s[0],v=s[1],C=s[2];return v/=100,C/=108.883,u=(u/=95.047)>.008856?Math.pow(u,1/3):7.787*u+16/116,[116*(v=v>.008856?Math.pow(v,1/3):7.787*v+16/116)-16,500*(u-v),200*(v-(C=C>.008856?Math.pow(C,1/3):7.787*C+16/116))]},b.hsl.rgb=function(o){var s,u,v,C,O,j=o[0]/360,p=o[1]/100,x=o[2]/100;if(p===0)return[O=255*x,O,O];s=2*x-(u=x<.5?x*(1+p):x+p-x*p),C=[0,0,0];for(var A=0;A<3;A++)(v=j+1/3*-(A-1))<0&&v++,v>1&&v--,O=6*v<1?s+6*(u-s)*v:2*v<1?u:3*v<2?s+(u-s)*(2/3-v)*6:s,C[A]=255*O;return C},b.hsl.hsv=function(o){var s=o[0],u=o[1]/100,v=o[2]/100,C=u,O=Math.max(v,.01);return u*=(v*=2)<=1?v:2-v,C*=O<=1?O:2-O,[s,100*(v===0?2*C/(O+C):2*u/(v+u)),100*((v+u)/2)]},b.hsv.rgb=function(o){var s=o[0]/60,u=o[1]/100,v=o[2]/100,C=Math.floor(s)%6,O=s-Math.floor(s),j=255*v*(1-u),p=255*v*(1-u*O),x=255*v*(1-u*(1-O));switch(v*=255,C){case 0:return[v,x,j];case 1:return[p,v,j];case 2:return[j,v,x];case 3:return[j,p,v];case 4:return[x,j,v];case 5:return[v,j,p]}},b.hsv.hsl=function(o){var s,u,v,C=o[0],O=o[1]/100,j=o[2]/100,p=Math.max(j,.01);return v=(2-O)*j,u=O*p,[C,100*(u=(u/=(s=(2-O)*p)<=1?s:2-s)||0),100*(v/=2)]},b.hwb.rgb=function(o){var s,u,v,C,O,j,p,x=o[0]/360,A=o[1]/100,k=o[2]/100,X=A+k;switch(X>1&&(A/=X,k/=X),v=6*x-(s=Math.floor(6*x)),(1&s)!=0&&(v=1-v),C=A+v*((u=1-k)-A),s){default:case 6:case 0:O=u,j=C,p=A;break;case 1:O=C,j=u,p=A;break;case 2:O=A,j=u,p=C;break;case 3:O=A,j=C,p=u;break;case 4:O=C,j=A,p=u;break;case 5:O=u,j=A,p=C}return[255*O,255*j,255*p]},b.cmyk.rgb=function(o){var s=o[0]/100,u=o[1]/100,v=o[2]/100,C=o[3]/100;return[255*(1-Math.min(1,s*(1-C)+C)),255*(1-Math.min(1,u*(1-C)+C)),255*(1-Math.min(1,v*(1-C)+C))]},b.xyz.rgb=function(o){var s,u,v,C=o[0]/100,O=o[1]/100,j=o[2]/100;return u=-.9689*C+1.8758*O+.0415*j,v=.0557*C+-.204*O+1.057*j,s=(s=3.2406*C+-1.5372*O+-.4986*j)>.0031308?1.055*Math.pow(s,1/2.4)-.055:12.92*s,u=u>.0031308?1.055*Math.pow(u,1/2.4)-.055:12.92*u,v=v>.0031308?1.055*Math.pow(v,1/2.4)-.055:12.92*v,[255*(s=Math.min(Math.max(0,s),1)),255*(u=Math.min(Math.max(0,u),1)),255*(v=Math.min(Math.max(0,v),1))]},b.xyz.lab=function(o){var s=o[0],u=o[1],v=o[2];return u/=100,v/=108.883,s=(s/=95.047)>.008856?Math.pow(s,1/3):7.787*s+16/116,[116*(u=u>.008856?Math.pow(u,1/3):7.787*u+16/116)-16,500*(s-u),200*(u-(v=v>.008856?Math.pow(v,1/3):7.787*v+16/116))]},b.lab.xyz=function(o){var s,u,v,C=o[0];s=o[1]/500+(u=(C+16)/116),v=u-o[2]/200;var O=Math.pow(u,3),j=Math.pow(s,3),p=Math.pow(v,3);return u=O>.008856?O:(u-16/116)/7.787,s=j>.008856?j:(s-16/116)/7.787,v=p>.008856?p:(v-16/116)/7.787,[s*=95.047,u*=100,v*=108.883]},b.lab.lch=function(o){var s,u=o[0],v=o[1],C=o[2];return(s=360*Math.atan2(C,v)/2/Math.PI)<0&&(s+=360),[u,Math.sqrt(v*v+C*C),s]},b.lch.lab=function(o){var s,u=o[0],v=o[1];return s=o[2]/360*2*Math.PI,[u,v*Math.cos(s),v*Math.sin(s)]},b.rgb.ansi16=function(o){var s=o[0],u=o[1],v=o[2],C=1 in arguments?arguments[1]:b.rgb.hsv(o)[2];if((C=Math.round(C/50))===0)return 30;var O=30+(Math.round(v/255)<<2|Math.round(u/255)<<1|Math.round(s/255));return C===2&&(O+=60),O},b.hsv.ansi16=function(o){return b.rgb.ansi16(b.hsv.rgb(o),o[2])},b.rgb.ansi256=function(o){var s=o[0],u=o[1],v=o[2];return s===u&&u===v?s<8?16:s>248?231:Math.round((s-8)/247*24)+232:16+36*Math.round(s/255*5)+6*Math.round(u/255*5)+Math.round(v/255*5)},b.ansi16.rgb=function(o){var s=o%10;if(s===0||s===7)return o>50&&(s+=3.5),[s=s/10.5*255,s,s];var u=.5*(1+~~(o>50));return[(1&s)*u*255,(s>>1&1)*u*255,(s>>2&1)*u*255]},b.ansi256.rgb=function(o){if(o>=232){var s=10*(o-232)+8;return[s,s,s]}var u;return o-=16,[Math.floor(o/36)/5*255,Math.floor((u=o%36)/6)/5*255,u%6/5*255]},b.rgb.hex=function(o){var s=(((255&Math.round(o[0]))<<16)+((255&Math.round(o[1]))<<8)+(255&Math.round(o[2]))).toString(16).toUpperCase();return"000000".substring(s.length)+s},b.hex.rgb=function(o){var s=o.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!s)return[0,0,0];var u=s[0];s[0].length===3&&(u=u.split("").map(function(C){return C+C}).join(""));var v=parseInt(u,16);return[v>>16&255,v>>8&255,255&v]},b.rgb.hcg=function(o){var s,u=o[0]/255,v=o[1]/255,C=o[2]/255,O=Math.max(Math.max(u,v),C),j=Math.min(Math.min(u,v),C),p=O-j;return s=p<=0?0:O===u?(v-C)/p%6:O===v?2+(C-u)/p:4+(u-v)/p+4,s/=6,[360*(s%=1),100*p,100*(p<1?j/(1-p):0)]},b.hsl.hcg=function(o){var s=o[1]/100,u=o[2]/100,v=1,C=0;return(v=u<.5?2*s*u:2*s*(1-u))<1&&(C=(u-.5*v)/(1-v)),[o[0],100*v,100*C]},b.hsv.hcg=function(o){var s=o[1]/100,u=o[2]/100,v=s*u,C=0;return v<1&&(C=(u-v)/(1-v)),[o[0],100*v,100*C]},b.hcg.rgb=function(o){var s=o[0]/360,u=o[1]/100,v=o[2]/100;if(u===0)return[255*v,255*v,255*v];var C,O=[0,0,0],j=s%1*6,p=j%1,x=1-p;switch(Math.floor(j)){case 0:O[0]=1,O[1]=p,O[2]=0;break;case 1:O[0]=x,O[1]=1,O[2]=0;break;case 2:O[0]=0,O[1]=1,O[2]=p;break;case 3:O[0]=0,O[1]=x,O[2]=1;break;case 4:O[0]=p,O[1]=0,O[2]=1;break;default:O[0]=1,O[1]=0,O[2]=x}return C=(1-u)*v,[255*(u*O[0]+C),255*(u*O[1]+C),255*(u*O[2]+C)]},b.hcg.hsv=function(o){var s=o[1]/100,u=s+o[2]/100*(1-s),v=0;return u>0&&(v=s/u),[o[0],100*v,100*u]},b.hcg.hsl=function(o){var s=o[1]/100,u=o[2]/100*(1-s)+.5*s,v=0;return u>0&&u<.5?v=s/(2*u):u>=.5&&u<1&&(v=s/(2*(1-u))),[o[0],100*v,100*u]},b.hcg.hwb=function(o){var s=o[1]/100,u=s+o[2]/100*(1-s);return[o[0],100*(u-s),100*(1-u)]},b.hwb.hcg=function(o){var s=o[1]/100,u=1-o[2]/100,v=u-s,C=0;return v<1&&(C=(u-v)/(1-v)),[o[0],100*v,100*C]},b.apple.rgb=function(o){return[o[0]/65535*255,o[1]/65535*255,o[2]/65535*255]},b.rgb.apple=function(o){return[o[0]/255*65535,o[1]/255*65535,o[2]/255*65535]},b.gray.rgb=function(o){return[o[0]/100*255,o[0]/100*255,o[0]/100*255]},b.gray.hsl=b.gray.hsv=function(o){return[0,0,o[0]]},b.gray.hwb=function(o){return[0,100,o[0]]},b.gray.cmyk=function(o){return[0,0,0,o[0]]},b.gray.lab=function(o){return[o[0],0,0]},b.gray.hex=function(o){var s=255&Math.round(o[0]/100*255),u=((s<<16)+(s<<8)+s).toString(16).toUpperCase();return"000000".substring(u.length)+u},b.rgb.gray=function(o){return[(o[0]+o[1]+o[2])/3/255*100]}},function(a,M,t){var n=t(96),d=t(127),S=t(101),b=t(301),h=t(307),E=t(169),T=t(170),o=t(310),s=t(311),u=t(174),v=t(312),C=t(75),O=t(316),j=t(317),p=t(179),x=t(26),A=t(74),k=t(321),X=t(43),et=t(323),tt=t(58),ft=t(66),st={};st["[object Arguments]"]=st["[object Array]"]=st["[object ArrayBuffer]"]=st["[object DataView]"]=st["[object Boolean]"]=st["[object Date]"]=st["[object Float32Array]"]=st["[object Float64Array]"]=st["[object Int8Array]"]=st["[object Int16Array]"]=st["[object Int32Array]"]=st["[object Map]"]=st["[object Number]"]=st["[object Object]"]=st["[object RegExp]"]=st["[object Set]"]=st["[object String]"]=st["[object Symbol]"]=st["[object Uint8Array]"]=st["[object Uint8ClampedArray]"]=st["[object Uint16Array]"]=st["[object Uint32Array]"]=!0,st["[object Error]"]=st["[object Function]"]=st["[object WeakMap]"]=!1,a.exports=function vt(mt,pt,rt,Bt,It,St){var H,ot=1&pt,yt=2&pt,xt=4&pt;if(rt&&(H=It?rt(mt,Bt,It,St):rt(mt)),H!==void 0)return H;if(!X(mt))return mt;var wt=x(mt);if(wt){if(H=O(mt),!ot)return T(mt,H)}else{var Q=C(mt),ct=Q=="[object Function]"||Q=="[object GeneratorFunction]";if(A(mt))return E(mt,ot);if(Q=="[object Object]"||Q=="[object Arguments]"||ct&&!It){if(H=yt||ct?{}:p(mt),!ot)return yt?s(mt,h(H,mt)):o(mt,b(H,mt))}else{if(!st[Q])return It?mt:{};H=j(mt,Q,ot)}}St||(St=new n);var it=St.get(mt);if(it)return it;St.set(mt,H),et(mt)?mt.forEach(function(D){H.add(vt(D,pt,rt,D,mt,St))}):k(mt)&&mt.forEach(function(D,W){H.set(W,vt(D,pt,rt,W,mt,St))});var U=wt?void 0:(xt?yt?v:u:yt?ft:tt)(mt);return d(U||mt,function(D,W){U&&(D=mt[W=D]),S(H,W,vt(D,pt,rt,W,mt,St))}),H}},function(a,M,t){(function(n){function d(b){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(b)}var S=(n===void 0?"undefined":d(n))=="object"&&n&&n.Object===Object&&n;a.exports=S}).call(this,t(164))},function(a,M){function t(d){return(t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(d)}var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(d){(typeof window=="undefined"?"undefined":t(window))==="object"&&(n=window)}a.exports=n},function(a,M){var t=Function.prototype.toString;a.exports=function(n){if(n!=null){try{return t.call(n)}catch(d){}try{return n+""}catch(d){}}return""}},function(a,M,t){var n=t(65),d=function(){try{var S=n(Object,"defineProperty");return S({},"",{}),S}catch(b){}}();a.exports=d},function(a,M,t){var n=t(302),d=t(86),S=t(26),b=t(74),h=t(103),E=t(44),T=Object.prototype.hasOwnProperty;a.exports=function(o,s){var u=S(o),v=!u&&d(o),C=!u&&!v&&b(o),O=!u&&!v&&!C&&E(o),j=u||v||C||O,p=j?n(o.length,String):[],x=p.length;for(var A in o)!s&&!T.call(o,A)||j&&(A=="length"||C&&(A=="offset"||A=="parent")||O&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||h(A,x))||p.push(A);return p}},function(a,M){a.exports=function(t,n){return function(d){return t(n(d))}}},function(a,M,t){(function(n){function d(o){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(o)}var S=t(47),b=d(M)=="object"&&M&&!M.nodeType&&M,h=b&&d(n)=="object"&&n&&!n.nodeType&&n,E=h&&h.exports===b?S.Buffer:void 0,T=E?E.allocUnsafe:void 0;n.exports=function(o,s){if(s)return o.slice();var u=o.length,v=T?T(u):new o.constructor(u);return o.copy(v),v}}).call(this,t(87)(a))},function(a,M){a.exports=function(t,n){var d=-1,S=t.length;for(n||(n=Array(S));++d<S;)n[d]=t[d];return n}},function(a,M){a.exports=function(t,n){for(var d=-1,S=t==null?0:t.length,b=0,h=[];++d<S;){var E=t[d];n(E,d,t)&&(h[b++]=E)}return h}},function(a,M){a.exports=function(){return[]}},function(a,M,t){var n=t(132),d=t(106),S=t(131),b=t(172),h=Object.getOwnPropertySymbols?function(E){for(var T=[];E;)n(T,S(E)),E=d(E);return T}:b;a.exports=h},function(a,M,t){var n=t(175),d=t(131),S=t(58);a.exports=function(b){return n(b,S,d)}},function(a,M,t){var n=t(132),d=t(26);a.exports=function(S,b,h){var E=b(S);return d(S)?E:n(E,h(S))}},function(a,M,t){var n=t(65)(t(47),"Set");a.exports=n},function(a,M,t){var n=t(47).Uint8Array;a.exports=n},function(a,M,t){var n=t(133);a.exports=function(d,S){var b=S?n(d.buffer):d.buffer;return new d.constructor(b,d.byteOffset,d.length)}},function(a,M,t){var n=t(180),d=t(106),S=t(105);a.exports=function(b){return typeof b.constructor!="function"||S(b)?{}:n(d(b))}},function(a,M,t){var n=t(43),d=Object.create,S=function(){function b(){}return function(h){if(!n(h))return{};if(d)return d(h);b.prototype=h;var E=new b;return b.prototype=void 0,E}}();a.exports=S},function(a,M,t){a.exports=t(182)},function(a,M,t){var n=t(127),d=t(107),S=t(183),b=t(26);a.exports=function(h,E){return(b(h)?n:d)(h,S(E))}},function(a,M,t){var n=t(67);a.exports=function(d){return typeof d=="function"?d:n}},function(a,M,t){var n=t(171),d=t(327),S=t(54),b=t(26);a.exports=function(h,E){return(b(h)?n:d)(h,S(E,3))}},function(a,M,t){var n=t(330),d=t(48);a.exports=function S(b,h,E,T,o){return b===h||(b==null||h==null||!d(b)&&!d(h)?b!=b&&h!=h:n(b,h,E,T,S,o))}},function(a,M,t){var n=t(187),d=t(333),S=t(188);a.exports=function(b,h,E,T,o,s){var u=1&E,v=b.length,C=h.length;if(v!=C&&!(u&&C>v))return!1;var O=s.get(b),j=s.get(h);if(O&&j)return O==h&&j==b;var p=-1,x=!0,A=2&E?new n:void 0;for(s.set(b,h),s.set(h,b);++p<v;){var k=b[p],X=h[p];if(T)var et=u?T(X,k,p,h,b,s):T(k,X,p,b,h,s);if(et!==void 0){if(et)continue;x=!1;break}if(A){if(!d(h,function(tt,ft){if(!S(A,ft)&&(k===tt||o(k,tt,E,T,s)))return A.push(ft)})){x=!1;break}}else if(k!==X&&!o(k,X,E,T,s)){x=!1;break}}return s.delete(b),s.delete(h),x}},function(a,M,t){var n=t(126),d=t(331),S=t(332);function b(h){var E=-1,T=h==null?0:h.length;for(this.__data__=new n;++E<T;)this.add(h[E])}b.prototype.add=b.prototype.push=d,b.prototype.has=S,a.exports=b},function(a,M){a.exports=function(t,n){return t.has(n)}},function(a,M,t){var n=t(43);a.exports=function(d){return d==d&&!n(d)}},function(a,M){a.exports=function(t,n){return function(d){return d!=null&&d[t]===n&&(n!==void 0||t in Object(d))}}},function(a,M,t){var n=t(343);a.exports=function(d){return d==null?"":n(d)}},function(a,M,t){var n=t(344),d=t(193);a.exports=function(S,b){return S!=null&&d(S,b,n)}},function(a,M,t){var n=t(109),d=t(86),S=t(26),b=t(103),h=t(128),E=t(88);a.exports=function(T,o,s){for(var u=-1,v=(o=n(o,T)).length,C=!1;++u<v;){var O=E(o[u]);if(!(C=T!=null&&s(T,O)))break;T=T[O]}return C||++u!=v?C:!!(v=T==null?0:T.length)&&h(v)&&b(O,v)&&(S(T)||d(T))}},function(a,M){a.exports=function(t){return function(n){return n==null?void 0:n[t]}}},function(a,M,t){var n=t(347),d=t(193);a.exports=function(S,b){return S!=null&&d(S,b,n)}},function(a,M){a.exports=function(t){return t===void 0}},function(a,M,t){var n=t(110),d=t(54),S=t(198),b=t(26);a.exports=function(h,E){return(b(h)?n:S)(h,d(E,3))}},function(a,M,t){var n=t(107),d=t(53);a.exports=function(S,b){var h=-1,E=d(S)?Array(S.length):[];return n(S,function(T,o,s){E[++h]=b(T,o,s)}),E}},function(a,M,t){var n=t(349),d=t(107),S=t(54),b=t(350),h=t(26);a.exports=function(E,T,o){var s=h(E)?n:b,u=arguments.length<3;return s(E,S(T,4),o,u,d)}},function(a,M,t){var n=t(360),d=Math.max;a.exports=function(S,b,h){return b=d(b===void 0?S.length-1:b,0),function(){for(var E=arguments,T=-1,o=d(E.length-b,0),s=Array(o);++T<o;)s[T]=E[b+T];T=-1;for(var u=Array(b+1);++T<b;)u[T]=E[T];return u[b]=h(s),n(S,this,u)}}},function(a,M,t){var n=t(361),d=t(362)(n);a.exports=d},function(a,M,t){var n=t(187),d=t(363),S=t(367),b=t(188),h=t(368),E=t(137);a.exports=function(T,o,s){var u=-1,v=d,C=T.length,O=!0,j=[],p=j;if(s)O=!1,v=S;else if(C>=200){var x=o?null:h(T);if(x)return E(x);O=!1,v=b,p=new n}else p=o?[]:j;t:for(;++u<C;){var A=T[u],k=o?o(A):A;if(A=s||A!==0?A:0,O&&k==k){for(var X=p.length;X--;)if(p[X]===k)continue t;o&&p.push(k),j.push(A)}else v(p,k,s)||(p!==j&&p.push(k),j.push(A))}return j}},function(a,M){a.exports=function(t,n,d,S){for(var b=t.length,h=d+(S?1:-1);S?h--:++h<b;)if(n(t[h],h,t))return h;return-1}},function(a,M,t){var n=t(53),d=t(48);a.exports=function(S){return d(S)&&n(S)}},function(a,M,t){var n=t(370),d=t(58);a.exports=function(S){return S==null?[]:n(S,d(S))}},function(a,M,t){var n=t(42),d=t(207);a.exports=function(b,h,E,T){return function(o,s,u,v){var C,O,j={},p=new d,x=function(k){var X=k.v!==C?k.v:k.w,et=j[X],tt=u(k),ft=O.distance+tt;if(tt<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+k+" Weight: "+tt);ft<et.distance&&(et.distance=ft,et.predecessor=C,p.decrease(X,ft))};for(o.nodes().forEach(function(A){var k=A===s?0:Number.POSITIVE_INFINITY;j[A]={distance:k},p.add(A,k)});p.size()>0&&(C=p.removeMin(),(O=j[C]).distance!==Number.POSITIVE_INFINITY);)v(C).forEach(x);return j}(b,String(h),E||S,T||function(o){return b.outEdges(o)})};var S=n.constant(1)},function(a,M,t){var n=t(42);function d(){this._arr=[],this._keyIndices={}}a.exports=d,d.prototype.size=function(){return this._arr.length},d.prototype.keys=function(){return this._arr.map(function(S){return S.key})},d.prototype.has=function(S){return n.has(this._keyIndices,S)},d.prototype.priority=function(S){var b=this._keyIndices[S];if(b!==void 0)return this._arr[b].priority},d.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},d.prototype.add=function(S,b){var h=this._keyIndices;if(S=String(S),!n.has(h,S)){var E=this._arr,T=E.length;return h[S]=T,E.push({key:S,priority:b}),this._decrease(T),!0}return!1},d.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var S=this._arr.pop();return delete this._keyIndices[S.key],this._heapify(0),S.key},d.prototype.decrease=function(S,b){var h=this._keyIndices[S];if(b>this._arr[h].priority)throw new Error("New priority is greater than current priority. Key: "+S+" Old: "+this._arr[h].priority+" New: "+b);this._arr[h].priority=b,this._decrease(h)},d.prototype._heapify=function(S){var b=this._arr,h=2*S,E=h+1,T=S;h<b.length&&(T=b[h].priority<b[T].priority?h:T,E<b.length&&(T=b[E].priority<b[T].priority?E:T),T!==S&&(this._swap(S,T),this._heapify(T)))},d.prototype._decrease=function(S){for(var b,h=this._arr,E=h[S].priority;S!==0&&!(h[b=S>>1].priority<E);)this._swap(S,b),S=b},d.prototype._swap=function(S,b){var h=this._arr,E=this._keyIndices,T=h[S],o=h[b];h[S]=o,h[b]=T,E[o.key]=S,E[T.key]=b}},function(a,M,t){var n=t(42);a.exports=function(d){var S=0,b=[],h={},E=[];return d.nodes().forEach(function(T){n.has(h,T)||function o(s){var u=h[s]={onStack:!0,lowlink:S,index:S++};if(b.push(s),d.successors(s).forEach(function(O){n.has(h,O)?h[O].onStack&&(u.lowlink=Math.min(u.lowlink,h[O].index)):(o(O),u.lowlink=Math.min(u.lowlink,h[O].lowlink))}),u.lowlink===u.index){var v,C=[];do v=b.pop(),h[v].onStack=!1,C.push(v);while(s!==v);E.push(C)}}(T)}),E}},function(a,M,t){var n=t(42);function d(b){var h={},E={},T=[];if(n.each(b.sinks(),function o(s){if(n.has(E,s))throw new S;n.has(h,s)||(E[s]=!0,h[s]=!0,n.each(b.predecessors(s),o),delete E[s],T.push(s))}),n.size(h)!==b.nodeCount())throw new S;return T}function S(){}a.exports=d,d.CycleException=S,S.prototype=new Error},function(a,M,t){var n=t(42);a.exports=function(d,S,b){n.isArray(S)||(S=[S]);var h=(d.isDirected()?d.successors:d.neighbors).bind(d),E=[],T={};return n.each(S,function(o){if(!d.hasNode(o))throw new Error("Graph does not have node: "+o);(function s(u,v,C,O,j,p){n.has(O,v)||(O[v]=!0,C||p.push(v),n.each(j(v),function(x){s(u,x,C,O,j,p)}),C&&p.push(v))})(d,o,b==="post",T,h,E)}),E}},function(a,M,t){var n=t(389);a.exports=function(d){return d?(d=n(d))===1/0||d===-1/0?17976931348623157e292*(d<0?-1:1):d==d?d:0:d===0?d:0}},function(a,M,t){var n=t(139);a.exports=function(d){return(d==null?0:d.length)?n(d,1):[]}},function(a,M,t){var n=t(102),d=t(72);a.exports=function(S,b,h){(h!==void 0&&!d(S[b],h)||h===void 0&&!(b in S))&&n(S,b,h)}},function(a,M){a.exports=function(t,n){if((n!=="constructor"||typeof t[n]!="function")&&n!="__proto__")return t[n]}},function(a,M){a.exports=function(t,n){return t<n}},function(a,M,t){"use strict";var n=t(24),d=t(46).Graph,S=t(113).slack;function b(T,o){return n.forEach(T.nodes(),function s(u){n.forEach(o.nodeEdges(u),function(v){var C=v.v,O=u===C?v.w:C;T.hasNode(O)||S(o,v)||(T.setNode(O,{}),T.setEdge(u,O,{}),s(O))})}),T.nodeCount()}function h(T,o){return n.minBy(o.edges(),function(s){if(T.hasNode(s.v)!==T.hasNode(s.w))return S(o,s)})}function E(T,o,s){n.forEach(T.nodes(),function(u){o.node(u).rank+=s})}a.exports=function(T){var o,s,u=new d({directed:!1}),v=T.nodes()[0],C=T.nodeCount();for(u.setNode(v,{});b(u,T)<C;)o=h(u,T),s=u.hasNode(o.v)?S(T,o):-S(T,o),E(u,T,s);return u}},function(a,M,t){(function(n,d){function S(h){return(S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(h)}/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var b;(function(h){(function(E){var T=(d===void 0?"undefined":S(d))==="object"?d:(typeof self=="undefined"?"undefined":S(self))==="object"?self:S(this)==="object"?this:Function("return this;")(),o=s(h);function s(u,v){return function(C,O){typeof u[C]!="function"&&Object.defineProperty(u,C,{configurable:!0,writable:!0,value:O}),v&&v(C,O)}}T.Reflect===void 0?T.Reflect=h:o=s(T.Reflect,o),function(u){var v=Object.prototype.hasOwnProperty,C=typeof Symbol=="function",O=C&&Symbol.toPrimitive!==void 0?Symbol.toPrimitive:"@@toPrimitive",j=C&&Symbol.iterator!==void 0?Symbol.iterator:"@@iterator",p=typeof Object.create=="function",x={__proto__:[]}instanceof Array,A=!p&&!x,k={create:p?function(){return P(Object.create(null))}:x?function(){return P({__proto__:null})}:function(){return P({})},has:A?function(m,y){return v.call(m,y)}:function(m,y){return y in m},get:A?function(m,y){return v.call(m,y)?m[y]:void 0}:function(m,y){return m[y]}},X=Object.getPrototypeOf(Function),et=(n===void 0?"undefined":S(n))==="object"&&n.env&&n.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",tt=et||typeof Map!="function"||typeof Map.prototype.entries!="function"?function(){var m={},y=[],V=function(){function Mt(Lt,At,Ct){this._index=0,this._keys=Lt,this._values=At,this._selector=Ct}return Mt.prototype["@@iterator"]=function(){return this},Mt.prototype[j]=function(){return this},Mt.prototype.next=function(){var Lt=this._index;if(Lt>=0&&Lt<this._keys.length){var At=this._selector(this._keys[Lt],this._values[Lt]);return Lt+1>=this._keys.length?(this._index=-1,this._keys=y,this._values=y):this._index++,{value:At,done:!1}}return{value:void 0,done:!0}},Mt.prototype.throw=function(Lt){throw this._index>=0&&(this._index=-1,this._keys=y,this._values=y),Lt},Mt.prototype.return=function(Lt){return this._index>=0&&(this._index=-1,this._keys=y,this._values=y),{value:Lt,done:!0}},Mt}();return function(){function Mt(){this._keys=[],this._values=[],this._cacheKey=m,this._cacheIndex=-2}return Object.defineProperty(Mt.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Mt.prototype.has=function(Lt){return this._find(Lt,!1)>=0},Mt.prototype.get=function(Lt){var At=this._find(Lt,!1);return At>=0?this._values[At]:void 0},Mt.prototype.set=function(Lt,At){var Ct=this._find(Lt,!0);return this._values[Ct]=At,this},Mt.prototype.delete=function(Lt){var At=this._find(Lt,!1);if(At>=0){for(var Ct=this._keys.length,Ot=At+1;Ot<Ct;Ot++)this._keys[Ot-1]=this._keys[Ot],this._values[Ot-1]=this._values[Ot];return this._keys.length--,this._values.length--,Lt===this._cacheKey&&(this._cacheKey=m,this._cacheIndex=-2),!0}return!1},Mt.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=m,this._cacheIndex=-2},Mt.prototype.keys=function(){return new V(this._keys,this._values,J)},Mt.prototype.values=function(){return new V(this._keys,this._values,ht)},Mt.prototype.entries=function(){return new V(this._keys,this._values,gt)},Mt.prototype["@@iterator"]=function(){return this.entries()},Mt.prototype[j]=function(){return this.entries()},Mt.prototype._find=function(Lt,At){return this._cacheKey!==Lt&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Lt)),this._cacheIndex<0&&At&&(this._cacheIndex=this._keys.length,this._keys.push(Lt),this._values.push(void 0)),this._cacheIndex},Mt}();function J(Mt,Lt){return Mt}function ht(Mt,Lt){return Lt}function gt(Mt,Lt){return[Mt,Lt]}}():Map,ft=et||typeof Set!="function"||typeof Set.prototype.entries!="function"?function(){function m(){this._map=new tt}return Object.defineProperty(m.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),m.prototype.has=function(y){return this._map.has(y)},m.prototype.add=function(y){return this._map.set(y,y),this},m.prototype.delete=function(y){return this._map.delete(y)},m.prototype.clear=function(){this._map.clear()},m.prototype.keys=function(){return this._map.keys()},m.prototype.values=function(){return this._map.values()},m.prototype.entries=function(){return this._map.entries()},m.prototype["@@iterator"]=function(){return this.keys()},m.prototype[j]=function(){return this.keys()},m}():Set,st=new(et||typeof WeakMap!="function"?function(){var m=k.create(),y=V();return function(){function Mt(){this._key=V()}return Mt.prototype.has=function(Lt){var At=J(Lt,!1);return At!==void 0&&k.has(At,this._key)},Mt.prototype.get=function(Lt){var At=J(Lt,!1);return At!==void 0?k.get(At,this._key):void 0},Mt.prototype.set=function(Lt,At){return J(Lt,!0)[this._key]=At,this},Mt.prototype.delete=function(Lt){var At=J(Lt,!1);return At!==void 0&&delete At[this._key]},Mt.prototype.clear=function(){this._key=V()},Mt}();function V(){var Mt;do Mt="@@WeakMap@@"+gt();while(k.has(m,Mt));return m[Mt]=!0,Mt}function J(Mt,Lt){if(!v.call(Mt,y)){if(!Lt)return;Object.defineProperty(Mt,y,{value:k.create()})}return Mt[y]}function ht(Mt,Lt){for(var At=0;At<Lt;++At)Mt[At]=255*Math.random()|0;return Mt}function gt(){var Mt,Lt=(Mt=16,typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array(Mt)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array(Mt)):ht(new Uint8Array(Mt),Mt):ht(new Array(Mt),Mt));Lt[6]=79&Lt[6]|64,Lt[8]=191&Lt[8]|128;for(var At="",Ct=0;Ct<16;++Ct){var Ot=Lt[Ct];Ct!==4&&Ct!==6&&Ct!==8||(At+="-"),Ot<16&&(At+="0"),At+=Ot.toString(16).toLowerCase()}return At}}():WeakMap);function vt(m,y,V){var J=st.get(m);if(St(J)){if(!V)return;J=new tt,st.set(m,J)}var ht=J.get(y);if(St(ht)){if(!V)return;ht=new tt,J.set(y,ht)}return ht}function mt(m,y,V){var J=vt(y,V,!1);return!St(J)&&!!J.has(m)}function pt(m,y,V){var J=vt(y,V,!1);if(!St(J))return J.get(m)}function rt(m,y,V,J){vt(V,J,!0).set(m,y)}function Bt(m,y){var V=[],J=vt(m,y,!1);if(St(J))return V;for(var ht=function(At){var Ct=it(At,j);if(!Q(Ct))throw new TypeError;var Ot=Ct.call(At);if(!ot(Ot))throw new TypeError;return Ot}(J.keys()),gt=0;;){var Mt=U(ht);if(!Mt)return V.length=gt,V;var Lt=Mt.value;try{V[gt]=Lt}catch(At){try{D(ht)}finally{throw At}}gt++}}function It(m){if(m===null)return 1;switch(S(m)){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return m===null?1:6;default:return 6}}function St(m){return m===void 0}function H(m){return m===null}function ot(m){return S(m)==="object"?m!==null:typeof m=="function"}function yt(m,y){switch(It(m)){case 0:case 1:case 2:case 3:case 4:case 5:return m}var V=y===3?"string":y===5?"number":"default",J=it(m,O);if(J!==void 0){var ht=J.call(m,V);if(ot(ht))throw new TypeError;return ht}return function(gt,Mt){if(Mt==="string"){var Lt=gt.toString;if(Q(Lt)&&!ot(Ct=Lt.call(gt))||Q(At=gt.valueOf)&&!ot(Ct=At.call(gt)))return Ct}else{var At;if(Q(At=gt.valueOf)&&!ot(Ct=At.call(gt)))return Ct;var Ct,Ot=gt.toString;if(Q(Ot)&&!ot(Ct=Ot.call(gt)))return Ct}throw new TypeError}(m,V==="default"?"number":V)}function xt(m){var y=yt(m,3);return S(y)==="symbol"?y:function(V){return""+V}(y)}function wt(m){return Array.isArray?Array.isArray(m):m instanceof Object?m instanceof Array:Object.prototype.toString.call(m)==="[object Array]"}function Q(m){return typeof m=="function"}function ct(m){return typeof m=="function"}function it(m,y){var V=m[y];if(V!=null){if(!Q(V))throw new TypeError;return V}}function U(m){var y=m.next();return!y.done&&y}function D(m){var y=m.return;y&&y.call(m)}function W(m){var y=Object.getPrototypeOf(m);if(typeof m!="function"||m===X||y!==X)return y;var V=m.prototype,J=V&&Object.getPrototypeOf(V);if(J==null||J===Object.prototype)return y;var ht=J.constructor;return typeof ht!="function"||ht===m?y:ht}function P(m){return m.__=void 0,delete m.__,m}u("decorate",function(m,y,V,J){if(St(V)){if(!wt(m))throw new TypeError;if(!ct(y))throw new TypeError;return function(ht,gt){for(var Mt=ht.length-1;Mt>=0;--Mt){var Lt=(0,ht[Mt])(gt);if(!St(Lt)&&!H(Lt)){if(!ct(Lt))throw new TypeError;gt=Lt}}return gt}(m,y)}if(!wt(m))throw new TypeError;if(!ot(y))throw new TypeError;if(!ot(J)&&!St(J)&&!H(J))throw new TypeError;return H(J)&&(J=void 0),function(ht,gt,Mt,Lt){for(var At=ht.length-1;At>=0;--At){var Ct=(0,ht[At])(gt,Mt,Lt);if(!St(Ct)&&!H(Ct)){if(!ot(Ct))throw new TypeError;Lt=Ct}}return Lt}(m,y,V=xt(V),J)}),u("metadata",function(m,y){return function(V,J){if(!ot(V))throw new TypeError;if(!St(J)&&!function(ht){switch(It(ht)){case 3:case 4:return!0;default:return!1}}(J))throw new TypeError;rt(m,y,V,J)}}),u("defineMetadata",function(m,y,V,J){if(!ot(V))throw new TypeError;return St(J)||(J=xt(J)),rt(m,y,V,J)}),u("hasMetadata",function(m,y,V){if(!ot(y))throw new TypeError;return St(V)||(V=xt(V)),function J(ht,gt,Mt){if(mt(ht,gt,Mt))return!0;var Lt=W(gt);return!H(Lt)&&J(ht,Lt,Mt)}(m,y,V)}),u("hasOwnMetadata",function(m,y,V){if(!ot(y))throw new TypeError;return St(V)||(V=xt(V)),mt(m,y,V)}),u("getMetadata",function(m,y,V){if(!ot(y))throw new TypeError;return St(V)||(V=xt(V)),function J(ht,gt,Mt){if(mt(ht,gt,Mt))return pt(ht,gt,Mt);var Lt=W(gt);return H(Lt)?void 0:J(ht,Lt,Mt)}(m,y,V)}),u("getOwnMetadata",function(m,y,V){if(!ot(y))throw new TypeError;return St(V)||(V=xt(V)),pt(m,y,V)}),u("getMetadataKeys",function(m,y){if(!ot(m))throw new TypeError;return St(y)||(y=xt(y)),function V(J,ht){var gt=Bt(J,ht),Mt=W(J);if(Mt===null)return gt;var Lt=V(Mt,ht);if(Lt.length<=0)return gt;if(gt.length<=0)return Lt;for(var At=new ft,Ct=[],Ot=0,Dt=gt;Ot<Dt.length;Ot++){var Ft=Dt[Ot];At.has(Ft)||(At.add(Ft),Ct.push(Ft))}for(var Xt=0,Rt=Lt;Xt<Rt.length;Xt++)Ft=Rt[Xt],At.has(Ft)||(At.add(Ft),Ct.push(Ft));return Ct}(m,y)}),u("getOwnMetadataKeys",function(m,y){if(!ot(m))throw new TypeError;return St(y)||(y=xt(y)),Bt(m,y)}),u("deleteMetadata",function(m,y,V){if(!ot(y))throw new TypeError;St(V)||(V=xt(V));var J=vt(y,V,!1);if(St(J)||!J.delete(m))return!1;if(J.size>0)return!0;var ht=st.get(y);return ht.delete(V),ht.size>0||st.delete(y),!0})}(o)})()})(b||(b={}))}).call(this,t(158),t(164))},function(a,M,t){var n=t(219);a.exports=function(d,S){if(d){if(typeof d=="string")return n(d,S);var b=Object.prototype.toString.call(d).slice(8,-1);return b==="Object"&&d.constructor&&(b=d.constructor.name),b==="Map"||b==="Set"?Array.from(d):b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?n(d,S):void 0}}},function(a,M){a.exports=function(t,n){(n==null||n>t.length)&&(n=t.length);for(var d=0,S=new Array(n);d<n;d++)S[d]=t[d];return S}},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.MetadataReader=void 0;var n=t(32),d=function(){function S(){}return S.prototype.getConstructorMetadata=function(b){return{compilerGeneratedMetadata:Reflect.getMetadata(n.PARAM_TYPES,b),userGeneratedMetadata:Reflect.getMetadata(n.TAGGED,b)||{}}},S.prototype.getPropertiesMetadata=function(b){return Reflect.getMetadata(n.TAGGED_PROP,b)||[]},S}();M.MetadataReader=d},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.isStackOverflowExeption=void 0;var n=t(41);M.isStackOverflowExeption=function(d){return d instanceof RangeError||d.message===n.STACK_OVERFLOW}},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.inject=M.LazyServiceIdentifer=void 0;var n=t(41),d=t(32),S=t(49),b=t(59),h=function(){function E(T){this._cb=T}return E.prototype.unwrap=function(){return this._cb()},E}();M.LazyServiceIdentifer=h,M.inject=function(E){return function(T,o,s){if(E===void 0)throw new Error(n.UNDEFINED_INJECT_ANNOTATION(T.name));var u=new S.Metadata(d.INJECT_TAG,E);typeof s=="number"?b.tagParameter(T,o,s,u):b.tagProperty(T,o,u)}}},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Target=void 0;var n=t(32),d=t(68),S=t(49),b=t(453),h=function(){function E(T,o,s,u){this.id=d.id(),this.type=T,this.serviceIdentifier=s,this.name=new b.QueryableString(o||""),this.metadata=new Array;var v=null;typeof u=="string"?v=new S.Metadata(n.NAMED_TAG,u):u instanceof S.Metadata&&(v=u),v!==null&&this.metadata.push(v)}return E.prototype.hasTag=function(T){for(var o=0,s=this.metadata;o<s.length;o++)if(s[o].key===T)return!0;return!1},E.prototype.isArray=function(){return this.hasTag(n.MULTI_INJECT_TAG)},E.prototype.matchesArray=function(T){return this.matchesTag(n.MULTI_INJECT_TAG)(T)},E.prototype.isNamed=function(){return this.hasTag(n.NAMED_TAG)},E.prototype.isTagged=function(){return this.metadata.some(function(T){return T.key!==n.INJECT_TAG&&T.key!==n.MULTI_INJECT_TAG&&T.key!==n.NAME_TAG&&T.key!==n.UNMANAGED_TAG&&T.key!==n.NAMED_TAG})},E.prototype.isOptional=function(){return this.matchesTag(n.OPTIONAL_TAG)(!0)},E.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(T){return T.key===n.NAMED_TAG})[0]:null},E.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(T){return T.key!==n.INJECT_TAG&&T.key!==n.MULTI_INJECT_TAG&&T.key!==n.NAME_TAG&&T.key!==n.UNMANAGED_TAG&&T.key!==n.NAMED_TAG}):null},E.prototype.matchesNamedTag=function(T){return this.matchesTag(n.NAMED_TAG)(T)},E.prototype.matchesTag=function(T){var o=this;return function(s){for(var u=0,v=o.metadata;u<v.length;u++){var C=v[u];if(C.key===T&&C.value===s)return!0}return!1}},E}();M.Target=h},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.BindingWhenOnSyntax=void 0;var n=t(141),d=t(142),S=function(){function b(h){this._binding=h,this._bindingWhenSyntax=new d.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new n.BindingOnSyntax(this._binding)}return b.prototype.when=function(h){return this._bindingWhenSyntax.when(h)},b.prototype.whenTargetNamed=function(h){return this._bindingWhenSyntax.whenTargetNamed(h)},b.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},b.prototype.whenTargetTagged=function(h,E){return this._bindingWhenSyntax.whenTargetTagged(h,E)},b.prototype.whenInjectedInto=function(h){return this._bindingWhenSyntax.whenInjectedInto(h)},b.prototype.whenParentNamed=function(h){return this._bindingWhenSyntax.whenParentNamed(h)},b.prototype.whenParentTagged=function(h,E){return this._bindingWhenSyntax.whenParentTagged(h,E)},b.prototype.whenAnyAncestorIs=function(h){return this._bindingWhenSyntax.whenAnyAncestorIs(h)},b.prototype.whenNoAncestorIs=function(h){return this._bindingWhenSyntax.whenNoAncestorIs(h)},b.prototype.whenAnyAncestorNamed=function(h){return this._bindingWhenSyntax.whenAnyAncestorNamed(h)},b.prototype.whenAnyAncestorTagged=function(h,E){return this._bindingWhenSyntax.whenAnyAncestorTagged(h,E)},b.prototype.whenNoAncestorNamed=function(h){return this._bindingWhenSyntax.whenNoAncestorNamed(h)},b.prototype.whenNoAncestorTagged=function(h,E){return this._bindingWhenSyntax.whenNoAncestorTagged(h,E)},b.prototype.whenAnyAncestorMatches=function(h){return this._bindingWhenSyntax.whenAnyAncestorMatches(h)},b.prototype.whenNoAncestorMatches=function(h){return this._bindingWhenSyntax.whenNoAncestorMatches(h)},b.prototype.onActivation=function(h){return this._bindingOnSyntax.onActivation(h)},b}();M.BindingWhenOnSyntax=S},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.typeConstraint=M.namedConstraint=M.taggedConstraint=M.traverseAncerstors=void 0;var n=t(32),d=t(49);M.traverseAncerstors=function h(E,T){var o=E.parentRequest;return o!==null&&(!!T(o)||h(o,T))};var S=function(E){return function(T){var o=function(u){return u!==null&&u.target!==null&&u.target.matchesTag(E)(T)};return o.metaData=new d.Metadata(E,T),o}};M.taggedConstraint=S;var b=S(n.NAMED_TAG);M.namedConstraint=b,M.typeConstraint=function(h){return function(E){var T=null;if(E!==null){if(T=E.bindings[0],typeof h=="string")return T.serviceIdentifier===h;var o=E.bindings[0].implementationType;return h===o}return!1}}},function(a,M){},function(a,M){},function(a,M){},function(a,M){},function(a,M){},function(a,M){},function(a,M){},function(a,M){a.exports=1e-6},function(a,M){a.exports=function(){var t=new Float32Array(2);return t[0]=0,t[1]=0,t}},function(a,M){a.exports=function(t,n,d){return t[0]=n,t[1]=d,t}},function(a,M){a.exports=function(t,n,d){return t[0]=n[0]+d[0],t[1]=n[1]+d[1],t}},function(a,M){a.exports=function(t,n,d){return t[0]=n[0]*d[0],t[1]=n[1]*d[1],t}},function(a,M){a.exports=function(t,n,d){return t[0]=n[0]/d[0],t[1]=n[1]/d[1],t}},function(a,M){a.exports=function(t,n){var d=n[0]-t[0],S=n[1]-t[1];return Math.sqrt(d*d+S*S)}},function(a,M){a.exports=function(t,n){var d=n[0]-t[0],S=n[1]-t[1];return d*d+S*S}},function(a,M){a.exports=function(t){var n=t[0],d=t[1];return Math.sqrt(n*n+d*d)}},function(a,M){a.exports=function(t){var n=t[0],d=t[1];return n*n+d*d}},function(a,M){a.exports=function(t,n){var d=n[0],S=n[1],b=d*d+S*S;return b>0&&(b=1/Math.sqrt(b),t[0]=n[0]*b,t[1]=n[1]*b),t}},function(a,M){a.exports=function(t,n){return t[0]*n[0]+t[1]*n[1]}},function(a,M){},function(a,M){},function(a,M,t){"use strict";var n={};t.r(n),t.d(n,"easeLinear",function(){return mt}),t.d(n,"easeQuad",function(){return Bt}),t.d(n,"easeQuadIn",function(){return pt}),t.d(n,"easeQuadOut",function(){return rt}),t.d(n,"easeQuadInOut",function(){return Bt}),t.d(n,"easeCubic",function(){return H}),t.d(n,"easeCubicIn",function(){return It}),t.d(n,"easeCubicOut",function(){return St}),t.d(n,"easeCubicInOut",function(){return H}),t.d(n,"easePoly",function(){return xt}),t.d(n,"easePolyIn",function(){return ot}),t.d(n,"easePolyOut",function(){return yt}),t.d(n,"easePolyInOut",function(){return xt}),t.d(n,"easeSin",function(){return U}),t.d(n,"easeSinIn",function(){return ct}),t.d(n,"easeSinOut",function(){return it}),t.d(n,"easeSinInOut",function(){return U}),t.d(n,"easeExp",function(){return m}),t.d(n,"easeExpIn",function(){return W}),t.d(n,"easeExpOut",function(){return P}),t.d(n,"easeExpInOut",function(){return m}),t.d(n,"easeCircle",function(){return J}),t.d(n,"easeCircleIn",function(){return y}),t.d(n,"easeCircleOut",function(){return V}),t.d(n,"easeCircleInOut",function(){return J}),t.d(n,"easeBounce",function(){return Mt}),t.d(n,"easeBounceIn",function(){return gt}),t.d(n,"easeBounceOut",function(){return Mt}),t.d(n,"easeBounceInOut",function(){return Lt}),t.d(n,"easeBack",function(){return Ot}),t.d(n,"easeBackIn",function(){return At}),t.d(n,"easeBackOut",function(){return Ct}),t.d(n,"easeBackInOut",function(){return Ot}),t.d(n,"easeElastic",function(){return Xt}),t.d(n,"easeElasticIn",function(){return Ft}),t.d(n,"easeElasticOut",function(){return Xt}),t.d(n,"easeElasticInOut",function(){return Rt});var d=t(1),S=t(120),b=t(118),h=t(19),E=t(0);function T(ue){return(T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Qt){return typeof Qt}:function(Qt){return Qt&&typeof Symbol=="function"&&Qt.constructor===Symbol&&Qt!==Symbol.prototype?"symbol":typeof Qt})(ue)}var o,s,u=0,v=0,C=0,O=0,j=0,p=0,x=(typeof performance=="undefined"?"undefined":T(performance))==="object"&&performance.now?performance:Date,A=(typeof window=="undefined"?"undefined":T(window))==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(ue){setTimeout(ue,17)};function k(){return j||(A(X),j=x.now()+p)}function X(){j=0}function et(){this._call=this._time=this._next=null}function tt(ue,Qt,ne){var Ce=new et;return Ce.restart(ue,Qt,ne),Ce}function ft(){j=(O=x.now())+p,u=v=0;try{(function(){k(),++u;for(var ue,Qt=o;Qt;)(ue=j-Qt._time)>=0&&Qt._call.call(null,ue),Qt=Qt._next;--u})()}finally{u=0,function(){for(var ue,Qt,ne=o,Ce=1/0;ne;)ne._call?(Ce>ne._time&&(Ce=ne._time),ue=ne,ne=ne._next):(Qt=ne._next,ne._next=null,ne=ue?ue._next=Qt:o=Qt);s=ue,vt(Ce)}(),j=0}}function st(){var ue=x.now(),Qt=ue-O;Qt>1e3&&(p-=Qt,O=ue)}function vt(ue){u||(v&&(v=clearTimeout(v)),ue-j>24?(ue<1/0&&(v=setTimeout(ft,ue-x.now()-p)),C&&(C=clearInterval(C))):(C||(O=x.now(),C=setInterval(st,1e3)),u=1,A(ft)))}function mt(ue){return+ue}function pt(ue){return ue*ue}function rt(ue){return ue*(2-ue)}function Bt(ue){return((ue*=2)<=1?ue*ue:--ue*(2-ue)+1)/2}function It(ue){return ue*ue*ue}function St(ue){return--ue*ue*ue+1}function H(ue){return((ue*=2)<=1?ue*ue*ue:(ue-=2)*ue*ue+2)/2}et.prototype=tt.prototype={constructor:et,restart:function(Qt,ne,Ce){if(typeof Qt!="function")throw new TypeError("callback is not a function");Ce=(Ce==null?k():+Ce)+(ne==null?0:+ne),this._next||s===this||(s?s._next=this:o=this,s=this),this._call=Qt,this._time=Ce,vt()},stop:function(){this._call&&(this._call=null,this._time=1/0,vt())}};var ot=function ue(Qt){function ne(Ce){return Math.pow(Ce,Qt)}return Qt=+Qt,ne.exponent=ue,ne}(3),yt=function ue(Qt){function ne(Ce){return 1-Math.pow(1-Ce,Qt)}return Qt=+Qt,ne.exponent=ue,ne}(3),xt=function ue(Qt){function ne(Ce){return((Ce*=2)<=1?Math.pow(Ce,Qt):2-Math.pow(2-Ce,Qt))/2}return Qt=+Qt,ne.exponent=ue,ne}(3),wt=Math.PI,Q=wt/2;function ct(ue){return+ue==1?1:1-Math.cos(ue*Q)}function it(ue){return Math.sin(ue*Q)}function U(ue){return(1-Math.cos(wt*ue))/2}function D(ue){return 1.0009775171065494*(Math.pow(2,-10*ue)-.0009765625)}function W(ue){return D(1-+ue)}function P(ue){return 1-D(ue)}function m(ue){return((ue*=2)<=1?D(1-ue):2-D(ue-1))/2}function y(ue){return 1-Math.sqrt(1-ue*ue)}function V(ue){return Math.sqrt(1- --ue*ue)}function J(ue){return((ue*=2)<=1?1-Math.sqrt(1-ue*ue):Math.sqrt(1-(ue-=2)*ue)+1)/2}var ht=7.5625;function gt(ue){return 1-Mt(1-ue)}function Mt(ue){return(ue=+ue)<4/11?ht*ue*ue:ue<8/11?ht*(ue-=6/11)*ue+3/4:ue<10/11?ht*(ue-=9/11)*ue+15/16:ht*(ue-=21/22)*ue+63/64}function Lt(ue){return((ue*=2)<=1?1-Mt(1-ue):Mt(ue-1)+1)/2}var At=function ue(Qt){function ne(Ce){return(Ce=+Ce)*Ce*(Qt*(Ce-1)+Ce)}return Qt=+Qt,ne.overshoot=ue,ne}(1.70158),Ct=function ue(Qt){function ne(Ce){return--Ce*Ce*((Ce+1)*Qt+Ce)+1}return Qt=+Qt,ne.overshoot=ue,ne}(1.70158),Ot=function ue(Qt){function ne(Ce){return((Ce*=2)<1?Ce*Ce*((Qt+1)*Ce-Qt):(Ce-=2)*Ce*((Qt+1)*Ce+Qt)+2)/2}return Qt=+Qt,ne.overshoot=ue,ne}(1.70158),Dt=2*Math.PI,Ft=function ue(Qt,ne){var Ce=Math.asin(1/(Qt=Math.max(1,Qt)))*(ne/=Dt);function en(kn){return Qt*D(- --kn)*Math.sin((Ce-kn)/ne)}return en.amplitude=function(kn){return ue(kn,ne*Dt)},en.period=function(kn){return ue(Qt,kn)},en}(1,.3),Xt=function ue(Qt,ne){var Ce=Math.asin(1/(Qt=Math.max(1,Qt)))*(ne/=Dt);function en(kn){return 1-Qt*D(kn=+kn)*Math.sin((kn+Ce)/ne)}return en.amplitude=function(kn){return ue(kn,ne*Dt)},en.period=function(kn){return ue(Qt,kn)},en}(1,.3),Rt=function ue(Qt,ne){var Ce=Math.asin(1/(Qt=Math.max(1,Qt)))*(ne/=Dt);function en(kn){return((kn=2*kn-1)<0?Qt*D(-kn)*Math.sin((Ce-kn)/ne):2-Qt*D(kn)*Math.sin((Ce+kn)/ne))/2}return en.amplitude=function(kn){return ue(kn,ne*Dt)},en.period=function(kn){return ue(Qt,kn)},en}(1,.3),Kt=function(Qt,ne,Ce){Qt.prototype=ne.prototype=Ce,Ce.constructor=Qt};function $t(ue,Qt){var ne=Object.create(ue.prototype);for(var Ce in Qt)ne[Ce]=Qt[Ce];return ne}function le(){}var Me="\\s*([+-]?\\d+)\\s*",on="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",hn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Cn=/^#([0-9a-f]{3,8})$/,He=new RegExp("^rgb\\("+[Me,Me,Me]+"\\)$"),mn=new RegExp("^rgb\\("+[hn,hn,hn]+"\\)$"),dn=new RegExp("^rgba\\("+[Me,Me,Me,on]+"\\)$"),Un=new RegExp("^rgba\\("+[hn,hn,hn,on]+"\\)$"),Xn=new RegExp("^hsl\\("+[on,hn,hn]+"\\)$"),Hn=new RegExp("^hsla\\("+[on,hn,hn,on]+"\\)$"),_n={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $n(){return this.rgb().formatHex()}function ir(){return this.rgb().formatRgb()}function dr(ue){var Qt,ne;return ue=(ue+"").trim().toLowerCase(),(Qt=Cn.exec(ue))?(ne=Qt[1].length,Qt=parseInt(Qt[1],16),ne===6?xr(Qt):ne===3?new Dr(Qt>>8&15|Qt>>4&240,Qt>>4&15|240&Qt,(15&Qt)<<4|15&Qt,1):ne===8?Qr(Qt>>24&255,Qt>>16&255,Qt>>8&255,(255&Qt)/255):ne===4?Qr(Qt>>12&15|Qt>>8&240,Qt>>8&15|Qt>>4&240,Qt>>4&15|240&Qt,((15&Qt)<<4|15&Qt)/255):null):(Qt=He.exec(ue))?new Dr(Qt[1],Qt[2],Qt[3],1):(Qt=mn.exec(ue))?new Dr(255*Qt[1]/100,255*Qt[2]/100,255*Qt[3]/100,1):(Qt=dn.exec(ue))?Qr(Qt[1],Qt[2],Qt[3],Qt[4]):(Qt=Un.exec(ue))?Qr(255*Qt[1]/100,255*Qt[2]/100,255*Qt[3]/100,Qt[4]):(Qt=Xn.exec(ue))?Za(Qt[1],Qt[2]/100,Qt[3]/100,1):(Qt=Hn.exec(ue))?Za(Qt[1],Qt[2]/100,Qt[3]/100,Qt[4]):_n.hasOwnProperty(ue)?xr(_n[ue]):ue==="transparent"?new Dr(NaN,NaN,NaN,0):null}function xr(ue){return new Dr(ue>>16&255,ue>>8&255,255&ue,1)}function Qr(ue,Qt,ne,Ce){return Ce<=0&&(ue=Qt=ne=NaN),new Dr(ue,Qt,ne,Ce)}function Mr(ue){return ue instanceof le||(ue=dr(ue)),ue?new Dr((ue=ue.rgb()).r,ue.g,ue.b,ue.opacity):new Dr}function Er(ue,Qt,ne,Ce){return arguments.length===1?Mr(ue):new Dr(ue,Qt,ne,Ce==null?1:Ce)}function Dr(ue,Qt,ne,Ce){this.r=+ue,this.g=+Qt,this.b=+ne,this.opacity=+Ce}function hi(){return"#"+oa(this.r)+oa(this.g)+oa(this.b)}function Wi(){var ue=this.opacity;return((ue=isNaN(ue)?1:Math.max(0,Math.min(1,ue)))===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(ue===1?")":", "+ue+")")}function oa(ue){return((ue=Math.max(0,Math.min(255,Math.round(ue)||0)))<16?"0":"")+ue.toString(16)}function Za(ue,Qt,ne,Ce){return Ce<=0?ue=Qt=ne=NaN:ne<=0||ne>=1?ue=Qt=NaN:Qt<=0&&(ue=NaN),new Ji(ue,Qt,ne,Ce)}function ao(ue){if(ue instanceof Ji)return new Ji(ue.h,ue.s,ue.l,ue.opacity);if(ue instanceof le||(ue=dr(ue)),!ue)return new Ji;if(ue instanceof Ji)return ue;var Qt=(ue=ue.rgb()).r/255,ne=ue.g/255,Ce=ue.b/255,en=Math.min(Qt,ne,Ce),kn=Math.max(Qt,ne,Ce),sr=NaN,pr=kn-en,ln=(kn+en)/2;return pr?(sr=Qt===kn?(ne-Ce)/pr+6*(ne<Ce):ne===kn?(Ce-Qt)/pr+2:(Qt-ne)/pr+4,pr/=ln<.5?kn+en:2-kn-en,sr*=60):pr=ln>0&&ln<1?0:sr,new Ji(sr,pr,ln,ue.opacity)}function Ji(ue,Qt,ne,Ce){this.h=+ue,this.s=+Qt,this.l=+ne,this.opacity=+Ce}function Ya(ue,Qt,ne){return 255*(ue<60?Qt+(ne-Qt)*ue/60:ue<180?ne:ue<240?Qt+(ne-Qt)*(240-ue)/60:Qt)}function Ca(ue,Qt,ne,Ce,en){var kn=ue*ue,sr=kn*ue;return((1-3*ue+3*kn-sr)*Qt+(4-6*kn+3*sr)*ne+(1+3*ue+3*kn-3*sr)*Ce+sr*en)/6}Kt(le,dr,{copy:function(Qt){return Object.assign(new this.constructor,this,Qt)},displayable:function(){return this.rgb().displayable()},hex:$n,formatHex:$n,formatHsl:function(){return ao(this).formatHsl()},formatRgb:ir,toString:ir}),Kt(Dr,Er,$t(le,{brighter:function(Qt){return Qt=Qt==null?1/.7:Math.pow(1/.7,Qt),new Dr(this.r*Qt,this.g*Qt,this.b*Qt,this.opacity)},darker:function(Qt){return Qt=Qt==null?.7:Math.pow(.7,Qt),new Dr(this.r*Qt,this.g*Qt,this.b*Qt,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hi,formatHex:hi,formatRgb:Wi,toString:Wi})),Kt(Ji,function(ue,Qt,ne,Ce){return arguments.length===1?ao(ue):new Ji(ue,Qt,ne,Ce==null?1:Ce)},$t(le,{brighter:function(Qt){return Qt=Qt==null?1/.7:Math.pow(1/.7,Qt),new Ji(this.h,this.s,this.l*Qt,this.opacity)},darker:function(Qt){return Qt=Qt==null?.7:Math.pow(.7,Qt),new Ji(this.h,this.s,this.l*Qt,this.opacity)},rgb:function(){var Qt=this.h%360+360*(this.h<0),ne=isNaN(Qt)||isNaN(this.s)?0:this.s,Ce=this.l,en=Ce+(Ce<.5?Ce:1-Ce)*ne,kn=2*Ce-en;return new Dr(Ya(Qt>=240?Qt-240:Qt+120,kn,en),Ya(Qt,kn,en),Ya(Qt<120?Qt+240:Qt-120,kn,en),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Qt=this.opacity;return((Qt=isNaN(Qt)?1:Math.max(0,Math.min(1,Qt)))===1?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(Qt===1?")":", "+Qt+")")}}));var La=function(Qt){return function(){return Qt}};function Ba(ue,Qt){return function(ne){return ue+ne*Qt}}function oo(ue){return(ue=+ue)==1?Yr:function(Qt,ne){return ne-Qt?function(Ce,en,kn){return Ce=Math.pow(Ce,kn),en=Math.pow(en,kn)-Ce,kn=1/kn,function(sr){return Math.pow(Ce+sr*en,kn)}}(Qt,ne,ue):La(isNaN(Qt)?ne:Qt)}}function Yr(ue,Qt){var ne=Qt-ue;return ne?Ba(ue,ne):La(isNaN(ue)?Qt:ue)}var $a=function ue(Qt){var ne=oo(Qt);function Ce(en,kn){var sr=ne((en=Er(en)).r,(kn=Er(kn)).r),pr=ne(en.g,kn.g),ln=ne(en.b,kn.b),vn=Yr(en.opacity,kn.opacity);return function(xn){return en.r=sr(xn),en.g=pr(xn),en.b=ln(xn),en.opacity=vn(xn),en+""}}return Ce.gamma=ue,Ce}(1);function Ma(ue){return function(Qt){var ne,Ce,en=Qt.length,kn=new Array(en),sr=new Array(en),pr=new Array(en);for(ne=0;ne<en;++ne)Ce=Er(Qt[ne]),kn[ne]=Ce.r||0,sr[ne]=Ce.g||0,pr[ne]=Ce.b||0;return kn=ue(kn),sr=ue(sr),pr=ue(pr),Ce.opacity=1,function(ln){return Ce.r=kn(ln),Ce.g=sr(ln),Ce.b=pr(ln),Ce+""}}}Ma(function(ue){var Qt=ue.length-1;return function(ne){var Ce=ne<=0?ne=0:ne>=1?(ne=1,Qt-1):Math.floor(ne*Qt),en=ue[Ce],kn=ue[Ce+1],sr=Ce>0?ue[Ce-1]:2*en-kn,pr=Ce<Qt-1?ue[Ce+2]:2*kn-en;return Ca((ne-Ce/Qt)*Qt,sr,en,kn,pr)}}),Ma(function(ue){var Qt=ue.length;return function(ne){var Ce=Math.floor(((ne%=1)<0?++ne:ne)*Qt),en=ue[(Ce+Qt-1)%Qt],kn=ue[Ce%Qt],sr=ue[(Ce+1)%Qt],pr=ue[(Ce+2)%Qt];return Ca((ne-Ce/Qt)*Qt,en,kn,sr,pr)}});var to=function(Qt,ne){ne||(ne=[]);var Ce,en=Qt?Math.min(ne.length,Qt.length):0,kn=ne.slice();return function(sr){for(Ce=0;Ce<en;++Ce)kn[Ce]=Qt[Ce]*(1-sr)+ne[Ce]*sr;return kn}};function Aa(ue){return ArrayBuffer.isView(ue)&&!(ue instanceof DataView)}function Vr(ue,Qt){var ne,Ce=Qt?Qt.length:0,en=ue?Math.min(Ce,ue.length):0,kn=new Array(en),sr=new Array(Ce);for(ne=0;ne<en;++ne)kn[ne]=Xi(ue[ne],Qt[ne]);for(;ne<Ce;++ne)sr[ne]=Qt[ne];return function(pr){for(ne=0;ne<en;++ne)sr[ne]=kn[ne](pr);return sr}}var Pi=function(Qt,ne){var Ce=new Date;return Qt=+Qt,ne=+ne,function(en){return Ce.setTime(Qt*(1-en)+ne*en),Ce}},wi=function(Qt,ne){return Qt=+Qt,ne=+ne,function(Ce){return Qt*(1-Ce)+ne*Ce}};function Ei(ue){return(Ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Qt){return typeof Qt}:function(Qt){return Qt&&typeof Symbol=="function"&&Qt.constructor===Symbol&&Qt!==Symbol.prototype?"symbol":typeof Qt})(ue)}var bi=function(Qt,ne){var Ce,en={},kn={};for(Ce in Qt!==null&&Ei(Qt)==="object"||(Qt={}),ne!==null&&Ei(ne)==="object"||(ne={}),ne)Ce in Qt?en[Ce]=Xi(Qt[Ce],ne[Ce]):kn[Ce]=ne[Ce];return function(sr){for(Ce in en)kn[Ce]=en[Ce](sr);return kn}},Di=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fi=new RegExp(Di.source,"g"),Ni=function(Qt,ne){var Ce,en,kn,sr=Di.lastIndex=Fi.lastIndex=0,pr=-1,ln=[],vn=[];for(Qt+="",ne+="";(Ce=Di.exec(Qt))&&(en=Fi.exec(ne));)(kn=en.index)>sr&&(kn=ne.slice(sr,kn),ln[pr]?ln[pr]+=kn:ln[++pr]=kn),(Ce=Ce[0])===(en=en[0])?ln[pr]?ln[pr]+=en:ln[++pr]=en:(ln[++pr]=null,vn.push({i:pr,x:wi(Ce,en)})),sr=Fi.lastIndex;return sr<ne.length&&(kn=ne.slice(sr),ln[pr]?ln[pr]+=kn:ln[++pr]=kn),ln.length<2?vn[0]?function(xn){return function(Or){return xn(Or)+""}}(vn[0].x):function(xn){return function(){return xn}}(ne):(ne=vn.length,function(xn){for(var Or,Br=0;Br<ne;++Br)ln[(Or=vn[Br]).i]=Or.x(xn);return ln.join("")})};function ji(ue){return(ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Qt){return typeof Qt}:function(Qt){return Qt&&typeof Symbol=="function"&&Qt.constructor===Symbol&&Qt!==Symbol.prototype?"symbol":typeof Qt})(ue)}var Xi=function(Qt,ne){var Ce,en=ji(ne);return ne==null||en==="boolean"?La(ne):(en==="number"?wi:en==="string"?(Ce=dr(ne))?(ne=Ce,$a):Ni:ne instanceof dr?$a:ne instanceof Date?Pi:Aa(ne)?to:Array.isArray(ne)?Vr:typeof ne.valueOf!="function"&&typeof ne.toString!="function"||isNaN(ne)?bi:wi)(Qt,ne)},Ki=t(51),la=[1,0,0,0,1,0,0,0,1];function ta(ue,Qt,ne){var Ce,en=Qt.startTime;if(ne<en+Qt.delay||Qt._paused)return!1;var kn=Qt.duration,sr=Qt.easing;if(ne=ne-en-Qt.delay,Qt.repeat)Ce=ne%kn/kn,Ce=n[sr](Ce);else{if(!((Ce=ne/kn)<1))return Qt.onFrame?ue.attr(Qt.onFrame(1)):ue.attr(Qt.toAttrs),!0;Ce=n[sr](Ce)}if(Qt.onFrame){var pr=Qt.onFrame(Ce);ue.attr(pr)}else(function(ln,vn,xn){var Or={},Br=vn.fromAttrs,Pr=vn.toAttrs;if(!ln.destroyed){var kr,mi,$r,Xr;for(var Nr in Pr)if(!Object(E.q)(Br[Nr],Pr[Nr]))if(Nr==="path"){var Hr=Pr[Nr],oi=Br[Nr];Hr.length>oi.length?(Hr=Ki.parsePathString(Pr[Nr]),oi=Ki.parsePathString(Br[Nr]),oi=Ki.fillPathByDiff(oi,Hr),oi=Ki.formatPath(oi,Hr),vn.fromAttrs.path=oi,vn.toAttrs.path=Hr):vn.pathFormatted||(Hr=Ki.parsePathString(Pr[Nr]),oi=Ki.parsePathString(Br[Nr]),oi=Ki.formatPath(oi,Hr),vn.fromAttrs.path=oi,vn.toAttrs.path=Hr,vn.pathFormatted=!0),Or[Nr]=[];for(var yi=0;yi<Hr.length;yi++){for(var si=Hr[yi],ti=oi[yi],zi=[],qi=0;qi<si.length;qi++)Object(E.t)(si[qi])&&ti&&Object(E.t)(ti[qi])?(kr=Xi(ti[qi],si[qi]),zi.push(kr(xn))):zi.push(si[qi]);Or[Nr].push(zi)}}else if(Nr==="matrix"){var Sa=($r=Br[Nr]||la,(Aa(Xr=Pr[Nr]||la)?to:Vr)($r,Xr))(xn);Or[Nr]=Sa}else["fill","stroke","fillStyle","strokeStyle"].includes(Nr)&&(mi=Pr[Nr],/^[r,R,L,l]{1}[\s]*\(/.test(mi))?Or[Nr]=Pr[Nr]:Object(E.r)(Pr[Nr])||(kr=Xi(Br[Nr],Pr[Nr]),Or[Nr]=kr(xn));ln.attr(Or)}})(ue,Qt,Ce);return!1}var ma=function(){function ue(Qt){this.animators=[],this.current=0,this.timer=null,this.canvas=Qt}return ue.prototype.initTimer=function(){var Qt,ne,Ce,en=this;this.timer=tt(function(kn){if(en.current=kn,en.animators.length>0){for(var sr=en.animators.length-1;sr>=0;sr--)if((Qt=en.animators[sr]).destroyed)en.removeAnimator(sr);else{if(!Qt.isAnimatePaused())for(var pr=(ne=Qt.get("animations")).length-1;pr>=0;pr--)Ce=ne[pr],ta(Qt,Ce,kn)&&(ne.splice(pr,1),Ce.callback&&Ce.callback());ne.length===0&&en.removeAnimator(sr)}en.canvas.get("autoDraw")||en.canvas.draw()}})},ue.prototype.addAnimator=function(Qt){this.animators.push(Qt)},ue.prototype.removeAnimator=function(Qt){this.animators.splice(Qt,1)},ue.prototype.isAnimating=function(){return!!this.animators.length},ue.prototype.stop=function(){this.timer&&this.timer.stop()},ue.prototype.stopAllAnimations=function(Qt){Qt===void 0&&(Qt=!0),this.animators.forEach(function(ne){ne.stopAnimate(Qt)}),this.animators=[],this.canvas.draw()},ue.prototype.getTime=function(){return this.current},ue}(),Oa=t(115),uo=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function sa(ue,Qt,ne){ne.name=Qt,ne.target=ue,ne.currentTarget=ue,ne.delegateTarget=ue,ue.emit(Qt,ne)}function Xa(ue,Qt,ne){if(ne.bubbles){var Ce=void 0,en=!1;if(Qt==="mouseenter"?(Ce=ne.fromShape,en=!0):Qt==="mouseleave"&&(en=!0,Ce=ne.toShape),ue.isCanvas()&&en)return;if(Ce&&Object(h.g)(ue,Ce))return void(ne.bubbles=!1);ne.name=Qt,ne.currentTarget=ue,ne.delegateTarget=ue,ue.emit(Qt,ne)}}var po=function(){function ue(Qt){var ne=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(Ce){var en=Ce.type;ne._triggerEvent(en,Ce)},this._onDocumentMove=function(Ce){if(ne.canvas.get("el")!==Ce.target&&(ne.dragging||ne.currentShape)){var en=ne._getPointInfo(Ce);ne.dragging&&ne._emitEvent("drag",Ce,en,ne.draggingShape)}},this._onDocumentMouseUp=function(Ce){if(ne.canvas.get("el")!==Ce.target&&ne.dragging){var en=ne._getPointInfo(Ce);ne.draggingShape&&ne._emitEvent("drop",Ce,en,null),ne._emitEvent("dragend",Ce,en,ne.draggingShape),ne._afterDrag(ne.draggingShape,en,Ce)}},this.canvas=Qt.canvas}return ue.prototype.init=function(){this._bindEvents()},ue.prototype._bindEvents=function(){var Qt=this,ne=this.canvas.get("el");Object(h.a)(uo,function(Ce){ne.addEventListener(Ce,Qt._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},ue.prototype._clearEvents=function(){var Qt=this,ne=this.canvas.get("el");Object(h.a)(uo,function(Ce){ne.removeEventListener(Ce,Qt._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},ue.prototype._getEventObj=function(Qt,ne,Ce,en,kn,sr){var pr=new Oa.a(Qt,ne);return pr.fromShape=kn,pr.toShape=sr,pr.x=Ce.x,pr.y=Ce.y,pr.clientX=Ce.clientX,pr.clientY=Ce.clientY,pr.propagationPath.push(en),pr},ue.prototype._getShape=function(Qt,ne){return this.canvas.getShape(Qt.x,Qt.y,ne)},ue.prototype._getPointInfo=function(Qt){var ne=this.canvas,Ce=ne.getClientByEvent(Qt),en=ne.getPointByEvent(Qt);return{x:en.x,y:en.y,clientX:Ce.x,clientY:Ce.y}},ue.prototype._triggerEvent=function(Qt,ne){var Ce=this._getPointInfo(ne),en=this._getShape(Ce,ne),kn=this["_on"+Qt],sr=!1;if(kn)kn.call(this,Ce,en,ne);else{var pr=this.currentShape;Qt==="mouseenter"||Qt==="dragenter"||Qt==="mouseover"?(this._emitEvent(Qt,ne,Ce,null,null,en),en&&this._emitEvent(Qt,ne,Ce,en,null,en),Qt==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",ne,Ce,null)):Qt==="mouseleave"||Qt==="dragleave"||Qt==="mouseout"?(sr=!0,pr&&this._emitEvent(Qt,ne,Ce,pr,pr,null),this._emitEvent(Qt,ne,Ce,null,pr,null),Qt==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",ne,Ce,null)):this._emitEvent(Qt,ne,Ce,en,null,null)}if(sr||(this.currentShape=en),en&&!en.get("destroyed")){var ln=this.canvas;ln.get("el").style.cursor=en.attr("cursor")||ln.get("cursor")}},ue.prototype._onmousedown=function(Qt,ne,Ce){Ce.button===0&&(this.mousedownShape=ne,this.mousedownPoint=Qt,this.mousedownTimeStamp=Ce.timeStamp),this._emitEvent("mousedown",Ce,Qt,ne,null,null)},ue.prototype._emitMouseoverEvents=function(Qt,ne,Ce,en){var kn=this.canvas.get("el");Ce!==en&&(Ce&&(this._emitEvent("mouseout",Qt,ne,Ce,Ce,en),this._emitEvent("mouseleave",Qt,ne,Ce,Ce,en),en&&!en.get("destroyed")||(kn.style.cursor=this.canvas.get("cursor"))),en&&(this._emitEvent("mouseover",Qt,ne,en,Ce,en),this._emitEvent("mouseenter",Qt,ne,en,Ce,en)))},ue.prototype._emitDragoverEvents=function(Qt,ne,Ce,en,kn){en?(en!==Ce&&(Ce&&this._emitEvent("dragleave",Qt,ne,Ce,Ce,en),this._emitEvent("dragenter",Qt,ne,en,Ce,en)),kn||this._emitEvent("dragover",Qt,ne,en)):Ce&&this._emitEvent("dragleave",Qt,ne,Ce,Ce,en),kn&&this._emitEvent("dragover",Qt,ne,en)},ue.prototype._afterDrag=function(Qt,ne,Ce){Qt&&(Qt.set("capture",!0),this.draggingShape=null),this.dragging=!1;var en=this._getShape(ne,Ce);en!==Qt&&this._emitMouseoverEvents(Ce,ne,Qt,en),this.currentShape=en},ue.prototype._onmouseup=function(Qt,ne,Ce){if(Ce.button===0){var en=this.draggingShape;this.dragging?(en&&this._emitEvent("drop",Ce,Qt,ne),this._emitEvent("dragend",Ce,Qt,en),this._afterDrag(en,Qt,Ce)):(this._emitEvent("mouseup",Ce,Qt,ne),ne===this.mousedownShape&&this._emitEvent("click",Ce,Qt,ne),this.mousedownShape=null,this.mousedownPoint=null)}},ue.prototype._ondragover=function(Qt,ne,Ce){Ce.preventDefault();var en=this.currentShape;this._emitDragoverEvents(Ce,Qt,en,ne,!0)},ue.prototype._onmousemove=function(Qt,ne,Ce){var en=this.canvas,kn=this.currentShape,sr=this.draggingShape;if(this.dragging)sr&&this._emitDragoverEvents(Ce,Qt,kn,ne,!1),this._emitEvent("drag",Ce,Qt,sr);else{var pr=this.mousedownPoint;if(pr){var ln=this.mousedownShape,vn=Ce.timeStamp-this.mousedownTimeStamp,xn=pr.clientX-Qt.clientX,Or=pr.clientY-Qt.clientY;vn>120||xn*xn+Or*Or>40?ln&&ln.get("draggable")?((sr=this.mousedownShape).set("capture",!1),this.draggingShape=sr,this.dragging=!0,this._emitEvent("dragstart",Ce,Qt,sr),this.mousedownShape=null,this.mousedownPoint=null):!ln&&en.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",Ce,Qt,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(Ce,Qt,kn,ne),this._emitEvent("mousemove",Ce,Qt,ne)):(this._emitMouseoverEvents(Ce,Qt,kn,ne),this._emitEvent("mousemove",Ce,Qt,ne))}else this._emitMouseoverEvents(Ce,Qt,kn,ne),this._emitEvent("mousemove",Ce,Qt,ne)}},ue.prototype._emitEvent=function(Qt,ne,Ce,en,kn,sr){var pr=this._getEventObj(Qt,ne,Ce,en,kn,sr);if(en){pr.shape=en,sa(en,Qt,pr);for(var ln=en.getParent();ln;)ln.emitDelegation(Qt,pr),pr.propagationStopped||Xa(ln,Qt,pr),pr.propagationPath.push(ln),ln=ln.getParent()}else sa(this.canvas,Qt,pr)},ue.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},ue}(),bo=Object(S.a)(),Mo=bo&&bo.name==="firefox",Po=function(ue){function Qt(ne){var Ce=ue.call(this,ne)||this;return Ce.initContainer(),Ce.initDom(),Ce.initEvents(),Ce.initTimeline(),Ce}return Object(d.b)(Qt,ue),Qt.prototype.getDefaultCfg=function(){var ne=ue.prototype.getDefaultCfg.call(this);return ne.cursor="default",ne.supportCSSTransform=!1,ne},Qt.prototype.initContainer=function(){var ne=this.get("container");Object(h.h)(ne)&&(ne=document.getElementById(ne),this.set("container",ne))},Qt.prototype.initDom=function(){var ne=this.createDom();this.set("el",ne),this.get("container").appendChild(ne),this.setDOMSize(this.get("width"),this.get("height"))},Qt.prototype.initEvents=function(){var ne=new po({canvas:this});ne.init(),this.set("eventController",ne)},Qt.prototype.initTimeline=function(){var ne=new ma(this);this.set("timeline",ne)},Qt.prototype.setDOMSize=function(ne,Ce){var en=this.get("el");h.c&&(en.style.width=ne+"px",en.style.height=Ce+"px")},Qt.prototype.changeSize=function(ne,Ce){this.setDOMSize(ne,Ce),this.set("width",ne),this.set("height",Ce),this.onCanvasChange("changeSize")},Qt.prototype.getRenderer=function(){return this.get("renderer")},Qt.prototype.getCursor=function(){return this.get("cursor")},Qt.prototype.setCursor=function(ne){this.set("cursor",ne);var Ce=this.get("el");h.c&&Ce&&(Ce.style.cursor=ne)},Qt.prototype.getPointByEvent=function(ne){if(this.get("supportCSSTransform")){if(Mo&&!Object(h.e)(ne.layerX)&&ne.layerX!==ne.offsetX)return{x:ne.layerX,y:ne.layerY};if(!Object(h.e)(ne.offsetX))return{x:ne.offsetX,y:ne.offsetY}}var Ce=this.getClientByEvent(ne),en=Ce.x,kn=Ce.y;return this.getPointByClient(en,kn)},Qt.prototype.getClientByEvent=function(ne){var Ce=ne;return ne.touches&&(Ce=ne.type==="touchend"?ne.changedTouches[0]:ne.touches[0]),{x:Ce.clientX,y:Ce.clientY}},Qt.prototype.getPointByClient=function(ne,Ce){var en=this.get("el").getBoundingClientRect();return{x:ne-en.left,y:Ce-en.top}},Qt.prototype.getClientByPoint=function(ne,Ce){var en=this.get("el").getBoundingClientRect();return{x:ne+en.left,y:Ce+en.top}},Qt.prototype.draw=function(){},Qt.prototype.removeDom=function(){var ne=this.get("el");ne.parentNode.removeChild(ne)},Qt.prototype.clearEvents=function(){this.get("eventController").destroy()},Qt.prototype.isCanvas=function(){return!0},Qt.prototype.getParent=function(){return null},Qt.prototype.destroy=function(){var ne=this.get("timeline");this.get("destroyed")||(this.clear(),ne&&ne.stop(),this.clearEvents(),this.removeDom(),ue.prototype.destroy.call(this))},Qt}(b.a);M.a=Po},function(a,M,t){"use strict";t.d(M,"a",function(){return S});var n=new Map;function d(O,j){n.set(O,j)}function S(O){return n.get(O)}var b=function(j){var p=j.attr();return{x:p.x,y:p.y,width:p.width,height:p.height}},h=function(j){var p=j.attr(),x=p.x,A=p.y,k=p.r;return{x:x-k,y:A-k,width:2*k,height:2*k}},E=t(20);function T(O,j){return O&&j?{minX:Math.min(O.minX,j.minX),minY:Math.min(O.minY,j.minY),maxX:Math.max(O.maxX,j.maxX),maxY:Math.max(O.maxY,j.maxY)}:O||j}function o(O,j){var p=O.get("startArrowShape"),x=O.get("endArrowShape");return p&&(j=T(j,p.getCanvasBBox())),x&&(j=T(j,x.getCanvasBBox())),j}var s=t(69),u=t(31),v=t(0);function C(O,j){var p=O.prePoint,x=O.currentPoint,A=O.nextPoint,k=Math.pow(x[0]-p[0],2)+Math.pow(x[1]-p[1],2),X=Math.pow(x[0]-A[0],2)+Math.pow(x[1]-A[1],2),et=Math.pow(p[0]-A[0],2)+Math.pow(p[1]-A[1],2),tt=Math.acos((k+X-et)/(2*Math.sqrt(k)*Math.sqrt(X)));if(!tt||Math.sin(tt)===0||Object(v.u)(tt,0))return{xExtra:0,yExtra:0};var ft=Math.abs(Math.atan2(A[1]-x[1],A[0]-x[0])),st=Math.abs(Math.atan2(A[0]-x[0],A[1]-x[1]));return ft=ft>Math.PI/2?Math.PI-ft:ft,st=st>Math.PI/2?Math.PI-st:st,{xExtra:Math.cos(tt/2-ft)*(j/2*(1/Math.sin(tt/2)))-j/2||0,yExtra:Math.cos(st-tt/2)*(j/2*(1/Math.sin(tt/2)))-j/2||0}}d("rect",b),d("image",b),d("circle",h),d("marker",h),d("polyline",function(O){for(var j=O.attr().points,p=[],x=[],A=0;A<j.length;A++){var k=j[A];p.push(k[0]),x.push(k[1])}var X=E.f.getBBoxByArray(p,x),et=X.x,tt=X.y,ft={minX:et,minY:tt,maxX:et+X.width,maxY:tt+X.height};return{x:(ft=o(O,ft)).minX,y:ft.minY,width:ft.maxX-ft.minX,height:ft.maxY-ft.minY}}),d("polygon",function(O){for(var j=O.attr().points,p=[],x=[],A=0;A<j.length;A++){var k=j[A];p.push(k[0]),x.push(k[1])}return E.f.getBBoxByArray(p,x)}),d("text",function(O){var j=O.attr(),p=j.x,x=j.y,A=j.text,k=j.fontSize,X=j.lineHeight,et=j.font;et||(et=Object(s.a)(j));var tt,ft=Object(s.c)(A,et);if(ft){var st=j.textAlign,vt=j.textBaseline,mt=Object(s.b)(A,k,X),pt={x:p,y:x-mt};st&&(st==="end"||st==="right"?pt.x-=ft:st==="center"&&(pt.x-=ft/2)),vt&&(vt==="top"?pt.y+=mt:vt==="middle"&&(pt.y+=mt/2)),tt={x:pt.x,y:pt.y,width:ft,height:mt}}else tt={x:p,y:x,width:0,height:0};return tt}),d("path",function(O){var j=O.attr(),p=j.path,x=j.stroke?j.lineWidth:0,A=function(tt,ft){for(var st=[],vt=[],mt=[],pt=0;pt<tt.length;pt++){var rt=(Q=tt[pt]).currentPoint,Bt=Q.params,It=Q.prePoint,St=void 0;switch(Q.command){case"Q":St=E.e.box(It[0],It[1],Bt[1],Bt[2],Bt[3],Bt[4]);break;case"C":St=E.b.box(It[0],It[1],Bt[1],Bt[2],Bt[3],Bt[4],Bt[5],Bt[6]);break;case"A":var H=Q.arcParams;St=E.a.box(H.cx,H.cy,H.rx,H.ry,H.xRotation,H.startAngle,H.endAngle);break;default:st.push(rt[0]),vt.push(rt[1])}St&&(Q.box=St,st.push(St.x,St.x+St.width),vt.push(St.y,St.y+St.height)),ft&&(Q.command==="L"||Q.command==="M")&&Q.prePoint&&Q.nextPoint&&mt.push(Q)}st=st.filter(function(ct){return!Number.isNaN(ct)}),vt=vt.filter(function(ct){return!Number.isNaN(ct)});var ot=Math.min.apply(null,st),yt=Math.min.apply(null,vt),xt=Math.max.apply(null,st),wt=Math.max.apply(null,vt);if(mt.length===0)return{x:ot,y:yt,width:xt-ot,height:wt-yt};for(pt=0;pt<mt.length;pt++){var Q;(rt=(Q=mt[pt]).currentPoint)[0]===ot?ot-=C(Q,ft).xExtra:rt[0]===xt&&(xt+=C(Q,ft).xExtra),rt[1]===yt?yt-=C(Q,ft).yExtra:rt[1]===wt&&(wt+=C(Q,ft).yExtra)}return{x:ot,y:yt,width:xt-ot,height:wt-yt}}(O.get("segments")||Object(u.d)(p),x),k=A.x,X=A.y,et={minX:k,minY:X,maxX:k+A.width,maxY:X+A.height};return{x:(et=o(O,et)).minX,y:et.minY,width:et.maxX-et.minX,height:et.maxY-et.minY}}),d("line",function(O){var j=O.attr(),p=j.x1,x=j.y1,A=j.x2,k=j.y2,X={minX:Math.min(p,A),maxX:Math.max(p,A),minY:Math.min(x,k),maxY:Math.max(x,k)};return{x:(X=o(O,X)).minX,y:X.minY,width:X.maxX-X.minX,height:X.maxY-X.minY}}),d("ellipse",function(O){var j=O.attr(),p=j.x,x=j.y,A=j.rx,k=j.ry;return{x:p-A,y:x-k,width:2*A,height:2*k}})},function(a,M,t){"use strict";var n=t(1),d=t(18),S=t(16),b=t(71),h=t(36),E=t(22),T=t(79),o=t(78),s=t(0),u=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,v=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,C=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function O(vt){var mt=vt.match(C);if(!mt)return"";var pt="";return mt.sort(function(rt,Bt){return rt=rt.split(":"),Bt=Bt.split(":"),Number(rt[0])-Number(Bt[0])}),Object(s.f)(mt,function(rt){rt=rt.split(":"),pt+='<stop offset="'+rt[0]+'" stop-color="'+rt[1]+'"></stop>'}),pt}var j=function(){function vt(mt){this.cfg={};var pt=null,rt=Object(s.H)("gradient_");return mt.toLowerCase()[0]==="l"?function(Bt,It){var St,H,ot=u.exec(Bt),yt=Object(s.B)(Object(s.G)(parseFloat(ot[1])),2*Math.PI),xt=ot[2];yt>=0&&yt<.5*Math.PI?(St={x:0,y:0},H={x:1,y:1}):.5*Math.PI<=yt&&yt<Math.PI?(St={x:1,y:0},H={x:0,y:1}):Math.PI<=yt&&yt<1.5*Math.PI?(St={x:1,y:1},H={x:0,y:0}):(St={x:0,y:1},H={x:1,y:0});var wt=Math.tan(yt),Q=wt*wt,ct=(H.x-St.x+wt*(H.y-St.y))/(Q+1)+St.x,it=wt*(H.x-St.x+wt*(H.y-St.y))/(Q+1)+St.y;It.setAttribute("x1",St.x),It.setAttribute("y1",St.y),It.setAttribute("x2",ct),It.setAttribute("y2",it),It.innerHTML=O(xt)}(mt,pt=Object(E.b)("linearGradient")):function(Bt,It){var St=v.exec(Bt),H=parseFloat(St[1]),ot=parseFloat(St[2]),yt=parseFloat(St[3]),xt=St[4];It.setAttribute("cx",H),It.setAttribute("cy",ot),It.setAttribute("r",yt),It.innerHTML=O(xt)}(mt,pt=Object(E.b)("radialGradient")),pt.setAttribute("id",rt),this.el=pt,this.id=rt,this.cfg=mt,this}return vt.prototype.match=function(mt,pt){return this.cfg===pt},vt}(),p={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},x={x:"-40%",y:"-40%",width:"200%",height:"200%"},A=function(){function vt(mt){this.type="filter",this.cfg={},this.type="filter";var pt=Object(E.b)("filter");return Object(s.f)(x,function(rt,Bt){pt.setAttribute(Bt,rt)}),this.el=pt,this.id=Object(s.H)("filter_"),this.el.id=this.id,this.cfg=mt,this._parseShadow(mt,pt),this}return vt.prototype.match=function(mt,pt){if(this.type!==mt)return!1;var rt=!0,Bt=this.cfg;return Object(s.f)(Object.keys(Bt),function(It){if(Bt[It]!==pt[It])return rt=!1,!1}),rt},vt.prototype.update=function(mt,pt){var rt=this.cfg;return rt[p[mt]]=pt,this._parseShadow(rt,this.el),this},vt.prototype._parseShadow=function(mt,pt){var rt=`<feDropShadow
      dx="`+(mt.dx||0)+`"
      dy="`+(mt.dy||0)+`"
      stdDeviation="`+(mt.blur?mt.blur/10:0)+`"
      flood-color="`+(mt.color?mt.color:"#000")+`"
      flood-opacity="`+(mt.opacity?mt.opacity:1)+`"
      />`;pt.innerHTML=rt},vt}(),k=function(){function vt(mt,pt){this.cfg={};var rt=Object(E.b)("marker"),Bt=Object(s.H)("marker_");rt.setAttribute("id",Bt);var It=Object(E.b)("path");It.setAttribute("stroke",mt.stroke||"none"),It.setAttribute("fill",mt.fill||"none"),rt.appendChild(It),rt.setAttribute("overflow","visible"),rt.setAttribute("orient","auto-start-reverse"),this.el=rt,this.child=It,this.id=Bt;var St=mt[pt==="marker-start"?"startArrow":"endArrow"];return this.stroke=mt.stroke||"#000",St===!0?this._setDefaultPath(pt,It):(this.cfg=St,this._setMarker(mt.lineWidth,It)),this}return vt.prototype.match=function(){return!1},vt.prototype._setDefaultPath=function(mt,pt){var rt=this.el;pt.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),rt.setAttribute("refX",""+10*Math.cos(Math.PI/6)),rt.setAttribute("refY","5")},vt.prototype._setMarker=function(mt,pt){var rt=this.el,Bt=this.cfg.path,It=this.cfg.d;Object(s.m)(Bt)&&(Bt=Bt.map(function(St){return St.join(" ")}).join("")),pt.setAttribute("d",Bt),rt.appendChild(pt),It&&rt.setAttribute("refX",""+It/mt)},vt.prototype.update=function(mt){var pt=this.child;pt.attr?pt.attr("fill",mt):pt.setAttribute("fill",mt)},vt}(),X=function(){function vt(mt){this.type="clip",this.cfg={};var pt=Object(E.b)("clipPath");this.el=pt,this.id=Object(s.H)("clip_"),pt.id=this.id;var rt=mt.cfg.el;return pt.appendChild(rt),this.cfg=mt,this}return vt.prototype.match=function(){return!1},vt.prototype.remove=function(){var mt=this.el;mt.parentNode.removeChild(mt)},vt}(),et=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,tt=function(){function vt(mt){this.cfg={};var pt=Object(E.b)("pattern");pt.setAttribute("patternUnits","userSpaceOnUse");var rt=Object(E.b)("image");pt.appendChild(rt);var Bt=Object(s.H)("pattern_");pt.id=Bt,this.el=pt,this.id=Bt,this.cfg=mt;var It=et.exec(mt)[2];rt.setAttribute("href",It);var St=new Image;function H(){pt.setAttribute("width",""+St.width),pt.setAttribute("height",""+St.height)}return It.match(/^data:/i)||(St.crossOrigin="Anonymous"),St.src=It,St.complete?H():(St.onload=H,St.src=St.src),this}return vt.prototype.match=function(mt,pt){return this.cfg===pt},vt}(),ft=function(){function vt(mt){var pt=Object(E.b)("defs"),rt=Object(s.H)("defs_");pt.id=rt,mt.appendChild(pt),this.children=[],this.defaultArrow={},this.el=pt,this.canvas=mt}return vt.prototype.find=function(mt,pt){for(var rt=this.children,Bt=null,It=0;It<rt.length;It++)if(rt[It].match(mt,pt)){Bt=rt[It].id;break}return Bt},vt.prototype.findById=function(mt){for(var pt=this.children,rt=null,Bt=0;Bt<pt.length;Bt++)if(pt[Bt].id===mt){rt=pt[Bt];break}return rt},vt.prototype.add=function(mt){this.children.push(mt),mt.canvas=this.canvas,mt.parent=this},vt.prototype.getDefaultArrow=function(mt,pt){var rt=mt.stroke||mt.strokeStyle;if(this.defaultArrow[rt])return this.defaultArrow[rt].id;var Bt=new k(mt,pt);return this.defaultArrow[rt]=Bt,this.el.appendChild(Bt.el),this.add(Bt),Bt.id},vt.prototype.addGradient=function(mt){var pt=new j(mt);return this.el.appendChild(pt.el),this.add(pt),pt.id},vt.prototype.addArrow=function(mt,pt){var rt=new k(mt,pt);return this.el.appendChild(rt.el),this.add(rt),rt.id},vt.prototype.addShadow=function(mt){var pt=new A(mt);return this.el.appendChild(pt.el),this.add(pt),pt.id},vt.prototype.addPattern=function(mt){var pt=new tt(mt);return this.el.appendChild(pt.el),this.add(pt),pt.id},vt.prototype.addClip=function(mt){var pt=new X(mt);return this.el.appendChild(pt.el),this.add(pt),pt.id},vt}(),st=function(vt){function mt(pt){return vt.call(this,Object(n.a)(Object(n.a)({},pt),{autoDraw:!0,renderer:"svg"}))||this}return Object(n.b)(mt,vt),mt.prototype.getShapeBase=function(){return T},mt.prototype.getGroupBase=function(){return o.a},mt.prototype.getShape=function(pt,rt,Bt){var It=Bt.target||Bt.srcElement;if(!S.a[It.tagName]){for(var St=It.parentNode;St&&!S.a[St.tagName];)St=St.parentNode;It=St}return this.find(function(H){return H.get("el")===It})},mt.prototype.createDom=function(){var pt=Object(E.b)("svg"),rt=new ft(pt);return pt.setAttribute("width",""+this.get("width")),pt.setAttribute("height",""+this.get("height")),this.set("context",rt),pt},mt.prototype.onCanvasChange=function(pt){var rt=this.get("context"),Bt=this.get("el");if(pt==="sort"){var It=this.get("children");It&&It.length&&Object(E.d)(this,function(H,ot){return It.indexOf(H)-It.indexOf(ot)?1:0})}else if(pt==="clear"){if(Bt){Bt.innerHTML="";var St=rt.el;St.innerHTML="",Bt.appendChild(St)}}else pt==="matrix"?Object(h.c)(this):pt==="clip"?Object(h.a)(this,rt):pt==="changeSize"&&(Bt.setAttribute("width",""+this.get("width")),Bt.setAttribute("height",""+this.get("height")))},mt.prototype.draw=function(){var pt=this.get("context"),rt=this.getChildren();Object(h.a)(this,pt),rt.length&&Object(b.a)(pt,rt)},mt}(d.AbstractCanvas);M.a=st},function(a,M,t){"use strict";var n=t(1),d=t(18);function S(u,v,C){var O=u.getTotalMatrix();if(O){var j=function(p,x){if(x){var A=Object(d.invert)(x);return Object(d.multiplyVec2)(A,p)}return p}([v,C,1],O);return[j[0],j[1]]}return[v,C]}function b(u,v,C){if(u.isCanvas&&u.isCanvas())return!0;if(!Object(d.isAllowCapture)(u)||u.cfg.isInView===!1)return!1;if(u.cfg.clipShape){var O=S(u,v,C),j=O[0],p=O[1];if(u.isClipped(j,p))return!1}var x=u.cfg.cacheCanvasBBox||u.getCanvasBBox();return v>=x.minX&&v<=x.maxX&&C>=x.minY&&C<=x.maxY}var h=t(56),E=t(77),T=t(17),o=t(29),s=function(u){function v(){return u!==null&&u.apply(this,arguments)||this}return Object(n.b)(v,u),v.prototype.getDefaultCfg=function(){var C=u.prototype.getDefaultCfg.call(this);return C.renderer="canvas",C.autoDraw=!0,C.localRefresh=!0,C.refreshElements=[],C.clipView=!0,C.quickHit=!1,C},v.prototype.onCanvasChange=function(C){C!=="attr"&&C!=="sort"&&C!=="changeSize"||(this.set("refreshElements",[this]),this.draw())},v.prototype.getShapeBase=function(){return h},v.prototype.getGroupBase=function(){return E.a},v.prototype.getPixelRatio=function(){var C=this.get("pixelRatio")||Object(T.d)();return C>=1?Math.ceil(C):1},v.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},v.prototype.createDom=function(){var C=document.createElement("canvas"),O=C.getContext("2d");return this.set("context",O),C},v.prototype.setDOMSize=function(C,O){u.prototype.setDOMSize.call(this,C,O);var j=this.get("context"),p=this.get("el"),x=this.getPixelRatio();p.width=x*C,p.height=x*O,x>1&&j.scale(x,x)},v.prototype.clear=function(){u.prototype.clear.call(this),this._clearFrame();var C=this.get("context"),O=this.get("el");C.clearRect(0,0,O.width,O.height)},v.prototype.getShape=function(C,O){return this.get("quickHit")?function j(p,x,A){if(!b(p,x,A))return null;for(var k=null,X=p.getChildren(),et=X.length-1;et>=0;et--){var tt=X[et];if(tt.isGroup())k=j(tt,x,A);else if(b(tt,x,A)){var ft=tt,st=S(tt,x,A),vt=st[0],mt=st[1];ft.isInShape(vt,mt)&&(k=tt)}if(k)break}return k}(this,C,O):u.prototype.getShape.call(this,C,O,null)},v.prototype._getRefreshRegion=function(){var C,O=this.get("refreshElements"),j=this.getViewRange();return O.length&&O[0]===this?C=j:(C=Object(o.f)(O))&&(C.minX=Math.floor(C.minX),C.minY=Math.floor(C.minY),C.maxX=Math.ceil(C.maxX),C.maxY=Math.ceil(C.maxY),C.maxY+=1,this.get("clipView")&&(C=Object(o.g)(C,j))),C},v.prototype.refreshElement=function(C){this.get("refreshElements").push(C)},v.prototype._clearFrame=function(){var C=this.get("drawFrame");C&&(Object(T.a)(C),this.set("drawFrame",null),this.set("refreshElements",[]))},v.prototype.draw=function(){var C=this.get("drawFrame");this.get("autoDraw")&&C||this._startDraw()},v.prototype._drawAll=function(){var C=this.get("context"),O=this.get("el"),j=this.getChildren();C.clearRect(0,0,O.width,O.height),Object(o.a)(C,this),Object(o.d)(C,j),this.set("refreshElements",[])},v.prototype._drawRegion=function(){var C=this.get("context"),O=this.get("refreshElements"),j=this.getChildren(),p=this._getRefreshRegion();p?(C.clearRect(p.minX,p.minY,p.maxX-p.minX,p.maxY-p.minY),C.save(),C.beginPath(),C.rect(p.minX,p.minY,p.maxX-p.minX,p.maxY-p.minY),C.clip(),Object(o.a)(C,this),Object(o.b)(this,j,p),Object(o.d)(C,j,p),C.restore()):O.length&&Object(o.c)(O),Object(T.c)(O,function(x){x.get("hasChanged")&&x.set("hasChanged",!1)}),this.set("refreshElements",[])},v.prototype._startDraw=function(){var C=this,O=this.get("drawFrame");O||(O=Object(T.n)(function(){C.get("localRefresh")?C._drawRegion():C._drawAll(),C.set("drawFrame",null)}),this.set("drawFrame",O))},v.prototype.skipDraw=function(){},v}(d.AbstractCanvas);M.a=s},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var n=t(473);M.default=function(d,S){return S===void 0&&(S=!0),{lazyInject:n.makePropertyInjectDecorator(d,S),lazyInjectNamed:n.makePropertyInjectNamedDecorator(d,S),lazyInjectTagged:n.makePropertyInjectTaggedDecorator(d,S),lazyMultiInject:n.makePropertyMultiInjectDecorator(d,S)}}},function(a,M,t){var n=t(202);a.exports=function(d){return d&&d.length?n(d):[]}},function(a,M,t){var n,d,S;function b(h){return(b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(h)}S=function(){"use strict";var E=function(vn){return vn instanceof Uint8Array||vn instanceof Uint16Array||vn instanceof Uint32Array||vn instanceof Int8Array||vn instanceof Int16Array||vn instanceof Int32Array||vn instanceof Float32Array||vn instanceof Float64Array||vn instanceof Uint8ClampedArray},T=function(vn,xn){for(var Or=Object.keys(xn),Br=0;Br<Or.length;++Br)vn[Or[Br]]=xn[Or[Br]];return vn};function o(ln){var vn=new Error("(regl) "+ln);throw console.error(vn),vn}function s(ln,vn){ln||o(vn)}function u(ln){return ln?": "+ln:""}function v(ln,vn){switch(vn){case"number":return typeof ln=="number";case"object":return b(ln)==="object";case"string":return typeof ln=="string";case"boolean":return typeof ln=="boolean";case"function":return typeof ln=="function";case"undefined":return ln===void 0;case"symbol":return b(ln)==="symbol"}}function C(ln,vn,xn){vn.indexOf(ln)<0&&o("invalid value"+u(xn)+". must be one of: "+vn)}var O=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function j(ln,vn){for(ln+="";ln.length<vn;)ln=" "+ln;return ln}function p(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function x(ln,vn){this.number=ln,this.line=vn,this.errors=[]}function A(ln,vn,xn){this.file=ln,this.line=vn,this.message=xn}function k(){var ln=new Error,vn=(ln.stack||ln).toString(),xn=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(vn);if(xn)return xn[1];var Or=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(vn);return Or?Or[1]:"unknown"}function X(){var ln=new Error,vn=(ln.stack||ln).toString(),xn=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(vn);if(xn)return xn[1];var Or=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(vn);return Or?Or[1]:"unknown"}function et(ln,vn){var xn,Or=ln.split(`
`),Br=1,Pr=0,kr={unknown:new p,0:new p};kr.unknown.name=kr[0].name=vn||k(),kr.unknown.lines.push(new x(0,""));for(var mi=0;mi<Or.length;++mi){var $r=Or[mi],Xr=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec($r);if(Xr)switch(Xr[1]){case"line":var Nr=/(\d+)(\s+\d+)?/.exec(Xr[2]);Nr&&(Br=0|Nr[1],Nr[2]&&((Pr=0|Nr[2])in kr||(kr[Pr]=new p)));break;case"define":var Hr=/SHADER_NAME(_B64)?\s+(.*)$/.exec(Xr[2]);Hr&&(kr[Pr].name=Hr[1]?(xn=Hr[2],typeof atob!="undefined"?atob(xn):"base64:"+xn):Hr[2])}kr[Pr].lines.push(new x(Br++,$r))}return Object.keys(kr).forEach(function(oi){var yi=kr[oi];yi.lines.forEach(function(si){yi.index[si.number]=si})}),kr}function tt(ln){ln._commandRef=k()}function ft(ln,vn){var xn=X();o(ln+" in command "+(vn||k())+(xn==="unknown"?"":" called from "+xn))}function st(ln,vn,xn,Or){v(ln,vn)||ft("invalid parameter type"+u(xn)+". expected "+vn+", got "+b(ln),Or||k())}var vt={};function mt(ln,vn){return ln===32820||ln===32819||ln===33635?2:ln===34042?4:vt[ln]*vn}function pt(ln){return!(ln&ln-1||!ln)}vt[5120]=vt[5121]=1,vt[5122]=vt[5123]=vt[36193]=vt[33635]=vt[32819]=vt[32820]=2,vt[5124]=vt[5125]=vt[5126]=vt[34042]=4;var rt=T(s,{optional:function(vn){vn()},raise:o,commandRaise:ft,command:function(vn,xn,Or){vn||ft(xn,Or||k())},parameter:function(vn,xn,Or){vn in xn||o("unknown parameter ("+vn+")"+u(Or)+". possible values: "+Object.keys(xn).join())},commandParameter:function(vn,xn,Or,Br){vn in xn||ft("unknown parameter ("+vn+")"+u(Or)+". possible values: "+Object.keys(xn).join(),Br||k())},constructor:function(vn){Object.keys(vn).forEach(function(xn){O.indexOf(xn)<0&&o('invalid regl constructor argument "'+xn+'". must be one of '+O)})},type:function(vn,xn,Or){v(vn,xn)||o("invalid parameter type"+u(Or)+". expected "+xn+", got "+b(vn))},commandType:st,isTypedArray:function(vn,xn){E(vn)||o("invalid parameter type"+u(xn)+". must be a typed array")},nni:function(vn,xn){vn>=0&&(0|vn)===vn||o("invalid parameter type, ("+vn+")"+u(xn)+". must be a nonnegative integer")},oneOf:C,shaderError:function(vn,xn,Or,Br,Pr){if(!vn.getShaderParameter(xn,vn.COMPILE_STATUS)){var kr=vn.getShaderInfoLog(xn),mi=Br===vn.FRAGMENT_SHADER?"fragment":"vertex";st(Or,"string",mi+" shader source must be a string",Pr);var $r=et(Or,Pr),Xr=function(Nr){var Hr=[];return Nr.split(`
`).forEach(function(oi){if(!(oi.length<5)){var yi=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(oi);yi?Hr.push(new A(0|yi[1],0|yi[2],yi[3].trim())):oi.length>0&&Hr.push(new A("unknown",0,oi))}}),Hr}(kr);(function(Nr,Hr){Hr.forEach(function(oi){var yi=Nr[oi.file];if(yi){var si=yi.index[oi.line];if(si)return si.errors.push(oi),void(yi.hasErrors=!0)}Nr.unknown.hasErrors=!0,Nr.unknown.lines[0].errors.push(oi)})})($r,Xr),Object.keys($r).forEach(function(Nr){var Hr=$r[Nr];if(Hr.hasErrors){var oi=[""],yi=[""];si("file number "+Nr+": "+Hr.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),Hr.lines.forEach(function(ti){if(ti.errors.length>0){si(j(ti.number,4)+"|  ","background-color:yellow; font-weight:bold"),si(ti.line+`
`,"color:red; background-color:yellow; font-weight:bold");var zi=0;ti.errors.forEach(function(qi){var Sa=qi.message,ea=/^\s*'(.*)'\s*:\s*(.*)$/.exec(Sa);if(ea){var Fa=ea[1];switch(Sa=ea[2],Fa){case"assign":Fa="="}zi=Math.max(ti.line.indexOf(Fa,zi),0)}else zi=0;si(j("| ",6)),si(j("^^^",zi+3)+`
`,"font-weight:bold"),si(j("| ",6)),si(Sa+`
`,"font-weight:bold")}),si(j("| ",6)+`
`)}else si(j(ti.number,4)+"|  "),si(ti.line+`
`,"color:red")}),typeof document=="undefined"||window.chrome?console.log(oi.join("")):(yi[0]=oi.join("%c"),console.log.apply(console,yi))}function si(ti,zi){oi.push(ti),yi.push(zi||"")}}),s.raise("Error compiling "+mi+" shader, "+$r[0].name)}},linkError:function(vn,xn,Or,Br,Pr){if(!vn.getProgramParameter(xn,vn.LINK_STATUS)){var kr=vn.getProgramInfoLog(xn),mi=et(Or,Pr),$r='Error linking program with vertex shader, "'+et(Br,Pr)[0].name+'", and fragment shader "'+mi[0].name+'"';typeof document!="undefined"?console.log("%c"+$r+`
%c`+kr,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log($r+`
`+kr),s.raise($r)}},callSite:X,saveCommandRef:tt,saveDrawInfo:function(vn,xn,Or,Br){function Pr(Xr){return Xr?Br.id(Xr):0}function kr(Xr,Nr){Object.keys(Nr).forEach(function(Hr){Xr[Br.id(Hr)]=!0})}tt(vn),vn._fragId=Pr(vn.static.frag),vn._vertId=Pr(vn.static.vert);var mi=vn._uniformSet={};kr(mi,xn.static),kr(mi,xn.dynamic);var $r=vn._attributeSet={};kr($r,Or.static),kr($r,Or.dynamic),vn._hasCount="count"in vn.static||"count"in vn.dynamic||"elements"in vn.static||"elements"in vn.dynamic},framebufferFormat:function(vn,xn,Or){vn.texture?C(vn.texture._texture.internalformat,xn,"unsupported texture format for attachment"):C(vn.renderbuffer._renderbuffer.format,Or,"unsupported renderbuffer format for attachment")},guessCommand:k,texture2D:function(vn,xn,Or){var Br,Pr=xn.width,kr=xn.height,mi=xn.channels;s(Pr>0&&Pr<=Or.maxTextureSize&&kr>0&&kr<=Or.maxTextureSize,"invalid texture shape"),vn.wrapS===33071&&vn.wrapT===33071||s(pt(Pr)&&pt(kr),"incompatible wrap mode for texture, both width and height must be power of 2"),xn.mipmask===1?Pr!==1&&kr!==1&&s(vn.minFilter!==9984&&vn.minFilter!==9986&&vn.minFilter!==9985&&vn.minFilter!==9987,"min filter requires mipmap"):(s(pt(Pr)&&pt(kr),"texture must be a square power of 2 to support mipmapping"),s(xn.mipmask===(Pr<<1)-1,"missing or incomplete mipmap data")),xn.type===5126&&(Or.extensions.indexOf("oes_texture_float_linear")<0&&s(vn.minFilter===9728&&vn.magFilter===9728,"filter not supported, must enable oes_texture_float_linear"),s(!vn.genMipmaps,"mipmap generation not supported with float textures"));var $r=xn.images;for(Br=0;Br<16;++Br)if($r[Br]){var Xr=Pr>>Br,Nr=kr>>Br;s(xn.mipmask&1<<Br,"missing mipmap data");var Hr=$r[Br];if(s(Hr.width===Xr&&Hr.height===Nr,"invalid shape for mip images"),s(Hr.format===xn.format&&Hr.internalformat===xn.internalformat&&Hr.type===xn.type,"incompatible type for mip image"),!Hr.compressed)if(Hr.data){var oi=Math.ceil(mt(Hr.type,mi)*Xr/Hr.unpackAlignment)*Hr.unpackAlignment;s(Hr.data.byteLength===oi*Nr,"invalid data for image, buffer size is inconsistent with image format")}else Hr.element||Hr.copy}else vn.genMipmaps||s((xn.mipmask&1<<Br)==0,"extra mipmap data");xn.compressed&&s(!vn.genMipmaps,"mipmap generation for compressed images not supported")},textureCube:function(vn,xn,Or,Br){var Pr=vn.width,kr=vn.height,mi=vn.channels;s(Pr>0&&Pr<=Br.maxTextureSize&&kr>0&&kr<=Br.maxTextureSize,"invalid texture shape"),s(Pr===kr,"cube map must be square"),s(xn.wrapS===33071&&xn.wrapT===33071,"wrap mode not supported by cube map");for(var $r=0;$r<Or.length;++$r){var Xr=Or[$r];s(Xr.width===Pr&&Xr.height===kr,"inconsistent cube map face shape"),xn.genMipmaps&&(s(!Xr.compressed,"can not generate mipmap for compressed textures"),s(Xr.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var Nr=Xr.images,Hr=0;Hr<16;++Hr){var oi=Nr[Hr];if(oi){var yi=Pr>>Hr,si=kr>>Hr;s(Xr.mipmask&1<<Hr,"missing mipmap data"),s(oi.width===yi&&oi.height===si,"invalid shape for mip images"),s(oi.format===vn.format&&oi.internalformat===vn.internalformat&&oi.type===vn.type,"incompatible type for mip image"),oi.compressed||(oi.data?s(oi.data.byteLength===yi*si*Math.max(mt(oi.type,mi),oi.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):oi.element||oi.copy)}}}}}),Bt=0;function It(ln,vn){this.id=Bt++,this.type=ln,this.data=vn}function St(ln){return ln.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function H(ln){return"["+function vn(xn){if(xn.length===0)return[];var Or=xn.charAt(0),Br=xn.charAt(xn.length-1);if(xn.length>1&&Or===Br&&(Or==='"'||Or==="'"))return['"'+St(xn.substr(1,xn.length-2))+'"'];var Pr=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(xn);if(Pr)return vn(xn.substr(0,Pr.index)).concat(vn(Pr[1])).concat(vn(xn.substr(Pr.index+Pr[0].length)));var kr=xn.split(".");if(kr.length===1)return['"'+St(xn)+'"'];for(var mi=[],$r=0;$r<kr.length;++$r)mi=mi.concat(vn(kr[$r]));return mi}(ln).join("][")+"]"}var ot={DynamicVariable:It,define:function(vn,xn){return new It(vn,H(xn+""))},isDynamic:function(vn){return typeof vn=="function"&&!vn._reglType||vn instanceof It},unbox:function ln(vn,xn){return typeof vn=="function"?new It(0,vn):typeof vn=="number"||typeof vn=="boolean"?new It(5,vn):Array.isArray(vn)?new It(6,vn.map(function(Or,Br){return ln(Or,xn+"["+Br+"]")})):vn instanceof It?vn:void rt(!1,"invalid option type in uniform "+xn)},accessor:H},yt={next:typeof requestAnimationFrame=="function"?function(ln){return requestAnimationFrame(ln)}:function(ln){return setTimeout(ln,16)},cancel:typeof cancelAnimationFrame=="function"?function(ln){return cancelAnimationFrame(ln)}:clearTimeout},xt=typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function wt(ln){return typeof ln=="string"?ln.split():(rt(Array.isArray(ln),"invalid extension array"),ln)}function Q(ln){return typeof ln=="string"?(rt(typeof document!="undefined","not supported outside of DOM"),document.querySelector(ln)):ln}function ct(ln){var vn,xn,Or,Br,Pr,kr=ln||{},mi={},$r=[],Xr=[],Nr=typeof window=="undefined"?1:window.devicePixelRatio,Hr=!1,oi=function(zi){zi&&rt.raise(zi)},yi=function(){};if(typeof kr=="string"?(rt(typeof document!="undefined","selector queries only supported in DOM enviroments"),vn=document.querySelector(kr),rt(vn,"invalid query string for element")):b(kr)==="object"?typeof(Pr=kr).nodeName=="string"&&typeof Pr.appendChild=="function"&&typeof Pr.getBoundingClientRect=="function"?vn=kr:function(ti){return typeof ti.drawArrays=="function"||typeof ti.drawElements=="function"}(kr)?Or=(Br=kr).canvas:(rt.constructor(kr),"gl"in kr?Br=kr.gl:"canvas"in kr?Or=Q(kr.canvas):"container"in kr&&(xn=Q(kr.container)),"attributes"in kr&&(mi=kr.attributes,rt.type(mi,"object","invalid context attributes")),"extensions"in kr&&($r=wt(kr.extensions)),"optionalExtensions"in kr&&(Xr=wt(kr.optionalExtensions)),"onDone"in kr&&(rt.type(kr.onDone,"function","invalid or missing onDone callback"),oi=kr.onDone),"profile"in kr&&(Hr=!!kr.profile),"pixelRatio"in kr&&(Nr=+kr.pixelRatio,rt(Nr>0,"invalid pixel ratio"))):rt.raise("invalid arguments to regl"),vn&&(vn.nodeName.toLowerCase()==="canvas"?Or=vn:xn=vn),!Br){if(!Or){rt(typeof document!="undefined","must manually specify webgl context outside of DOM environments");var si=function(ti,zi,qi){var Sa,ea=document.createElement("canvas");function Fa(){var Ua=window.innerWidth,Na=window.innerHeight;if(ti!==document.body){var va=ti.getBoundingClientRect();Ua=va.right-va.left,Na=va.bottom-va.top}ea.width=qi*Ua,ea.height=qi*Na,T(ea.style,{width:Ua+"px",height:Na+"px"})}return T(ea.style,{border:0,margin:0,padding:0,top:0,left:0}),ti.appendChild(ea),ti===document.body&&(ea.style.position="absolute",T(ti.style,{margin:0,padding:0})),ti!==document.body&&typeof ResizeObserver=="function"?(Sa=new ResizeObserver(function(){setTimeout(Fa)})).observe(ti):window.addEventListener("resize",Fa,!1),Fa(),{canvas:ea,onDestroy:function(){Sa?Sa.disconnect():window.removeEventListener("resize",Fa),ti.removeChild(ea)}}}(xn||document.body,0,Nr);if(!si)return null;Or=si.canvas,yi=si.onDestroy}mi.premultipliedAlpha===void 0&&(mi.premultipliedAlpha=!0),Br=function(ti,zi){function qi(Sa){try{return ti.getContext(Sa,zi)}catch(ea){return null}}return qi("webgl")||qi("experimental-webgl")||qi("webgl-experimental")}(Or,mi)}return Br?{gl:Br,canvas:Or,container:xn,extensions:$r,optionalExtensions:Xr,pixelRatio:Nr,profile:Hr,onDone:oi,onDestroy:yi}:(yi(),oi("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function it(ln,vn){for(var xn=Array(ln),Or=0;Or<ln;++Or)xn[Or]=vn(Or);return xn}function U(ln){var vn,xn;return vn=(ln>65535)<<4,vn|=xn=((ln>>>=vn)>255)<<3,vn|=xn=((ln>>>=xn)>15)<<2,(vn|=xn=((ln>>>=xn)>3)<<1)|(ln>>>=xn)>>1}function D(){var ln=it(8,function(){return[]});function vn(Or){var Br=function(kr){for(var mi=16;mi<=1<<28;mi*=16)if(kr<=mi)return mi;return 0}(Or),Pr=ln[U(Br)>>2];return Pr.length>0?Pr.pop():new ArrayBuffer(Br)}function xn(Or){ln[U(Or.byteLength)>>2].push(Or)}return{alloc:vn,free:xn,allocType:function(Br,Pr){var kr=null;switch(Br){case 5120:kr=new Int8Array(vn(Pr),0,Pr);break;case 5121:kr=new Uint8Array(vn(Pr),0,Pr);break;case 5122:kr=new Int16Array(vn(2*Pr),0,Pr);break;case 5123:kr=new Uint16Array(vn(2*Pr),0,Pr);break;case 5124:kr=new Int32Array(vn(4*Pr),0,Pr);break;case 5125:kr=new Uint32Array(vn(4*Pr),0,Pr);break;case 5126:kr=new Float32Array(vn(4*Pr),0,Pr);break;default:return null}return kr.length!==Pr?kr.subarray(0,Pr):kr},freeType:function(Br){xn(Br.buffer)}}}var W=D();function P(ln){return!!ln&&b(ln)==="object"&&Array.isArray(ln.shape)&&Array.isArray(ln.stride)&&typeof ln.offset=="number"&&ln.shape.length===ln.stride.length&&(Array.isArray(ln.data)||E(ln.data))}W.zero=D();var m=function(vn){return Object.keys(vn).map(function(xn){return vn[xn]})},y={shape:function(vn){for(var xn=[],Or=vn;Or.length;Or=Or[0])xn.push(Or.length);return xn},flatten:function(vn,xn,Or,Br){var Pr=1;if(xn.length)for(var kr=0;kr<xn.length;++kr)Pr*=xn[kr];else Pr=0;var mi=Br||W.allocType(Or,Pr);switch(xn.length){case 0:break;case 1:(function($r,Xr,Nr){for(var Hr=0;Hr<Xr;++Hr)Nr[Hr]=$r[Hr]})(vn,xn[0],mi);break;case 2:(function($r,Xr,Nr,Hr){for(var oi=0,yi=0;yi<Xr;++yi)for(var si=$r[yi],ti=0;ti<Nr;++ti)Hr[oi++]=si[ti]})(vn,xn[0],xn[1],mi);break;case 3:V(vn,xn[0],xn[1],xn[2],mi,0);break;default:(function $r(Xr,Nr,Hr,oi,yi){for(var si=1,ti=Hr+1;ti<Nr.length;++ti)si*=Nr[ti];var zi=Nr[Hr];if(Nr.length-Hr==4){var qi=Nr[Hr+1],Sa=Nr[Hr+2],ea=Nr[Hr+3];for(ti=0;ti<zi;++ti)V(Xr[ti],qi,Sa,ea,oi,yi),yi+=si}else for(ti=0;ti<zi;++ti)$r(Xr[ti],Nr,Hr+1,oi,yi),yi+=si})(vn,xn,0,mi,0)}return mi}};function V(ln,vn,xn,Or,Br,Pr){for(var kr=Pr,mi=0;mi<vn;++mi)for(var $r=ln[mi],Xr=0;Xr<xn;++Xr)for(var Nr=$r[Xr],Hr=0;Hr<Or;++Hr)Br[kr++]=Nr[Hr]}var J={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},ht={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},gt={dynamic:35048,stream:35040,static:35044},Mt=y.flatten,Lt=y.shape,At=[];function Ct(ln){return 0|J[Object.prototype.toString.call(ln)]}function Ot(ln,vn){for(var xn=0;xn<vn.length;++xn)ln[xn]=vn[xn]}function Dt(ln,vn,xn,Or,Br,Pr,kr){for(var mi=0,$r=0;$r<xn;++$r)for(var Xr=0;Xr<Or;++Xr)ln[mi++]=vn[Br*$r+Pr*Xr+kr]}At[5120]=1,At[5122]=2,At[5124]=4,At[5121]=1,At[5123]=2,At[5125]=4,At[5126]=4;var Ft={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Xt=new Float32Array(1),Rt=new Uint32Array(Xt.buffer);function Kt(ln){for(var vn=W.allocType(5123,ln.length),xn=0;xn<ln.length;++xn)if(isNaN(ln[xn]))vn[xn]=65535;else if(ln[xn]===1/0)vn[xn]=31744;else if(ln[xn]===-1/0)vn[xn]=64512;else{Xt[0]=ln[xn];var Or=Rt[0],Br=Or>>>31<<15,Pr=(Or<<1>>>24)-127,kr=Or>>13&1023;if(Pr<-24)vn[xn]=Br;else if(Pr<-14){var mi=-14-Pr;vn[xn]=Br+(kr+1024>>mi)}else vn[xn]=Pr>15?Br+31744:Br+(Pr+15<<10)+kr}return vn}function $t(ln){return Array.isArray(ln)||E(ln)}var le=function(vn){return!(vn&vn-1||!vn)},Me=[9984,9986,9985,9987],on=[0,6409,6410,6407,6408],hn={};function Cn(ln){return"[object "+ln+"]"}hn[6409]=hn[6406]=hn[6402]=1,hn[34041]=hn[6410]=2,hn[6407]=hn[35904]=3,hn[6408]=hn[35906]=4;var He=Cn("HTMLCanvasElement"),mn=Cn("OffscreenCanvas"),dn=Cn("CanvasRenderingContext2D"),Un=Cn("ImageBitmap"),Xn=Cn("HTMLImageElement"),Hn=Cn("HTMLVideoElement"),_n=Object.keys(J).concat([He,mn,dn,Un,Xn,Hn]),$n=[];$n[5121]=1,$n[5126]=4,$n[36193]=2,$n[5123]=2,$n[5125]=4;var ir=[];function dr(ln){return Array.isArray(ln)&&(ln.length===0||typeof ln[0]=="number")}function xr(ln){return!!Array.isArray(ln)&&!(ln.length===0||!$t(ln[0]))}function Qr(ln){return Object.prototype.toString.call(ln)}function Mr(ln){return Qr(ln)===He}function Er(ln){return Qr(ln)===mn}function Dr(ln){if(!ln)return!1;var vn=Qr(ln);return _n.indexOf(vn)>=0||dr(ln)||xr(ln)||P(ln)}function hi(ln){return 0|J[Object.prototype.toString.call(ln)]}function Wi(ln,vn){return W.allocType(ln.type===36193?5126:ln.type,vn)}function oa(ln,vn){ln.type===36193?(ln.data=Kt(vn),W.freeType(vn)):ln.data=vn}function Za(ln,vn,xn,Or,Br,Pr){var kr;if(kr=ir[ln]!==void 0?ir[ln]:hn[ln]*$n[vn],Pr&&(kr*=6),Br){for(var mi=0,$r=xn;$r>=1;)mi+=kr*$r*$r,$r/=2;return mi}return kr*xn*Or}function ao(ln,vn,xn,Or,Br,Pr,kr){var mi={"don't care":4352,"dont care":4352,nice:4354,fast:4353},$r={repeat:10497,clamp:33071,mirror:33648},Xr={nearest:9728,linear:9729},Nr=T({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Xr),Hr={none:0,browser:37444},oi={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},yi={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},si={};vn.ext_srgb&&(yi.srgb=35904,yi.srgba=35906),vn.oes_texture_float&&(oi.float32=oi.float=5126),vn.oes_texture_half_float&&(oi.float16=oi["half float"]=36193),vn.webgl_depth_texture&&(T(yi,{depth:6402,"depth stencil":34041}),T(oi,{uint16:5123,uint32:5125,"depth stencil":34042})),vn.webgl_compressed_texture_s3tc&&T(si,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),vn.webgl_compressed_texture_atc&&T(si,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),vn.webgl_compressed_texture_pvrtc&&T(si,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),vn.webgl_compressed_texture_etc1&&(si["rgb etc1"]=36196);var ti=Array.prototype.slice.call(ln.getParameter(34467));Object.keys(si).forEach(function(te){var pe=si[te];ti.indexOf(pe)>=0&&(yi[te]=pe)});var zi=Object.keys(yi);xn.textureFormats=zi;var qi=[];Object.keys(yi).forEach(function(te){var pe=yi[te];qi[pe]=te});var Sa=[];Object.keys(oi).forEach(function(te){var pe=oi[te];Sa[pe]=te});var ea=[];Object.keys(Xr).forEach(function(te){ea[Xr[te]]=te});var Fa=[];Object.keys(Nr).forEach(function(te){var pe=Nr[te];Fa[pe]=te});var Ua=[];Object.keys($r).forEach(function(te){Ua[$r[te]]=te});var Na=zi.reduce(function(te,pe){var ve=yi[pe];return ve===6409||ve===6406||ve===6409||ve===6410||ve===6402||ve===34041||vn.ext_srgb&&(ve===35904||ve===35906)?te[ve]=ve:ve===32855||pe.indexOf("rgba")>=0?te[ve]=6408:te[ve]=6407,te},{});function va(){this.internalformat=6408,this.format=6408,this.type=5121,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=37444,this.width=0,this.height=0,this.channels=0}function ge(te,pe){te.internalformat=pe.internalformat,te.format=pe.format,te.type=pe.type,te.compressed=pe.compressed,te.premultiplyAlpha=pe.premultiplyAlpha,te.flipY=pe.flipY,te.unpackAlignment=pe.unpackAlignment,te.colorSpace=pe.colorSpace,te.width=pe.width,te.height=pe.height,te.channels=pe.channels}function F(te,pe){if(b(pe)==="object"&&pe){if("premultiplyAlpha"in pe&&(rt.type(pe.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),te.premultiplyAlpha=pe.premultiplyAlpha),"flipY"in pe&&(rt.type(pe.flipY,"boolean","invalid texture flip"),te.flipY=pe.flipY),"alignment"in pe&&(rt.oneOf(pe.alignment,[1,2,4,8],"invalid texture unpack alignment"),te.unpackAlignment=pe.alignment),"colorSpace"in pe&&(rt.parameter(pe.colorSpace,Hr,"invalid colorSpace"),te.colorSpace=Hr[pe.colorSpace]),"type"in pe){var ve=pe.type;rt(vn.oes_texture_float||!(ve==="float"||ve==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),rt(vn.oes_texture_half_float||!(ve==="half float"||ve==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),rt(vn.webgl_depth_texture||!(ve==="uint16"||ve==="uint32"||ve==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),rt.parameter(ve,oi,"invalid texture type"),te.type=oi[ve]}var de=te.width,Pe=te.height,ze=te.channels,Je=!1;"shape"in pe?(rt(Array.isArray(pe.shape)&&pe.shape.length>=2,"shape must be an array"),de=pe.shape[0],Pe=pe.shape[1],pe.shape.length===3&&(ze=pe.shape[2],rt(ze>0&&ze<=4,"invalid number of channels"),Je=!0),rt(de>=0&&de<=xn.maxTextureSize,"invalid width"),rt(Pe>=0&&Pe<=xn.maxTextureSize,"invalid height")):("radius"in pe&&(de=Pe=pe.radius,rt(de>=0&&de<=xn.maxTextureSize,"invalid radius")),"width"in pe&&(de=pe.width,rt(de>=0&&de<=xn.maxTextureSize,"invalid width")),"height"in pe&&(Pe=pe.height,rt(Pe>=0&&Pe<=xn.maxTextureSize,"invalid height")),"channels"in pe&&(ze=pe.channels,rt(ze>0&&ze<=4,"invalid number of channels"),Je=!0)),te.width=0|de,te.height=0|Pe,te.channels=0|ze;var Ve=!1;if("format"in pe){var cn=pe.format;rt(vn.webgl_depth_texture||!(cn==="depth"||cn==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),rt.parameter(cn,yi,"invalid texture format");var Be=te.internalformat=yi[cn];te.format=Na[Be],cn in oi&&("type"in pe||(te.type=oi[cn])),cn in si&&(te.compressed=!0),Ve=!0}!Je&&Ve?te.channels=hn[te.format]:Je&&!Ve?te.channels!==on[te.format]&&(te.format=te.internalformat=on[te.channels]):Ve&&Je&&rt(te.channels===hn[te.format],"number of channels inconsistent with specified format")}}function _(te){ln.pixelStorei(37440,te.flipY),ln.pixelStorei(37441,te.premultiplyAlpha),ln.pixelStorei(37443,te.colorSpace),ln.pixelStorei(3317,te.unpackAlignment)}function $(){va.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function dt(te,pe){var ve=null;if(Dr(pe)?ve=pe:pe&&(rt.type(pe,"object","invalid pixel data type"),F(te,pe),"x"in pe&&(te.xOffset=0|pe.x),"y"in pe&&(te.yOffset=0|pe.y),Dr(pe.data)&&(ve=pe.data)),rt(!te.compressed||ve instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),pe.copy){rt(!ve,"can not specify copy and data field for the same texture");var de=Br.viewportWidth,Pe=Br.viewportHeight;te.width=te.width||de-te.xOffset,te.height=te.height||Pe-te.yOffset,te.needsCopy=!0,rt(te.xOffset>=0&&te.xOffset<de&&te.yOffset>=0&&te.yOffset<Pe&&te.width>0&&te.width<=de&&te.height>0&&te.height<=Pe,"copy texture read out of bounds")}else if(ve){if(E(ve))te.channels=te.channels||4,te.data=ve,"type"in pe||te.type!==5121||(te.type=hi(ve));else if(dr(ve))te.channels=te.channels||4,function(we,Ye){var un=Ye.length;switch(we.type){case 5121:case 5123:case 5125:case 5126:var zn=W.allocType(we.type,un);zn.set(Ye),we.data=zn;break;case 36193:we.data=Kt(Ye);break;default:rt.raise("unsupported texture type, must specify a typed array")}}(te,ve),te.alignment=1,te.needsFree=!0;else if(P(ve)){var ze=ve.data;Array.isArray(ze)||te.type!==5121||(te.type=hi(ze));var Je,Ve,cn,Be,Mn,On,pn=ve.shape,Sn=ve.stride;pn.length===3?(cn=pn[2],On=Sn[2]):(rt(pn.length===2,"invalid ndarray pixel data, must be 2 or 3D"),cn=1,On=1),Je=pn[0],Ve=pn[1],Be=Sn[0],Mn=Sn[1],te.alignment=1,te.width=Je,te.height=Ve,te.channels=cn,te.format=te.internalformat=on[cn],te.needsFree=!0,function(we,Ye,un,zn,Nn,or){for(var Rr=we.width,xi=we.height,pi=we.channels,Kr=Wi(we,Rr*xi*pi),Ii=0,Gi=0;Gi<xi;++Gi)for(var Si=0;Si<Rr;++Si)for(var aa=0;aa<pi;++aa)Kr[Ii++]=Ye[un*Si+zn*Gi+Nn*aa+or];oa(we,Kr)}(te,ze,Be,Mn,On,ve.offset)}else if(Mr(ve)||Er(ve)||Qr(ve)===dn)Mr(ve)||Er(ve)?te.element=ve:te.element=ve.canvas,te.width=te.element.width,te.height=te.element.height,te.channels=4;else if(function(we){return Qr(we)===Un}(ve))te.element=ve,te.width=ve.width,te.height=ve.height,te.channels=4;else if(function(we){return Qr(we)===Xn}(ve))te.element=ve,te.width=ve.naturalWidth,te.height=ve.naturalHeight,te.channels=4;else if(function(we){return Qr(we)===Hn}(ve))te.element=ve,te.width=ve.videoWidth,te.height=ve.videoHeight,te.channels=4;else if(xr(ve)){var Rn=te.width||ve[0].length,lr=te.height||ve.length,Fn=te.channels;Fn=$t(ve[0][0])?Fn||ve[0][0].length:Fn||1;for(var tr=y.shape(ve),me=1,Se=0;Se<tr.length;++Se)me*=tr[Se];var ke=Wi(te,me);y.flatten(ve,tr,"",ke),oa(te,ke),te.alignment=1,te.width=Rn,te.height=lr,te.channels=Fn,te.format=te.internalformat=on[Fn],te.needsFree=!0}}else te.width=te.width||1,te.height=te.height||1,te.channels=te.channels||4;te.type===5126?rt(xn.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):te.type===36193&&rt(xn.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Gt(te,pe,ve){var de=te.element,Pe=te.data,ze=te.internalformat,Je=te.format,Ve=te.type,cn=te.width,Be=te.height;_(te),de?ln.texImage2D(pe,ve,Je,Je,Ve,de):te.compressed?ln.compressedTexImage2D(pe,ve,ze,cn,Be,0,Pe):te.needsCopy?(Or(),ln.copyTexImage2D(pe,ve,Je,te.xOffset,te.yOffset,cn,Be,0)):ln.texImage2D(pe,ve,Je,cn,Be,0,Je,Ve,Pe||null)}function Jt(te,pe,ve,de,Pe){var ze=te.element,Je=te.data,Ve=te.internalformat,cn=te.format,Be=te.type,Mn=te.width,On=te.height;_(te),ze?ln.texSubImage2D(pe,Pe,ve,de,cn,Be,ze):te.compressed?ln.compressedTexSubImage2D(pe,Pe,ve,de,Ve,Mn,On,Je):te.needsCopy?(Or(),ln.copyTexSubImage2D(pe,Pe,ve,de,te.xOffset,te.yOffset,Mn,On)):ln.texSubImage2D(pe,Pe,ve,de,Mn,On,cn,Be,Je)}var ce=[];function fe(){return ce.pop()||new $}function De(te){te.needsFree&&W.freeType(te.data),$.call(te),ce.push(te)}function We(){va.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function sn(te,pe,ve){var de=te.images[0]=fe();te.mipmask=1,de.width=te.width=pe,de.height=te.height=ve,de.channels=te.channels=4}function Dn(te,pe){var ve=null;if(Dr(pe))ge(ve=te.images[0]=fe(),te),dt(ve,pe),te.mipmask=1;else if(F(te,pe),Array.isArray(pe.mipmap))for(var de=pe.mipmap,Pe=0;Pe<de.length;++Pe)ge(ve=te.images[Pe]=fe(),te),ve.width>>=Pe,ve.height>>=Pe,dt(ve,de[Pe]),te.mipmask|=1<<Pe;else ge(ve=te.images[0]=fe(),te),dt(ve,pe),te.mipmask=1;ge(te,te.images[0]),!te.compressed||te.internalformat!==33776&&te.internalformat!==33777&&te.internalformat!==33778&&te.internalformat!==33779||rt(te.width%4==0&&te.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function Yt(te,pe){for(var ve=te.images,de=0;de<ve.length;++de){if(!ve[de])return;Gt(ve[de],pe,de)}}var Zt=[];function Ae(){var te=Zt.pop()||new We;va.call(te),te.mipmask=0;for(var pe=0;pe<16;++pe)te.images[pe]=null;return te}function Ht(te){for(var pe=te.images,ve=0;ve<pe.length;++ve)pe[ve]&&De(pe[ve]),pe[ve]=null;Zt.push(te)}function he(){this.minFilter=9728,this.magFilter=9728,this.wrapS=33071,this.wrapT=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function En(te,pe){if("min"in pe){var ve=pe.min;rt.parameter(ve,Nr),te.minFilter=Nr[ve],Me.indexOf(te.minFilter)>=0&&!("faces"in pe)&&(te.genMipmaps=!0)}if("mag"in pe){var de=pe.mag;rt.parameter(de,Xr),te.magFilter=Xr[de]}var Pe=te.wrapS,ze=te.wrapT;if("wrap"in pe){var Je=pe.wrap;typeof Je=="string"?(rt.parameter(Je,$r),Pe=ze=$r[Je]):Array.isArray(Je)&&(rt.parameter(Je[0],$r),rt.parameter(Je[1],$r),Pe=$r[Je[0]],ze=$r[Je[1]])}else{if("wrapS"in pe){var Ve=pe.wrapS;rt.parameter(Ve,$r),Pe=$r[Ve]}if("wrapT"in pe){var cn=pe.wrapT;rt.parameter(cn,$r),ze=$r[cn]}}if(te.wrapS=Pe,te.wrapT=ze,"anisotropic"in pe){var Be=pe.anisotropic;rt(typeof Be=="number"&&Be>=1&&Be<=xn.maxAnisotropic,"aniso samples must be between 1 and "),te.anisotropic=pe.anisotropic}if("mipmap"in pe){var Mn=!1;switch(b(pe.mipmap)){case"string":rt.parameter(pe.mipmap,mi,"invalid mipmap hint"),te.mipmapHint=mi[pe.mipmap],te.genMipmaps=!0,Mn=!0;break;case"boolean":Mn=te.genMipmaps=pe.mipmap;break;case"object":rt(Array.isArray(pe.mipmap),"invalid mipmap type"),te.genMipmaps=!1,Mn=!0;break;default:rt.raise("invalid mipmap type")}Mn&&!("min"in pe)&&(te.minFilter=9984)}}function Qn(te,pe){ln.texParameteri(pe,10241,te.minFilter),ln.texParameteri(pe,10240,te.magFilter),ln.texParameteri(pe,10242,te.wrapS),ln.texParameteri(pe,10243,te.wrapT),vn.ext_texture_filter_anisotropic&&ln.texParameteri(pe,34046,te.anisotropic),te.genMipmaps&&(ln.hint(33170,te.mipmapHint),ln.generateMipmap(pe))}var fr=0,ar={},an=xn.maxTextureUnits,Re=Array(an).map(function(){return null});function L(te){va.call(this),this.mipmask=0,this.internalformat=6408,this.id=fr++,this.refCount=1,this.target=te,this.texture=ln.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new he,kr.profile&&(this.stats={size:0})}function bt(te){ln.activeTexture(33984),ln.bindTexture(te.target,te.texture)}function ie(){var te=Re[0];te?ln.bindTexture(te.target,te.texture):ln.bindTexture(3553,null)}function Ee(te){var pe=te.texture;rt(pe,"must not double destroy texture");var ve=te.unit,de=te.target;ve>=0&&(ln.activeTexture(33984+ve),ln.bindTexture(de,null),Re[ve]=null),ln.deleteTexture(pe),te.texture=null,te.params=null,te.pixels=null,te.refCount=0,delete ar[te.id],Pr.textureCount--}return T(L.prototype,{bind:function(){this.bindCount+=1;var pe=this.unit;if(pe<0){for(var ve=0;ve<an;++ve){var de=Re[ve];if(de){if(de.bindCount>0)continue;de.unit=-1}Re[ve]=this,pe=ve;break}pe>=an&&rt.raise("insufficient number of texture units"),kr.profile&&Pr.maxTextureUnits<pe+1&&(Pr.maxTextureUnits=pe+1),this.unit=pe,ln.activeTexture(33984+pe),ln.bindTexture(this.target,this.texture)}return pe},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Ee(this)}}),kr.profile&&(Pr.getTotalTextureSize=function(){var te=0;return Object.keys(ar).forEach(function(pe){te+=ar[pe].stats.size}),te}),{create2D:function(pe,ve){var de=new L(3553);function Pe(ze,Je){var Ve=de.texInfo;he.call(Ve);var cn=Ae();return typeof ze=="number"?sn(cn,0|ze,typeof Je=="number"?0|Je:0|ze):ze?(rt.type(ze,"object","invalid arguments to regl.texture"),En(Ve,ze),Dn(cn,ze)):sn(cn,1,1),Ve.genMipmaps&&(cn.mipmask=(cn.width<<1)-1),de.mipmask=cn.mipmask,ge(de,cn),rt.texture2D(Ve,cn,xn),de.internalformat=cn.internalformat,Pe.width=cn.width,Pe.height=cn.height,bt(de),Yt(cn,3553),Qn(Ve,3553),ie(),Ht(cn),kr.profile&&(de.stats.size=Za(de.internalformat,de.type,cn.width,cn.height,Ve.genMipmaps,!1)),Pe.format=qi[de.internalformat],Pe.type=Sa[de.type],Pe.mag=ea[Ve.magFilter],Pe.min=Fa[Ve.minFilter],Pe.wrapS=Ua[Ve.wrapS],Pe.wrapT=Ua[Ve.wrapT],Pe}return ar[de.id]=de,Pr.textureCount++,Pe(pe,ve),Pe.subimage=function(ze,Je,Ve,cn){rt(!!ze,"must specify image data");var Be=0|Je,Mn=0|Ve,On=0|cn,pn=fe();return ge(pn,de),pn.width=0,pn.height=0,dt(pn,ze),pn.width=pn.width||(de.width>>On)-Be,pn.height=pn.height||(de.height>>On)-Mn,rt(de.type===pn.type&&de.format===pn.format&&de.internalformat===pn.internalformat,"incompatible format for texture.subimage"),rt(Be>=0&&Mn>=0&&Be+pn.width<=de.width&&Mn+pn.height<=de.height,"texture.subimage write out of bounds"),rt(de.mipmask&1<<On,"missing mipmap data"),rt(pn.data||pn.element||pn.needsCopy,"missing image data"),bt(de),Jt(pn,3553,Be,Mn,On),ie(),De(pn),Pe},Pe.resize=function(ze,Je){var Ve=0|ze,cn=0|Je||Ve;if(Ve===de.width&&cn===de.height)return Pe;Pe.width=de.width=Ve,Pe.height=de.height=cn,bt(de);for(var Be=0;de.mipmask>>Be;++Be){var Mn=Ve>>Be,On=cn>>Be;if(!Mn||!On)break;ln.texImage2D(3553,Be,de.format,Mn,On,0,de.format,de.type,null)}return ie(),kr.profile&&(de.stats.size=Za(de.internalformat,de.type,Ve,cn,!1,!1)),Pe},Pe._reglType="texture2d",Pe._texture=de,kr.profile&&(Pe.stats=de.stats),Pe.destroy=function(){de.decRef()},Pe},createCube:function(pe,ve,de,Pe,ze,Je){var Ve=new L(34067);ar[Ve.id]=Ve,Pr.cubeCount++;var cn=new Array(6);function Be(Mn,On,pn,Sn,Rn,lr){var Fn,tr=Ve.texInfo;for(he.call(tr),Fn=0;Fn<6;++Fn)cn[Fn]=Ae();if(typeof Mn!="number"&&Mn)if(b(Mn)==="object")if(On)Dn(cn[0],Mn),Dn(cn[1],On),Dn(cn[2],pn),Dn(cn[3],Sn),Dn(cn[4],Rn),Dn(cn[5],lr);else if(En(tr,Mn),F(Ve,Mn),"faces"in Mn){var me=Mn.faces;for(rt(Array.isArray(me)&&me.length===6,"cube faces must be a length 6 array"),Fn=0;Fn<6;++Fn)rt(b(me[Fn])==="object"&&!!me[Fn],"invalid input for cube map face"),ge(cn[Fn],Ve),Dn(cn[Fn],me[Fn])}else for(Fn=0;Fn<6;++Fn)Dn(cn[Fn],Mn);else rt.raise("invalid arguments to cube map");else{var Se=0|Mn||1;for(Fn=0;Fn<6;++Fn)sn(cn[Fn],Se,Se)}for(ge(Ve,cn[0]),xn.npotTextureCube||rt(le(Ve.width)&&le(Ve.height),"your browser does not support non power or two texture dimensions"),tr.genMipmaps?Ve.mipmask=(cn[0].width<<1)-1:Ve.mipmask=cn[0].mipmask,rt.textureCube(Ve,tr,cn,xn),Ve.internalformat=cn[0].internalformat,Be.width=cn[0].width,Be.height=cn[0].height,bt(Ve),Fn=0;Fn<6;++Fn)Yt(cn[Fn],34069+Fn);for(Qn(tr,34067),ie(),kr.profile&&(Ve.stats.size=Za(Ve.internalformat,Ve.type,Be.width,Be.height,tr.genMipmaps,!0)),Be.format=qi[Ve.internalformat],Be.type=Sa[Ve.type],Be.mag=ea[tr.magFilter],Be.min=Fa[tr.minFilter],Be.wrapS=Ua[tr.wrapS],Be.wrapT=Ua[tr.wrapT],Fn=0;Fn<6;++Fn)Ht(cn[Fn]);return Be}return Be(pe,ve,de,Pe,ze,Je),Be.subimage=function(Mn,On,pn,Sn,Rn){rt(!!On,"must specify image data"),rt(typeof Mn=="number"&&Mn===(0|Mn)&&Mn>=0&&Mn<6,"invalid face");var lr=0|pn,Fn=0|Sn,tr=0|Rn,me=fe();return ge(me,Ve),me.width=0,me.height=0,dt(me,On),me.width=me.width||(Ve.width>>tr)-lr,me.height=me.height||(Ve.height>>tr)-Fn,rt(Ve.type===me.type&&Ve.format===me.format&&Ve.internalformat===me.internalformat,"incompatible format for texture.subimage"),rt(lr>=0&&Fn>=0&&lr+me.width<=Ve.width&&Fn+me.height<=Ve.height,"texture.subimage write out of bounds"),rt(Ve.mipmask&1<<tr,"missing mipmap data"),rt(me.data||me.element||me.needsCopy,"missing image data"),bt(Ve),Jt(me,34069+Mn,lr,Fn,tr),ie(),De(me),Be},Be.resize=function(Mn){var On=0|Mn;if(On!==Ve.width){Be.width=Ve.width=On,Be.height=Ve.height=On,bt(Ve);for(var pn=0;pn<6;++pn)for(var Sn=0;Ve.mipmask>>Sn;++Sn)ln.texImage2D(34069+pn,Sn,Ve.format,On>>Sn,On>>Sn,0,Ve.format,Ve.type,null);return ie(),kr.profile&&(Ve.stats.size=Za(Ve.internalformat,Ve.type,Be.width,Be.height,!1,!0)),Be}},Be._reglType="textureCube",Be._texture=Ve,kr.profile&&(Be.stats=Ve.stats),Be.destroy=function(){Ve.decRef()},Be},clear:function(){for(var pe=0;pe<an;++pe)ln.activeTexture(33984+pe),ln.bindTexture(3553,null),Re[pe]=null;m(ar).forEach(Ee),Pr.cubeCount=0,Pr.textureCount=0},getTexture:function(pe){return null},restore:function(){for(var pe=0;pe<an;++pe){var ve=Re[pe];ve&&(ve.bindCount=0,ve.unit=-1,Re[pe]=null)}m(ar).forEach(function(de){de.texture=ln.createTexture(),ln.bindTexture(de.target,de.texture);for(var Pe=0;Pe<32;++Pe)if((de.mipmask&1<<Pe)!=0)if(de.target===3553)ln.texImage2D(3553,Pe,de.internalformat,de.width>>Pe,de.height>>Pe,0,de.internalformat,de.type,null);else for(var ze=0;ze<6;++ze)ln.texImage2D(34069+ze,Pe,de.internalformat,de.width>>Pe,de.height>>Pe,0,de.internalformat,de.type,null);Qn(de.texInfo,de.target)})},refresh:function(){for(var pe=0;pe<an;++pe){var ve=Re[pe];ve&&(ve.bindCount=0,ve.unit=-1,Re[pe]=null),ln.activeTexture(33984+pe),ln.bindTexture(3553,null),ln.bindTexture(34067,null)}}}}ir[32854]=2,ir[32855]=2,ir[36194]=2,ir[34041]=4,ir[33776]=.5,ir[33777]=.5,ir[33778]=1,ir[33779]=1,ir[35986]=.5,ir[35987]=1,ir[34798]=1,ir[35840]=.5,ir[35841]=.25,ir[35842]=.5,ir[35843]=.25,ir[36196]=.5;var Ji=[];function Ya(ln,vn,xn){return Ji[ln]*vn*xn}Ji[32854]=2,Ji[32855]=2,Ji[36194]=2,Ji[33189]=2,Ji[36168]=1,Ji[34041]=4,Ji[35907]=4,Ji[34836]=16,Ji[34842]=8,Ji[34843]=6;var Ca=[6407,6408],La=[];La[6408]=4,La[6407]=3;var Ba=[];Ba[5121]=1,Ba[5126]=4,Ba[36193]=2;var oo=[32854,32855,36194,35907,34842,34843,34836],Yr={};function $a(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.offset=0,this.stride=0,this.divisor=0}function Ma(ln,vn,xn,Or,Br,Pr,kr){function mi($r){var Xr;vn.next===null?(rt(Br.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),Xr=5121):(rt(vn.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),Xr=vn.next.colorAttachments[0].texture._texture.type,Pr.oes_texture_float?(rt(Xr===5121||Xr===5126,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),Xr===5126&&rt(kr.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):rt(Xr===5121,"Reading from a framebuffer is only allowed for the type 'uint8'"));var Nr=0,Hr=0,oi=Or.framebufferWidth,yi=Or.framebufferHeight,si=null;E($r)?si=$r:$r&&(rt.type($r,"object","invalid arguments to regl.read()"),Nr=0|$r.x,Hr=0|$r.y,rt(Nr>=0&&Nr<Or.framebufferWidth,"invalid x offset for regl.read"),rt(Hr>=0&&Hr<Or.framebufferHeight,"invalid y offset for regl.read"),oi=0|($r.width||Or.framebufferWidth-Nr),yi=0|($r.height||Or.framebufferHeight-Hr),si=$r.data||null),si&&(Xr===5121?rt(si instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):Xr===5126&&rt(si instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),rt(oi>0&&oi+Nr<=Or.framebufferWidth,"invalid width for read pixels"),rt(yi>0&&yi+Hr<=Or.framebufferHeight,"invalid height for read pixels"),xn();var ti=oi*yi*4;return si||(Xr===5121?si=new Uint8Array(ti):Xr===5126&&(si=si||new Float32Array(ti))),rt.isTypedArray(si,"data buffer for regl.read() must be a typedarray"),rt(si.byteLength>=ti,"data buffer for regl.read() too small"),ln.pixelStorei(3333,4),ln.readPixels(Nr,Hr,oi,yi,6408,Xr,si),si}return function($r){return $r&&"framebuffer"in $r?function(Xr){var Nr;return vn.setFBO({framebuffer:Xr.framebuffer},function(){Nr=mi(Xr)}),Nr}($r):mi($r)}}function to(ln){return Array.prototype.slice.call(ln)}function Aa(ln){return to(ln).join("")}Yr[36053]="complete",Yr[36054]="incomplete attachment",Yr[36057]="incomplete dimensions",Yr[36055]="incomplete, missing attachment",Yr[36061]="unsupported";var Vr="xyzw".split(""),Pi="profile",wi="framebuffer",Ei="vert",bi="frag",Di="elements",Fi="primitive",Ni="count",ji="offset",Xi="instances",Ki="vao",la=wi+"Width",ta=wi+"Height",ma=["blend.func","blend.equation","stencil.func","stencil.opFront","stencil.opBack","sample.coverage","viewport","scissor.box","polygonOffset.offset"],Oa={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},uo=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],sa={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Xa={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},po={frag:35632,vert:35633},bo={cw:2304,ccw:2305};function Mo(ln){return Array.isArray(ln)||E(ln)||P(ln)}function Po(ln){return ln.sort(function(vn,xn){return vn==="viewport"?-1:xn==="viewport"?1:vn<xn?-1:1})}function ue(ln,vn,xn,Or){this.thisDep=ln,this.contextDep=vn,this.propDep=xn,this.append=Or}function Qt(ln){return ln&&!(ln.thisDep||ln.contextDep||ln.propDep)}function ne(ln){return new ue(!1,!1,!1,ln)}function Ce(ln,vn){var xn=ln.type;if(xn===0){var Or=ln.data.length;return new ue(!0,Or>=1,Or>=2,vn)}if(xn===4){var Br=ln.data;return new ue(Br.thisDep,Br.contextDep,Br.propDep,vn)}if(xn===5)return new ue(!1,!1,!1,vn);if(xn===6){for(var Pr=!1,kr=!1,mi=!1,$r=0;$r<ln.data.length;++$r){var Xr=ln.data[$r];if(Xr.type===1)mi=!0;else if(Xr.type===2)kr=!0;else if(Xr.type===3)Pr=!0;else if(Xr.type===0){Pr=!0;var Nr=Xr.data;Nr>=1&&(kr=!0),Nr>=2&&(mi=!0)}else Xr.type===4&&(Pr=Pr||Xr.data.thisDep,kr=kr||Xr.data.contextDep,mi=mi||Xr.data.propDep)}return new ue(Pr,kr,mi,vn)}return new ue(xn===3,xn===2,xn===1,vn)}var en=new ue(!1,!1,!1,function(){});function kn(ln,vn,xn,Or,Br,Pr,kr,mi,$r,Xr,Nr,Hr,oi,yi,si){var ti=Xr.Record,zi={add:32774,subtract:32778,"reverse subtract":32779};xn.ext_blend_minmax&&(zi.min=32775,zi.max=32776);var qi=xn.angle_instanced_arrays,Sa=xn.webgl_draw_buffers,ea={dirty:!0,profile:si.profile},Fa={},Ua=[],Na={},va={};function ge(an){return an.replace(".","_")}function F(an,Re,L){var bt=ge(an);Ua.push(an),Fa[bt]=ea[bt]=!!L,Na[bt]=Re}function _(an,Re,L){var bt=ge(an);Ua.push(an),Array.isArray(L)?(ea[bt]=L.slice(),Fa[bt]=L.slice()):ea[bt]=Fa[bt]=L,va[bt]=Re}F("dither",3024),F("blend.enable",3042),_("blend.color","blendColor",[0,0,0,0]),_("blend.equation","blendEquationSeparate",[32774,32774]),_("blend.func","blendFuncSeparate",[1,0,1,0]),F("depth.enable",2929,!0),_("depth.func","depthFunc",513),_("depth.range","depthRange",[0,1]),_("depth.mask","depthMask",!0),_("colorMask","colorMask",[!0,!0,!0,!0]),F("cull.enable",2884),_("cull.face","cullFace",1029),_("frontFace","frontFace",2305),_("lineWidth","lineWidth",1),F("polygonOffset.enable",32823),_("polygonOffset.offset","polygonOffset",[0,0]),F("sample.alpha",32926),F("sample.enable",32928),_("sample.coverage","sampleCoverage",[1,!1]),F("stencil.enable",2960),_("stencil.mask","stencilMask",-1),_("stencil.func","stencilFunc",[519,0,-1]),_("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),_("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),F("scissor.enable",3089),_("scissor.box","scissor",[0,0,ln.drawingBufferWidth,ln.drawingBufferHeight]),_("viewport","viewport",[0,0,ln.drawingBufferWidth,ln.drawingBufferHeight]);var $={gl:ln,context:oi,strings:vn,next:Fa,current:ea,draw:Hr,elements:Pr,buffer:Br,shader:Nr,attributes:Xr.state,vao:Xr,uniforms:$r,framebuffer:mi,extensions:xn,timer:yi,isBufferArgs:Mo},dt={primTypes:Ft,compareFuncs:sa,blendFuncs:Oa,blendEquations:zi,stencilOps:Xa,glTypes:ht,orientationType:bo};rt.optional(function(){$.isArrayLike=$t}),Sa&&(dt.backBuffer=[1029],dt.drawBuffer=it(Or.maxDrawbuffers,function(an){return an===0?[0]:it(an,function(Re){return 36064+Re})}));var Gt=0;function Jt(){var an=function(){var de=0,Pe=[],ze=[];function Je(){var Mn=[],On=[];return T(function(){Mn.push.apply(Mn,to(arguments))},{def:function(){var Sn="v"+de++;return On.push(Sn),arguments.length>0&&(Mn.push(Sn,"="),Mn.push.apply(Mn,to(arguments)),Mn.push(";")),Sn},toString:function(){return Aa([On.length>0?"var "+On.join(",")+";":"",Aa(Mn)])}})}function Ve(){var Mn=Je(),On=Je(),pn=Mn.toString,Sn=On.toString;function Rn(lr,Fn){On(lr,Fn,"=",Mn.def(lr,Fn),";")}return T(function(){Mn.apply(Mn,to(arguments))},{def:Mn.def,entry:Mn,exit:On,save:Rn,set:function(Fn,tr,me){Rn(Fn,tr),Mn(Fn,tr,"=",me,";")},toString:function(){return pn()+Sn()}})}var cn=Je(),Be={};return{global:cn,link:function(On){for(var pn=0;pn<ze.length;++pn)if(ze[pn]===On)return Pe[pn];var Sn="g"+de++;return Pe.push(Sn),ze.push(On),Sn},block:Je,proc:function(On,pn){var Sn=[];function Rn(){var me="a"+Sn.length;return Sn.push(me),me}pn=pn||0;for(var lr=0;lr<pn;++lr)Rn();var Fn=Ve(),tr=Fn.toString;return Be[On]=T(Fn,{arg:Rn,toString:function(){return Aa(["function(",Sn.join(),"){",tr(),"}"])}})},scope:Ve,cond:function(){var On=Aa(arguments),pn=Ve(),Sn=Ve(),Rn=pn.toString,lr=Sn.toString;return T(pn,{then:function(){return pn.apply(pn,to(arguments)),this},else:function(){return Sn.apply(Sn,to(arguments)),this},toString:function(){var tr=lr();return tr&&(tr="else{"+tr+"}"),Aa(["if(",On,"){",Rn(),"}",tr])}})},compile:function(){var On=['"use strict";',cn,"return {"];Object.keys(Be).forEach(function(Sn){On.push('"',Sn,'":',Be[Sn].toString(),",")}),On.push("}");var pn=Aa(On).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`);return Function.apply(null,Pe.concat(pn)).apply(null,ze)}}}(),Re=an.link,L=an.global;an.id=Gt++,an.batchId="0";var bt=Re($),ie=an.shared={props:"a0"};Object.keys($).forEach(function(de){ie[de]=L.def(bt,".",de)}),rt.optional(function(){an.CHECK=Re(rt),an.commandStr=rt.guessCommand(),an.command=Re(an.commandStr),an.assert=function(de,Pe,ze){de("if(!(",Pe,"))",this.CHECK,".commandRaise(",Re(ze),",",this.command,");")},dt.invalidBlendCombinations=uo});var Ee=an.next={},te=an.current={};Object.keys(va).forEach(function(de){Array.isArray(ea[de])&&(Ee[de]=L.def(ie.next,".",de),te[de]=L.def(ie.current,".",de))});var pe=an.constants={};Object.keys(dt).forEach(function(de){pe[de]=L.def(JSON.stringify(dt[de]))}),an.invoke=function(de,Pe){switch(Pe.type){case 0:var ze=["this",ie.context,ie.props,an.batchId];return de.def(Re(Pe.data),".call(",ze.slice(0,Math.max(Pe.data.length+1,4)),")");case 1:return de.def(ie.props,Pe.data);case 2:return de.def(ie.context,Pe.data);case 3:return de.def("this",Pe.data);case 4:return Pe.data.append(an,de),Pe.data.ref;case 5:return Pe.data.toString();case 6:return Pe.data.map(function(Je){return an.invoke(de,Je)})}},an.attribCache={};var ve={};return an.scopeAttrib=function(de){var Pe=vn.id(de);if(Pe in ve)return ve[Pe];var ze=Xr.scope[Pe];return ze||(ze=Xr.scope[Pe]=new ti),ve[Pe]=Re(ze)},an}function ce(an,Re,L,bt,ie){var Ee=an.static,te=an.dynamic;rt.optional(function(){var Sn=[wi,Ei,bi,Di,Fi,ji,Ni,Xi,Pi,Ki].concat(Ua);function Rn(lr){Object.keys(lr).forEach(function(Fn){rt.command(Sn.indexOf(Fn)>=0,'unknown parameter "'+Fn+'"',ie.commandStr)})}Rn(Ee),Rn(te)});var pe=function(Sn,Rn){var lr=Sn.static;if(typeof lr[bi]=="string"&&typeof lr[Ei]=="string"){if(Object.keys(Rn.dynamic).length>0)return null;var Fn=Rn.static,tr=Object.keys(Fn);if(tr.length>0&&typeof Fn[tr[0]]=="number"){for(var me=[],Se=0;Se<tr.length;++Se)rt(typeof Fn[tr[Se]]=="number","must specify all vertex attribute locations when using vaos"),me.push([0|Fn[tr[Se]],tr[Se]]);return me}}return null}(an,Re),ve=function(Sn,Rn){var lr=Sn.static,Fn=Sn.dynamic;if(wi in lr){var tr=lr[wi];return tr?(tr=mi.getFramebuffer(tr),rt.command(tr,"invalid framebuffer object"),ne(function(Se,ke){var we=Se.link(tr),Ye=Se.shared;ke.set(Ye.framebuffer,".next",we);var un=Ye.context;return ke.set(un,"."+la,we+".width"),ke.set(un,"."+ta,we+".height"),we})):ne(function(Se,ke){var we=Se.shared;ke.set(we.framebuffer,".next","null");var Ye=we.context;return ke.set(Ye,"."+la,Ye+".drawingBufferWidth"),ke.set(Ye,"."+ta,Ye+".drawingBufferHeight"),"null"})}if(wi in Fn){var me=Fn[wi];return Ce(me,function(Se,ke){var we=Se.invoke(ke,me),Ye=Se.shared,un=Ye.framebuffer,zn=ke.def(un,".getFramebuffer(",we,")");rt.optional(function(){Se.assert(ke,"!"+we+"||"+zn,"invalid framebuffer object")}),ke.set(un,".next",zn);var Nn=Ye.context;return ke.set(Nn,"."+la,zn+"?"+zn+".width:"+Nn+".drawingBufferWidth"),ke.set(Nn,"."+ta,zn+"?"+zn+".height:"+Nn+".drawingBufferHeight"),zn})}return null}(an),de=function(Sn,Rn,lr){var Fn=Sn.static,tr=Sn.dynamic;function me(we){if(we in Fn){var Ye=Fn[we];rt.commandType(Ye,"object","invalid "+we,lr.commandStr);var un,zn,Nn=!0,or=0|Ye.x,Rr=0|Ye.y;return"width"in Ye?(un=0|Ye.width,rt.command(un>=0,"invalid "+we,lr.commandStr)):Nn=!1,"height"in Ye?(zn=0|Ye.height,rt.command(zn>=0,"invalid "+we,lr.commandStr)):Nn=!1,new ue(!Nn&&Rn&&Rn.thisDep,!Nn&&Rn&&Rn.contextDep,!Nn&&Rn&&Rn.propDep,function(Kr,Ii){var Gi=Kr.shared.context,Si=un;"width"in Ye||(Si=Ii.def(Gi,".",la,"-",or));var aa=zn;return"height"in Ye||(aa=Ii.def(Gi,".",ta,"-",Rr)),[or,Rr,Si,aa]})}if(we in tr){var xi=tr[we],pi=Ce(xi,function(Kr,Ii){var Gi=Kr.invoke(Ii,xi);rt.optional(function(){Kr.assert(Ii,Gi+"&&typeof "+Gi+'==="object"',"invalid "+we)});var Si=Kr.shared.context,aa=Ii.def(Gi,".x|0"),Xo=Ii.def(Gi,".y|0"),Wa=Ii.def('"width" in ',Gi,"?",Gi,".width|0:","(",Si,".",la,"-",aa,")"),Zo=Ii.def('"height" in ',Gi,"?",Gi,".height|0:","(",Si,".",ta,"-",Xo,")");return rt.optional(function(){Kr.assert(Ii,Wa+">=0&&"+Zo+">=0","invalid "+we)}),[aa,Xo,Wa,Zo]});return Rn&&(pi.thisDep=pi.thisDep||Rn.thisDep,pi.contextDep=pi.contextDep||Rn.contextDep,pi.propDep=pi.propDep||Rn.propDep),pi}return Rn?new ue(Rn.thisDep,Rn.contextDep,Rn.propDep,function(Kr,Ii){var Gi=Kr.shared.context;return[0,0,Ii.def(Gi,".",la),Ii.def(Gi,".",ta)]}):null}var Se=me("viewport");if(Se){var ke=Se;Se=new ue(Se.thisDep,Se.contextDep,Se.propDep,function(we,Ye){var un=ke.append(we,Ye),zn=we.shared.context;return Ye.set(zn,".viewportWidth",un[2]),Ye.set(zn,".viewportHeight",un[3]),un})}return{viewport:Se,scissor_box:me("scissor.box")}}(an,ve,ie),Pe=function(Sn,Rn){var lr=Sn.static,Fn=Sn.dynamic,tr=function(){if(Di in lr){var ke=lr[Di];Mo(ke)?ke=Pr.getElements(Pr.create(ke,!0)):ke&&(ke=Pr.getElements(ke),rt.command(ke,"invalid elements",Rn.commandStr));var we=ne(function(un,zn){if(ke){var Nn=un.link(ke);return un.ELEMENTS=Nn,Nn}return un.ELEMENTS=null,null});return we.value=ke,we}if(Di in Fn){var Ye=Fn[Di];return Ce(Ye,function(un,zn){var Nn=un.shared,or=Nn.isBufferArgs,Rr=Nn.elements,xi=un.invoke(zn,Ye),pi=zn.def("null"),Kr=zn.def(or,"(",xi,")"),Ii=un.cond(Kr).then(pi,"=",Rr,".createStream(",xi,");").else(pi,"=",Rr,".getElements(",xi,");");return rt.optional(function(){un.assert(Ii.else,"!"+xi+"||"+pi,"invalid elements")}),zn.entry(Ii),zn.exit(un.cond(Kr).then(Rr,".destroyStream(",pi,");")),un.ELEMENTS=pi,pi})}return null}();function me(ke,we){if(ke in lr){var Ye=0|lr[ke];return rt.command(!we||Ye>=0,"invalid "+ke,Rn.commandStr),ne(function(zn,Nn){return we&&(zn.OFFSET=Ye),Ye})}if(ke in Fn){var un=Fn[ke];return Ce(un,function(zn,Nn){var or=zn.invoke(Nn,un);return we&&(zn.OFFSET=or,rt.optional(function(){zn.assert(Nn,or+">=0","invalid "+ke)})),or})}return we&&tr?ne(function(zn,Nn){return zn.OFFSET="0",0}):null}var Se=me(ji,!0);return{elements:tr,primitive:function(){if(Fi in lr){var ke=lr[Fi];return rt.commandParameter(ke,Ft,"invalid primitve",Rn.commandStr),ne(function(Ye,un){return Ft[ke]})}if(Fi in Fn){var we=Fn[Fi];return Ce(we,function(Ye,un){var zn=Ye.constants.primTypes,Nn=Ye.invoke(un,we);return rt.optional(function(){Ye.assert(un,Nn+" in "+zn,"invalid primitive, must be one of "+Object.keys(Ft))}),un.def(zn,"[",Nn,"]")})}return tr?Qt(tr)?tr.value?ne(function(Ye,un){return un.def(Ye.ELEMENTS,".primType")}):ne(function(){return 4}):new ue(tr.thisDep,tr.contextDep,tr.propDep,function(Ye,un){var zn=Ye.ELEMENTS;return un.def(zn,"?",zn,".primType:",4)}):null}(),count:function(){if(Ni in lr){var ke=0|lr[Ni];return rt.command(typeof ke=="number"&&ke>=0,"invalid vertex count",Rn.commandStr),ne(function(){return ke})}if(Ni in Fn){var we=Fn[Ni];return Ce(we,function(zn,Nn){var or=zn.invoke(Nn,we);return rt.optional(function(){zn.assert(Nn,"typeof "+or+'==="number"&&'+or+">=0&&"+or+"===("+or+"|0)","invalid vertex count")}),or})}if(tr){if(Qt(tr)){if(tr)return Se?new ue(Se.thisDep,Se.contextDep,Se.propDep,function(zn,Nn){var or=Nn.def(zn.ELEMENTS,".vertCount-",zn.OFFSET);return rt.optional(function(){zn.assert(Nn,or+">=0","invalid vertex offset/element buffer too small")}),or}):ne(function(zn,Nn){return Nn.def(zn.ELEMENTS,".vertCount")});var Ye=ne(function(){return-1});return rt.optional(function(){Ye.MISSING=!0}),Ye}var un=new ue(tr.thisDep||Se.thisDep,tr.contextDep||Se.contextDep,tr.propDep||Se.propDep,function(zn,Nn){var or=zn.ELEMENTS;return zn.OFFSET?Nn.def(or,"?",or,".vertCount-",zn.OFFSET,":-1"):Nn.def(or,"?",or,".vertCount:-1")});return rt.optional(function(){un.DYNAMIC=!0}),un}return null}(),instances:me(Xi,!1),offset:Se}}(an,ie),ze=function(Sn,Rn){var lr=Sn.static,Fn=Sn.dynamic,tr={};return Ua.forEach(function(me){var Se=ge(me);function ke(we,Ye){if(me in lr){var un=we(lr[me]);tr[Se]=ne(function(){return un})}else if(me in Fn){var zn=Fn[me];tr[Se]=Ce(zn,function(Nn,or){return Ye(Nn,or,Nn.invoke(or,zn))})}}switch(me){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return ke(function(we){return rt.commandType(we,"boolean",me,Rn.commandStr),we},function(we,Ye,un){return rt.optional(function(){we.assert(Ye,"typeof "+un+'==="boolean"',"invalid flag "+me,we.commandStr)}),un});case"depth.func":return ke(function(we){return rt.commandParameter(we,sa,"invalid "+me,Rn.commandStr),sa[we]},function(we,Ye,un){var zn=we.constants.compareFuncs;return rt.optional(function(){we.assert(Ye,un+" in "+zn,"invalid "+me+", must be one of "+Object.keys(sa))}),Ye.def(zn,"[",un,"]")});case"depth.range":return ke(function(we){return rt.command($t(we)&&we.length===2&&typeof we[0]=="number"&&typeof we[1]=="number"&&we[0]<=we[1],"depth range is 2d array",Rn.commandStr),we},function(we,Ye,un){return rt.optional(function(){we.assert(Ye,we.shared.isArrayLike+"("+un+")&&"+un+".length===2&&typeof "+un+'[0]==="number"&&typeof '+un+'[1]==="number"&&'+un+"[0]<="+un+"[1]","depth range must be a 2d array")}),[Ye.def("+",un,"[0]"),Ye.def("+",un,"[1]")]});case"blend.func":return ke(function(we){rt.commandType(we,"object","blend.func",Rn.commandStr);var Ye="srcRGB"in we?we.srcRGB:we.src,un="srcAlpha"in we?we.srcAlpha:we.src,zn="dstRGB"in we?we.dstRGB:we.dst,Nn="dstAlpha"in we?we.dstAlpha:we.dst;return rt.commandParameter(Ye,Oa,Se+".srcRGB",Rn.commandStr),rt.commandParameter(un,Oa,Se+".srcAlpha",Rn.commandStr),rt.commandParameter(zn,Oa,Se+".dstRGB",Rn.commandStr),rt.commandParameter(Nn,Oa,Se+".dstAlpha",Rn.commandStr),rt.command(uo.indexOf(Ye+", "+zn)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+Ye+", "+zn+")",Rn.commandStr),[Oa[Ye],Oa[zn],Oa[un],Oa[Nn]]},function(we,Ye,un){var zn=we.constants.blendFuncs;function Nn(Kr,Ii){var Gi=Ye.def('"',Kr,Ii,'" in ',un,"?",un,".",Kr,Ii,":",un,".",Kr);return rt.optional(function(){we.assert(Ye,Gi+" in "+zn,"invalid "+me+"."+Kr+Ii+", must be one of "+Object.keys(Oa))}),Gi}rt.optional(function(){we.assert(Ye,un+"&&typeof "+un+'==="object"',"invalid blend func, must be an object")});var or=Nn("src","RGB"),Rr=Nn("dst","RGB");rt.optional(function(){var Kr=we.constants.invalidBlendCombinations;we.assert(Ye,Kr+".indexOf("+or+'+", "+'+Rr+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var xi=Ye.def(zn,"[",or,"]"),pi=Ye.def(zn,"[",Nn("src","Alpha"),"]");return[xi,Ye.def(zn,"[",Rr,"]"),pi,Ye.def(zn,"[",Nn("dst","Alpha"),"]")]});case"blend.equation":return ke(function(we){return typeof we=="string"?(rt.commandParameter(we,zi,"invalid "+me,Rn.commandStr),[zi[we],zi[we]]):b(we)==="object"?(rt.commandParameter(we.rgb,zi,me+".rgb",Rn.commandStr),rt.commandParameter(we.alpha,zi,me+".alpha",Rn.commandStr),[zi[we.rgb],zi[we.alpha]]):void rt.commandRaise("invalid blend.equation",Rn.commandStr)},function(we,Ye,un){var zn=we.constants.blendEquations,Nn=Ye.def(),or=Ye.def(),Rr=we.cond("typeof ",un,'==="string"');return rt.optional(function(){function xi(pi,Kr,Ii){we.assert(pi,Ii+" in "+zn,"invalid "+Kr+", must be one of "+Object.keys(zi))}xi(Rr.then,me,un),we.assert(Rr.else,un+"&&typeof "+un+'==="object"',"invalid "+me),xi(Rr.else,me+".rgb",un+".rgb"),xi(Rr.else,me+".alpha",un+".alpha")}),Rr.then(Nn,"=",or,"=",zn,"[",un,"];"),Rr.else(Nn,"=",zn,"[",un,".rgb];",or,"=",zn,"[",un,".alpha];"),Ye(Rr),[Nn,or]});case"blend.color":return ke(function(we){return rt.command($t(we)&&we.length===4,"blend.color must be a 4d array",Rn.commandStr),it(4,function(Ye){return+we[Ye]})},function(we,Ye,un){return rt.optional(function(){we.assert(Ye,we.shared.isArrayLike+"("+un+")&&"+un+".length===4","blend.color must be a 4d array")}),it(4,function(zn){return Ye.def("+",un,"[",zn,"]")})});case"stencil.mask":return ke(function(we){return rt.commandType(we,"number",Se,Rn.commandStr),0|we},function(we,Ye,un){return rt.optional(function(){we.assert(Ye,"typeof "+un+'==="number"',"invalid stencil.mask")}),Ye.def(un,"|0")});case"stencil.func":return ke(function(we){rt.commandType(we,"object",Se,Rn.commandStr);var Ye=we.cmp||"keep",un=we.ref||0,zn="mask"in we?we.mask:-1;return rt.commandParameter(Ye,sa,me+".cmp",Rn.commandStr),rt.commandType(un,"number",me+".ref",Rn.commandStr),rt.commandType(zn,"number",me+".mask",Rn.commandStr),[sa[Ye],un,zn]},function(we,Ye,un){var zn=we.constants.compareFuncs;return rt.optional(function(){function Nn(){we.assert(Ye,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Nn(un+"&&typeof ",un,'==="object"'),Nn('!("cmp" in ',un,")||(",un,".cmp in ",zn,")")}),[Ye.def('"cmp" in ',un,"?",zn,"[",un,".cmp]",":",7680),Ye.def(un,".ref|0"),Ye.def('"mask" in ',un,"?",un,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return ke(function(we){rt.commandType(we,"object",Se,Rn.commandStr);var Ye=we.fail||"keep",un=we.zfail||"keep",zn=we.zpass||"keep";return rt.commandParameter(Ye,Xa,me+".fail",Rn.commandStr),rt.commandParameter(un,Xa,me+".zfail",Rn.commandStr),rt.commandParameter(zn,Xa,me+".zpass",Rn.commandStr),[me==="stencil.opBack"?1029:1028,Xa[Ye],Xa[un],Xa[zn]]},function(we,Ye,un){var zn=we.constants.stencilOps;function Nn(or){return rt.optional(function(){we.assert(Ye,'!("'+or+'" in '+un+")||("+un+"."+or+" in "+zn+")","invalid "+me+"."+or+", must be one of "+Object.keys(Xa))}),Ye.def('"',or,'" in ',un,"?",zn,"[",un,".",or,"]:",7680)}return rt.optional(function(){we.assert(Ye,un+"&&typeof "+un+'==="object"',"invalid "+me)}),[me==="stencil.opBack"?1029:1028,Nn("fail"),Nn("zfail"),Nn("zpass")]});case"polygonOffset.offset":return ke(function(we){rt.commandType(we,"object",Se,Rn.commandStr);var Ye=0|we.factor,un=0|we.units;return rt.commandType(Ye,"number",Se+".factor",Rn.commandStr),rt.commandType(un,"number",Se+".units",Rn.commandStr),[Ye,un]},function(we,Ye,un){return rt.optional(function(){we.assert(Ye,un+"&&typeof "+un+'==="object"',"invalid "+me)}),[Ye.def(un,".factor|0"),Ye.def(un,".units|0")]});case"cull.face":return ke(function(we){var Ye=0;return we==="front"?Ye=1028:we==="back"&&(Ye=1029),rt.command(!!Ye,Se,Rn.commandStr),Ye},function(we,Ye,un){return rt.optional(function(){we.assert(Ye,un+'==="front"||'+un+'==="back"',"invalid cull.face")}),Ye.def(un,'==="front"?',1028,":",1029)});case"lineWidth":return ke(function(we){return rt.command(typeof we=="number"&&we>=Or.lineWidthDims[0]&&we<=Or.lineWidthDims[1],"invalid line width, must be a positive number between "+Or.lineWidthDims[0]+" and "+Or.lineWidthDims[1],Rn.commandStr),we},function(we,Ye,un){return rt.optional(function(){we.assert(Ye,"typeof "+un+'==="number"&&'+un+">="+Or.lineWidthDims[0]+"&&"+un+"<="+Or.lineWidthDims[1],"invalid line width")}),un});case"frontFace":return ke(function(we){return rt.commandParameter(we,bo,Se,Rn.commandStr),bo[we]},function(we,Ye,un){return rt.optional(function(){we.assert(Ye,un+'==="cw"||'+un+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),Ye.def(un+'==="cw"?2304:2305')});case"colorMask":return ke(function(we){return rt.command($t(we)&&we.length===4,"color.mask must be length 4 array",Rn.commandStr),we.map(function(Ye){return!!Ye})},function(we,Ye,un){return rt.optional(function(){we.assert(Ye,we.shared.isArrayLike+"("+un+")&&"+un+".length===4","invalid color.mask")}),it(4,function(zn){return"!!"+un+"["+zn+"]"})});case"sample.coverage":return ke(function(we){rt.command(b(we)==="object"&&we,Se,Rn.commandStr);var Ye="value"in we?we.value:1,un=!!we.invert;return rt.command(typeof Ye=="number"&&Ye>=0&&Ye<=1,"sample.coverage.value must be a number between 0 and 1",Rn.commandStr),[Ye,un]},function(we,Ye,un){return rt.optional(function(){we.assert(Ye,un+"&&typeof "+un+'==="object"',"invalid sample.coverage")}),[Ye.def('"value" in ',un,"?+",un,".value:1"),Ye.def("!!",un,".invert")]})}}),tr}(an,ie),Je=function(Sn,Rn,lr){var Fn=Sn.static,tr=Sn.dynamic;function me(un){if(un in Fn){var zn=vn.id(Fn[un]);rt.optional(function(){Nr.shader(po[un],zn,rt.guessCommand())});var Nn=ne(function(){return zn});return Nn.id=zn,Nn}if(un in tr){var or=tr[un];return Ce(or,function(Rr,xi){var pi=Rr.invoke(xi,or),Kr=xi.def(Rr.shared.strings,".id(",pi,")");return rt.optional(function(){xi(Rr.shared.shader,".shader(",po[un],",",Kr,",",Rr.command,");")}),Kr})}return null}var Se,ke=me(bi),we=me(Ei),Ye=null;return Qt(ke)&&Qt(we)?(Ye=Nr.program(we.id,ke.id,null,lr),Se=ne(function(un,zn){return un.link(Ye)})):Se=new ue(ke&&ke.thisDep||we&&we.thisDep,ke&&ke.contextDep||we&&we.contextDep,ke&&ke.propDep||we&&we.propDep,function(un,zn){var Nn,or=un.shared.shader;Nn=ke?ke.append(un,zn):zn.def(or,".",bi);var Rr=or+".program("+(we?we.append(un,zn):zn.def(or,".",Ei))+","+Nn;return rt.optional(function(){Rr+=","+un.command}),zn.def(Rr+")")}),{frag:ke,vert:we,progVar:Se,program:Ye}}(an,0,pe);function Ve(Sn){var Rn=de[Sn];Rn&&(ze[Sn]=Rn)}Ve("viewport"),Ve(ge("scissor.box"));var cn=Object.keys(ze).length>0,Be={framebuffer:ve,draw:Pe,shader:Je,state:ze,dirty:cn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Be.profile=function(Sn){var Rn,lr=Sn.static,Fn=Sn.dynamic;if(Pi in lr){var tr=!!lr[Pi];(Rn=ne(function(Se,ke){return tr})).enable=tr}else if(Pi in Fn){var me=Fn[Pi];Rn=Ce(me,function(Se,ke){return Se.invoke(ke,me)})}return Rn}(an),Be.uniforms=function(Sn,Rn){var lr=Sn.static,Fn=Sn.dynamic,tr={};return Object.keys(lr).forEach(function(me){var Se,ke=lr[me];if(typeof ke=="number"||typeof ke=="boolean")Se=ne(function(){return ke});else if(typeof ke=="function"){var we=ke._reglType;we==="texture2d"||we==="textureCube"?Se=ne(function(Ye){return Ye.link(ke)}):we==="framebuffer"||we==="framebufferCube"?(rt.command(ke.color.length>0,'missing color attachment for framebuffer sent to uniform "'+me+'"',Rn.commandStr),Se=ne(function(Ye){return Ye.link(ke.color[0])})):rt.commandRaise('invalid data for uniform "'+me+'"',Rn.commandStr)}else $t(ke)?Se=ne(function(Ye){return Ye.global.def("[",it(ke.length,function(un){return rt.command(typeof ke[un]=="number"||typeof ke[un]=="boolean","invalid uniform "+me,Ye.commandStr),ke[un]}),"]")}):rt.commandRaise('invalid or missing data for uniform "'+me+'"',Rn.commandStr);Se.value=ke,tr[me]=Se}),Object.keys(Fn).forEach(function(me){var Se=Fn[me];tr[me]=Ce(Se,function(ke,we){return ke.invoke(we,Se)})}),tr}(L,ie),Be.drawVAO=Be.scopeVAO=function(Sn,Rn){var lr=Sn.static,Fn=Sn.dynamic;if(Ki in lr){var tr=lr[Ki];return tr!==null&&Xr.getVAO(tr)===null&&(tr=Xr.createVAO(tr)),ne(function(Se){return Se.link(Xr.getVAO(tr))})}if(Ki in Fn){var me=Fn[Ki];return Ce(me,function(Se,ke){var we=Se.invoke(ke,me);return ke.def(Se.shared.vao+".getVAO("+we+")")})}return null}(an),!Be.drawVAO&&Je.program&&!pe&&xn.angle_instanced_arrays){var Mn=!0,On=Je.program.attributes.map(function(Sn){var Rn=Re.static[Sn];return Mn=Mn&&!!Rn,Rn});if(Mn&&On.length>0){var pn=Xr.getVAO(Xr.createVAO(On));Be.drawVAO=new ue(null,null,null,function(Sn,Rn){return Sn.link(pn)}),Be.useVAO=!0}}return pe?Be.useVAO=!0:Be.attributes=function(Sn,Rn){var lr=Sn.static,Fn=Sn.dynamic,tr={};return Object.keys(lr).forEach(function(me){var Se=lr[me],ke=vn.id(me),we=new ti;if(Mo(Se))we.state=1,we.buffer=Br.getBuffer(Br.create(Se,34962,!1,!0)),we.type=0;else{var Ye=Br.getBuffer(Se);if(Ye)we.state=1,we.buffer=Ye,we.type=0;else if(rt.command(b(Se)==="object"&&Se,"invalid data for attribute "+me,Rn.commandStr),"constant"in Se){var un=Se.constant;we.buffer="null",we.state=2,typeof un=="number"?we.x=un:(rt.command($t(un)&&un.length>0&&un.length<=4,"invalid constant for attribute "+me,Rn.commandStr),Vr.forEach(function(Kr,Ii){Ii<un.length&&(we[Kr]=un[Ii])}))}else{Ye=Mo(Se.buffer)?Br.getBuffer(Br.create(Se.buffer,34962,!1,!0)):Br.getBuffer(Se.buffer),rt.command(!!Ye,'missing buffer for attribute "'+me+'"',Rn.commandStr);var zn=0|Se.offset;rt.command(zn>=0,'invalid offset for attribute "'+me+'"',Rn.commandStr);var Nn=0|Se.stride;rt.command(Nn>=0&&Nn<256,'invalid stride for attribute "'+me+'", must be integer betweeen [0, 255]',Rn.commandStr);var or=0|Se.size;rt.command(!("size"in Se)||or>0&&or<=4,'invalid size for attribute "'+me+'", must be 1,2,3,4',Rn.commandStr);var Rr=!!Se.normalized,xi=0;"type"in Se&&(rt.commandParameter(Se.type,ht,"invalid type for attribute "+me,Rn.commandStr),xi=ht[Se.type]);var pi=0|Se.divisor;"divisor"in Se&&(rt.command(pi===0||qi,'cannot specify divisor for attribute "'+me+'", instancing not supported',Rn.commandStr),rt.command(pi>=0,'invalid divisor for attribute "'+me+'"',Rn.commandStr)),rt.optional(function(){var Kr=Rn.commandStr,Ii=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(Se).forEach(function(Gi){rt.command(Ii.indexOf(Gi)>=0,'unknown parameter "'+Gi+'" for attribute pointer "'+me+'" (valid parameters are '+Ii+")",Kr)})}),we.buffer=Ye,we.state=1,we.size=or,we.normalized=Rr,we.type=xi||Ye.dtype,we.offset=zn,we.stride=Nn,we.divisor=pi}}tr[me]=ne(function(Kr,Ii){var Gi=Kr.attribCache;if(ke in Gi)return Gi[ke];var Si={isStream:!1};return Object.keys(we).forEach(function(aa){Si[aa]=we[aa]}),we.buffer&&(Si.buffer=Kr.link(we.buffer),Si.type=Si.type||Si.buffer+".dtype"),Gi[ke]=Si,Si})}),Object.keys(Fn).forEach(function(me){var Se=Fn[me];tr[me]=Ce(Se,function(ke,we){var Ye=ke.invoke(we,Se),un=ke.shared,zn=ke.constants,Nn=un.isBufferArgs,or=un.buffer;rt.optional(function(){ke.assert(we,Ye+"&&(typeof "+Ye+'==="object"||typeof '+Ye+'==="function")&&('+Nn+"("+Ye+")||"+or+".getBuffer("+Ye+")||"+or+".getBuffer("+Ye+".buffer)||"+Nn+"("+Ye+'.buffer)||("constant" in '+Ye+"&&(typeof "+Ye+'.constant==="number"||'+un.isArrayLike+"("+Ye+".constant))))",'invalid dynamic attribute "'+me+'"')});var Rr={isStream:we.def(!1)},xi=new ti;xi.state=1,Object.keys(xi).forEach(function(Gi){Rr[Gi]=we.def(""+xi[Gi])});var pi=Rr.buffer,Kr=Rr.type;function Ii(Gi){we(Rr[Gi],"=",Ye,".",Gi,"|0;")}return we("if(",Nn,"(",Ye,")){",Rr.isStream,"=true;",pi,"=",or,".createStream(",34962,",",Ye,");",Kr,"=",pi,".dtype;","}else{",pi,"=",or,".getBuffer(",Ye,");","if(",pi,"){",Kr,"=",pi,".dtype;",'}else if("constant" in ',Ye,"){",Rr.state,"=",2,";","if(typeof "+Ye+'.constant === "number"){',Rr[Vr[0]],"=",Ye,".constant;",Vr.slice(1).map(function(Gi){return Rr[Gi]}).join("="),"=0;","}else{",Vr.map(function(Gi,Si){return Rr[Gi]+"="+Ye+".constant.length>"+Si+"?"+Ye+".constant["+Si+"]:0;"}).join(""),"}}else{","if(",Nn,"(",Ye,".buffer)){",pi,"=",or,".createStream(",34962,",",Ye,".buffer);","}else{",pi,"=",or,".getBuffer(",Ye,".buffer);","}",Kr,'="type" in ',Ye,"?",zn.glTypes,"[",Ye,".type]:",pi,".dtype;",Rr.normalized,"=!!",Ye,".normalized;"),Ii("size"),Ii("offset"),Ii("stride"),Ii("divisor"),we("}}"),we.exit("if(",Rr.isStream,"){",or,".destroyStream(",pi,");","}"),Rr})}),tr}(Re,ie),Be.context=function(Sn){var Rn=Sn.static,lr=Sn.dynamic,Fn={};return Object.keys(Rn).forEach(function(tr){var me=Rn[tr];Fn[tr]=ne(function(Se,ke){return typeof me=="number"||typeof me=="boolean"?""+me:Se.link(me)})}),Object.keys(lr).forEach(function(tr){var me=lr[tr];Fn[tr]=Ce(me,function(Se,ke){return Se.invoke(ke,me)})}),Fn}(bt),Be}function fe(an,Re,L){var bt=an.shared.context,ie=an.scope();Object.keys(L).forEach(function(Ee){Re.save(bt,"."+Ee);var te=L[Ee].append(an,Re);Array.isArray(te)?ie(bt,".",Ee,"=[",te.join(),"];"):ie(bt,".",Ee,"=",te,";")}),Re(ie)}function De(an,Re,L,bt){var ie,Ee=an.shared,te=Ee.gl,pe=Ee.framebuffer;Sa&&(ie=Re.def(Ee.extensions,".webgl_draw_buffers"));var ve,de=an.constants,Pe=de.drawBuffer,ze=de.backBuffer;ve=L?L.append(an,Re):Re.def(pe,".next"),bt||Re("if(",ve,"!==",pe,".cur){"),Re("if(",ve,"){",te,".bindFramebuffer(",36160,",",ve,".framebuffer);"),Sa&&Re(ie,".drawBuffersWEBGL(",Pe,"[",ve,".colorAttachments.length]);"),Re("}else{",te,".bindFramebuffer(",36160,",null);"),Sa&&Re(ie,".drawBuffersWEBGL(",ze,");"),Re("}",pe,".cur=",ve,";"),bt||Re("}")}function We(an,Re,L){var bt=an.shared,ie=bt.gl,Ee=an.current,te=an.next,pe=bt.current,ve=bt.next,de=an.cond(pe,".dirty");Ua.forEach(function(Pe){var ze,Je,Ve=ge(Pe);if(!(Ve in L.state))if(Ve in te){ze=te[Ve],Je=Ee[Ve];var cn=it(ea[Ve].length,function(Mn){return de.def(ze,"[",Mn,"]")});de(an.cond(cn.map(function(Mn,On){return Mn+"!=="+Je+"["+On+"]"}).join("||")).then(ie,".",va[Ve],"(",cn,");",cn.map(function(Mn,On){return Je+"["+On+"]="+Mn}).join(";"),";"))}else{ze=de.def(ve,".",Ve);var Be=an.cond(ze,"!==",pe,".",Ve);de(Be),Ve in Na?Be(an.cond(ze).then(ie,".enable(",Na[Ve],");").else(ie,".disable(",Na[Ve],");"),pe,".",Ve,"=",ze,";"):Be(ie,".",va[Ve],"(",ze,");",pe,".",Ve,"=",ze,";")}}),Object.keys(L.state).length===0&&de(pe,".dirty=false;"),Re(de)}function sn(an,Re,L,bt){var ie=an.shared,Ee=an.current,te=ie.current,pe=ie.gl;Po(Object.keys(L)).forEach(function(ve){var de=L[ve];if(!bt||bt(de)){var Pe=de.append(an,Re);if(Na[ve]){var ze=Na[ve];Qt(de)?Re(pe,Pe?".enable(":".disable(",ze,");"):Re(an.cond(Pe).then(pe,".enable(",ze,");").else(pe,".disable(",ze,");")),Re(te,".",ve,"=",Pe,";")}else if($t(Pe)){var Je=Ee[ve];Re(pe,".",va[ve],"(",Pe,");",Pe.map(function(Ve,cn){return Je+"["+cn+"]="+Ve}).join(";"),";")}else Re(pe,".",va[ve],"(",Pe,");",te,".",ve,"=",Pe,";")}})}function Dn(an,Re){qi&&(an.instancing=Re.def(an.shared.extensions,".angle_instanced_arrays"))}function Yt(an,Re,L,bt,ie){var Ee,te,pe,ve=an.shared,de=an.stats,Pe=ve.current,ze=ve.timer,Je=L.profile;function Ve(){return typeof performance=="undefined"?"Date.now()":"performance.now()"}function cn(Sn){Sn(Ee=Re.def(),"=",Ve(),";"),typeof ie=="string"?Sn(de,".count+=",ie,";"):Sn(de,".count++;"),yi&&(bt?Sn(te=Re.def(),"=",ze,".getNumPendingQueries();"):Sn(ze,".beginQuery(",de,");"))}function Be(Sn){Sn(de,".cpuTime+=",Ve(),"-",Ee,";"),yi&&(bt?Sn(ze,".pushScopeStats(",te,",",ze,".getNumPendingQueries(),",de,");"):Sn(ze,".endQuery();"))}function Mn(Sn){var Rn=Re.def(Pe,".profile");Re(Pe,".profile=",Sn,";"),Re.exit(Pe,".profile=",Rn,";")}if(Je){if(Qt(Je))return void(Je.enable?(cn(Re),Be(Re.exit),Mn("true")):Mn("false"));Mn(pe=Je.append(an,Re))}else pe=Re.def(Pe,".profile");var On=an.block();cn(On),Re("if(",pe,"){",On,"}");var pn=an.block();Be(pn),Re.exit("if(",pe,"){",pn,"}")}function Zt(an,Re,L,bt,ie){var Ee=an.shared;bt.forEach(function(te){var pe,ve=te.name,de=L.attributes[ve];if(de){if(!ie(de))return;pe=de.append(an,Re)}else{if(!ie(en))return;var Pe=an.scopeAttrib(ve);rt.optional(function(){an.assert(Re,Pe+".state","missing attribute "+ve)}),pe={},Object.keys(new ti).forEach(function(ze){pe[ze]=Re.def(Pe,".",ze)})}(function(ze,Je,Ve){var cn=Ee.gl,Be=Re.def(ze,".location"),Mn=Re.def(Ee.attributes,"[",Be,"]"),On=Ve.state,pn=Ve.buffer,Sn=[Ve.x,Ve.y,Ve.z,Ve.w],Rn=["buffer","normalized","offset","stride"];function lr(){Re("if(!",Mn,".buffer){",cn,".enableVertexAttribArray(",Be,");}");var tr,me=Ve.type;if(tr=Ve.size?Re.def(Ve.size,"||",Je):Je,Re("if(",Mn,".type!==",me,"||",Mn,".size!==",tr,"||",Rn.map(function(ke){return Mn+"."+ke+"!=="+Ve[ke]}).join("||"),"){",cn,".bindBuffer(",34962,",",pn,".buffer);",cn,".vertexAttribPointer(",[Be,tr,me,Ve.normalized,Ve.stride,Ve.offset],");",Mn,".type=",me,";",Mn,".size=",tr,";",Rn.map(function(ke){return Mn+"."+ke+"="+Ve[ke]+";"}).join(""),"}"),qi){var Se=Ve.divisor;Re("if(",Mn,".divisor!==",Se,"){",an.instancing,".vertexAttribDivisorANGLE(",[Be,Se],");",Mn,".divisor=",Se,";}")}}function Fn(){Re("if(",Mn,".buffer){",cn,".disableVertexAttribArray(",Be,");",Mn,".buffer=null;","}if(",Vr.map(function(tr,me){return Mn+"."+tr+"!=="+Sn[me]}).join("||"),"){",cn,".vertexAttrib4f(",Be,",",Sn,");",Vr.map(function(tr,me){return Mn+"."+tr+"="+Sn[me]+";"}).join(""),"}")}On===1?lr():On===2?Fn():(Re("if(",On,"===",1,"){"),lr(),Re("}else{"),Fn(),Re("}"))})(an.link(te),function(ze){switch(ze){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(te.info.type),pe)})}function Ae(an,Re,L,bt,ie){for(var Ee,te=an.shared,pe=te.gl,ve=0;ve<bt.length;++ve){var de,Pe=bt[ve],ze=Pe.name,Je=Pe.info.type,Ve=L.uniforms[ze],cn=an.link(Pe)+".location";if(Ve){if(!ie(Ve))continue;if(Qt(Ve)){var Be=Ve.value;if(rt.command(Be!=null,'missing uniform "'+ze+'"',an.commandStr),Je===35678||Je===35680){rt.command(typeof Be=="function"&&(Je===35678&&(Be._reglType==="texture2d"||Be._reglType==="framebuffer")||Je===35680&&(Be._reglType==="textureCube"||Be._reglType==="framebufferCube")),"invalid texture for uniform "+ze,an.commandStr);var Mn=an.link(Be._texture||Be.color[0]._texture);Re(pe,".uniform1i(",cn,",",Mn+".bind());"),Re.exit(Mn,".unbind();")}else if(Je===35674||Je===35675||Je===35676){rt.optional(function(){rt.command($t(Be),"invalid matrix for uniform "+ze,an.commandStr),rt.command(Je===35674&&Be.length===4||Je===35675&&Be.length===9||Je===35676&&Be.length===16,"invalid length for matrix uniform "+ze,an.commandStr)});var On=an.global.def("new Float32Array(["+Array.prototype.slice.call(Be)+"])"),pn=2;Je===35675?pn=3:Je===35676&&(pn=4),Re(pe,".uniformMatrix",pn,"fv(",cn,",false,",On,");")}else{switch(Je){case 5126:rt.commandType(Be,"number","uniform "+ze,an.commandStr),Ee="1f";break;case 35664:rt.command($t(Be)&&Be.length===2,"uniform "+ze,an.commandStr),Ee="2f";break;case 35665:rt.command($t(Be)&&Be.length===3,"uniform "+ze,an.commandStr),Ee="3f";break;case 35666:rt.command($t(Be)&&Be.length===4,"uniform "+ze,an.commandStr),Ee="4f";break;case 35670:rt.commandType(Be,"boolean","uniform "+ze,an.commandStr),Ee="1i";break;case 5124:rt.commandType(Be,"number","uniform "+ze,an.commandStr),Ee="1i";break;case 35671:case 35667:rt.command($t(Be)&&Be.length===2,"uniform "+ze,an.commandStr),Ee="2i";break;case 35672:case 35668:rt.command($t(Be)&&Be.length===3,"uniform "+ze,an.commandStr),Ee="3i";break;case 35673:case 35669:rt.command($t(Be)&&Be.length===4,"uniform "+ze,an.commandStr),Ee="4i"}Re(pe,".uniform",Ee,"(",cn,",",$t(Be)?Array.prototype.slice.call(Be):Be,");")}continue}de=Ve.append(an,Re)}else{if(!ie(en))continue;de=Re.def(te.uniforms,"[",vn.id(ze),"]")}Je===35678?(rt(!Array.isArray(de),"must specify a scalar prop for textures"),Re("if(",de,"&&",de,'._reglType==="framebuffer"){',de,"=",de,".color[0];","}")):Je===35680&&(rt(!Array.isArray(de),"must specify a scalar prop for cube maps"),Re("if(",de,"&&",de,'._reglType==="framebufferCube"){',de,"=",de,".color[0];","}")),rt.optional(function(){function tr(we,Ye){an.assert(Re,we,'bad data or missing for uniform "'+ze+'".  '+Ye)}function me(we){rt(!Array.isArray(de),"must not specify an array type for uniform"),tr("typeof "+de+'==="'+we+'"',"invalid type, expected "+we)}function Se(we,Ye){Array.isArray(de)?rt(de.length===we,"must have length "+we):tr(te.isArrayLike+"("+de+")&&"+de+".length==="+we,"invalid vector, should have length "+we,an.commandStr)}function ke(we){rt(!Array.isArray(de),"must not specify a value type"),tr("typeof "+de+'==="function"&&'+de+'._reglType==="texture'+(we===3553?"2d":"Cube")+'"',"invalid texture type",an.commandStr)}switch(Je){case 5124:me("number");break;case 35667:Se(2);break;case 35668:Se(3);break;case 35669:Se(4);break;case 5126:me("number");break;case 35664:Se(2);break;case 35665:Se(3);break;case 35666:Se(4);break;case 35670:me("boolean");break;case 35671:Se(2);break;case 35672:Se(3);break;case 35673:case 35674:Se(4);break;case 35675:Se(9);break;case 35676:Se(16);break;case 35678:ke(3553);break;case 35680:ke(34067)}});var Sn=1;switch(Je){case 35678:case 35680:var Rn=Re.def(de,"._texture");Re(pe,".uniform1i(",cn,",",Rn,".bind());"),Re.exit(Rn,".unbind();");continue;case 5124:case 35670:Ee="1i";break;case 35667:case 35671:Ee="2i",Sn=2;break;case 35668:case 35672:Ee="3i",Sn=3;break;case 35669:case 35673:Ee="4i",Sn=4;break;case 5126:Ee="1f";break;case 35664:Ee="2f",Sn=2;break;case 35665:Ee="3f",Sn=3;break;case 35666:Ee="4f",Sn=4;break;case 35674:Ee="Matrix2fv";break;case 35675:Ee="Matrix3fv";break;case 35676:Ee="Matrix4fv"}if(Re(pe,".uniform",Ee,"(",cn,","),Ee.charAt(0)==="M"){var lr=Math.pow(Je-35674+2,2),Fn=an.global.def("new Float32Array(",lr,")");Array.isArray(de)?Re("false,(",it(lr,function(tr){return Fn+"["+tr+"]="+de[tr]}),",",Fn,")"):Re("false,(Array.isArray(",de,")||",de," instanceof Float32Array)?",de,":(",it(lr,function(tr){return Fn+"["+tr+"]="+de+"["+tr+"]"}),",",Fn,")")}else Sn>1?Re(it(Sn,function(tr){return Array.isArray(de)?de[tr]:de+"["+tr+"]"})):(rt(!Array.isArray(de),"uniform value must not be an array"),Re(de));Re(");")}}function Ht(an,Re,L,bt){var ie=an.shared,Ee=ie.gl,te=ie.draw,pe=bt.draw,ve=function(){var Sn,Rn=pe.elements,lr=Re;return Rn?((Rn.contextDep&&bt.contextDynamic||Rn.propDep)&&(lr=L),Sn=Rn.append(an,lr)):Sn=lr.def(te,".",Di),Sn&&lr("if("+Sn+")"+Ee+".bindBuffer(34963,"+Sn+".buffer.buffer);"),Sn}();function de(Sn){var Rn=pe[Sn];return Rn?Rn.contextDep&&bt.contextDynamic||Rn.propDep?Rn.append(an,L):Rn.append(an,Re):Re.def(te,".",Sn)}var Pe,ze,Je=de(Fi),Ve=de(ji),cn=function(){var Sn,Rn=pe.count,lr=Re;return Rn?((Rn.contextDep&&bt.contextDynamic||Rn.propDep)&&(lr=L),Sn=Rn.append(an,lr),rt.optional(function(){Rn.MISSING&&an.assert(Re,"false","missing vertex count"),Rn.DYNAMIC&&an.assert(lr,Sn+">=0","missing vertex count")})):(Sn=lr.def(te,".",Ni),rt.optional(function(){an.assert(lr,Sn+">=0","missing vertex count")})),Sn}();if(typeof cn=="number"){if(cn===0)return}else L("if(",cn,"){"),L.exit("}");qi&&(Pe=de(Xi),ze=an.instancing);var Be=ve+".type",Mn=pe.elements&&Qt(pe.elements);function On(){function Sn(){L(ze,".drawElementsInstancedANGLE(",[Je,cn,Be,Ve+"<<(("+Be+"-5121)>>1)",Pe],");")}function Rn(){L(ze,".drawArraysInstancedANGLE(",[Je,Ve,cn,Pe],");")}ve?Mn?Sn():(L("if(",ve,"){"),Sn(),L("}else{"),Rn(),L("}")):Rn()}function pn(){function Sn(){L(Ee+".drawElements("+[Je,cn,Be,Ve+"<<(("+Be+"-5121)>>1)"]+");")}function Rn(){L(Ee+".drawArrays("+[Je,Ve,cn]+");")}ve?Mn?Sn():(L("if(",ve,"){"),Sn(),L("}else{"),Rn(),L("}")):Rn()}qi&&(typeof Pe!="number"||Pe>=0)?typeof Pe=="string"?(L("if(",Pe,">0){"),On(),L("}else if(",Pe,"<0){"),pn(),L("}")):On():pn()}function he(an,Re,L,bt,ie){var Ee=Jt(),te=Ee.proc("body",ie);return rt.optional(function(){Ee.commandStr=Re.commandStr,Ee.command=Ee.link(Re.commandStr)}),qi&&(Ee.instancing=te.def(Ee.shared.extensions,".angle_instanced_arrays")),an(Ee,te,L,bt),Ee.compile().body}function En(an,Re,L,bt){Dn(an,Re),L.useVAO?L.drawVAO?Re(an.shared.vao,".setVAO(",L.drawVAO.append(an,Re),");"):Re(an.shared.vao,".setVAO(",an.shared.vao,".targetVAO);"):(Re(an.shared.vao,".setVAO(null);"),Zt(an,Re,L,bt.attributes,function(){return!0})),Ae(an,Re,L,bt.uniforms,function(){return!0}),Ht(an,Re,Re,L)}function Qn(an,Re,L,bt){function ie(){return!0}an.batchId="a1",Dn(an,Re),Zt(an,Re,L,bt.attributes,ie),Ae(an,Re,L,bt.uniforms,ie),Ht(an,Re,Re,L)}function fr(an,Re,L,bt){Dn(an,Re);var ie=L.contextDep,Ee=Re.def(),te=Re.def();an.shared.props=te,an.batchId=Ee;var pe=an.scope(),ve=an.scope();function de(Be){return Be.contextDep&&ie||Be.propDep}function Pe(Be){return!de(Be)}if(Re(pe.entry,"for(",Ee,"=0;",Ee,"<","a1",";++",Ee,"){",te,"=","a0","[",Ee,"];",ve,"}",pe.exit),L.needsContext&&fe(an,ve,L.context),L.needsFramebuffer&&De(an,ve,L.framebuffer),sn(an,ve,L.state,de),L.profile&&de(L.profile)&&Yt(an,ve,L,!1,!0),bt)L.useVAO?L.drawVAO?de(L.drawVAO)?ve(an.shared.vao,".setVAO(",L.drawVAO.append(an,ve),");"):pe(an.shared.vao,".setVAO(",L.drawVAO.append(an,pe),");"):pe(an.shared.vao,".setVAO(",an.shared.vao,".targetVAO);"):(pe(an.shared.vao,".setVAO(null);"),Zt(an,pe,L,bt.attributes,Pe),Zt(an,ve,L,bt.attributes,de)),Ae(an,pe,L,bt.uniforms,Pe),Ae(an,ve,L,bt.uniforms,de),Ht(an,pe,ve,L);else{var ze=an.global.def("{}"),Je=L.shader.progVar.append(an,ve),Ve=ve.def(Je,".id"),cn=ve.def(ze,"[",Ve,"]");ve(an.shared.gl,".useProgram(",Je,".program);","if(!",cn,"){",cn,"=",ze,"[",Ve,"]=",an.link(function(Be){return he(Qn,an,L,Be,2)}),"(",Je,");}",cn,".call(this,a0[",Ee,"],",Ee,");")}}function ar(an,Re,L){var bt=Re.static[L];if(bt&&function(Pe){if(b(Pe)==="object"&&!$t(Pe)){for(var ze=Object.keys(Pe),Je=0;Je<ze.length;++Je)if(ot.isDynamic(Pe[ze[Je]]))return!0;return!1}}(bt)){var ie=an.global,Ee=Object.keys(bt),te=!1,pe=!1,ve=!1,de=an.global.def("{}");Ee.forEach(function(Pe){var ze=bt[Pe];if(ot.isDynamic(ze)){typeof ze=="function"&&(ze=bt[Pe]=ot.unbox(ze));var Je=Ce(ze,null);te=te||Je.thisDep,ve=ve||Je.propDep,pe=pe||Je.contextDep}else{switch(ie(de,".",Pe,"="),b(ze)){case"number":ie(ze);break;case"string":ie('"',ze,'"');break;case"object":Array.isArray(ze)&&ie("[",ze.join(),"]");break;default:ie(an.link(ze))}ie(";")}}),Re.dynamic[L]=new ot.DynamicVariable(4,{thisDep:te,contextDep:pe,propDep:ve,ref:de,append:function(ze,Je){Ee.forEach(function(Ve){var cn=bt[Ve];if(ot.isDynamic(cn)){var Be=ze.invoke(Je,cn);Je(de,".",Ve,"=",Be,";")}})}}),delete Re.static[L]}}return{next:Fa,current:ea,procs:function(){var an=Jt(),Re=an.proc("poll"),L=an.proc("refresh"),bt=an.block();Re(bt),L(bt);var ie,Ee=an.shared,te=Ee.gl,pe=Ee.next,ve=Ee.current;bt(ve,".dirty=false;"),De(an,Re),De(an,L,null,!0),qi&&(ie=an.link(qi)),xn.oes_vertex_array_object&&L(an.link(xn.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var de=0;de<Or.maxAttributes;++de){var Pe=L.def(Ee.attributes,"[",de,"]"),ze=an.cond(Pe,".buffer");ze.then(te,".enableVertexAttribArray(",de,");",te,".bindBuffer(",34962,",",Pe,".buffer.buffer);",te,".vertexAttribPointer(",de,",",Pe,".size,",Pe,".type,",Pe,".normalized,",Pe,".stride,",Pe,".offset);").else(te,".disableVertexAttribArray(",de,");",te,".vertexAttrib4f(",de,",",Pe,".x,",Pe,".y,",Pe,".z,",Pe,".w);",Pe,".buffer=null;"),L(ze),qi&&L(ie,".vertexAttribDivisorANGLE(",de,",",Pe,".divisor);")}return L(an.shared.vao,".currentVAO=null;",an.shared.vao,".setVAO(",an.shared.vao,".targetVAO);"),Object.keys(Na).forEach(function(Je){var Ve=Na[Je],cn=bt.def(pe,".",Je),Be=an.block();Be("if(",cn,"){",te,".enable(",Ve,")}else{",te,".disable(",Ve,")}",ve,".",Je,"=",cn,";"),L(Be),Re("if(",cn,"!==",ve,".",Je,"){",Be,"}")}),Object.keys(va).forEach(function(Je){var Ve,cn,Be=va[Je],Mn=ea[Je],On=an.block();if(On(te,".",Be,"("),$t(Mn)){var pn=Mn.length;Ve=an.global.def(pe,".",Je),cn=an.global.def(ve,".",Je),On(it(pn,function(Sn){return Ve+"["+Sn+"]"}),");",it(pn,function(Sn){return cn+"["+Sn+"]="+Ve+"["+Sn+"];"}).join("")),Re("if(",it(pn,function(Sn){return Ve+"["+Sn+"]!=="+cn+"["+Sn+"]"}).join("||"),"){",On,"}")}else Ve=bt.def(pe,".",Je),cn=bt.def(ve,".",Je),On(Ve,");",ve,".",Je,"=",Ve,";"),Re("if(",Ve,"!==",cn,"){",On,"}");L(On)}),an.compile()}(),compile:function(Re,L,bt,ie,Ee){var te=Jt();te.stats=te.link(Ee),Object.keys(L.static).forEach(function(ve){ar(te,L,ve)}),ma.forEach(function(ve){ar(te,Re,ve)});var pe=ce(Re,L,bt,ie,te);return function(ve,de){var Pe=ve.proc("draw",1);Dn(ve,Pe),fe(ve,Pe,de.context),De(ve,Pe,de.framebuffer),We(ve,Pe,de),sn(ve,Pe,de.state),Yt(ve,Pe,de,!1,!0);var ze=de.shader.progVar.append(ve,Pe);if(Pe(ve.shared.gl,".useProgram(",ze,".program);"),de.shader.program)En(ve,Pe,de,de.shader.program);else{Pe(ve.shared.vao,".setVAO(null);");var Je=ve.global.def("{}"),Ve=Pe.def(ze,".id"),cn=Pe.def(Je,"[",Ve,"]");Pe(ve.cond(cn).then(cn,".call(this,a0);").else(cn,"=",Je,"[",Ve,"]=",ve.link(function(Be){return he(En,ve,de,Be,1)}),"(",ze,");",cn,".call(this,a0);"))}Object.keys(de.state).length>0&&Pe(ve.shared.current,".dirty=true;")}(te,pe),function(ve,de){var Pe=ve.proc("scope",3);ve.batchId="a2";var ze=ve.shared,Je=ze.current;function Ve(cn){var Be=de.shader[cn];Be&&Pe.set(ze.shader,"."+cn,Be.append(ve,Pe))}fe(ve,Pe,de.context),de.framebuffer&&de.framebuffer.append(ve,Pe),Po(Object.keys(de.state)).forEach(function(cn){var Be=de.state[cn].append(ve,Pe);$t(Be)?Be.forEach(function(Mn,On){Pe.set(ve.next[cn],"["+On+"]",Mn)}):Pe.set(ze.next,"."+cn,Be)}),Yt(ve,Pe,de,!0,!0),[Di,ji,Ni,Xi,Fi].forEach(function(cn){var Be=de.draw[cn];Be&&Pe.set(ze.draw,"."+cn,""+Be.append(ve,Pe))}),Object.keys(de.uniforms).forEach(function(cn){var Be=de.uniforms[cn].append(ve,Pe);Array.isArray(Be)&&(Be="["+Be.join()+"]"),Pe.set(ze.uniforms,"["+vn.id(cn)+"]",Be)}),Object.keys(de.attributes).forEach(function(cn){var Be=de.attributes[cn].append(ve,Pe),Mn=ve.scopeAttrib(cn);Object.keys(new ti).forEach(function(On){Pe.set(Mn,"."+On,Be[On])})}),de.scopeVAO&&Pe.set(ze.vao,".targetVAO",de.scopeVAO.append(ve,Pe)),Ve(Ei),Ve(bi),Object.keys(de.state).length>0&&(Pe(Je,".dirty=true;"),Pe.exit(Je,".dirty=true;")),Pe("a1(",ve.shared.context,",a0,",ve.batchId,");")}(te,pe),function(ve,de){var Pe=ve.proc("batch",2);ve.batchId="0",Dn(ve,Pe);var ze=!1,Je=!0;Object.keys(de.context).forEach(function(lr){ze=ze||de.context[lr].propDep}),ze||(fe(ve,Pe,de.context),Je=!1);var Ve=de.framebuffer,cn=!1;function Be(lr){return lr.contextDep&&ze||lr.propDep}Ve?(Ve.propDep?ze=cn=!0:Ve.contextDep&&ze&&(cn=!0),cn||De(ve,Pe,Ve)):De(ve,Pe,null),de.state.viewport&&de.state.viewport.propDep&&(ze=!0),We(ve,Pe,de),sn(ve,Pe,de.state,function(lr){return!Be(lr)}),de.profile&&Be(de.profile)||Yt(ve,Pe,de,!1,"a1"),de.contextDep=ze,de.needsContext=Je,de.needsFramebuffer=cn;var Mn=de.shader.progVar;if(Mn.contextDep&&ze||Mn.propDep)fr(ve,Pe,de,null);else{var On=Mn.append(ve,Pe);if(Pe(ve.shared.gl,".useProgram(",On,".program);"),de.shader.program)fr(ve,Pe,de,de.shader.program);else{Pe(ve.shared.vao,".setVAO(null);");var pn=ve.global.def("{}"),Sn=Pe.def(On,".id"),Rn=Pe.def(pn,"[",Sn,"]");Pe(ve.cond(Rn).then(Rn,".call(this,a0,a1);").else(Rn,"=",pn,"[",Sn,"]=",ve.link(function(lr){return he(fr,ve,de,lr,2)}),"(",On,");",Rn,".call(this,a0,a1);"))}}Object.keys(de.state).length>0&&Pe(ve.shared.current,".dirty=true;")}(te,pe),T(te.compile(),{destroy:function(){pe.shader.program.destroy()}})}}}var sr=function(vn,xn){if(!xn.ext_disjoint_timer_query)return null;var Or=[];function Br(yi){Or.push(yi)}var Pr=[];function kr(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var mi=[];function $r(yi){mi.push(yi)}var Xr=[];function Nr(yi,si,ti){var zi=mi.pop()||new kr;zi.startQueryIndex=yi,zi.endQueryIndex=si,zi.sum=0,zi.stats=ti,Xr.push(zi)}var Hr=[],oi=[];return{beginQuery:function(si){var ti=Or.pop()||xn.ext_disjoint_timer_query.createQueryEXT();xn.ext_disjoint_timer_query.beginQueryEXT(35007,ti),Pr.push(ti),Nr(Pr.length-1,Pr.length,si)},endQuery:function(){xn.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:Nr,update:function(){var si,ti,zi=Pr.length;if(zi!==0){oi.length=Math.max(oi.length,zi+1),Hr.length=Math.max(Hr.length,zi+1),Hr[0]=0,oi[0]=0;var qi=0;for(si=0,ti=0;ti<Pr.length;++ti){var Sa=Pr[ti];xn.ext_disjoint_timer_query.getQueryObjectEXT(Sa,34919)?(qi+=xn.ext_disjoint_timer_query.getQueryObjectEXT(Sa,34918),Br(Sa)):Pr[si++]=Sa,Hr[ti+1]=qi,oi[ti+1]=si}for(Pr.length=si,si=0,ti=0;ti<Xr.length;++ti){var ea=Xr[ti],Fa=ea.startQueryIndex,Ua=ea.endQueryIndex;ea.sum+=Hr[Ua]-Hr[Fa];var Na=oi[Fa],va=oi[Ua];va===Na?(ea.stats.gpuTime+=ea.sum/1e6,$r(ea)):(ea.startQueryIndex=Na,ea.endQueryIndex=va,Xr[si++]=ea)}Xr.length=si}},getNumPendingQueries:function(){return Pr.length},clear:function(){Or.push.apply(Or,Pr);for(var si=0;si<Or.length;si++)xn.ext_disjoint_timer_query.deleteQueryEXT(Or[si]);Pr.length=0,Or.length=0},restore:function(){Pr.length=0,Or.length=0}}};function pr(ln,vn){for(var xn=0;xn<ln.length;++xn)if(ln[xn]===vn)return xn;return-1}return function(ln){var vn=ct(ln);if(!vn)return null;var xn=vn.gl,Or=xn.getContextAttributes(),Br=xn.isContextLost(),Pr=function(Re,L){var bt={};function ie(pe){rt.type(pe,"string","extension name must be string");var ve,de=pe.toLowerCase();try{ve=bt[de]=Re.getExtension(de)}catch(Pe){}return!!ve}for(var Ee=0;Ee<L.extensions.length;++Ee){var te=L.extensions[Ee];if(!ie(te))return L.onDestroy(),L.onDone('"'+te+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return L.optionalExtensions.forEach(ie),{extensions:bt,restore:function(){Object.keys(bt).forEach(function(ve){if(bt[ve]&&!ie(ve))throw new Error("(regl): error restoring extension "+ve)})}}}(xn,vn);if(!Pr)return null;var kr,mi,$r=(kr={"":0},mi=[""],{id:function(L){var bt=kr[L];return bt||(bt=kr[L]=mi.length,mi.push(L),bt)},str:function(L){return mi[L]}}),Xr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Nr=Pr.extensions,Hr=sr(0,Nr),oi=xt(),yi=xn.drawingBufferWidth,si=xn.drawingBufferHeight,ti={tick:0,time:0,viewportWidth:yi,viewportHeight:si,framebufferWidth:yi,framebufferHeight:si,drawingBufferWidth:yi,drawingBufferHeight:si,pixelRatio:vn.pixelRatio},zi=function(Re,L){var bt=1;L.ext_texture_filter_anisotropic&&(bt=Re.getParameter(34047));var ie=1,Ee=1;L.webgl_draw_buffers&&(ie=Re.getParameter(34852),Ee=Re.getParameter(36063));var te=!!L.oes_texture_float;if(te){var pe=Re.createTexture();Re.bindTexture(3553,pe),Re.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var ve=Re.createFramebuffer();if(Re.bindFramebuffer(36160,ve),Re.framebufferTexture2D(36160,36064,3553,pe,0),Re.bindTexture(3553,null),Re.checkFramebufferStatus(36160)!==36053)te=!1;else{Re.viewport(0,0,1,1),Re.clearColor(1,0,0,1),Re.clear(16384);var de=W.allocType(5126,4);Re.readPixels(0,0,1,1,6408,5126,de),Re.getError()?te=!1:(Re.deleteFramebuffer(ve),Re.deleteTexture(pe),te=de[0]===1),W.freeType(de)}}var Pe=!0;if(typeof navigator=="undefined"||!(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var ze=Re.createTexture(),Je=W.allocType(5121,36);Re.activeTexture(33984),Re.bindTexture(34067,ze),Re.texImage2D(34069,0,6408,3,3,0,6408,5121,Je),W.freeType(Je),Re.bindTexture(34067,null),Re.deleteTexture(ze),Pe=!Re.getError()}return{colorBits:[Re.getParameter(3410),Re.getParameter(3411),Re.getParameter(3412),Re.getParameter(3413)],depthBits:Re.getParameter(3414),stencilBits:Re.getParameter(3415),subpixelBits:Re.getParameter(3408),extensions:Object.keys(L).filter(function(Ve){return!!L[Ve]}),maxAnisotropic:bt,maxDrawbuffers:ie,maxColorAttachments:Ee,pointSizeDims:Re.getParameter(33901),lineWidthDims:Re.getParameter(33902),maxViewportDims:Re.getParameter(3386),maxCombinedTextureUnits:Re.getParameter(35661),maxCubeMapSize:Re.getParameter(34076),maxRenderbufferSize:Re.getParameter(34024),maxTextureUnits:Re.getParameter(34930),maxTextureSize:Re.getParameter(3379),maxAttributes:Re.getParameter(34921),maxVertexUniforms:Re.getParameter(36347),maxVertexTextureUnits:Re.getParameter(35660),maxVaryingVectors:Re.getParameter(36348),maxFragmentUniforms:Re.getParameter(36349),glsl:Re.getParameter(35724),renderer:Re.getParameter(7937),vendor:Re.getParameter(7936),version:Re.getParameter(7938),readFloat:te,npotTextureCube:Pe}}(xn,Nr),qi=function(Re,L,bt,ie){var Ee=0,te={};function pe(Je){this.id=Ee++,this.buffer=Re.createBuffer(),this.type=Je,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,bt.profile&&(this.stats={size:0})}pe.prototype.bind=function(){Re.bindBuffer(this.type,this.buffer)},pe.prototype.destroy=function(){ze(this)};var ve=[];function de(Je,Ve,cn){Je.byteLength=Ve.byteLength,Re.bufferData(Je.type,Ve,cn)}function Pe(Je,Ve,cn,Be,Mn,On){var pn,Sn;if(Je.usage=cn,Array.isArray(Ve)){if(Je.dtype=Be||5126,Ve.length>0)if(Array.isArray(Ve[0])){pn=Lt(Ve);for(var Rn=1,lr=1;lr<pn.length;++lr)Rn*=pn[lr];Je.dimension=Rn,de(Je,Sn=Mt(Ve,pn,Je.dtype),cn),On?Je.persistentData=Sn:W.freeType(Sn)}else if(typeof Ve[0]=="number"){Je.dimension=Mn;var Fn=W.allocType(Je.dtype,Ve.length);Ot(Fn,Ve),de(Je,Fn,cn),On?Je.persistentData=Fn:W.freeType(Fn)}else E(Ve[0])?(Je.dimension=Ve[0].length,Je.dtype=Be||Ct(Ve[0])||5126,de(Je,Sn=Mt(Ve,[Ve.length,Ve[0].length],Je.dtype),cn),On?Je.persistentData=Sn:W.freeType(Sn)):rt.raise("invalid buffer data")}else if(E(Ve))Je.dtype=Be||Ct(Ve),Je.dimension=Mn,de(Je,Ve,cn),On&&(Je.persistentData=new Uint8Array(new Uint8Array(Ve.buffer)));else if(P(Ve)){pn=Ve.shape;var tr=Ve.stride,me=Ve.offset,Se=0,ke=0,we=0,Ye=0;pn.length===1?(Se=pn[0],ke=1,we=tr[0],Ye=0):pn.length===2?(Se=pn[0],ke=pn[1],we=tr[0],Ye=tr[1]):rt.raise("invalid shape"),Je.dtype=Be||Ct(Ve.data)||5126,Je.dimension=ke;var un=W.allocType(Je.dtype,Se*ke);Dt(un,Ve.data,Se,ke,we,Ye,me),de(Je,un,cn),On?Je.persistentData=un:W.freeType(un)}else Ve instanceof ArrayBuffer?(Je.dtype=5121,Je.dimension=Mn,de(Je,Ve,cn),On&&(Je.persistentData=new Uint8Array(new Uint8Array(Ve)))):rt.raise("invalid buffer data")}function ze(Je){L.bufferCount--,ie(Je);var Ve=Je.buffer;rt(Ve,"buffer must not be deleted already"),Re.deleteBuffer(Ve),Je.buffer=null,delete te[Je.id]}return bt.profile&&(L.getTotalBufferSize=function(){var Je=0;return Object.keys(te).forEach(function(Ve){Je+=te[Ve].stats.size}),Je}),{create:function(Ve,cn,Be,Mn){L.bufferCount++;var On=new pe(cn);function pn(Rn){var lr=35044,Fn=null,tr=0,me=0,Se=1;return Array.isArray(Rn)||E(Rn)||P(Rn)||Rn instanceof ArrayBuffer?Fn=Rn:typeof Rn=="number"?tr=0|Rn:Rn&&(rt.type(Rn,"object","buffer arguments must be an object, a number or an array"),"data"in Rn&&(rt(Fn===null||Array.isArray(Fn)||E(Fn)||P(Fn),"invalid data for buffer"),Fn=Rn.data),"usage"in Rn&&(rt.parameter(Rn.usage,gt,"invalid buffer usage"),lr=gt[Rn.usage]),"type"in Rn&&(rt.parameter(Rn.type,ht,"invalid buffer type"),me=ht[Rn.type]),"dimension"in Rn&&(rt.type(Rn.dimension,"number","invalid dimension"),Se=0|Rn.dimension),"length"in Rn&&(rt.nni(tr,"buffer length must be a nonnegative integer"),tr=0|Rn.length)),On.bind(),Fn?Pe(On,Fn,lr,me,Se,Mn):(tr&&Re.bufferData(On.type,tr,lr),On.dtype=me||5121,On.usage=lr,On.dimension=Se,On.byteLength=tr),bt.profile&&(On.stats.size=On.byteLength*At[On.dtype]),pn}function Sn(Rn,lr){rt(lr+Rn.byteLength<=On.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+Rn.byteLength+" starting from offset "+lr+" to a buffer of size "+On.byteLength),Re.bufferSubData(On.type,lr,Rn)}return te[On.id]=On,Be||pn(Ve),pn._reglType="buffer",pn._buffer=On,pn.subdata=function(Rn,lr){var Fn,tr=0|(lr||0);if(On.bind(),E(Rn)||Rn instanceof ArrayBuffer)Sn(Rn,tr);else if(Array.isArray(Rn)){if(Rn.length>0)if(typeof Rn[0]=="number"){var me=W.allocType(On.dtype,Rn.length);Ot(me,Rn),Sn(me,tr),W.freeType(me)}else if(Array.isArray(Rn[0])||E(Rn[0])){Fn=Lt(Rn);var Se=Mt(Rn,Fn,On.dtype);Sn(Se,tr),W.freeType(Se)}else rt.raise("invalid buffer data")}else if(P(Rn)){Fn=Rn.shape;var ke=Rn.stride,we=0,Ye=0,un=0,zn=0;Fn.length===1?(we=Fn[0],Ye=1,un=ke[0],zn=0):Fn.length===2?(we=Fn[0],Ye=Fn[1],un=ke[0],zn=ke[1]):rt.raise("invalid shape");var Nn=Array.isArray(Rn.data)?On.dtype:Ct(Rn.data),or=W.allocType(Nn,we*Ye);Dt(or,Rn.data,we,Ye,un,zn,Rn.offset),Sn(or,tr),W.freeType(or)}else rt.raise("invalid data for buffer subdata");return pn},bt.profile&&(pn.stats=On.stats),pn.destroy=function(){ze(On)},pn},createStream:function(Ve,cn){var Be=ve.pop();return Be||(Be=new pe(Ve)),Be.bind(),Pe(Be,cn,35040,0,1,!1),Be},destroyStream:function(Ve){ve.push(Ve)},clear:function(){m(te).forEach(ze),ve.forEach(ze)},getBuffer:function(Ve){return Ve&&Ve._buffer instanceof pe?Ve._buffer:null},restore:function(){m(te).forEach(function(Ve){Ve.buffer=Re.createBuffer(),Re.bindBuffer(Ve.type,Ve.buffer),Re.bufferData(Ve.type,Ve.persistentData||Ve.byteLength,Ve.usage)})},_initBuffer:Pe}}(xn,Xr,vn,function(Re){return Sa.destroyBuffer(Re)}),Sa=function(Re,L,bt,ie,Ee){for(var te=bt.maxAttributes,pe=new Array(te),ve=0;ve<te;++ve)pe[ve]=new $a;var de=0,Pe={},ze={Record:$a,scope:{},state:pe,currentVAO:null,targetVAO:null,restore:Je()?function(){Je()&&m(Pe).forEach(function(Be){Be.refresh()})}:function(){},createVAO:function(Mn){var On=new cn;function pn(Sn){rt(Array.isArray(Sn),"arguments to vertex array constructor must be an array"),rt(Sn.length<te,"too many attributes"),rt(Sn.length>0,"must specify at least one attribute");var Rn={},lr=On.attributes;lr.length=Sn.length;for(var Fn=0;Fn<Sn.length;++Fn){var tr,me=Sn[Fn],Se=lr[Fn]=new $a,ke=me.data||me;Array.isArray(ke)||E(ke)||P(ke)?(On.buffers[Fn]&&(tr=On.buffers[Fn],E(ke)&&tr._buffer.byteLength>=ke.byteLength?tr.subdata(ke):(tr.destroy(),On.buffers[Fn]=null)),On.buffers[Fn]||(tr=On.buffers[Fn]=Ee.create(me,34962,!1,!0)),Se.buffer=Ee.getBuffer(tr),Se.size=0|Se.buffer.dimension,Se.normalized=!1,Se.type=Se.buffer.dtype,Se.offset=0,Se.stride=0,Se.divisor=0,Se.state=1,Rn[Fn]=1):Ee.getBuffer(me)?(Se.buffer=Ee.getBuffer(me),Se.size=0|Se.buffer.dimension,Se.normalized=!1,Se.type=Se.buffer.dtype,Se.offset=0,Se.stride=0,Se.divisor=0,Se.state=1):Ee.getBuffer(me.buffer)?(Se.buffer=Ee.getBuffer(me.buffer),Se.size=0|(+me.size||Se.buffer.dimension),Se.normalized=!!me.normalized||!1,"type"in me?(rt.parameter(me.type,ht,"invalid buffer type"),Se.type=ht[me.type]):Se.type=Se.buffer.dtype,Se.offset=0|(me.offset||0),Se.stride=0|(me.stride||0),Se.divisor=0|(me.divisor||0),Se.state=1,rt(Se.size>=1&&Se.size<=4,"size must be between 1 and 4"),rt(Se.offset>=0,"invalid offset"),rt(Se.stride>=0&&Se.stride<=255,"stride must be between 0 and 255"),rt(Se.divisor>=0,"divisor must be positive"),rt(!Se.divisor||!!L.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in me?(rt(Fn>0,"first attribute must not be a constant"),Se.x=+me.x||0,Se.y=+me.y||0,Se.z=+me.z||0,Se.w=+me.w||0,Se.state=2):rt(!1,"invalid attribute spec for location "+Fn)}for(var we=0;we<On.buffers.length;++we)!Rn[we]&&On.buffers[we]&&(On.buffers[we].destroy(),On.buffers[we]=null);return On.refresh(),pn}return ie.vaoCount+=1,pn.destroy=function(){for(var Sn=0;Sn<On.buffers.length;++Sn)On.buffers[Sn]&&On.buffers[Sn].destroy();On.buffers.length=0,On.destroy()},pn._vao=On,pn._reglType="vao",pn(Mn)},getVAO:function(Mn){return typeof Mn=="function"&&Mn._vao?Mn._vao:null},destroyBuffer:function(Mn){for(var On=0;On<pe.length;++On){var pn=pe[On];pn.buffer===Mn&&(Re.disableVertexAttribArray(On),pn.buffer=null)}},setVAO:Je()?function(Be){if(Be!==ze.currentVAO){var Mn=Je();Be?Mn.bindVertexArrayOES(Be.vao):Mn.bindVertexArrayOES(null),ze.currentVAO=Be}}:function(Be){if(Be!==ze.currentVAO){if(Be)Be.bindAttrs();else for(var Mn=Ve(),On=0;On<pe.length;++On){var pn=pe[On];pn.buffer?(Re.enableVertexAttribArray(On),Re.vertexAttribPointer(On,pn.size,pn.type,pn.normalized,pn.stride,pn.offfset),Mn&&pn.divisor&&Mn.vertexAttribDivisorANGLE(On,pn.divisor)):(Re.disableVertexAttribArray(On),Re.vertexAttrib4f(On,pn.x,pn.y,pn.z,pn.w))}ze.currentVAO=Be}},clear:Je()?function(){m(Pe).forEach(function(Be){Be.destroy()})}:function(){}};function Je(){return L.oes_vertex_array_object}function Ve(){return L.angle_instanced_arrays}function cn(){this.id=++de,this.attributes=[];var Be=Je();this.vao=Be?Be.createVertexArrayOES():null,Pe[this.id]=this,this.buffers=[]}return cn.prototype.bindAttrs=function(){for(var Be=Ve(),Mn=this.attributes,On=0;On<Mn.length;++On){var pn=Mn[On];pn.buffer?(Re.enableVertexAttribArray(On),Re.bindBuffer(34962,pn.buffer.buffer),Re.vertexAttribPointer(On,pn.size,pn.type,pn.normalized,pn.stride,pn.offset),Be&&pn.divisor&&Be.vertexAttribDivisorANGLE(On,pn.divisor)):(Re.disableVertexAttribArray(On),Re.vertexAttrib4f(On,pn.x,pn.y,pn.z,pn.w))}for(var Sn=Mn.length;Sn<te;++Sn)Re.disableVertexAttribArray(Sn)},cn.prototype.refresh=function(){var Be=Je();Be&&(Be.bindVertexArrayOES(this.vao),this.bindAttrs(),ze.currentVAO=this)},cn.prototype.destroy=function(){if(this.vao){var Be=Je();this===ze.currentVAO&&(ze.currentVAO=null,Be.bindVertexArrayOES(null)),Be.deleteVertexArrayOES(this.vao),this.vao=null}Pe[this.id]&&(delete Pe[this.id],ie.vaoCount-=1)},ze}(xn,Nr,zi,Xr,qi),ea=function(Re,L,bt,ie){var Ee={},te=0,pe={uint8:5121,uint16:5123};function ve(Je){this.id=te++,Ee[this.id]=this,this.buffer=Je,this.primType=4,this.vertCount=0,this.type=0}L.oes_element_index_uint&&(pe.uint32=5125),ve.prototype.bind=function(){this.buffer.bind()};var de=[];function Pe(Je,Ve,cn,Be,Mn,On,pn){var Sn;if(Je.buffer.bind(),Ve){var Rn=pn;pn||E(Ve)&&(!P(Ve)||E(Ve.data))||(Rn=L.oes_element_index_uint?5125:5123),bt._initBuffer(Je.buffer,Ve,cn,Rn,3)}else Re.bufferData(34963,On,cn),Je.buffer.dtype=Sn||5121,Je.buffer.usage=cn,Je.buffer.dimension=3,Je.buffer.byteLength=On;if(Sn=pn,!pn){switch(Je.buffer.dtype){case 5121:case 5120:Sn=5121;break;case 5123:case 5122:Sn=5123;break;case 5125:case 5124:Sn=5125;break;default:rt.raise("unsupported type for element array")}Je.buffer.dtype=Sn}Je.type=Sn,rt(Sn!==5125||!!L.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var lr=Mn;lr<0&&(lr=Je.buffer.byteLength,Sn===5123?lr>>=1:Sn===5125&&(lr>>=2)),Je.vertCount=lr;var Fn=Be;if(Be<0){Fn=4;var tr=Je.buffer.dimension;tr===1&&(Fn=0),tr===2&&(Fn=1),tr===3&&(Fn=4)}Je.primType=Fn}function ze(Je){ie.elementsCount--,rt(Je.buffer!==null,"must not double destroy elements"),delete Ee[Je.id],Je.buffer.destroy(),Je.buffer=null}return{create:function(Ve,cn){var Be=bt.create(null,34963,!0),Mn=new ve(Be._buffer);function On(pn){if(pn)if(typeof pn=="number")Be(pn),Mn.primType=4,Mn.vertCount=0|pn,Mn.type=5121;else{var Sn=null,Rn=35044,lr=-1,Fn=-1,tr=0,me=0;Array.isArray(pn)||E(pn)||P(pn)?Sn=pn:(rt.type(pn,"object","invalid arguments for elements"),"data"in pn&&(Sn=pn.data,rt(Array.isArray(Sn)||E(Sn)||P(Sn),"invalid data for element buffer")),"usage"in pn&&(rt.parameter(pn.usage,gt,"invalid element buffer usage"),Rn=gt[pn.usage]),"primitive"in pn&&(rt.parameter(pn.primitive,Ft,"invalid element buffer primitive"),lr=Ft[pn.primitive]),"count"in pn&&(rt(typeof pn.count=="number"&&pn.count>=0,"invalid vertex count for elements"),Fn=0|pn.count),"type"in pn&&(rt.parameter(pn.type,pe,"invalid buffer type"),me=pe[pn.type]),"length"in pn?tr=0|pn.length:(tr=Fn,me===5123||me===5122?tr*=2:me!==5125&&me!==5124||(tr*=4))),Pe(Mn,Sn,Rn,lr,Fn,tr,me)}else Be(),Mn.primType=4,Mn.vertCount=0,Mn.type=5121;return On}return ie.elementsCount++,On(Ve),On._reglType="elements",On._elements=Mn,On.subdata=function(pn,Sn){return Be.subdata(pn,Sn),On},On.destroy=function(){ze(Mn)},On},createStream:function(Ve){var cn=de.pop();return cn||(cn=new ve(bt.create(null,34963,!0,!1)._buffer)),Pe(cn,Ve,35040,-1,-1,0,0),cn},destroyStream:function(Ve){de.push(Ve)},getElements:function(Ve){return typeof Ve=="function"&&Ve._elements instanceof ve?Ve._elements:null},clear:function(){m(Ee).forEach(ze)}}}(xn,Nr,qi,Xr),Fa=function(Re,L,bt,ie){var Ee={},te={};function pe(Be,Mn,On,pn){this.name=Be,this.id=Mn,this.location=On,this.info=pn}function ve(Be,Mn){for(var On=0;On<Be.length;++On)if(Be[On].id===Mn.id)return void(Be[On].location=Mn.location);Be.push(Mn)}function de(Be,Mn,On){var pn=Be===35632?Ee:te,Sn=pn[Mn];if(!Sn){var Rn=L.str(Mn);Sn=Re.createShader(Be),Re.shaderSource(Sn,Rn),Re.compileShader(Sn),rt.shaderError(Re,Sn,Rn,Be,On),pn[Mn]=Sn}return Sn}var Pe={},ze=[],Je=0;function Ve(Be,Mn){this.id=Je++,this.fragId=Be,this.vertId=Mn,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,ie.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function cn(Be,Mn,On){var pn,Sn,Rn=de(35632,Be.fragId),lr=de(35633,Be.vertId),Fn=Be.program=Re.createProgram();if(Re.attachShader(Fn,Rn),Re.attachShader(Fn,lr),On)for(pn=0;pn<On.length;++pn){var tr=On[pn];Re.bindAttribLocation(Fn,tr[0],tr[1])}Re.linkProgram(Fn),rt.linkError(Re,Fn,L.str(Be.fragId),L.str(Be.vertId),Mn);var me=Re.getProgramParameter(Fn,35718);ie.profile&&(Be.stats.uniformsCount=me);var Se=Be.uniforms;for(pn=0;pn<me;++pn)if(Sn=Re.getActiveUniform(Fn,pn))if(Sn.size>1)for(var ke=0;ke<Sn.size;++ke){var we=Sn.name.replace("[0]","["+ke+"]");ve(Se,new pe(we,L.id(we),Re.getUniformLocation(Fn,we),Sn))}else ve(Se,new pe(Sn.name,L.id(Sn.name),Re.getUniformLocation(Fn,Sn.name),Sn));var Ye=Re.getProgramParameter(Fn,35721);ie.profile&&(Be.stats.attributesCount=Ye);var un=Be.attributes;for(pn=0;pn<Ye;++pn)(Sn=Re.getActiveAttrib(Fn,pn))&&ve(un,new pe(Sn.name,L.id(Sn.name),Re.getAttribLocation(Fn,Sn.name),Sn))}return ie.profile&&(bt.getMaxUniformsCount=function(){var Be=0;return ze.forEach(function(Mn){Mn.stats.uniformsCount>Be&&(Be=Mn.stats.uniformsCount)}),Be},bt.getMaxAttributesCount=function(){var Be=0;return ze.forEach(function(Mn){Mn.stats.attributesCount>Be&&(Be=Mn.stats.attributesCount)}),Be}),{clear:function(){var Mn=Re.deleteShader.bind(Re);m(Ee).forEach(Mn),Ee={},m(te).forEach(Mn),te={},ze.forEach(function(On){Re.deleteProgram(On.program)}),ze.length=0,Pe={},bt.shaderCount=0},program:function(Mn,On,pn,Sn){rt.command(Mn>=0,"missing vertex shader",pn),rt.command(On>=0,"missing fragment shader",pn);var Rn=Pe[On];Rn||(Rn=Pe[On]={});var lr=Rn[Mn];if(lr&&(lr.refCount++,!Sn))return lr;var Fn=new Ve(On,Mn);return bt.shaderCount++,cn(Fn,pn,Sn),lr||(Rn[Mn]=Fn),ze.push(Fn),T(Fn,{destroy:function(){if(Fn.refCount--,Fn.refCount<=0){Re.deleteProgram(Fn.program);var me=ze.indexOf(Fn);ze.splice(me,1),bt.shaderCount--}Rn[Fn.vertId].refCount<=0&&(Re.deleteShader(te[Fn.vertId]),delete te[Fn.vertId],delete Pe[Fn.fragId][Fn.vertId]),Object.keys(Pe[Fn.fragId]).length||(Re.deleteShader(Ee[Fn.fragId]),delete Ee[Fn.fragId],delete Pe[Fn.fragId])}})},restore:function(){Ee={},te={};for(var Mn=0;Mn<ze.length;++Mn)cn(ze[Mn],null,ze[Mn].attributes.map(function(On){return[On.location,On.name]}))},shader:de,frag:-1,vert:-1}}(xn,$r,Xr,vn),Ua=ao(xn,Nr,zi,function(){ge.procs.poll()},ti,Xr,vn),Na=function(Re,L,bt,ie,Ee){var te={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};L.ext_srgb&&(te.srgba=35907),L.ext_color_buffer_half_float&&(te.rgba16f=34842,te.rgb16f=34843),L.webgl_color_buffer_float&&(te.rgba32f=34836);var pe=[];Object.keys(te).forEach(function(Je){var Ve=te[Je];pe[Ve]=Je});var ve=0,de={};function Pe(Je){this.id=ve++,this.refCount=1,this.renderbuffer=Je,this.format=32854,this.width=0,this.height=0,Ee.profile&&(this.stats={size:0})}function ze(Je){var Ve=Je.renderbuffer;rt(Ve,"must not double destroy renderbuffer"),Re.bindRenderbuffer(36161,null),Re.deleteRenderbuffer(Ve),Je.renderbuffer=null,Je.refCount=0,delete de[Je.id],ie.renderbufferCount--}return Pe.prototype.decRef=function(){--this.refCount<=0&&ze(this)},Ee.profile&&(ie.getTotalRenderbufferSize=function(){var Je=0;return Object.keys(de).forEach(function(Ve){Je+=de[Ve].stats.size}),Je}),{create:function(Ve,cn){var Be=new Pe(Re.createRenderbuffer());function Mn(On,pn){var Sn=0,Rn=0,lr=32854;if(b(On)==="object"&&On){var Fn=On;if("shape"in Fn){var tr=Fn.shape;rt(Array.isArray(tr)&&tr.length>=2,"invalid renderbuffer shape"),Sn=0|tr[0],Rn=0|tr[1]}else"radius"in Fn&&(Sn=Rn=0|Fn.radius),"width"in Fn&&(Sn=0|Fn.width),"height"in Fn&&(Rn=0|Fn.height);"format"in Fn&&(rt.parameter(Fn.format,te,"invalid renderbuffer format"),lr=te[Fn.format])}else typeof On=="number"?(Sn=0|On,Rn=typeof pn=="number"?0|pn:Sn):On?rt.raise("invalid arguments to renderbuffer constructor"):Sn=Rn=1;if(rt(Sn>0&&Rn>0&&Sn<=bt.maxRenderbufferSize&&Rn<=bt.maxRenderbufferSize,"invalid renderbuffer size"),Sn!==Be.width||Rn!==Be.height||lr!==Be.format)return Mn.width=Be.width=Sn,Mn.height=Be.height=Rn,Be.format=lr,Re.bindRenderbuffer(36161,Be.renderbuffer),Re.renderbufferStorage(36161,lr,Sn,Rn),rt(Re.getError()===0,"invalid render buffer format"),Ee.profile&&(Be.stats.size=Ya(Be.format,Be.width,Be.height)),Mn.format=pe[Be.format],Mn}return de[Be.id]=Be,ie.renderbufferCount++,Mn(Ve,cn),Mn.resize=function(On,pn){var Sn=0|On,Rn=0|pn||Sn;return Sn===Be.width&&Rn===Be.height||(rt(Sn>0&&Rn>0&&Sn<=bt.maxRenderbufferSize&&Rn<=bt.maxRenderbufferSize,"invalid renderbuffer size"),Mn.width=Be.width=Sn,Mn.height=Be.height=Rn,Re.bindRenderbuffer(36161,Be.renderbuffer),Re.renderbufferStorage(36161,Be.format,Sn,Rn),rt(Re.getError()===0,"invalid render buffer format"),Ee.profile&&(Be.stats.size=Ya(Be.format,Be.width,Be.height))),Mn},Mn._reglType="renderbuffer",Mn._renderbuffer=Be,Ee.profile&&(Mn.stats=Be.stats),Mn.destroy=function(){Be.decRef()},Mn},clear:function(){m(de).forEach(ze)},restore:function(){m(de).forEach(function(Ve){Ve.renderbuffer=Re.createRenderbuffer(),Re.bindRenderbuffer(36161,Ve.renderbuffer),Re.renderbufferStorage(36161,Ve.format,Ve.width,Ve.height)}),Re.bindRenderbuffer(36161,null)}}}(xn,Nr,zi,Xr,vn),va=function(Re,L,bt,ie,Ee,te){var pe={cur:null,next:null,dirty:!1,setFBO:null},ve=["rgba"],de=["rgba4","rgb565","rgb5 a1"];L.ext_srgb&&de.push("srgba"),L.ext_color_buffer_half_float&&de.push("rgba16f","rgb16f"),L.webgl_color_buffer_float&&de.push("rgba32f");var Pe=["uint8"];function ze(ke,we,Ye){this.target=ke,this.texture=we,this.renderbuffer=Ye;var un=0,zn=0;we?(un=we.width,zn=we.height):Ye&&(un=Ye.width,zn=Ye.height),this.width=un,this.height=zn}function Je(ke){ke&&(ke.texture&&ke.texture._texture.decRef(),ke.renderbuffer&&ke.renderbuffer._renderbuffer.decRef())}function Ve(ke,we,Ye){if(ke)if(ke.texture){var un=ke.texture._texture,zn=Math.max(1,un.width),Nn=Math.max(1,un.height);rt(zn===we&&Nn===Ye,"inconsistent width/height for supplied texture"),un.refCount+=1}else{var or=ke.renderbuffer._renderbuffer;rt(or.width===we&&or.height===Ye,"inconsistent width/height for renderbuffer"),or.refCount+=1}}function cn(ke,we){we&&(we.texture?Re.framebufferTexture2D(36160,ke,we.target,we.texture._texture.texture,0):Re.framebufferRenderbuffer(36160,ke,36161,we.renderbuffer._renderbuffer.renderbuffer))}function Be(ke){var we=3553,Ye=null,un=null,zn=ke;b(ke)==="object"&&(zn=ke.data,"target"in ke&&(we=0|ke.target)),rt.type(zn,"function","invalid attachment data");var Nn=zn._reglType;return Nn==="texture2d"?(Ye=zn,rt(we===3553)):Nn==="textureCube"?(Ye=zn,rt(we>=34069&&we<34075,"invalid cube map target")):Nn==="renderbuffer"?(un=zn,we=36161):rt.raise("invalid regl object for attachment"),new ze(we,Ye,un)}function Mn(ke,we,Ye,un,zn){if(Ye){var Nn=ie.create2D({width:ke,height:we,format:un,type:zn});return Nn._texture.refCount=0,new ze(3553,Nn,null)}var or=Ee.create({width:ke,height:we,format:un});return or._renderbuffer.refCount=0,new ze(36161,null,or)}function On(ke){return ke&&(ke.texture||ke.renderbuffer)}function pn(ke,we,Ye){ke&&(ke.texture?ke.texture.resize(we,Ye):ke.renderbuffer&&ke.renderbuffer.resize(we,Ye),ke.width=we,ke.height=Ye)}L.oes_texture_half_float&&Pe.push("half float","float16"),L.oes_texture_float&&Pe.push("float","float32");var Sn=0,Rn={};function lr(){this.id=Sn++,Rn[this.id]=this,this.framebuffer=Re.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Fn(ke){ke.colorAttachments.forEach(Je),Je(ke.depthAttachment),Je(ke.stencilAttachment),Je(ke.depthStencilAttachment)}function tr(ke){var we=ke.framebuffer;rt(we,"must not double destroy framebuffer"),Re.deleteFramebuffer(we),ke.framebuffer=null,te.framebufferCount--,delete Rn[ke.id]}function me(ke){var we;Re.bindFramebuffer(36160,ke.framebuffer);var Ye=ke.colorAttachments;for(we=0;we<Ye.length;++we)cn(36064+we,Ye[we]);for(we=Ye.length;we<bt.maxColorAttachments;++we)Re.framebufferTexture2D(36160,36064+we,3553,null,0);Re.framebufferTexture2D(36160,33306,3553,null,0),Re.framebufferTexture2D(36160,36096,3553,null,0),Re.framebufferTexture2D(36160,36128,3553,null,0),cn(36096,ke.depthAttachment),cn(36128,ke.stencilAttachment),cn(33306,ke.depthStencilAttachment);var un=Re.checkFramebufferStatus(36160);Re.isContextLost()||un===36053||rt.raise("framebuffer configuration not supported, status = "+Yr[un]),Re.bindFramebuffer(36160,pe.next?pe.next.framebuffer:null),pe.cur=pe.next,Re.getError()}function Se(ke,we){var Ye=new lr;function un(zn,Nn){var or;rt(pe.next!==Ye,"can not update framebuffer which is currently in use");var Rr=0,xi=0,pi=!0,Kr=!0,Ii=null,Gi=!0,Si="rgba",aa="uint8",Xo=1,Wa=null,Zo=null,tu=null,Ho=!1;if(typeof zn=="number")Rr=0|zn,xi=0|Nn||Rr;else if(zn){rt.type(zn,"object","invalid arguments for framebuffer");var Ta=zn;if("shape"in Ta){var Ha=Ta.shape;rt(Array.isArray(Ha)&&Ha.length>=2,"invalid shape for framebuffer"),Rr=Ha[0],xi=Ha[1]}else"radius"in Ta&&(Rr=xi=Ta.radius),"width"in Ta&&(Rr=Ta.width),"height"in Ta&&(xi=Ta.height);("color"in Ta||"colors"in Ta)&&(Ii=Ta.color||Ta.colors,Array.isArray(Ii)&&rt(Ii.length===1||L.webgl_draw_buffers,"multiple render targets not supported")),Ii||("colorCount"in Ta&&(Xo=0|Ta.colorCount,rt(Xo>0,"invalid color buffer count")),"colorTexture"in Ta&&(Gi=!!Ta.colorTexture,Si="rgba4"),"colorType"in Ta&&(aa=Ta.colorType,Gi?(rt(L.oes_texture_float||!(aa==="float"||aa==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),rt(L.oes_texture_half_float||!(aa==="half float"||aa==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):aa==="half float"||aa==="float16"?(rt(L.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),Si="rgba16f"):aa!=="float"&&aa!=="float32"||(rt(L.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),Si="rgba32f"),rt.oneOf(aa,Pe,"invalid color type")),"colorFormat"in Ta&&(Si=Ta.colorFormat,ve.indexOf(Si)>=0?Gi=!0:de.indexOf(Si)>=0?Gi=!1:Gi?rt.oneOf(Ta.colorFormat,ve,"invalid color format for texture"):rt.oneOf(Ta.colorFormat,de,"invalid color format for renderbuffer"))),("depthTexture"in Ta||"depthStencilTexture"in Ta)&&(Ho=!(!Ta.depthTexture&&!Ta.depthStencilTexture),rt(!Ho||L.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in Ta&&(typeof Ta.depth=="boolean"?pi=Ta.depth:(Wa=Ta.depth,Kr=!1)),"stencil"in Ta&&(typeof Ta.stencil=="boolean"?Kr=Ta.stencil:(Zo=Ta.stencil,pi=!1)),"depthStencil"in Ta&&(typeof Ta.depthStencil=="boolean"?pi=Kr=Ta.depthStencil:(tu=Ta.depthStencil,pi=!1,Kr=!1))}else Rr=xi=1;var So=null,ss=null,hs=null,us=null;if(Array.isArray(Ii))So=Ii.map(Be);else if(Ii)So=[Be(Ii)];else for(So=new Array(Xo),or=0;or<Xo;++or)So[or]=Mn(Rr,xi,Gi,Si,aa);rt(L.webgl_draw_buffers||So.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),rt(So.length<=bt.maxColorAttachments,"too many color attachments, not supported"),Rr=Rr||So[0].width,xi=xi||So[0].height,Wa?ss=Be(Wa):pi&&!Kr&&(ss=Mn(Rr,xi,Ho,"depth","uint32")),Zo?hs=Be(Zo):Kr&&!pi&&(hs=Mn(Rr,xi,!1,"stencil","uint8")),tu?us=Be(tu):!Wa&&!Zo&&Kr&&pi&&(us=Mn(Rr,xi,Ho,"depth stencil","depth stencil")),rt(!!Wa+!!Zo+!!tu<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var Rs=null;for(or=0;or<So.length;++or)if(Ve(So[or],Rr,xi),rt(!So[or]||So[or].texture&&Ca.indexOf(So[or].texture._texture.format)>=0||So[or].renderbuffer&&oo.indexOf(So[or].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+or+" is invalid"),So[or]&&So[or].texture){var Hi=La[So[or].texture._texture.format]*Ba[So[or].texture._texture.type];Rs===null?Rs=Hi:rt(Rs===Hi,"all color attachments much have the same number of bits per pixel.")}return Ve(ss,Rr,xi),rt(!ss||ss.texture&&ss.texture._texture.format===6402||ss.renderbuffer&&ss.renderbuffer._renderbuffer.format===33189,"invalid depth attachment for framebuffer object"),Ve(hs,Rr,xi),rt(!hs||hs.renderbuffer&&hs.renderbuffer._renderbuffer.format===36168,"invalid stencil attachment for framebuffer object"),Ve(us,Rr,xi),rt(!us||us.texture&&us.texture._texture.format===34041||us.renderbuffer&&us.renderbuffer._renderbuffer.format===34041,"invalid depth-stencil attachment for framebuffer object"),Fn(Ye),Ye.width=Rr,Ye.height=xi,Ye.colorAttachments=So,Ye.depthAttachment=ss,Ye.stencilAttachment=hs,Ye.depthStencilAttachment=us,un.color=So.map(On),un.depth=On(ss),un.stencil=On(hs),un.depthStencil=On(us),un.width=Ye.width,un.height=Ye.height,me(Ye),un}return te.framebufferCount++,un(ke,we),T(un,{resize:function(Nn,or){rt(pe.next!==Ye,"can not resize a framebuffer which is currently in use");var Rr=Math.max(0|Nn,1),xi=Math.max(0|or||Rr,1);if(Rr===Ye.width&&xi===Ye.height)return un;for(var pi=Ye.colorAttachments,Kr=0;Kr<pi.length;++Kr)pn(pi[Kr],Rr,xi);return pn(Ye.depthAttachment,Rr,xi),pn(Ye.stencilAttachment,Rr,xi),pn(Ye.depthStencilAttachment,Rr,xi),Ye.width=un.width=Rr,Ye.height=un.height=xi,me(Ye),un},_reglType:"framebuffer",_framebuffer:Ye,destroy:function(){tr(Ye),Fn(Ye)},use:function(Nn){pe.setFBO({framebuffer:un},Nn)}})}return T(pe,{getFramebuffer:function(we){if(typeof we=="function"&&we._reglType==="framebuffer"){var Ye=we._framebuffer;if(Ye instanceof lr)return Ye}return null},create:Se,createCube:function(we){var Ye=Array(6);function un(zn){var Nn;rt(Ye.indexOf(pe.next)<0,"can not update framebuffer which is currently in use");var or,Rr={color:null},xi=0,pi=null,Kr="rgba",Ii="uint8",Gi=1;if(typeof zn=="number")xi=0|zn;else if(zn){rt.type(zn,"object","invalid arguments for framebuffer");var Si=zn;if("shape"in Si){var aa=Si.shape;rt(Array.isArray(aa)&&aa.length>=2,"invalid shape for framebuffer"),rt(aa[0]===aa[1],"cube framebuffer must be square"),xi=aa[0]}else"radius"in Si&&(xi=0|Si.radius),"width"in Si?(xi=0|Si.width,"height"in Si&&rt(Si.height===xi,"must be square")):"height"in Si&&(xi=0|Si.height);("color"in Si||"colors"in Si)&&(pi=Si.color||Si.colors,Array.isArray(pi)&&rt(pi.length===1||L.webgl_draw_buffers,"multiple render targets not supported")),pi||("colorCount"in Si&&(Gi=0|Si.colorCount,rt(Gi>0,"invalid color buffer count")),"colorType"in Si&&(rt.oneOf(Si.colorType,Pe,"invalid color type"),Ii=Si.colorType),"colorFormat"in Si&&(Kr=Si.colorFormat,rt.oneOf(Si.colorFormat,ve,"invalid color format for texture"))),"depth"in Si&&(Rr.depth=Si.depth),"stencil"in Si&&(Rr.stencil=Si.stencil),"depthStencil"in Si&&(Rr.depthStencil=Si.depthStencil)}else xi=1;if(pi)if(Array.isArray(pi))for(or=[],Nn=0;Nn<pi.length;++Nn)or[Nn]=pi[Nn];else or=[pi];else{or=Array(Gi);var Xo={radius:xi,format:Kr,type:Ii};for(Nn=0;Nn<Gi;++Nn)or[Nn]=ie.createCube(Xo)}for(Rr.color=Array(or.length),Nn=0;Nn<or.length;++Nn){var Wa=or[Nn];rt(typeof Wa=="function"&&Wa._reglType==="textureCube","invalid cube map"),xi=xi||Wa.width,rt(Wa.width===xi&&Wa.height===xi,"invalid cube map shape"),Rr.color[Nn]={target:34069,data:or[Nn]}}for(Nn=0;Nn<6;++Nn){for(var Zo=0;Zo<or.length;++Zo)Rr.color[Zo].target=34069+Nn;Nn>0&&(Rr.depth=Ye[0].depth,Rr.stencil=Ye[0].stencil,Rr.depthStencil=Ye[0].depthStencil),Ye[Nn]?Ye[Nn](Rr):Ye[Nn]=Se(Rr)}return T(un,{width:xi,height:xi,color:or})}return un(we),T(un,{faces:Ye,resize:function(Nn){var or,Rr=0|Nn;if(rt(Rr>0&&Rr<=bt.maxCubeMapSize,"invalid radius for cube fbo"),Rr===un.width)return un;var xi=un.color;for(or=0;or<xi.length;++or)xi[or].resize(Rr);for(or=0;or<6;++or)Ye[or].resize(Rr);return un.width=un.height=Rr,un},_reglType:"framebufferCube",destroy:function(){Ye.forEach(function(Nn){Nn.destroy()})}})},clear:function(){m(Rn).forEach(tr)},restore:function(){pe.cur=null,pe.next=null,pe.dirty=!0,m(Rn).forEach(function(we){we.framebuffer=Re.createFramebuffer(),me(we)})}})}(xn,Nr,zi,Ua,Na,Xr),ge=kn(xn,$r,Nr,zi,qi,ea,0,va,{},Sa,Fa,{elements:null,primitive:4,count:-1,offset:0,instances:-1},ti,Hr,vn),F=Ma(xn,va,ge.procs.poll,ti,Or,Nr,zi),_=ge.next,$=xn.canvas,dt=[],Gt=[],Jt=[],ce=[vn.onDestroy],fe=null;function De(){if(dt.length===0)return Hr&&Hr.update(),void(fe=null);fe=yt.next(De),Qn();for(var Re=dt.length-1;Re>=0;--Re){var L=dt[Re];L&&L(ti,null,0)}xn.flush(),Hr&&Hr.update()}function We(){!fe&&dt.length>0&&(fe=yt.next(De))}function sn(){fe&&(yt.cancel(De),fe=null)}function Dn(Re){Re.preventDefault(),Br=!0,sn(),Gt.forEach(function(L){L()})}function Yt(Re){xn.getError(),Br=!1,Pr.restore(),Fa.restore(),qi.restore(),Ua.restore(),Na.restore(),va.restore(),Sa.restore(),Hr&&Hr.restore(),ge.procs.refresh(),We(),Jt.forEach(function(L){L()})}function Zt(Re){function L(Ve,cn){var Be={},Mn={};return Object.keys(Ve).forEach(function(On){var pn=Ve[On];if(ot.isDynamic(pn))Mn[On]=ot.unbox(pn,On);else{if(cn&&Array.isArray(pn)){for(var Sn=0;Sn<pn.length;++Sn)if(ot.isDynamic(pn[Sn]))return void(Mn[On]=ot.unbox(pn,On))}Be[On]=pn}}),{dynamic:Mn,static:Be}}rt(!!Re,"invalid args to regl({...})"),rt.type(Re,"object","invalid args to regl({...})");var bt=L(Re.context||{},!0),ie=L(Re.uniforms||{},!0),Ee=L(Re.attributes||{},!1),te=L(function(Ve){var cn=T({},Ve);function Be(Mn){if(Mn in cn){var On=cn[Mn];delete cn[Mn],Object.keys(On).forEach(function(pn){cn[Mn+"."+pn]=On[pn]})}}return delete cn.uniforms,delete cn.attributes,delete cn.context,delete cn.vao,"stencil"in cn&&cn.stencil.op&&(cn.stencil.opBack=cn.stencil.opFront=cn.stencil.op,delete cn.stencil.op),Be("blend"),Be("depth"),Be("cull"),Be("stencil"),Be("polygonOffset"),Be("scissor"),Be("sample"),"vao"in Ve&&(cn.vao=Ve.vao),cn}(Re),!1),pe={gpuTime:0,cpuTime:0,count:0},ve=ge.compile(te,Ee,ie,bt,pe),de=ve.draw,Pe=ve.batch,ze=ve.scope,Je=[];return T(function(Ve,cn){var Be;if(Br&&rt.raise("context lost"),typeof Ve=="function")return ze.call(this,null,Ve,0);if(typeof cn=="function")if(typeof Ve=="number")for(Be=0;Be<Ve;++Be)ze.call(this,null,cn,Be);else{if(!Array.isArray(Ve))return ze.call(this,Ve,cn,0);for(Be=0;Be<Ve.length;++Be)ze.call(this,Ve[Be],cn,Be)}else if(typeof Ve=="number"){if(Ve>0)return Pe.call(this,function(Mn){for(;Je.length<Mn;)Je.push(null);return Je}(0|Ve),0|Ve)}else{if(!Array.isArray(Ve))return de.call(this,Ve);if(Ve.length)return Pe.call(this,Ve,Ve.length)}},{stats:pe,destroy:function(){ve.destroy()}})}$&&($.addEventListener("webglcontextlost",Dn,!1),$.addEventListener("webglcontextrestored",Yt,!1));var Ae=va.setFBO=Zt({framebuffer:ot.define.call(null,1,"framebuffer")});function Ht(Re,L){var bt=0;ge.procs.poll();var ie=L.color;ie&&(xn.clearColor(+ie[0]||0,+ie[1]||0,+ie[2]||0,+ie[3]||0),bt|=16384),"depth"in L&&(xn.clearDepth(+L.depth),bt|=256),"stencil"in L&&(xn.clearStencil(0|L.stencil),bt|=1024),rt(!!bt,"called regl.clear with no buffer specified"),xn.clear(bt)}function he(Re){return rt.type(Re,"function","regl.frame() callback must be a function"),dt.push(Re),We(),{cancel:function(){var bt=pr(dt,Re);rt(bt>=0,"cannot cancel a frame twice"),dt[bt]=function ie(){var Ee=pr(dt,ie);dt[Ee]=dt[dt.length-1],dt.length-=1,dt.length<=0&&sn()}}}}function En(){var Re=_.viewport,L=_.scissor_box;Re[0]=Re[1]=L[0]=L[1]=0,ti.viewportWidth=ti.framebufferWidth=ti.drawingBufferWidth=Re[2]=L[2]=xn.drawingBufferWidth,ti.viewportHeight=ti.framebufferHeight=ti.drawingBufferHeight=Re[3]=L[3]=xn.drawingBufferHeight}function Qn(){ti.tick+=1,ti.time=ar(),En(),ge.procs.poll()}function fr(){Ua.refresh(),En(),ge.procs.refresh(),Hr&&Hr.update()}function ar(){return(xt()-oi)/1e3}fr();var an=T(Zt,{clear:function(L){if(rt(b(L)==="object"&&L,"regl.clear() takes an object as input"),"framebuffer"in L)if(L.framebuffer&&L.framebuffer_reglType==="framebufferCube")for(var bt=0;bt<6;++bt)Ae(T({framebuffer:L.framebuffer.faces[bt]},L),Ht);else Ae(L,Ht);else Ht(0,L)},prop:ot.define.bind(null,1),context:ot.define.bind(null,2),this:ot.define.bind(null,3),draw:Zt({}),buffer:function(L){return qi.create(L,34962,!1,!1)},elements:function(L){return ea.create(L,!1)},texture:Ua.create2D,cube:Ua.createCube,renderbuffer:Na.create,framebuffer:va.create,framebufferCube:va.createCube,vao:Sa.createVAO,attributes:Or,frame:he,on:function(L,bt){var ie;switch(rt.type(bt,"function","listener callback must be a function"),L){case"frame":return he(bt);case"lost":ie=Gt;break;case"restore":ie=Jt;break;case"destroy":ie=ce;break;default:rt.raise("invalid event, must be one of frame,lost,restore,destroy")}return ie.push(bt),{cancel:function(){for(var te=0;te<ie.length;++te)if(ie[te]===bt)return ie[te]=ie[ie.length-1],void ie.pop()}}},limits:zi,hasExtension:function(L){return zi.extensions.indexOf(L.toLowerCase())>=0},read:F,destroy:function(){dt.length=0,sn(),$&&($.removeEventListener("webglcontextlost",Dn),$.removeEventListener("webglcontextrestored",Yt)),Fa.clear(),va.clear(),Na.clear(),Ua.clear(),ea.clear(),qi.clear(),Sa.clear(),Hr&&Hr.clear(),ce.forEach(function(L){L()})},_gl:xn,_refresh:fr,poll:function(){Qn(),Hr&&Hr.update()},now:ar,stats:Xr});return vn.onDone(null,an),an}},b(M)==="object"&&a!==void 0?a.exports=S():(d=typeof(n=S)=="function"?n.call(M,t,M,a):n)===void 0||(a.exports=d)},function(a,M,t){"use strict";a.exports=function(n,d,S,b){try{try{var h;try{h=new window.Blob([n])}catch(s){(h=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(n),h=h.getBlob()}var E=window.URL||window.webkitURL,T=E.createObjectURL(h),o=new window[d](T,S);return E.revokeObjectURL(T),o}catch(s){return new window[d]("data:application/javascript,".concat(encodeURIComponent(n)),S)}}catch(s){if(!b)throw Error("Inline worker is not supported");return new window[d](b,S)}}},,,,,,,,function(a,M,t){"use strict";t.r(M),t.d(M,"Minimap",function(){return O}),t.d(M,"Grid",function(){return j}),t.d(M,"Bundling",function(){return p}),t.d(M,"Menu",function(){return x}),t.d(M,"Fisheye",function(){return A}),t.d(M,"ToolBar",function(){return k}),t.d(M,"Tooltip",function(){return X}),t.d(M,"TimeBar",function(){return et}),t.d(M,"ImageMinimap",function(){return tt}),t.d(M,"EdgeFilterLens",function(){return ft});var n=t(5);t.d(M,"Arrow",function(){return n.d}),t.d(M,"Marker",function(){return n.k}),t.d(M,"Shape",function(){return n.m});var d=t(18);t.d(M,"ICanvas",function(){return d.ICanvas}),t.d(M,"IGroup",function(){return d.IGroup}),t.d(M,"IShape",function(){return d.IShape});var S=t(33);t.d(M,"Algorithm",function(){return S});var b=t(92);t.d(M,"Graph",function(){return b.a});var h=t(152);t.d(M,"TreeGraph",function(){return h.a});var E=t(70);t.d(M,"Layout",function(){return E.a}),t.d(M,"registerLayout",function(){return E.b});var T=t(45);t.d(M,"Global",function(){return T.a});var o=t(38);t.d(M,"Util",function(){return o.a});var s=t(35);t(509),t(508),t.d(M,"G6GraphEvent",function(){return n.i}),t.d(M,"G6Event",function(){return n.h}),t.d(M,"Node",function(){return n.l}),t.d(M,"Edge",function(){return n.g}),t.d(M,"Combo",function(){return n.f}),t.d(M,"Hull",function(){return n.j}),t.d(M,"registerNode",function(){return n.r}),t.d(M,"registerCombo",function(){return n.p}),t.d(M,"AbstractGraph",function(){return n.b}),t.d(M,"registerEdge",function(){return n.q}),t.d(M,"registerBehavior",function(){return n.o}),t.d(M,"AbstractLayout",function(){return n.c}),t.d(M,"AbstractEvent",function(){return n.a}),t.d(M,"BaseGlobal",function(){return n.e});var u=t(245);for(var v in u)["default","Graph","TreeGraph","Util","Layout","registerLayout","Global","Minimap","Grid","Bundling","Menu","Fisheye","Algorithm","ToolBar","Tooltip","TimeBar","ImageMinimap","EdgeFilterLens","Arrow","Marker","Shape","ICanvas","IGroup","IShape","G6GraphEvent","G6Event","Node","Edge","Combo","Hull","registerNode","registerCombo","AbstractGraph","registerEdge","registerBehavior","AbstractLayout","AbstractEvent","BaseGlobal"].indexOf(v)<0&&function(st){t.d(M,st,function(){return u[st]})}(v);var C=t(246);for(var v in C)["default","Graph","TreeGraph","Util","Layout","registerLayout","Global","Minimap","Grid","Bundling","Menu","Fisheye","Algorithm","ToolBar","Tooltip","TimeBar","ImageMinimap","EdgeFilterLens","Arrow","Marker","Shape","ICanvas","IGroup","IShape","G6GraphEvent","G6Event","Node","Edge","Combo","Hull","registerNode","registerCombo","AbstractGraph","registerEdge","registerBehavior","AbstractLayout","AbstractEvent","BaseGlobal"].indexOf(v)<0&&function(vt){t.d(M,vt,function(){return C[vt]})}(v);var O=s.a.Minimap,j=s.a.Grid,p=s.a.Bundling,x=s.a.Menu,A=s.a.Fisheye,k=s.a.ToolBar,X=s.a.Tooltip,et=s.a.TimeBar,tt=s.a.ImageMinimap,ft=s.a.EdgeFilterLens;M.default={version:T.a.version,Graph:b.a,TreeGraph:h.a,Util:o.a,Layout:E.a,registerLayout:E.b,Global:T.a,registerBehavior:n.o,registerCombo:n.p,registerEdge:n.q,registerNode:n.r,Minimap:s.a.Minimap,Grid:s.a.Grid,Bundling:s.a.Bundling,Menu:s.a.Menu,ToolBar:s.a.ToolBar,Tooltip:s.a.Tooltip,TimeBar:et,Fisheye:A,ImageMinimap:tt,EdgeFilterLens:ft,Algorithm:S,Arrow:n.d,Marker:n.k,Shape:n.m}},function(a,M,t){var n=t(264),d=t(265),S={};for(var b in n)n.hasOwnProperty(b)&&(S[n[b]]=b);var h=a.exports={to:{},get:{}};function E(o,s,u){return Math.min(Math.max(s,o),u)}function T(o){var s=o.toString(16).toUpperCase();return s.length<2?"0"+s:s}h.get=function(o){var s,u;switch(o.substring(0,3).toLowerCase()){case"hsl":s=h.get.hsl(o),u="hsl";break;case"hwb":s=h.get.hwb(o),u="hwb";break;default:s=h.get.rgb(o),u="rgb"}return s?{model:u,value:s}:null},h.get.rgb=function(o){if(!o)return null;var s,u,v,C=[0,0,0,1];if(s=o.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(v=s[2],s=s[1],u=0;u<3;u++){var O=2*u;C[u]=parseInt(s.slice(O,O+2),16)}v&&(C[3]=parseInt(v,16)/255)}else if(s=o.match(/^#([a-f0-9]{3,4})$/i)){for(v=(s=s[1])[3],u=0;u<3;u++)C[u]=parseInt(s[u]+s[u],16);v&&(C[3]=parseInt(v+v,16)/255)}else if(s=o.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(u=0;u<3;u++)C[u]=parseInt(s[u+1],0);s[4]&&(C[3]=parseFloat(s[4]))}else{if(!(s=o.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(s=o.match(/(\D+)/))?s[1]==="transparent"?[0,0,0,0]:(C=n[s[1]])?(C[3]=1,C):null:null;for(u=0;u<3;u++)C[u]=Math.round(2.55*parseFloat(s[u+1]));s[4]&&(C[3]=parseFloat(s[4]))}for(u=0;u<3;u++)C[u]=E(C[u],0,255);return C[3]=E(C[3],0,1),C},h.get.hsl=function(o){if(!o)return null;var s=o.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(s){var u=parseFloat(s[4]);return[(parseFloat(s[1])+360)%360,E(parseFloat(s[2]),0,100),E(parseFloat(s[3]),0,100),E(isNaN(u)?1:u,0,1)]}return null},h.get.hwb=function(o){if(!o)return null;var s=o.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(s){var u=parseFloat(s[4]);return[(parseFloat(s[1])%360+360)%360,E(parseFloat(s[2]),0,100),E(parseFloat(s[3]),0,100),E(isNaN(u)?1:u,0,1)]}return null},h.to.hex=function(){var o=d(arguments);return"#"+T(o[0])+T(o[1])+T(o[2])+(o[3]<1?T(Math.round(255*o[3])):"")},h.to.rgb=function(){var o=d(arguments);return o.length<4||o[3]===1?"rgb("+Math.round(o[0])+", "+Math.round(o[1])+", "+Math.round(o[2])+")":"rgba("+Math.round(o[0])+", "+Math.round(o[1])+", "+Math.round(o[2])+", "+o[3]+")"},h.to.rgb.percent=function(){var o=d(arguments),s=Math.round(o[0]/255*100),u=Math.round(o[1]/255*100),v=Math.round(o[2]/255*100);return o.length<4||o[3]===1?"rgb("+s+"%, "+u+"%, "+v+"%)":"rgba("+s+"%, "+u+"%, "+v+"%, "+o[3]+")"},h.to.hsl=function(){var o=d(arguments);return o.length<4||o[3]===1?"hsl("+o[0]+", "+o[1]+"%, "+o[2]+"%)":"hsla("+o[0]+", "+o[1]+"%, "+o[2]+"%, "+o[3]+")"},h.to.hwb=function(){var o=d(arguments),s="";return o.length>=4&&o[3]!==1&&(s=", "+o[3]),"hwb("+o[0]+", "+o[1]+"%, "+o[2]+"%"+s+")"},h.to.keyword=function(o){return S[o.slice(0,3)]}},function(a,M,t){"use strict";a.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(a,M,t){"use strict";var n=t(266),d=Array.prototype.concat,S=Array.prototype.slice,b=a.exports=function(h){for(var E=[],T=0,o=h.length;T<o;T++){var s=h[T];n(s)?E=d.call(E,S.call(s)):E.push(s)}return E};b.wrap=function(h){return function(){return h(b(arguments))}}},function(a,M){a.exports=function(t){return!(!t||typeof t=="string")&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String"))}},function(a,M,t){function n(h){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(h)}var d=t(161),S=t(269),b={};Object.keys(d).forEach(function(h){b[h]={},Object.defineProperty(b[h],"channels",{value:d[h].channels}),Object.defineProperty(b[h],"labels",{value:d[h].labels});var E=S(h);Object.keys(E).forEach(function(T){var o=E[T];b[h][T]=function(s){var u=function(C){if(C==null)return C;arguments.length>1&&(C=Array.prototype.slice.call(arguments));var O=s(C);if(n(O)==="object")for(var j=O.length,p=0;p<j;p++)O[p]=Math.round(O[p]);return O};return"conversion"in s&&(u.conversion=s.conversion),u}(o),b[h][T].raw=function(s){var u=function(C){return C==null?C:(arguments.length>1&&(C=Array.prototype.slice.call(arguments)),s(C))};return"conversion"in s&&(u.conversion=s.conversion),u}(o)})}),a.exports=b},function(a,M,t){"use strict";a.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(a,M,t){var n=t(161);function d(h){var E=function(){for(var j={},p=Object.keys(n),x=p.length,A=0;A<x;A++)j[p[A]]={distance:-1,parent:null};return j}(),T=[h];for(E[h].distance=0;T.length;)for(var o=T.pop(),s=Object.keys(n[o]),u=s.length,v=0;v<u;v++){var C=s[v],O=E[C];O.distance===-1&&(O.distance=E[o].distance+1,O.parent=o,T.unshift(C))}return E}function S(h,E){return function(T){return E(h(T))}}function b(h,E){for(var T=[E[h].parent,h],o=n[E[h].parent][h],s=E[h].parent;E[s].parent;)T.unshift(E[s].parent),o=S(n[E[s].parent][s],o),s=E[s].parent;return o.conversion=T,o}a.exports=function(h){for(var E=d(h),T={},o=Object.keys(E),s=o.length,u=0;u<s;u++){var v=o[u];E[v].parent!==null&&(T[v]=b(v,E))}return T}},function(a,M,t){var n=t(271);a.exports={Graph:n.Graph,json:t(372),alg:t(373),version:n.version}},function(a,M,t){a.exports={Graph:t(124),version:t(371)}},function(a,M,t){var n=t(162);a.exports=function(d){return n(d,4)}},function(a,M){a.exports=function(){this.__data__=[],this.size=0}},function(a,M,t){var n=t(98),d=Array.prototype.splice;a.exports=function(S){var b=this.__data__,h=n(b,S);return!(h<0)&&(h==b.length-1?b.pop():d.call(b,h,1),--this.size,!0)}},function(a,M,t){var n=t(98);a.exports=function(d){var S=this.__data__,b=n(S,d);return b<0?void 0:S[b][1]}},function(a,M,t){var n=t(98);a.exports=function(d){return n(this.__data__,d)>-1}},function(a,M,t){var n=t(98);a.exports=function(d,S){var b=this.__data__,h=n(b,d);return h<0?(++this.size,b.push([d,S])):b[h][1]=S,this}},function(a,M,t){var n=t(97);a.exports=function(){this.__data__=new n,this.size=0}},function(a,M){a.exports=function(t){var n=this.__data__,d=n.delete(t);return this.size=n.size,d}},function(a,M){a.exports=function(t){return this.__data__.get(t)}},function(a,M){a.exports=function(t){return this.__data__.has(t)}},function(a,M,t){var n=t(97),d=t(125),S=t(126);a.exports=function(b,h){var E=this.__data__;if(E instanceof n){var T=E.__data__;if(!d||T.length<199)return T.push([b,h]),this.size=++E.size,this;E=this.__data__=new S(T)}return E.set(b,h),this.size=E.size,this}},function(a,M,t){var n=t(84),d=t(286),S=t(43),b=t(165),h=/^\[object .+?Constructor\]$/,E=Function.prototype,T=Object.prototype,o=E.toString,s=T.hasOwnProperty,u=RegExp("^"+o.call(s).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=function(v){return!(!S(v)||d(v))&&(n(v)?u:h).test(b(v))}},function(a,M,t){var n=t(73),d=Object.prototype,S=d.hasOwnProperty,b=d.toString,h=n?n.toStringTag:void 0;a.exports=function(E){var T=S.call(E,h),o=E[h];try{E[h]=void 0;var s=!0}catch(v){}var u=b.call(E);return s&&(T?E[h]=o:delete E[h]),u}},function(a,M){var t=Object.prototype.toString;a.exports=function(n){return t.call(n)}},function(a,M,t){var n,d=t(287),S=(n=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";a.exports=function(b){return!!S&&S in b}},function(a,M,t){var n=t(47)["__core-js_shared__"];a.exports=n},function(a,M){a.exports=function(t,n){return t==null?void 0:t[n]}},function(a,M,t){var n=t(290),d=t(97),S=t(125);a.exports=function(){this.size=0,this.__data__={hash:new n,map:new(S||d),string:new n}}},function(a,M,t){var n=t(291),d=t(292),S=t(293),b=t(294),h=t(295);function E(T){var o=-1,s=T==null?0:T.length;for(this.clear();++o<s;){var u=T[o];this.set(u[0],u[1])}}E.prototype.clear=n,E.prototype.delete=d,E.prototype.get=S,E.prototype.has=b,E.prototype.set=h,a.exports=E},function(a,M,t){var n=t(99);a.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(a,M){a.exports=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}},function(a,M,t){var n=t(99),d=Object.prototype.hasOwnProperty;a.exports=function(S){var b=this.__data__;if(n){var h=b[S];return h==="__lodash_hash_undefined__"?void 0:h}return d.call(b,S)?b[S]:void 0}},function(a,M,t){var n=t(99),d=Object.prototype.hasOwnProperty;a.exports=function(S){var b=this.__data__;return n?b[S]!==void 0:d.call(b,S)}},function(a,M,t){var n=t(99);a.exports=function(d,S){var b=this.__data__;return this.size+=this.has(d)?0:1,b[d]=n&&S===void 0?"__lodash_hash_undefined__":S,this}},function(a,M,t){var n=t(100);a.exports=function(d){var S=n(this,d).delete(d);return this.size-=S?1:0,S}},function(a,M){function t(n){return(t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(n)}a.exports=function(n){var d=t(n);return d=="string"||d=="number"||d=="symbol"||d=="boolean"?n!=="__proto__":n===null}},function(a,M,t){var n=t(100);a.exports=function(d){return n(this,d).get(d)}},function(a,M,t){var n=t(100);a.exports=function(d){return n(this,d).has(d)}},function(a,M,t){var n=t(100);a.exports=function(d,S){var b=n(this,d),h=b.size;return b.set(d,S),this.size+=b.size==h?0:1,this}},function(a,M,t){var n=t(85),d=t(58);a.exports=function(S,b){return S&&n(b,d(b),S)}},function(a,M){a.exports=function(t,n){for(var d=-1,S=Array(t);++d<t;)S[d]=n(d);return S}},function(a,M,t){var n=t(57),d=t(48);a.exports=function(S){return d(S)&&n(S)=="[object Arguments]"}},function(a,M){a.exports=function(){return!1}},function(a,M,t){var n=t(57),d=t(128),S=t(48),b={};b["[object Float32Array]"]=b["[object Float64Array]"]=b["[object Int8Array]"]=b["[object Int16Array]"]=b["[object Int32Array]"]=b["[object Uint8Array]"]=b["[object Uint8ClampedArray]"]=b["[object Uint16Array]"]=b["[object Uint32Array]"]=!0,b["[object Arguments]"]=b["[object Array]"]=b["[object ArrayBuffer]"]=b["[object Boolean]"]=b["[object DataView]"]=b["[object Date]"]=b["[object Error]"]=b["[object Function]"]=b["[object Map]"]=b["[object Number]"]=b["[object Object]"]=b["[object RegExp]"]=b["[object Set]"]=b["[object String]"]=b["[object WeakMap]"]=!1,a.exports=function(h){return S(h)&&d(h.length)&&!!b[n(h)]}},function(a,M,t){var n=t(168)(Object.keys,Object);a.exports=n},function(a,M,t){var n=t(85),d=t(66);a.exports=function(S,b){return S&&n(b,d(b),S)}},function(a,M,t){var n=t(43),d=t(105),S=t(309),b=Object.prototype.hasOwnProperty;a.exports=function(h){if(!n(h))return S(h);var E=d(h),T=[];for(var o in h)(o!="constructor"||!E&&b.call(h,o))&&T.push(o);return T}},function(a,M){a.exports=function(t){var n=[];if(t!=null)for(var d in Object(t))n.push(d);return n}},function(a,M,t){var n=t(85),d=t(131);a.exports=function(S,b){return n(S,d(S),b)}},function(a,M,t){var n=t(85),d=t(173);a.exports=function(S,b){return n(S,d(S),b)}},function(a,M,t){var n=t(175),d=t(173),S=t(66);a.exports=function(b){return n(b,S,d)}},function(a,M,t){var n=t(65)(t(47),"DataView");a.exports=n},function(a,M,t){var n=t(65)(t(47),"Promise");a.exports=n},function(a,M,t){var n=t(65)(t(47),"WeakMap");a.exports=n},function(a,M){var t=Object.prototype.hasOwnProperty;a.exports=function(n){var d=n.length,S=new n.constructor(d);return d&&typeof n[0]=="string"&&t.call(n,"index")&&(S.index=n.index,S.input=n.input),S}},function(a,M,t){var n=t(133),d=t(318),S=t(319),b=t(320),h=t(178);a.exports=function(E,T,o){var s=E.constructor;switch(T){case"[object ArrayBuffer]":return n(E);case"[object Boolean]":case"[object Date]":return new s(+E);case"[object DataView]":return d(E,o);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return h(E,o);case"[object Map]":return new s;case"[object Number]":case"[object String]":return new s(E);case"[object RegExp]":return S(E);case"[object Set]":return new s;case"[object Symbol]":return b(E)}}},function(a,M,t){var n=t(133);a.exports=function(d,S){var b=S?n(d.buffer):d.buffer;return new d.constructor(b,d.byteOffset,d.byteLength)}},function(a,M){var t=/\w*$/;a.exports=function(n){var d=new n.constructor(n.source,t.exec(n));return d.lastIndex=n.lastIndex,d}},function(a,M,t){var n=t(73),d=n?n.prototype:void 0,S=d?d.valueOf:void 0;a.exports=function(b){return S?Object(S.call(b)):{}}},function(a,M,t){var n=t(322),d=t(104),S=t(129),b=S&&S.isMap,h=b?d(b):n;a.exports=h},function(a,M,t){var n=t(75),d=t(48);a.exports=function(S){return d(S)&&n(S)=="[object Map]"}},function(a,M,t){var n=t(324),d=t(104),S=t(129),b=S&&S.isSet,h=b?d(b):n;a.exports=h},function(a,M,t){var n=t(75),d=t(48);a.exports=function(S){return d(S)&&n(S)=="[object Set]"}},function(a,M){a.exports=function(t){return function(n,d,S){for(var b=-1,h=Object(n),E=S(n),T=E.length;T--;){var o=E[t?T:++b];if(d(h[o],o,h)===!1)break}return n}}},function(a,M,t){var n=t(53);a.exports=function(d,S){return function(b,h){if(b==null)return b;if(!n(b))return d(b,h);for(var E=b.length,T=S?E:-1,o=Object(b);(S?T--:++T<E)&&h(o[T],T,o)!==!1;);return b}}},function(a,M,t){var n=t(107);a.exports=function(d,S){var b=[];return n(d,function(h,E,T){S(h,E,T)&&b.push(h)}),b}},function(a,M,t){var n=t(329),d=t(337),S=t(190);a.exports=function(b){var h=d(b);return h.length==1&&h[0][2]?S(h[0][0],h[0][1]):function(E){return E===b||n(E,b,h)}}},function(a,M,t){var n=t(96),d=t(185);a.exports=function(S,b,h,E){var T=h.length,o=T,s=!E;if(S==null)return!o;for(S=Object(S);T--;){var u=h[T];if(s&&u[2]?u[1]!==S[u[0]]:!(u[0]in S))return!1}for(;++T<o;){var v=(u=h[T])[0],C=S[v],O=u[1];if(s&&u[2]){if(C===void 0&&!(v in S))return!1}else{var j=new n;if(E)var p=E(C,O,v,S,b,j);if(!(p===void 0?d(O,C,3,E,j):p))return!1}}return!0}},function(a,M,t){var n=t(96),d=t(186),S=t(334),b=t(336),h=t(75),E=t(26),T=t(74),o=t(44),s="[object Object]",u=Object.prototype.hasOwnProperty;a.exports=function(v,C,O,j,p,x){var A=E(v),k=E(C),X=A?"[object Array]":h(v),et=k?"[object Array]":h(C),tt=(X=X=="[object Arguments]"?s:X)==s,ft=(et=et=="[object Arguments]"?s:et)==s,st=X==et;if(st&&T(v)){if(!T(C))return!1;A=!0,tt=!1}if(st&&!tt)return x||(x=new n),A||o(v)?d(v,C,O,j,p,x):S(v,C,X,O,j,p,x);if(!(1&O)){var vt=tt&&u.call(v,"__wrapped__"),mt=ft&&u.call(C,"__wrapped__");if(vt||mt){var pt=vt?v.value():v,rt=mt?C.value():C;return x||(x=new n),p(pt,rt,O,j,x)}}return!!st&&(x||(x=new n),b(v,C,O,j,p,x))}},function(a,M){a.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(a,M){a.exports=function(t){return this.__data__.has(t)}},function(a,M){a.exports=function(t,n){for(var d=-1,S=t==null?0:t.length;++d<S;)if(n(t[d],d,t))return!0;return!1}},function(a,M,t){var n=t(73),d=t(177),S=t(72),b=t(186),h=t(335),E=t(137),T=n?n.prototype:void 0,o=T?T.valueOf:void 0;a.exports=function(s,u,v,C,O,j,p){switch(v){case"[object DataView]":if(s.byteLength!=u.byteLength||s.byteOffset!=u.byteOffset)return!1;s=s.buffer,u=u.buffer;case"[object ArrayBuffer]":return!(s.byteLength!=u.byteLength||!j(new d(s),new d(u)));case"[object Boolean]":case"[object Date]":case"[object Number]":return S(+s,+u);case"[object Error]":return s.name==u.name&&s.message==u.message;case"[object RegExp]":case"[object String]":return s==u+"";case"[object Map]":var x=h;case"[object Set]":var A=1&C;if(x||(x=E),s.size!=u.size&&!A)return!1;var k=p.get(s);if(k)return k==u;C|=2,p.set(s,u);var X=b(x(s),x(u),C,O,j,p);return p.delete(s),X;case"[object Symbol]":if(o)return o.call(s)==o.call(u)}return!1}},function(a,M){a.exports=function(t){var n=-1,d=Array(t.size);return t.forEach(function(S,b){d[++n]=[b,S]}),d}},function(a,M,t){var n=t(174),d=Object.prototype.hasOwnProperty;a.exports=function(S,b,h,E,T,o){var s=1&h,u=n(S),v=u.length;if(v!=n(b).length&&!s)return!1;for(var C=v;C--;){var O=u[C];if(!(s?O in b:d.call(b,O)))return!1}var j=o.get(S),p=o.get(b);if(j&&p)return j==b&&p==S;var x=!0;o.set(S,b),o.set(b,S);for(var A=s;++C<v;){var k=S[O=u[C]],X=b[O];if(E)var et=s?E(X,k,O,b,S,o):E(k,X,O,S,b,o);if(!(et===void 0?k===X||T(k,X,h,E,o):et)){x=!1;break}A||(A=O=="constructor")}if(x&&!A){var tt=S.constructor,ft=b.constructor;tt==ft||!("constructor"in S)||!("constructor"in b)||typeof tt=="function"&&tt instanceof tt&&typeof ft=="function"&&ft instanceof ft||(x=!1)}return o.delete(S),o.delete(b),x}},function(a,M,t){var n=t(189),d=t(58);a.exports=function(S){for(var b=d(S),h=b.length;h--;){var E=b[h],T=S[E];b[h]=[E,T,n(T)]}return b}},function(a,M,t){var n=t(185),d=t(339),S=t(192),b=t(138),h=t(189),E=t(190),T=t(88);a.exports=function(o,s){return b(o)&&h(s)?E(T(o),s):function(u){var v=d(u,o);return v===void 0&&v===s?S(u,o):n(s,v,3)}}},function(a,M,t){var n=t(108);a.exports=function(d,S,b){var h=d==null?void 0:n(d,S);return h===void 0?b:h}},function(a,M,t){var n=t(341),d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,S=/\\(\\)?/g,b=n(function(h){var E=[];return h.charCodeAt(0)===46&&E.push(""),h.replace(d,function(T,o,s,u){E.push(s?u.replace(S,"$1"):o||T)}),E});a.exports=b},function(a,M,t){var n=t(342);a.exports=function(d){var S=n(d,function(h){return b.size===500&&b.clear(),h}),b=S.cache;return S}},function(a,M,t){var n=t(126);function d(S,b){if(typeof S!="function"||b!=null&&typeof b!="function")throw new TypeError("Expected a function");var h=function E(){var T=arguments,o=b?b.apply(this,T):T[0],s=E.cache;if(s.has(o))return s.get(o);var u=S.apply(this,T);return E.cache=s.set(o,u)||s,u};return h.cache=new(d.Cache||n),h}d.Cache=n,a.exports=d},function(a,M,t){var n=t(73),d=t(110),S=t(26),b=t(76),h=n?n.prototype:void 0,E=h?h.toString:void 0;a.exports=function T(o){if(typeof o=="string")return o;if(S(o))return d(o,T)+"";if(b(o))return E?E.call(o):"";var s=o+"";return s=="0"&&1/o==-1/0?"-0":s}},function(a,M){a.exports=function(t,n){return t!=null&&n in Object(t)}},function(a,M,t){var n=t(194),d=t(346),S=t(138),b=t(88);a.exports=function(h){return S(h)?n(b(h)):d(h)}},function(a,M,t){var n=t(108);a.exports=function(d){return function(S){return n(S,d)}}},function(a,M){var t=Object.prototype.hasOwnProperty;a.exports=function(n,d){return n!=null&&t.call(n,d)}},function(a,M,t){var n=t(130),d=t(75),S=t(86),b=t(26),h=t(53),E=t(74),T=t(105),o=t(44),s=Object.prototype.hasOwnProperty;a.exports=function(u){if(u==null)return!0;if(h(u)&&(b(u)||typeof u=="string"||typeof u.splice=="function"||E(u)||o(u)||S(u)))return!u.length;var v=d(u);if(v=="[object Map]"||v=="[object Set]")return!u.size;if(T(u))return!n(u).length;for(var C in u)if(s.call(u,C))return!1;return!0}},function(a,M){a.exports=function(t,n,d,S){var b=-1,h=t==null?0:t.length;for(S&&h&&(d=t[++b]);++b<h;)d=n(d,t[b],b,t);return d}},function(a,M){a.exports=function(t,n,d,S,b){return b(t,function(h,E,T){d=S?(S=!1,h):n(d,h,E,T)}),d}},function(a,M,t){var n=t(130),d=t(75),S=t(53),b=t(352),h=t(353);a.exports=function(E){if(E==null)return 0;if(S(E))return b(E)?h(E):E.length;var T=d(E);return T=="[object Map]"||T=="[object Set]"?E.size:n(E).length}},function(a,M,t){var n=t(57),d=t(26),S=t(48);a.exports=function(b){return typeof b=="string"||!d(b)&&S(b)&&n(b)=="[object String]"}},function(a,M,t){var n=t(354),d=t(355),S=t(356);a.exports=function(b){return d(b)?S(b):n(b)}},function(a,M,t){var n=t(194)("length");a.exports=n},function(a,M){var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");a.exports=function(n){return t.test(n)}},function(a,M){var t="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",d="\\ud83c[\\udffb-\\udfff]",S="[^\\ud800-\\udfff]",b="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",E="(?:"+n+"|"+d+")?",T="[\\ufe0e\\ufe0f]?"+E+("(?:\\u200d(?:"+[S,b,h].join("|")+")[\\ufe0e\\ufe0f]?"+E+")*"),o="(?:"+[S+n+"?",n,b,h,t].join("|")+")",s=RegExp(d+"(?="+d+")|"+o+T,"g");a.exports=function(u){for(var v=s.lastIndex=0;s.test(u);)++v;return v}},function(a,M,t){var n=t(127),d=t(180),S=t(135),b=t(54),h=t(106),E=t(26),T=t(74),o=t(84),s=t(43),u=t(44);a.exports=function(v,C,O){var j=E(v),p=j||T(v)||u(v);if(C=b(C,4),O==null){var x=v&&v.constructor;O=p?j?new x:[]:s(v)&&o(x)?d(h(v)):{}}return(p?n:S)(v,function(A,k,X){return C(O,A,k,X)}),O}},function(a,M,t){var n=t(139),d=t(111),S=t(202),b=t(204),h=d(function(E){return S(n(E,1,b,!0))});a.exports=h},function(a,M,t){var n=t(73),d=t(86),S=t(26),b=n?n.isConcatSpreadable:void 0;a.exports=function(h){return S(h)||d(h)||!!(b&&h&&h[b])}},function(a,M){a.exports=function(t,n,d){switch(d.length){case 0:return t.call(n);case 1:return t.call(n,d[0]);case 2:return t.call(n,d[0],d[1]);case 3:return t.call(n,d[0],d[1],d[2])}return t.apply(n,d)}},function(a,M,t){var n=t(134),d=t(166),S=t(67),b=d?function(h,E){return d(h,"toString",{configurable:!0,enumerable:!1,value:n(E),writable:!0})}:S;a.exports=b},function(a,M){var t=Date.now;a.exports=function(n){var d=0,S=0;return function(){var b=t(),h=16-(b-S);if(S=b,h>0){if(++d>=800)return arguments[0]}else d=0;return n.apply(void 0,arguments)}}},function(a,M,t){var n=t(364);a.exports=function(d,S){return!!(d==null?0:d.length)&&n(d,S,0)>-1}},function(a,M,t){var n=t(203),d=t(365),S=t(366);a.exports=function(b,h,E){return h==h?S(b,h,E):n(b,d,E)}},function(a,M){a.exports=function(t){return t!=t}},function(a,M){a.exports=function(t,n,d){for(var S=d-1,b=t.length;++S<b;)if(t[S]===n)return S;return-1}},function(a,M){a.exports=function(t,n,d){for(var S=-1,b=t==null?0:t.length;++S<b;)if(d(n,t[S]))return!0;return!1}},function(a,M,t){var n=t(176),d=t(369),S=t(137),b=n&&1/S(new n([,-0]))[1]==1/0?function(h){return new n(h)}:d;a.exports=b},function(a,M){a.exports=function(){}},function(a,M,t){var n=t(110);a.exports=function(d,S){return n(S,function(b){return d[b]})}},function(a,M){a.exports="2.1.8"},function(a,M,t){var n=t(42),d=t(124);function S(h){return n.map(h.nodes(),function(E){var T=h.node(E),o=h.parent(E),s={v:E};return n.isUndefined(T)||(s.value=T),n.isUndefined(o)||(s.parent=o),s})}function b(h){return n.map(h.edges(),function(E){var T=h.edge(E),o={v:E.v,w:E.w};return n.isUndefined(E.name)||(o.name=E.name),n.isUndefined(T)||(o.value=T),o})}a.exports={write:function(E){var T={options:{directed:E.isDirected(),multigraph:E.isMultigraph(),compound:E.isCompound()},nodes:S(E),edges:b(E)};return n.isUndefined(E.graph())||(T.value=n.clone(E.graph())),T},read:function(E){var T=new d(E.options).setGraph(E.value);return n.each(E.nodes,function(o){T.setNode(o.v,o.value),o.parent&&T.setParent(o.v,o.parent)}),n.each(E.edges,function(o){T.setEdge({v:o.v,w:o.w,name:o.name},o.value)}),T}}},function(a,M,t){a.exports={components:t(374),dijkstra:t(206),dijkstraAll:t(375),findCycles:t(376),floydWarshall:t(377),isAcyclic:t(378),postorder:t(379),preorder:t(380),prim:t(381),tarjan:t(208),topsort:t(209)}},function(a,M,t){var n=t(42);a.exports=function(d){var S,b={},h=[];function E(T){n.has(b,T)||(b[T]=!0,S.push(T),n.each(d.successors(T),E),n.each(d.predecessors(T),E))}return n.each(d.nodes(),function(T){S=[],E(T),S.length&&h.push(S)}),h}},function(a,M,t){var n=t(206),d=t(42);a.exports=function(S,b,h){return d.transform(S.nodes(),function(E,T){E[T]=n(S,T,b,h)},{})}},function(a,M,t){var n=t(42),d=t(208);a.exports=function(S){return n.filter(d(S),function(b){return b.length>1||b.length===1&&S.hasEdge(b[0],b[0])})}},function(a,M,t){var n=t(42);a.exports=function(S,b,h){return function(E,T,o){var s={},u=E.nodes();return u.forEach(function(v){s[v]={},s[v][v]={distance:0},u.forEach(function(C){v!==C&&(s[v][C]={distance:Number.POSITIVE_INFINITY})}),o(v).forEach(function(C){var O=C.v===v?C.w:C.v,j=T(C);s[v][O]={distance:j,predecessor:v}})}),u.forEach(function(v){var C=s[v];u.forEach(function(O){var j=s[O];u.forEach(function(p){var x=j[v],A=C[p],k=j[p],X=x.distance+A.distance;X<k.distance&&(k.distance=X,k.predecessor=A.predecessor)})})}),s}(S,b||d,h||function(E){return S.outEdges(E)})};var d=n.constant(1)},function(a,M,t){var n=t(209);a.exports=function(d){try{n(d)}catch(S){if(S instanceof n.CycleException)return!1;throw S}return!0}},function(a,M,t){var n=t(210);a.exports=function(d,S){return n(d,S,"post")}},function(a,M,t){var n=t(210);a.exports=function(d,S){return n(d,S,"pre")}},function(a,M,t){var n=t(42),d=t(124),S=t(207);a.exports=function(b,h){var E,T=new d,o={},s=new S;function u(C){var O=C.v===E?C.w:C.v,j=s.priority(O);if(j!==void 0){var p=h(C);p<j&&(o[O]=E,s.decrease(O,p))}}if(b.nodeCount()===0)return T;n.each(b.nodes(),function(C){s.add(C,Number.POSITIVE_INFINITY),T.setNode(C)}),s.decrease(b.nodes()[0],0);for(var v=!1;s.size()>0;){if(E=s.removeMin(),n.has(o,E))T.setEdge(E,o[E]);else{if(v)throw new Error("Input graph is not connected: "+b);v=!0}b.nodeEdges(E).forEach(u)}return T}},function(a,M,t){"use strict";var n=t(24),d=t(419),S=t(422),b=t(423),h=t(37).normalizeRanks,E=t(425),T=t(37).removeEmptyRanks,o=t(426),s=t(427),u=t(428),v=t(429),C=t(438),O=t(37),j=t(46).Graph;a.exports=function(mt,pt){var rt=pt&&pt.debugTiming?O.time:O.notime;rt("layout",function(){var Bt=rt("  buildLayoutGraph",function(){return function(It){var St=new j({multigraph:!0,compound:!0}),H=vt(It.graph());return St.setGraph(n.merge({},x,st(H,p),n.pick(H,A))),n.forEach(It.nodes(),function(ot){var yt=vt(It.node(ot));St.setNode(ot,n.defaults(st(yt,k),X)),St.setParent(ot,It.parent(ot))}),n.forEach(It.edges(),function(ot){var yt=vt(It.edge(ot));St.setEdge(ot,n.merge({},tt,st(yt,et),n.pick(yt,ft)))}),St}(mt)});rt("  runLayout",function(){(function(It,St){St("    makeSpaceForEdgeLabels",function(){(function(H){var ot=H.graph();ot.ranksep/=2,n.forEach(H.edges(),function(yt){var xt=H.edge(yt);xt.minlen*=2,xt.labelpos.toLowerCase()!=="c"&&(ot.rankdir==="TB"||ot.rankdir==="BT"?xt.width+=xt.labeloffset:xt.height+=xt.labeloffset)})})(It)}),St("    removeSelfEdges",function(){(function(H){n.forEach(H.edges(),function(ot){if(ot.v===ot.w){var yt=H.node(ot.v);yt.selfEdges||(yt.selfEdges=[]),yt.selfEdges.push({e:ot,label:H.edge(ot)}),H.removeEdge(ot)}})})(It)}),St("    acyclic",function(){d.run(It)}),St("    nestingGraph.run",function(){o.run(It)}),St("    rank",function(){b(O.asNonCompoundGraph(It))}),St("    injectEdgeLabelProxies",function(){(function(H){n.forEach(H.edges(),function(ot){var yt=H.edge(ot);if(yt.width&&yt.height){var xt=H.node(ot.v),wt={rank:(H.node(ot.w).rank-xt.rank)/2+xt.rank,e:ot};O.addDummyNode(H,"edge-proxy",wt,"_ep")}})})(It)}),St("    removeEmptyRanks",function(){T(It)}),St("    nestingGraph.cleanup",function(){o.cleanup(It)}),St("    normalizeRanks",function(){h(It)}),St("    assignRankMinMax",function(){(function(H){var ot=0;n.forEach(H.nodes(),function(yt){var xt=H.node(yt);xt.borderTop&&(xt.minRank=H.node(xt.borderTop).rank,xt.maxRank=H.node(xt.borderBottom).rank,ot=n.max(ot,xt.maxRank))}),H.graph().maxRank=ot})(It)}),St("    removeEdgeLabelProxies",function(){(function(H){n.forEach(H.nodes(),function(ot){var yt=H.node(ot);yt.dummy==="edge-proxy"&&(H.edge(yt.e).labelRank=yt.rank,H.removeNode(ot))})})(It)}),St("    normalize.run",function(){S.run(It)}),St("    parentDummyChains",function(){E(It)}),St("    addBorderSegments",function(){s(It)}),St("    order",function(){v(It)}),St("    insertSelfEdges",function(){(function(H){var ot=O.buildLayerMatrix(H);n.forEach(ot,function(yt){var xt=0;n.forEach(yt,function(wt,Q){var ct=H.node(wt);ct.order=Q+xt,n.forEach(ct.selfEdges,function(it){O.addDummyNode(H,"selfedge",{width:it.label.width,height:it.label.height,rank:ct.rank,order:Q+ ++xt,e:it.e,label:it.label},"_se")}),delete ct.selfEdges})})})(It)}),St("    adjustCoordinateSystem",function(){u.adjust(It)}),St("    position",function(){C(It)}),St("    positionSelfEdges",function(){(function(H){n.forEach(H.nodes(),function(ot){var yt=H.node(ot);if(yt.dummy==="selfedge"){var xt=H.node(yt.e.v),wt=xt.x+xt.width/2,Q=xt.y,ct=yt.x-wt,it=xt.height/2;H.setEdge(yt.e,yt.label),H.removeNode(ot),yt.label.points=[{x:wt+2*ct/3,y:Q-it},{x:wt+5*ct/6,y:Q-it},{x:wt+ct,y:Q},{x:wt+5*ct/6,y:Q+it},{x:wt+2*ct/3,y:Q+it}],yt.label.x=yt.x,yt.label.y=yt.y}})})(It)}),St("    removeBorderNodes",function(){(function(H){n.forEach(H.nodes(),function(ot){if(H.children(ot).length){var yt=H.node(ot),xt=H.node(yt.borderTop),wt=H.node(yt.borderBottom),Q=H.node(n.last(yt.borderLeft)),ct=H.node(n.last(yt.borderRight));yt.width=Math.abs(ct.x-Q.x),yt.height=Math.abs(wt.y-xt.y),yt.x=Q.x+yt.width/2,yt.y=xt.y+yt.height/2}}),n.forEach(H.nodes(),function(ot){H.node(ot).dummy==="border"&&H.removeNode(ot)})})(It)}),St("    normalize.undo",function(){S.undo(It)}),St("    fixupEdgeLabelCoords",function(){(function(H){n.forEach(H.edges(),function(ot){var yt=H.edge(ot);if(n.has(yt,"x"))switch(yt.labelpos!=="l"&&yt.labelpos!=="r"||(yt.width-=yt.labeloffset),yt.labelpos){case"l":yt.x-=yt.width/2+yt.labeloffset;break;case"r":yt.x+=yt.width/2+yt.labeloffset}})})(It)}),St("    undoCoordinateSystem",function(){u.undo(It)}),St("    translateGraph",function(){(function(H){var ot=Number.POSITIVE_INFINITY,yt=0,xt=Number.POSITIVE_INFINITY,wt=0,Q=H.graph(),ct=Q.marginx||0,it=Q.marginy||0;function U(D){var W=D.x,P=D.y,m=D.width,y=D.height;ot=Math.min(ot,W-m/2),yt=Math.max(yt,W+m/2),xt=Math.min(xt,P-y/2),wt=Math.max(wt,P+y/2)}n.forEach(H.nodes(),function(D){U(H.node(D))}),n.forEach(H.edges(),function(D){var W=H.edge(D);n.has(W,"x")&&U(W)}),ot-=ct,xt-=it,n.forEach(H.nodes(),function(D){var W=H.node(D);W.x-=ot,W.y-=xt}),n.forEach(H.edges(),function(D){var W=H.edge(D);n.forEach(W.points,function(P){P.x-=ot,P.y-=xt}),n.has(W,"x")&&(W.x-=ot),n.has(W,"y")&&(W.y-=xt)}),Q.width=yt-ot+ct,Q.height=wt-xt+it})(It)}),St("    assignNodeIntersects",function(){(function(H){n.forEach(H.edges(),function(ot){var yt,xt,wt=H.edge(ot),Q=H.node(ot.v),ct=H.node(ot.w);wt.points?(yt=wt.points[0],xt=wt.points[wt.points.length-1]):(wt.points=[],yt=ct,xt=Q),wt.points.unshift(O.intersectRect(Q,yt)),wt.points.push(O.intersectRect(ct,xt))})})(It)}),St("    reversePoints",function(){(function(H){n.forEach(H.edges(),function(ot){var yt=H.edge(ot);yt.reversed&&yt.points.reverse()})})(It)}),St("    acyclic.undo",function(){d.undo(It)})})(Bt,rt)}),rt("  updateInputGraph",function(){(function(It,St){n.forEach(It.nodes(),function(H){var ot=It.node(H),yt=St.node(H);ot&&(ot.x=yt.x,ot.y=yt.y,St.children(H).length&&(ot.width=yt.width,ot.height=yt.height))}),n.forEach(It.edges(),function(H){var ot=It.edge(H),yt=St.edge(H);ot.points=yt.points,n.has(yt,"x")&&(ot.x=yt.x,ot.y=yt.y)}),It.graph().width=St.graph().width,It.graph().height=St.graph().height})(mt,Bt)})})};var p=["nodesep","edgesep","ranksep","marginx","marginy"],x={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},A=["acyclicer","ranker","rankdir","align"],k=["width","height"],X={width:0,height:0},et=["minlen","weight","width","height","labeloffset"],tt={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},ft=["labelpos"];function st(mt,pt){return n.mapValues(n.pick(mt,pt),Number)}function vt(mt){var pt={};return n.forEach(mt,function(rt,Bt){pt[Bt.toLowerCase()]=rt}),pt}},function(a,M,t){var n=t(162);a.exports=function(d){return n(d,5)}},function(a,M,t){var n=t(111),d=t(72),S=t(112),b=t(66),h=Object.prototype,E=h.hasOwnProperty,T=n(function(o,s){o=Object(o);var u=-1,v=s.length,C=v>2?s[2]:void 0;for(C&&S(s[0],s[1],C)&&(v=1);++u<v;)for(var O=s[u],j=b(O),p=-1,x=j.length;++p<x;){var A=j[p],k=o[A];(k===void 0||d(k,h[A])&&!E.call(o,A))&&(o[A]=O[A])}return o});a.exports=T},function(a,M,t){var n=t(386)(t(387));a.exports=n},function(a,M,t){var n=t(54),d=t(53),S=t(58);a.exports=function(b){return function(h,E,T){var o=Object(h);if(!d(h)){var s=n(E,3);h=S(h),E=function(C){return s(o[C],C,o)}}var u=b(h,E,T);return u>-1?o[s?h[u]:u]:void 0}}},function(a,M,t){var n=t(203),d=t(54),S=t(388),b=Math.max;a.exports=function(h,E,T){var o=h==null?0:h.length;if(!o)return-1;var s=T==null?0:S(T);return s<0&&(s=b(o+s,0)),n(h,d(E,3),s)}},function(a,M,t){var n=t(211);a.exports=function(d){var S=n(d),b=S%1;return S==S?b?S-b:S:0}},function(a,M,t){var n=t(43),d=t(76),S=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,E=/^0o[0-7]+$/i,T=parseInt;a.exports=function(o){if(typeof o=="number")return o;if(d(o))return NaN;if(n(o)){var s=typeof o.valueOf=="function"?o.valueOf():o;o=n(s)?s+"":s}if(typeof o!="string")return o===0?o:+o;o=o.replace(S,"");var u=h.test(o);return u||E.test(o)?T(o.slice(2),u?2:8):b.test(o)?NaN:+o}},function(a,M,t){var n=t(136),d=t(183),S=t(66);a.exports=function(b,h){return b==null?b:n(b,d(h),S)}},function(a,M){a.exports=function(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}},function(a,M,t){var n=t(102),d=t(135),S=t(54);a.exports=function(b,h){var E={};return h=S(h,3),d(b,function(T,o,s){n(E,o,h(T,o,s))}),E}},function(a,M,t){var n=t(140),d=t(394),S=t(67);a.exports=function(b){return b&&b.length?n(b,S,d):void 0}},function(a,M){a.exports=function(t,n){return t>n}},function(a,M,t){var n=t(396),d=t(399)(function(S,b,h){n(S,b,h)});a.exports=d},function(a,M,t){var n=t(96),d=t(213),S=t(136),b=t(397),h=t(43),E=t(66),T=t(214);a.exports=function o(s,u,v,C,O){s!==u&&S(u,function(j,p){if(O||(O=new n),h(j))b(s,u,p,v,o,C,O);else{var x=C?C(T(s,p),j,p+"",s,u,O):void 0;x===void 0&&(x=j),d(s,p,x)}},E)}},function(a,M,t){var n=t(213),d=t(169),S=t(178),b=t(170),h=t(179),E=t(86),T=t(26),o=t(204),s=t(74),u=t(84),v=t(43),C=t(151),O=t(44),j=t(214),p=t(398);a.exports=function(x,A,k,X,et,tt,ft){var st=j(x,k),vt=j(A,k),mt=ft.get(vt);if(mt)n(x,k,mt);else{var pt=tt?tt(st,vt,k+"",x,A,ft):void 0,rt=pt===void 0;if(rt){var Bt=T(vt),It=!Bt&&s(vt),St=!Bt&&!It&&O(vt);pt=vt,Bt||It||St?T(st)?pt=st:o(st)?pt=b(st):It?(rt=!1,pt=d(vt,!0)):St?(rt=!1,pt=S(vt,!0)):pt=[]:C(vt)||E(vt)?(pt=st,E(st)?pt=p(st):v(st)&&!u(st)||(pt=h(vt))):rt=!1}rt&&(ft.set(vt,pt),et(pt,vt,X,tt,ft),ft.delete(vt)),n(x,k,pt)}}},function(a,M,t){var n=t(85),d=t(66);a.exports=function(S){return n(S,d(S))}},function(a,M,t){var n=t(111),d=t(112);a.exports=function(S){return n(function(b,h){var E=-1,T=h.length,o=T>1?h[T-1]:void 0,s=T>2?h[2]:void 0;for(o=S.length>3&&typeof o=="function"?(T--,o):void 0,s&&d(h[0],h[1],s)&&(o=T<3?void 0:o,T=1),b=Object(b);++E<T;){var u=h[E];u&&S(b,u,E,o)}return b})}},function(a,M,t){var n=t(140),d=t(215),S=t(67);a.exports=function(b){return b&&b.length?n(b,S,d):void 0}},function(a,M,t){var n=t(140),d=t(54),S=t(215);a.exports=function(b,h){return b&&b.length?n(b,d(h,2),S):void 0}},function(a,M,t){var n=t(47);a.exports=function(){return n.Date.now()}},function(a,M,t){var n=t(404),d=t(407)(function(S,b){return S==null?{}:n(S,b)});a.exports=d},function(a,M,t){var n=t(405),d=t(192);a.exports=function(S,b){return n(S,b,function(h,E){return d(S,E)})}},function(a,M,t){var n=t(108),d=t(406),S=t(109);a.exports=function(b,h,E){for(var T=-1,o=h.length,s={};++T<o;){var u=h[T],v=n(b,u);E(v,u)&&d(s,S(u,b),v)}return s}},function(a,M,t){var n=t(101),d=t(109),S=t(103),b=t(43),h=t(88);a.exports=function(E,T,o,s){if(!b(E))return E;for(var u=-1,v=(T=d(T,E)).length,C=v-1,O=E;O!=null&&++u<v;){var j=h(T[u]),p=o;if(j==="__proto__"||j==="constructor"||j==="prototype")return E;if(u!=C){var x=O[j];(p=s?s(x,j,O):void 0)===void 0&&(p=b(x)?x:S(T[u+1])?[]:{})}n(O,j,p),O=O[j]}return E}},function(a,M,t){var n=t(212),d=t(200),S=t(201);a.exports=function(b){return S(d(b,void 0,n),b+"")}},function(a,M,t){var n=t(409)();a.exports=n},function(a,M,t){var n=t(410),d=t(112),S=t(211);a.exports=function(b){return function(h,E,T){return T&&typeof T!="number"&&d(h,E,T)&&(E=T=void 0),h=S(h),E===void 0?(E=h,h=0):E=S(E),T=T===void 0?h<E?1:-1:S(T),n(h,E,T,b)}}},function(a,M){var t=Math.ceil,n=Math.max;a.exports=function(d,S,b,h){for(var E=-1,T=n(t((S-d)/(b||1)),0),o=Array(T);T--;)o[h?T:++E]=d,d+=b;return o}},function(a,M,t){var n=t(139),d=t(412),S=t(111),b=t(112),h=S(function(E,T){if(E==null)return[];var o=T.length;return o>1&&b(E,T[0],T[1])?T=[]:o>2&&b(T[0],T[1],T[2])&&(T=[T[0]]),d(E,n(T,1),[])});a.exports=h},function(a,M,t){var n=t(110),d=t(108),S=t(54),b=t(198),h=t(413),E=t(104),T=t(414),o=t(67),s=t(26);a.exports=function(u,v,C){v=v.length?n(v,function(p){return s(p)?function(x){return d(x,p.length===1?p[0]:p)}:p}):[o];var O=-1;v=n(v,E(S));var j=b(u,function(p,x,A){return{criteria:n(v,function(k){return k(p)}),index:++O,value:p}});return h(j,function(p,x){return T(p,x,C)})}},function(a,M){a.exports=function(t,n){var d=t.length;for(t.sort(n);d--;)t[d]=t[d].value;return t}},function(a,M,t){var n=t(415);a.exports=function(d,S,b){for(var h=-1,E=d.criteria,T=S.criteria,o=E.length,s=b.length;++h<o;){var u=n(E[h],T[h]);if(u)return h>=s?u:u*(b[h]=="desc"?-1:1)}return d.index-S.index}},function(a,M,t){var n=t(76);a.exports=function(d,S){if(d!==S){var b=d!==void 0,h=d===null,E=d==d,T=n(d),o=S!==void 0,s=S===null,u=S==S,v=n(S);if(!s&&!v&&!T&&d>S||T&&o&&u&&!s&&!v||h&&o&&u||!b&&u||!E)return 1;if(!h&&!T&&!v&&d<S||v&&b&&E&&!h&&!T||s&&b&&E||!o&&E||!u)return-1}return 0}},function(a,M,t){var n=t(191),d=0;a.exports=function(S){var b=++d;return n(S)+b}},function(a,M,t){var n=t(101),d=t(418);a.exports=function(S,b){return d(S||[],b||[],n)}},function(a,M){a.exports=function(t,n,d){for(var S=-1,b=t.length,h=n.length,E={};++S<b;){var T=S<h?n[S]:void 0;d(E,t[S],T)}return E}},function(a,M,t){"use strict";var n=t(24),d=t(420);a.exports={run:function(b){var h=b.graph().acyclicer==="greedy"?d(b,function(E){return function(T){return E.edge(T).weight}}(b)):function(E){var T=[],o={},s={};function u(v){n.has(s,v)||(s[v]=!0,o[v]=!0,n.forEach(E.outEdges(v),function(C){n.has(o,C.w)?T.push(C):u(C.w)}),delete o[v])}return n.forEach(E.nodes(),u),T}(b);n.forEach(h,function(E){var T=b.edge(E);b.removeEdge(E),T.forwardName=E.name,T.reversed=!0,b.setEdge(E.w,E.v,T,n.uniqueId("rev"))})},undo:function(b){n.forEach(b.edges(),function(h){var E=b.edge(h);if(E.reversed){b.removeEdge(h);var T=E.forwardName;delete E.reversed,delete E.forwardName,b.setEdge(h.w,h.v,E,T)}})}}},function(a,M,t){var n=t(24),d=t(46).Graph,S=t(421);a.exports=function(T,o){if(T.nodeCount()<=1)return[];var s=function(v,C){var O=new d,j=0,p=0;n.forEach(v.nodes(),function(k){O.setNode(k,{v:k,in:0,out:0})}),n.forEach(v.edges(),function(k){var X=O.edge(k.v,k.w)||0,et=C(k),tt=X+et;O.setEdge(k.v,k.w,tt),p=Math.max(p,O.node(k.v).out+=et),j=Math.max(j,O.node(k.w).in+=et)});var x=n.range(p+j+3).map(function(){return new S}),A=j+1;return n.forEach(O.nodes(),function(k){E(x,A,O.node(k))}),{graph:O,buckets:x,zeroIdx:A}}(T,o||b),u=function(v,C,O){for(var j,p=[],x=C[C.length-1],A=C[0];v.nodeCount();){for(;j=A.dequeue();)h(v,C,O,j);for(;j=x.dequeue();)h(v,C,O,j);if(v.nodeCount()){for(var k=C.length-2;k>0;--k)if(j=C[k].dequeue()){p=p.concat(h(v,C,O,j,!0));break}}}return p}(s.graph,s.buckets,s.zeroIdx);return n.flatten(n.map(u,function(v){return T.outEdges(v.v,v.w)}),!0)};var b=n.constant(1);function h(T,o,s,u,v){var C=v?[]:void 0;return n.forEach(T.inEdges(u.v),function(O){var j=T.edge(O),p=T.node(O.v);v&&C.push({v:O.v,w:O.w}),p.out-=j,E(o,s,p)}),n.forEach(T.outEdges(u.v),function(O){var j=T.edge(O),p=O.w,x=T.node(p);x.in-=j,E(o,s,x)}),T.removeNode(u.v),C}function E(T,o,s){s.out?s.in?T[s.out-s.in+o].enqueue(s):T[T.length-1].enqueue(s):T[0].enqueue(s)}},function(a,M){function t(){var S={};S._next=S._prev=S,this._sentinel=S}function n(S){S._prev._next=S._next,S._next._prev=S._prev,delete S._next,delete S._prev}function d(S,b){if(S!=="_next"&&S!=="_prev")return b}a.exports=t,t.prototype.dequeue=function(){var S=this._sentinel,b=S._prev;if(b!==S)return n(b),b},t.prototype.enqueue=function(S){var b=this._sentinel;S._prev&&S._next&&n(S),S._next=b._next,b._next._prev=S,b._next=S,S._prev=b},t.prototype.toString=function(){for(var S=[],b=this._sentinel,h=b._prev;h!==b;)S.push(JSON.stringify(h,d)),h=h._prev;return"["+S.join(", ")+"]"}},function(a,M,t){"use strict";var n=t(24),d=t(37);a.exports={run:function(b){b.graph().dummyChains=[],n.forEach(b.edges(),function(h){(function(E,T){var o,s,u,v=T.v,C=E.node(v).rank,O=T.w,j=E.node(O).rank,p=T.name,x=E.edge(T),A=x.labelRank;if(j!==C+1){for(E.removeEdge(T),u=0,++C;C<j;++u,++C)x.points=[],s={width:0,height:0,edgeLabel:x,edgeObj:T,rank:C},o=d.addDummyNode(E,"edge",s,"_d"),C===A&&(s.width=x.width,s.height=x.height,s.dummy="edge-label",s.labelpos=x.labelpos),E.setEdge(v,o,{weight:x.weight},p),u===0&&E.graph().dummyChains.push(o),v=o;E.setEdge(v,O,{weight:x.weight},p)}})(b,h)})},undo:function(b){n.forEach(b.graph().dummyChains,function(h){var E,T=b.node(h),o=T.edgeLabel;for(b.setEdge(T.edgeObj,o);T.dummy;)E=b.successors(h)[0],b.removeNode(h),o.points.push({x:T.x,y:T.y}),T.dummy==="edge-label"&&(o.x=T.x,o.y=T.y,o.width=T.width,o.height=T.height),h=E,T=b.node(h)})}}},function(a,M,t){"use strict";var n=t(113).longestPath,d=t(216),S=t(424);a.exports=function(E){switch(E.graph().ranker){case"network-simplex":h(E);break;case"tight-tree":(function(T){n(T),d(T)})(E);break;case"longest-path":b(E);break;default:h(E)}};var b=n;function h(E){S(E)}},function(a,M,t){"use strict";var n=t(24),d=t(216),S=t(113).slack,b=t(113).longestPath,h=t(46).alg.preorder,E=t(46).alg.postorder,T=t(37).simplify;function o(A){A=T(A),b(A);var k,X=d(A);for(v(X),s(X,A);k=O(X);)p(X,A,k,j(X,A,k))}function s(A,k){var X=E(A,A.nodes());X=X.slice(0,X.length-1),n.forEach(X,function(et){(function(tt,ft,st){var vt=tt.node(st).parent;tt.edge(st,vt).cutvalue=u(tt,ft,st)})(A,k,et)})}function u(A,k,X){var et=A.node(X).parent,tt=!0,ft=k.edge(X,et),st=0;return ft||(tt=!1,ft=k.edge(et,X)),st=ft.weight,n.forEach(k.nodeEdges(X),function(vt){var mt,pt,rt=vt.v===X,Bt=rt?vt.w:vt.v;if(Bt!==et){var It=rt===tt,St=k.edge(vt).weight;if(st+=It?St:-St,mt=X,pt=Bt,A.hasEdge(mt,pt)){var H=A.edge(X,Bt).cutvalue;st+=It?-H:H}}}),st}function v(A,k){arguments.length<2&&(k=A.nodes()[0]),C(A,{},1,k)}function C(A,k,X,et,tt){var ft=X,st=A.node(et);return k[et]=!0,n.forEach(A.neighbors(et),function(vt){n.has(k,vt)||(X=C(A,k,X,vt,et))}),st.low=ft,st.lim=X++,tt?st.parent=tt:delete st.parent,X}function O(A){return n.find(A.edges(),function(k){return A.edge(k).cutvalue<0})}function j(A,k,X){var et=X.v,tt=X.w;k.hasEdge(et,tt)||(et=X.w,tt=X.v);var ft=A.node(et),st=A.node(tt),vt=ft,mt=!1;ft.lim>st.lim&&(vt=st,mt=!0);var pt=n.filter(k.edges(),function(rt){return mt===x(A,A.node(rt.v),vt)&&mt!==x(A,A.node(rt.w),vt)});return n.minBy(pt,function(rt){return S(k,rt)})}function p(A,k,X,et){var tt=X.v,ft=X.w;A.removeEdge(tt,ft),A.setEdge(et.v,et.w,{}),v(A),s(A,k),function(st,vt){var mt=n.find(st.nodes(),function(rt){return!vt.node(rt).parent}),pt=h(st,mt);pt=pt.slice(1),n.forEach(pt,function(rt){var Bt=st.node(rt).parent,It=vt.edge(rt,Bt),St=!1;It||(It=vt.edge(Bt,rt),St=!0),vt.node(rt).rank=vt.node(Bt).rank+(St?It.minlen:-It.minlen)})}(A,k)}function x(A,k,X){return X.low<=k.lim&&k.lim<=X.lim}a.exports=o,o.initLowLimValues=v,o.initCutValues=s,o.calcCutValue=u,o.leaveEdge=O,o.enterEdge=j,o.exchangeEdges=p},function(a,M,t){var n=t(24);a.exports=function(d){var S=function(b){var h={},E=0;function T(o){var s=E;n.forEach(b.children(o),T),h[o]={low:s,lim:E++}}return n.forEach(b.children(),T),h}(d);n.forEach(d.graph().dummyChains,function(b){for(var h=d.node(b),E=h.edgeObj,T=function(O,j,p,x){var A,k,X=[],et=[],tt=Math.min(j[p].low,j[x].low),ft=Math.max(j[p].lim,j[x].lim);A=p;do A=O.parent(A),X.push(A);while(A&&(j[A].low>tt||ft>j[A].lim));for(k=A,A=x;(A=O.parent(A))!==k;)et.push(A);return{path:X.concat(et.reverse()),lca:k}}(d,S,E.v,E.w),o=T.path,s=T.lca,u=0,v=o[u],C=!0;b!==E.w;){if(h=d.node(b),C){for(;(v=o[u])!==s&&d.node(v).maxRank<h.rank;)u++;v===s&&(C=!1)}if(!C){for(;u<o.length-1&&d.node(v=o[u+1]).minRank<=h.rank;)u++;v=o[u]}d.setParent(b,v),b=d.successors(b)[0]}})}},function(a,M,t){var n=t(24),d=t(37);a.exports={run:function(b){var h=d.addDummyNode(b,"root",{},"_root"),E=function(u){var v={};return n.forEach(u.children(),function(C){(function O(j,p){var x=u.children(j);x&&x.length&&n.forEach(x,function(A){O(A,p+1)}),v[j]=p})(C,1)}),v}(b),T=n.max(n.values(E))-1,o=2*T+1;b.graph().nestingRoot=h,n.forEach(b.edges(),function(u){b.edge(u).minlen*=o});var s=function(u){return n.reduce(u.edges(),function(v,C){return v+u.edge(C).weight},0)}(b)+1;n.forEach(b.children(),function(u){(function v(C,O,j,p,x,A,k){var X=C.children(k);if(!X.length)return void(k!==O&&C.setEdge(O,k,{weight:0,minlen:j}));var et=d.addBorderNode(C,"_bt"),tt=d.addBorderNode(C,"_bb"),ft=C.node(k);C.setParent(et,k),ft.borderTop=et,C.setParent(tt,k),ft.borderBottom=tt,n.forEach(X,function(st){v(C,O,j,p,x,A,st);var vt=C.node(st),mt=vt.borderTop?vt.borderTop:st,pt=vt.borderBottom?vt.borderBottom:st,rt=vt.borderTop?p:2*p,Bt=mt!==pt?1:x-A[k]+1;C.setEdge(et,mt,{weight:rt,minlen:Bt,nestingEdge:!0}),C.setEdge(pt,tt,{weight:rt,minlen:Bt,nestingEdge:!0})}),C.parent(k)||C.setEdge(O,et,{weight:0,minlen:x+A[k]})})(b,h,o,s,T,E,u)}),b.graph().nodeRankFactor=o},cleanup:function(b){var h=b.graph();b.removeNode(h.nestingRoot),delete h.nestingRoot,n.forEach(b.edges(),function(E){b.edge(E).nestingEdge&&b.removeEdge(E)})}}},function(a,M,t){var n=t(24),d=t(37);function S(b,h,E,T,o,s){var u={width:0,height:0,rank:s,borderType:h},v=o[h][s-1],C=d.addDummyNode(b,"border",u,E);o[h][s]=C,b.setParent(C,T),v&&b.setEdge(v,C,{weight:1})}a.exports=function(b){n.forEach(b.children(),function h(E){var T=b.children(E),o=b.node(E);if(T.length&&n.forEach(T,h),n.has(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var s=o.minRank,u=o.maxRank+1;s<u;++s)S(b,"borderLeft","_bl",E,o,s),S(b,"borderRight","_br",E,o,s)}})}},function(a,M,t){"use strict";var n=t(24);function d(E){n.forEach(E.nodes(),function(T){S(E.node(T))}),n.forEach(E.edges(),function(T){S(E.edge(T))})}function S(E){var T=E.width;E.width=E.height,E.height=T}function b(E){E.y=-E.y}function h(E){var T=E.x;E.x=E.y,E.y=T}a.exports={adjust:function(T){var o=T.graph().rankdir.toLowerCase();o!=="lr"&&o!=="rl"||d(T)},undo:function(T){var o=T.graph().rankdir.toLowerCase();o!=="bt"&&o!=="rl"||function(s){n.forEach(s.nodes(),function(u){b(s.node(u))}),n.forEach(s.edges(),function(u){var v=s.edge(u);n.forEach(v.points,b),n.has(v,"y")&&b(v)})}(T),o!=="lr"&&o!=="rl"||(function(s){n.forEach(s.nodes(),function(u){h(s.node(u))}),n.forEach(s.edges(),function(u){var v=s.edge(u);n.forEach(v.points,h),n.has(v,"x")&&h(v)})}(T),d(T))}}},function(a,M,t){"use strict";var n=t(24),d=t(430),S=t(431),b=t(432),h=t(436),E=t(437),T=t(46).Graph,o=t(37);function s(C,O,j){return n.map(O,function(p){return h(C,p,j)})}function u(C,O){var j=new T;n.forEach(C,function(p){var x=p.graph().root,A=b(p,x,j,O);n.forEach(A.vs,function(k,X){p.node(k).order=X}),E(p,j,A.vs)})}function v(C,O){n.forEach(O,function(j){n.forEach(j,function(p,x){C.node(p).order=x})})}a.exports=function(C){var O=o.maxRank(C),j=s(C,n.range(1,O+1),"inEdges"),p=s(C,n.range(O-1,-1,-1),"outEdges"),x=d(C);v(C,x);for(var A,k=Number.POSITIVE_INFINITY,X=0,et=0;et<4;++X,++et){u(X%2?j:p,X%4>=2),x=o.buildLayerMatrix(C);var tt=S(C,x);tt<k&&(et=0,A=n.cloneDeep(x),k=tt)}v(C,A)}},function(a,M,t){"use strict";var n=t(24);a.exports=function(d){var S={},b=n.filter(d.nodes(),function(o){return!d.children(o).length}),h=n.max(n.map(b,function(o){return d.node(o).rank})),E=n.map(n.range(h+1),function(){return[]}),T=n.sortBy(b,function(o){return d.node(o).rank});return n.forEach(T,function o(s){if(!n.has(S,s)){S[s]=!0;var u=d.node(s);E[u.rank].push(s),n.forEach(d.successors(s),o)}}),E}},function(a,M,t){"use strict";var n=t(24);function d(S,b,h){for(var E=n.zipObject(h,n.map(h,function(C,O){return O})),T=n.flatten(n.map(b,function(C){return n.sortBy(n.map(S.outEdges(C),function(O){return{pos:E[O.w],weight:S.edge(O).weight}}),"pos")}),!0),o=1;o<h.length;)o<<=1;var s=2*o-1;o-=1;var u=n.map(new Array(s),function(){return 0}),v=0;return n.forEach(T.forEach(function(C){var O=C.pos+o;u[O]+=C.weight;for(var j=0;O>0;)O%2&&(j+=u[O+1]),u[O=O-1>>1]+=C.weight;v+=C.weight*j})),v}a.exports=function(S,b){for(var h=0,E=1;E<b.length;++E)h+=d(S,b[E-1],b[E]);return h}},function(a,M,t){var n=t(24),d=t(433),S=t(434),b=t(435);a.exports=function h(E,T,o,s){var u=E.children(T),v=E.node(T),C=v?v.borderLeft:void 0,O=v?v.borderRight:void 0,j={};C&&(u=n.filter(u,function(et){return et!==C&&et!==O}));var p=d(E,u);n.forEach(p,function(et){if(E.children(et.v).length){var tt=h(E,et.v,o,s);j[et.v]=tt,n.has(tt,"barycenter")&&(ft=et,st=tt,n.isUndefined(ft.barycenter)?(ft.barycenter=st.barycenter,ft.weight=st.weight):(ft.barycenter=(ft.barycenter*ft.weight+st.barycenter*st.weight)/(ft.weight+st.weight),ft.weight+=st.weight))}var ft,st});var x=S(p,o);(function(et,tt){n.forEach(et,function(ft){ft.vs=n.flatten(ft.vs.map(function(st){return tt[st]?tt[st].vs:st}),!0)})})(x,j);var A=b(x,s);if(C&&(A.vs=n.flatten([C,A.vs,O],!0),E.predecessors(C).length)){var k=E.node(E.predecessors(C)[0]),X=E.node(E.predecessors(O)[0]);n.has(A,"barycenter")||(A.barycenter=0,A.weight=0),A.barycenter=(A.barycenter*A.weight+k.order+X.order)/(A.weight+2),A.weight+=2}return A}},function(a,M,t){var n=t(24);a.exports=function(d,S){return n.map(S,function(b){var h=d.inEdges(b);if(h.length){var E=n.reduce(h,function(T,o){var s=d.edge(o),u=d.node(o.v);return{sum:T.sum+s.weight*u.order,weight:T.weight+s.weight}},{sum:0,weight:0});return{v:b,barycenter:E.sum/E.weight,weight:E.weight}}return{v:b}})}},function(a,M,t){"use strict";var n=t(24);a.exports=function(d,S){var b={};return n.forEach(d,function(h,E){var T=b[h.v]={indegree:0,in:[],out:[],vs:[h.v],i:E};n.isUndefined(h.barycenter)||(T.barycenter=h.barycenter,T.weight=h.weight)}),n.forEach(S.edges(),function(h){var E=b[h.v],T=b[h.w];n.isUndefined(E)||n.isUndefined(T)||(T.indegree++,E.out.push(b[h.w]))}),function(h){var E=[];function T(u){return function(v){v.merged||(n.isUndefined(v.barycenter)||n.isUndefined(u.barycenter)||v.barycenter>=u.barycenter)&&function(C,O){var j=0,p=0;C.weight&&(j+=C.barycenter*C.weight,p+=C.weight),O.weight&&(j+=O.barycenter*O.weight,p+=O.weight),C.vs=O.vs.concat(C.vs),C.barycenter=j/p,C.weight=p,C.i=Math.min(O.i,C.i),O.merged=!0}(u,v)}}function o(u){return function(v){v.in.push(u),--v.indegree==0&&h.push(v)}}for(;h.length;){var s=h.pop();E.push(s),n.forEach(s.in.reverse(),T(s)),n.forEach(s.out,o(s))}return n.map(n.filter(E,function(u){return!u.merged}),function(u){return n.pick(u,["vs","i","barycenter","weight"])})}(n.filter(b,function(h){return!h.indegree}))}},function(a,M,t){var n=t(24),d=t(37);function S(b,h,E){for(var T;h.length&&(T=n.last(h)).i<=E;)h.pop(),b.push(T.vs),E++;return E}a.exports=function(b,h){var E=d.partition(b,function(p){return n.has(p,"barycenter")}),T=E.lhs,o=n.sortBy(E.rhs,function(p){return-p.i}),s=[],u=0,v=0,C=0;T.sort((O=!!h,function(p,x){return p.barycenter<x.barycenter?-1:p.barycenter>x.barycenter?1:O?x.i-p.i:p.i-x.i})),C=S(s,o,C),n.forEach(T,function(p){C+=p.vs.length,s.push(p.vs),u+=p.barycenter*p.weight,v+=p.weight,C=S(s,o,C)});var O,j={vs:n.flatten(s,!0)};return v&&(j.barycenter=u/v,j.weight=v),j}},function(a,M,t){var n=t(24),d=t(46).Graph;a.exports=function(S,b,h){var E=function(o){for(var s;o.hasNode(s=n.uniqueId("_root")););return s}(S),T=new d({compound:!0}).setGraph({root:E}).setDefaultNodeLabel(function(o){return S.node(o)});return n.forEach(S.nodes(),function(o){var s=S.node(o),u=S.parent(o);(s.rank===b||s.minRank<=b&&b<=s.maxRank)&&(T.setNode(o),T.setParent(o,u||E),n.forEach(S[h](o),function(v){var C=v.v===o?v.w:v.v,O=T.edge(C,o),j=n.isUndefined(O)?0:O.weight;T.setEdge(C,o,{weight:S.edge(v).weight+j})}),n.has(s,"minRank")&&T.setNode(o,{borderLeft:s.borderLeft[b],borderRight:s.borderRight[b]}))}),T}},function(a,M,t){var n=t(24);a.exports=function(d,S,b){var h,E={};n.forEach(b,function(T){for(var o,s,u=d.parent(T);u;){if((o=d.parent(u))?(s=E[o],E[o]=u):(s=h,h=u),s&&s!==u)return void S.setEdge(s,u);u=o}})}},function(a,M,t){"use strict";var n=t(24),d=t(37),S=t(439).positionX;a.exports=function(b){(function(h){var E=d.buildLayerMatrix(h),T=h.graph().ranksep,o=0;n.forEach(E,function(s){var u=n.max(n.map(s,function(v){return h.node(v).height}));n.forEach(s,function(v){h.node(v).y=o+u/2}),o+=u+T})})(b=d.asNonCompoundGraph(b)),n.forEach(S(b),function(h,E){b.node(E).x=h})}},function(a,M,t){"use strict";var n=t(24),d=t(46).Graph,S=t(37);function b(O,j){var p={};return n.reduce(j,function(x,A){var k=0,X=0,et=x.length,tt=n.last(A);return n.forEach(A,function(ft,st){var vt=function(pt,rt){if(pt.node(rt).dummy)return n.find(pt.predecessors(rt),function(Bt){return pt.node(Bt).dummy})}(O,ft),mt=vt?O.node(vt).order:et;(vt||ft===tt)&&(n.forEach(A.slice(X,st+1),function(pt){n.forEach(O.predecessors(pt),function(rt){var Bt=O.node(rt),It=Bt.order;!(It<k||mt<It)||Bt.dummy&&O.node(pt).dummy||E(p,rt,pt)})}),X=st+1,k=mt)}),A}),p}function h(O,j){var p={};function x(A,k,X,et,tt){var ft;n.forEach(n.range(k,X),function(st){ft=A[st],O.node(ft).dummy&&n.forEach(O.predecessors(ft),function(vt){var mt=O.node(vt);mt.dummy&&(mt.order<et||mt.order>tt)&&E(p,vt,ft)})})}return n.reduce(j,function(A,k){var X,et=-1,tt=0;return n.forEach(k,function(ft,st){if(O.node(ft).dummy==="border"){var vt=O.predecessors(ft);vt.length&&(X=O.node(vt[0]).order,x(k,tt,st,et,X),tt=st,et=X)}x(k,tt,k.length,X,A.length)}),k}),p}function E(O,j,p){if(j>p){var x=j;j=p,p=x}var A=O[j];A||(O[j]=A={}),A[p]=!0}function T(O,j,p){if(j>p){var x=j;j=p,p=x}return n.has(O[j],p)}function o(O,j,p,x){var A={},k={},X={};return n.forEach(j,function(et){n.forEach(et,function(tt,ft){A[tt]=tt,k[tt]=tt,X[tt]=ft})}),n.forEach(j,function(et){var tt=-1;n.forEach(et,function(ft){var st=x(ft);if(st.length)for(var vt=((st=n.sortBy(st,function(Bt){return X[Bt]})).length-1)/2,mt=Math.floor(vt),pt=Math.ceil(vt);mt<=pt;++mt){var rt=st[mt];k[ft]===ft&&tt<X[rt]&&!T(p,ft,rt)&&(k[rt]=ft,k[ft]=A[ft]=A[rt],tt=X[rt])}})}),{root:A,align:k}}function s(O,j,p,x,A){var k={},X=function(ft,st,vt,mt){var pt=new d,rt=ft.graph(),Bt=function(It,St,H){return function(ot,yt,xt){var wt,Q=ot.node(yt),ct=ot.node(xt),it=0;if(it+=Q.width/2,n.has(Q,"labelpos"))switch(Q.labelpos.toLowerCase()){case"l":wt=-Q.width/2;break;case"r":wt=Q.width/2}if(wt&&(it+=H?wt:-wt),wt=0,it+=(Q.dummy?St:It)/2,it+=(ct.dummy?St:It)/2,it+=ct.width/2,n.has(ct,"labelpos"))switch(ct.labelpos.toLowerCase()){case"l":wt=ct.width/2;break;case"r":wt=-ct.width/2}return wt&&(it+=H?wt:-wt),wt=0,it}}(rt.nodesep,rt.edgesep,mt);return n.forEach(st,function(It){var St;n.forEach(It,function(H){var ot=vt[H];if(pt.setNode(ot),St){var yt=vt[St],xt=pt.edge(yt,ot);pt.setEdge(yt,ot,Math.max(Bt(ft,H,St),xt||0))}St=H})}),pt}(O,j,p,A),et=A?"borderLeft":"borderRight";function tt(ft,st){for(var vt=X.nodes(),mt=vt.pop(),pt={};mt;)pt[mt]?ft(mt):(pt[mt]=!0,vt.push(mt),vt=vt.concat(st(mt))),mt=vt.pop()}return tt(function(ft){k[ft]=X.inEdges(ft).reduce(function(st,vt){return Math.max(st,k[vt.v]+X.edge(vt))},0)},X.predecessors.bind(X)),tt(function(ft){var st=X.outEdges(ft).reduce(function(mt,pt){return Math.min(mt,k[pt.w]-X.edge(pt))},Number.POSITIVE_INFINITY),vt=O.node(ft);st!==Number.POSITIVE_INFINITY&&vt.borderType!==et&&(k[ft]=Math.max(k[ft],st))},X.successors.bind(X)),n.forEach(x,function(ft){k[ft]=k[p[ft]]}),k}function u(O,j){return n.minBy(n.values(j),function(p){var x=Number.NEGATIVE_INFINITY,A=Number.POSITIVE_INFINITY;return n.forIn(p,function(k,X){var et=function(tt,ft){return tt.node(ft).width}(O,X)/2;x=Math.max(k+et,x),A=Math.min(k-et,A)}),x-A})}function v(O,j){var p=n.values(j),x=n.min(p),A=n.max(p);n.forEach(["u","d"],function(k){n.forEach(["l","r"],function(X){var et,tt=k+X,ft=O[tt];if(ft!==j){var st=n.values(ft);(et=X==="l"?x-n.min(st):A-n.max(st))&&(O[tt]=n.mapValues(ft,function(vt){return vt+et}))}})})}function C(O,j){return n.mapValues(O.ul,function(p,x){if(j)return O[j.toLowerCase()][x];var A=n.sortBy(n.map(O,x));return(A[1]+A[2])/2})}a.exports={positionX:function(j){var p,x=S.buildLayerMatrix(j),A=n.merge(b(j,x),h(j,x)),k={};n.forEach(["u","d"],function(et){p=et==="u"?x:n.values(x).reverse(),n.forEach(["l","r"],function(tt){tt==="r"&&(p=n.map(p,function(mt){return n.values(mt).reverse()}));var ft=(et==="u"?j.predecessors:j.successors).bind(j),st=o(j,p,A,ft),vt=s(j,p,st.root,st.align,tt==="r");tt==="r"&&(vt=n.mapValues(vt,function(mt){return-mt})),k[et+tt]=vt})});var X=u(j,k);return v(k,X),C(k,j.graph().align)},findType1Conflicts:b,findType2Conflicts:h,addConflict:E,hasConflict:T,verticalAlignment:o,horizontalCompaction:s,alignCoordinates:v,findSmallestWidthAlignment:u,balance:C}},function(a,M,t){var n=t(24),d=t(37),S=t(46).Graph;a.exports={debugOrdering:function(h){var E=d.buildLayerMatrix(h),T=new S({compound:!0,multigraph:!0}).setGraph({});return n.forEach(h.nodes(),function(o){T.setNode(o,{label:o}),T.setParent(o,"layer"+h.node(o).rank)}),n.forEach(h.edges(),function(o){T.setEdge(o.v,o.w,{},o.name)}),n.forEach(E,function(o,s){var u="layer"+s;T.setNode(u,{rank:"same"}),n.reduce(o,function(v,C){return T.setEdge(v,C,{style:"invis"}),C})}),T}}},function(a,M){a.exports="0.8.5"},function(a,M,t){(function(n){function d(b){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(b)}var S=function(b){"use strict";var h=Object.prototype,E=h.hasOwnProperty,T=typeof Symbol=="function"?Symbol:{},o=T.iterator||"@@iterator",s=T.asyncIterator||"@@asyncIterator",u=T.toStringTag||"@@toStringTag";function v(St,H,ot){return Object.defineProperty(St,H,{value:ot,enumerable:!0,configurable:!0,writable:!0}),St[H]}try{v({},"")}catch(St){v=function(ot,yt,xt){return ot[yt]=xt}}function C(St,H,ot,yt){var xt=H&&H.prototype instanceof p?H:p,wt=Object.create(xt.prototype),Q=new rt(yt||[]);return wt._invoke=function(ct,it,U){var D="suspendedStart";return function(W,P){if(D==="executing")throw new Error("Generator is already running");if(D==="completed"){if(W==="throw")throw P;return It()}for(U.method=W,U.arg=P;;){var m=U.delegate;if(m){var y=vt(m,U);if(y){if(y===j)continue;return y}}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(D==="suspendedStart")throw D="completed",U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);D="executing";var V=O(ct,it,U);if(V.type==="normal"){if(D=U.done?"completed":"suspendedYield",V.arg===j)continue;return{value:V.arg,done:U.done}}V.type==="throw"&&(D="completed",U.method="throw",U.arg=V.arg)}}}(St,ot,Q),wt}function O(St,H,ot){try{return{type:"normal",arg:St.call(H,ot)}}catch(yt){return{type:"throw",arg:yt}}}b.wrap=C;var j={};function p(){}function x(){}function A(){}var k={};k[o]=function(){return this};var X=Object.getPrototypeOf,et=X&&X(X(Bt([])));et&&et!==h&&E.call(et,o)&&(k=et);var tt=A.prototype=p.prototype=Object.create(k);function ft(St){["next","throw","return"].forEach(function(H){v(St,H,function(ot){return this._invoke(H,ot)})})}function st(St,H){var ot;this._invoke=function(yt,xt){function wt(){return new H(function(Q,ct){(function it(U,D,W,P){var m=O(St[U],St,D);if(m.type!=="throw"){var y=m.arg,V=y.value;return V&&d(V)==="object"&&E.call(V,"__await")?H.resolve(V.__await).then(function(J){it("next",J,W,P)},function(J){it("throw",J,W,P)}):H.resolve(V).then(function(J){y.value=J,W(y)},function(J){return it("throw",J,W,P)})}P(m.arg)})(yt,xt,Q,ct)})}return ot=ot?ot.then(wt,wt):wt()}}function vt(St,H){var ot=St.iterator[H.method];if(ot===void 0){if(H.delegate=null,H.method==="throw"){if(St.iterator.return&&(H.method="return",H.arg=void 0,vt(St,H),H.method==="throw"))return j;H.method="throw",H.arg=new TypeError("The iterator does not provide a 'throw' method")}return j}var yt=O(ot,St.iterator,H.arg);if(yt.type==="throw")return H.method="throw",H.arg=yt.arg,H.delegate=null,j;var xt=yt.arg;return xt?xt.done?(H[St.resultName]=xt.value,H.next=St.nextLoc,H.method!=="return"&&(H.method="next",H.arg=void 0),H.delegate=null,j):xt:(H.method="throw",H.arg=new TypeError("iterator result is not an object"),H.delegate=null,j)}function mt(St){var H={tryLoc:St[0]};1 in St&&(H.catchLoc=St[1]),2 in St&&(H.finallyLoc=St[2],H.afterLoc=St[3]),this.tryEntries.push(H)}function pt(St){var H=St.completion||{};H.type="normal",delete H.arg,St.completion=H}function rt(St){this.tryEntries=[{tryLoc:"root"}],St.forEach(mt,this),this.reset(!0)}function Bt(St){if(St){var H=St[o];if(H)return H.call(St);if(typeof St.next=="function")return St;if(!isNaN(St.length)){var ot=-1,yt=function xt(){for(;++ot<St.length;)if(E.call(St,ot))return xt.value=St[ot],xt.done=!1,xt;return xt.value=void 0,xt.done=!0,xt};return yt.next=yt}}return{next:It}}function It(){return{value:void 0,done:!0}}return x.prototype=tt.constructor=A,A.constructor=x,x.displayName=v(A,u,"GeneratorFunction"),b.isGeneratorFunction=function(St){var H=typeof St=="function"&&St.constructor;return!!H&&(H===x||(H.displayName||H.name)==="GeneratorFunction")},b.mark=function(St){return Object.setPrototypeOf?Object.setPrototypeOf(St,A):(St.__proto__=A,v(St,u,"GeneratorFunction")),St.prototype=Object.create(tt),St},b.awrap=function(St){return{__await:St}},ft(st.prototype),st.prototype[s]=function(){return this},b.AsyncIterator=st,b.async=function(St,H,ot,yt,xt){xt===void 0&&(xt=Promise);var wt=new st(C(St,H,ot,yt),xt);return b.isGeneratorFunction(H)?wt:wt.next().then(function(Q){return Q.done?Q.value:wt.next()})},ft(tt),v(tt,u,"Generator"),tt[o]=function(){return this},tt.toString=function(){return"[object Generator]"},b.keys=function(St){var H=[];for(var ot in St)H.push(ot);return H.reverse(),function yt(){for(;H.length;){var xt=H.pop();if(xt in St)return yt.value=xt,yt.done=!1,yt}return yt.done=!0,yt}},b.values=Bt,rt.prototype={constructor:rt,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(pt),!H)for(var ot in this)ot.charAt(0)==="t"&&E.call(this,ot)&&!isNaN(+ot.slice(1))&&(this[ot]=void 0)},stop:function(){this.done=!0;var H=this.tryEntries[0].completion;if(H.type==="throw")throw H.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var ot=this;function yt(U,D){return Q.type="throw",Q.arg=H,ot.next=U,D&&(ot.method="next",ot.arg=void 0),!!D}for(var xt=this.tryEntries.length-1;xt>=0;--xt){var wt=this.tryEntries[xt],Q=wt.completion;if(wt.tryLoc==="root")return yt("end");if(wt.tryLoc<=this.prev){var ct=E.call(wt,"catchLoc"),it=E.call(wt,"finallyLoc");if(ct&&it){if(this.prev<wt.catchLoc)return yt(wt.catchLoc,!0);if(this.prev<wt.finallyLoc)return yt(wt.finallyLoc)}else if(ct){if(this.prev<wt.catchLoc)return yt(wt.catchLoc,!0)}else{if(!it)throw new Error("try statement without catch or finally");if(this.prev<wt.finallyLoc)return yt(wt.finallyLoc)}}}},abrupt:function(H,ot){for(var yt=this.tryEntries.length-1;yt>=0;--yt){var xt=this.tryEntries[yt];if(xt.tryLoc<=this.prev&&E.call(xt,"finallyLoc")&&this.prev<xt.finallyLoc){var wt=xt;break}}wt&&(H==="break"||H==="continue")&&wt.tryLoc<=ot&&ot<=wt.finallyLoc&&(wt=null);var Q=wt?wt.completion:{};return Q.type=H,Q.arg=ot,wt?(this.method="next",this.next=wt.finallyLoc,j):this.complete(Q)},complete:function(H,ot){if(H.type==="throw")throw H.arg;return H.type==="break"||H.type==="continue"?this.next=H.arg:H.type==="return"?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):H.type==="normal"&&ot&&(this.next=ot),j},finish:function(H){for(var ot=this.tryEntries.length-1;ot>=0;--ot){var yt=this.tryEntries[ot];if(yt.finallyLoc===H)return this.complete(yt.completion,yt.afterLoc),pt(yt),j}},catch:function(H){for(var ot=this.tryEntries.length-1;ot>=0;--ot){var yt=this.tryEntries[ot];if(yt.tryLoc===H){var xt=yt.completion;if(xt.type==="throw"){var wt=xt.arg;pt(yt)}return wt}}throw new Error("illegal catch attempt")},delegateYield:function(H,ot,yt){return this.delegate={iterator:Bt(H),resultName:ot,nextLoc:yt},this.method==="next"&&(this.arg=void 0),j}},b}(d(n)==="object"?n.exports:{});try{regeneratorRuntime=S}catch(b){Function("r","regeneratorRuntime = r")(S)}}).call(this,t(87)(a))},function(a,M){a.exports=function(t){if(Array.isArray(t))return t}},function(a,M){a.exports=function(t,n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t)){var d=[],S=!0,b=!1,h=void 0;try{for(var E,T=t[Symbol.iterator]();!(S=(E=T.next()).done)&&(d.push(E.value),!n||d.length!==n);S=!0);}catch(o){b=!0,h=o}finally{try{S||T.return==null||T.return()}finally{if(b)throw h}}return d}}},function(a,M){a.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(a,M,t){"use strict";function n(A){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(A)}var d=this&&this.__awaiter||function(A,k,X,et){return new(X||(X=Promise))(function(tt,ft){function st(pt){try{mt(et.next(pt))}catch(rt){ft(rt)}}function vt(pt){try{mt(et.throw(pt))}catch(rt){ft(rt)}}function mt(pt){var rt;pt.done?tt(pt.value):(rt=pt.value,rt instanceof X?rt:new X(function(Bt){Bt(rt)})).then(st,vt)}mt((et=et.apply(A,k||[])).next())})},S=this&&this.__generator||function(A,k){var X,et,tt,ft,st={label:0,sent:function(){if(1&tt[0])throw tt[1];return tt[1]},trys:[],ops:[]};return ft={next:vt(0),throw:vt(1),return:vt(2)},typeof Symbol=="function"&&(ft[Symbol.iterator]=function(){return this}),ft;function vt(mt){return function(pt){return function(rt){if(X)throw new TypeError("Generator is already executing.");for(;st;)try{if(X=1,et&&(tt=2&rt[0]?et.return:rt[0]?et.throw||((tt=et.return)&&tt.call(et),0):et.next)&&!(tt=tt.call(et,rt[1])).done)return tt;switch(et=0,tt&&(rt=[2&rt[0],tt.value]),rt[0]){case 0:case 1:tt=rt;break;case 4:return st.label++,{value:rt[1],done:!1};case 5:st.label++,et=rt[1],rt=[0];continue;case 7:rt=st.ops.pop(),st.trys.pop();continue;default:if(tt=st.trys,!((tt=tt.length>0&&tt[tt.length-1])||rt[0]!==6&&rt[0]!==2)){st=0;continue}if(rt[0]===3&&(!tt||rt[1]>tt[0]&&rt[1]<tt[3])){st.label=rt[1];break}if(rt[0]===6&&st.label<tt[1]){st.label=tt[1],tt=rt;break}if(tt&&st.label<tt[2]){st.label=tt[2],st.ops.push(rt);break}tt[2]&&st.ops.pop(),st.trys.pop();continue}rt=k.call(A,st)}catch(Bt){rt=[6,Bt],et=0}finally{X=tt=0}if(5&rt[0])throw rt[1];return{value:rt[0]?rt[1]:void 0,done:!0}}([mt,pt])}}};Object.defineProperty(M,"__esModule",{value:!0}),M.Container=void 0;var b=t(447),h=t(41),E=t(55),T=t(32),o=t(220),s=t(448),u=t(455),v=t(457),C=t(68),O=t(89),j=t(460),p=t(461),x=function(){function A(k){var X=k||{};if(n(X)!=="object")throw new Error(""+h.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(X.defaultScope===void 0)X.defaultScope=E.BindingScopeEnum.Transient;else if(X.defaultScope!==E.BindingScopeEnum.Singleton&&X.defaultScope!==E.BindingScopeEnum.Transient&&X.defaultScope!==E.BindingScopeEnum.Request)throw new Error(""+h.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(X.autoBindInjectable===void 0)X.autoBindInjectable=!1;else if(typeof X.autoBindInjectable!="boolean")throw new Error(""+h.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(X.skipBaseClassChecks===void 0)X.skipBaseClassChecks=!1;else if(typeof X.skipBaseClassChecks!="boolean")throw new Error(""+h.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:X.autoBindInjectable,defaultScope:X.defaultScope,skipBaseClassChecks:X.skipBaseClassChecks},this.id=C.id(),this._bindingDictionary=new p.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new o.MetadataReader}return A.merge=function(k,X){var et=new A,tt=s.getBindingDictionary(et),ft=s.getBindingDictionary(k),st=s.getBindingDictionary(X);function vt(mt,pt){mt.traverse(function(rt,Bt){Bt.forEach(function(It){pt.add(It.serviceIdentifier,It.clone())})})}return vt(ft,tt),vt(st,tt),et},A.prototype.load=function(){for(var k=[],X=0;X<arguments.length;X++)k[X]=arguments[X];for(var et=this._getContainerModuleHelpersFactory(),tt=0,ft=k;tt<ft.length;tt++){var st=ft[tt],vt=et(st.id);st.registry(vt.bindFunction,vt.unbindFunction,vt.isboundFunction,vt.rebindFunction)}},A.prototype.loadAsync=function(){for(var k=[],X=0;X<arguments.length;X++)k[X]=arguments[X];return d(this,void 0,void 0,function(){var et,tt,ft,st,vt;return S(this,function(mt){switch(mt.label){case 0:et=this._getContainerModuleHelpersFactory(),tt=0,ft=k,mt.label=1;case 1:return tt<ft.length?(st=ft[tt],vt=et(st.id),[4,st.registry(vt.bindFunction,vt.unbindFunction,vt.isboundFunction,vt.rebindFunction)]):[3,4];case 2:mt.sent(),mt.label=3;case 3:return tt++,[3,1];case 4:return[2]}})})},A.prototype.unload=function(){for(var k=this,X=[],et=0;et<arguments.length;et++)X[et]=arguments[et];var tt=function(st){return function(vt){return vt.moduleId===st}};X.forEach(function(ft){var st=tt(ft.id);k._bindingDictionary.removeByCondition(st)})},A.prototype.bind=function(k){var X=this.options.defaultScope||E.BindingScopeEnum.Transient,et=new b.Binding(k,X);return this._bindingDictionary.add(k,et),new v.BindingToSyntax(et)},A.prototype.rebind=function(k){return this.unbind(k),this.bind(k)},A.prototype.unbind=function(k){try{this._bindingDictionary.remove(k)}catch(X){throw new Error(h.CANNOT_UNBIND+" "+O.getServiceIdentifierAsString(k))}},A.prototype.unbindAll=function(){this._bindingDictionary=new p.Lookup},A.prototype.isBound=function(k){var X=this._bindingDictionary.hasKey(k);return!X&&this.parent&&(X=this.parent.isBound(k)),X},A.prototype.isBoundNamed=function(k,X){return this.isBoundTagged(k,T.NAMED_TAG,X)},A.prototype.isBoundTagged=function(k,X,et){var tt=!1;if(this._bindingDictionary.hasKey(k)){var ft=this._bindingDictionary.get(k),st=s.createMockRequest(this,k,X,et);tt=ft.some(function(vt){return vt.constraint(st)})}return!tt&&this.parent&&(tt=this.parent.isBoundTagged(k,X,et)),tt},A.prototype.snapshot=function(){this._snapshots.push(j.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},A.prototype.restore=function(){var k=this._snapshots.pop();if(k===void 0)throw new Error(h.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=k.bindings,this._middleware=k.middleware},A.prototype.createChild=function(k){var X=new A(k||this.options);return X.parent=this,X},A.prototype.applyMiddleware=function(){for(var k=[],X=0;X<arguments.length;X++)k[X]=arguments[X];var et=this._middleware?this._middleware:this._planAndResolve();this._middleware=k.reduce(function(tt,ft){return ft(tt)},et)},A.prototype.applyCustomMetadataReader=function(k){this._metadataReader=k},A.prototype.get=function(k){return this._get(!1,!1,E.TargetTypeEnum.Variable,k)},A.prototype.getTagged=function(k,X,et){return this._get(!1,!1,E.TargetTypeEnum.Variable,k,X,et)},A.prototype.getNamed=function(k,X){return this.getTagged(k,T.NAMED_TAG,X)},A.prototype.getAll=function(k){return this._get(!0,!0,E.TargetTypeEnum.Variable,k)},A.prototype.getAllTagged=function(k,X,et){return this._get(!1,!0,E.TargetTypeEnum.Variable,k,X,et)},A.prototype.getAllNamed=function(k,X){return this.getAllTagged(k,T.NAMED_TAG,X)},A.prototype.resolve=function(k){var X=this.createChild();return X.bind(k).toSelf(),X.get(k)},A.prototype._getContainerModuleHelpersFactory=function(){var k=this,X=function(ft,st){ft._binding.moduleId=st},et=function(ft){return function(st){var vt=k.rebind.bind(k)(st);return X(vt,ft),vt}};return function(tt){return{bindFunction:(ft=tt,function(st){var vt=k.bind.bind(k)(st);return X(vt,ft),vt}),isboundFunction:function(vt){return k.isBound.bind(k)(vt)},rebindFunction:et(tt),unbindFunction:function(vt){k.unbind.bind(k)(vt)}};var ft}},A.prototype._get=function(k,X,et,tt,ft,st){var vt=null,mt={avoidConstraints:k,contextInterceptor:function(rt){return rt},isMultiInject:X,key:ft,serviceIdentifier:tt,targetType:et,value:st};if(this._middleware){if((vt=this._middleware(mt))==null)throw new Error(h.INVALID_MIDDLEWARE_RETURN)}else vt=this._planAndResolve()(mt);return vt},A.prototype._planAndResolve=function(){var k=this;return function(X){var et=s.plan(k._metadataReader,k,X.isMultiInject,X.targetType,X.serviceIdentifier,X.key,X.value,X.avoidConstraints);return et=X.contextInterceptor(et),u.resolve(et)}},A}();M.Container=x},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Binding=void 0;var n=t(55),d=t(68),S=function(){function b(h,E){this.id=d.id(),this.activated=!1,this.serviceIdentifier=h,this.scope=E,this.type=n.BindingTypeEnum.Invalid,this.constraint=function(T){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return b.prototype.clone=function(){var h=new b(this.serviceIdentifier,this.scope);return h.activated=!1,h.implementationType=this.implementationType,h.dynamicValue=this.dynamicValue,h.scope=this.scope,h.type=this.type,h.factory=this.factory,h.provider=this.provider,h.constraint=this.constraint,h.onActivation=this.onActivation,h.cache=this.cache,h},b}();M.Binding=S},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.getBindingDictionary=M.createMockRequest=M.plan=void 0;var n=t(449),d=t(41),S=t(55),b=t(32),h=t(221),E=t(89),T=t(450),o=t(49),s=t(451),u=t(452),v=t(454),C=t(223);function O(x){return x._bindingDictionary}function j(x,A,k,X,et){var tt=p(k.container,et.serviceIdentifier),ft=[];return tt.length===n.BindingCount.NoBindingsAvailable&&k.container.options.autoBindInjectable&&typeof et.serviceIdentifier=="function"&&x.getConstructorMetadata(et.serviceIdentifier).compilerGeneratedMetadata&&(k.container.bind(et.serviceIdentifier).toSelf(),tt=p(k.container,et.serviceIdentifier)),ft=A?tt:tt.filter(function(st){var vt=new v.Request(st.serviceIdentifier,k,X,st,et);return st.constraint(vt)}),function(st,vt,mt,pt){switch(vt.length){case n.BindingCount.NoBindingsAvailable:if(mt.isOptional())return vt;var rt=E.getServiceIdentifierAsString(st),Bt=d.NOT_REGISTERED;throw Bt+=E.listMetadataForTarget(rt,mt),Bt+=E.listRegisteredBindingsForServiceIdentifier(pt,rt,p),new Error(Bt);case n.BindingCount.OnlyOneBindingAvailable:if(!mt.isArray())return vt;case n.BindingCount.MultipleBindingsAvailable:default:if(mt.isArray())return vt;throw rt=E.getServiceIdentifierAsString(st),Bt=d.AMBIGUOUS_MATCH+" "+rt,Bt+=E.listRegisteredBindingsForServiceIdentifier(pt,rt,p),new Error(Bt)}}(et.serviceIdentifier,ft,et,k.container),ft}function p(x,A){var k=[],X=O(x);return X.hasKey(A)?k=X.get(A):x.parent!==null&&(k=p(x.parent,A)),k}M.getBindingDictionary=O,M.plan=function(x,A,k,X,et,tt,ft,st){st===void 0&&(st=!1);var vt=new T.Context(A),mt=function(pt,rt,Bt,It,St,H){var ot=pt?b.MULTI_INJECT_TAG:b.INJECT_TAG,yt=new o.Metadata(ot,Bt),xt=new C.Target(rt,It,Bt,yt);if(St!==void 0){var wt=new o.Metadata(St,H);xt.metadata.push(wt)}return xt}(k,X,et,"",tt,ft);try{return function pt(rt,Bt,It,St,H,ot){var yt,xt;if(H===null){yt=j(rt,Bt,St,null,ot),xt=new v.Request(It,St,null,yt,ot);var wt=new s.Plan(St,xt);St.addPlan(wt)}else yt=j(rt,Bt,St,H,ot),xt=H.addChildRequest(ot.serviceIdentifier,yt,ot);yt.forEach(function(Q){var ct=null;if(ot.isArray())ct=xt.addChildRequest(Q.serviceIdentifier,Q,ot);else{if(Q.cache)return;ct=xt}if(Q.type===S.BindingTypeEnum.Instance&&Q.implementationType!==null){var it=u.getDependencies(rt,Q.implementationType);if(!St.container.options.skipBaseClassChecks){var U=u.getBaseClassDependencyCount(rt,Q.implementationType);if(it.length<U){var D=d.ARGUMENTS_LENGTH_MISMATCH(u.getFunctionName(Q.implementationType));throw new Error(D)}}it.forEach(function(W){pt(rt,!1,W.serviceIdentifier,St,ct,W)})}})}(x,st,et,vt,null,mt),vt}catch(pt){throw h.isStackOverflowExeption(pt)&&vt.plan&&E.circularDependencyToException(vt.plan.rootRequest),pt}},M.createMockRequest=function(x,A,k,X){var et=new C.Target(S.TargetTypeEnum.Variable,"",A,new o.Metadata(k,X)),tt=new T.Context(x);return new v.Request(A,tt,null,[],et)}},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.BindingCount=void 0,M.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Context=void 0;var n=t(68),d=function(){function S(b){this.id=n.id(),this.container=b}return S.prototype.addPlan=function(b){this.plan=b},S.prototype.setCurrentRequest=function(b){this.currentRequest=b},S}();M.Context=d},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Plan=void 0;var n=function(S,b){this.parentContext=S,this.rootRequest=b};M.Plan=n},function(a,M,t){"use strict";var n=this&&this.__spreadArrays||function(){for(var v=0,C=0,O=arguments.length;C<O;C++)v+=arguments[C].length;var j=Array(v),p=0;for(C=0;C<O;C++)for(var x=arguments[C],A=0,k=x.length;A<k;A++,p++)j[p]=x[A];return j};Object.defineProperty(M,"__esModule",{value:!0}),M.getFunctionName=M.getBaseClassDependencyCount=M.getDependencies=void 0;var d=t(222),S=t(41),b=t(55),h=t(32),E=t(89);Object.defineProperty(M,"getFunctionName",{enumerable:!0,get:function(){return E.getFunctionName}});var T=t(223);function o(v,C,O,j){var p=v.getConstructorMetadata(O),x=p.compilerGeneratedMetadata;if(x===void 0){var A=S.MISSING_INJECTABLE_ANNOTATION+" "+C+".";throw new Error(A)}var k=p.userGeneratedMetadata,X=Object.keys(k),et=function(ft,st,vt,mt,pt){for(var rt=[],Bt=0;Bt<pt;Bt++){var It=s(Bt,ft,st,vt,mt);It!==null&&rt.push(It)}return rt}(j,C,x,k,O.length===0&&X.length>0?X.length:O.length),tt=function ft(st,vt){for(var mt=st.getPropertiesMetadata(vt),pt=[],rt=Object.keys(mt),Bt=0,It=rt;Bt<It.length;Bt++){var St=It[Bt],H=mt[St],ot=u(mt[St]),yt=ot.targetName||St,xt=ot.inject||ot.multiInject,wt=new T.Target(b.TargetTypeEnum.ClassProperty,yt,xt);wt.metadata=H,pt.push(wt)}var Q=Object.getPrototypeOf(vt.prototype).constructor;if(Q!==Object){var ct=ft(st,Q);pt=n(pt,ct)}return pt}(v,O);return n(et,tt)}function s(v,C,O,j,p){var x=p[v.toString()]||[],A=u(x),k=A.unmanaged!==!0,X=j[v],et=A.inject||A.multiInject;if((X=et||X)instanceof d.LazyServiceIdentifer&&(X=X.unwrap()),k){if(!C&&(X===Object||X===Function||X===void 0)){var tt=S.MISSING_INJECT_ANNOTATION+" argument "+v+" in class "+O+".";throw new Error(tt)}var ft=new T.Target(b.TargetTypeEnum.ConstructorArgument,A.targetName,X);return ft.metadata=x,ft}return null}function u(v){var C={};return v.forEach(function(O){C[O.key.toString()]=O.value}),{inject:C[h.INJECT_TAG],multiInject:C[h.MULTI_INJECT_TAG],targetName:C[h.NAME_TAG],unmanaged:C[h.UNMANAGED_TAG]}}M.getDependencies=function(v,C){return o(v,E.getFunctionName(C),C,!1)},M.getBaseClassDependencyCount=function v(C,O){var j=Object.getPrototypeOf(O.prototype).constructor;if(j!==Object){var p=o(C,E.getFunctionName(j),j,!0),x=p.map(function(X){return X.metadata.filter(function(et){return et.key===h.UNMANAGED_TAG})}),A=[].concat.apply([],x).length,k=p.length-A;return k>0?k:v(C,j)}return 0}},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.QueryableString=void 0;var n=function(){function d(S){this.str=S}return d.prototype.startsWith=function(S){return this.str.indexOf(S)===0},d.prototype.endsWith=function(S){var b,h=S.split("").reverse().join("");return b=this.str.split("").reverse().join(""),this.startsWith.call({str:b},h)},d.prototype.contains=function(S){return this.str.indexOf(S)!==-1},d.prototype.equals=function(S){return this.str===S},d.prototype.value=function(){return this.str},d}();M.QueryableString=n},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Request=void 0;var n=t(68),d=function(){function S(b,h,E,T,o){this.id=n.id(),this.serviceIdentifier=b,this.parentContext=h,this.parentRequest=E,this.target=o,this.childRequests=[],this.bindings=Array.isArray(T)?T:[T],this.requestScope=E===null?new Map:null}return S.prototype.addChildRequest=function(b,h,E){var T=new S(b,this.parentContext,this,h,E);return this.childRequests.push(T),T},S}();M.Request=d},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.resolve=void 0;var n=t(41),d=t(55),S=t(221),b=t(89),h=t(456),E=function(o,s,u){try{return u()}catch(v){throw S.isStackOverflowExeption(v)?new Error(n.CIRCULAR_DEPENDENCY_IN_FACTORY(o,s.toString())):v}};M.resolve=function(T){return function o(s){return function(u){u.parentContext.setCurrentRequest(u);var v=u.bindings,C=u.childRequests,O=u.target&&u.target.isArray(),j=!(u.parentRequest&&u.parentRequest.target&&u.target&&u.parentRequest.target.matchesArray(u.target.serviceIdentifier));if(O&&j)return C.map(function(et){return o(s)(et)});var p=null;if(!u.target.isOptional()||v.length!==0){var x=v[0],A=x.scope===d.BindingScopeEnum.Singleton,k=x.scope===d.BindingScopeEnum.Request;if(A&&x.activated)return x.cache;if(k&&s!==null&&s.has(x.id))return s.get(x.id);if(x.type===d.BindingTypeEnum.ConstantValue)p=x.cache;else if(x.type===d.BindingTypeEnum.Function)p=x.cache;else if(x.type===d.BindingTypeEnum.Constructor)p=x.implementationType;else if(x.type===d.BindingTypeEnum.DynamicValue&&x.dynamicValue!==null)p=E("toDynamicValue",x.serviceIdentifier,function(){return x.dynamicValue(u.parentContext)});else if(x.type===d.BindingTypeEnum.Factory&&x.factory!==null)p=E("toFactory",x.serviceIdentifier,function(){return x.factory(u.parentContext)});else if(x.type===d.BindingTypeEnum.Provider&&x.provider!==null)p=E("toProvider",x.serviceIdentifier,function(){return x.provider(u.parentContext)});else{if(x.type!==d.BindingTypeEnum.Instance||x.implementationType===null){var X=b.getServiceIdentifierAsString(u.serviceIdentifier);throw new Error(n.INVALID_BINDING_TYPE+" "+X)}p=h.resolveInstance(x.implementationType,C,o(s))}return typeof x.onActivation=="function"&&(p=x.onActivation(u.parentContext,p)),A&&(x.cache=p,x.activated=!0),k&&s!==null&&!s.has(x.id)&&s.set(x.id,p),p}}}(T.plan.rootRequest.requestScope)(T.plan.rootRequest)}},function(a,M,t){"use strict";var n=this&&this.__spreadArrays||function(){for(var h=0,E=0,T=arguments.length;E<T;E++)h+=arguments[E].length;var o=Array(h),s=0;for(E=0;E<T;E++)for(var u=arguments[E],v=0,C=u.length;v<C;v++,s++)o[s]=u[v];return o};Object.defineProperty(M,"__esModule",{value:!0}),M.resolveInstance=void 0;var d=t(41),S=t(55),b=t(32);M.resolveInstance=function(h,E,T){var o,s,u=null;if(E.length>0){var v=E.filter(function(C){return C.target!==null&&C.target.type===S.TargetTypeEnum.ConstructorArgument}).map(T);s=v,u=function(C,O,j){var p=O.filter(function(A){return A.target!==null&&A.target.type===S.TargetTypeEnum.ClassProperty}),x=p.map(j);return p.forEach(function(A,k){var X;X=A.target.name.value();var et=x[k];C[X]=et}),C}(u=new((o=h).bind.apply(o,n([void 0],s))),E,T)}else u=new h;return function(C,O){if(Reflect.hasMetadata(b.POST_CONSTRUCT,C)){var j=Reflect.getMetadata(b.POST_CONSTRUCT,C);try{O[j.value]()}catch(p){throw new Error(d.POST_CONSTRUCT_ERROR(C.name,p.message))}}}(h,u),u}},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.BindingToSyntax=void 0;var n=t(41),d=t(55),S=t(458),b=t(224),h=function(){function E(T){this._binding=T}return E.prototype.to=function(T){return this._binding.type=d.BindingTypeEnum.Instance,this._binding.implementationType=T,new S.BindingInWhenOnSyntax(this._binding)},E.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+n.INVALID_TO_SELF_VALUE);var T=this._binding.serviceIdentifier;return this.to(T)},E.prototype.toConstantValue=function(T){return this._binding.type=d.BindingTypeEnum.ConstantValue,this._binding.cache=T,this._binding.dynamicValue=null,this._binding.implementationType=null,new b.BindingWhenOnSyntax(this._binding)},E.prototype.toDynamicValue=function(T){return this._binding.type=d.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=T,this._binding.implementationType=null,new S.BindingInWhenOnSyntax(this._binding)},E.prototype.toConstructor=function(T){return this._binding.type=d.BindingTypeEnum.Constructor,this._binding.implementationType=T,new b.BindingWhenOnSyntax(this._binding)},E.prototype.toFactory=function(T){return this._binding.type=d.BindingTypeEnum.Factory,this._binding.factory=T,new b.BindingWhenOnSyntax(this._binding)},E.prototype.toFunction=function(T){if(typeof T!="function")throw new Error(n.INVALID_FUNCTION_BINDING);var o=this.toConstantValue(T);return this._binding.type=d.BindingTypeEnum.Function,o},E.prototype.toAutoFactory=function(T){return this._binding.type=d.BindingTypeEnum.Factory,this._binding.factory=function(o){return function(){return o.container.get(T)}},new b.BindingWhenOnSyntax(this._binding)},E.prototype.toProvider=function(T){return this._binding.type=d.BindingTypeEnum.Provider,this._binding.provider=T,new b.BindingWhenOnSyntax(this._binding)},E.prototype.toService=function(T){this.toDynamicValue(function(o){return o.container.get(T)})},E}();M.BindingToSyntax=h},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.BindingInWhenOnSyntax=void 0;var n=t(459),d=t(141),S=t(142),b=function(){function h(E){this._binding=E,this._bindingWhenSyntax=new S.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new d.BindingOnSyntax(this._binding),this._bindingInSyntax=new n.BindingInSyntax(E)}return h.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},h.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},h.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},h.prototype.when=function(E){return this._bindingWhenSyntax.when(E)},h.prototype.whenTargetNamed=function(E){return this._bindingWhenSyntax.whenTargetNamed(E)},h.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},h.prototype.whenTargetTagged=function(E,T){return this._bindingWhenSyntax.whenTargetTagged(E,T)},h.prototype.whenInjectedInto=function(E){return this._bindingWhenSyntax.whenInjectedInto(E)},h.prototype.whenParentNamed=function(E){return this._bindingWhenSyntax.whenParentNamed(E)},h.prototype.whenParentTagged=function(E,T){return this._bindingWhenSyntax.whenParentTagged(E,T)},h.prototype.whenAnyAncestorIs=function(E){return this._bindingWhenSyntax.whenAnyAncestorIs(E)},h.prototype.whenNoAncestorIs=function(E){return this._bindingWhenSyntax.whenNoAncestorIs(E)},h.prototype.whenAnyAncestorNamed=function(E){return this._bindingWhenSyntax.whenAnyAncestorNamed(E)},h.prototype.whenAnyAncestorTagged=function(E,T){return this._bindingWhenSyntax.whenAnyAncestorTagged(E,T)},h.prototype.whenNoAncestorNamed=function(E){return this._bindingWhenSyntax.whenNoAncestorNamed(E)},h.prototype.whenNoAncestorTagged=function(E,T){return this._bindingWhenSyntax.whenNoAncestorTagged(E,T)},h.prototype.whenAnyAncestorMatches=function(E){return this._bindingWhenSyntax.whenAnyAncestorMatches(E)},h.prototype.whenNoAncestorMatches=function(E){return this._bindingWhenSyntax.whenNoAncestorMatches(E)},h.prototype.onActivation=function(E){return this._bindingOnSyntax.onActivation(E)},h}();M.BindingInWhenOnSyntax=b},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.BindingInSyntax=void 0;var n=t(55),d=t(224),S=function(){function b(h){this._binding=h}return b.prototype.inRequestScope=function(){return this._binding.scope=n.BindingScopeEnum.Request,new d.BindingWhenOnSyntax(this._binding)},b.prototype.inSingletonScope=function(){return this._binding.scope=n.BindingScopeEnum.Singleton,new d.BindingWhenOnSyntax(this._binding)},b.prototype.inTransientScope=function(){return this._binding.scope=n.BindingScopeEnum.Transient,new d.BindingWhenOnSyntax(this._binding)},b}();M.BindingInSyntax=S},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.ContainerSnapshot=void 0;var n=function(){function d(){}return d.of=function(S,b){var h=new d;return h.bindings=S,h.middleware=b,h},d}();M.ContainerSnapshot=n},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Lookup=void 0;var n=t(41),d=function(){function S(){this._map=new Map}return S.prototype.getMap=function(){return this._map},S.prototype.add=function(b,h){if(b==null)throw new Error(n.NULL_ARGUMENT);if(h==null)throw new Error(n.NULL_ARGUMENT);var E=this._map.get(b);E!==void 0?(E.push(h),this._map.set(b,E)):this._map.set(b,[h])},S.prototype.get=function(b){if(b==null)throw new Error(n.NULL_ARGUMENT);var h=this._map.get(b);if(h!==void 0)return h;throw new Error(n.KEY_NOT_FOUND)},S.prototype.remove=function(b){if(b==null)throw new Error(n.NULL_ARGUMENT);if(!this._map.delete(b))throw new Error(n.KEY_NOT_FOUND)},S.prototype.removeByCondition=function(b){var h=this;this._map.forEach(function(E,T){var o=E.filter(function(s){return!b(s)});o.length>0?h._map.set(T,o):h._map.delete(T)})},S.prototype.hasKey=function(b){if(b==null)throw new Error(n.NULL_ARGUMENT);return this._map.has(b)},S.prototype.clone=function(){var b=new S;return this._map.forEach(function(h,E){h.forEach(function(T){return b.add(E,T.clone())})}),b},S.prototype.traverse=function(b){this._map.forEach(function(h,E){b(E,h)})},S}();M.Lookup=d},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.AsyncContainerModule=M.ContainerModule=void 0;var n=t(68),d=function(h){this.id=n.id(),this.registry=h};M.ContainerModule=d;var S=function(h){this.id=n.id(),this.registry=h};M.AsyncContainerModule=S},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.injectable=void 0;var n=t(41),d=t(32);M.injectable=function(){return function(S){if(Reflect.hasOwnMetadata(d.PARAM_TYPES,S))throw new Error(n.DUPLICATED_INJECTABLE_DECORATOR);var b=Reflect.getMetadata(d.DESIGN_PARAM_TYPES,S)||[];return Reflect.defineMetadata(d.PARAM_TYPES,b,S),S}}},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.tagged=void 0;var n=t(49),d=t(59);M.tagged=function(S,b){return function(h,E,T){var o=new n.Metadata(S,b);typeof T=="number"?d.tagParameter(h,E,T,o):d.tagProperty(h,E,o)}}},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.named=void 0;var n=t(32),d=t(49),S=t(59);M.named=function(b){return function(h,E,T){var o=new d.Metadata(n.NAMED_TAG,b);typeof T=="number"?S.tagParameter(h,E,T,o):S.tagProperty(h,E,o)}}},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.optional=void 0;var n=t(32),d=t(49),S=t(59);M.optional=function(){return function(b,h,E){var T=new d.Metadata(n.OPTIONAL_TAG,!0);typeof E=="number"?S.tagParameter(b,h,E,T):S.tagProperty(b,h,T)}}},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.unmanaged=void 0;var n=t(32),d=t(49),S=t(59);M.unmanaged=function(){return function(b,h,E){var T=new d.Metadata(n.UNMANAGED_TAG,!0);S.tagParameter(b,h,E,T)}}},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.multiInject=void 0;var n=t(32),d=t(49),S=t(59);M.multiInject=function(b){return function(h,E,T){var o=new d.Metadata(n.MULTI_INJECT_TAG,b);typeof T=="number"?S.tagParameter(h,E,T,o):S.tagProperty(h,E,o)}}},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.targetName=void 0;var n=t(32),d=t(49),S=t(59);M.targetName=function(b){return function(h,E,T){var o=new d.Metadata(n.NAME_TAG,b);S.tagParameter(h,E,T,o)}}},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.postConstruct=void 0;var n=t(41),d=t(32),S=t(49);M.postConstruct=function(){return function(b,h,E){var T=new S.Metadata(d.POST_CONSTRUCT,h);if(Reflect.hasOwnMetadata(d.POST_CONSTRUCT,b.constructor))throw new Error(n.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(d.POST_CONSTRUCT,T,b.constructor)}}},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.multiBindToService=void 0,M.multiBindToService=function(n){return function(d){return function(){for(var S=[],b=0;b<arguments.length;b++)S[b]=arguments[b];return S.forEach(function(h){return n.bind(h).toService(d)})}}}},function(a,M){function t(n,d){return a.exports=t=Object.setPrototypeOf||function(S,b){return S.__proto__=b,S},t(n,d)}a.exports=t},function(a,M,t){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var n=Symbol.for("INJECTION");function d(S,b,h,E){Object.defineProperty(S,b,{configurable:!0,enumerable:!0,get:function(){return E&&!Reflect.hasMetadata(n,this,b)&&Reflect.defineMetadata(n,h(),this,b),Reflect.hasMetadata(n,this,b)?Reflect.getMetadata(n,this,b):h()},set:function(o){Reflect.defineMetadata(n,o,this,b)}})}M.makePropertyInjectDecorator=function(S,b){return function(h){return function(E,T){d(E,T,function(){return S.get(h)},b)}}},M.makePropertyInjectNamedDecorator=function(S,b){return function(h,E){return function(T,o){d(T,o,function(){return S.getNamed(h,E)},b)}}},M.makePropertyInjectTaggedDecorator=function(S,b){return function(h,E,T){return function(o,s){d(o,s,function(){return S.getTagged(h,E,T)},b)}}},M.makePropertyMultiInjectDecorator=function(S,b){return function(h){return function(E,T){d(E,T,function(){return S.getAll(h)},b)}}}},function(a,M,t){var n=t(219);a.exports=function(d){if(Array.isArray(d))return n(d)}},function(a,M){a.exports=function(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}},function(a,M){a.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(a,M){a.exports=function(t){var n=new Float32Array(2);return n[0]=t[0],n[1]=t[1],n}},function(a,M){a.exports=function(t,n){var d=new Float32Array(2);return d[0]=t,d[1]=n,d}},function(a,M){a.exports=function(t,n){return t[0]=n[0],t[1]=n[1],t}},function(a,M,t){a.exports=function(d,S){var b=d[0],h=d[1],E=S[0],T=S[1];return Math.abs(b-E)<=n*Math.max(1,Math.abs(b),Math.abs(E))&&Math.abs(h-T)<=n*Math.max(1,Math.abs(h),Math.abs(T))};var n=t(233)},function(a,M){a.exports=function(t,n){return t[0]===n[0]&&t[1]===n[1]}},function(a,M,t){a.exports=t(150)},function(a,M,t){a.exports=t(237)},function(a,M,t){a.exports=t(238)},function(a,M){a.exports=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t}},function(a,M){a.exports=function(t,n,d){return t[0]=Math.min(n[0],d[0]),t[1]=Math.min(n[1],d[1]),t}},function(a,M){a.exports=function(t,n,d){return t[0]=Math.max(n[0],d[0]),t[1]=Math.max(n[1],d[1]),t}},function(a,M){a.exports=function(t,n,d){var S=Math.cos(d),b=Math.sin(d),h=n[0],E=n[1];return t[0]=h*S-E*b,t[1]=h*b+E*S,t}},function(a,M){a.exports=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t}},function(a,M){a.exports=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t}},function(a,M){a.exports=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t}},function(a,M){a.exports=function(t,n,d){return t[0]=n[0]*d,t[1]=n[1]*d,t}},function(a,M){a.exports=function(t,n,d,S){return t[0]=n[0]+d[0]*S,t[1]=n[1]+d[1]*S,t}},function(a,M,t){a.exports=t(239)},function(a,M,t){a.exports=t(240)},function(a,M,t){a.exports=t(241)},function(a,M,t){a.exports=t(242)},function(a,M){a.exports=function(t,n){return t[0]=-n[0],t[1]=-n[1],t}},function(a,M){a.exports=function(t,n,d){var S=n[0]*d[1]-n[1]*d[0];return t[0]=t[1]=0,t[2]=S,t}},function(a,M){a.exports=function(t,n,d,S){var b=n[0],h=n[1];return t[0]=b+S*(d[0]-b),t[1]=h+S*(d[1]-h),t}},function(a,M){a.exports=function(t,n){n=n||1;var d=2*Math.random()*Math.PI;return t[0]=Math.cos(d)*n,t[1]=Math.sin(d)*n,t}},function(a,M){a.exports=function(t,n,d){var S=n[0],b=n[1];return t[0]=d[0]*S+d[2]*b,t[1]=d[1]*S+d[3]*b,t}},function(a,M){a.exports=function(t,n,d){var S=n[0],b=n[1];return t[0]=d[0]*S+d[2]*b+d[4],t[1]=d[1]*S+d[3]*b+d[5],t}},function(a,M){a.exports=function(t,n,d){var S=n[0],b=n[1];return t[0]=d[0]*S+d[3]*b+d[6],t[1]=d[1]*S+d[4]*b+d[7],t}},function(a,M){a.exports=function(t,n,d){var S=n[0],b=n[1];return t[0]=d[0]*S+d[4]*b+d[12],t[1]=d[1]*S+d[5]*b+d[13],t}},function(a,M,t){a.exports=function(d,S,b,h,E,T){var o,s;for(S||(S=2),b||(b=0),s=h?Math.min(h*S+b,d.length):d.length,o=b;o<s;o+=S)n[0]=d[o],n[1]=d[o+1],E(n,n,T),d[o]=n[0],d[o+1]=n[1];return d};var n=t(234)()},function(a,M){a.exports=function(t,n,d){var S=n[0]*n[0]+n[1]*n[1];if(S>d*d){var b=Math.sqrt(S);t[0]=n[0]/b*d,t[1]=n[1]/b*d}else t[0]=n[0],t[1]=n[1];return t}},function(a,M,t){"use strict";var n=t(0),d=t(5),S=t(38),b=S.a.cloneEvent,h=S.a.isNaN,E=Math.abs,T=["shift","ctrl","alt","control"],o={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0}},getEvents:function(){return{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp"}},updateViewport:function(D){var W=this.origin,P=+D.clientX,m=+D.clientY;if(!h(P)&&!h(m)){var y=P-W.x,V=m-W.y;this.get("direction")==="x"?V=0:this.get("direction")==="y"&&(y=0),this.origin={x:P,y:m};var J=this.graph.get("width"),ht=this.graph.get("height"),gt=this.graph.get("canvas").getCanvasBBox();(gt.minX<=J+this.scalableRange&&gt.minX+y>J+this.scalableRange||gt.maxX+this.scalableRange>=0&&gt.maxX+this.scalableRange+y<0)&&(y=0),(gt.minY<=ht+this.scalableRange&&gt.minY+V>ht+this.scalableRange||gt.maxY+this.scalableRange>=0&&gt.maxY+this.scalableRange+V<0)&&(V=0),this.graph.translate(y,V)}},onMouseDown:function(D){var W=D.originalEvent;if((!W||D.name===d.h.TOUCHSTART||W.button===0)&&(D.name===d.h.TOUCHSTART||typeof window=="undefined"||!window.event||window.event.buttons||window.event.button)&&this.shouldBegin.call(this,D)&&!this.keydown&&D.target&&D.target.isCanvas&&D.target.isCanvas()&&(this.origin={x:D.clientX,y:D.clientY},this.dragging=!1,this.enableOptimize)){for(var P=this.graph,m=P.getEdges(),y=0,V=m.length;y<V;y++){var J=m[y].get("group").get("children");J&&J.forEach(function(Ot){Ot.set("ori-visibility",Ot.get("ori-visibility")||Ot.get("visible")),Ot.hide()})}for(var ht=P.getNodes(),gt=0,Mt=ht.length;gt<Mt;gt++)for(var Lt=0,At=ht[gt].getContainer().get("children");Lt<At.length;Lt++){var Ct=At[Lt];Ct.get("isKeyShape")||(Ct.set("ori-visibility",Ct.get("ori-visibility")||Ct.get("visible")),Ct.hide())}}},onMouseMove:function(D){var W=this.graph;if(!this.keydown&&D.target&&D.target.isCanvas&&D.target.isCanvas()&&(D=b(D),this.origin)){if(this.dragging)D.type="drag",W.emit("canvas:drag",D);else{if(E(this.origin.x-D.clientX)+E(this.origin.y-D.clientY)<10)return;this.shouldBegin.call(this,D)&&(D.type="dragstart",W.emit("canvas:dragstart",D),this.dragging=!0)}this.shouldUpdate.call(this,D)&&this.updateViewport(D)}},onMouseUp:function(D){var W=this.graph;if(!this.keydown){if(this.enableOptimize){for(var P=W.getEdges(),m=0,y=P.length;m<y;m++){var V=P[m].get("group").get("children");V&&V.forEach(function(Ct){Ct.get("ori-visibility")&&Ct.show()})}for(var J=W.getNodes(),ht=0,gt=J.length;ht<gt;ht++)for(var Mt=0,Lt=J[ht].getContainer().get("children");Mt<Lt.length;Mt++){var At=Lt[Mt];At.get("isKeyShape")||At.get("ori-visibility")&&At.show()}}this.dragging?(D=b(D),this.shouldEnd.call(this,D)&&this.updateViewport(D),D.type="dragend",W.emit("canvas:dragend",D),this.endDrag()):this.origin=null}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(D){var W=D.key;W&&(T.indexOf(W.toLowerCase())>-1?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},s=t(1),u=t(45),v={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected"}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas"}},validationCombo:function(D){return!(!this.origin||!D||D.destroyed)&&D.getType()==="combo"},onDragStart:function(D){var W=this;if(this.shouldBegin.call(this,D)){var P=D.item;if(P&&!P.destroyed&&!P.hasLocked()){P.getContainer().set("capture",!1);var m=D.target;if(m&&m.get("isAnchorPoint"))return;var y=this.graph;this.targets=[],this.targetCombo=null;var V=y.findAllByState("node",this.selectedState),J=P.get("id");V.filter(function(gt){var Mt=gt.get("id");return J===Mt}).length===0?this.targets.push(P):V.length>1?V.forEach(function(gt){gt.hasLocked()||W.targets.push(gt)}):this.targets.push(P);var ht=[];this.targets.forEach(function(gt){ht.push(Object(n.c)(gt.getModel()))}),this.set("beforeDragNodes",ht),this.origin={x:D.x,y:D.y},this.point={},this.originPoint={}}}},onDrag:function(D){var W=this;this.origin&&this.shouldUpdate(this,D)&&(this.get("enableDelegate")?this.updateDelegate(D):this.targets.map(function(P){W.update(P,D)}))},onDragEnd:function(D){if(this.origin&&this.shouldEnd.call(this,D)){var W=D.item;W&&W.getContainer().set("capture",!0),this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(D);var P=this.graph;if(P.get("enabledStack")){var m={before:{nodes:this.get("beforeDragNodes"),edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.targets.forEach(function(y){m.after.nodes.push(y.getModel())}),P.pushStack("update",Object(n.c)(m))}P.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(D){var W=D.item;if(this.validationCombo(W)){this.updatePositions(D);var P=this.graph;if(this.comboActiveState&&P.setItemState(W,this.comboActiveState,!1),this.targetCombo=W,this.onlyChangeComboSize)P.updateCombos();else{var m=W.getModel();this.targets.map(function(y){y.getModel().comboId!==m.id&&P.updateComboTree(y,m.id)}),P.updateCombo(W)}P.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(D){var W=this.graph;this.targets&&this.targets.length!==0&&(this.updatePositions(D),this.onlyChangeComboSize?W.updateCombos():this.targets.map(function(P){P.getModel().comboId&&W.updateComboTree(P)}))},onDropNode:function(D){if(this.targets&&this.targets.length!==0){var W=D.item;this.updatePositions(D);var P=this.graph,m=W.getModel().comboId;if(m){var y=P.findById(m);this.comboActiveState&&P.setItemState(y,this.comboActiveState,!1),this.targets.map(function(V){var J=V.getModel();m!==J.comboId&&P.updateComboTree(V,m)}),P.updateCombo(y)}else this.targets.map(function(V){V.getModel().comboId&&P.updateComboTree(V)});P.emit("dragnodeend",{items:this.targets,targetItem:W})}},onDragEnter:function(D){var W=D.item;if(this.validationCombo(W)){var P=this.graph;this.comboActiveState&&P.setItemState(W,this.comboActiveState,!0)}},onDragLeave:function(D){var W=D.item;if(this.validationCombo(W)){var P=this.graph;this.comboActiveState&&P.setItemState(W,this.comboActiveState,!1)}},updatePositions:function(D){var W=this;this.targets&&this.targets.length!==0&&this.get("enableDelegate")&&this.targets.map(function(P){return W.update(P,D)})},update:function(D,W){var P=this.origin,m=D.get("model"),y=D.get("id");this.point[y]||(this.point[y]={x:m.x||0,y:m.y||0});var V={x:W.x-P.x+this.point[y].x,y:W.y-P.y+this.point[y].y};this.get("updateEdge")?this.graph.updateItem(D,V,!1):D.updatePosition(V)},updateDelegate:function(D){if(this.graph,this.delegateRect){var W=D.x-this.origin.x+this.originPoint.minX,P=D.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:W,y:P})}else{var m=this.graph.get("group"),y=Object(n.e)({},u.a.delegateStyle,this.delegateStyle),V=this.calculationGroupPosition(D),J=V.x,ht=V.y,gt=V.width,Mt=V.height,Lt=V.minX,At=V.minY;this.originPoint={x:J,y:ht,width:gt,height:Mt,minX:Lt,minY:At},this.delegateRect=m.addShape("rect",{attrs:Object(s.a)({width:gt,height:Mt,x:J,y:ht},y),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(D){var W=this.graph.findAllByState("node",this.selectedState);W.length===0&&W.push(D.item);for(var P=1/0,m=-1/0,y=1/0,V=-1/0,J=0;J<W.length;J++){var ht=W[J].getBBox(),gt=ht.minX,Mt=ht.minY,Lt=ht.maxX,At=ht.maxY;gt<P&&(P=gt),Mt<y&&(y=Mt),Lt>m&&(m=Lt),At>V&&(V=At)}return{x:Math.floor(P),y:Math.floor(y),width:Math.ceil(m)-Math.floor(P),height:Math.ceil(V)-Math.floor(y),minX:P,minY:y}}},C=Math.min,O=Math.max,j=Math.abs,p=["drag","shift","ctrl","alt","control"],x={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return p.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="shift",console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(D){var W=D.item,P=this.brush;W||(this.trigger==="drag"||this.keydown)&&(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),P||(P=this.createBrush()),this.originPoint={x:D.canvasX,y:D.canvasY},P.attr({width:0,height:0}),P.show(),this.dragging=!0)},onMouseMove:function(D){this.dragging&&(this.trigger==="drag"||this.keydown)&&this.updateBrush(D)},onMouseUp:function(D){this.graph,(this.brush||this.dragging)&&(this.trigger==="drag"||this.keydown)&&(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(D),this.dragging=!1)},clearStates:function(){var D=this.graph,W=this.selectedState,P=D.findAllByState("node",W),m=D.findAllByState("edge",W);P.forEach(function(y){return D.setItemState(y,W,!1)}),m.forEach(function(y){return D.setItemState(y,W,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),D.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(D){var W=this,P=this.graph,m=this.originPoint,y=this.shouldUpdate,V=this.selectedState,J={x:D.x,y:D.y},ht=P.getPointByCanvas(m.x,m.y),gt=C(J.x,ht.x),Mt=O(J.x,ht.x),Lt=C(J.y,ht.y),At=O(J.y,ht.y),Ct=[],Ot=[];P.getNodes().forEach(function(Ft){var Xt=Ft.getBBox();if(Xt.centerX>=gt&&Xt.centerX<=Mt&&Xt.centerY>=Lt&&Xt.centerY<=At&&y(Ft,"select")){Ct.push(Ft);var Rt=Ft.getModel();Ot.push(Rt.id),P.setItemState(Ft,V,!0)}});var Dt=[];this.includeEdges&&Ct.forEach(function(Ft){Ft.getOutEdges().forEach(function(Xt){var Rt=Xt.getModel(),Kt=Rt.source,$t=Rt.target;Ot.includes(Kt)&&Ot.includes($t)&&y(Xt,"select")&&(Dt.push(Xt),P.setItemState(Xt,W.selectedState,!0))})}),this.selectedEdges=Dt,this.selectedNodes=Ct,this.onSelect&&this.onSelect(Ct,Dt),P.emit("nodeselectchange",{selectedItems:{nodes:Ct,edges:Dt},select:!0})},createBrush:function(){var D=this.graph.get("canvas").addShape("rect",{attrs:this.brushStyle,capture:!1,name:"brush-shape"});return this.brush=D,this.delegate=D,D},updateBrush:function(D){var W=this.originPoint;this.brush.attr({width:j(D.canvasX-W.x),height:j(D.canvasY-W.y),x:C(D.canvasX,W.x),y:C(D.canvasY,W.y)})},onKeyDown:function(D){var W=D.key;if(W){var P=this.trigger.toLowerCase(),m=W.toLowerCase();this.keydown=m===P||m==="control"&&P==="ctrl"||m==="ctrl"&&P==="control"}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},A=["shift","ctrl","alt","control"],k={getDefaultCfg:function(){return{multiple:!0,trigger:"shift",selectedState:"selected"}},getEvents:function(){return A.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="shift",console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(D){var W=this,P=D.item;if(P&&!P.destroyed){var m=P.getType(),y=W.graph,V=W.keydown,J=W.multiple,ht=W.shouldUpdate;if(W.shouldBegin.call(W,D)){if(!V||!J){var gt=y.findAllByState(m,W.selectedState);Object(n.f)(gt,function(At){At!==P&&y.setItemState(At,W.selectedState,!1)})}if(P.hasState(W.selectedState)){ht.call(W,D)&&y.setItemState(P,W.selectedState,!1);var Mt=y.findAllByState("node",W.selectedState),Lt=y.findAllByState("combo",W.selectedState);y.emit("nodeselectchange",{target:P,selectedItems:{nodes:Mt,combos:Lt},select:!1})}else ht.call(W,D)&&y.setItemState(P,W.selectedState,!0),Mt=y.findAllByState("node",W.selectedState),Lt=y.findAllByState("combo",W.selectedState),y.emit("nodeselectchange",{target:P,selectedItems:{nodes:Mt,combos:Lt},select:!0})}}},onCanvasClick:function(){var D=this,W=this.graph,P=W.findAllByState("node",this.selectedState);Object(n.f)(P,function(y){W.setItemState(y,D.selectedState,!1)});var m=W.findAllByState("combo",this.selectedState);Object(n.f)(m,function(y){W.setItemState(y,D.selectedState,!1)}),W.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},onKeyDown:function(D){var W=D.key;W&&(W.toLowerCase()===this.trigger.toLowerCase()||W.toLowerCase()==="control"?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},X=t(62).a.transform,et={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"}}},getEvents:function(){var D=this.fixSelectedItems;return D.fixState||(D.fixState="selected"),D.fixAll&&(D.fixLineWidth=!0,D.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(D){var W=D.originalEvent.touches,P=W[0],m=W[1];D.preventDefault(),m&&(this.shouldBegin&&!this.shouldBegin.call(this,D)||(this.startPoint={pageX:P.pageX,pageY:P.pageY},this.moveable=!0,m&&(this.endPoint={pageX:m.pageX,pageY:m.pageY}),this.originScale=this.graph.getZoom()||this.currentScale||1))},onTouchMove:function(D){if(this.moveable){D.preventDefault();var W=D.originalEvent.touches,P=W[0],m=W[1];if(m){this.endPoint||(this.endPoint={pageX:m.pageX,pageY:m.pageY});var y=function(Lt,At){return Math.hypot(At.x-Lt.x,At.y-Lt.y)},V=y({x:P.pageX,y:P.pageY},{x:m.pageX,y:m.pageY})/y({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),J=this.originScale*V;this.currentScale=J;var ht=this.get("minZoom")||this.graph.get("minZoom");if(!(J>(this.get("maxZoom")||this.graph.get("maxZoom"))||J<ht)){var gt=this.graph.get("canvas").getPointByClient(D.clientX,D.clientY);this.graph.zoomTo(J,{x:gt.x,y:gt.y}),this.graph.emit("wheelzoom",D)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(D){var W=this,P=this.graph,m=this.fixSelectedItems;if((!this.shouldBegin||this.shouldBegin.call(this,D))&&this.shouldUpdate.call(this,D)){D.preventDefault();var y,V=P.get("canvas").getPointByClient(D.clientX,D.clientY),J=this.get("sensitivity"),ht=P.getZoom();y=ht*(D.wheelDelta<0?1-.05*J:1/(1-.05*J));var gt=this.get("minZoom")||P.get("minZoom");if(!(y>(this.get("maxZoom")||P.get("maxZoom"))||y<gt)){if(this.get("enableOptimize")){var Mt=this.get("optimizeZoom"),Lt=this.get("optimized"),At=P.getNodes(),Ct=P.getEdges(),Ot=At.length,Dt=Ct.length;if(!Lt){for(var Ft=0;Ft<Ot;Ft++)if(!(He=At[Ft]).destroyed)for(var Xt=(Ca=He.get("group").get("children")).length,Rt=0;Rt<Xt;Rt++)(xr=Ca[Rt]).destoryed||xr.get("isKeyShape")||(xr.set("ori-visibility",xr.get("ori-visibility")||xr.get("visible")),xr.hide());for(var Kt=0;Kt<Dt;Kt++)for(Xt=(Ca=(Ya=Ct[Kt]).get("group").get("children")).length,Rt=0;Rt<Xt;Rt++)(xr=Ca[Rt]).set("ori-visibility",xr.get("ori-visibility")||xr.get("visible")),xr.hide();this.set("optimized",!0)}clearTimeout(this.get("timeout"));var $t=setTimeout(function(){var La=P.getZoom();if(W.get("optimized")){W.set("optimized",!1);for(var Ba=0;Ba<Ot;Ba++){var oo=At[Ba],Yr=(Aa=oo.get("group").get("children")).length;if(La<Mt)(Ma=(Vr=oo.getKeyShape()).get("ori-visibility"))&&Vr.show();else for(var $a=0;$a<Yr;$a++){var Ma=(wi=Aa[$a]).get("ori-visibility");!wi.get("visible")&&Ma&&Ma&&wi.show()}}for(var to=0;to<Dt;to++){var Aa,Vr,Pi=Ct[to];if(Yr=(Aa=Pi.get("group").get("children")).length,La<Mt)(Ma=(Vr=Pi.getKeyShape()).get("ori-visibility"))&&Vr.show();else for($a=0;$a<Yr;$a++){var wi;(wi=Aa[$a]).get("visible")||(Ma=wi.get("ori-visibility"))&&wi.show()}}}},100);this.set("timeout",$t)}if(ht<=1){var le=void 0,Me=void 0;if(m.fixAll||m.fixLineWidth||m.fixLabel){le=P.findAllByState("node",m.fixState),Me=P.findAllByState("edge",m.fixState);for(var on=ht/y,hn=le.length,Cn=0;Cn<hn;Cn++){var He,mn=(He=le[Cn]).getContainer(),dn=He.getModel(),Un=He.getOriginStyle(),Xn=He.getStateStyle(m.fixState),Hn=He.get("shapeFactory").getShape(dn.type).getStateStyle(m.fixState,He)[m.fixState];if(m.fixAll){if(y<=1){var _n=Object(n.c)(mn.getMatrix());_n||(_n=[1,0,0,0,1,0,0,0,1]);var $n=He.getModel(),ir=$n.x,dr=$n.y;_n=X(_n,[["t",-ir,-dr],["s",on,on],["t",ir,dr]]),mn.setMatrix(_n)}}else for(Xt=(Ca=mn.get("children")).length,Rt=0;Rt<Xt;Rt++){var xr=Ca[Rt],Qr=void 0,Mr=void 0;if(m.fixLabel&&xr.get("type")==="text"){Qr=xr.attr("fontSize")||12;var Er=Xn[xr.get("name")],Dr=Hn[xr.get("name")],hi=Er?Er.fontSize:12,Wi=Dr?Dr.fontSize:12,oa=hi||Wi||12;if(y<=1&&xr.attr("fontSize",oa/y),Mr)break}if(m.fixLineWidth&&xr.get("isKeyShape")){Mr=xr.attr("lineWidth")||0;var Za=Xn.lineWidth||Hn.lineWidth||Un.lineWidth||0;if(y<=1&&xr.attr("lineWidth",Za/y),Qr)break}}}for(var ao=Me.length,Ji=0;Ji<ao;Ji++){var Ya,Ca=(mn=(Ya=Me[Ji]).getContainer()).get("children");for(dn=Ya.getModel(),Xn=Ya.getStateStyle(m.fixState),Hn=Ya.get("shapeFactory").getShape(dn.type).getStateStyle(m.fixState,Ya)[m.fixState],Xt=Ca.length,Rt=0;Rt<Xt&&(xr=Ca[Rt],Qr=void 0,Mr=void 0,!((m.fixLabel||m.fixAll)&&xr.get("type")==="text"&&(Qr=xr.attr("fontSize")||12,Er=Xn[xr.get("name")],Dr=Hn[xr.get("name")],hi=Er?Er.fontSize:12,Wi=Dr?Dr.fontSize:12,oa=hi||Wi||12,y<=1&&xr.attr("fontSize",oa/y),Mr)||(m.fixLineWidth||m.fixAll)&&xr.get("isKeyShape")&&(Mr=xr.attr("lineWidth")||0,Za=Xn.lineWidth||Hn.lineWidth||1,y<=1&&xr.attr("lineWidth",Za/y),Qr)));Rt++);}}}P.zoomTo(y,{x:V.x,y:V.y}),P.emit("wheelzoom",D)}}}},tt=t(14),ft={onMouseEnter:function(D){var W=D.item;this.currentTarget=W,this.showTooltip(D),this.graph.emit("tooltipchange",{item:D.item,action:"show"})},onMouseMove:function(D){this.shouldUpdate(D)?this.currentTarget&&D.item===this.currentTarget&&this.updatePosition(D):this.hideTooltip()},onMouseLeave:function(D){this.shouldEnd(D)&&(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(D){var W=this.container;if(D.item&&!D.item.destroyed){W||(W=this.createTooltip(this.graph.get("canvas")),this.container=W);var P=this.formatText(D.item.get("model"),D);W.innerHTML=P,Object(tt.c)(this.container,{visibility:"visible"}),this.updatePosition(D)}},hideTooltip:function(){Object(tt.c)(this.container,{visibility:"hidden"})},updatePosition:function(D){var W=this.get("shouldBegin"),P=this.width,m=this.height,y=this.container,V=this.graph;if(W(D)){var J=V.getPointByClient(D.clientX,D.clientY),ht=V.getCanvasByPoint(J.x,J.y),gt=ht.x,Mt=ht.y,Lt=y.getBoundingClientRect();gt>P/2?gt-=Lt.width:gt+=this.offset,Mt>m/2?Mt-=Lt.height:Mt+=this.offset;var At=gt+"px",Ct=Mt+"px";Object(tt.c)(this.container,{left:At,top:Ct,visibility:"visible"})}else Object(tt.c)(y,{visibility:"hidden"})},createTooltip:function(D){var W=D.get("el");W.style.position="relative";var P=Object(tt.b)('<div class="g6-tooltip g6-'+this.item+'-tooltip"></div>');return W.parentNode.appendChild(P),Object(tt.c)(P,{position:"absolute",visibility:"visible"}),this.width=D.get("width"),this.height=D.get("height"),this.container=P,this.graph.get("tooltips").push(P),P}},st=Object(s.a)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(W){return W.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},ft),vt=Object(s.a)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(W){return"source: "+W.source+" target: "+W.target}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},ft),mt=["click","dblclick"],pt={getDefaultCfg:function(){return{trigger:"click",onChange:function(){}}},getEvents:function(){var D,W;return mt.includes(this.trigger)?W=this.trigger:(W="click",console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),(D={})["node:"+W]="onNodeClick",D.touchstart="onNodeClick",D},onNodeClick:function(D){var W=D.item;if(W){var P=this.graph.findDataById(W.get("id"));if(P){var m=P.children;if(m&&m.length!==0){var y=!P.collapsed;this.shouldBegin(D,y)&&(P.collapsed=y,W.getModel().collapsed=y,this.graph.emit("itemcollapsed",{item:D.item,collapsed:y}),this.shouldUpdate(D,y)&&(this.onChange(W,y),this.graph.layout()))}}}}},rt=S.a.calculationItemsBBox,Bt=function U(D,W){if(W(D)!==!1&&D){var P=D.get("combos");if(P.length===0)return!1;Object(n.f)(P,function(m){U(m,W)})}},It={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(D){var W=D.item;return!(!W||W.destroyed)&&!!this.shouldUpdate(this,D)&&W.getType()==="combo"},onDragStart:function(D){var W=this,P=this.graph,m=D.item;if(this.validationCombo(D)){this.targets=[];var y=P.findAllByState("combo",this.selectedState),V=m.get("id");y.filter(function(J){var ht=J.get("id");return V===ht}).length===0?this.targets.push(m):this.targets=y,this.activeState&&this.targets.map(function(J){var ht=J.getModel();if(ht.parentId){var gt=P.findById(ht.parentId);gt&&P.setItemState(gt,W.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:D.x,y:D.y},this.currentItemChildCombos=[],Bt(m,function(J){if(J.destroyed)return!1;var ht=J.getModel();return W.currentItemChildCombos.push(ht.id),!0})}},onDrag:function(D){var W=this;if(this.origin&&this.validationCombo(D))if(this.enableDelegate)this.updateDelegate(D);else{if(this.activeState){var P=this.graph,m=D.item,y=m.getModel(),V=P.getCombos(),J=m.getBBox(),ht=J.centerX,gt=J.centerY,Mt=J.width;V.filter(function(Lt){var At=Lt.getModel();return y.parentId,At.id!==y.id&&!W.currentItemChildCombos.includes(At.id)}).map(function(Lt){var At=Lt.getBBox(),Ct=At.centerX,Ot=At.centerY,Dt=At.width,Ft=ht-Ct,Xt=gt-Ot,Rt=2*Math.sqrt(Ft*Ft+Xt*Xt);Mt+Dt-Rt>.8*Mt?P.setItemState(Lt,W.activeState,!0):P.setItemState(Lt,W.activeState,!1)})}Object(n.f)(this.targets,function(Lt){W.updateCombo(Lt,D)})}},updatePositions:function(D){var W=this;this.enableDelegate&&Object(n.f)(this.targets,function(P){W.updateCombo(P,D)})},onDrop:function(D){var W=this,P=D.item;if(P&&this.targets&&!P.destroyed){this.updatePositions(D);var m=this.graph,y=P.getModel();this.targets.map(function(V){V.getModel().parentId!==y.id?(W.activeState&&m.setItemState(P,W.activeState,!1),W.onlyChangeComboSize?m.updateCombo(V):m.updateComboTree(V,y.id)):m.updateCombo(P)}),this.end(P,D),this.endComparison=!0}},onNodeDrop:function(D){var W=this;if(this.targets&&this.targets.length!==0){this.updatePositions(D);var P,m=this.graph,y=D.item.getModel().comboId;if(y){if(this.activeState){var V=m.findById(y);m.setItemState(V,this.activeState,!1)}this.targets.map(function(J){W.onlyChangeComboSize?m.updateCombo(J):y!==J.getID()&&(P=m.findById(y),y!==J.getModel().parentId&&m.updateComboTree(J,y))})}else this.targets.map(function(J){W.onlyChangeComboSize?m.updateCombo(J):J.getModel().comboId&&m.updateComboTree(J)});this.endComparison=!0,this.end(P,D)}},onDragEnter:function(D){if(this.origin&&this.validationCombo(D)){var W=D.item,P=this.graph;this.activeState&&P.setItemState(W,this.activeState,!0)}},onDragLeave:function(D){if(this.origin&&this.validationCombo(D)){var W=D.item,P=this.graph;this.activeState&&P.setItemState(W,this.activeState,!1)}},onDragEnd:function(D){if(this.targets&&this.targets.length!==0){var W=D.item;this.updatePositions(D);var P=this.getParentCombo(W.getModel().parentId),m=this.graph;P&&this.activeState&&m.setItemState(P,this.activeState,!1),this.end(void 0,D)}},end:function(D,W){var P=this;if(this.origin){var m=this.graph;this.delegateShape&&(m.get("delegateGroup").clear(),this.delegateShape=null),D&&this.activeState&&m.setItemState(D,this.activeState,!1),D||this.targets.map(function(y){P.onlyChangeComboSize?m.updateCombo(y):m.updateComboTree(y)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(D,W){var P=this;if(W(D)!==!1&&D){var m=D.get("combos");Object(n.f)(m,function(V){P.traverse(V,W)});var y=D.get("nodes");Object(n.f)(y,function(V){P.traverse(V,W)})}},updateCombo:function(D,W){var P=this;this.traverse(D,function(m){return!m.destroyed&&(P.updateSignleItem(m,W),!0)})},updateSignleItem:function(D,W){var P=this.origin,m=this.graph,y=D.getModel(),V=D.get("id");this.point[V]||(this.point[V]={x:y.x,y:y.y});var J=W.x-P.x+this.point[V].x,ht=W.y-P.y+this.point[V].y;m.updateItem(D,{x:J,y:ht})},getParentCombo:function(D){var W=this.graph;if(D){var P=W.findById(D);if(P)return P}},updateDelegate:function(D){var W=this.graph;if(this.delegateShape){var P=D.x-this.origin.x+this.originPoint.minX,m=D.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:P,y:m})}else{var y=W.get("delegateGroup"),V=null,J=(V=this.targets.length>1?rt(this.targets):this.targets[0].getBBox()).x,ht=V.y,gt=V.width,Mt=V.height,Lt=V.minX,At=V.minY;this.originPoint={x:J,y:ht,width:gt,height:Mt,minX:Lt,minY:At};var Ct=Object(s.a)(Object(s.a)({},u.a.delegateStyle),this.delegateStyle);this.delegateShape=y.addShape("rect",{attrs:Object(s.a)({width:V.width,height:V.height,x:V.x,y:V.y},Ct),name:"combo-delegate-shape"}),this.delegate=this.delegateShape}}},St=["click","dblclick"],H={getDefaultCfg:function(){return{trigger:"dblclick",relayout:!0}},getEvents:function(){var D,W;return St.includes(this.trigger)?W=this.trigger:(W="dblclick",console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),(D={})["combo:"+W]="onComboClick",D},onComboClick:function(D){var W=D.item,P=this.graph,m=this.relayout;if(W&&!W.destroyed&&W.getType()==="combo"){var y=W.getModel().id;y&&(P.collapseExpandCombo(y),m&&P.get("layout")?P.layout():P.refreshPositions())}}},ot=S.a.isPolygonsIntersect,yt=S.a.pathToPoints,xt=["drag","shift","ctrl","alt","control"],wt=["click","drag"],Q=["shift","ctrl","control","alt","meta",void 0],ct=["shift","ctrl","alt","control"],it={"drag-canvas":o,"zoom-canvas":et,"drag-node":v,"activate-relations":{getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","canvas:click":"clearAllItemStates"}},setAllItemStates:function(D){var W=D.item,P=this.graph;if(this.item=W,this.shouldUpdate(D.item,{event:D,action:"activate"})){for(var m=this.activeState,y=this.inactiveState,V=P.getNodes(),J=P.getEdges(),ht=V.length,gt=J.length,Mt=0;Mt<ht;Mt++){var Lt=V[Mt],At=Lt.hasState("selected");this.resetSelected&&At&&P.setItemState(Lt,"selected",!1),P.setItemState(Lt,m,!1),y&&P.setItemState(Lt,y,!0)}for(Mt=0;Mt<gt;Mt++){var Ct=J[Mt];P.setItemState(Ct,m,!1),y&&P.setItemState(Ct,y,!0)}y&&P.setItemState(W,y,!1),P.setItemState(W,m,!0);var Ot=W.getEdges(),Dt=Ot.length;for(Mt=0;Mt<Dt;Mt++){var Ft=void 0;Ft=(Ct=Ot[Mt]).getSource()===W?Ct.getTarget():Ct.getSource(),y&&P.setItemState(Ft,y,!1),P.setItemState(Ft,m,!0),P.setItemState(Ct,y,!1),P.setItemState(Ct,m,!0),Ct.toFront()}P.emit("afteractivaterelations",{item:D.item,action:"activate"})}},clearActiveState:function(D){var W=this.get("graph");if(this.shouldUpdate(D.item,{event:D,action:"deactivate"})){var P=this.activeState,m=this.inactiveState,y=W.get("autoPaint");W.setAutoPaint(!1);for(var V=W.getNodes(),J=W.getEdges(),ht=V.length,gt=J.length,Mt=0;Mt<ht;Mt++){var Lt=V[Mt];W.clearItemStates(Lt,[P,m])}for(Mt=0;Mt<gt;Mt++){var At=J[Mt];W.clearItemStates(At,[P,m,"deactivate"])}W.paint(),W.setAutoPaint(y),W.emit("afteractivaterelations",{item:D.item||this.get("item"),action:"deactivate"})}},clearAllItemStates:function(D){var W=this.graph;if(this.shouldUpdate(D.item,{event:D,action:"deactivate"})){for(var P=this.activeState,m=this.inactiveState,y=W.getNodes(),V=W.getEdges(),J=y.length,ht=V.length,gt=0;gt<J;gt++){var Mt=y[gt];W.clearItemStates(Mt,[P,m])}for(gt=0;gt<ht;gt++){var Lt=V[gt];W.clearItemStates(Lt,[P,m,"deactivate"])}W.emit("afteractivaterelations",{item:D.item||this.get("item"),action:"deactivate"})}}},"brush-select":x,"click-select":k,"lasso-select":{getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return xt.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="shift",console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(D){var W=this.lasso;D.item||(this.trigger==="drag"||this.keydown)&&(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),W||(W=this.createLasso()),this.dragging=!0,this.originPoint={x:D.x,y:D.y},this.points.push(this.originPoint),W.show())},onDragMove:function(D){this.dragging&&(this.trigger==="drag"||this.keydown)&&(this.points.push({x:D.x,y:D.y}),this.updateLasso(D))},onDragEnd:function(D){(this.lasso||this.dragging)&&(this.trigger==="drag"||this.keydown)&&(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var D=this.points,W=[];return D.length&&(D.forEach(function(P,m){m===0?W.push(["M",P.x,P.y]):W.push(["L",P.x,P.y])}),W.push(["L",D[0].x,D[0].y])),W},clearStates:function(){var D=this.graph,W=this.selectedState,P=D.findAllByState("node",W),m=D.findAllByState("edge",W);P.forEach(function(y){return D.setItemState(y,W,!1)}),m.forEach(function(y){return D.setItemState(y,W,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],D.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var D=this,W=this.graph,P=this.shouldUpdate,m=this.points.map(function(gt){return[W.getCanvasByPoint(gt.x,gt.y).x,W.getCanvasByPoint(gt.x,gt.y).y]}),y=this.selectedState,V=[],J=[];W.getNodes().forEach(function(gt){if(function(Lt,At){var Ct,Ot=Lt.getKeyShape();if(Lt.get("type")==="path")Ct=yt(Ot.attr("path"));else{var Dt=Ot.getCanvasBBox();Ct=[[Dt.minX,Dt.minY],[Dt.maxX,Dt.minY],[Dt.maxX,Dt.maxY],[Dt.minX,Dt.maxY]]}return ot(At,Ct)}(gt,m)&&P(gt,"select")){V.push(gt);var Mt=gt.getModel();J.push(Mt.id),W.setItemState(gt,y,!0)}});var ht=[];this.includeEdges&&V.forEach(function(gt){gt.getOutEdges().forEach(function(Mt){var Lt=Mt.getModel(),At=Lt.source,Ct=Lt.target;J.includes(At)&&J.includes(Ct)&&P(Mt,"select")&&(ht.push(Mt),W.setItemState(Mt,D.selectedState,!0))})}),this.selectedEdges=ht,this.selectedNodes=V,this.onSelect&&this.onSelect(V,ht),W.emit("nodeselectchange",{selectedItems:{nodes:V,edges:ht},select:!0})},createLasso:function(){var D=this.graph.get("delegateGroup").addShape("path",{attrs:Object(s.a)({path:[]},this.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=D,this.delegate=D,this.points=[],D},updateLasso:function(D){this.lasso.attr({path:this.getLassoPath()})},onKeyDown:function(D){var W=D.key;W&&(W.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},tooltip:st,"edge-tooltip":vt,"collapse-expand":pt,"drag-combo":It,"collapse-expand-combo":H,"create-edge":{getDefaultCfg:function(){return{trigger:"click",key:void 0,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var D;return wt.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="click",console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),this.key&&Q.indexOf(this.key.toLowerCase())===-1&&(this.trigger=void 0,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined")),this.trigger==="drag"?D={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:this.trigger==="click"&&(D={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),this.key&&(D.keydown="onKeyDown",D.keyup="onKeyUp"),D},onDragEnd:function(D){if(!this.key||this.keydown){var W=D.item;W&&W.getID()!==this.source&&W.getType()==="node"||this.cancelCreating({item:this.edge,x:D.x,y:D.y})}},onClick:function(D){if(!this.key||this.keydown){var W=D.item,P=this.graph,m=W.getModel(),y=this.getEdgeConfig;if(this.addingEdge&&this.edge){if(!this.shouldEnd.call(this,D))return;var V=void 0;V=y&&Object(n.r)(y)?y({source:this.source,target:m.id}):this.edgeConfig;var J=Object(s.a)({target:m.id},V);this.source===m.id&&(J.type="loop"),P.emit("beforecreateedge",{}),P.updateItem(this.edge,J),P.emit("aftercreateedge",{edge:this.edge}),this.edge.getKeyShape().set("capture",!0),this.edge=null,this.addingEdge=!1}else{if(!this.shouldBegin.call(this,D))return;V=void 0,V=y&&Object(n.r)(y)?y({source:m.id,target:m.id}):this.edgeConfig,this.edge=P.addItem("edge",Object(s.a)({source:m.id,target:m.id},V),!1),this.source=m.id,this.addingEdge=!0,this.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(D){if(!this.key||this.keydown){var W={x:D.x,y:D.y};this.graph.findById(this.source)?this.addingEdge&&this.edge&&this.graph.updateItem(this.edge,{target:W},!1):this.addingEdge=!1}},cancelCreating:function(D){if(!this.key||this.keydown){var W=this.graph,P=D.item;if(this.addingEdge&&D.target&&D.target.isCanvas&&D.target.isCanvas())return W.removeItem(this.edge,!1),this.edge=null,void(this.addingEdge=!1);this.addingEdge&&this.edge===P&&(W.removeItem(this.edge,!1),this.edge=null,this.addingEdge=!1)}},onKeyDown:function(D){var W=D.key;W&&(W.toLowerCase()===this.key.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.addingEdge&&this.edge&&(this.graph.removeItem(this.edge,!1),this.addingEdge=!1,this.edge=null),this.keydown=!1}},"shortcuts-call":{getDefaultCfg:function(){return{trigger:"ctrl",combinedKey:"1",functionName:"fitView",functionParams:[]}},getEvents:function(){return ct.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="ctrl",console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '"+this.trigger+"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(D){var W=D.key;if(W){var P=this.trigger.toLowerCase(),m=W.toLowerCase();this.triggerKeydown||(this.triggerKeydown=m===P||m==="control"&&P==="ctrl"||m==="ctrl"&&P==="control");var y=this.graph;if(!y[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '"+this.functionName+"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D"),{};if(!this.triggerKeydown||this.combinedKey){var V=this.combinedKey.toLowerCase();this.triggerKeydown&&(m===V||m==="control"&&V==="ctrl"||m==="ctrl"&&V==="control")&&(this.functionParams&&this.functionParams.length?y[this.functionName].apply(y,this.functionParams):y[this.functionName]())}else this.functionParams&&this.functionParams.length?y[this.functionName].apply(y,this.functionParams):y[this.functionName]()}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}}};Object(n.f)(it,function(U,D){Object(d.o)(D,U)})},function(a,M,t){"use strict";var n=t(1),d=t(5),S=t(0);function b(St){return(b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H})(St)}Object(d.r)("circle",{options:{size:d.e.defaultNode.size,style:{x:0,y:0,stroke:d.e.defaultNode.style.stroke,fill:d.e.defaultNode.style.fill,lineWidth:d.e.defaultNode.style.lineWidth},labelCfg:{style:{fill:d.e.nodeLabel.style.fill,fontSize:d.e.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:d.e.defaultNode.linkPoints.size,lineWidth:d.e.defaultNode.linkPoints.lineWidth,fill:d.e.defaultNode.linkPoints.fill,stroke:d.e.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(n.a)({},d.e.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(H,ot){var yt=this.getOptions(H).icon,xt=yt===void 0?{}:yt,wt=this.getShapeStyle(H),Q=Object(S.e)({},xt,H.icon),ct=ot.addShape("circle",{attrs:wt,className:this.type+"-keyShape",draggable:!0}),it=Q.width,U=Q.height;return Q.show&&ot.addShape("image",{attrs:Object(n.a)({x:-it/2,y:-U/2},Q),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(H,ot),ct},drawLinkPoints:function(H,ot){var yt=this.getOptions(H).linkPoints,xt=yt===void 0?{}:yt,wt=xt.top,Q=xt.left,ct=xt.right,it=xt.bottom,U=xt.size,D=xt.r,W=Object(n.c)(xt,["top","left","right","bottom","size","r"]),P=this.getSize(H)[0]/2;Q&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},W),{x:-P,y:0,r:U/2||D||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),ct&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},W),{x:P,y:0,r:U/2||D||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),wt&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},W),{x:0,y:-P,r:U/2||D||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),it&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},W),{x:0,y:P,r:U/2||D||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(H){var ot=this.getOptions(H).style,yt={stroke:H.color},xt=Object(S.e)({},ot,yt),wt=this.getSize(H)[0]/2;return Object(n.a)({x:0,y:0,r:wt},xt)},update:function(H,ot){var yt=ot.getContainer(),xt=this.getSize(H),wt={stroke:H.color,r:xt[0]/2},Q=ot.get("keyShape"),ct=Object(S.e)({},Q.attr(),wt,H.style);this.updateShape(H,ot,ct,!0),this.updateLinkPoints(H,yt)}},"single-node"),Object(d.r)("rect",{options:{size:[100,30],style:{radius:0,stroke:d.e.defaultNode.style.stroke,fill:d.e.defaultNode.style.fill,lineWidth:d.e.defaultNode.style.lineWidth},labelCfg:{style:{fill:d.e.nodeLabel.style.fill,fontSize:d.e.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:d.e.defaultNode.linkPoints.size,lineWidth:d.e.defaultNode.linkPoints.lineWidth,fill:d.e.defaultNode.linkPoints.fill,stroke:d.e.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(n.a)({},d.e.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(H,ot){var yt=this.getShapeStyle(H),xt=ot.addShape("rect",{attrs:yt,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawLinkPoints(H,ot),xt},drawLinkPoints:function(H,ot){var yt=this.getOptions(H).linkPoints,xt=yt===void 0?{}:yt,wt=xt.top,Q=xt.left,ct=xt.right,it=xt.bottom,U=xt.size,D=xt.r,W=Object(n.c)(xt,["top","left","right","bottom","size","r"]),P=this.getSize(H),m=P[0],y=P[1];Q&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},W),{x:-m/2,y:0,r:U/2||D||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),ct&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},W),{x:m/2,y:0,r:U/2||D||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),wt&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},W),{x:0,y:-y/2,r:U/2||D||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),it&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},W),{x:0,y:y/2,r:U/2||D||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(H){var ot=this.getOptions(H).style,yt={stroke:H.color},xt=Object(S.A)({},ot,yt),wt=this.getSize(H),Q=xt.width||wt[0],ct=xt.height||wt[1];return Object(n.a)({x:-Q/2,y:-ct/2,width:Q,height:ct},xt)},update:function(H,ot){var yt=ot.getContainer(),xt=this.getOptions({}).style,wt=this.getSize(H),Q=ot.get("keyShape");H.size||(wt[0]=Q.attr("width")||xt.width,wt[1]=Q.attr("height")||xt.height);var ct={stroke:H.color,x:-wt[0]/2,y:-wt[1]/2,width:wt[0],height:wt[1]},it=Object(S.A)({},xt,Q.attr(),ct);it=Object(S.A)(it,H.style),this.updateShape(H,ot,it,!1),this.updateLinkPoints(H,yt)}},"single-node"),Object(d.r)("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:d.e.defaultNode.style.stroke,fill:d.e.defaultNode.style.fill,lineWidth:d.e.defaultNode.style.lineWidth},labelCfg:{style:{fill:d.e.nodeLabel.style.fill,fontSize:d.e.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:d.e.defaultNode.linkPoints.size,lineWidth:d.e.defaultNode.linkPoints.lineWidth,fill:d.e.defaultNode.linkPoints.fill,stroke:d.e.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(n.a)({},d.e.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(H,ot){var yt=this.getOptions(H).icon,xt=yt===void 0?{}:yt,wt=this.getShapeStyle(H),Q=ot.addShape("ellipse",{attrs:wt,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),ct=xt.width,it=xt.height;return xt.show&&ot.addShape("image",{attrs:Object(n.a)({x:-ct/2,y:-it/2},xt),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(H,ot),Q},drawLinkPoints:function(H,ot){var yt=this.getOptions(H).linkPoints,xt=yt===void 0?{}:yt,wt=xt.top,Q=xt.left,ct=xt.right,it=xt.bottom,U=xt.size,D=xt.r,W=Object(n.c)(xt,["top","left","right","bottom","size","r"]),P=this.getSize(H),m=P[0]/2,y=P[1]/2;Q&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},W),{x:-m,y:0,r:U/2||D||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),ct&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},W),{x:m,y:0,r:U/2||D||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),wt&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},W),{x:0,y:-y,r:U/2||D||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),it&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},W),{x:0,y,r:U/2||D||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(H){var ot=this.getOptions(H).style,yt={stroke:H.color},xt=Object(S.A)({},ot,yt),wt=this.getSize(H),Q=wt[0]/2,ct=wt[1]/2;return Object(n.a)({x:0,y:0,rx:Q,ry:ct},xt)},update:function(H,ot){var yt=ot.getContainer(),xt=this.getOptions({}).style,wt=this.getSize(H),Q={stroke:H.color,rx:wt[0]/2,ry:wt[1]/2},ct=ot.get("keyShape"),it=Object(S.A)({},xt,ct.attr(),Q);it=Object(S.A)(it,H.style),this.updateShape(H,ot,it,!0),this.updateLinkPoints(H,yt)}},"single-node"),Object(d.r)("diamond",{options:{size:[80,80],style:{stroke:d.e.defaultNode.style.stroke,fill:d.e.defaultNode.style.fill,lineWidth:d.e.defaultNode.style.lineWidth},labelCfg:{style:{fill:d.e.nodeLabel.style.fill,fontSize:d.e.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:d.e.defaultNode.linkPoints.size,lineWidth:d.e.defaultNode.linkPoints.lineWidth,fill:d.e.defaultNode.linkPoints.fill,stroke:d.e.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(n.a)({},d.e.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(H,ot){var yt=this.getOptions(H).icon,xt=yt===void 0?{}:yt,wt=this.getShapeStyle(H),Q=ot.addShape("path",{attrs:wt,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),ct=xt.width,it=xt.height;return xt.show&&ot.addShape("image",{attrs:Object(n.a)({x:-ct/2,y:-it/2},xt),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(H,ot),Q},drawLinkPoints:function(H,ot){var yt=this.getOptions(H).linkPoints,xt=yt===void 0?{}:yt,wt=xt.top,Q=xt.left,ct=xt.right,it=xt.bottom,U=xt.size,D=xt.r,W=Object(n.c)(xt,["top","left","right","bottom","size","r"]),P=this.getSize(H),m=P[0],y=P[1];Q&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},W),{x:-m/2,y:0,r:U/2||D||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),ct&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},W),{x:m/2,y:0,r:U/2||D||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),wt&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},W),{x:0,y:-y/2,r:U/2||D||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),it&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},W),{x:0,y:y/2,r:U/2||D||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getPath:function(H){var ot=this.getSize(H),yt=ot[0],xt=ot[1];return[["M",0,-xt/2],["L",yt/2,0],["L",0,xt/2],["L",-yt/2,0],["Z"]]},getShapeStyle:function(H){var ot=this.getOptions(H).style,yt={stroke:H.color},xt=Object(S.A)({},ot,yt),wt=this.getPath(H);return Object(n.a)({path:wt},xt)},update:function(H,ot){var yt=ot.getContainer(),xt=this.getOptions({}).style,wt=this.getPath(H),Q={stroke:H.color,path:wt},ct=ot.get("keyShape"),it=Object(S.A)({},xt,ct.attr(),Q);it=Object(S.A)(it,H.style),this.updateShape(H,ot,it,!0),this.updateLinkPoints(H,yt)}},"single-node"),Object(d.r)("triangle",{options:{size:40,direction:"up",style:{stroke:d.e.defaultNode.style.stroke,fill:d.e.defaultNode.style.fill,lineWidth:d.e.defaultNode.style.lineWidth},labelCfg:{style:{fill:d.e.nodeLabel.style.fill,fontSize:d.e.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:d.e.defaultNode.linkPoints.size,lineWidth:d.e.defaultNode.linkPoints.lineWidth,fill:d.e.defaultNode.linkPoints.fill,stroke:d.e.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:Object(n.a)({},d.e.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(H,ot){var yt=this.getOptions(H),xt=yt.icon,wt=xt===void 0?{}:xt,Q=yt.direction,ct=this.getShapeStyle(H),it=H.direction||Q,U=ot.addShape("path",{attrs:ct,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),D=wt.width,W=wt.height,P=wt.show,m=wt.offset;if(P){var y=-D/2,V=-W/2;it!=="up"&&it!=="down"||(V+=m),it!=="left"&&it!=="right"||(y+=m),ot.addShape("image",{attrs:Object(n.a)({x:y,y:V},wt),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})}return this.drawLinkPoints(H,ot),U},drawLinkPoints:function(H,ot){var yt=this.getOptions(H),xt=yt.linkPoints,wt=xt===void 0?{}:xt,Q=yt.direction,ct=H.direction||Q,it=wt.top,U=wt.left,D=wt.right,W=wt.bottom,P=wt.size,m=wt.r,y=Object(n.c)(wt,["top","left","right","bottom","size","r"]),V=this.getSize(H)[0];if(U){var J=null,ht=V*Math.sin(1/3*Math.PI),gt=V*Math.sin(1/3*Math.PI);ct==="up"?J=[-gt,ht]:ct==="down"?J=[-gt,-ht]:ct==="left"&&(J=[-gt,gt-ht]),J&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},y),{x:J[0],y:J[1],r:P/2||m||5}),className:"link-point-left",name:"link-point-left"})}if(D){var Mt=null;ht=V*Math.sin(1/3*Math.PI),gt=V*Math.sin(1/3*Math.PI),ct==="up"?Mt=[gt,ht]:ct==="down"?Mt=[gt,-ht]:ct==="right"&&(Mt=[gt,gt-ht]),Mt&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},y),{x:Mt[0],y:Mt[1],r:P/2||m||5}),className:"link-point-right",name:"link-point-right"})}if(it){var Lt=null;ht=V*Math.sin(1/3*Math.PI),gt=V*Math.sin(1/3*Math.PI),ct==="up"?Lt=[gt-ht,-ht]:ct==="left"?Lt=[gt,-ht]:ct==="right"&&(Lt=[-gt,-ht]),Lt&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},y),{x:Lt[0],y:Lt[1],r:P/2||m||5}),className:"link-point-top",name:"link-point-top"})}if(W){var At=null;ht=V*Math.sin(1/3*Math.PI),gt=V*Math.sin(1/3*Math.PI),ct==="down"?At=[-gt+ht,ht]:ct==="left"?At=[gt,ht]:ct==="right"&&(At=[-gt,ht]),At&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},y),{x:At[0],y:At[1],r:P/2||m||5}),className:"link-point-bottom",name:"link-point-bottom"})}},getPath:function(H){var ot=this.getOptions(H).direction,yt=H.direction||ot,xt=this.getSize(H)[0],wt=xt*Math.sin(1/3*Math.PI),Q=xt*Math.sin(1/3*Math.PI),ct=[["M",-Q,wt],["L",0,-wt],["L",Q,wt],["Z"]];return yt==="down"?ct=[["M",-Q,-wt],["L",Q,-wt],["L",0,wt],["Z"]]:yt==="left"?ct=[["M",-Q,Q-wt],["L",Q,-Q],["L",Q,Q],["Z"]]:yt==="right"&&(ct=[["M",Q,Q-wt],["L",-Q,Q],["L",-Q,-Q],["Z"]]),ct},getShapeStyle:function(H){var ot=this.getOptions(H).style,yt={stroke:H.color},xt=Object(S.A)({},ot,yt),wt=this.getPath(H);return Object(n.a)({path:wt},xt)},update:function(H,ot){var yt=ot.getContainer(),xt=this.getOptions({}).style,wt=this.getPath(H),Q={stroke:H.color,path:wt},ct=ot.get("keyShape"),it=Object(S.A)({},xt,ct.attr(),Q);it=Object(S.A)(it,H.style),this.updateShape(H,ot,it,!0),this.updateLinkPoints(H,yt)},updateLinkPoints:function(H,ot){var yt=this.getOptions({}),xt=yt.linkPoints,wt=yt.direction,Q=H.direction||wt,ct=ot.find(function(Me){return Me.get("className")==="link-point-left"}),it=ot.find(function(Me){return Me.get("className")==="link-point-right"}),U=ot.find(function(Me){return Me.get("className")==="link-point-top"}),D=ot.find(function(Me){return Me.get("className")==="link-point-bottom"}),W=xt,P=ct||it||U||D;P&&(W=P.attr());var m=Object(S.A)({},W,H.linkPoints),y=m.fill,V=m.stroke,J=m.lineWidth,ht=m.size/2;ht||(ht=m.r);var gt=H.linkPoints?H.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},Mt=gt.left,Lt=gt.right,At=gt.top,Ct=gt.bottom,Ot=this.getSize(H)[0],Dt={r:ht,fill:y,stroke:V,lineWidth:J},Ft=null,Xt=Ot*Math.sin(1/3*Math.PI),Rt=Ot*Math.sin(1/3*Math.PI);Q==="up"?Ft=[-Rt,Xt]:Q==="down"?Ft=[-Rt,-Xt]:Q==="left"&&(Ft=[-Rt,Rt-Xt]),Ft&&(ct?Mt||Mt===void 0?ct.attr(Object(n.a)(Object(n.a)({},Dt),{x:Ft[0],y:Ft[1]})):ct.remove():Mt&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Dt),{x:Ft[0],y:Ft[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}));var Kt=null;Q==="up"?Kt=[Rt,Xt]:Q==="down"?Kt=[Rt,-Xt]:Q==="right"&&(Kt=[Rt,Rt-Xt]),Kt&&(it?Lt||Lt===void 0?it.attr(Object(n.a)(Object(n.a)({},Dt),{x:Kt[0],y:Kt[1]})):it.remove():Lt&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Dt),{x:Kt[0],y:Kt[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}));var $t=null;Q==="up"?$t=[Rt-Xt,-Xt]:Q==="left"?$t=[Rt,-Xt]:Q==="right"&&($t=[-Rt,-Xt]),$t&&(U?At||At===void 0?U.attr(Object(n.a)(Object(n.a)({},Dt),{x:$t[0],y:$t[1]})):U.remove():At&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Dt),{x:$t[0],y:$t[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}));var le=null;Q==="down"?le=[-Rt+Xt,Xt]:Q==="left"?le=[Rt,Xt]:Q==="right"&&(le=[-Rt,Xt]),le&&(D?Ct||Ct===void 0?D.attr(Object(n.a)(Object(n.a)({},Dt),{x:le[0],y:le[1]})):D.remove():Ct&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Dt),{x:le[0],y:le[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))}},"single-node"),Object(d.r)("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:d.e.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf"},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(H,ot){var yt=this.getOptions(H).preRect,xt=yt===void 0?{}:yt,wt=this.getShapeStyle(H),Q=this.getSize(H),ct=Q[0],it=Q[1],U=ot.addShape("rect",{attrs:wt,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),D=xt.show,W=Object(n.c)(xt,["show"]);return D&&ot.addShape("rect",{attrs:Object(n.a)({x:-ct/2,y:-it/2,height:it},W),className:"pre-rect",name:"pre-rect",draggable:!0}),this.drawLogoIcon(H,ot),this.drawStateIcon(H,ot),this.drawLinkPoints(H,ot),U},drawLogoIcon:function(H,ot){var yt=this.getOptions(H).logoIcon,xt=yt===void 0?{}:yt,wt=this.getSize(H)[0];if(xt.show){var Q=xt.width,ct=xt.height,it=xt.x,U=xt.y,D=xt.offset,W=Object(n.c)(xt,["width","height","x","y","offset"]);ot.addShape("image",{attrs:Object(n.a)(Object(n.a)({},W),{x:it||-wt/2+Q+D,y:U||-ct/2,width:Q,height:ct}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(H,ot){var yt=this.getOptions(H).stateIcon,xt=yt===void 0?{}:yt,wt=this.getSize(H)[0];if(xt.show){var Q=xt.width,ct=xt.height,it=xt.x,U=xt.y,D=xt.offset,W=Object(n.c)(xt,["width","height","x","y","offset"]);ot.addShape("image",{attrs:Object(n.a)(Object(n.a)({},W),{x:it||wt/2-Q+D,y:U||-ct/2,width:Q,height:ct}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(H,ot){var yt=this.getOptions(H).linkPoints,xt=yt===void 0?{}:yt,wt=xt.top,Q=xt.left,ct=xt.right,it=xt.bottom,U=xt.size,D=xt.r,W=Object(n.c)(xt,["top","left","right","bottom","size","r"]),P=this.getSize(H),m=P[0],y=P[1];Q&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},W),{x:-m/2,y:0,r:U/2||D||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),ct&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},W),{x:m/2,y:0,r:U/2||D||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),wt&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},W),{x:0,y:-y/2,r:U/2||D||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),it&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},W),{x:0,y:y/2,r:U/2||D||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},drawLabel:function(H,ot){var yt=this.getOptions(H),xt=yt.labelCfg,wt=xt===void 0?{}:xt,Q=yt.logoIcon,ct=Q===void 0?{}:Q,it=yt.descriptionCfg,U=it===void 0?{}:it,D=this.getSize(H)[0],W=null,P=ct.show,m=ct.width,y=-D/2+wt.offset;P&&(y=-D/2+m+wt.offset);var V=wt.style,J=U.style,ht=U.paddingTop;return Object(S.x)(H.description)?(W=ot.addShape("text",{attrs:Object(n.a)(Object(n.a)({},V),{x:y,y:-5,text:H.label}),className:"text-shape",name:"text-shape",draggable:!0}),ot.addShape("text",{attrs:Object(n.a)(Object(n.a)({},J),{x:y,y:17+(ht||0),text:H.description}),className:"rect-description",name:"rect-description",draggable:!0})):W=ot.addShape("text",{attrs:Object(n.a)(Object(n.a)({},V),{x:y,y:7,text:H.label}),className:"text-shape",name:"text-shape",draggable:!0}),W},getShapeStyle:function(H){var ot=this.getOptions(H).style,yt={stroke:H.color},xt=Object(S.A)({},ot,yt),wt=this.getSize(H),Q=xt.width||wt[0],ct=xt.height||wt[1];return Object(n.a)({x:-Q/2,y:-ct/2,width:Q,height:ct},xt)},update:function(H,ot){var yt=this.getOptions(H),xt=yt.style,wt=xt===void 0?{}:xt,Q=yt.labelCfg,ct=Q===void 0?{}:Q,it=yt.descriptionCfg,U=it===void 0?{}:it,D=this.getSize(H),W=D[0],P=D[1];ot.get("keyShape").attr(Object(n.a)(Object(n.a)({},wt),{x:-W/2,y:-P/2,width:W,height:P}));var m=ot.getContainer(),y=m.find(function(_n){return _n.get("className")==="rect-logo-icon"}),V=y?y.attr():{},J=Object(S.A)({},V,H.logoIcon),ht=J.width;ht===void 0&&(ht=this.options.logoIcon.width);var gt=H.logoIcon?H.logoIcon.show:void 0,Mt=ct.offset,Lt=-W/2+ht+Mt;gt||gt===void 0||(Lt=-W/2+Mt);var At=m.find(function(_n){return _n.get("className")==="node-label"}),Ct=m.find(function(_n){return _n.get("className")==="rect-description"});if(H.label)if(At){var Ot=H.labelCfg?H.labelCfg.style:{},Dt=Object(S.A)({},At.attr(),Ot);H.label&&(Dt.text=H.label),Dt.x=Lt,Object(S.x)(H.description)&&(Dt.y=-5),Ct&&(Ct.resetMatrix(),Ct.attr({x:Lt})),At.resetMatrix(),At.attr(Dt)}else m.addShape("text",{attrs:Object(n.a)(Object(n.a)({},ct.style),{x:Lt,y:H.description?-5:7,text:H.label}),className:"node-label",name:"node-label",draggable:!0});if(Object(S.x)(H.description)){var Ft=U.paddingTop;if(Ct){Ot=H.descriptionCfg?H.descriptionCfg.style:{};var Xt=Object(S.A)({},Ct.attr(),Ot);Object(S.x)(H.description)&&(Xt.text=H.description),Xt.x=Lt,Ct.resetMatrix(),Ct.attr(Object(n.a)(Object(n.a)({},Xt),{y:17+(Ft||0)}))}else m.addShape("text",{attrs:Object(n.a)(Object(n.a)({},U.style),{x:Lt,y:17+(Ft||0),text:H.description}),className:"rect-description",name:"rect-description",draggable:!0})}var Rt=m.find(function(_n){return _n.get("className")==="pre-rect"});if(Rt){var Kt=Object(S.A)({},Rt.attr(),H.preRect);Rt.attr(Object(n.a)(Object(n.a)({},Kt),{x:-W/2,y:-P/2,height:P}))}if(y)if(gt||gt===void 0){var $t=J.width,le=J.height,Me=J.x,on=J.y,hn=J.offset,Cn=Object(n.c)(J,["width","height","x","y","offset"]);y.attr(Object(n.a)(Object(n.a)({},Cn),{x:Me||-W/2+$t+hn,y:on||-le/2,width:$t,height:le}))}else y.remove();else gt&&this.drawLogoIcon(H,m);var He=m.find(function(_n){return _n.get("className")==="rect-state-icon"}),mn=He?He.attr():{},dn=Object(S.A)({},mn,H.stateIcon);if(He){dn.show||dn.show===void 0||He.remove();var Un=dn.width,Xn=(le=dn.height,Me=dn.x,on=dn.y,dn.offset),Hn=Object(n.c)(dn,["width","height","x","y","offset"]);He.attr(Object(n.a)(Object(n.a)({},Hn),{x:Me||W/2-Un+Xn,y:on||-le/2,width:Un,height:le}))}else dn.show&&this.drawStateIcon(H,m);this.updateLinkPoints(H,m)}},"single-node"),Object(d.r)("star",{options:{size:60,style:{stroke:d.e.defaultNode.style.stroke,fill:d.e.defaultNode.style.fill,lineWidth:d.e.defaultNode.style.lineWidth},labelCfg:{style:{fill:d.e.nodeLabel.style.fill,fontSize:d.e.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:d.e.defaultNode.linkPoints.size,lineWidth:d.e.defaultNode.linkPoints.lineWidth,fill:d.e.defaultNode.linkPoints.fill,stroke:d.e.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(n.a)({},d.e.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(H,ot){var yt=this.getOptions(H).icon,xt=yt===void 0?{}:yt,wt=this.getShapeStyle(H),Q=ot.addShape("path",{attrs:wt,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),ct=xt.width,it=xt.height;return xt.show&&ot.addShape("image",{attrs:Object(n.a)({x:-ct/2,y:-it/2},xt),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(H,ot),Q},drawLinkPoints:function(H,ot){var yt=this.getOptions(H).linkPoints,xt=yt===void 0?{}:yt,wt=xt.top,Q=xt.left,ct=xt.right,it=xt.leftBottom,U=xt.rightBottom,D=xt.size,W=xt.r,P=Object(n.c)(xt,["top","left","right","leftBottom","rightBottom","size","r"]),m=this.getSize(H)[0];if(ct){var y=Math.cos(.1*Math.PI)*m,V=Math.sin(.1*Math.PI)*m;ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},P),{x:y,y:-V,r:D/2||W||5}),className:"link-point-right",name:"link-point-right"})}wt&&(y=Math.cos(.5*Math.PI)*m,V=Math.sin(.5*Math.PI)*m,ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},P),{x:y,y:-V,r:D/2||W||5}),className:"link-point-top",name:"link-point-top"})),Q&&(y=Math.cos(.9*Math.PI)*m,V=Math.sin(.9*Math.PI)*m,ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},P),{x:y,y:-V,r:D/2||W||5}),className:"link-point-left",name:"link-point-left"})),it&&(y=Math.cos(1.3*Math.PI)*m,V=Math.sin(1.3*Math.PI)*m,ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},P),{x:y,y:-V,r:D/2||W||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})),U&&(y=Math.cos(1.7*Math.PI)*m,V=Math.sin(1.7*Math.PI)*m,ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},P),{x:y,y:-V,r:D/2||W||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"}))},getPath:function(H){for(var ot=this.getSize(H)[0],yt=3*ot/8,xt=H.innerR||yt,wt=[],Q=0;Q<5;Q++){var ct=Math.cos((18+72*Q)/180*Math.PI)*ot,it=Math.sin((18+72*Q)/180*Math.PI)*ot,U=Math.cos((54+72*Q)/180*Math.PI)*xt,D=Math.sin((54+72*Q)/180*Math.PI)*xt;Q===0?wt.push(["M",ct,-it]):wt.push(["L",ct,-it]),wt.push(["L",U,-D])}return wt.push(["Z"]),wt},getShapeStyle:function(H){var ot=this.getOptions(H).style,yt={stroke:H.color},xt=Object(S.A)({},ot,yt),wt=this.getPath(H);return Object(n.a)({path:wt},xt)},update:function(H,ot){var yt=ot.getContainer(),xt=this.getOptions({}).style,wt=this.getPath(H),Q={stroke:H.color,path:wt},ct=ot.get("keyShape"),it=Object(S.A)({},xt,ct.attr(),Q);it=Object(S.A)(it,H.style),this.updateShape(H,ot,it,!0),this.updateLinkPoints(H,yt)},updateLinkPoints:function(H,ot){var yt=this.getOptions({}).linkPoints,xt=ot.find(function(Xt){return Xt.get("className")==="link-point-left"}),wt=ot.find(function(Xt){return Xt.get("className")==="link-point-right"}),Q=ot.find(function(Xt){return Xt.get("className")==="link-point-top"}),ct=ot.find(function(Xt){return Xt.get("className")==="link-point-left-bottom"}),it=ot.find(function(Xt){return Xt.get("className")==="link-point-right-bottom"}),U=yt,D=xt||wt||Q||ct||it;D&&(U=D.attr());var W=Object(S.A)({},U,H.linkPoints),P=W.fill,m=W.stroke,y=W.lineWidth,V=W.size/2;V||(V=W.r);var J=H.linkPoints?H.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},ht=J.left,gt=J.right,Mt=J.top,Lt=J.leftBottom,At=J.rightBottom,Ct=this.getSize(H)[0],Ot={r:V,fill:P,stroke:m,lineWidth:y},Dt=Math.cos(.1*Math.PI)*Ct,Ft=Math.sin(.1*Math.PI)*Ct;wt?gt||gt===void 0?wt.attr(Object(n.a)(Object(n.a)({},Ot),{x:Dt,y:-Ft})):wt.remove():gt&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Ot),{x:Dt,y:-Ft}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),Dt=Math.cos(.5*Math.PI)*Ct,Ft=Math.sin(.5*Math.PI)*Ct,Q?Mt||Mt===void 0?Q.attr(Object(n.a)(Object(n.a)({},Ot),{x:Dt,y:-Ft})):Q.remove():Mt&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Ot),{x:Dt,y:-Ft}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),Dt=Math.cos(.9*Math.PI)*Ct,Ft=Math.sin(.9*Math.PI)*Ct,xt?ht||ht===void 0?xt.attr(Object(n.a)(Object(n.a)({},Ot),{x:Dt,y:-Ft})):xt.remove():ht&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Ot),{x:Dt,y:-Ft}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),Dt=Math.cos(1.3*Math.PI)*Ct,Ft=Math.sin(1.3*Math.PI)*Ct,ct?Lt||Lt===void 0?ct.attr(Object(n.a)(Object(n.a)({},Ot),{x:Dt,y:-Ft})):ct.remove():Lt&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Ot),{x:Dt,y:-Ft}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0}),Dt=Math.cos(1.7*Math.PI)*Ct,Ft=Math.sin(1.7*Math.PI)*Ct,it?At||At===void 0?it.attr(Object(n.a)(Object(n.a)({},Ot),{x:Dt,y:-Ft})):ct.remove():At&&ot.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Ot),{x:Dt,y:-Ft}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0})}},"single-node");var h=function(H){var ot=H.x,yt=H.y;return{x:ot,y:yt,centerX:ot,centerY:yt,minX:ot,minY:yt,maxX:ot,maxY:yt,height:0,width:0}},E=function(H,ot){return 2*Math.abs(H.centerX-ot.centerX)<H.width+ot.width&&2*Math.abs(H.centerY-ot.centerY)<H.height+ot.height},T=function(H){for(var ot=[],yt={},xt=H.length,wt=0;wt<xt;wt++){var Q=H[wt];Q.id=Q.x+"|||"+Q.y,yt[Q.id]=Q,ot.push(Q)}return ot},o=function(H){return H=T(H)},s=function(H,ot){return[H,{x:H.x,y:ot.y},ot]},u=function(H,ot){return H.width===0&&H.height===0?H:{centerX:H.centerX,centerY:H.centerY,minX:H.minX-ot,minY:H.minY-ot,maxX:H.maxX+ot,maxY:H.maxY+ot,height:H.height+2*ot,width:H.width+2*ot}},v=function(H,ot,yt){var xt=function(ct,it){var U=Math.abs(ct.x-it.centerX),D=Math.abs(ct.y-it.centerY);return U===0&&D===0?0:U/it.width>D/it.height}(ot,H);if(xt===0){var wt=H.centerX,Q=H.centerY;return yt.y<ot.y?Q=H.minY:yt.x>ot.x?wt=H.maxX:yt.x<ot.x?wt=H.minX:yt.x===ot.x&&(Q=H.maxY),{x:wt,y:Q}}return xt?{x:ot.x>H.centerX?H.maxX:H.minX,y:ot.y}:{x:ot.x,y:ot.y>H.centerY?H.maxY:H.minY}},C=function(H,ot){var yt=Math.min(H.minX,ot.minX),xt=Math.min(H.minY,ot.minY),wt=Math.max(H.maxX,ot.maxX),Q=Math.max(H.maxY,ot.maxY);return{centerX:(yt+wt)/2,centerY:(xt+Q)/2,minX:yt,minY:xt,maxX:wt,maxY:Q,height:Q-xt,width:wt-yt}},O=function(H){var ot=H.minX,yt=H.minY,xt=H.maxX,wt=H.maxY;return[{x:ot,y:yt},{x:xt,y:yt},{x:xt,y:wt},{x:ot,y:wt}]},j=function(H,ot){var yt=H.x,xt=H.y;return yt<ot.minX||yt>ot.maxX||xt<ot.minY||xt>ot.maxY},p=function(H,ot){return Math.abs(H.x-ot.x)+Math.abs(H.y-ot.y)},x=function(H,ot,yt,xt,wt){return p(H,ot)+p(H,yt)+function(Q,ct){var it=0;return ct.forEach(function(U){U&&(Q.x===U.x&&(it+=-2),Q.y===U.y&&(it+=-2))}),it}(H,[ot,yt,xt,wt])},A=function(H,ot,yt,xt){var wt=yt.x-H.x,Q=yt.y-H.y,ct=xt.x-H.x,it=xt.y-H.y,U=yt.x-ot.x,D=yt.y-ot.y,W=xt.x-ot.x,P=xt.y-ot.y;return(wt*it-Q*ct)*(U*P-D*W)<=0&&(wt*D-Q*U)*(ct*P-it*W)<=0},k=function(H,ot,yt){if(yt.width===0&&yt.height===0)return!1;var xt=O(yt),wt=xt[0],Q=xt[1],ct=xt[2],it=xt[3];return A(H,ot,wt,Q)||A(H,ot,wt,it)||A(H,ot,Q,ct)||A(H,ot,ct,it)},X=function(H,ot,yt,xt,wt,Q,ct){var it=[],U=[ot],D={},W={},P={};W[ot.id]=0,P[ot.id]=x(ot,yt,ot);var m={};H.forEach(function(J){m[J.id]=J});for(var y=function(){var ht,gt,Mt,Lt,At=1/0;if(U.forEach(function(Ot){P[Ot.id]<At&&(At=P[Ot.id],ht=Ot)}),ht===yt){var Ct=[];return function Ot(Dt,Ft,Xt,Rt,Kt){Kt===void 0&&(Kt=0),Dt.unshift(Ft[Rt]),Xt[Rt]&&Xt[Rt]!==Rt&&Kt<=100&&Ot(Dt,Ft,Xt,Xt[Rt],Kt+1)}(Ct,m,D,yt.id),{value:Ct}}Mt=ht,(Lt=(gt=U).indexOf(Mt))>-1&&gt.splice(Lt,1),it.push(ht),function(Ot,Dt,Ft,Xt){var Rt=[];return Ot.forEach(function(Kt){Kt!==Dt&&(Kt.x!==Dt.x&&Kt.y!==Dt.y||k(Kt,Dt,Ft)||k(Kt,Dt,Xt)||Rt.push(Kt))}),T(Rt)}(H,ht,xt,wt).forEach(function(Ot){if(it.indexOf(Ot)===-1){U.indexOf(Ot)===-1&&U.push(Ot);var Dt=P[ht.id]+p(ht,Ot);W[Ot.id]&&Dt>=W[Ot.id]||(D[Ot.id]=ht.id,W[Ot.id]=Dt,P[Ot.id]=W[Ot.id]+x(Ot,yt,ot,Q,ct))}})};U.length;){var V=y();if(b(V)==="object")return V.value}return[ot,yt]},et=function(H,ot){var yt=[],xt=H[0];return yt.push("M"+xt.x+" "+xt.y),H.forEach(function(wt,Q){var ct=H[Q+1],it=H[Q+2];if(ct&&it)if(function(P,m,y){return!(P.x===m.x&&m.x===y.x||P.y===m.y&&m.y===y.y)}(wt,ct,it)){var U=function(P,m,y,V){var J=p(P,m),ht=p(y,m);return J<V&&(V=J),ht<V&&(V=ht),[{x:m.x-V/J*(m.x-P.x),y:m.y-V/J*(m.y-P.y)},{x:m.x-V/ht*(m.x-y.x),y:m.y-V/ht*(m.y-y.y)}]}(wt,ct,it,ot),D=U[0],W=U[1];yt.push("L"+D.x+" "+D.y),yt.push("Q"+ct.x+" "+ct.y+" "+W.x+" "+W.y),yt.push("L"+W.x+" "+W.y)}else yt.push("L"+ct.x+" "+ct.y);else ct&&yt.push("L"+ct.x+" "+ct.y)}),yt.join("")},tt=function(H,ot,yt,xt,wt){var Q,ct;if(yt&&yt.getType()?yt.getType()==="combo"?((Q=yt.getKeyShape().getCanvasBBox()||h(H)).centerX=(Q.minX+Q.maxX)/2,Q.centerY=(Q.minY+Q.maxY)/2):Q=yt.getBBox():Q=h(H),xt&&xt.getType()?xt.getType()==="combo"?((ct=xt.getKeyShape().getCanvasBBox()||h(ot)).centerX=(ct.minX+ct.maxX)/2,ct.centerY=(ct.minY+ct.maxY)/2):ct=xt&&xt.getBBox():ct=h(ot),E(Q,ct))return o(s(H,ot));var it=u(Q,wt),U=u(ct,wt);if(E(it,U))return o(s(H,ot));var D=v(it,H,ot),W=v(U,ot,H),P=function(gt){gt===void 0&&(gt=[]);var Mt=[],Lt=[];gt.forEach(function(Ft){Mt.push(Ft.x),Lt.push(Ft.y)});var At=Math.min.apply(Math,Mt),Ct=Math.max.apply(Math,Mt),Ot=Math.min.apply(Math,Lt),Dt=Math.max.apply(Math,Lt);return{centerX:(At+Ct)/2,centerY:(Ot+Dt)/2,maxX:Ct,maxY:Dt,minX:At,minY:Ot,height:Dt-Ot,width:Ct-At}}([D,W]),m=C(it,P),y=C(U,P),V=[];V=(V=V.concat(O(m))).concat(O(y));var J={x:(H.x+ot.x)/2,y:(H.y+ot.y)/2};[P,m,y].forEach(function(gt){V=V.concat(function(Mt,Lt){return function(At,Ct){return Ct<At.minX||Ct>At.maxX?[]:[{x:Ct,y:At.minY},{x:Ct,y:At.maxY}]}(Mt,Lt.x).concat(function(At,Ct){return Ct<At.minY||Ct>At.maxY?[]:[{x:At.minX,y:Ct},{x:At.maxX,y:Ct}]}(Mt,Lt.y))}(gt,J).filter(function(Mt){return j(Mt,it)&&j(Mt,U)}))}),[{x:D.x,y:W.y},{x:W.x,y:D.y}].forEach(function(gt){j(gt,it)&&j(gt,U)&&V.push(gt)}),V.unshift(D),V.push(W),V=T(V);var ht=X(V,D,W,Q,ct,H,ot);return ht.unshift(H),ht.push(ot),o(ht)};function ft(St){return(ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H})(St)}var st={offset:20,maxAllowedDirectionChange:90,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:function(H,ot){return Math.abs(H.x-ot.x)+Math.abs(H.y-ot.y)},fallbackRoute:function(H,ot,yt,xt,wt){return o(tt(H,ot,yt,xt,wt.offset))}},vt=function(H,ot){var yt=Math.floor(Math.abs(H/ot));return yt<0?0:(H<0?-1:1)*yt},mt=function(H,ot){var yt=ot.x-H.x,xt=ot.y-H.y;return yt||xt?(360+180*Math.atan2(xt,yt)/Math.PI)%360:0},pt=function(H,ot){var yt=Math.abs(H-ot);return yt>180?360-yt:yt},rt=function(H,ot,yt){for(var xt=1/0,wt=0,Q=ot.length;wt<Q;wt++){var ct=yt(H,ot[wt]);ct<xt&&(xt=ct)}return xt},Bt=function(H,ot,yt,xt,wt){var Q=[];if(!yt)return Q;var ct=wt.directions,it=wt.offset,U=yt.getBBox(),D=ot.x>U.minX&&ot.x<U.maxX&&ot.y>U.minY&&ot.y<U.maxY,W=u(U,it);for(var P in W)W[P]=vt(W[P],wt.gridSize);if(D)for(var m=0,y=ct;m<y.length;m++){var V=y[m],J=[[{x:W.minX,y:W.minY},{x:W.maxX,y:W.minY}],[{x:W.minX,y:W.minY},{x:W.minX,y:W.maxY}],[{x:W.maxX,y:W.minY},{x:W.maxX,y:W.maxY}],[{x:W.minX,y:W.maxY},{x:W.maxX,y:W.maxY}]];for(P=0;P<4;P++){var ht,gt=J[P];(ht=d.n.getLineIntersect(H,{x:H.x+V.stepX*W.width,y:H.y+V.stepY*W.height},gt[0],gt[1]))&&!k(H,ht,U)&&(ht.id=ht.x+"|||"+ht.y,Q.push(ht))}}else(ht=v(W,H,xt)).id=ht.x+"|||"+ht.y,Q.push(ht);return Q},It=function(H,ot,yt,xt,wt){var Q=Object(S.e)(st,wt);Q.obstacles=Q.obstacles||[];var ct=function(Ot,Dt,Ft){var Xt={};return Ot.forEach(function(Rt){if(Rt)for(var Kt=u(Rt.getBBox(),Ft),$t=vt(Kt.minX,Dt);$t<=vt(Kt.maxX,Dt);$t+=1)for(var le=vt(Kt.minY,Dt);le<=vt(Kt.maxY,Dt);le+=1)Xt[$t+"|||"+le]=!0}),Xt}(Q.obstacles.concat([yt,xt]),Q.gridSize,Q.offset),it={x:vt(H.x,Q.gridSize),y:vt(H.y,Q.gridSize)},U={x:vt(ot.x,Q.gridSize),y:vt(ot.y,Q.gridSize)};H.id=it.x+"|||"+it.y,ot.id=U.x+"|||"+U.y;var D=Bt(it,H,yt,U,Q),W=Bt(U,ot,xt,it,Q);D.forEach(function(Ot){delete ct[Ot.id]}),W.forEach(function(Ot){delete ct[Ot.id]});for(var P={},m={},y={},V={},J={},ht=0;ht<D.length;ht++){var gt=D[ht];P[gt.id]=gt,V[gt.id]=0,J[gt.id]=rt(gt,W,Q.distFunc)}for(var Mt=function(Dt,Ft){var Xt,Rt=mt(Dt,Ft);if(y[Dt.id]){var Kt=mt({x:parseFloat(y[Dt.id].split("|||")[0]),y:parseFloat(y[Dt.id].split("|||")[1])},Dt);Xt=pt(Kt,Rt)}else{var $t=mt(it,Dt);Xt=pt($t,Rt)}return Xt},Lt=Q.maximumLoops,At=function(){var Dt,Ft=1/0;for(var Xt in P)J[Xt]<=Ft&&(Ft=J[Xt],Dt=P[Xt]);if(!Dt)return"break";if(W.findIndex(function(hn){return hn.x===Dt.x&&hn.y===Dt.y})>-1)return{value:function(hn){var Cn=[ot],He={x:parseFloat(hn.split("|||")[0]),y:parseFloat(hn.split("|||")[1]),id:hn};for(Mt(He,U)&&Cn.unshift({x:He.x===U.x?ot.x:He.x*Q.gridSize,y:He.y===U.y?ot.y:He.y*Q.gridSize});y[hn]&&y[hn]!==hn;){var mn={x:parseFloat(hn.split("|||")[0]),y:parseFloat(hn.split("|||")[1]),id:hn},dn=y[hn],Un={x:parseFloat(dn.split("|||")[0]),y:parseFloat(dn.split("|||")[1]),id:dn};Mt(Un,mn)&&Cn.unshift({x:Un.x===mn.x?Cn[0].x:Un.x*Q.gridSize,y:Un.y===mn.y?Cn[0].y:Un.y*Q.gridSize}),hn=dn}var Xn=parseFloat(hn.split("|||")[0]),Hn=parseFloat(hn.split("|||")[1]);return Cn[0].x=Xn===it.x?H.x:Cn[0].x,Cn[0].y=Hn===it.y?H.y:Cn[0].y,Cn.unshift(H),Cn}(Dt.id)};delete P[Dt.id],m[Dt.id]=!0;for(var Rt=0;Rt<Q.directions.length;Rt++){var Kt=Q.directions[Rt],$t={x:Dt.x+Kt.stepX,y:Dt.y+Kt.stepY,id:Dt.x+Kt.stepX+"|||"+(Dt.y+Kt.stepY)};if(!m[$t.id]){var le=Mt(Dt,$t);if(!(le>Q.maxAllowedDirectionChange||ct[$t.id])){P[$t.id]||(P[$t.id]=$t);var Me=Q.distFunc(Dt,$t)+(isNaN(Q.penalties[le])?Q.gridSize:Q.penalties[le]),on=V[Dt.id]+Me;V[$t.id]&&on>=V[$t.id]||(y[$t.id]=Dt.id,V[$t.id]=on,J[$t.id]=on+rt($t,W,Q.distFunc))}}}Lt-=1};Object.keys(P).length>0&&Lt>0;){var Ct=At();if(ft(Ct)==="object")return Ct.value;if(Ct==="break")break}return Q.fallbackRoute(H,ot,yt,xt,Q)};Object(d.q)("polyline",{options:{color:d.e.defaultEdge.color,size:d.e.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:d.e.defaultEdge.style.stroke,lineAppendWidth:d.e.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:d.e.edgeLabel.style.fill,fontSize:d.e.edgeLabel.style.fontSize}},routeCfg:{obstacles:[],maxAllowedDirectionChange:90,maximumLoops:500,gridSize:10},stateStyles:Object(n.a)({},d.e.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(H,ot){var yt=this.getShapeStyle(H);return yt.radius===0&&delete yt.radius,ot.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:yt})},getShapeStyle:function(H){var ot=this.options.style,yt={stroke:H.color},xt=Object(S.A)({},ot,yt,H.style);H=this.getPathPoints(H),this.radius=xt.radius,this.offset=xt.offset;var wt=H.startPoint,Q=H.endPoint,ct=this.getControlPoints(H),it=[wt];ct&&(it=it.concat(ct)),it.push(Q);var U=H.sourceNode,D=H.targetNode,W=xt.radius,P=this.options.routeCfg;P||(P={}),P.offset=xt.offset;var m=this.getPath(it,U,D,W,P);return(Object(S.m)(m)&&m.length<=1||Object(S.x)(m)&&m.indexOf("L")===-1)&&(m="M0 0, L0 0"),(isNaN(wt.x)||isNaN(wt.y)||isNaN(Q.x)||isNaN(Q.y))&&(m="M0 0, L0 0"),Object(S.A)({},d.e.defaultEdge.style,xt,{lineWidth:H.size,path:m})},updateShapeStyle:function(H,ot){var yt=ot.getContainer(),xt={stroke:H.color},wt=yt.find(function(Mt){return Mt.get("className")==="edge-shape"})||ot.getKeyShape(),Q=H.size,ct=(H=this.getPathPoints(H)).startPoint,it=H.endPoint,U=this.getControlPoints(H),D=[ct];U&&(D=D.concat(U)),D.push(it);var W=wt.attr(),P=Object(S.A)({},xt,W,H.style),m=H.sourceNode,y=H.targetNode,V=P.radius,J=this.options.routeCfg;J||(J={}),J.offset=P.offset;var ht=this.getPath(D,m,y,V,J);(Object(S.m)(ht)&&ht.length<=1||Object(S.x)(ht)&&ht.indexOf("L")===-1)&&(ht="M0 0, L0 0"),(isNaN(ct.x)||isNaN(ct.y)||isNaN(it.x)||isNaN(it.y))&&(ht="M0 0, L0 0"),W.endArrow&&P.endArrow===!1&&(H.style.endArrow={path:""}),W.startArrow&&P.startArrow===!1&&(H.style.startArrow={path:""});var gt=Object(S.A)(xt,wt.attr(),{lineWidth:Q,path:ht},H.style);wt&&wt.attr(gt)},getPath:function(H,ot,yt,xt,wt){var Q;if(!wt.offset||H.length>2){if(xt)return et(H,xt);var ct=[];return Object(S.f)(H,function(it,U){U===0?ct.push(["M",it.x,it.y]):ct.push(["L",it.x,it.y])}),ct}return xt?(Q=It(H[0],H[H.length-1],ot,yt,wt),et(Q,xt)):(Q=It(H[0],H[H.length-1],ot,yt,wt),d.n.pointsToPolygon(Q))}},"single-edge")}]).default})},TEat:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return o});var lt=z("mrSG"),a=z("zJSt"),M=z("YuPD"),t=z("w02o"),n=z("tKoa");function d(s,u,v){var C=v.map(function(p){return p[u]}).filter(function(p){return p!==void 0}),O=C.length>0?Math.max.apply(Math,C):0,j=Math.abs(s)%360;return j?O*360/j:O}function S(s){var u=s.chart,v=s.options,C=v.data,O=v.barStyle,j=v.color,p=v.tooltip,x=v.colorField,A=v.type,k=v.xField,X=v.yField;u.data(C);var et=Object(M.b)({},s,{options:{tooltip:p,seriesField:x,interval:{style:O,color:j,shape:A==="line"?"line":"intervel"},minColumnWidth:v.minBarWidth,maxColumnWidth:v.maxBarWidth,columnBackground:v.barBackground}});return Object(n.c)(et),A==="line"&&Object(n.e)({chart:u,options:{xField:k,yField:X,seriesField:x,point:{shape:"circle",color:j}}}),s}function b(s){var u,v=s.options,C=v.yField,O=v.data,j=v.maxAngle;return Object(M.e)(Object(t.f)((u={},u[C]={min:0,max:d(j,C,O)},u)))(s)}function h(s){var u=s.chart,v=s.options,C=v.radius,O=v.innerRadius,j=v.startAngle,p=v.endAngle;return u.coordinate({type:"polar",cfg:{radius:C,innerRadius:O,startAngle:j,endAngle:p}}).transpose(),s}function E(s){var u=s.chart,v=s.options,C=v.xField,O=v.xAxis;return u.axis(C,O),s}function T(s){return Object(M.e)(S,b,E,h,t.c,t.a,t.j,t.k,t.d,Object(t.b)())(s)}var o=function(s){Object(lt.b)(u,s);function u(){var v=s!==null&&s.apply(this,arguments)||this;return v.type="radial-bar",v}return u.prototype.changeData=function(v){this.updateOption({data:v}),b({chart:this.chart,options:this.options}),this.chart.changeData(v)},u.prototype.getDefaultOptions=function(){return Object(M.b)({},s.prototype.getDefaultOptions.call(this),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240})},u.prototype.getSchemaAdaptor=function(){return T},u}(a.a)},Tc6Q:function(wr,Vt,z){(function(lt,a){a(Vt)})(this,function(lt){"use strict";function a(vt,mt){return M(vt)||t(vt,mt)||n()}function M(vt){if(Array.isArray(vt))return vt}function t(vt,mt){var pt=[],rt=!0,Bt=!1,It=void 0;try{for(var St=vt[Symbol.iterator](),H;!(rt=(H=St.next()).done)&&(pt.push(H.value),!(mt&&pt.length===mt));rt=!0);}catch(ot){Bt=!0,It=ot}finally{try{!rt&&St.return!=null&&St.return()}finally{if(Bt)throw It}}return pt}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function d(vt,mt,pt,rt){vt=vt.filter(function(it){var U=mt(it),D=pt(it);return U!=null&&isFinite(U)&&D!=null&&isFinite(D)}),rt&&vt.sort(function(it,U){return mt(it)-mt(U)});for(var Bt=vt.length,It=new Float64Array(Bt),St=new Float64Array(Bt),H=0,ot=0,yt,xt,wt,Q=0;Q<Bt;)wt=vt[Q],It[Q]=yt=+mt(wt),St[Q]=xt=+pt(wt),++Q,H+=(yt-H)/Q,ot+=(xt-ot)/Q;for(var ct=0;ct<Bt;++ct)It[ct]-=H,St[ct]-=ot;return[It,St,H,ot]}function S(vt,mt,pt,rt){for(var Bt=0,It=0,St=vt.length;It<St;It++){var H=vt[It],ot=+mt(H),yt=+pt(H);ot!=null&&isFinite(ot)&&yt!=null&&isFinite(yt)&&rt(ot,yt,Bt++)}}function b(vt,mt,pt,rt,Bt){var It=0,St=0;return S(vt,mt,pt,function(H,ot){var yt=ot-Bt(H),xt=ot-rt;It+=yt*yt,St+=xt*xt}),1-It/St}function h(vt){return Math.atan2(vt[1][1]-vt[0][1],vt[1][0]-vt[0][0])*180/Math.PI}function E(vt){return[(vt[0][0]+vt[1][0])/2,(vt[0][1]+vt[1][1])/2]}function T(vt,mt,pt){for(var rt=Math.log(mt-vt)*Math.LOG10E+1|0,Bt=1*Math.pow(10,-rt/2-1),It=1e4,St=[ot(vt),ot(mt)],H=0;yt(St)&&H<It;);return St;function ot(xt){return[xt,pt(xt)]}function yt(xt){H++;for(var wt=xt.length,Q=!1,ct=0;ct<wt-1;ct++){var it=xt[ct],U=xt[ct+1],D=E([it,U]),W=ot(D[0]),P=h([it,D]),m=h([it,W]),y=Math.abs(P-m);y>Bt&&(xt.splice(ct+1,0,W),Q=!0)}return Q}}function o(vt,mt,pt,rt){var Bt=rt-vt*vt,It=Math.abs(Bt)<1e-24?0:(pt-vt*mt)/Bt,St=mt-It*vt;return[St,It]}function s(){var vt=function(It){return It[0]},mt=function(It){return It[1]},pt;function rt(Bt){var It=0,St=0,H=0,ot=0,yt=0,xt=0,wt=pt?+pt[0]:Infinity,Q=pt?+pt[1]:-Infinity;S(Bt,vt,mt,function(m,y){var V=Math.log(y),J=m*y;++It,St+=(y-St)/It,ot+=(J-ot)/It,xt+=(m*J-xt)/It,H+=(y*V-H)/It,yt+=(J*V-yt)/It,pt||(m<wt&&(wt=m),m>Q&&(Q=m))});var ct=o(ot/St,H/St,yt/St,xt/St),it=a(ct,2),U=it[0],D=it[1];U=Math.exp(U);var W=function(y){return U*Math.exp(D*y)},P=T(wt,Q,W);return P.a=U,P.b=D,P.predict=W,P.rSquared=b(Bt,vt,mt,St,W),P}return rt.domain=function(Bt){return arguments.length?(pt=Bt,rt):pt},rt.x=function(Bt){return arguments.length?(vt=Bt,rt):vt},rt.y=function(Bt){return arguments.length?(mt=Bt,rt):mt},rt}function u(){var vt=function(It){return It[0]},mt=function(It){return It[1]},pt;function rt(Bt){var It=0,St=0,H=0,ot=0,yt=0,xt=pt?+pt[0]:Infinity,wt=pt?+pt[1]:-Infinity;S(Bt,vt,mt,function(P,m){++It,St+=(P-St)/It,H+=(m-H)/It,ot+=(P*m-ot)/It,yt+=(P*P-yt)/It,pt||(P<xt&&(xt=P),P>wt&&(wt=P))});var Q=o(St,H,ot,yt),ct=a(Q,2),it=ct[0],U=ct[1],D=function(m){return U*m+it},W=[[xt,D(xt)],[wt,D(wt)]];return W.a=U,W.b=it,W.predict=D,W.rSquared=b(Bt,vt,mt,H,D),W}return rt.domain=function(Bt){return arguments.length?(pt=Bt,rt):pt},rt.x=function(Bt){return arguments.length?(vt=Bt,rt):vt},rt.y=function(Bt){return arguments.length?(mt=Bt,rt):mt},rt}function v(vt){vt.sort(function(pt,rt){return pt-rt});var mt=vt.length/2;return mt%1==0?(vt[mt-1]+vt[mt])/2:vt[Math.floor(mt)]}var C=2,O=1e-12;function j(){var vt=function(It){return It[0]},mt=function(It){return It[1]},pt=.3;function rt(Bt){for(var It=d(Bt,vt,mt,!0),St=a(It,4),H=St[0],ot=St[1],yt=St[2],xt=St[3],wt=H.length,Q=Math.max(2,~~(pt*wt)),ct=new Float64Array(wt),it=new Float64Array(wt),U=new Float64Array(wt).fill(1),D=-1;++D<=C;){for(var W=[0,Q-1],P=0;P<wt;++P){for(var m=H[P],y=W[0],V=W[1],J=m-H[y]>H[V]-m?y:V,ht=0,gt=0,Mt=0,Lt=0,At=0,Ct=1/Math.abs(H[J]-m||1),Ot=y;Ot<=V;++Ot){var Dt=H[Ot],Ft=ot[Ot],Xt=p(Math.abs(m-Dt)*Ct)*U[Ot],Rt=Dt*Xt;ht+=Xt,gt+=Rt,Mt+=Ft*Xt,Lt+=Ft*Rt,At+=Dt*Rt}var Kt=o(gt/ht,Mt/ht,Lt/ht,At/ht),$t=a(Kt,2),le=$t[0],Me=$t[1];ct[P]=le+Me*m,it[P]=Math.abs(ot[P]-ct[P]),x(H,P+1,W)}if(D===C)break;var on=v(it);if(Math.abs(on)<O)break;for(var hn=0,Cn,He;hn<wt;++hn)Cn=it[hn]/(6*on),U[hn]=Cn>=1?O:(He=1-Cn*Cn)*He}return A(H,ct,yt,xt)}return rt.bandwidth=function(Bt){return arguments.length?(pt=Bt,rt):pt},rt.x=function(Bt){return arguments.length?(vt=Bt,rt):vt},rt.y=function(Bt){return arguments.length?(mt=Bt,rt):mt},rt}function p(vt){return(vt=1-vt*vt*vt)*vt*vt}function x(vt,mt,pt){var rt=vt[mt],Bt=pt[0],It=pt[1]+1;if(!(It>=vt.length))for(;mt>Bt&&vt[It]-rt<=rt-vt[Bt];)pt[0]=++Bt,pt[1]=It,++It}function A(vt,mt,pt,rt){for(var Bt=vt.length,It=[],St=0,H=0,ot=[],yt;St<Bt;++St)yt=vt[St]+pt,ot[0]===yt?ot[1]+=(mt[St]-ot[1])/++H:(H=0,ot[1]+=rt,ot=[yt,mt[St]],It.push(ot));return ot[1]+=rt,It}function k(){var vt=function(St){return St[0]},mt=function(St){return St[1]},pt=Math.E,rt;function Bt(It){var St=0,H=0,ot=0,yt=0,xt=0,wt=rt?+rt[0]:Infinity,Q=rt?+rt[1]:-Infinity,ct=Math.log(pt);S(It,vt,mt,function(y,V){var J=Math.log(y)/ct;++St,H+=(J-H)/St,ot+=(V-ot)/St,yt+=(J*V-yt)/St,xt+=(J*J-xt)/St,rt||(y<wt&&(wt=y),y>Q&&(Q=y))});var it=o(H,ot,yt,xt),U=a(it,2),D=U[0],W=U[1],P=function(V){return W*Math.log(V)/ct+D},m=T(wt,Q,P);return m.a=W,m.b=D,m.predict=P,m.rSquared=b(It,vt,mt,ot,P),m}return Bt.domain=function(It){return arguments.length?(rt=It,Bt):rt},Bt.x=function(It){return arguments.length?(vt=It,Bt):vt},Bt.y=function(It){return arguments.length?(mt=It,Bt):mt},Bt.base=function(It){return arguments.length?(pt=It,Bt):pt},Bt}function X(){var vt=function(It){return It[0]},mt=function(It){return It[1]},pt;function rt(Bt){var It=d(Bt,vt,mt),St=a(It,4),H=St[0],ot=St[1],yt=St[2],xt=St[3],wt=H.length,Q=0,ct=0,it=0,U=0,D=0,W,P,m,y;for(W=0;W<wt;)P=H[W],m=ot[W++],y=P*P,Q+=(y-Q)/W,ct+=(y*P-ct)/W,it+=(y*y-it)/W,U+=(P*m-U)/W,D+=(y*m-D)/W;var V=0,J=0,ht=pt?+pt[0]:Infinity,gt=pt?+pt[1]:-Infinity;S(Bt,vt,mt,function(Xt,Rt){J++,V+=(Rt-V)/J,pt||(Xt<ht&&(ht=Xt),Xt>gt&&(gt=Xt))});var Mt=it-Q*Q,Lt=Q*Mt-ct*ct,At=(D*Q-U*ct)/Lt,Ct=(U*Mt-D*ct)/Lt,Ot=-At*Q,Dt=function(Rt){return Rt=Rt-yt,At*Rt*Rt+Ct*Rt+Ot+xt},Ft=T(ht,gt,Dt);return Ft.a=At,Ft.b=Ct-2*At*yt,Ft.c=Ot-Ct*yt+At*yt*yt+xt,Ft.predict=Dt,Ft.rSquared=b(Bt,vt,mt,V,Dt),Ft}return rt.domain=function(Bt){return arguments.length?(pt=Bt,rt):pt},rt.x=function(Bt){return arguments.length?(vt=Bt,rt):vt},rt.y=function(Bt){return arguments.length?(mt=Bt,rt):mt},rt}function et(){var vt=function(St){return St[0]},mt=function(St){return St[1]},pt=3,rt;function Bt(It){if(pt===1){var St=u().x(vt).y(mt).domain(rt)(It);return St.coefficients=[St.b,St.a],delete St.a,delete St.b,St}if(pt===2){var H=X().x(vt).y(mt).domain(rt)(It);return H.coefficients=[H.c,H.b,H.a],delete H.a,delete H.b,delete H.c,H}var ot=d(It,vt,mt),yt=a(ot,4),xt=yt[0],wt=yt[1],Q=yt[2],ct=yt[3],it=xt.length,U=[],D=[],W=pt+1,P=0,m=0,y=rt?+rt[0]:Infinity,V=rt?+rt[1]:-Infinity;S(It,vt,mt,function(Dt,Ft){++m,P+=(Ft-P)/m,rt||(Dt<y&&(y=Dt),Dt>V&&(V=Dt))});var J,ht,gt,Mt,Lt;for(J=0;J<W;++J){for(gt=0,Mt=0;gt<it;++gt)Mt+=Math.pow(xt[gt],J)*wt[gt];for(U.push(Mt),Lt=new Float64Array(W),ht=0;ht<W;++ht){for(gt=0,Mt=0;gt<it;++gt)Mt+=Math.pow(xt[gt],J+ht);Lt[ht]=Mt}D.push(Lt)}D.push(U);var At=ft(D),Ct=function(Ft){Ft-=Q;var Xt=ct+At[0]+At[1]*Ft+At[2]*Ft*Ft;for(J=3;J<W;++J)Xt+=At[J]*Math.pow(Ft,J);return Xt},Ot=T(y,V,Ct);return Ot.coefficients=tt(W,At,-Q,ct),Ot.predict=Ct,Ot.rSquared=b(It,vt,mt,P,Ct),Ot}return Bt.domain=function(It){return arguments.length?(rt=It,Bt):rt},Bt.x=function(It){return arguments.length?(vt=It,Bt):vt},Bt.y=function(It){return arguments.length?(mt=It,Bt):mt},Bt.order=function(It){return arguments.length?(pt=It,Bt):pt},Bt}function tt(vt,mt,pt,rt){var Bt=Array(vt),It,St,H,ot;for(It=0;It<vt;++It)Bt[It]=0;for(It=vt-1;It>=0;--It)for(H=mt[It],ot=1,Bt[It]+=H,St=1;St<=It;++St)ot*=(It+1-St)/St,Bt[It-St]+=H*Math.pow(pt,St)*ot;return Bt[0]+=rt,Bt}function ft(vt){var mt=vt.length-1,pt=[],rt,Bt,It,St,H;for(rt=0;rt<mt;++rt){for(St=rt,Bt=rt+1;Bt<mt;++Bt)Math.abs(vt[rt][Bt])>Math.abs(vt[rt][St])&&(St=Bt);for(It=rt;It<mt+1;++It)H=vt[It][rt],vt[It][rt]=vt[It][St],vt[It][St]=H;for(Bt=rt+1;Bt<mt;++Bt)for(It=mt;It>=rt;It--)vt[It][Bt]-=vt[It][rt]*vt[rt][Bt]/vt[rt][rt]}for(Bt=mt-1;Bt>=0;--Bt){for(H=0,It=Bt+1;It<mt;++It)H+=vt[It][Bt]*pt[It];pt[Bt]=(vt[mt][Bt]-H)/vt[Bt][Bt]}return pt}function st(){var vt=function(It){return It[0]},mt=function(It){return It[1]},pt;function rt(Bt){var It=0,St=0,H=0,ot=0,yt=0,xt=0,wt=pt?+pt[0]:Infinity,Q=pt?+pt[1]:-Infinity;S(Bt,vt,mt,function(m,y){var V=Math.log(m),J=Math.log(y);++It,St+=(V-St)/It,H+=(J-H)/It,ot+=(V*J-ot)/It,yt+=(V*V-yt)/It,xt+=(y-xt)/It,pt||(m<wt&&(wt=m),m>Q&&(Q=m))});var ct=o(St,H,ot,yt),it=a(ct,2),U=it[0],D=it[1];U=Math.exp(U);var W=function(y){return U*Math.pow(y,D)},P=T(wt,Q,W);return P.a=U,P.b=D,P.predict=W,P.rSquared=b(Bt,vt,mt,xt,W),P}return rt.domain=function(Bt){return arguments.length?(pt=Bt,rt):pt},rt.x=function(Bt){return arguments.length?(vt=Bt,rt):vt},rt.y=function(Bt){return arguments.length?(mt=Bt,rt):mt},rt}lt.regressionExp=s,lt.regressionLinear=u,lt.regressionLoess=j,lt.regressionLog=k,lt.regressionPoly=et,lt.regressionPow=st,lt.regressionQuad=X,Object.defineProperty(lt,"__esModule",{value:!0})})},U8jP:function(wr,Vt,z){"use strict";z.r(Vt),z.d(Vt,"version",function(){return S});var lt=z("R5nb");z.d(Vt,"Shape",function(){return lt});var a=z("aFU3");for(var M in a)["default","Canvas","Group","Shape","getArcParams","version"].indexOf(M)<0&&function(b){z.d(Vt,b,function(){return a[b]})}(M);var t=z("sYIZ");z.d(Vt,"Canvas",function(){return t.a});var n=z("wq2r");z.d(Vt,"Group",function(){return n.a});var d=z("nCnq");z.d(Vt,"getArcParams",function(){return d.a});var S="0.5.6"},Uo7R:function(wr,Vt,z){"use strict";var lt=z("mrSG"),a=z("zJSt"),M=z("w02o"),t=z("YuPD"),n=z("tKoa"),d=z("iTfj"),S={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(pt){return pt.id},source:function(pt){return pt.source},target:function(pt){return pt.target},sourceWeight:function(pt){return pt.value||1},targetWeight:function(pt){return pt.value||1},sortBy:null};function b(mt,pt,rt){Object(d.forIn)(mt,function(Bt,It){Bt.inEdges=pt.filter(function(St){return""+rt.target(St)==""+It}),Bt.outEdges=pt.filter(function(St){return""+rt.source(St)==""+It}),Bt.edges=Bt.outEdges.concat(Bt.inEdges),Bt.frequency=Bt.edges.length,Bt.value=0,Bt.inEdges.forEach(function(St){Bt.value+=rt.targetWeight(St)}),Bt.outEdges.forEach(function(St){Bt.value+=rt.sourceWeight(St)})})}function h(mt,pt){var rt={weight:function(St,H){return H.value-St.value},frequency:function(St,H){return H.frequency-St.frequency},id:function(St,H){return(""+pt.id(St)).localeCompare(""+pt.id(H))}},Bt=rt[pt.sortBy];!Bt&&Object(d.isFunction)(pt.sortBy)&&(Bt=pt.sortBy),Bt&&mt.sort(Bt)}function E(mt,pt){var rt=mt.length;if(!rt)throw new TypeError("Invalid nodes: it's empty!");if(pt.weight){var Bt=pt.nodePaddingRatio;if(Bt<0||Bt>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var It=Bt/(2*rt),St=pt.nodeWidthRatio;if(St<=0||St>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var H=0;mt.forEach(function(yt){H+=yt.value}),mt.forEach(function(yt){yt.weight=yt.value/H,yt.width=yt.weight*(1-Bt),yt.height=St}),mt.forEach(function(yt,xt){for(var wt=0,Q=xt-1;Q>=0;Q--)wt+=mt[Q].width+2*It;var ct=yt.minX=It+wt,it=yt.maxX=yt.minX+yt.width,U=yt.minY=pt.y-St/2,D=yt.maxY=U+St;yt.x=[ct,it,it,ct],yt.y=[U,U,D,D]})}else{var ot=1/rt;mt.forEach(function(yt,xt){yt.x=(xt+.5)*ot,yt.y=pt.y})}return mt}function T(mt,pt,rt){if(rt.weight){var Bt={};Object(d.forIn)(mt,function(It,St){Bt[St]=It.value}),pt.forEach(function(It){var St=rt.source(It),H=rt.target(It),ot=mt[St],yt=mt[H];if(ot&&yt){var xt=Bt[St],wt=rt.sourceWeight(It),Q=ot.minX+(ot.value-xt)/ot.value*ot.width,ct=Q+wt/ot.value*ot.width;Bt[St]-=wt;var it=Bt[H],U=rt.targetWeight(It),D=yt.minX+(yt.value-it)/yt.value*yt.width,W=D+U/yt.value*yt.width;Bt[H]-=U;var P=rt.y;It.x=[Q,ct,D,W],It.y=[P,P,P,P],It.source=ot,It.target=yt}})}else pt.forEach(function(It){var St=mt[rt.source(It)],H=mt[rt.target(It)];St&&H&&(It.x=[St.x,H.x],It.y=[St.y,H.y],It.source=St,It.target=H)});return pt}function o(mt){return Object(d.assign)({},S,mt)}function s(mt,pt){var rt=o(mt),Bt={},It=pt.nodes,St=pt.links;It.forEach(function(yt){var xt=rt.id(yt);Bt[xt]=yt}),b(Bt,St,rt),h(It,rt);var H=E(It,rt),ot=T(Bt,St,rt);return{nodes:H,links:ot}}var u=z("DyAw"),v="x",C="y",O="name",j="source";function p(mt){var pt=mt.options,rt=pt.data,Bt=pt.sourceField,It=pt.targetField,St=pt.weightField,H=pt.nodePaddingRatio,ot=pt.nodeWidthRatio,yt=Object(u.b)(rt,Bt,It,St),xt=s({weight:!0,nodePaddingRatio:H,nodeWidthRatio:ot},yt),wt=xt.nodes,Q=xt.links,ct=wt.map(function(U){return{id:U.id,x:U.x,y:U.y,name:U.name}}),it=Q.map(function(U){return{source:U.source.name,target:U.target.name,x:U.x,y:U.y,value:U.value}});return Object(lt.a)(Object(lt.a)({},mt),{ext:Object(lt.a)(Object(lt.a)({},mt.ext),{chordData:{nodesData:ct,edgesData:it}})})}function x(mt){var pt,rt=mt.chart;return rt.scale((pt={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}},pt[O]={sync:"color"},pt[j]={sync:"color"},pt)),mt}function A(mt){var pt=mt.chart;return pt.axis(!1),mt}function k(mt){var pt=mt.chart;return pt.legend(!1),mt}function X(mt){var pt=mt.chart;return pt.tooltip({showTitle:!1,showMarkers:!1}),mt}function et(mt){var pt=mt.chart;return pt.coordinate("polar").reflect("y"),mt}function tt(mt){var pt=mt.chart,rt=mt.options,Bt=mt.ext.chordData.nodesData,It=rt.nodeStyle,St=rt.label,H=pt.createView();return H.data(Bt),Object(n.f)({chart:H,options:{xField:v,yField:C,seriesField:O,polygon:{style:It},label:St,tooltip:!1}}),mt}function ft(mt){var pt=mt.chart,rt=mt.options,Bt=mt.ext.chordData.edgesData,It=rt.edgeStyle,St=rt.tooltip,H=pt.createView();H.data(Bt);var ot={xField:v,yField:C,seriesField:j,edge:{style:It,shape:"arc"},tooltip:St};return Object(n.b)({chart:H,options:ot}),mt}function st(mt){return Object(t.e)(p,et,x,A,k,X,ft,tt,M.c,M.a,M.j)(mt)}var vt=function(mt){Object(lt.b)(pt,mt);function pt(){var rt=mt!==null&&mt.apply(this,arguments)||this;return rt.type="chord",rt}return pt.prototype.getDefaultOptions=function(){return{nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(Bt,It){var St=(Bt[0]+Bt[1])/2,H=St>.5?-4:4;return{labelEmit:!0,style:{fill:"#8c8c8c"},offsetX:H,content:It}}},tooltip:{fields:["source","target","value"],formatter:function(Bt){var It=Bt.source,St=Bt.target,H=Bt.value;return{name:It+" -> "+St,value:H}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05}},pt.prototype.getSchemaAdaptor=function(){return st},pt}(a.a)},Urep:function(wr,Vt,z){},WOQw:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return d});var lt=z("mrSG"),a=z("iTfj"),M=z("YuPD");function t(S,b){var h=S.xField,E=S.yField,T=S.colorField,o=S.shapeField,s=S.sizeField,u=S.styleField,v=S.rawFields,C=v===void 0?[]:v,O=[];if(b==="color")O=Object(lt.d)([T||h],C);else if(b==="shape")O=Object(lt.d)([o||h],C);else if(b==="size")O=Object(lt.d)([s||h],C);else{O=Object(lt.d)([h,E,T,o,s,u],C);var j=["x","y","color","shape","size","style"].indexOf(b),p=O[j];O.splice(j,1),O.unshift(p)}return Object(a.uniq)(O.filter(function(x){return!!x}))}function n(S,b){if(!!b)return function(){for(var h=[],E=0;E<arguments.length;E++)h[E]=arguments[E];var T={};return S.forEach(function(o,s){T[o]=h[s]}),delete T.undefined,b(T)}}function d(S){var b=S.chart,h=S.options,E=h.type,T=h.args,o=h.mapping,s=h.xField,u=h.yField,v=h.colorField,C=h.shapeField,O=h.sizeField,j=h.tooltipFields,p=h.label,x=h.state;if(!o)return S;var A=o.color,k=o.shape,X=o.size,et=o.style,tt=o.tooltip,ft=b[E](T).position(s+"*"+u);if(Object(a.isString)(A))v?ft.color(v,A):ft.color(A);else if(Object(a.isFunction)(A)){var st=t(h,"color");ft.color(st.join("*"),n(st,A))}else v&&ft.color(v,A);if(Object(a.isString)(k))C?ft.shape(C,[k]):ft.shape(k);else if(Object(a.isFunction)(k)){var st=t(h,"shape");ft.shape(st.join("*"),n(st,k))}else C&&ft.shape(C,k);if(Object(a.isNumber)(X))O?ft.size(O,X):ft.size(X);else if(Object(a.isFunction)(X)){var st=t(h,"size");ft.size(st.join("*"),n(st,X))}else O&&ft.size(O,X);if(Object(a.isFunction)(et)){var st=t(h,"style");ft.style(st.join("*"),n(st,et))}else Object(a.isObject)(et)&&ft.style(et);if(j===!1?ft.tooltip(!1):Object(a.isEmpty)(j)||ft.tooltip(j.join("*"),n(j,tt)),p===!1)ft.label(!1);else if(p){var vt=p.callback,mt=p.fields,pt=Object(lt.c)(p,["callback","fields"]);ft.label({fields:mt||[u],callback:vt,cfg:Object(M.p)(pt)})}return x&&ft.state(x),[s,u].filter(function(rt){return rt!==v}).forEach(function(rt){b.legend(rt,!1)}),Object(lt.a)(Object(lt.a)({},S),{ext:{geometry:ft}})}},WXeg:function(wr,Vt){},WbAE:function(wr,Vt){},XiRp:function(wr,Vt){},XloR:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return b});var lt=z("mrSG"),a=z("zJSt"),M=z("YuPD"),t=z("hJqF"),n=z("kXyF"),d=z("iTfj"),S=function(h){Object(lt.b)(E,h);function E(){return h!==null&&h.apply(this,arguments)||this}return E.prototype.active=function(){var T=this.getView(),o=this.context.event;if(o.data){var s=o.data.items,u=T.geometries.filter(function(v){return v.type==="point"});Object(d.each)(u,function(v){Object(d.each)(v.elements,function(C){var O=Object(d.findIndex)(s,function(j){return j.data===C.data})!==-1;C.setState("active",O)})})}},E.prototype.getView=function(){return this.context.view},E}(n.InteractionAction);Object(n.registerAction)("marker-active",S),Object(n.registerInteraction)("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}]});var b=function(h){Object(lt.b)(E,h);function E(){var T=h!==null&&h.apply(this,arguments)||this;return T.type="line",T}return E.prototype.changeData=function(T){this.updateOption({data:T}),this.chart.changeData(T)},E.prototype.getDefaultOptions=function(){return Object(M.b)({},h.prototype.getDefaultOptions.call(this),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left"},isStack:!1})},E.prototype.getSchemaAdaptor=function(){return t.a},E}(a.a)},XpFM:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return p});var lt=z("mrSG"),a=z("zJSt"),M=z("iTfj"),t=z("w02o"),n=z("n/J0"),d=z("YuPD"),S=z("5kt6");function b(x){return x.map(function(A,k){var X;return X={},X[S.f]=A-(x[k-1]||0),X[S.e]=""+k,X}).filter(function(A){return!!A[S.f]})}function h(x){var A;return[(A={},A[S.d]=Object(M.clamp)(x,0,1),A)]}function E(x,A){var k=Object(M.get)(A,["ticks"],[]),X=Object(M.size)(k)?k:[0,Object(M.clamp)(x,0,1),1];return b(X)}function T(x){var A=x.chart,k=x.options,X=k.percent,et=k.range,tt=k.radius,ft=k.innerRadius,st=k.startAngle,vt=k.endAngle,mt=k.axis,pt=k.indicator,rt=et.color;if(pt){var Bt=h(X),It=A.createView({id:S.b});It.data(Bt),It.point().position(S.d+"*1").shape("gauge-indicator").customInfo({defaultColor:A.getTheme().defaultColor,indicator:pt}),It.coordinate("polar",{startAngle:st,endAngle:vt,radius:ft*tt}),It.axis(S.d,mt),It.scale(S.d,Object(d.l)(mt,n.a))}var St=E(X,k.range),H=A.createView({id:S.g});H.data(St);var ot=Object(M.isString)(rt)?[rt,S.a]:rt;return H.interval().position("1*"+S.f).color(S.e,ot).adjust("stack"),H.coordinate("polar",{innerRadius:ft,radius:tt,startAngle:st,endAngle:vt}).transpose(),x}function o(x){var A,k=x.chart,X=x.options,et=X.type,tt=X.meter;if(et==="meter"){var ft=X.innerRadius,st=X.radius,vt=X.startAngle,mt=X.endAngle,pt=k.getTheme().background,rt=pt;(!rt||rt==="transparent")&&(rt="#fff");var Bt=k.createView({id:S.c});Bt.data([(A={},A[S.e]="1",A[S.f]=1,A)]),Bt.interval().position("1*"+S.f).color(rt).adjust("stack").shape("meter-gauge").customInfo(tt||{}),Bt.coordinate("polar",{innerRadius:ft,radius:st,startAngle:vt,endAngle:mt}).transpose()}return x}function s(x){var A;return Object(d.e)(Object(t.f)((A={range:{min:0,max:1,maxLimit:1,minLimit:0}},A[S.d]={},A)))(x)}function u(x,A){var k=x.chart,X=x.options,et=X.statistic,tt=X.percent;if(k.getController("annotation").clear(!0),et){var ft=et.content,st=void 0;ft&&(st=Object(d.b)({},{formatter:function(mt){var pt=mt.percent;return(pt*100).toFixed(2)+"%"},style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},ft)),Object(d.m)(k,{statistic:Object(lt.a)(Object(lt.a)({},et),{content:st})},{percent:tt})}return A&&k.render(!0),x}function v(x){var A=x.chart;return A.legend(!1),A.tooltip(!1),x}function C(x){return Object(d.e)(t.a,T,s,u,t.c,t.j,o,v)(x)}var O=z("kXyF");Object(O.registerShape)("point","gauge-indicator",{draw:function(A,k){var X=A.customInfo,et=X.indicator,tt=X.defaultColor,ft=et,st=ft.pointer,vt=ft.pin,mt=k.addGroup(),pt=this.parsePoint({x:0,y:0});return st&&mt.addShape("line",{name:"pointer",attrs:Object(lt.a)({x1:pt.x,y1:pt.y,x2:A.x,y2:A.y,stroke:tt},st.style)}),vt&&mt.addShape("circle",{name:"pin",attrs:Object(lt.a)({x:pt.x,y:pt.y,stroke:tt},vt.style)}),mt}});var j=z("+Oe8");Object(O.registerShape)("interval","meter-gauge",{draw:function(A,k){var X=A.customInfo,et=X.steps,tt=et===void 0?50:et,ft=X.stepRatio,st=ft===void 0?.5:ft,vt=this.coordinate.endAngle-this.coordinate.startAngle,mt=vt/tt,pt=0;st>0&&st<=1&&(mt=vt/((1-st)/st*(tt-1)+tt),pt=mt*(1-st)/st);var rt=k.addGroup();if(pt>0)for(var Bt=this.coordinate.getCenter(),It=this.coordinate.getRadius(),St=O.Util.getAngle(A,this.coordinate),H=St.startAngle,ot=St.endAngle,yt=H,xt=0;yt<ot&&xt<2*tt-1;xt++){var wt=xt%2;if(wt){var Q=Object(j.getSectorPath)(Bt.x,Bt.y,It,yt,Math.min(yt+pt,ot),It*this.coordinate.innerRadius);rt.addShape("path",{name:"meter-gauge-mask",attrs:{path:Q,fill:A.color,stroke:A.color,lineWidth:.5},capture:!1})}yt+=wt?pt:mt}return rt}});var p=function(x){Object(lt.b)(A,x);function A(){var k=x!==null&&x.apply(this,arguments)||this;return k.type="gauge",k}return A.prototype.getDefaultOptions=function(){var k;return{percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(k={},k[S.f]={sync:"v"},k[S.d]={sync:"v",tickCount:5,tickInterval:.2},k),animation:!1}},A.prototype.changeData=function(k){this.updateOption({percent:k});var X=this.chart.views.find(function(tt){return tt.id===S.b});X&&X.data(h(k));var et=this.chart.views.find(function(tt){return tt.id===S.g});et&&et.data(E(k,this.options.range)),u({chart:this.chart,options:this.options},!0)},A.prototype.getSchemaAdaptor=function(){return C},A}(a.a)},"Y+LX":function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return S});var lt=z("mrSG"),a=z("zJSt"),M=z("YuPD"),t=z("sqD9"),n=z("DMQx");function d(b){var h=b.chart,E=b.options,T=E.xField,o=E.yField,s=E.xAxis,u=E.yAxis,v=E.barStyle,C=E.barWidthRatio,O=E.label,j=E.data,p=E.seriesField,x=E.isStack,A=E.minBarWidth,k=E.maxBarWidth;O&&!O.position&&(O.position="left",O.layout||(O.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]));var X=E.legend;p?X!==!1&&(X=Object(lt.a)({position:x?"top-left":"right-top",reversed:!x},X||{})):X=!1,b.options.legend=X;var et=E.tooltip;return p&&et!==!1&&(et=Object(lt.a)({reversed:!x},et||{})),b.options.tooltip=et,h.coordinate().transpose(),Object(n.a)({chart:h,options:Object(lt.a)(Object(lt.a)({},E),{label:O,xField:o,yField:T,xAxis:u,yAxis:s,columnStyle:v,columnWidthRatio:C,minColumnWidth:A,maxColumnWidth:k,columnBackground:E.barBackground,data:j&&j.slice().reverse()})},!0)}var S=function(b){Object(lt.b)(h,b);function h(){var E=b!==null&&b.apply(this,arguments)||this;return E.type="bar",E}return h.prototype.changeData=function(E){this.updateOption({data:E});var T=this.options,o=T.xField,s=T.yField,u=T.isPercent;this.chart.changeData(Object(t.a)(E,o,s,o,u))},h.prototype.getDefaultOptions=function(){return Object(M.b)({},b.prototype.getDefaultOptions.call(this),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},interactions:[{type:"active-region"}]})},h.prototype.getSchemaAdaptor=function(){return d},h}(a.a)},YP77:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return o});var lt=z("mrSG"),a=z("zJSt"),M=z("B3DA"),t=z("iTfj"),n=z("YuPD"),d=z("w02o"),S=z("u9/z"),b=z("5kt6");function h(s){var u=s.chart,v=s.options,C=v.innerRadius,O=v.radius;return u.coordinate("theta",{innerRadius:C,radius:O}),s}function E(s,u){var v=s.chart,C=s.options,O=C.innerRadius,j=C.statistic,p=C.percent,x=C.meta;if(v.getController("annotation").clear(!0),O&&j){var A=j.content;A&&!A.formatter&&(A.formatter=function(k){var X=k.percent,et=Object(t.get)(x,[b.d,"formatter"]);return et?et(X):X}),Object(n.n)(v,{statistic:Object(lt.a)(Object(lt.a)({},j),{content:A}),plotType:"ring-progress"},{percent:p})}return u&&v.render(!0),s}function T(s){return Object(n.e)(S.b,Object(d.f)({}),h,E,d.a,d.j,Object(d.b)())(s)}var o=function(s){Object(lt.b)(u,s);function u(){var v=s!==null&&s.apply(this,arguments)||this;return v.type="ring-process",v}return u.prototype.getDefaultOptions=function(){return{percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"},formatter:function(C){var O=C.percent;return(O*100).toFixed(2)+"%"}}},animation:!0}},u.prototype.changeData=function(v){this.updateOption({percent:v}),this.chart.data(Object(M.a)(v)),E({chart:this.chart,options:this.options},!0)},u.prototype.getSchemaAdaptor=function(){return T},u}(a.a)},YuPD:function(wr,Vt,z){"use strict";z.d(Vt,"e",function(){return lt}),z.d(Vt,"l",function(){return a}),z.d(Vt,"o",function(){return t}),z.d(Vt,"k",function(){return E}),z.d(Vt,"a",function(){return d}),z.d(Vt,"g",function(){return T}),z.d(Vt,"c",function(){return o}),z.d(Vt,"f",function(){return s}),z.d(Vt,"d",function(){return u.a}),z.d(Vt,"p",function(){return v}),z.d(Vt,"h",function(){return x}),z.d(Vt,"b",function(){return vt}),z.d(Vt,"j",function(){return mt}),z.d(Vt,"n",function(){return pt.c}),z.d(Vt,"m",function(){return pt.b}),z.d(Vt,"i",function(){return St.a});function lt(){for(var H=[],ot=0;ot<arguments.length;ot++)H[ot]=arguments[ot];return function(yt){return H.reduce(function(xt,wt){return wt(xt)},yt)}}function a(H,ot){var yt={};return H!==null&&typeof H=="object"&&ot.forEach(function(xt){var wt=H[xt];wt!==void 0&&(yt[xt]=wt)}),yt}var M=z("iTfj");function t(H,ot){return Object(M.reduce)(ot,function(yt,xt,wt){return yt.replace(new RegExp("{\\s*"+wt+"\\s*}","g"),xt)},H)}var n=z("mrSG"),d;(function(H){H.ERROR="error",H.WARN="warn",H.INFO="log"})(d||(d={}));var S="AntV/G2Plot";function b(H){for(var ot=[],yt=1;yt<arguments.length;yt++)ot[yt-1]=arguments[yt];var xt=0;return S+": "+H.replace(/%s/g,function(){return""+ot[xt++]})}function h(H,ot){for(var yt=[],xt=2;xt<arguments.length;xt++)yt[xt-2]=arguments[xt];if(!H){var wt=new Error(b.apply(void 0,Object(n.d)([ot],yt)));throw wt.name=S,wt}}function E(H,ot,yt){for(var xt=[],wt=3;wt<arguments.length;wt++)xt[wt-3]=arguments[wt];ot||console[H](b.apply(void 0,Object(n.d)([yt],xt)))}function T(H){if(!H)return{width:0,height:0};var ot=getComputedStyle(H);return{width:(H.clientWidth||parseInt(ot.width,10))-parseInt(ot.paddingLeft,10)-parseInt(ot.paddingRight,10),height:(H.clientHeight||parseInt(ot.height,10))-parseInt(ot.paddingTop,10)-parseInt(ot.paddingBottom,10)}}function o(H,ot){return H.geometries.find(function(yt){return yt.type===ot})}function s(H){return Object(M.reduce)(H.geometries,function(ot,yt){return ot.concat(yt.elements)},[])}var u=z("4Olw");function v(H){if(!Object(M.isType)(H,"Object"))return H;var ot=Object(n.a)({},H);return ot.formatter&&!ot.content&&(ot.content=ot.formatter),ot}var C=z("6JdA");function O(H,ot){var yt=[];if(H.length){yt.push(["M",H[0].x,H[0].y]);for(var xt=1,wt=H.length;xt<wt;xt+=1){var Q=H[xt];yt.push(["L",Q.x,Q.y])}ot&&yt.push(["Z"])}return yt}var j=function(ot,yt,xt,wt){var Q=[],ct,it,U=!!wt,D,W;if(U){D=[Infinity,Infinity],W=[-Infinity,-Infinity];for(var P=0,m=ot.length;P<m;P++){var y=ot[P];D=C.c.min([0,0],D,y),W=C.c.max([0,0],W,y)}D=C.c.min([0,0],D,wt[0]),W=C.c.max([0,0],W,wt[1])}for(var P=0,V=ot.length;P<V;P++){var y=ot[P];if(xt)ct=ot[P?P-1:V-1],it=ot[(P+1)%V];else if(P===0||P===V-1){Q.push(y);continue}else ct=ot[P-1],it=ot[P+1];var J=[0,0];J=C.c.sub(J,it,ct),J=C.c.scale(J,J,yt);var ht=C.c.distance(y,ct),gt=C.c.distance(y,it),Mt=ht+gt;Mt!==0&&(ht/=Mt,gt/=Mt);var Lt=C.c.scale([0,0],J,-ht),At=C.c.scale([0,0],J,gt),Ct=C.c.add([0,0],y,Lt),Ot=C.c.add([0,0],y,At);U&&(Ct=C.c.max([0,0],Ct,D),Ct=C.c.min([0,0],Ct,W),Ot=C.c.max([0,0],Ot,D),Ot=C.c.min([0,0],Ot,W)),Q.push(Ct),Q.push(Ot)}return xt&&Q.push(Q.shift()),Q};function p(H,ot,yt){for(var xt=!!ot,wt=[],Q=0,ct=H.length;Q<ct;Q+=2)wt.push([H[Q],H[Q+1]]);for(var it=j(wt,.4,xt,yt),U=wt.length,D=[],W,P,m,Q=0;Q<U-1;Q++)W=it[Q*2],P=it[Q*2+1],m=wt[Q+1],D.push(["C",W[0],W[1],P[0],P[1],m[0],m[1]]);return xt&&(W=it[U],P=it[U+1],m=wt[0],D.push(["C",W[0],W[1],P[0],P[1],m[0],m[1]])),D}function x(H,ot,yt){var xt=[],wt=H[0],Q=null;if(H.length<=2)return O(H,ot);for(var ct=0,it=H.length;ct<it;ct++){var U=H[ct];(!Q||!(Q.x===U.x&&Q.y===U.y))&&(xt.push(U.x),xt.push(U.y),Q=U)}var D=yt||[[0,0],[1,1]],W=p(xt,ot,D);return W.unshift(["M",wt.x,wt.y]),W}var A=5,k={}.toString,X=function(ot,yt){return k.call(ot)==="[object "+yt+"]"},et=function(ot){return X(ot,"Array")},tt=function(ot){return typeof ot=="object"&&ot!==null},ft=function(ot){if(!tt(ot)||!X(ot,"Object"))return!1;for(var yt=ot;Object.getPrototypeOf(yt)!==null;)yt=Object.getPrototypeOf(yt);return Object.getPrototypeOf(ot)===yt},st=function H(ot,yt,xt,wt){xt=xt||0,wt=wt||A;for(var Q in yt)if(Object.prototype.hasOwnProperty.call(yt,Q)){var ct=yt[Q];ct?ft(ct)?(ft(ot[Q])||(ot[Q]={}),xt<wt?H(ot[Q],ct,xt+1,wt):ot[Q]=yt[Q]):et(ct)?(ot[Q]=[],ot[Q]=ot[Q].concat(ct)):ot[Q]=ct:ot[Q]=ct}},vt=function(ot){for(var yt=[],xt=1;xt<arguments.length;xt++)yt[xt-1]=arguments[xt];for(var wt=0;wt<yt.length;wt+=1)st(ot,yt[wt]);return ot};function mt(H){if(!H)return H;var ot=H.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);return ot.map(function(yt){return yt.toLowerCase()}).join("-")}var pt=z("mj6g"),rt;function Bt(){return rt||(rt=document.createElement("canvas").getContext("2d")),rt}var It=Object(M.memoize)(function(H,ot){ot===void 0&&(ot={});var yt=ot.fontSize,xt=ot.fontFamily,wt=xt===void 0?"sans-serif":xt,Q=ot.fontWeight,ct=ot.fontStyle,it=ot.fontVariant,U=Bt();U.font=[ct,Q,it,yt+"px",wt].join(" ");var D=U.measureText(Object(M.isString)(H)?H:"");return D.width},function(H,ot){return ot===void 0&&(ot={}),Object(n.d)([H],Object(M.values)(ot)).join("")}),St=z("F/eT")},ZxFD:function(wr,Vt,z){"use strict";z.r(Vt),z.d(Vt,"create",function(){return a}),z.d(Vt,"clone",function(){return M}),z.d(Vt,"fromValues",function(){return t}),z.d(Vt,"copy",function(){return n}),z.d(Vt,"set",function(){return d}),z.d(Vt,"add",function(){return S}),z.d(Vt,"subtract",function(){return b}),z.d(Vt,"multiply",function(){return h}),z.d(Vt,"divide",function(){return E}),z.d(Vt,"ceil",function(){return T}),z.d(Vt,"floor",function(){return o}),z.d(Vt,"min",function(){return s}),z.d(Vt,"max",function(){return u}),z.d(Vt,"round",function(){return v}),z.d(Vt,"scale",function(){return C}),z.d(Vt,"scaleAndAdd",function(){return O}),z.d(Vt,"distance",function(){return j}),z.d(Vt,"squaredDistance",function(){return p}),z.d(Vt,"length",function(){return x}),z.d(Vt,"squaredLength",function(){return A}),z.d(Vt,"negate",function(){return k}),z.d(Vt,"inverse",function(){return X}),z.d(Vt,"normalize",function(){return et}),z.d(Vt,"dot",function(){return tt}),z.d(Vt,"cross",function(){return ft}),z.d(Vt,"lerp",function(){return st}),z.d(Vt,"random",function(){return vt}),z.d(Vt,"transformMat2",function(){return mt}),z.d(Vt,"transformMat2d",function(){return pt}),z.d(Vt,"transformMat3",function(){return rt}),z.d(Vt,"transformMat4",function(){return Bt}),z.d(Vt,"rotate",function(){return It}),z.d(Vt,"angle",function(){return St}),z.d(Vt,"zero",function(){return H}),z.d(Vt,"str",function(){return ot}),z.d(Vt,"exactEquals",function(){return yt}),z.d(Vt,"equals",function(){return xt}),z.d(Vt,"len",function(){return wt}),z.d(Vt,"sub",function(){return Q}),z.d(Vt,"mul",function(){return ct}),z.d(Vt,"div",function(){return it}),z.d(Vt,"dist",function(){return U}),z.d(Vt,"sqrDist",function(){return D}),z.d(Vt,"sqrLen",function(){return W}),z.d(Vt,"forEach",function(){return P});var lt=z("yU0y");function a(){var m=new lt.a(2);return lt.a!=Float32Array&&(m[0]=0,m[1]=0),m}function M(m){var y=new lt.a(2);return y[0]=m[0],y[1]=m[1],y}function t(m,y){var V=new lt.a(2);return V[0]=m,V[1]=y,V}function n(m,y){return m[0]=y[0],m[1]=y[1],m}function d(m,y,V){return m[0]=y,m[1]=V,m}function S(m,y,V){return m[0]=y[0]+V[0],m[1]=y[1]+V[1],m}function b(m,y,V){return m[0]=y[0]-V[0],m[1]=y[1]-V[1],m}function h(m,y,V){return m[0]=y[0]*V[0],m[1]=y[1]*V[1],m}function E(m,y,V){return m[0]=y[0]/V[0],m[1]=y[1]/V[1],m}function T(m,y){return m[0]=Math.ceil(y[0]),m[1]=Math.ceil(y[1]),m}function o(m,y){return m[0]=Math.floor(y[0]),m[1]=Math.floor(y[1]),m}function s(m,y,V){return m[0]=Math.min(y[0],V[0]),m[1]=Math.min(y[1],V[1]),m}function u(m,y,V){return m[0]=Math.max(y[0],V[0]),m[1]=Math.max(y[1],V[1]),m}function v(m,y){return m[0]=Math.round(y[0]),m[1]=Math.round(y[1]),m}function C(m,y,V){return m[0]=y[0]*V,m[1]=y[1]*V,m}function O(m,y,V,J){return m[0]=y[0]+V[0]*J,m[1]=y[1]+V[1]*J,m}function j(m,y){var V=y[0]-m[0],J=y[1]-m[1];return Math.hypot(V,J)}function p(m,y){var V=y[0]-m[0],J=y[1]-m[1];return V*V+J*J}function x(m){var y=m[0],V=m[1];return Math.hypot(y,V)}function A(m){var y=m[0],V=m[1];return y*y+V*V}function k(m,y){return m[0]=-y[0],m[1]=-y[1],m}function X(m,y){return m[0]=1/y[0],m[1]=1/y[1],m}function et(m,y){var V=y[0],J=y[1],ht=V*V+J*J;return ht>0&&(ht=1/Math.sqrt(ht)),m[0]=y[0]*ht,m[1]=y[1]*ht,m}function tt(m,y){return m[0]*y[0]+m[1]*y[1]}function ft(m,y,V){var J=y[0]*V[1]-y[1]*V[0];return m[0]=m[1]=0,m[2]=J,m}function st(m,y,V,J){var ht=y[0],gt=y[1];return m[0]=ht+J*(V[0]-ht),m[1]=gt+J*(V[1]-gt),m}function vt(m,y){y=y||1;var V=lt.c()*2*Math.PI;return m[0]=Math.cos(V)*y,m[1]=Math.sin(V)*y,m}function mt(m,y,V){var J=y[0],ht=y[1];return m[0]=V[0]*J+V[2]*ht,m[1]=V[1]*J+V[3]*ht,m}function pt(m,y,V){var J=y[0],ht=y[1];return m[0]=V[0]*J+V[2]*ht+V[4],m[1]=V[1]*J+V[3]*ht+V[5],m}function rt(m,y,V){var J=y[0],ht=y[1];return m[0]=V[0]*J+V[3]*ht+V[6],m[1]=V[1]*J+V[4]*ht+V[7],m}function Bt(m,y,V){var J=y[0],ht=y[1];return m[0]=V[0]*J+V[4]*ht+V[12],m[1]=V[1]*J+V[5]*ht+V[13],m}function It(m,y,V,J){var ht=y[0]-V[0],gt=y[1]-V[1],Mt=Math.sin(J),Lt=Math.cos(J);return m[0]=ht*Lt-gt*Mt+V[0],m[1]=ht*Mt+gt*Lt+V[1],m}function St(m,y){var V=m[0],J=m[1],ht=y[0],gt=y[1],Mt=Math.sqrt(V*V+J*J)*Math.sqrt(ht*ht+gt*gt),Lt=Mt&&(V*ht+J*gt)/Mt;return Math.acos(Math.min(Math.max(Lt,-1),1))}function H(m){return m[0]=0,m[1]=0,m}function ot(m){return"vec2("+m[0]+", "+m[1]+")"}function yt(m,y){return m[0]===y[0]&&m[1]===y[1]}function xt(m,y){var V=m[0],J=m[1],ht=y[0],gt=y[1];return Math.abs(V-ht)<=lt.b*Math.max(1,Math.abs(V),Math.abs(ht))&&Math.abs(J-gt)<=lt.b*Math.max(1,Math.abs(J),Math.abs(gt))}var wt=x,Q=b,ct=h,it=E,U=j,D=p,W=A,P=function(){var m=a();return function(y,V,J,ht,gt,Mt){var Lt,At;for(V||(V=2),J||(J=0),ht?At=Math.min(ht*V+J,y.length):At=y.length,Lt=J;Lt<At;Lt+=V)m[0]=y[Lt],m[1]=y[Lt+1],gt(m,m,Mt),y[Lt]=m[0],y[Lt+1]=m[1];return y}}()},a8tM:function(wr,Vt,z){"use strict";z.d(Vt,"c",function(){return A}),z.d(Vt,"b",function(){return ft}),z.d(Vt,"a",function(){return st});var lt=z("jrin");function a(vt){var mt=0,pt=vt.children,rt=pt&&pt.length;if(!rt)mt=1;else for(;--rt>=0;)mt+=pt[rt].value;vt.value=mt}var M=function(){return this.eachAfter(a)},t=z("rAM+"),n=function(vt,mt){var pt=-1,rt=Object(t.a)(this),Bt;try{for(rt.s();!(Bt=rt.n()).done;){var It=Bt.value;vt.call(mt,It,++pt,this)}}catch(St){rt.e(St)}finally{rt.f()}return this},d=function(vt,mt){for(var pt=this,rt=[pt],Bt,It,St=-1;pt=rt.pop();)if(vt.call(mt,pt,++St,this),Bt=pt.children)for(It=Bt.length-1;It>=0;--It)rt.push(Bt[It]);return this},S=function(vt,mt){for(var pt=this,rt=[pt],Bt=[],It,St,H,ot=-1;pt=rt.pop();)if(Bt.push(pt),It=pt.children)for(St=0,H=It.length;St<H;++St)rt.push(It[St]);for(;pt=Bt.pop();)vt.call(mt,pt,++ot,this);return this},b=function(vt,mt){var pt=-1,rt=Object(t.a)(this),Bt;try{for(rt.s();!(Bt=rt.n()).done;){var It=Bt.value;if(vt.call(mt,It,++pt,this))return It}}catch(St){rt.e(St)}finally{rt.f()}},h=function(vt){return this.eachAfter(function(mt){for(var pt=+vt(mt.data)||0,rt=mt.children,Bt=rt&&rt.length;--Bt>=0;)pt+=rt[Bt].value;mt.value=pt})},E=function(vt){return this.eachBefore(function(mt){mt.children&&mt.children.sort(vt)})},T=function(vt){for(var mt=this,pt=o(mt,vt),rt=[mt];mt!==pt;)mt=mt.parent,rt.push(mt);for(var Bt=rt.length;vt!==pt;)rt.splice(Bt,0,vt),vt=vt.parent;return rt};function o(vt,mt){if(vt===mt)return vt;var pt=vt.ancestors(),rt=mt.ancestors(),Bt=null;for(vt=pt.pop(),mt=rt.pop();vt===mt;)Bt=vt,vt=pt.pop(),mt=rt.pop();return Bt}var s=function(){for(var vt=this,mt=[vt];vt=vt.parent;)mt.push(vt);return mt},u=function(){return Array.from(this)},v=function(){var vt=[];return this.eachBefore(function(mt){mt.children||vt.push(mt)}),vt},C=function(){var vt=this,mt=[];return vt.each(function(pt){pt!==vt&&mt.push({source:pt.parent,target:pt})}),mt},O=z("WmNS"),j=z.n(O),p=j.a.mark(x);function x(){var vt,mt,pt,rt,Bt,It;return j.a.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:vt=this,pt=[vt];case 1:mt=pt.reverse(),pt=[];case 2:if(!(vt=mt.pop())){H.next=8;break}return H.next=5,vt;case 5:if(rt=vt.children)for(Bt=0,It=rt.length;Bt<It;++Bt)pt.push(rt[Bt]);H.next=2;break;case 8:if(pt.length){H.next=1;break}case 9:case"end":return H.stop()}},p,this)}function A(vt,mt){vt instanceof Map?(vt=[void 0,vt],mt===void 0&&(mt=et)):mt===void 0&&(mt=X);for(var pt=new st(vt),rt,Bt=[pt],It,St,H,ot;rt=Bt.pop();)if((St=mt(rt.data))&&(ot=(St=Array.from(St)).length))for(rt.children=St,H=ot-1;H>=0;--H)Bt.push(It=St[H]=new st(St[H])),It.parent=rt,It.depth=rt.depth+1;return pt.eachBefore(ft)}function k(){return A(this).eachBefore(tt)}function X(vt){return vt.children}function et(vt){return Array.isArray(vt)?vt[1]:null}function tt(vt){vt.data.value!==void 0&&(vt.value=vt.data.value),vt.data=vt.data.data}function ft(vt){var mt=0;do vt.height=mt;while((vt=vt.parent)&&vt.height<++mt)}function st(vt){this.data=vt,this.depth=this.height=0,this.parent=null}st.prototype=A.prototype=Object(lt.a)({constructor:st,count:M,each:n,eachAfter:S,eachBefore:d,find:b,sum:h,sort:E,path:T,ancestors:s,descendants:u,leaves:v,links:C,copy:k},Symbol.iterator,x)},aFU3:function(wr,Vt,z){"use strict";z.r(Vt),z.d(Vt,"version",function(){return O});var lt=z("tvuL");z.d(Vt,"PathUtil",function(){return lt});var a=z("4cbP"),M=z.n(a);for(var t in a)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(t)<0&&function(j){z.d(Vt,j,function(){return a[j]})}(t);var n=z("tdXX"),d=z.n(n);for(var t in n)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(t)<0&&function(p){z.d(Vt,p,function(){return n[p]})}(t);var S=z("5eLp");z.d(Vt,"Event",function(){return S.a});var b=z("LmB6");z.d(Vt,"Base",function(){return b.a});var h=z("EkMX");z.d(Vt,"AbstractCanvas",function(){return h.a});var E=z("+DwW");z.d(Vt,"AbstractGroup",function(){return E.a});var T=z("MaEA");z.d(Vt,"AbstractShape",function(){return T.a});var o=z("1MZV");z.d(Vt,"getBBoxMethod",function(){return o.a});var s=z("vIgC");z.d(Vt,"getTextHeight",function(){return s.b}),z.d(Vt,"assembleFont",function(){return s.a});var u=z("sstZ");z.d(Vt,"isAllowCapture",function(){return u.b});var v=z("aSjE");z.d(Vt,"multiplyVec2",function(){return v.c}),z.d(Vt,"invert",function(){return v.a});var C=z("lt7v");z.d(Vt,"getOffScreenContext",function(){return C.a});var O="0.5.4"},aLzy:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return Q});var lt=z("mrSG"),a=z("zJSt"),M=z("w02o"),t=z("YuPD"),n=z("5OoT"),d=z("iTfj"),S=z("5HRO"),b=z("WOQw"),h="$$percentage$$",E="$$mappingValue$$",T="$$conversion$$",o="$$totalPercentage$$",s="$$x$$",u="$$y$$";function v(ct,it,U){var D=[],W=U.yField,P=U.maxSize,m=U.minSize,y=Object(d.maxBy)(it,W)[W],V=Object(d.isNumber)(P)?P:1,J=Object(d.isNumber)(m)?m:0;return D=Object(d.map)(ct,function(ht,gt){var Mt=(ht[W]||0)/y;return ht[h]=Mt,ht[E]=(V-J)*Mt+J,ht[T]=[Object(d.get)(ct,[gt-1,W]),ht[W]],ht}),D}function C(ct){return function(it){var U=it.chart,D=it.options,W=D.conversionTag,P=U.getOptions().data;if(W){var m=W.formatter;P.forEach(function(y,V){if(!(V<=0)){var J=ct(y,V,P,{top:!0,text:{content:Object(d.isFunction)(m)?m(y,P):m,offsetX:W.offsetX,offsetY:W.offsetY,position:"end",autoRotate:!1,style:Object(lt.a)({textAlign:"start",textBaseline:"middle"},W.style)}});U.annotation().line(J)}})}return it}}function O(ct){var it=ct.chart,U=ct.options,D=U.data,W=D===void 0?[]:D,P=U.yField,m=U.maxSize,y=U.minSize,V=v(W,W,{yField:P,maxSize:m,minSize:y});return it.data(V),ct}function j(ct){var it=ct.chart,U=ct.options,D=U.xField,W=U.yField,P=U.color,m=U.tooltip,y=U.label,V=Object(S.a)(m,[D,W]),J=V.fields,ht=V.formatter;Object(b.a)({chart:it,options:{type:"interval",xField:D,yField:E,colorField:D,tooltipFields:Object(d.isArray)(J)&&J.concat([h,T]),mapping:{shape:"funnel",tooltip:ht,color:P},label:y}});var gt=Object(t.c)(ct.chart,"interval");return gt.adjust("symmetric"),ct}function p(ct){var it=ct.chart,U=ct.options,D=U.isTransposed;return it.coordinate({type:"rect",actions:D?[]:[["transpose"],["scale",1,-1]]}),ct}function x(ct){var it=ct.options,U=it.maxSize,D=function(P,m,y,V){var J=U-(U-P[E])/2;return Object(lt.a)(Object(lt.a)({},V),{start:[m-.5,J],end:[m-.5,J+.05]})};return C(D)(ct),ct}function A(ct){return Object(t.e)(O,j,p,x)(ct)}function k(ct){var it,U=ct.chart,D=ct.options,W=D.data,P=W===void 0?[]:W,m=D.yField;return U.data(P),U.scale((it={},it[m]={sync:!0},it)),ct}function X(ct){var it=ct.chart,U=ct.options,D=U.data,W=U.xField,P=U.yField,m=U.color,y=U.compareField,V=U.isTransposed,J=U.tooltip,ht=U.maxSize,gt=U.minSize,Mt=U.label;return it.facet("mirror",{fields:[y],transpose:!V,padding:V?0:[32,0,0,0],eachView:function(At,Ct){var Ot=V?Ct.rowIndex:Ct.columnIndex;V||At.coordinate({type:"rect",actions:[["transpose"],["scale",Ot===0?-1:1,-1]]});var Dt=v(Ct.data,D,{yField:P,maxSize:ht,minSize:gt});At.data(Dt);var Ft=Object(S.a)(J,[W,P,y]),Xt=Ft.fields,Rt=Ft.formatter,Kt=V?{offset:Ot===0?10:-23,position:Ot===0?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:Ot===0?"end":"start"}};Object(b.a)({chart:At,options:{type:"interval",xField:W,yField:E,colorField:W,tooltipFields:Object(d.isArray)(Xt)&&Xt.concat([h,T]),mapping:{shape:"funnel",tooltip:Rt,color:m,style:{lineWidth:1,stroke:"#fff"}},label:Mt===!1?!1:Object(t.b)({},Kt,Mt)}})}}),ct}function et(ct){var it=ct.chart,U=ct.options,D=U.conversionTag,W=U.isTransposed;return it.once("beforepaint",function(){it.views.forEach(function(P,m){var y=function(J,ht,gt,Mt){var Lt=m===0?-1:1;return Object(t.b)({},Mt,{start:[ht-.5,J[E]],end:[ht-.5,J[E]+.05],text:W?{style:{textAlign:"start"}}:{offsetX:D!==!1?Lt*D.offsetX:0,style:{textAlign:m===0?"end":"start"}}})};C(y)(Object(t.b)({},{chart:P,options:U}))})}),ct}function tt(ct){return Object(t.e)(k,X,et)(ct)}function ft(ct){var it,U=ct.chart,D=ct.options,W=D.data,P=W===void 0?[]:W,m=D.yField;return U.data(P),U.scale((it={},it[m]={sync:!0},it)),ct}function st(ct){var it=ct.chart,U=ct.options,D=U.seriesField,W=U.isTransposed;return it.facet("rect",{fields:[D],padding:[W?0:32,10,0,10],eachView:function(m,y){A(Object(t.b)({},ct,{chart:m,options:{data:y.data}}))}}),ct}function vt(ct){return Object(t.e)(ft,st)(ct)}function mt(ct){var it=ct.chart,U=ct.options,D=U.data,W=D===void 0?[]:D,P=U.yField,m=Object(d.reduce)(W,function(J,ht){return J+(ht[P]||0)},0),y=Object(d.maxBy)(W,P)[P],V=Object(d.map)(W,function(J,ht){var gt=[],Mt=[];if(J[o]=(J[P]||0)/m,ht){var Lt=W[ht-1][s],At=W[ht-1][u];gt[0]=Lt[3],Mt[0]=At[3],gt[1]=Lt[2],Mt[1]=At[2]}else gt[0]=-.5,Mt[0]=1,gt[1]=.5,Mt[1]=1;return Mt[2]=Mt[1]-J[o],gt[2]=(Mt[2]+1)/4,Mt[3]=Mt[2],gt[3]=-gt[2],J[s]=gt,J[u]=Mt,J[h]=(J[P]||0)/y,J[T]=[Object(d.get)(W,[ht-1,P]),J[P]],J});return it.data(V),ct}function pt(ct){var it=ct.chart,U=ct.options,D=U.xField,W=U.yField,P=U.color,m=U.tooltip,y=U.label,V=Object(S.a)(m,[D,W]),J=V.fields,ht=V.formatter;return Object(b.a)({chart:it,options:{type:"polygon",xField:s,yField:u,colorField:D,tooltipFields:Object(d.isArray)(J)&&J.concat([h,T]),label:y,mapping:{tooltip:ht,color:P}}}),ct}function rt(ct){var it=ct.chart,U=ct.options,D=U.isTransposed;return it.coordinate({type:"rect",actions:D?[["transpose"],["reflect","x"]]:[]}),ct}function Bt(ct){var it=function(D,W,P,m){return Object(lt.a)(Object(lt.a)({},m),{start:[D[s][1],D[u][1]],end:[D[s][1]+.05,D[u][1]]})};return C(it)(ct),ct}function It(ct){return Object(t.e)(mt,pt,rt,Bt)(ct)}function St(ct){var it,U=ct.options,D=U.compareField,W=U.xField,P=U.yField,m={minSize:0,maxSize:1,meta:(it={},it[E]={min:0,max:1,nice:!1},it),label:D?{fields:[W,P,D,h,T],style:{fill:"#fff",fontSize:12},formatter:function(V){return""+V[P]}}:{fields:[W,P,h,T],offset:0,position:"middle",style:{fill:"#fff",fontSize:12},formatter:function(V){return V[W]+" "+V[P]}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,title:W,formatter:function(V){return{name:V[W],value:V[P]}}},conversionTag:{offsetX:10,offsetY:0,style:{},formatter:function(V){return"\u8F6C\u5316\u7387: "+n.a.apply(void 0,V[T])}}};return Object(t.b)({options:m},ct)}function H(ct){var it=ct.options,U=it.compareField,D=it.dynamicHeight,W=it.seriesField;return W?vt(ct):U?tt(ct):D?It(ct):A(ct)}function ot(ct){var it,U=ct.options,D=U.xAxis,W=U.yAxis,P=U.xField,m=U.yField;return Object(t.e)(Object(M.f)((it={},it[P]=D,it[m]=W,it)))(ct)}function yt(ct){var it=ct.chart;return it.axis(!1),ct}function xt(ct){var it=ct.chart,U=ct.options,D=U.legend;return D===!1?it.legend(!1):it.legend(D),ct}function wt(ct){return Object(t.e)(St,H,ot,yt,M.k,M.c,xt,M.a,M.j,Object(M.b)())(ct)}var Q=function(ct){Object(lt.b)(it,ct);function it(){var U=ct!==null&&ct.apply(this,arguments)||this;return U.type="funnel",U}return it.prototype.getDefaultOptions=function(){return{appendPadding:[0,80]}},it.prototype.getSchemaAdaptor=function(){return wt},it}(a.a)},aN7R:function(wr,Vt,z){"use strict";z.r(Vt),z.d(Vt,"Base",function(){return E}),z.d(Vt,"Circle",function(){return s}),z.d(Vt,"Dom",function(){return v}),z.d(Vt,"Ellipse",function(){return O}),z.d(Vt,"Image",function(){return p}),z.d(Vt,"Line",function(){return k}),z.d(Vt,"Marker",function(){return ft}),z.d(Vt,"Path",function(){return vt}),z.d(Vt,"Polygon",function(){return pt}),z.d(Vt,"Polyline",function(){return Bt}),z.d(Vt,"Rect",function(){return xt}),z.d(Vt,"Text",function(){return W});var lt={};z.r(lt),z.d(lt,"Base",function(){return E}),z.d(lt,"Circle",function(){return s}),z.d(lt,"Dom",function(){return v}),z.d(lt,"Ellipse",function(){return O}),z.d(lt,"Image",function(){return p}),z.d(lt,"Line",function(){return k}),z.d(lt,"Marker",function(){return ft}),z.d(lt,"Path",function(){return vt}),z.d(lt,"Polygon",function(){return pt}),z.d(lt,"Polyline",function(){return Bt}),z.d(lt,"Rect",function(){return xt}),z.d(lt,"Text",function(){return W});var a=z("mrSG"),M=z("aFU3"),t=z("APlK"),n=z("c+wO"),d=z("c0lT"),S=z("IvmH"),b=z("5z4m"),h=function(P){Object(a.b)(m,P);function m(){var y=P!==null&&P.apply(this,arguments)||this;return y.type="svg",y.canFill=!1,y.canStroke=!1,y}return m.prototype.getDefaultAttrs=function(){var y=P.prototype.getDefaultAttrs.call(this);return Object(a.a)(Object(a.a)({},y),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},m.prototype.afterAttrsChange=function(y){P.prototype.afterAttrsChange.call(this,y);var V=this.get("canvas");if(V&&V.get("autoDraw")){var J=V.get("context");this.draw(J,y)}},m.prototype.getShapeBase=function(){return lt},m.prototype.getGroupBase=function(){return b.a},m.prototype.onCanvasChange=function(y){Object(d.b)(this,y)},m.prototype.calculateBBox=function(){var y=this.get("el"),V=null;if(y)V=y.getBBox();else{var J=Object(M.getBBoxMethod)(this.get("type"));J&&(V=J(this))}if(V){var ht=V.x,gt=V.y,Mt=V.width,Lt=V.height,At=this.getHitLineWidth(),Ct=At/2,Ot=ht-Ct,Dt=gt-Ct,Ft=ht+Mt+Ct,Xt=gt+Lt+Ct;return{x:Ot,y:Dt,minX:Ot,minY:Dt,maxX:Ft,maxY:Xt,width:Mt+At,height:Lt+At}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},m.prototype.isFill=function(){var y=this.attr(),V=y.fill,J=y.fillStyle;return(V||J||this.isClipShape())&&this.canFill},m.prototype.isStroke=function(){var y=this.attr(),V=y.stroke,J=y.strokeStyle;return(V||J)&&this.canStroke},m.prototype.draw=function(y,V){var J=this.get("el");this.get("destroyed")?J&&J.parentNode.removeChild(J):(J||Object(n.a)(this),Object(t.a)(this,y),this.createPath(y,V),this.shadow(y,V),this.strokeAndFill(y,V),this.transform(V))},m.prototype.createPath=function(y,V){},m.prototype.strokeAndFill=function(y,V){var J=V||this.attr(),ht=J.fill,gt=J.fillStyle,Mt=J.stroke,Lt=J.strokeStyle,At=J.fillOpacity,Ct=J.strokeOpacity,Ot=J.lineWidth,Dt=this.get("el");this.canFill&&(V?"fill"in J?this._setColor(y,"fill",ht):"fillStyle"in J&&this._setColor(y,"fill",gt):this._setColor(y,"fill",ht||gt),At&&Dt.setAttribute(S.b.fillOpacity,At)),this.canStroke&&Ot>0&&(V?"stroke"in J?this._setColor(y,"stroke",Mt):"strokeStyle"in J&&this._setColor(y,"stroke",Lt):this._setColor(y,"stroke",Mt||Lt),Ct&&Dt.setAttribute(S.b.strokeOpacity,Ct),Ot&&Dt.setAttribute(S.b.lineWidth,Ot))},m.prototype._setColor=function(y,V,J){var ht=this.get("el");if(!J){ht.setAttribute(S.b[V],"none");return}if(J=J.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(J)){var gt=y.find("gradient",J);gt||(gt=y.addGradient(J)),ht.setAttribute(S.b[V],"url(#"+gt+")")}else if(/^[p,P]{1}[\s]*\(/.test(J)){var gt=y.find("pattern",J);gt||(gt=y.addPattern(J)),ht.setAttribute(S.b[V],"url(#"+gt+")")}else ht.setAttribute(S.b[V],J)},m.prototype.shadow=function(y,V){var J=this.attr(),ht=V||J,gt=ht.shadowOffsetX,Mt=ht.shadowOffsetY,Lt=ht.shadowBlur,At=ht.shadowColor;(gt||Mt||Lt||At)&&Object(t.b)(this,y)},m.prototype.transform=function(y){var V=this.attr(),J=(y||V).matrix;J&&Object(t.c)(this)},m.prototype.isInShape=function(y,V){return this.isPointInPath(y,V)},m.prototype.isPointInPath=function(y,V){var J=this.get("el"),ht=this.get("canvas"),gt=ht.get("el").getBoundingClientRect(),Mt=y+gt.left,Lt=V+gt.top,At=document.elementFromPoint(Mt,Lt);return!!(At&&At.isEqualNode(J))},m.prototype.getHitLineWidth=function(){var y=this.attrs,V=y.lineWidth,J=y.lineAppendWidth;return this.isStroke()?V+J:0},m}(M.AbstractShape),E=h,T=z("iTfj"),o=function(P){Object(a.b)(m,P);function m(){var y=P!==null&&P.apply(this,arguments)||this;return y.type="circle",y.canFill=!0,y.canStroke=!0,y}return m.prototype.getDefaultAttrs=function(){var y=P.prototype.getDefaultAttrs.call(this);return Object(a.a)(Object(a.a)({},y),{x:0,y:0,r:0})},m.prototype.createPath=function(y,V){var J=this.attr(),ht=this.get("el");Object(T.each)(V||J,function(gt,Mt){Mt==="x"||Mt==="y"?ht.setAttribute("c"+Mt,gt):S.b[Mt]&&ht.setAttribute(S.b[Mt],gt)})},m}(E),s=o,u=function(P){Object(a.b)(m,P);function m(){var y=P!==null&&P.apply(this,arguments)||this;return y.type="dom",y.canFill=!1,y.canStroke=!1,y}return m.prototype.createPath=function(y,V){var J=this.attr(),ht=this.get("el");if(Object(T.each)(V||J,function(At,Ct){S.b[Ct]&&ht.setAttribute(S.b[Ct],At)}),typeof J.html=="function"){var gt=J.html.call(this,J);if(gt instanceof Element||gt instanceof HTMLDocument){for(var Mt=ht.childNodes,Lt=Mt.length-1;Lt>=0;Lt--)ht.removeChild(Mt[Lt]);ht.appendChild(gt)}else ht.innerHTML=gt}else ht.innerHTML=J.html},m}(E),v=u,C=function(P){Object(a.b)(m,P);function m(){var y=P!==null&&P.apply(this,arguments)||this;return y.type="ellipse",y.canFill=!0,y.canStroke=!0,y}return m.prototype.getDefaultAttrs=function(){var y=P.prototype.getDefaultAttrs.call(this);return Object(a.a)(Object(a.a)({},y),{x:0,y:0,rx:0,ry:0})},m.prototype.createPath=function(y,V){var J=this.attr(),ht=this.get("el");Object(T.each)(V||J,function(gt,Mt){Mt==="x"||Mt==="y"?ht.setAttribute("c"+Mt,gt):S.b[Mt]&&ht.setAttribute(S.b[Mt],gt)})},m}(E),O=C,j=function(P){Object(a.b)(m,P);function m(){var y=P!==null&&P.apply(this,arguments)||this;return y.type="image",y.canFill=!1,y.canStroke=!1,y}return m.prototype.getDefaultAttrs=function(){var y=P.prototype.getDefaultAttrs.call(this);return Object(a.a)(Object(a.a)({},y),{x:0,y:0,width:0,height:0})},m.prototype.createPath=function(y,V){var J=this,ht=this.attr(),gt=this.get("el");Object(T.each)(V||ht,function(Mt,Lt){Lt==="img"?J._setImage(ht.img):S.b[Lt]&&gt.setAttribute(S.b[Lt],Mt)})},m.prototype.setAttr=function(y,V){this.attrs[y]=V,y==="img"&&this._setImage(V)},m.prototype._setImage=function(y){var V=this.attr(),J=this.get("el");if(Object(T.isString)(y))J.setAttribute("href",y);else if(y instanceof window.Image)V.width||(J.setAttribute("width",y.width),this.attr("width",y.width)),V.height||(J.setAttribute("height",y.height),this.attr("height",y.height)),J.setAttribute("href",y.src);else if(y instanceof HTMLElement&&Object(T.isString)(y.nodeName)&&y.nodeName.toUpperCase()==="CANVAS")J.setAttribute("href",y.toDataURL());else if(y instanceof ImageData){var ht=document.createElement("canvas");ht.setAttribute("width",""+y.width),ht.setAttribute("height",""+y.height),ht.getContext("2d").putImageData(y,0,0),V.width||(J.setAttribute("width",""+y.width),this.attr("width",y.width)),V.height||(J.setAttribute("height",""+y.height),this.attr("height",y.height)),J.setAttribute("href",ht.toDataURL())}},m}(E),p=j,x=z("EYNi"),A=function(P){Object(a.b)(m,P);function m(){var y=P!==null&&P.apply(this,arguments)||this;return y.type="line",y.canFill=!1,y.canStroke=!0,y}return m.prototype.getDefaultAttrs=function(){var y=P.prototype.getDefaultAttrs.call(this);return Object(a.a)(Object(a.a)({},y),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},m.prototype.createPath=function(y,V){var J=this.attr(),ht=this.get("el");Object(T.each)(V||J,function(gt,Mt){if(Mt==="startArrow"||Mt==="endArrow")if(gt){var Lt=Object(T.isObject)(gt)?y.addArrow(J,S.b[Mt]):y.getDefaultArrow(J,S.b[Mt]);ht.setAttribute(S.b[Mt],"url(#"+Lt+")")}else ht.removeAttribute(S.b[Mt]);else S.b[Mt]&&ht.setAttribute(S.b[Mt],gt)})},m.prototype.getTotalLength=function(){var y=this.attr(),V=y.x1,J=y.y1,ht=y.x2,gt=y.y2;return x.c.length(V,J,ht,gt)},m.prototype.getPoint=function(y){var V=this.attr(),J=V.x1,ht=V.y1,gt=V.x2,Mt=V.y2;return x.c.pointAt(J,ht,gt,Mt,y)},m}(E),k=A,X={circle:function(m,y,V){return[["M",m,y],["m",-V,0],["a",V,V,0,1,0,V*2,0],["a",V,V,0,1,0,-V*2,0]]},square:function(m,y,V){return[["M",m-V,y-V],["L",m+V,y-V],["L",m+V,y+V],["L",m-V,y+V],["Z"]]},diamond:function(m,y,V){return[["M",m-V,y],["L",m,y-V],["L",m+V,y],["L",m,y+V],["Z"]]},triangle:function(m,y,V){var J=V*Math.sin(1/3*Math.PI);return[["M",m-V,y+J],["L",m,y-J],["L",m+V,y+J],["z"]]},triangleDown:function(m,y,V){var J=V*Math.sin(1/3*Math.PI);return[["M",m-V,y-J],["L",m+V,y-J],["L",m,y+J],["Z"]]}},et={get:function(m){return X[m]},register:function(m,y){X[m]=y},remove:function(m){delete X[m]},getAll:function(){return X}},tt=function(P){Object(a.b)(m,P);function m(){var y=P!==null&&P.apply(this,arguments)||this;return y.type="marker",y.canFill=!0,y.canStroke=!0,y}return m.prototype.createPath=function(y){var V=this.get("el");V.setAttribute("d",this._assembleMarker())},m.prototype._assembleMarker=function(){var y=this._getPath();return Object(T.isArray)(y)?y.map(function(V){return V.join(" ")}).join(""):y},m.prototype._getPath=function(){var y=this.attr(),V=y.x,J=y.y,ht=y.r||y.radius,gt=y.symbol||"circle",Mt;return Object(T.isFunction)(gt)?Mt=gt:Mt=et.get(gt),Mt?Mt(V,J,ht):(console.warn(Mt+" symbol is not exist."),null)},m.symbolsFactory=et,m}(E),ft=tt,st=function(P){Object(a.b)(m,P);function m(){var y=P!==null&&P.apply(this,arguments)||this;return y.type="path",y.canFill=!0,y.canStroke=!0,y}return m.prototype.getDefaultAttrs=function(){var y=P.prototype.getDefaultAttrs.call(this);return Object(a.a)(Object(a.a)({},y),{startArrow:!1,endArrow:!1})},m.prototype.createPath=function(y,V){var J=this,ht=this.attr(),gt=this.get("el");Object(T.each)(V||ht,function(Mt,Lt){if(Lt==="path"&&Object(T.isArray)(Mt))gt.setAttribute("d",J._formatPath(Mt));else if(Lt==="startArrow"||Lt==="endArrow")if(Mt){var At=Object(T.isObject)(Mt)?y.addArrow(ht,S.b[Lt]):y.getDefaultArrow(ht,S.b[Lt]);gt.setAttribute(S.b[Lt],"url(#"+At+")")}else gt.removeAttribute(S.b[Lt]);else S.b[Lt]&&gt.setAttribute(S.b[Lt],Mt)})},m.prototype._formatPath=function(y){var V=y.map(function(J){return J.join(" ")}).join("");return~V.indexOf("NaN")?"":V},m.prototype.getTotalLength=function(){var y=this.get("el");return y?y.getTotalLength():null},m.prototype.getPoint=function(y){var V=this.get("el"),J=this.getTotalLength();if(J===0)return null;var ht=V?V.getPointAtLength(y*J):null;return ht?{x:ht.x,y:ht.y}:null},m}(E),vt=st,mt=function(P){Object(a.b)(m,P);function m(){var y=P!==null&&P.apply(this,arguments)||this;return y.type="polygon",y.canFill=!0,y.canStroke=!0,y}return m.prototype.createPath=function(y,V){var J=this.attr(),ht=this.get("el");Object(T.each)(V||J,function(gt,Mt){Mt==="points"&&Object(T.isArray)(gt)&&gt.length>=2?ht.setAttribute("points",gt.map(function(Lt){return Lt[0]+","+Lt[1]}).join(" ")):S.b[Mt]&&ht.setAttribute(S.b[Mt],gt)})},m}(E),pt=mt,rt=function(P){Object(a.b)(m,P);function m(){var y=P!==null&&P.apply(this,arguments)||this;return y.type="polyline",y.canFill=!0,y.canStroke=!0,y}return m.prototype.getDefaultAttrs=function(){var y=P.prototype.getDefaultAttrs.call(this);return Object(a.a)(Object(a.a)({},y),{startArrow:!1,endArrow:!1})},m.prototype.onAttrChange=function(y,V,J){P.prototype.onAttrChange.call(this,y,V,J),["points"].indexOf(y)!==-1&&this._resetCache()},m.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},m.prototype.createPath=function(y,V){var J=this.attr(),ht=this.get("el");Object(T.each)(V||J,function(gt,Mt){Mt==="points"&&Object(T.isArray)(gt)&&gt.length>=2?ht.setAttribute("points",gt.map(function(Lt){return Lt[0]+","+Lt[1]}).join(" ")):S.b[Mt]&&ht.setAttribute(S.b[Mt],gt)})},m.prototype.getTotalLength=function(){var y=this.attr().points,V=this.get("totalLength");return Object(T.isNil)(V)?(this.set("totalLength",x.d.length(y)),this.get("totalLength")):V},m.prototype.getPoint=function(y){var V=this.attr().points,J=this.get("tCache");J||(this._setTcache(),J=this.get("tCache"));var ht,gt;return Object(T.each)(J,function(Mt,Lt){y>=Mt[0]&&y<=Mt[1]&&(ht=(y-Mt[0])/(Mt[1]-Mt[0]),gt=Lt)}),x.c.pointAt(V[gt][0],V[gt][1],V[gt+1][0],V[gt+1][1],ht)},m.prototype._setTcache=function(){var y=this.attr().points;if(!(!y||y.length===0)){var V=this.getTotalLength();if(!(V<=0)){var J=0,ht=[],gt,Mt;Object(T.each)(y,function(Lt,At){y[At+1]&&(gt=[],gt[0]=J/V,Mt=x.c.length(Lt[0],Lt[1],y[At+1][0],y[At+1][1]),J+=Mt,gt[1]=J/V,ht.push(gt))}),this.set("tCache",ht)}}},m.prototype.getStartTangent=function(){var y=this.attr().points,V=[];return V.push([y[1][0],y[1][1]]),V.push([y[0][0],y[0][1]]),V},m.prototype.getEndTangent=function(){var y=this.attr().points,V=y.length-1,J=[];return J.push([y[V-1][0],y[V-1][1]]),J.push([y[V][0],y[V][1]]),J},m}(E),Bt=rt,It=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,St=/[^\s,]+/gi;function H(P){var m=0,y=0,V=0,J=0;return Object(T.isArray)(P)?P.length===1?m=y=V=J=P[0]:P.length===2?(m=V=P[0],y=J=P[1]):P.length===3?(m=P[0],y=J=P[1],V=P[2]):(m=P[0],y=P[1],V=P[2],J=P[3]):m=y=V=J=P,{r1:m,r2:y,r3:V,r4:J}}function ot(P){if(P=P||[],Object(T.isArray)(P))return P;if(Object(T.isString)(P))return P=P.match(It),Object(T.each)(P,function(m,y){if(m=m.match(St),m[0].length>1){var V=m[0].charAt(0);m.splice(1,0,m[0].substr(1)),m[0]=V}Object(T.each)(m,function(J,ht){isNaN(J)||(m[ht]=+J)}),P[y]=m}),P}var yt=function(P){Object(a.b)(m,P);function m(){var y=P!==null&&P.apply(this,arguments)||this;return y.type="rect",y.canFill=!0,y.canStroke=!0,y}return m.prototype.getDefaultAttrs=function(){var y=P.prototype.getDefaultAttrs.call(this);return Object(a.a)(Object(a.a)({},y),{x:0,y:0,width:0,height:0,radius:0})},m.prototype.createPath=function(y,V){var J=this,ht=this.attr(),gt=this.get("el"),Mt=!1,Lt=["x","y","width","height","radius"];Object(T.each)(V||ht,function(At,Ct){Lt.indexOf(Ct)!==-1&&!Mt?(gt.setAttribute("d",J._assembleRect(ht)),Mt=!0):Lt.indexOf(Ct)===-1&&S.b[Ct]&&gt.setAttribute(S.b[Ct],At)})},m.prototype._assembleRect=function(y){var V=y.x,J=y.y,ht=y.width,gt=y.height,Mt=y.radius;if(!Mt)return"M "+V+","+J+" l "+ht+",0 l 0,"+gt+" l"+-ht+" 0 z";var Lt=H(Mt);Object(T.isArray)(Mt)?Mt.length===1?Lt.r1=Lt.r2=Lt.r3=Lt.r4=Mt[0]:Mt.length===2?(Lt.r1=Lt.r3=Mt[0],Lt.r2=Lt.r4=Mt[1]):Mt.length===3?(Lt.r1=Mt[0],Lt.r2=Lt.r4=Mt[1],Lt.r3=Mt[2]):(Lt.r1=Mt[0],Lt.r2=Mt[1],Lt.r3=Mt[2],Lt.r4=Mt[3]):Lt.r1=Lt.r2=Lt.r3=Lt.r4=Mt;var At=[["M "+(V+Lt.r1)+","+J],["l "+(ht-Lt.r1-Lt.r2)+",0"],["a "+Lt.r2+","+Lt.r2+",0,0,1,"+Lt.r2+","+Lt.r2],["l 0,"+(gt-Lt.r2-Lt.r3)],["a "+Lt.r3+","+Lt.r3+",0,0,1,"+-Lt.r3+","+Lt.r3],["l "+(Lt.r3+Lt.r4-ht)+",0"],["a "+Lt.r4+","+Lt.r4+",0,0,1,"+-Lt.r4+","+-Lt.r4],["l 0,"+(Lt.r4+Lt.r1-gt)],["a "+Lt.r1+","+Lt.r1+",0,0,1,"+Lt.r1+","+-Lt.r1],["z"]];return At.join(" ")},m}(E),xt=yt,wt=z("e0ae"),Q=.3,ct={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},it={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},U={left:"left",start:"left",center:"middle",right:"end",end:"end"},D=function(P){Object(a.b)(m,P);function m(){var y=P!==null&&P.apply(this,arguments)||this;return y.type="text",y.canFill=!0,y.canStroke=!0,y}return m.prototype.getDefaultAttrs=function(){var y=P.prototype.getDefaultAttrs.call(this);return Object(a.a)(Object(a.a)({},y),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},m.prototype.createPath=function(y,V){var J=this,ht=this.attr(),gt=this.get("el");this._setFont(),Object(T.each)(V||ht,function(Mt,Lt){Lt==="text"?J._setText(""+Mt):Lt==="matrix"&&Mt?Object(t.c)(J):S.b[Lt]&&gt.setAttribute(S.b[Lt],Mt)}),gt.setAttribute("paint-order","stroke"),gt.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},m.prototype._setFont=function(){var y=this.get("el"),V=this.attr(),J=V.textBaseline,ht=V.textAlign,gt=Object(wt.a)();gt&&gt.name==="firefox"?y.setAttribute("dominant-baseline",it[J]||"alphabetic"):y.setAttribute("alignment-baseline",ct[J]||"baseline"),y.setAttribute("text-anchor",U[ht]||"left")},m.prototype._setText=function(y){var V=this.get("el"),J=this.attr(),ht=J.x,gt=J.textBaseline,Mt=gt===void 0?"bottom":gt;if(!y)V.innerHTML="";else if(~y.indexOf(`
`)){var Lt=y.split(`
`),At=Lt.length-1,Ct="";Object(T.each)(Lt,function(Ot,Dt){Dt===0?Mt==="alphabetic"?Ct+='<tspan x="'+ht+'" dy="'+-At+'em">'+Ot+"</tspan>":Mt==="top"?Ct+='<tspan x="'+ht+'" dy="0.9em">'+Ot+"</tspan>":Mt==="middle"?Ct+='<tspan x="'+ht+'" dy="'+-(At-1)/2+'em">'+Ot+"</tspan>":Mt==="bottom"?Ct+='<tspan x="'+ht+'" dy="-'+(At+Q)+'em">'+Ot+"</tspan>":Mt==="hanging"&&(Ct+='<tspan x="'+ht+'" dy="'+(-(At-1)-Q)+'em">'+Ot+"</tspan>"):Ct+='<tspan x="'+ht+'" dy="1em">'+Ot+"</tspan>"}),V.innerHTML=Ct}else V.innerHTML=y},m}(E),W=D},aSjE:function(wr,Vt,z){"use strict";z.d(Vt,"b",function(){return lt}),z.d(Vt,"c",function(){return a}),z.d(Vt,"a",function(){return M});function lt(t,n){var d=[],S=t[0],b=t[1],h=t[2],E=t[3],T=t[4],o=t[5],s=t[6],u=t[7],v=t[8],C=n[0],O=n[1],j=n[2],p=n[3],x=n[4],A=n[5],k=n[6],X=n[7],et=n[8];return d[0]=C*S+O*E+j*s,d[1]=C*b+O*T+j*u,d[2]=C*h+O*o+j*v,d[3]=p*S+x*E+A*s,d[4]=p*b+x*T+A*u,d[5]=p*h+x*o+A*v,d[6]=k*S+X*E+et*s,d[7]=k*b+X*T+et*u,d[8]=k*h+X*o+et*v,d}function a(t,n){var d=[],S=n[0],b=n[1];return d[0]=t[0]*S+t[3]*b+t[6],d[1]=t[1]*S+t[4]*b+t[7],d}function M(t){var n=[],d=t[0],S=t[1],b=t[2],h=t[3],E=t[4],T=t[5],o=t[6],s=t[7],u=t[8],v=u*E-T*s,C=-u*h+T*o,O=s*h-E*o,j=d*v+S*C+b*O;return j?(j=1/j,n[0]=v*j,n[1]=(-u*S+b*s)*j,n[2]=(T*S-b*E)*j,n[3]=C*j,n[4]=(u*d-b*o)*j,n[5]=(-T*d+b*h)*j,n[6]=O*j,n[7]=(-s*d+S*o)*j,n[8]=(E*d-S*h)*j,n):null}},bx4M:function(wr,Vt,z){"use strict";var lt=z("rePB"),a=z("wx14"),M=z("q1tI"),t=z("TSYQ"),n=z.n(t),d=z("bT9E"),S=z("H84U"),b=function(k,X){var et={};for(var tt in k)Object.prototype.hasOwnProperty.call(k,tt)&&X.indexOf(tt)<0&&(et[tt]=k[tt]);if(k!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ft=0,tt=Object.getOwnPropertySymbols(k);ft<tt.length;ft++)X.indexOf(tt[ft])<0&&Object.prototype.propertyIsEnumerable.call(k,tt[ft])&&(et[tt[ft]]=k[tt[ft]]);return et},h=function(X){var et=X.prefixCls,tt=X.className,ft=X.hoverable,st=ft===void 0?!0:ft,vt=b(X,["prefixCls","className","hoverable"]);return M.createElement(S.a,null,function(mt){var pt=mt.getPrefixCls,rt=pt("card",et),Bt=n()("".concat(rt,"-grid"),tt,Object(lt.a)({},"".concat(rt,"-grid-hoverable"),st));return M.createElement("div",Object(a.a)({},vt,{className:Bt}))})},E=h,T=function(k,X){var et={};for(var tt in k)Object.prototype.hasOwnProperty.call(k,tt)&&X.indexOf(tt)<0&&(et[tt]=k[tt]);if(k!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ft=0,tt=Object.getOwnPropertySymbols(k);ft<tt.length;ft++)X.indexOf(tt[ft])<0&&Object.prototype.propertyIsEnumerable.call(k,tt[ft])&&(et[tt[ft]]=k[tt[ft]]);return et},o=function(X){return M.createElement(S.a,null,function(et){var tt=et.getPrefixCls,ft=X.prefixCls,st=X.className,vt=X.avatar,mt=X.title,pt=X.description,rt=T(X,["prefixCls","className","avatar","title","description"]),Bt=tt("card",ft),It=n()("".concat(Bt,"-meta"),st),St=vt?M.createElement("div",{className:"".concat(Bt,"-meta-avatar")},vt):null,H=mt?M.createElement("div",{className:"".concat(Bt,"-meta-title")},mt):null,ot=pt?M.createElement("div",{className:"".concat(Bt,"-meta-description")},pt):null,yt=H||ot?M.createElement("div",{className:"".concat(Bt,"-meta-detail")},H,ot):null;return M.createElement("div",Object(a.a)({},rt,{className:It}),St,yt)})},s=o,u=z("ZTPi"),v=z("BMrR"),C=z("kPKH"),O=z("3Nzz"),j=function(k,X){var et={};for(var tt in k)Object.prototype.hasOwnProperty.call(k,tt)&&X.indexOf(tt)<0&&(et[tt]=k[tt]);if(k!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ft=0,tt=Object.getOwnPropertySymbols(k);ft<tt.length;ft++)X.indexOf(tt[ft])<0&&Object.prototype.propertyIsEnumerable.call(k,tt[ft])&&(et[tt[ft]]=k[tt[ft]]);return et};function p(k){var X=k.map(function(et,tt){return M.createElement("li",{style:{width:"".concat(100/k.length,"%")},key:"action-".concat(tt)},M.createElement("span",null,et))});return X}var x=function(X){var et,tt,ft=M.useContext(S.b),st=ft.getPrefixCls,vt=ft.direction,mt=M.useContext(O.b),pt=function(dn){X.onTabChange&&X.onTabChange(dn)},rt=function(){var dn;return M.Children.forEach(X.children,function(Un){Un&&Un.type&&Un.type===E&&(dn=!0)}),dn},Bt=X.prefixCls,It=X.className,St=X.extra,H=X.headStyle,ot=H===void 0?{}:H,yt=X.bodyStyle,xt=yt===void 0?{}:yt,wt=X.title,Q=X.loading,ct=X.bordered,it=ct===void 0?!0:ct,U=X.size,D=X.type,W=X.cover,P=X.actions,m=X.tabList,y=X.children,V=X.activeTabKey,J=X.defaultActiveTabKey,ht=X.tabBarExtraContent,gt=X.hoverable,Mt=X.tabProps,Lt=Mt===void 0?{}:Mt,At=j(X,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),Ct=st("card",Bt),Ot=xt.padding===0||xt.padding==="0px"?{padding:24}:void 0,Dt=M.createElement("div",{className:"".concat(Ct,"-loading-block")}),Ft=M.createElement("div",{className:"".concat(Ct,"-loading-content"),style:Ot},M.createElement(v.a,{gutter:8},M.createElement(C.a,{span:22},Dt)),M.createElement(v.a,{gutter:8},M.createElement(C.a,{span:8},Dt),M.createElement(C.a,{span:15},Dt)),M.createElement(v.a,{gutter:8},M.createElement(C.a,{span:6},Dt),M.createElement(C.a,{span:18},Dt)),M.createElement(v.a,{gutter:8},M.createElement(C.a,{span:13},Dt),M.createElement(C.a,{span:9},Dt)),M.createElement(v.a,{gutter:8},M.createElement(C.a,{span:4},Dt),M.createElement(C.a,{span:3},Dt),M.createElement(C.a,{span:16},Dt))),Xt=V!==void 0,Rt=Object(a.a)(Object(a.a)({},Lt),(et={},Object(lt.a)(et,Xt?"activeKey":"defaultActiveKey",Xt?V:J),Object(lt.a)(et,"tabBarExtraContent",ht),et)),Kt,$t=m&&m.length?M.createElement(u.a,Object(a.a)({size:"large"},Rt,{className:"".concat(Ct,"-head-tabs"),onChange:pt}),m.map(function(mn){return M.createElement(u.a.TabPane,{tab:mn.tab,disabled:mn.disabled,key:mn.key})})):null;(wt||St||$t)&&(Kt=M.createElement("div",{className:"".concat(Ct,"-head"),style:ot},M.createElement("div",{className:"".concat(Ct,"-head-wrapper")},wt&&M.createElement("div",{className:"".concat(Ct,"-head-title")},wt),St&&M.createElement("div",{className:"".concat(Ct,"-extra")},St)),$t));var le=W?M.createElement("div",{className:"".concat(Ct,"-cover")},W):null,Me=M.createElement("div",{className:"".concat(Ct,"-body"),style:xt},Q?Ft:y),on=P&&P.length?M.createElement("ul",{className:"".concat(Ct,"-actions")},p(P)):null,hn=Object(d.a)(At,["onTabChange"]),Cn=U||mt,He=n()(Ct,(tt={},Object(lt.a)(tt,"".concat(Ct,"-loading"),Q),Object(lt.a)(tt,"".concat(Ct,"-bordered"),it),Object(lt.a)(tt,"".concat(Ct,"-hoverable"),gt),Object(lt.a)(tt,"".concat(Ct,"-contain-grid"),rt()),Object(lt.a)(tt,"".concat(Ct,"-contain-tabs"),m&&m.length),Object(lt.a)(tt,"".concat(Ct,"-").concat(Cn),Cn),Object(lt.a)(tt,"".concat(Ct,"-type-").concat(D),!!D),Object(lt.a)(tt,"".concat(Ct,"-rtl"),vt==="rtl"),tt),It);return M.createElement("div",Object(a.a)({},hn,{className:He}),Kt,le,Me,on)};x.Grid=E,x.Meta=s;var A=Vt.a=x},"c+wO":function(wr,Vt,z){"use strict";z.d(Vt,"b",function(){return M}),z.d(Vt,"a",function(){return t}),z.d(Vt,"d",function(){return n}),z.d(Vt,"c",function(){return d});var lt=z("iTfj"),a=z("IvmH");function M(S){return document.createElementNS("http://www.w3.org/2000/svg",S)}function t(S){var b=a.a[S.type],h=S.getParent();if(!b)throw new Error("the type "+S.type+" is not supported by svg");var E=M(b);if(S.get("id")&&(E.id=S.get("id")),S.set("el",E),S.set("attrs",{}),h){var T=h.get("el");T||(T=h.createDom(),h.set("el",T)),T.appendChild(E)}return E}function n(S,b){var h=S.get("el"),E=Object(lt.toArray)(h.children).sort(b),T=document.createDocumentFragment();E.forEach(function(o){T.appendChild(o)}),h.appendChild(T)}function d(S,b){var h=S.parentNode,E=Array.from(h.childNodes).filter(function(u){return u.nodeType===1&&u.nodeName.toLowerCase()!=="defs"}),T=E[b],o=E.indexOf(S);if(T){if(o>b)h.insertBefore(S,T);else if(o<b){var s=E[b+1];s?h.insertBefore(S,s):h.appendChild(S)}}else h.appendChild(S)}},c0lT:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return M}),z.d(Vt,"b",function(){return t});var lt=z("APlK"),a=z("c+wO");function M(n,d){d.forEach(function(S){S.draw(n)})}function t(n,d){var S=n.get("canvas");if(S&&S.get("autoDraw")){var b=S.get("context"),h=n.getParent(),E=h?h.getChildren():[S],T=n.get("el");if(d==="remove"){var o=n.get("isClipShape");if(o){var s=T&&T.parentNode,u=s&&s.parentNode;s&&u&&u.removeChild(s)}else T&&T.parentNode&&T.parentNode.removeChild(T)}else if(d==="show")T.setAttribute("visibility","visible");else if(d==="hide")T.setAttribute("visibility","hidden");else if(d==="zIndex")Object(a.c)(T,E.indexOf(n));else if(d==="sort"){var v=n.get("children");v&&v.length&&Object(a.d)(n,function(C,O){return v.indexOf(C)-v.indexOf(O)?1:0})}else d==="clear"?T&&(T.innerHTML=""):d==="matrix"?Object(lt.c)(n):d==="clip"?Object(lt.a)(n,b):d==="attr"||d==="add"&&n.draw(b)}}},cBFB:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return X});var lt=z("mrSG"),a=z("YuPD"),M=z("zJSt"),t=z("tKoa"),n=z("w02o"),d=z("+Nd1"),S=z("a8tM"),b=z("iTfj"),h=z("I7nc"),E={field:"value",size:[1,1],round:!1,padding:0,sort:!0,as:["x","y"]};function T(et,tt){tt=Object(b.assign)({},E,tt);var ft=tt.as;if(!Object(b.isArray)(ft)||ft.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var st;try{st=Object(h.b)(tt)}catch(Bt){console.warn(Bt)}var vt=function(It){return d.a().size(tt.size).round(tt.round).padding(tt.padding)(S.c(It).sum(function(St){return St[st]}))},mt=vt(et),pt=ft[0],rt=ft[1];return mt.each(function(Bt){Bt[pt]=[Bt.x0,Bt.x1,Bt.x1,Bt.x0],Bt[rt]=[Bt.y1,Bt.y1,Bt.y0,Bt.y0],["x0","x1","y0","y1"].forEach(function(It){ft.indexOf(It)===-1&&delete Bt[It]})}),Object(h.a)(mt)}var o=z("NzZ7");function s(et){var tt=et.data,ft=et.type,st=et.seriesField,vt=et.colorField,mt=et.hierarchyConfig,pt={partition:T,treemap:o.a},rt=pt[ft](tt,Object(lt.a)(Object(lt.a)({},mt),{type:"hierarchy."+ft,field:st,as:["x","y"]})),Bt=[];return rt.forEach(function(It){var St,H,ot,yt,xt;if(It.depth===0)return null;var wt=Object(lt.a)((St={},St[st]=It.data[st]||((ot=(H=It.parent)===null||H===void 0?void 0:H.data)===null||ot===void 0?void 0:ot[st]),St[vt]=It.data[vt]||((xt=(yt=It.parent)===null||yt===void 0?void 0:yt.data)===null||xt===void 0?void 0:xt[vt]),St),It);wt.ext=mt,Bt.push(wt)}),Bt}function u(et){var tt=et.items,ft=et.formatter,st=et.fields,vt=tt[0]||{},mt=vt.color,pt=vt.mappingData,rt=vt.data,Bt=document.createElement("ul");Bt.className="g2-tooltip";var It="",St=function(ot,yt){var xt;return ft?ft(Object(lt.a)(Object(lt.a)({},ot),{field:yt})):{name:yt,value:(ot==null?void 0:ot[yt])||((xt=ot==null?void 0:ot.data)===null||xt===void 0?void 0:xt[yt])}};return st.forEach(function(H){var ot=St(rt,H),yt=ot.name,xt=ot.value;It+=`<li class="g2-tooltip-list-item" data-index={index} style="margin-bottom:4px;display:flex;align-items: center;">
        <span style="background-color:`+((pt==null?void 0:pt.color)||mt)+`;" class="g2-tooltip-marker"></span>
        <span style="display:inline-flex;flex:1;justify-content:space-between">
        <span style="margin-right: 16px;">`+yt+`:</span>
        <span class="g2-tooltip-list-item-value">`+xt+`</span>
        </span>
    </li>`}),Bt.innerHTML=It,Bt}function v(et){var tt=et.chart,ft=et.options,st=ft.color,vt=ft.colorField,mt=ft.sunburstStyle,pt=s(ft);return tt.data(pt),Object(t.f)(Object(a.b)({},et,{options:{xField:"x",yField:"y",seriesField:vt,polygon:{color:st,style:mt}}})),et}function C(et){var tt=et.chart;return tt.axis(!1),et}function O(et){var tt=et.chart;return tt.legend(!1),et}function j(et){var tt=et.chart,ft=et.options,st=ft.label,vt=ft.seriesField,mt=Object(a.c)(tt,"polygon");if(!st)mt.label(!1);else{var pt=st.callback,rt=Object(lt.c)(st,["callback"]);mt.label({fields:[vt],callback:pt,cfg:Object(a.p)(rt)})}return et}function p(et){var tt=et.chart,ft=et.options,st=ft.innerRadius,vt=ft.radius,mt=ft.reflect,pt=tt.coordinate({type:"polar",cfg:{innerRadius:st,radius:vt}});return mt&&pt.reflect(mt),et}function x(et){var tt=et.chart,ft=et.options,st=ft.meta;return st&&tt.scale(st),et}function A(et){var tt=et.chart,ft=et.options,st=ft.tooltip,vt=ft.seriesField,mt=ft.colorField;return st&&tt.tooltip(Object(lt.a)(Object(lt.a)({},st),{customContent:st&&st.customContent?st.customContent:function(pt,rt){return u({value:pt,items:rt,formatter:st&&(st==null?void 0:st.formatter),fields:st&&st.fields||[vt,mt]})}})),et}function k(et){return Object(a.e)(v,n.j,C,x,O,p,A,j,n.c,n.a,Object(n.b)())(et)}var X=function(et){Object(lt.b)(tt,et);function tt(){var ft=et!==null&&et.apply(this,arguments)||this;return ft.type="sunburst",ft}return tt.prototype.getDefaultOptions=function(){return Object(a.b)({},et.prototype.getDefaultOptions.call(this),{type:"partition",innerRadius:0,seriesField:"value",tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1}})},tt.prototype.getSchemaAdaptor=function(){return k},tt}(M.a)},chpo:function(wr,Vt,z){"use strict";Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.default=void 0;var lt=1,a=function(){return"".concat(lt++)};Vt.default=a},cyZq:function(wr,Vt,z){"use strict";z.d(Vt,"d",function(){return a}),z.d(Vt,"b",function(){return M}),z.d(Vt,"e",function(){return t}),z.d(Vt,"f",function(){return n}),z.d(Vt,"l",function(){return d}),z.d(Vt,"j",function(){return S});var lt=z("iTfj");z.d(Vt,"i",function(){return lt.isNil}),z.d(Vt,"k",function(){return lt.isString}),z.d(Vt,"h",function(){return lt.isFunction}),z.d(Vt,"g",function(){return lt.isArray}),z.d(Vt,"c",function(){return lt.each}),z.d(Vt,"o",function(){return lt.toRadian}),z.d(Vt,"m",function(){return lt.mod}),z.d(Vt,"n",function(){return lt.requestAnimationFrame}),z.d(Vt,"a",function(){return lt.clearAnimationFrame});function a(){return window?window.devicePixelRatio:1}function M(b,h,E,T){var o=b-E,s=h-T;return Math.sqrt(o*o+s*s)}function t(b,h,E,T,o,s){return o>=b&&o<=b+E&&s>=h&&s<=h+T}function n(b,h){return!(h.minX>b.maxX||h.maxX<b.minX||h.minY>b.maxY||h.maxY<b.minY)}function d(b,h){return!b||!h?b||h:{minX:Math.min(b.minX,h.minX),minY:Math.min(b.minY,h.minY),maxX:Math.max(b.maxX,h.maxX),maxY:Math.max(b.maxY,h.maxY)}}function S(b,h){return b[0]===h[0]&&b[1]===h[1]}},de35:function(wr,Vt,z){"use strict";var lt=z("mrSG"),a=z("fIp6"),M=z("iTfj"),t=z("5UbV"),n=z("NmWf"),d=function(S){Object(lt.b)(b,S);function b(){return S!==null&&S.apply(this,arguments)||this}return b.prototype.getDefaultCfg=function(){var h=S.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},h),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},b.prototype.getContainer=function(){return this.get("container")},b.prototype.show=function(){var h=this.get("container");h.style.display="",this.set("visible",!0)},b.prototype.hide=function(){var h=this.get("container");h.style.display="none",this.set("visible",!1)},b.prototype.setCapture=function(h){var E=this.getContainer(),T=h?"auto":"none";E.style.pointerEvents=T,this.set("capture",h)},b.prototype.getBBox=function(){var h=this.getContainer(),E=parseFloat(h.style.left)||0,T=parseFloat(h.style.top)||0;return Object(t.b)(E,T,h.clientWidth,h.clientHeight)},b.prototype.clear=function(){var h=this.get("container");Object(t.a)(h)},b.prototype.destroy=function(){this.removeEvent(),this.removeDom(),S.prototype.destroy.call(this)},b.prototype.init=function(){S.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},b.prototype.initCapture=function(){this.setCapture(this.get("capture"))},b.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},b.prototype.initDom=function(){},b.prototype.initContainer=function(){var h=this.get("container");if(Object(M.isNil)(h)){h=this.createDom();var E=this.get("parent");Object(M.isString)(E)&&(E=document.getElementById(E),this.set("parent",E)),E.appendChild(h),this.set("container",h)}else Object(M.isString)(h)&&(h=document.getElementById(h),this.set("container",h));this.get("parent")||this.set("parent",h.parentNode)},b.prototype.resetStyles=function(){var h=this.get("domStyles"),E=this.get("defaultStyles");h?h=Object(M.deepMix)({},E,h):h=E,this.set("domStyles",h)},b.prototype.applyStyles=function(){var h=this.get("domStyles");if(!!h){var E=this.getContainer();this.applyChildrenStyles(E,h);var T=this.get("containerClassName");if(T&&Object(t.h)(E,T)){var o=h[T];Object(a.e)(E,o)}}},b.prototype.applyChildrenStyles=function(h,E){Object(M.each)(E,function(T,o){var s=h.getElementsByClassName(o);Object(M.each)(s,function(u){Object(a.e)(u,T)})})},b.prototype.applyStyle=function(h,E){var T=this.get("domStyles");Object(a.e)(E,T[h])},b.prototype.createDom=function(){var h=this.get("containerTpl");return Object(a.b)(h)},b.prototype.initEvent=function(){},b.prototype.removeDom=function(){var h=this.get("container");h&&h.parentNode&&h.parentNode.removeChild(h)},b.prototype.removeEvent=function(){},b.prototype.updateInner=function(h){Object(M.hasKey)(h,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},b.prototype.resetPosition=function(){},b}(n.a);Vt.a=d},e0ae:function(wr,Vt,z){"use strict";(function(lt){z.d(Vt,"a",function(){return s});var a=function(){for(var x=0,A=0,k=arguments.length;A<k;A++)x+=arguments[A].length;for(var X=Array(x),et=0,A=0;A<k;A++)for(var tt=arguments[A],ft=0,st=tt.length;ft<st;ft++,et++)X[et]=tt[ft];return X},M=function(){function x(A,k,X){this.name=A,this.version=k,this.os=X,this.type="browser"}return x}(),t=function(){function x(A){this.version=A,this.type="node",this.name="node",this.os=lt.platform}return x}(),n=function(){function x(A,k,X,et){this.name=A,this.version=k,this.os=X,this.bot=et,this.type="bot-device"}return x}(),d=function(){function x(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return x}(),S=function(){function x(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return x}(),b=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,h=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,E=3,T=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",b]],o=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function s(x){return x?C(x):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new S:typeof navigator!="undefined"?C(navigator.userAgent):j()}function u(x){return x!==""&&T.reduce(function(A,k){var X=k[0],et=k[1];if(A)return A;var tt=et.exec(x);return!!tt&&[X,tt]},!1)}function v(x){var A=u(x);return A?A[0]:null}function C(x){var A=u(x);if(!A)return null;var k=A[0],X=A[1];if(k==="searchbot")return new d;var et=X[1]&&X[1].split(/[._]/).slice(0,3);et?et.length<E&&(et=a(et,p(E-et.length))):et=[];var tt=et.join("."),ft=O(x),st=h.exec(x);return st&&st[1]?new n(k,tt,ft,st[1]):new M(k,tt,ft)}function O(x){for(var A=0,k=o.length;A<k;A++){var X=o[A],et=X[0],tt=X[1],ft=tt.exec(x);if(ft)return et}return null}function j(){var x=typeof lt!="undefined"&&lt.version;return x?new t(lt.version.slice(1)):null}function p(x){for(var A=[],k=0;k<x;k++)A.push("0");return A}}).call(this,z("Q2Ig"))},eHqw:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return A});var lt=z("mrSG"),a=z("zJSt"),M=z("KMYG"),t=z("w02o"),n=z("YuPD"),d=z("iTfj"),S=z("NzZ7");function b(k){return Object(d.isArray)(k)?k.findIndex(function(X){return X.type==="treemap-drill-down"})>-1:!1}function h(k,X){var et=b(k);return et?k.map(function(tt){return tt.type==="treemap-drill-down"?Object(n.b)({},tt,{cfg:{hierarchyConfig:X}}):tt}):k}function E(k){var X=k.data,et=k.colorField,tt=k.openDrillDown,ft=k.hierarchyConfig,st=ft===void 0?{}:ft,vt=Object(S.a)(X,Object(lt.a)(Object(lt.a)({},st),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),mt=[];return vt.forEach(function(pt){if(pt.depth===0||tt&&pt.depth!==1||!tt&&pt.children)return null;var rt=Object.assign({},pt.data,{x:pt.x,y:pt.y,depth:pt.depth,value:pt.value});if(!pt.data[et]&&pt.parent){var Bt=pt.ancestors().find(function(It){return It.data[et]});rt[et]=Bt==null?void 0:Bt.data[et]}else rt[et]=pt.data[et];mt.push(rt)}),mt}function T(k){var X=k.options,et=X.colorField;return Object(n.b)({options:{colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapResquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1,fields:["name","value",et],formatter:function(ft){return{name:ft.name,value:ft.value}}},interactions:[{type:"view-zoom"},{type:"treemap-element-zoom"}]}},k)}function o(k){var X=k.chart,et=k.options,tt=et.color,ft=et.colorField,st=et.rectStyle,vt=E({data:et.data,colorField:et.colorField,openDrillDown:b(et.interactions)});return X.data(vt),Object(M.a)(Object(n.b)({},k,{options:{xField:"x",yField:"y",seriesField:ft,rawFields:["value"],polygon:{color:tt,style:st}}})),k}function s(k){var X=k.chart;return X.axis(!1),k}function u(k){var X=k.chart,et=k.options,tt=et.interactions,ft=et.hierarchyConfig;return Object(t.c)({chart:X,options:{interactions:h(tt,ft)}}),k}function v(k){return Object(n.e)(T,o,s,t.j,t.d,t.k,u,t.a,Object(t.b)())(k)}var C=z("kXyF"),O=function(k){Object(lt.b)(X,k);function X(){var et=k!==null&&k.apply(this,arguments)||this;return et.cacheDataStack=[],et}return X.prototype.drill=function(et){var tt=this.context.view,ft=tt.getData(),st=tt.getGroupScales(),vt=Object(d.get)(tt,["interactions","treemap-drill-down","cfg","hierarchyConfig"],{}),mt=E({data:et,colorField:Object(d.get)(st,[0,"field"]),openDrillDown:!0,hierarchyConfig:vt});tt.changeData(mt),this.cacheDataStack.push(ft)},X.prototype.click=function(){var et=Object(d.get)(this.context,["event","data","data"]);if(!et)return!1;this.drill(et)},X.prototype.reset=function(){var et=this.context.view;if(!(!Object(d.isArray)(this.cacheDataStack)||this.cacheDataStack.length<=0)){var tt=this.cacheDataStack.splice(this.cacheDataStack.length-1,1);et.changeData(tt[0])}},X}(C.Action);function j(k){var X=Object(d.get)(k,["event","data","data"],{});return Object(d.isArray)(X.children)&&X.children.length>0&&X.depth===1}function p(k){if(!k||!k.getAction)return!1;var X=k.getAction("treemap-drill-down-action");if(!X)return!1;var et=X.cacheDataStack;return Object(d.isArray)(et)&&et.length>0}Object(C.registerAction)("treemap-drill-down-action",O),Object(C.registerInteraction)("treemap-drill-down",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:pointer"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"element:click",isEnable:j,action:["treemap-drill-down-action:click","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["treemap-drill-down-action:reset"]},{trigger:"reset-button:click",action:["reset-button:hide"],isEnable:function(X){return!p(X)}}]});var x=z("hag6"),A=function(k){Object(lt.b)(X,k);function X(){var et=k!==null&&k.apply(this,arguments)||this;return et.type="treemap",et}return X.prototype.getSchemaAdaptor=function(){return v},X}(a.a)},f6Jy:function(wr,Vt,z){"use strict";var lt="*",a=function(){function M(){this._events={}}return M.prototype.on=function(t,n,d){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:n,once:!!d}),this},M.prototype.once=function(t,n){return this.on(t,n,!0),this},M.prototype.emit=function(t){for(var n=this,d=[],S=1;S<arguments.length;S++)d[S-1]=arguments[S];var b=this._events[t]||[],h=this._events[lt]||[],E=function(o){for(var s=o.length,u=0;u<s;u++)if(!!o[u]){var v=o[u],C=v.callback,O=v.once;O&&(o.splice(u,1),o.length===0&&delete n._events[t],s--,u--),C.apply(n,d)}};E(b),E(h)},M.prototype.off=function(t,n){if(!t)this._events={};else if(!n)delete this._events[t];else{for(var d=this._events[t]||[],S=d.length,b=0;b<S;b++)d[b].callback===n&&(d.splice(b,1),S--,b--);d.length===0&&delete this._events[t]}return this},M.prototype.getEvents=function(){return this._events},M}();Vt.a=a},fD4D:function(wr,Vt,z){"use strict";var lt=z("ShmH"),a=z.n(lt);a.a.version="4.1.8",Vt.default=a.a;var M="4.1.8"},fFDA:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return ft});var lt=z("mrSG"),a=z("iTfj"),M=z("MeYt"),t={opacity:0},n={stroke:"#C5C5C5",strokeOpacity:.85},d={fill:"#CACED4",opacity:.85},S=z("LvGN"),b=z("8vsG");function h(vt){return Object(a.map)(vt,function(mt,pt){var rt=pt===0?"M":"L",Bt=mt[0],It=mt[1];return[rt,Bt,It]})}function E(vt){return h(vt)}function T(vt){if(vt.length<=2)return E(vt);var mt=[];Object(a.each)(vt,function(St){Object(a.isEqual)(St,mt.slice(mt.length-2))||mt.push(St[0],St[1])});var pt=Object(S.a)(mt,!1),rt=Object(a.head)(vt),Bt=rt[0],It=rt[1];return pt.unshift(["M",Bt,It]),pt}function o(vt,mt,pt,rt){rt===void 0&&(rt=!0);var Bt=new b.b({values:vt}),It=new b.a({values:Object(a.map)(vt,function(H,ot){return ot})}),St=Object(a.map)(vt,function(H,ot){return[It.scale(ot)*mt,pt-Bt.scale(H)*pt]});return rt?T(St):E(St)}function s(vt,mt){var pt=new b.b({values:vt}),rt=Math.max(0,pt.min);return mt-pt.scale(rt)*mt}function u(vt,mt,pt,rt){var Bt=Object(lt.d)(vt),It=s(rt,pt);return Bt.push(["L",mt,It]),Bt.push(["L",0,It]),Bt.push(["Z"]),Bt}var v=function(vt){Object(lt.b)(mt,vt);function mt(){return vt!==null&&vt.apply(this,arguments)||this}return mt.prototype.getDefaultCfg=function(){var pt=vt.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},pt),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:t,lineStyle:n,areaStyle:d})},mt.prototype.renderInner=function(pt){var rt=this.cfg,Bt=rt.width,It=rt.height,St=rt.data,H=rt.smooth,ot=rt.isArea,yt=rt.backgroundStyle,xt=rt.lineStyle,wt=rt.areaStyle;this.addShape(pt,{id:this.getElementId("background"),type:"rect",attrs:Object(lt.a)({x:0,y:0,width:Bt,height:It},yt)});var Q=o(St,Bt,It,H);if(this.addShape(pt,{id:this.getElementId("line"),type:"path",attrs:Object(lt.a)({path:Q},xt)}),ot){var ct=u(Q,Bt,It,St);this.addShape(pt,{id:this.getElementId("area"),type:"path",attrs:Object(lt.a)({path:ct},wt)})}},mt.prototype.applyOffset=function(){var pt=this.cfg,rt=pt.x,Bt=pt.y;this.moveElementTo(this.get("group"),{x:rt,y:Bt})},mt}(M.a),C=v,O={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},j=function(vt){Object(lt.b)(mt,vt);function mt(){return vt!==null&&vt.apply(this,arguments)||this}return mt.prototype.getDefaultCfg=function(){var pt=vt.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},pt),{name:"handler",x:0,y:0,width:10,height:24,style:O})},mt.prototype.renderInner=function(pt){var rt=this.cfg,Bt=rt.width,It=rt.height,St=rt.style,H=St.fill,ot=St.stroke,yt=St.radius,xt=St.opacity,wt=St.cursor;this.addShape(pt,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:Bt,height:It,fill:H,stroke:ot,radius:yt,opacity:xt,cursor:wt}});var Q=1/3*Bt,ct=2/3*Bt,it=1/4*It,U=3/4*It;this.addShape(pt,{id:this.getElementId("line-left"),type:"line",attrs:{x1:Q,y1:it,x2:Q,y2:U,stroke:ot,cursor:wt}}),this.addShape(pt,{id:this.getElementId("line-right"),type:"line",attrs:{x1:ct,y1:it,x2:ct,y2:U,stroke:ot,cursor:wt}})},mt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},mt.prototype.initEvent=function(){this.bindEvents()},mt.prototype.bindEvents=function(){var pt=this;this.get("group").on("mouseenter",function(){var rt=pt.get("style").highLightFill;pt.getElementByLocalId("background").attr("fill",rt),pt.draw()}),this.get("group").on("mouseleave",function(){var rt=pt.get("style").fill;pt.getElementByLocalId("background").attr("fill",rt),pt.draw()})},mt.prototype.draw=function(){var pt=this.get("container").get("canvas");pt&&pt.draw()},mt}(M.a),p=j,x={fill:"#416180",opacity:.05},A={fill:"#5B8FF9",opacity:.15,cursor:"move"},k=10,X={width:k,height:24},et={textBaseline:"middle",fill:"#000",opacity:.45},tt="sliderchange",ft=function(vt){Object(lt.b)(mt,vt);function mt(){var pt=vt!==null&&vt.apply(this,arguments)||this;return pt.onMouseDown=function(rt){return function(Bt){pt.currentTarget=rt;var It=Bt.originalEvent;It.stopPropagation(),It.preventDefault(),pt.prevX=Object(a.get)(It,"touches.0.pageX",It.pageX),pt.prevY=Object(a.get)(It,"touches.0.pageY",It.pageY);var St=pt.getContainerDOM();St.addEventListener("mousemove",pt.onMouseMove),St.addEventListener("mouseup",pt.onMouseUp),St.addEventListener("mouseleave",pt.onMouseUp),St.addEventListener("touchmove",pt.onMouseMove),St.addEventListener("touchend",pt.onMouseUp),St.addEventListener("touchcancel",pt.onMouseUp)}},pt.onMouseMove=function(rt){var Bt=pt.cfg.width,It=[pt.get("start"),pt.get("end")];rt.stopPropagation(),rt.preventDefault();var St=Object(a.get)(rt,"touches.0.pageX",rt.pageX),H=Object(a.get)(rt,"touches.0.pageY",rt.pageY),ot=St-pt.prevX,yt=pt.adjustOffsetRange(ot/Bt);pt.updateStartEnd(yt),pt.updateUI(pt.getElementByLocalId("foreground"),pt.getElementByLocalId("minText"),pt.getElementByLocalId("maxText")),pt.prevX=St,pt.prevY=H,pt.draw(),pt.emit(tt,[pt.get("start"),pt.get("end")].sort()),pt.delegateEmit("valuechanged",{originValue:It,value:[pt.get("start"),pt.get("end")]})},pt.onMouseUp=function(){pt.currentTarget&&(pt.currentTarget=void 0);var rt=pt.getContainerDOM();rt&&(rt.removeEventListener("mousemove",pt.onMouseMove),rt.removeEventListener("mouseup",pt.onMouseUp),rt.removeEventListener("mouseleave",pt.onMouseUp),rt.removeEventListener("touchmove",pt.onMouseMove),rt.removeEventListener("touchend",pt.onMouseUp),rt.removeEventListener("touchcancel",pt.onMouseUp))},pt}return mt.prototype.setRange=function(pt,rt){this.set("minLimit",pt),this.set("maxLimit",rt);var Bt=this.get("start"),It=this.get("end"),St=Object(a.clamp)(Bt,pt,rt),H=Object(a.clamp)(It,pt,rt);!this.get("isInit")&&(Bt!==St||It!==H)&&this.setValue([St,H])},mt.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},mt.prototype.setValue=function(pt){var rt=this.getRange();if(Object(a.isArray)(pt)&&pt.length===2){var Bt=[this.get("start"),this.get("end")];this.update({start:Object(a.clamp)(pt[0],rt.min,rt.max),end:Object(a.clamp)(pt[1],rt.min,rt.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:Bt,value:pt})}},mt.prototype.getValue=function(){return[this.get("start"),this.get("end")]},mt.prototype.getDefaultCfg=function(){var pt=vt.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},pt),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:x,foregroundStyle:A,handlerStyle:X,textStyle:et}})},mt.prototype.update=function(pt){var rt=pt.start,Bt=pt.end,It=Object(lt.a)({},pt);Object(a.isNil)(rt)||(It.start=Object(a.clamp)(rt,0,1)),Object(a.isNil)(Bt)||(It.end=Object(a.clamp)(Bt,0,1)),vt.prototype.update.call(this,It),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},mt.prototype.init=function(){this.set("start",Object(a.clamp)(this.get("start"),0,1)),this.set("end",Object(a.clamp)(this.get("end"),0,1)),vt.prototype.init.call(this)},mt.prototype.render=function(){vt.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},mt.prototype.renderInner=function(pt){var rt=this.cfg,Bt=rt.start,It=rt.end,St=rt.width,H=rt.height,ot=rt.trendCfg,yt=ot===void 0?{}:ot,xt=rt.minText,wt=rt.maxText,Q=rt.backgroundStyle,ct=Q===void 0?{}:Q,it=rt.foregroundStyle,U=it===void 0?{}:it,D=rt.textStyle,W=D===void 0?{}:D,P=rt.handlerStyle,m=P===void 0?{}:P,y=Bt*St,V=It*St;Object(a.size)(Object(a.get)(yt,"data"))&&(this.trend=this.addComponent(pt,Object(lt.a)({component:v,id:this.getElementId("trend"),x:0,y:0,width:St,height:H},yt))),this.addShape(pt,{id:this.getElementId("background"),type:"rect",attrs:Object(lt.a)({x:0,y:0,width:St,height:H},ct)});var J=this.addShape(pt,{id:this.getElementId("minText"),type:"text",attrs:Object(lt.a)({y:H/2,textAlign:"right",text:xt,silent:!1},W)}),ht=this.addShape(pt,{id:this.getElementId("maxText"),type:"text",attrs:Object(lt.a)({y:H/2,textAlign:"left",text:wt,silent:!1},W)}),gt=this.addShape(pt,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:Object(lt.a)({y:0,height:H},U)}),Mt=Object(a.get)(m,"width",k),Lt=Object(a.get)(m,"height",24);this.minHandler=this.addComponent(pt,{component:j,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(H-Lt)/2,width:Mt,height:Lt,cursor:"ew-resize",style:m}),this.maxHandler=this.addComponent(pt,{component:j,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(H-Lt)/2,width:Mt,height:Lt,cursor:"ew-resize",style:m})},mt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},mt.prototype.initEvent=function(){this.bindEvents()},mt.prototype.updateUI=function(pt,rt,Bt){var It=this.cfg,St=It.start,H=It.end,ot=It.width,yt=It.minText,xt=It.maxText,wt=It.handlerStyle,Q=It.height,ct=St*ot,it=H*ot;this.trend&&(this.trend.update({width:ot,height:Q}),this.get("updateAutoRender")||this.trend.render()),pt.attr("x",ct),pt.attr("width",it-ct);var U=Object(a.get)(wt,"width",k);rt.attr("text",yt),Bt.attr("text",xt);var D=this._dodgeText([ct,it],rt,Bt),W=D[0],P=D[1];this.minHandler&&(this.minHandler.update({x:ct-U/2}),this.get("updateAutoRender")||this.minHandler.render()),Object(a.each)(W,function(m,y){return rt.attr(y,m)}),this.maxHandler&&(this.maxHandler.update({x:it-U/2}),this.get("updateAutoRender")||this.maxHandler.render()),Object(a.each)(P,function(m,y){return Bt.attr(y,m)})},mt.prototype.bindEvents=function(){var pt=this.get("group");pt.on("handler-min:mousedown",this.onMouseDown("minHandler")),pt.on("handler-min:touchstart",this.onMouseDown("minHandler")),pt.on("handler-max:mousedown",this.onMouseDown("maxHandler")),pt.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var rt=pt.findById(this.getElementId("foreground"));rt.on("mousedown",this.onMouseDown("foreground")),rt.on("touchstart",this.onMouseDown("foreground"))},mt.prototype.adjustOffsetRange=function(pt){var rt=this.cfg,Bt=rt.start,It=rt.end;switch(this.currentTarget){case"minHandler":{var St=0-Bt,H=1-Bt;return Math.min(H,Math.max(St,pt))}case"maxHandler":{var St=0-It,H=1-It;return Math.min(H,Math.max(St,pt))}case"foreground":{var St=0-Bt,H=1-It;return Math.min(H,Math.max(St,pt))}}},mt.prototype.updateStartEnd=function(pt){var rt=this.cfg,Bt=rt.start,It=rt.end;switch(this.currentTarget){case"minHandler":Bt+=pt;break;case"maxHandler":It+=pt;break;case"foreground":Bt+=pt,It+=pt;break}this.set("start",Bt),this.set("end",It)},mt.prototype._dodgeText=function(pt,rt,Bt){var It,St,H=this.cfg,ot=H.handlerStyle,yt=H.width,xt=2,wt=Object(a.get)(ot,"width",k),Q=pt[0],ct=pt[1],it=!1;Q>ct&&(It=[ct,Q],Q=It[0],ct=It[1],St=[Bt,rt],rt=St[0],Bt=St[1],it=!0);var U=rt.getBBox(),D=Bt.getBBox(),W=U.width>Q-xt?{x:Q+wt/2+xt,textAlign:"left"}:{x:Q-wt/2-xt,textAlign:"right"},P=D.width>yt-ct-xt?{x:ct-wt/2-xt,textAlign:"right"}:{x:ct+wt/2+xt,textAlign:"left"};return it?[P,W]:[W,P]},mt.prototype.draw=function(){var pt=this.get("container"),rt=pt&&pt.get("canvas");rt&&rt.draw()},mt.prototype.getContainerDOM=function(){var pt=this.get("container"),rt=pt&&pt.get("canvas");return rt&&rt.get("container")},mt}(M.a),st=ft},fIp6:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return lt}),z.d(Vt,"b",function(){return S}),z.d(Vt,"c",function(){return E}),z.d(Vt,"d",function(){return o}),z.d(Vt,"e",function(){return u});function lt(v,C,O){if(v){if(typeof v.addEventListener=="function")return v.addEventListener(C,O,!1),{remove:function(){v.removeEventListener(C,O,!1)}};if(typeof v.attachEvent=="function")return v.attachEvent("on"+C,O),{remove:function(){v.detachEvent("on"+C,O)}}}}var a,M,t,n;function d(){a=document.createElement("table"),M=document.createElement("tr"),t=/^\s*<(\w+|!)[^>]*>/,n={tr:document.createElement("tbody"),tbody:a,thead:a,tfoot:a,td:M,th:M,"*":document.createElement("div")}}function S(v){a||d();var C=t.test(v)&&RegExp.$1;(!C||!(C in n))&&(C="*");var O=n[C];v=v.replace(/(^\s*)|(\s*$)/g,""),O.innerHTML=""+v;var j=O.childNodes[0];return O.removeChild(j),j}function b(v,C,O){var j;try{j=window.getComputedStyle?window.getComputedStyle(v,null)[C]:v.style[C]}catch(p){}finally{j=j===void 0?O:j}return j}function h(v,C){var O=b(v,"height",C);return O==="auto"&&(O=v.offsetHeight),parseFloat(O)}function E(v,C){var O=h(v,C),j=parseFloat(b(v,"borderTopWidth"))||0,p=parseFloat(b(v,"paddingTop"))||0,x=parseFloat(b(v,"paddingBottom"))||0,A=parseFloat(b(v,"borderBottomWidth"))||0,k=parseFloat(b(v,"marginTop"))||0,X=parseFloat(b(v,"marginBottom"))||0;return O+j+A+p+x+k+X}function T(v,C){var O=b(v,"width",C);return O==="auto"&&(O=v.offsetWidth),parseFloat(O)}function o(v,C){var O=T(v,C),j=parseFloat(b(v,"borderLeftWidth"))||0,p=parseFloat(b(v,"paddingLeft"))||0,x=parseFloat(b(v,"paddingRight"))||0,A=parseFloat(b(v,"borderRightWidth"))||0,k=parseFloat(b(v,"marginRight"))||0,X=parseFloat(b(v,"marginLeft"))||0;return O+j+A+p+x+X+k}function s(){return window.devicePixelRatio?window.devicePixelRatio:2}function u(v,C){if(v)for(var O in C)C.hasOwnProperty(O)&&(v.style[O]=C[O]);return v}},fP0w:function(wr,Vt,z){"use strict";z.r(Vt),z.d(Vt,"Line",function(){return xt}),z.d(Vt,"Circle",function(){return Q}),z.d(Vt,"Base",function(){return s});var lt={};z.r(lt),z.d(lt,"getDefault",function(){return C}),z.d(lt,"ellipsisHead",function(){return O}),z.d(lt,"ellipsisTail",function(){return j}),z.d(lt,"ellipsisMiddle",function(){return p});var a={};z.r(a),z.d(a,"getDefault",function(){return ft}),z.d(a,"reserveFirst",function(){return st}),z.d(a,"reserveLast",function(){return vt}),z.d(a,"reserveBoth",function(){return mt}),z.d(a,"equidistance",function(){return pt}),z.d(a,"equidistanceWithReverseBoth",function(){return rt});var M={};z.r(M),z.d(M,"getDefault",function(){return St}),z.d(M,"fixedAngle",function(){return H}),z.d(M,"unfixedAngle",function(){return ot});var t={};z.r(t),z.d(t,"autoHide",function(){return a}),z.d(t,"autoRotate",function(){return M}),z.d(t,"autoEllipsis",function(){return lt});var n=z("mrSG"),d=z("6JdA"),S=z("iTfj"),b=z("MeYt"),h=z("jqgP"),E=z("l3hu"),T=z("L16w"),o=function(ct){Object(n.b)(it,ct);function it(){return ct!==null&&ct.apply(this,arguments)||this}return it.prototype.getDefaultCfg=function(){var U=ct.prototype.getDefaultCfg.call(this);return Object(n.a)(Object(n.a)({},U),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:T.a.lineColor}},tickLine:{style:{lineWidth:1,stroke:T.a.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:T.a.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:T.a.textColor,fontFamily:T.a.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:T.a.textColor,textBaseline:"middle",fontFamily:T.a.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:T.a.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},it.prototype.renderInner=function(U){this.get("line")&&this.drawLine(U),this.drawTicks(U),this.get("title")&&this.drawTitle(U)},it.prototype.isList=function(){return!0},it.prototype.getItems=function(){return this.get("ticks")},it.prototype.setItems=function(U){this.update({ticks:U})},it.prototype.updateItem=function(U,D){Object(S.mix)(U,D),this.clear(),this.render()},it.prototype.clearItems=function(){var U=this.getElementByLocalId("label-group");U&&U.clear()},it.prototype.setItemState=function(U,D,W){U[D]=W,this.updateTickStates(U)},it.prototype.hasState=function(U,D){return!!U[D]},it.prototype.getItemStates=function(U){var D=this.get("tickStates"),W=[];return Object(S.each)(D,function(P,m){U[m]&&W.push(m)}),W},it.prototype.clearItemsState=function(U){var D=this,W=this.getItemsByState(U);Object(S.each)(W,function(P){D.setItemState(P,U,!1)})},it.prototype.getItemsByState=function(U){var D=this,W=this.getItems();return Object(S.filter)(W,function(P){return D.hasState(P,U)})},it.prototype.getSidePoint=function(U,D){var W=this,P=W.getSideVector(D,U);return{x:U.x+P[0],y:U.y+P[1]}},it.prototype.getTextAnchor=function(U){var D;return Object(S.isNumberEqual)(U[0],0)?D="center":U[0]>0?D="start":U[0]<0&&(D="end"),D},it.prototype.getTextBaseline=function(U){var D;return Object(S.isNumberEqual)(U[1],0)?D="middle":U[1]>0?D="top":U[1]<0&&(D="bottom"),D},it.prototype.processOverlap=function(U){},it.prototype.drawLine=function(U){var D=this.getLinePath(),W=this.get("line");this.addShape(U,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:Object(S.mix)({path:D},W.style)})},it.prototype.getTickLineItems=function(U){var D=this,W=[],P=this.get("tickLine"),m=P.alignTick,y=P.length,V=1,J=U.length;return J>=2&&(V=U[1].value-U[0].value),Object(S.each)(U,function(ht){var gt=ht.point;m||(gt=D.getTickPoint(ht.value-V/2));var Mt=D.getSidePoint(gt,y);W.push({startPoint:gt,tickValue:ht.value,endPoint:Mt,tickId:ht.id,id:"tickline-"+ht.id})}),W},it.prototype.getSubTickLineItems=function(U){var D=[],W=this.get("subTickLine"),P=W.count,m=U.length;if(m>=2)for(var y=0;y<m-1;y++)for(var V=U[y],J=U[y+1],ht=0;ht<P;ht++){var gt=(ht+1)/(P+1),Mt=(1-gt)*V.tickValue+gt*J.tickValue,Lt=this.getTickPoint(Mt),At=this.getSidePoint(Lt,W.length);D.push({startPoint:Lt,endPoint:At,tickValue:Mt,id:"sub-"+V.id+"-"+ht})}return D},it.prototype.getTickLineAttrs=function(U,D,W,P){var m=this.get(D).style,y={points:[U.startPoint,U.endPoint]},V=Object(S.get)(this.get("theme"),["tickLine","style"],{});m=Object(S.isFunction)(m)?Object(S.mix)({},V,m(y,W,P)):m;var J=U.startPoint,ht=U.endPoint;return Object(n.a)({x1:J.x,y1:J.y,x2:ht.x,y2:ht.y},m)},it.prototype.drawTick=function(U,D,W,P,m){this.addShape(D,{type:"line",id:this.getElementId(U.id),name:"axis-"+W,attrs:this.getTickLineAttrs(U,W,P,m)})},it.prototype.drawTickLines=function(U){var D=this,W=this.get("ticks"),P=this.get("subTickLine"),m=this.getTickLineItems(W),y=this.addGroup(U,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),V=this.get("tickLine");if(Object(S.each)(m,function(ht,gt){if(V.displayWithLabel){var Mt=D.getElementId("label-"+ht.tickId);U.findById(Mt)&&D.drawTick(ht,y,"tickLine",gt,m)}else D.drawTick(ht,y,"tickLine",gt,m)}),P){var J=this.getSubTickLineItems(m);Object(S.each)(J,function(ht,gt){D.drawTick(ht,y,"subTickLine",gt,J)})}},it.prototype.processTicks=function(){var U=this,D=this.get("ticks");Object(S.each)(D,function(W){W.point=U.getTickPoint(W.value),Object(S.isNil)(W.id)&&(W.id=W.name)})},it.prototype.drawTicks=function(U){var D=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(U),this.get("tickLine")&&this.drawTickLines(U);var W=this.get("ticks");Object(S.each)(W,function(P){D.applyTickStates(P,U)})},it.prototype.optimizeTicks=function(){var U=this.get("optimize"),D=this.get("ticks");if(U&&U.enable&&U.threshold>0){var W=Object(S.size)(D);if(W>U.threshold){var P=Math.ceil(W/U.threshold),m=D.filter(function(y,V){return V%P==0});this.set("ticks",m),this.set("originalTicks",D)}}},it.prototype.getLabelAttrs=function(U,D,W){var P=this.get("label"),m=P.offset,y=P.rotate,V=P.formatter,J=this.getSidePoint(U.point,m),ht=this.getSideVector(m,J),gt=V?V(U.name,U,D):U.name,Mt=P.style;Mt=Object(S.isFunction)(Mt)?Object(S.get)(this.get("theme"),["label","style"],{}):Mt;var Lt=Object(S.mix)({x:J.x,y:J.y,text:gt,textAlign:this.getTextAnchor(ht),textBaseline:this.getTextBaseline(ht)},Mt);return y&&(Lt.matrix=Object(h.e)(J,y)),Lt},it.prototype.drawLabels=function(U){var D=this,W=this.get("ticks"),P=this.addGroup(U,{name:"axis-label-group",id:this.getElementId("label-group")});Object(S.each)(W,function(Mt,Lt){D.addShape(P,{type:"text",name:"axis-label",id:D.getElementId("label-"+Mt.id),attrs:D.getLabelAttrs(Mt,Lt,W),delegateObject:{tick:Mt,item:Mt,index:Lt}})}),this.processOverlap(P);var m=P.getChildren(),y=Object(S.get)(this.get("theme"),["label","style"],{}),V=this.get("label"),J=V.style,ht=V.formatter;if(Object(S.isFunction)(J)){var gt=m.map(function(Mt){return Object(S.get)(Mt.get("delegateObject"),"tick")});Object(S.each)(m,function(Mt,Lt){var At=Mt.get("delegateObject").tick,Ct=ht?ht(At.name,At,Lt):At.name,Ot=Object(S.mix)({},y,J(Ct,Lt,gt));Mt.attr(Ot)})}},it.prototype.getTitleAttrs=function(){var U=this.get("title"),D=U.style,W=U.position,P=U.offset,m=U.spacing,y=m===void 0?0:m,V=U.autoRotate,J=D.fontSize,ht=.5;W==="start"?ht=0:W==="end"&&(ht=1);var gt=this.getTickPoint(ht),Mt=this.getSidePoint(gt,P||y+J/2),Lt=Object(S.mix)({x:Mt.x,y:Mt.y,text:U.text},D),At=U.rotate,Ct=At;if(Object(S.isNil)(At)&&V){var Ot=this.getAxisVector(gt),Dt=[1,0];Ct=d.a.angleTo(Ot,Dt,!0)}if(Ct){var Ft=Object(h.e)(Mt,Ct);Lt.matrix=Ft}return Lt},it.prototype.drawTitle=function(U){this.addShape(U,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},it.prototype.applyTickStates=function(U,D){var W=this.getItemStates(U);if(W.length){var P=this.get("tickStates"),m=this.getElementId("label-"+U.id),y=D.findById(m);if(y){var V=Object(E.a)(U,"label",P);V&&y.attr(V)}var J=this.getElementId("tickline-"+U.id),ht=D.findById(J);if(ht){var gt=Object(E.a)(U,"tickLine",P);gt&&ht.attr(gt)}}},it.prototype.updateTickStates=function(U){var D=this.getItemStates(U),W=this.get("tickStates"),P=this.get("label"),m=this.getElementByLocalId("label-"+U.id),y=this.get("tickLine"),V=this.getElementByLocalId("tickline-"+U.id);if(D.length){if(m){var J=Object(E.a)(U,"label",W);J&&m.attr(J)}if(V){var ht=Object(E.a)(U,"tickLine",W);ht&&V.attr(ht)}}else m&&m.attr(P.style),V&&V.attr(y.style)},it}(b.a),s=o,u=z("BgvD");function v(ct,it,U,D){var W=it.getChildren(),P=!1;return Object(S.each)(W,function(m){var y=Object(u.a)(ct,m,U,D);P=P||y}),P}function C(){return j}function O(ct,it,U){return v(ct,it,U,"head")}function j(ct,it,U){return v(ct,it,U,"tail")}function p(ct,it,U){return v(ct,it,U,"middle")}var x=z("5UbV");function A(ct){var it=ct.attr("matrix");return it&&it[0]!==1}function k(ct){var it=A(ct)?Object(h.d)(ct.attr("matrix")):0;return it%360}function X(ct,it,U,D){var W=!1,P=k(it),m=Math.abs(ct?U.attr("y")-it.attr("y"):U.attr("x")-it.attr("x")),y=(ct?U.attr("y")>it.attr("y"):U.attr("x")>it.attr("x"))?it.getBBox():U.getBBox();if(ct){var V=Math.abs(Math.cos(P));Object(x.i)(V,0,Math.PI/180)?W=y.width+D>m:W=y.height/V+D>m}else{var V=Math.abs(Math.sin(P));Object(x.i)(V,0,Math.PI/180)?W=y.width+D>m:W=y.height/V+D>m}return W}function et(ct,it,U,D){var W=(D==null?void 0:D.minGap)||0,P=it.getChildren().slice().filter(function(At){return At.get("visible")});if(!P.length)return!1;var m=!1;U&&P.reverse();for(var y=P.length,V=P[0],J=V,ht=1;ht<y;ht++){var gt=P[ht],Mt=gt.getBBox(),Lt=X(ct,J,gt,W);Lt?(gt.hide(),m=!0):J=gt}return m}function tt(ct,it,U){var D=(U==null?void 0:U.minGap)||0,W=it.getChildren().slice();if(W.length<2)return!1;var P=!1,m=W[0],y=m.getBBox(),V=W[1],J=W.length,ht=k(m),gt=Math.abs(ct?V.attr("y")-m.attr("y"):V.attr("x")-m.attr("x")),Mt=0;if(ct){var Lt=Math.abs(Math.cos(ht));if(Object(x.i)(Lt,0,Math.PI/180)){var At=Object(u.b)(W);Mt=(At+D)/gt}else Mt=(y.height/Lt+D)/gt}else{var Lt=Math.abs(Math.sin(ht));if(Object(x.i)(Lt,0,Math.PI/180)){var At=Object(u.b)(W);Mt=(At+D)/gt}else Mt=(y.height/Lt+D)/gt}if(Mt>1){Mt=Math.ceil(Mt);for(var Ct=0;Ct<J;Ct++)Ct%Mt!=0&&(W[Ct].hide(),P=!0)}return P}function ft(){return pt}function st(ct,it,U,D){return et(ct,it,!1,D)}function vt(ct,it,U,D){return et(ct,it,!0,D)}function mt(ct,it,U,D){var W=(D==null?void 0:D.minGap)||0,P=it.getChildren().slice();if(P.length<=2)return!1;for(var m=!1,y=P.length,V=P[0],J=P[y-1],ht=V,gt=1;gt<y-1;gt++){var Mt=P[gt],Lt=Mt.getBBox(),At=X(ct,ht,Mt,W);At?(Mt.hide(),m=!0):ht=Mt}var Ct=X(ct,ht,J,W);return Ct&&(ht.hide(),m=!0),m}function pt(ct,it,U,D){var W=tt(ct,it,D);return et(ct,it,!1)&&(W=!0),W}function rt(ct,it,U,D){var W=it.getChildren().slice(),P=tt(ct,it,D);if(W.length>2){var m=W[0],y=W[W.length-1];m.get("visible")||(m.show(),et(ct,it,!1,D)&&(P=!0)),y.get("visible")||(y.show(),et(ct,it,!0,D)&&(P=!0))}return P}function Bt(ct,it){Object(S.each)(ct,function(U){var D=U.attr("x"),W=U.attr("y"),P=Object(h.e)({x:D,y:W},it);U.attr("matrix",P)})}function It(ct,it,U,D){var W=it.getChildren();if(!W.length||!ct&&W.length<2)return!1;var P=Object(u.b)(W),m=!1;if(ct)m=!!U&&P>U;else{var y=Math.abs(W[1].attr("x")-W[0].attr("x"));m=P>y}if(m){var V=D(U,P);Bt(W,V)}return m}function St(){return H}function H(ct,it,U,D){return It(ct,it,U,function(){return Object(S.isNumber)(D)?D:ct?T.a.verticalAxisRotate:T.a.horizontalAxisRotate})}function ot(ct,it,U){return It(ct,it,U,function(D,W){if(!D)return ct?T.a.verticalAxisRotate:T.a.horizontalAxisRotate;if(ct)return-Math.acos(D/W);var P=0;return D>W?P=Math.PI/4:(P=Math.asin(D/W),P>Math.PI/4&&(P=Math.PI/4)),P})}var yt=function(ct){Object(n.b)(it,ct);function it(){return ct!==null&&ct.apply(this,arguments)||this}return it.prototype.getDefaultCfg=function(){var U=ct.prototype.getDefaultCfg.call(this);return Object(n.a)(Object(n.a)({},U),{type:"line",locationType:"region",start:null,end:null})},it.prototype.getLinePath=function(){var U=this.get("start"),D=this.get("end"),W=[];return W.push(["M",U.x,U.y]),W.push(["L",D.x,D.y]),W},it.prototype.getInnerLayoutBBox=function(){var U=this.get("start"),D=this.get("end"),W=ct.prototype.getInnerLayoutBBox.call(this),P=Math.min(U.x,D.x,W.x),m=Math.min(U.y,D.y,W.y),y=Math.max(U.x,D.x,W.maxX),V=Math.max(U.y,D.y,W.maxY);return{x:P,y:m,minX:P,minY:m,maxX:y,maxY:V,width:y-P,height:V-m}},it.prototype.isVertical=function(){var U=this.get("start"),D=this.get("end");return Object(S.isNumberEqual)(U.x,D.x)},it.prototype.isHorizontal=function(){var U=this.get("start"),D=this.get("end");return Object(S.isNumberEqual)(U.y,D.y)},it.prototype.getTickPoint=function(U){var D=this,W=D.get("start"),P=D.get("end"),m=P.x-W.x,y=P.y-W.y;return{x:W.x+m*U,y:W.y+y*U}},it.prototype.getSideVector=function(U){var D=this.getAxisVector(),W=d.c.normalize([0,0],D),P=this.get("verticalFactor"),m=[W[1],W[0]*-1];return d.c.scale([0,0],m,U*P)},it.prototype.getAxisVector=function(){var U=this.get("start"),D=this.get("end");return[D.x-U.x,D.y-U.y]},it.prototype.processOverlap=function(U){var D=this,W=this.isVertical(),P=this.isHorizontal();if(!(!W&&!P)){var m=this.get("label"),y=this.get("title"),V=this.get("verticalLimitLength"),J=m.offset,ht=V,gt=0,Mt=0;y&&(gt=y.style.fontSize,Mt=y.spacing),ht&&(ht=ht-J-Mt-gt);var Lt=this.get("overlapOrder");if(Object(S.each)(Lt,function(Ot){m[Ot]&&D.canProcessOverlap(Ot)&&D.autoProcessOverlap(Ot,m[Ot],U,ht)}),y&&Object(S.isNil)(y.offset)){var At=U.getCanvasBBox(),Ct=W?At.width:At.height;y.offset=J+Ct+Mt+gt/2}}},it.prototype.canProcessOverlap=function(U){var D=this.get("label");return U==="autoRotate"?Object(S.isNil)(D.rotate):!0},it.prototype.autoProcessOverlap=function(U,D,W,P){var m=this,y=this.isVertical(),V=!1,J=t[U];if(D===!0){var ht=this.get("label");V=J.getDefault()(y,W,P)}else if(Object(S.isFunction)(D))V=D(y,W,P);else if(Object(S.isObject)(D)){var gt=D;J[gt.type]&&(V=J[gt.type](y,W,P,gt.cfg))}else J[D]&&(V=J[D](y,W,P));if(U==="autoRotate"){if(V){var Mt=W.getChildren(),Lt=this.get("verticalFactor");Object(S.each)(Mt,function(Ct){var Ot=Ct.attr("textAlign");if(Ot==="center"){var Dt=Lt>0?"end":"start";Ct.attr("textAlign",Dt)}})}}else if(U==="autoHide"){var At=W.getChildren().slice(0);Object(S.each)(At,function(Ct){Ct.get("visible")||(m.get("isRegister")&&m.unregisterElement(Ct),Ct.remove())})}},it}(s),xt=yt,wt=function(ct){Object(n.b)(it,ct);function it(){return ct!==null&&ct.apply(this,arguments)||this}return it.prototype.getDefaultCfg=function(){var U=ct.prototype.getDefaultCfg.call(this);return Object(n.a)(Object(n.a)({},U),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},it.prototype.getLinePath=function(){var U=this.get("center"),D=U.x,W=U.y,P=this.get("radius"),m=P,y=this.get("startAngle"),V=this.get("endAngle"),J=[];if(Math.abs(V-y)===Math.PI*2)J=[["M",D,W-m],["A",P,m,0,1,1,D,W+m],["A",P,m,0,1,1,D,W-m],["Z"]];else{var ht=this.getCirclePoint(y),gt=this.getCirclePoint(V),Mt=Math.abs(V-y)>Math.PI?1:0,Lt=y>V?0:1;J=[["M",D,W],["L",ht.x,ht.y],["A",P,m,0,Mt,Lt,gt.x,gt.y],["L",D,W]]}return J},it.prototype.getTickPoint=function(U){var D=this.get("startAngle"),W=this.get("endAngle"),P=D+(W-D)*U;return this.getCirclePoint(P)},it.prototype.getSideVector=function(U,D){var W=this.get("center"),P=[D.x-W.x,D.y-W.y],m=this.get("verticalFactor"),y=d.c.length(P);return d.c.scale(P,P,m*U/y),P},it.prototype.getAxisVector=function(U){var D=this.get("center"),W=[U.x-D.x,U.y-D.y];return[W[1],-1*W[0]]},it.prototype.getCirclePoint=function(U,D){var W=this.get("center");return D=D||this.get("radius"),{x:W.x+Math.cos(U)*D,y:W.y+Math.sin(U)*D}},it}(s),Q=wt},g9YV:function(wr,Vt,z){"use strict";var lt=z("cIOH"),a=z.n(lt),M=z("pED+"),t=z.n(M),n=z("+L6B"),d=z("R9oj"),S=z("7Kak"),b=z("sRBo"),h=z("qVdP"),E=z("T2oS"),T=z("DjyN"),o=z("5Dmo")},"h4/5":function(wr,Vt){},hJqF:function(wr,Vt,z){"use strict";z.d(Vt,"d",function(){return b}),z.d(Vt,"b",function(){return h}),z.d(Vt,"c",function(){return E}),z.d(Vt,"a",function(){return s});var lt=z("mrSG"),a=z("iTfj"),M=z("w02o"),t=z("YuPD"),n=z("tKoa"),d=z("DyAw");function S(u){var v=u.chart,C=u.options,O=C.data,j=C.color,p=C.lineStyle,x=C.lineShape,A=C.point,k=C.seriesField;v.data(O);var X=Object(t.b)({},u,{options:{shapeField:k,line:{color:j,style:p,shape:x},point:A&&Object(lt.a)({color:j,shape:"circle"},A),label:void 0}}),et=Object(t.b)({},X,{options:{tooltip:!1}});return Object(n.d)(X),Object(n.e)(et),u}function b(u){var v,C,O=u.options,j=O.xAxis,p=O.yAxis,x=O.xField,A=O.yField,k=O.data;return Object(t.e)(Object(M.f)((v={},v[x]=j,v[A]=p,v),(C={},C[x]={type:"cat"},C[A]=Object(d.a)(k,A),C)))(u)}function h(u){var v=u.chart,C=u.options,O=C.xAxis,j=C.yAxis,p=C.xField,x=C.yField;return O===!1?v.axis(p,!1):v.axis(p,O),j===!1?v.axis(x,!1):v.axis(x,j),u}function E(u){var v=u.chart,C=u.options,O=C.legend,j=C.seriesField;return O&&j?v.legend(j,O):O===!1&&v.legend(!1),u}function T(u){var v=u.chart,C=u.options,O=C.label,j=C.yField,p=Object(t.c)(v,"line");if(!O)p.label(!1);else{var x=O.callback,A=Object(lt.c)(O,["callback"]);p.label({fields:[j],callback:x,cfg:Object(lt.a)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Object(t.p)(A))})}return u}function o(u){var v=u.chart,C=u.options,O=C.isStack;return O&&Object(a.each)(v.geometries,function(j){j.adjust("stack")}),u}function s(u){return Object(t.e)(S,b,o,M.j,h,E,M.k,T,M.h,M.c,M.a,Object(M.b)(),M.e)(u)}},hag6:function(wr,Vt,z){"use strict";var lt=z("kXyF");Object(lt.registerInteraction)("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]})},hkKa:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return t});var lt=z("ODXe"),a=z("q1tI"),M=z.n(a);function t(){var n=a.useReducer(function(b){return b+1},0),d=Object(lt.a)(n,2),S=d[1];return S}},iTfj:function(wr,Vt,z){"use strict";z.r(Vt),z.d(Vt,"contains",function(){return t}),z.d(Vt,"includes",function(){return t}),z.d(Vt,"difference",function(){return b}),z.d(Vt,"find",function(){return vt}),z.d(Vt,"findIndex",function(){return pt}),z.d(Vt,"firstValue",function(){return Bt}),z.d(Vt,"flatten",function(){return St}),z.d(Vt,"flattenDeep",function(){return ot}),z.d(Vt,"getRange",function(){return Q}),z.d(Vt,"pull",function(){return W}),z.d(Vt,"pullAt",function(){return y}),z.d(Vt,"reduce",function(){return J}),z.d(Vt,"remove",function(){return gt}),z.d(Vt,"sortBy",function(){return At}),z.d(Vt,"union",function(){return Ft}),z.d(Vt,"uniq",function(){return Ot}),z.d(Vt,"valuesOfKey",function(){return Xt}),z.d(Vt,"head",function(){return Rt}),z.d(Vt,"last",function(){return Kt}),z.d(Vt,"startsWith",function(){return le}),z.d(Vt,"endsWith",function(){return on}),z.d(Vt,"filter",function(){return d}),z.d(Vt,"every",function(){return Cn}),z.d(Vt,"some",function(){return mn}),z.d(Vt,"group",function(){return $n}),z.d(Vt,"groupBy",function(){return Xn}),z.d(Vt,"groupToMap",function(){return _n}),z.d(Vt,"getWrapBehavior",function(){return dr}),z.d(Vt,"wrapBehavior",function(){return Qr}),z.d(Vt,"number2color",function(){return Dr}),z.d(Vt,"parseRadius",function(){return Wi}),z.d(Vt,"clamp",function(){return Za}),z.d(Vt,"fixedBase",function(){return Ji}),z.d(Vt,"isDecimal",function(){return Ba}),z.d(Vt,"isEven",function(){return Yr}),z.d(Vt,"isInteger",function(){return Ma}),z.d(Vt,"isNegative",function(){return Aa}),z.d(Vt,"isNumberEqual",function(){return Pi}),z.d(Vt,"isOdd",function(){return Ei}),z.d(Vt,"isPositive",function(){return Di}),z.d(Vt,"max",function(){return yt}),z.d(Vt,"maxBy",function(){return Fi}),z.d(Vt,"min",function(){return xt}),z.d(Vt,"minBy",function(){return Ni}),z.d(Vt,"mod",function(){return Xi}),z.d(Vt,"toDegree",function(){return ta}),z.d(Vt,"toInteger",function(){return ma}),z.d(Vt,"toRadian",function(){return sa}),z.d(Vt,"forIn",function(){return Xa}),z.d(Vt,"has",function(){return po}),z.d(Vt,"hasKey",function(){return bo}),z.d(Vt,"hasValue",function(){return ue}),z.d(Vt,"keys",function(){return x}),z.d(Vt,"isMatch",function(){return k}),z.d(Vt,"values",function(){return Po}),z.d(Vt,"lowerCase",function(){return Ce}),z.d(Vt,"lowerFirst",function(){return kn}),z.d(Vt,"substitute",function(){return pr}),z.d(Vt,"upperCase",function(){return vn}),z.d(Vt,"upperFirst",function(){return Or}),z.d(Vt,"getType",function(){return kr}),z.d(Vt,"isArguments",function(){return $r}),z.d(Vt,"isArray",function(){return v}),z.d(Vt,"isArrayLike",function(){return a}),z.d(Vt,"isBoolean",function(){return Nr}),z.d(Vt,"isDate",function(){return oi}),z.d(Vt,"isError",function(){return si}),z.d(Vt,"isFunction",function(){return o}),z.d(Vt,"isFinite",function(){return ti}),z.d(Vt,"isNil",function(){return u}),z.d(Vt,"isNull",function(){return qi}),z.d(Vt,"isNumber",function(){return Ca}),z.d(Vt,"isObject",function(){return C}),z.d(Vt,"isObjectLike",function(){return et}),z.d(Vt,"isPlainObject",function(){return ft}),z.d(Vt,"isPrototype",function(){return Fa}),z.d(Vt,"isRegExp",function(){return Na}),z.d(Vt,"isString",function(){return Mt}),z.d(Vt,"isType",function(){return T}),z.d(Vt,"isUndefined",function(){return ge}),z.d(Vt,"isElement",function(){return _}),z.d(Vt,"requestAnimationFrame",function(){return $}),z.d(Vt,"clearAnimationFrame",function(){return dt}),z.d(Vt,"augment",function(){return fe}),z.d(Vt,"clone",function(){return We}),z.d(Vt,"debounce",function(){return Dn}),z.d(Vt,"memoize",function(){return Yt}),z.d(Vt,"deepMix",function(){return he}),z.d(Vt,"each",function(){return j}),z.d(Vt,"extend",function(){return Qn}),z.d(Vt,"indexOf",function(){return ar}),z.d(Vt,"isEmpty",function(){return L}),z.d(Vt,"isEqual",function(){return ie}),z.d(Vt,"isEqualWith",function(){return Ee}),z.d(Vt,"map",function(){return pe}),z.d(Vt,"mapValues",function(){return de}),z.d(Vt,"mix",function(){return Jt}),z.d(Vt,"assign",function(){return Jt}),z.d(Vt,"get",function(){return Pe}),z.d(Vt,"set",function(){return ze}),z.d(Vt,"pick",function(){return Ve}),z.d(Vt,"omit",function(){return cn}),z.d(Vt,"throttle",function(){return Be}),z.d(Vt,"toArray",function(){return Mn}),z.d(Vt,"toString",function(){return Qt}),z.d(Vt,"uniqueId",function(){return pn}),z.d(Vt,"noop",function(){return Sn}),z.d(Vt,"identity",function(){return Rn}),z.d(Vt,"size",function(){return lr}),z.d(Vt,"Cache",function(){return tr});var lt=function(Se){return Se!==null&&typeof Se!="function"&&isFinite(Se.length)},a=lt,M=function(Se,ke){return a(Se)?Se.indexOf(ke)>-1:!1},t=M,n=function(Se,ke){if(!a(Se))return Se;for(var we=[],Ye=0;Ye<Se.length;Ye++){var un=Se[Ye];ke(un,Ye)&&we.push(un)}return we},d=n,S=function(Se,ke){return ke===void 0&&(ke=[]),d(Se,function(we){return!t(ke,we)})},b=S,h={}.toString,E=function(Se,ke){return h.call(Se)==="[object "+ke+"]"},T=E,o=function(me){return T(me,"Function")},s=function(Se){return Se==null},u=s,v=function(me){return Array.isArray?Array.isArray(me):T(me,"Array")},C=function(me){var Se=typeof me;return me!==null&&Se==="object"||Se==="function"};function O(me,Se){if(!!me){var ke;if(v(me))for(var we=0,Ye=me.length;we<Ye&&(ke=Se(me[we],we),ke!==!1);we++);else if(C(me)){for(var un in me)if(me.hasOwnProperty(un)&&(ke=Se(me[un],un),ke===!1))break}}}var j=O,p=Object.keys?function(me){return Object.keys(me)}:function(me){var Se=[];return j(me,function(ke,we){o(me)&&we==="prototype"||Se.push(we)}),Se},x=p;function A(me,Se){var ke=x(Se),we=ke.length;if(u(me))return!we;for(var Ye=0;Ye<we;Ye+=1){var un=ke[Ye];if(Se[un]!==me[un]||!(un in me))return!1}return!0}var k=A,X=function(Se){return typeof Se=="object"&&Se!==null},et=X,tt=function(Se){if(!et(Se)||!T(Se,"Object"))return!1;if(Object.getPrototypeOf(Se)===null)return!0;for(var ke=Se;Object.getPrototypeOf(ke)!==null;)ke=Object.getPrototypeOf(ke);return Object.getPrototypeOf(Se)===ke},ft=tt;function st(me,Se){if(!v(me))return null;var ke;if(o(Se)&&(ke=Se),ft(Se)&&(ke=function(un){return k(un,Se)}),ke){for(var we=0;we<me.length;we+=1)if(ke(me[we]))return me[we]}return null}var vt=st;function mt(me,Se,ke){ke===void 0&&(ke=0);for(var we=ke;we<me.length;we++)if(Se(me[we],we))return we;return-1}var pt=mt,rt=function(Se,ke){for(var we=null,Ye=0;Ye<Se.length;Ye++){var un=Se[Ye],zn=un[ke];if(!u(zn)){v(zn)?we=zn[0]:we=zn;break}}return we},Bt=rt,It=function(Se){if(!v(Se))return[];for(var ke=[],we=0;we<Se.length;we++)ke=ke.concat(Se[we]);return ke},St=It,H=function me(Se,ke){if(ke===void 0&&(ke=[]),!v(Se))ke.push(Se);else for(var we=0;we<Se.length;we+=1)me(Se[we],ke);return ke},ot=H,yt=function(me){if(!!v(me)){var Se=me[0];return j(me,function(ke){ke>Se&&(Se=ke)}),Se}},xt=function(me){if(!!v(me)){var Se=me[0];return j(me,function(ke){ke<Se&&(Se=ke)}),Se}},wt=function(Se){var ke=Se.filter(function(Nn){return!isNaN(Nn)});if(!ke.length)return{min:0,max:0};if(v(Se[0])){for(var we=[],Ye=0;Ye<Se.length;Ye++)we=we.concat(Se[Ye]);ke=we}var un=yt(ke),zn=xt(ke);return{min:zn,max:un}},Q=wt,ct=Array.prototype,it=ct.splice,U=ct.indexOf,D=function(Se){for(var ke=[],we=1;we<arguments.length;we++)ke[we-1]=arguments[we];for(var Ye=0;Ye<ke.length;Ye++)for(var un=ke[Ye],zn=-1;(zn=U.call(Se,un))>-1;)it.call(Se,zn,1);return Se},W=D,P=Array.prototype.splice,m=function(Se,ke){if(!a(Se))return[];for(var we=Se?ke.length:0,Ye=we-1;we--;){var un=void 0,zn=ke[we];(we===Ye||zn!==un)&&(un=zn,P.call(Se,zn,1))}return Se},y=m,V=function(Se,ke,we){if(!v(Se)&&!ft(Se))return Se;var Ye=we;return j(Se,function(un,zn){Ye=ke(Ye,un,zn)}),Ye},J=V,ht=function(Se,ke){var we=[];if(!a(Se))return we;for(var Ye=-1,un=[],zn=Se.length;++Ye<zn;){var Nn=Se[Ye];ke(Nn,Ye,Se)&&(we.push(Nn),un.push(Ye))}return y(Se,un),we},gt=ht,Mt=function(me){return T(me,"String")};function Lt(me,Se){var ke;if(o(Se))ke=function(un,zn){return Se(un)-Se(zn)};else{var we=[];Mt(Se)?we.push(Se):v(Se)&&(we=Se),ke=function(un,zn){for(var Nn=0;Nn<we.length;Nn+=1){var or=we[Nn];if(un[or]>zn[or])return 1;if(un[or]<zn[or])return-1}return 0}}return me.sort(ke),me}var At=Lt,Ct=function(Se){var ke=[];return j(Se,function(we){t(ke,we)||ke.push(we)}),ke},Ot=Ct,Dt=function(){for(var Se=[],ke=0;ke<arguments.length;ke++)Se[ke]=arguments[ke];return Ot([].concat.apply([],Se))},Ft=Dt,Xt=function(me,Se){for(var ke=[],we={},Ye=0;Ye<me.length;Ye++){var un=me[Ye],zn=un[Se];if(!u(zn)){v(zn)||(zn=[zn]);for(var Nn=0;Nn<zn.length;Nn++){var or=zn[Nn];we[or]||(ke.push(or),we[or]=!0)}}}return ke};function Rt(me){if(a(me))return me[0]}function Kt(me){if(a(me)){var Se=me;return Se[Se.length-1]}}function $t(me,Se){return v(me)||Mt(me)?me[0]===Se:!1}var le=$t;function Me(me,Se){return v(me)||Mt(me)?me[me.length-1]===Se:!1}var on=Me,hn=function(Se,ke){for(var we=0;we<Se.length;we++)if(!ke(Se[we],we))return!1;return!0},Cn=hn,He=function(Se,ke){for(var we=0;we<Se.length;we++)if(ke(Se[we],we))return!0;return!1},mn=He,dn=Object.prototype.hasOwnProperty;function Un(me,Se){if(!Se||!v(me))return{};for(var ke={},we=o(Se)?Se:function(Nn){return Nn[Se]},Ye,un=0;un<me.length;un++){var zn=me[un];Ye=we(zn),dn.call(ke,Ye)?ke[Ye].push(zn):ke[Ye]=[zn]}return ke}var Xn=Un,Hn=function(Se,ke){if(!ke)return{0:Se};if(!o(ke)){var we=v(ke)?ke:ke.replace(/\s+/g,"").split("*");ke=function(zn){for(var Nn="_",or=0,Rr=we.length;or<Rr;or++)Nn+=zn[we[or]]&&zn[we[or]].toString();return Nn}}var Ye=Xn(Se,ke);return Ye},_n=Hn,$n=function(me,Se){if(!Se)return[me];var ke=_n(me,Se),we=[];for(var Ye in ke)we.push(ke[Ye]);return we};function ir(me,Se){return me["_wrap_"+Se]}var dr=ir;function xr(me,Se){if(me["_wrap_"+Se])return me["_wrap_"+Se];var ke=function(Ye){me[Se](Ye)};return me["_wrap_"+Se]=ke,ke}var Qr=xr,Mr={};function Er(me){var Se=Mr[me];if(!Se){for(var ke=me.toString(16),we=ke.length;we<6;we++)ke="0"+ke;Se="#"+ke,Mr[me]=Se}return Se}var Dr=Er;function hi(me){var Se=0,ke=0,we=0,Ye=0;return v(me)?me.length===1?Se=ke=we=Ye=me[0]:me.length===2?(Se=we=me[0],ke=Ye=me[1]):me.length===3?(Se=me[0],ke=Ye=me[1],we=me[2]):(Se=me[0],ke=me[1],we=me[2],Ye=me[3]):Se=ke=we=Ye=me,{r1:Se,r2:ke,r3:we,r4:Ye}}var Wi=hi,oa=function(Se,ke,we){return Se<ke?ke:Se>we?we:Se},Za=oa,ao=function(Se,ke){var we=ke.toString(),Ye=we.indexOf(".");if(Ye===-1)return Math.round(Se);var un=we.substr(Ye+1).length;return un>20&&(un=20),parseFloat(Se.toFixed(un))},Ji=ao,Ya=function(Se){return T(Se,"Number")},Ca=Ya,La=function(Se){return Ca(Se)&&Se%1!=0},Ba=La,oo=function(Se){return Ca(Se)&&Se%2==0},Yr=oo,$a=Number.isInteger?Number.isInteger:function(me){return Ca(me)&&me%1==0},Ma=$a,to=function(Se){return Ca(Se)&&Se<0},Aa=to,Vr=1e-5;function Pi(me,Se,ke){return ke===void 0&&(ke=Vr),Math.abs(me-Se)<ke}var wi=function(Se){return Ca(Se)&&Se%2!=0},Ei=wi,bi=function(Se){return Ca(Se)&&Se>0},Di=bi,Fi=function(me,Se){if(!!v(me)){var ke=me[0],we;o(Se)?we=Se(me[0]):we=me[0][Se];var Ye;return j(me,function(un){o(Se)?Ye=Se(un):Ye=un[Se],Ye>we&&(ke=un,we=Ye)}),ke}},Ni=function(me,Se){if(!!v(me)){var ke=me[0],we;o(Se)?we=Se(me[0]):we=me[0][Se];var Ye;return j(me,function(un){o(Se)?Ye=Se(un):Ye=un[Se],Ye<we&&(ke=un,we=Ye)}),ke}},ji=function(Se,ke){return(Se%ke+ke)%ke},Xi=ji,Ki=180/Math.PI,la=function(Se){return Ki*Se},ta=la,ma=parseInt,Oa=Math.PI/180,uo=function(Se){return Oa*Se},sa=uo,Xa=j,po=function(me,Se){return me.hasOwnProperty(Se)},bo=po,Mo=Object.values?function(me){return Object.values(me)}:function(me){var Se=[];return j(me,function(ke,we){o(me)&&we==="prototype"||Se.push(ke)}),Se},Po=Mo,ue=function(me,Se){return t(Po(me),Se)},Qt=function(me){return u(me)?"":me.toString()},ne=function(Se){return Qt(Se).toLowerCase()},Ce=ne,en=function(Se){var ke=Qt(Se);return ke.charAt(0).toLowerCase()+ke.substring(1)},kn=en;function sr(me,Se){return!me||!Se?me:me.replace(/\\?\{([^{}]+)\}/g,function(ke,we){return ke.charAt(0)==="\\"?ke.slice(1):Se[we]===void 0?"":Se[we]})}var pr=sr,ln=function(Se){return Qt(Se).toUpperCase()},vn=ln,xn=function(Se){var ke=Qt(Se);return ke.charAt(0).toUpperCase()+ke.substring(1)},Or=xn,Br={}.toString,Pr=function(Se){return Br.call(Se).replace(/^\[object /,"").replace(/]$/,"")},kr=Pr,mi=function(Se){return T(Se,"Arguments")},$r=mi,Xr=function(Se){return T(Se,"Boolean")},Nr=Xr,Hr=function(Se){return T(Se,"Date")},oi=Hr,yi=function(Se){return T(Se,"Error")},si=yi,ti=function(me){return Ca(me)&&isFinite(me)},zi=function(Se){return Se===null},qi=zi,Sa=Object.prototype,ea=function(Se){var ke=Se&&Se.constructor,we=typeof ke=="function"&&ke.prototype||Sa;return Se===we},Fa=ea,Ua=function(Se){return T(Se,"RegExp")},Na=Ua,va=function(Se){return Se===void 0},ge=va,F=function(Se){return Se instanceof Element||Se instanceof HTMLDocument},_=F;function $(me){var Se=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(ke){return setTimeout(ke,16)};return Se(me)}function dt(me){var Se=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;Se(me)}function Gt(me,Se){for(var ke in Se)Se.hasOwnProperty(ke)&&ke!=="constructor"&&Se[ke]!==void 0&&(me[ke]=Se[ke])}function Jt(me,Se,ke,we){return Se&&Gt(me,Se),ke&&Gt(me,ke),we&&Gt(me,we),me}var ce=function(){for(var Se=[],ke=0;ke<arguments.length;ke++)Se[ke]=arguments[ke];for(var we=Se[0],Ye=1;Ye<Se.length;Ye++){var un=Se[Ye];o(un)&&(un=un.prototype),Jt(we.prototype,un)}},fe=ce,De=function me(Se){if(typeof Se!="object"||Se===null)return Se;var ke;if(v(Se)){ke=[];for(var we=0,Ye=Se.length;we<Ye;we++)typeof Se[we]=="object"&&Se[we]!=null?ke[we]=me(Se[we]):ke[we]=Se[we]}else{ke={};for(var un in Se)typeof Se[un]=="object"&&Se[un]!=null?ke[un]=me(Se[un]):ke[un]=Se[un]}return ke},We=De;function sn(me,Se,ke){var we;return function(){var Ye=this,un=arguments,zn=function(){we=null,ke||me.apply(Ye,un)},Nn=ke&&!we;clearTimeout(we),we=setTimeout(zn,Se),Nn&&me.apply(Ye,un)}}var Dn=sn,Yt=function(me,Se){if(!o(me))throw new TypeError("Expected a function");var ke=function we(){for(var Ye=[],un=0;un<arguments.length;un++)Ye[un]=arguments[un];var zn=Se?Se.apply(this,Ye):Ye[0],Nn=we.cache;if(Nn.has(zn))return Nn.get(zn);var or=me.apply(this,Ye);return Nn.set(zn,or),or};return ke.cache=new Map,ke},Zt=5;function Ae(me,Se,ke,we){ke=ke||0,we=we||Zt;for(var Ye in Se)if(Se.hasOwnProperty(Ye)){var un=Se[Ye];un!==null&&ft(un)?(ft(me[Ye])||(me[Ye]={}),ke<we?Ae(me[Ye],un,ke+1,we):me[Ye]=Se[Ye]):v(un)?(me[Ye]=[],me[Ye]=me[Ye].concat(un)):un!==void 0&&(me[Ye]=un)}}var Ht=function(Se){for(var ke=[],we=1;we<arguments.length;we++)ke[we-1]=arguments[we];for(var Ye=0;Ye<ke.length;Ye+=1)Ae(Se,ke[Ye]);return Se},he=Ht,En=function(Se,ke,we,Ye){o(ke)||(we=ke,ke=Se,Se=function(){});var un=Object.create?function(Nn,or){return Object.create(Nn,{constructor:{value:or}})}:function(Nn,or){function Rr(){}Rr.prototype=Nn;var xi=new Rr;return xi.constructor=or,xi},zn=un(ke.prototype,Se);return Se.prototype=Jt(zn,Se.prototype),Se.superclass=un(ke.prototype,ke),Jt(zn,we),Jt(Se,Ye),Se},Qn=En,fr=function(Se,ke){if(!a(Se))return-1;var we=Array.prototype.indexOf;if(we)return we.call(Se,ke);for(var Ye=-1,un=0;un<Se.length;un++)if(Se[un]===ke){Ye=un;break}return Ye},ar=fr,an=Object.prototype.hasOwnProperty;function Re(me){if(u(me))return!0;if(a(me))return!me.length;var Se=kr(me);if(Se==="Map"||Se==="Set")return!me.size;if(Fa(me))return!Object.keys(me).length;for(var ke in me)if(an.call(me,ke))return!1;return!0}var L=Re,bt=function me(Se,ke){if(Se===ke)return!0;if(!Se||!ke||Mt(Se)||Mt(ke))return!1;if(a(Se)||a(ke)){if(Se.length!==ke.length)return!1;for(var we=!0,Ye=0;Ye<Se.length&&(we=me(Se[Ye],ke[Ye]),!!we);Ye++);return we}if(et(Se)||et(ke)){var un=Object.keys(Se),zn=Object.keys(ke);if(un.length!==zn.length)return!1;for(var we=!0,Ye=0;Ye<un.length&&(we=me(Se[un[Ye]],ke[un[Ye]]),!!we);Ye++);return we}return!1},ie=bt,Ee=function(me,Se,ke){return o(ke)?!!ke(me,Se):ie(me,Se)},te=function(Se,ke){if(!a(Se))return Se;for(var we=[],Ye=0;Ye<Se.length;Ye++){var un=Se[Ye];we.push(ke(un,Ye))}return we},pe=te,ve=function(Se){return Se},de=function(me,Se){Se===void 0&&(Se=ve);var ke={};return C(me)&&!u(me)&&Object.keys(me).forEach(function(we){ke[we]=Se(me[we],we)}),ke},Pe=function(me,Se,ke){for(var we=0,Ye=Mt(Se)?Se.split("."):Se;me&&we<Ye.length;)me=me[Ye[we++]];return me===void 0||we<Ye.length?ke:me},ze=function(me,Se,ke){var we=me,Ye=Mt(Se)?Se.split("."):Se;return Ye.forEach(function(un,zn){zn<Ye.length-1?(C(we[un])||(we[un]=Ca(Ye[zn+1])?[]:{}),we=we[un]):we[un]=ke}),me},Je=Object.prototype.hasOwnProperty,Ve=function(me,Se){if(me===null||!ft(me))return{};var ke={};return j(Se,function(we){Je.call(me,we)&&(ke[we]=me[we])}),ke},cn=function(me,Se){return J(me,function(ke,we,Ye){return Se.includes(Ye)||(ke[Ye]=we),ke},{})},Be=function(me,Se,ke){var we,Ye,un,zn,Nn=0;ke||(ke={});var or=function(){Nn=ke.leading===!1?0:Date.now(),we=null,zn=me.apply(Ye,un),we||(Ye=un=null)},Rr=function(){var pi=Date.now();!Nn&&ke.leading===!1&&(Nn=pi);var Kr=Se-(pi-Nn);return Ye=this,un=arguments,Kr<=0||Kr>Se?(we&&(clearTimeout(we),we=null),Nn=pi,zn=me.apply(Ye,un),we||(Ye=un=null)):!we&&ke.trailing!==!1&&(we=setTimeout(or,Kr)),zn};return Rr.cancel=function(){clearTimeout(we),Nn=0,we=Ye=un=null},Rr},Mn=function(me){return a(me)?Array.prototype.slice.call(me):[]},On={},pn=function(me){return me=me||"g",On[me]?On[me]+=1:On[me]=1,me+On[me]},Sn=function(){},Rn=function(me){return me};function lr(me){return u(me)?0:a(me)?me.length:Object.keys(me).length}var Fn=function(){function me(){this.map={}}return me.prototype.has=function(Se){return this.map[Se]!==void 0},me.prototype.get=function(Se,ke){var we=this.map[Se];return we===void 0?ke:we},me.prototype.set=function(Se,ke){this.map[Se]=ke},me.prototype.clear=function(){this.map={}},me.prototype.delete=function(Se){delete this.map[Se]},me.prototype.size=function(){return Object.keys(this.map).length},me}(),tr=Fn},j5sG:function(wr,Vt,z){"use strict";Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.createSensor=void 0;var lt=a(z("NohK"));function a(t){return t&&t.__esModule?t:{default:t}}var M=function(n){var d=void 0,S=[],b=(0,lt.default)(function(){S.forEach(function(s){s(n)})}),h=function(){var u=new ResizeObserver(b);return u.observe(n),b(),u},E=function(u){d||(d=h()),S.indexOf(u)===-1&&S.push(u)},T=function(){d.disconnect(),S=[],d=void 0},o=function(u){var v=S.indexOf(u);v!==-1&&S.splice(v,1),S.length===0&&d&&T()};return{element:n,bind:E,destroy:T,unbind:o}};Vt.createSensor=M},jCWc:function(wr,Vt,z){"use strict";var lt=z("cIOH"),a=z.n(lt),M=z("1GLa")},jYQm:function(wr,Vt,z){"use strict";var lt=z("q1tI"),a=z.n(lt),M=Object(lt.createContext)({});Vt.a=M},jqgP:function(wr,Vt,z){"use strict";z.d(Vt,"e",function(){return M}),z.d(Vt,"f",function(){return t}),z.d(Vt,"d",function(){return n}),z.d(Vt,"a",function(){return S}),z.d(Vt,"b",function(){return b}),z.d(Vt,"c",function(){return h});var lt=z("6JdA"),a=[1,0,0,0,1,0,0,0,1];function M(E,T,o){if(o===void 0&&(o=a),!T)return null;var s=lt.a.transform(o,[["t",-E.x,-E.y],["r",T],["t",E.x,E.y]]);return s}function t(E,T){return!E.x&&!E.y?null:lt.a.transform(T||a,[["t",E.x,E.y]])}function n(E){var T=[1,0,0],o=[0,0,0];return lt.d.transformMat3(o,T,E),Math.atan2(o[1],o[0])}function d(E,T){var o=[0,0];return lt.c.transformMat3(o,T,E),o}function S(E,T){var o=d(E,[T.minX,T.minY]),s=d(E,[T.maxX,T.minY]),u=d(E,[T.minX,T.maxY]),v=d(E,[T.maxX,T.maxY]),C=Math.min(o[0],s[0],u[0],v[0]),O=Math.max(o[0],s[0],u[0],v[0]),j=Math.min(o[1],s[1],u[1],v[1]),p=Math.max(o[1],s[1],u[1],v[1]);return{x:C,y:j,minX:C,minY:j,maxX:O,maxY:p,width:O-C,height:p-j}}function b(E,T,o,s){if(T){var u=M({x:o,y:s},T,E.getMatrix());E.setMatrix(u)}}function h(E,T,o){var s=t({x:T,y:o});E.attr("matrix",s)}},kPKH:function(wr,Vt,z){"use strict";var lt=z("/kpp");Vt.a=lt.a},kXyF:function(wr,Vt,z){"use strict";z.r(Vt),z.d(Vt,"VIEW_LIFE_CIRCLE",function(){return S}),z.d(Vt,"VERSION",function(){return ko}),z.d(Vt,"Chart",function(){return Ge}),z.d(Vt,"View",function(){return rn}),z.d(Vt,"Event",function(){return Us}),z.d(Vt,"ComponentController",function(){return Fe}),z.d(Vt,"TooltipController",function(){return Ze}),z.d(Vt,"Geometry",function(){return ut}),z.d(Vt,"Element",function(){return _i}),z.d(Vt,"GeometryLabel",function(){return ur}),z.d(Vt,"Interaction",function(){return xi}),z.d(Vt,"Action",function(){return Gt}),z.d(Vt,"Facet",function(){return ge}),z.d(Vt,"InteractionAction",function(){return Gt}),z.d(Vt,"registerComponentController",function(){return Gs}),z.d(Vt,"registerGeometry",function(){return xe}),z.d(Vt,"registerShape",function(){return Zi}),z.d(Vt,"registerShapeFactory",function(){return Vi}),z.d(Vt,"getShapeFactory",function(){return eo}),z.d(Vt,"registerGeometryLabel",function(){return Ui}),z.d(Vt,"registerGeometryLabelLayout",function(){return Ci}),z.d(Vt,"getGeometryLabel",function(){return Pn}),z.d(Vt,"getGeometryLabelLayout",function(){return za}),z.d(Vt,"getInteraction",function(){return Xo}),z.d(Vt,"registerInteraction",function(){return Wa}),z.d(Vt,"registerAction",function(){return sn}),z.d(Vt,"getActionClass",function(){return We}),z.d(Vt,"getFacet",function(){return _}),z.d(Vt,"registerFacet",function(){return $}),z.d(Vt,"getTheme",function(){return Cu}),z.d(Vt,"registerTheme",function(){return ja}),z.d(Vt,"registerEngine",function(){return j}),z.d(Vt,"getEngine",function(){return O}),z.d(Vt,"registerAnimation",function(){return hr}),z.d(Vt,"getAnimation",function(){return Zn}),z.d(Vt,"LAYER",function(){return M}),z.d(Vt,"DIRECTION",function(){return t}),z.d(Vt,"Types",function(){return mr}),z.d(Vt,"Coordinate",function(){return Ma}),z.d(Vt,"Scale",function(){return hn.c}),z.d(Vt,"Util",function(){return No});var lt=z("mrSG"),a=z("iTfj"),M;(function(l){l.FORE="fore",l.MID="mid",l.BG="bg"})(M||(M={}));var t;(function(l){l.TOP="top",l.TOP_LEFT="top-left",l.TOP_RIGHT="top-right",l.RIGHT="right",l.RIGHT_TOP="right-top",l.RIGHT_BOTTOM="right-bottom",l.LEFT="left",l.LEFT_TOP="left-top",l.LEFT_BOTTOM="left-bottom",l.BOTTOM="bottom",l.BOTTOM_LEFT="bottom-left",l.BOTTOM_RIGHT="bottom-right",l.RADIUS="radius",l.CIRCLE="circle",l.NONE="none"})(t||(t={}));var n;(function(l){l.AXIS="axis",l.GRID="grid",l.LEGEND="legend",l.TOOLTIP="tooltip",l.ANNOTATION="annotation",l.SLIDER="slider",l.SCROLLBAR="scrollbar",l.OTHER="other"})(n||(n={}));var d={FORE:3,MID:2,BG:1},S;(function(l){l.BEFORE_RENDER="beforerender",l.AFTER_RENDER="afterrender",l.BEFORE_PAINT="beforepaint",l.AFTER_PAINT="afterpaint",l.BEFORE_CHANGE_DATA="beforechangedata",l.AFTER_CHANGE_DATA="afterchangedata",l.BEFORE_CLEAR="beforeclear",l.AFTER_CLEAR="afterclear",l.BEFORE_DESTROY="beforedestroy",l.BEFORE_CHANGE_SIZE="beforechangesize",l.AFTER_CHANGE_SIZE="afterchangesize"})(S||(S={}));var b;(function(l){l.BEFORE_DRAW_ANIMATE="beforeanimate",l.AFTER_DRAW_ANIMATE="afteranimate"})(b||(b={}));var h;(function(l){l.MOUSE_ENTER="plot:mouseenter",l.MOUSE_DOWN="plot:mousedown",l.MOUSE_MOVE="plot:mousemove",l.MOUSE_UP="plot:mouseup",l.MOUSE_LEAVE="plot:mouseleave",l.TOUCH_START="plot:touchstart",l.TOUCH_MOVE="plot:touchmove",l.TOUCH_END="plot:touchend",l.TOUCH_CANCEL="plot:touchcancel",l.CLICK="plot:click",l.DBLCLICK="plot:dblclick",l.CONTEXTMENU="plot:contextmenu",l.LEAVE="plot:leave",l.ENTER="plot:enter"})(h||(h={}));var E;(function(l){l.ACTIVE="active",l.INACTIVE="inactive",l.SELECTED="selected",l.DEFAULT="default"})(E||(E={}));var T=["color","shape","size"],o="_origin",s=1,u=1,v=.25,C={};function O(l){var i=C[l];if(!i)throw new Error("G engine '"+l+"' is not exist, please register it at first.");return i}function j(l,i){C[l]=i}var p=z("fIp6");function x(l){var i=getComputedStyle(l);return{width:(l.clientWidth||parseInt(i.width,10))-parseInt(i.paddingLeft,10)-parseInt(i.paddingRight,10),height:(l.clientHeight||parseInt(i.height,10))-parseInt(i.paddingTop,10)-parseInt(i.paddingBottom,10)}}function A(l){return typeof l=="number"&&!isNaN(l)}function k(l,i,e,r){var g=e,N=r;if(i){var at=x(l);g=at.width?at.width:g,N=at.height?at.height:N}return{width:Math.max(A(g)?g:s,s),height:Math.max(A(N)?N:u,u)}}function X(l){var i=l.parentNode;i&&i.removeChild(l)}var et=z("f6Jy"),tt=function(l){Object(lt.b)(i,l);function i(e){var r=l.call(this)||this;r.destroyed=!1;var g=e.visible,N=g===void 0?!0:g;return r.visible=N,r}return i.prototype.show=function(){var e=this.visible;e||this.changeVisible(!0)},i.prototype.hide=function(){var e=this.visible;e&&this.changeVisible(!1)},i.prototype.destroy=function(){this.off(),this.destroyed=!0},i.prototype.changeVisible=function(e){this.visible!==e&&(this.visible=e)},i}(et.a),ft=tt,st=z("aFU3"),vt=z("7s0d"),mt=function(i,e){return Object(a.isString)(e)?e:i.invert(i.scale(e))},pt=function(){function l(i){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(i)}return l.prototype.mapping=function(){for(var i=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var g=e.map(function(N,at){return i._toOriginParam(N,i.scales[at])});return this.callback.apply(this,g)},l.prototype.getLinearValue=function(i){var e=this.values.length-1,r=Math.floor(e*i),g=e*i-r,N=this.values[r],at=r===e?N:this.values[r+1];return N+(at-N)*g},l.prototype.getNames=function(){for(var i=this.scales,e=this.names,r=Math.min(i.length,e.length),g=[],N=0;N<r;N+=1)g.push(e[N]);return g},l.prototype.getFields=function(){return this.scales.map(function(i){return i.field})},l.prototype.getScale=function(i){return this.scales[this.names.indexOf(i)]},l.prototype.defaultCallback=function(){for(var i=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this.values:e.map(function(g,N){var at=i.scales[N];return at.type==="identity"?at.values[0]:i._getAttributeValue(at,g)})},l.prototype._parseCfg=function(i){var e=this,r=i.type,g=r===void 0?"base":r,N=i.names,at=N===void 0?[]:N,Tt=i.scales,zt=Tt===void 0?[]:Tt,ae=i.values,Oe=ae===void 0?[]:ae,ye=i.callback;this.type=g,this.scales=zt,this.values=Oe,this.names=at,this.callback=function(){for(var Ne=[],Qe=0;Qe<arguments.length;Qe++)Ne[Qe]=arguments[Qe];if(ye){var gn=ye.apply(void 0,Ne);if(!Object(a.isNil)(gn))return[gn]}return e.defaultCallback.apply(e,Ne)}},l.prototype._getAttributeValue=function(i,e){if(i.isCategory&&!this.linear){var r=i.translate(e);return this.values[r%this.values.length]}var g=i.scale(e);return this.getLinearValue(g)},l.prototype._toOriginParam=function(i,e){return e.isLinear?i:Object(a.isArray)(i)?i.map(function(r){return mt(e,r)}):mt(e,i)},l}(),rt=pt;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Bt=function(i,e){return Bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,g){r.__proto__=g}||function(r,g){for(var N in g)g.hasOwnProperty(N)&&(r[N]=g[N])},Bt(i,e)};function It(l,i){Bt(l,i);function e(){this.constructor=l}l.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}var St=function(){return St=Object.assign||function(e){for(var r,g=1,N=arguments.length;g<N;g++){r=arguments[g];for(var at in r)Object.prototype.hasOwnProperty.call(r,at)&&(e[at]=r[at])}return e},St.apply(this,arguments)};function H(l,i){var e={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&i.indexOf(r)<0&&(e[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,r=Object.getOwnPropertySymbols(l);g<r.length;g++)i.indexOf(r[g])<0&&Object.prototype.propertyIsEnumerable.call(l,r[g])&&(e[r[g]]=l[r[g]]);return e}function ot(l,i,e,r){var g=arguments.length,N=g<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,e):r,at;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(l,i,e,r);else for(var Tt=l.length-1;Tt>=0;Tt--)(at=l[Tt])&&(N=(g<3?at(N):g>3?at(i,e,N):at(i,e))||N);return g>3&&N&&Object.defineProperty(i,e,N),N}function yt(l,i){return function(e,r){i(e,r,l)}}function xt(l,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,i)}function wt(l,i,e,r){function g(N){return N instanceof e?N:new e(function(at){at(N)})}return new(e||(e=Promise))(function(N,at){function Tt(Oe){try{ae(r.next(Oe))}catch(ye){at(ye)}}function zt(Oe){try{ae(r.throw(Oe))}catch(ye){at(ye)}}function ae(Oe){Oe.done?N(Oe.value):g(Oe.value).then(Tt,zt)}ae((r=r.apply(l,i||[])).next())})}function Q(l,i){var e={label:0,sent:function(){if(N[0]&1)throw N[1];return N[1]},trys:[],ops:[]},r,g,N,at;return at={next:Tt(0),throw:Tt(1),return:Tt(2)},typeof Symbol=="function"&&(at[Symbol.iterator]=function(){return this}),at;function Tt(ae){return function(Oe){return zt([ae,Oe])}}function zt(ae){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,g&&(N=ae[0]&2?g.return:ae[0]?g.throw||((N=g.return)&&N.call(g),0):g.next)&&!(N=N.call(g,ae[1])).done)return N;switch(g=0,N&&(ae=[ae[0]&2,N.value]),ae[0]){case 0:case 1:N=ae;break;case 4:return e.label++,{value:ae[1],done:!1};case 5:e.label++,g=ae[1],ae=[0];continue;case 7:ae=e.ops.pop(),e.trys.pop();continue;default:if(N=e.trys,!(N=N.length>0&&N[N.length-1])&&(ae[0]===6||ae[0]===2)){e=0;continue}if(ae[0]===3&&(!N||ae[1]>N[0]&&ae[1]<N[3])){e.label=ae[1];break}if(ae[0]===6&&e.label<N[1]){e.label=N[1],N=ae;break}if(N&&e.label<N[2]){e.label=N[2],e.ops.push(ae);break}N[2]&&e.ops.pop(),e.trys.pop();continue}ae=i.call(l,e)}catch(Oe){ae=[6,Oe],g=0}finally{r=N=0}if(ae[0]&5)throw ae[1];return{value:ae[0]?ae[1]:void 0,done:!0}}}function ct(l,i,e,r){r===void 0&&(r=e),l[r]=i[e]}function it(l,i){for(var e in l)e!=="default"&&!i.hasOwnProperty(e)&&(i[e]=l[e])}function U(l){var i=typeof Symbol=="function"&&Symbol.iterator,e=i&&l[i],r=0;if(e)return e.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function D(l,i){var e=typeof Symbol=="function"&&l[Symbol.iterator];if(!e)return l;var r=e.call(l),g,N=[],at;try{for(;(i===void 0||i-- >0)&&!(g=r.next()).done;)N.push(g.value)}catch(Tt){at={error:Tt}}finally{try{g&&!g.done&&(e=r.return)&&e.call(r)}finally{if(at)throw at.error}}return N}function W(){for(var l=[],i=0;i<arguments.length;i++)l=l.concat(D(arguments[i]));return l}function P(){for(var l=0,i=0,e=arguments.length;i<e;i++)l+=arguments[i].length;for(var r=Array(l),g=0,i=0;i<e;i++)for(var N=arguments[i],at=0,Tt=N.length;at<Tt;at++,g++)r[g]=N[at];return r}function m(l){return this instanceof m?(this.v=l,this):new m(l)}function y(l,i,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(l,i||[]),g,N=[];return g={},at("next"),at("throw"),at("return"),g[Symbol.asyncIterator]=function(){return this},g;function at(Ne){r[Ne]&&(g[Ne]=function(Qe){return new Promise(function(gn,Tn){N.push([Ne,Qe,gn,Tn])>1||Tt(Ne,Qe)})})}function Tt(Ne,Qe){try{zt(r[Ne](Qe))}catch(gn){ye(N[0][3],gn)}}function zt(Ne){Ne.value instanceof m?Promise.resolve(Ne.value.v).then(ae,Oe):ye(N[0][2],Ne)}function ae(Ne){Tt("next",Ne)}function Oe(Ne){Tt("throw",Ne)}function ye(Ne,Qe){Ne(Qe),N.shift(),N.length&&Tt(N[0][0],N[0][1])}}function V(l){var i,e;return i={},r("next"),r("throw",function(g){throw g}),r("return"),i[Symbol.iterator]=function(){return this},i;function r(g,N){i[g]=l[g]?function(at){return(e=!e)?{value:m(l[g](at)),done:g==="return"}:N?N(at):at}:N}}function J(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=l[Symbol.asyncIterator],e;return i?i.call(l):(l=typeof U=="function"?U(l):l[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(N){e[N]=l[N]&&function(at){return new Promise(function(Tt,zt){at=l[N](at),g(Tt,zt,at.done,at.value)})}}function g(N,at,Tt,zt){Promise.resolve(zt).then(function(ae){N({value:ae,done:Tt})},at)}}function ht(l,i){return Object.defineProperty?Object.defineProperty(l,"raw",{value:i}):l.raw=i,l}function gt(l){if(l&&l.__esModule)return l;var i={};if(l!=null)for(var e in l)Object.hasOwnProperty.call(l,e)&&(i[e]=l[e]);return i.default=l,i}function Mt(l){return l&&l.__esModule?l:{default:l}}function Lt(l,i){if(!i.has(l))throw new TypeError("attempted to get private field on non-instance");return i.get(l)}function At(l,i,e){if(!i.has(l))throw new TypeError("attempted to set private field on non-instance");return i.set(l,e),e}var Ct=z("6UX8"),Ot=function(l){It(i,l);function i(e){var r=l.call(this,e)||this;return r.type="color",r.names=["color"],Object(a.isString)(r.values)&&(r.linear=!0),r.gradient=Ct.a.gradient(r.values),r}return i.prototype.getLinearValue=function(e){return this.gradient(e)},i}(rt),Dt=Ot,Ft=function(l){It(i,l);function i(e){var r=l.call(this,e)||this;return r.type="opacity",r.names=["opacity"],r}return i}(rt),Xt=Ft,Rt=function(l){It(i,l);function i(e){var r=l.call(this,e)||this;return r.names=["x","y"],r.type="position",r}return i.prototype.mapping=function(e,r){var g=this.scales,N=g[0],at=g[1];return Object(a.isNil)(e)||Object(a.isNil)(r)?[]:[Object(a.isArray)(e)?e.map(function(Tt){return N.scale(Tt)}):N.scale(e),Object(a.isArray)(r)?r.map(function(Tt){return at.scale(Tt)}):at.scale(r)]},i}(rt),Kt=Rt,$t=function(l){It(i,l);function i(e){var r=l.call(this,e)||this;return r.type="shape",r.names=["shape"],r}return i.prototype.getLinearValue=function(e){var r=Math.round((this.values.length-1)*e);return this.values[r]},i}(rt),le=$t,Me=function(l){It(i,l);function i(e){var r=l.call(this,e)||this;return r.type="size",r.names=["size"],r}return i}(rt),on=Me,hn=z("8vsG"),Cn={},He=function(i){return Cn[i.toLowerCase()]},mn=function(i,e){if(He(i))throw new Error("Attribute type '"+i+"' existed.");Cn[i.toLowerCase()]=e};mn("Color",Dt),mn("Opacity",Xt),mn("Position",Kt),mn("Shape",le),mn("Size",on);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dn=function(i,e){return dn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,g){r.__proto__=g}||function(r,g){for(var N in g)g.hasOwnProperty(N)&&(r[N]=g[N])},dn(i,e)};function Un(l,i){dn(l,i);function e(){this.constructor=l}l.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}var Xn=function(){return Xn=Object.assign||function(e){for(var r,g=1,N=arguments.length;g<N;g++){r=arguments[g];for(var at in r)Object.prototype.hasOwnProperty.call(r,at)&&(e[at]=r[at])}return e},Xn.apply(this,arguments)};function Hn(l,i){var e={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&i.indexOf(r)<0&&(e[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,r=Object.getOwnPropertySymbols(l);g<r.length;g++)i.indexOf(r[g])<0&&Object.prototype.propertyIsEnumerable.call(l,r[g])&&(e[r[g]]=l[r[g]]);return e}function _n(l,i,e,r){var g=arguments.length,N=g<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,e):r,at;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(l,i,e,r);else for(var Tt=l.length-1;Tt>=0;Tt--)(at=l[Tt])&&(N=(g<3?at(N):g>3?at(i,e,N):at(i,e))||N);return g>3&&N&&Object.defineProperty(i,e,N),N}function $n(l,i){return function(e,r){i(e,r,l)}}function ir(l,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,i)}function dr(l,i,e,r){function g(N){return N instanceof e?N:new e(function(at){at(N)})}return new(e||(e=Promise))(function(N,at){function Tt(Oe){try{ae(r.next(Oe))}catch(ye){at(ye)}}function zt(Oe){try{ae(r.throw(Oe))}catch(ye){at(ye)}}function ae(Oe){Oe.done?N(Oe.value):g(Oe.value).then(Tt,zt)}ae((r=r.apply(l,i||[])).next())})}function xr(l,i){var e={label:0,sent:function(){if(N[0]&1)throw N[1];return N[1]},trys:[],ops:[]},r,g,N,at;return at={next:Tt(0),throw:Tt(1),return:Tt(2)},typeof Symbol=="function"&&(at[Symbol.iterator]=function(){return this}),at;function Tt(ae){return function(Oe){return zt([ae,Oe])}}function zt(ae){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,g&&(N=ae[0]&2?g.return:ae[0]?g.throw||((N=g.return)&&N.call(g),0):g.next)&&!(N=N.call(g,ae[1])).done)return N;switch(g=0,N&&(ae=[ae[0]&2,N.value]),ae[0]){case 0:case 1:N=ae;break;case 4:return e.label++,{value:ae[1],done:!1};case 5:e.label++,g=ae[1],ae=[0];continue;case 7:ae=e.ops.pop(),e.trys.pop();continue;default:if(N=e.trys,!(N=N.length>0&&N[N.length-1])&&(ae[0]===6||ae[0]===2)){e=0;continue}if(ae[0]===3&&(!N||ae[1]>N[0]&&ae[1]<N[3])){e.label=ae[1];break}if(ae[0]===6&&e.label<N[1]){e.label=N[1],N=ae;break}if(N&&e.label<N[2]){e.label=N[2],e.ops.push(ae);break}N[2]&&e.ops.pop(),e.trys.pop();continue}ae=i.call(l,e)}catch(Oe){ae=[6,Oe],g=0}finally{r=N=0}if(ae[0]&5)throw ae[1];return{value:ae[0]?ae[1]:void 0,done:!0}}}function Qr(l,i,e,r){r===void 0&&(r=e),l[r]=i[e]}function Mr(l,i){for(var e in l)e!=="default"&&!i.hasOwnProperty(e)&&(i[e]=l[e])}function Er(l){var i=typeof Symbol=="function"&&Symbol.iterator,e=i&&l[i],r=0;if(e)return e.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dr(l,i){var e=typeof Symbol=="function"&&l[Symbol.iterator];if(!e)return l;var r=e.call(l),g,N=[],at;try{for(;(i===void 0||i-- >0)&&!(g=r.next()).done;)N.push(g.value)}catch(Tt){at={error:Tt}}finally{try{g&&!g.done&&(e=r.return)&&e.call(r)}finally{if(at)throw at.error}}return N}function hi(){for(var l=[],i=0;i<arguments.length;i++)l=l.concat(Dr(arguments[i]));return l}function Wi(){for(var l=0,i=0,e=arguments.length;i<e;i++)l+=arguments[i].length;for(var r=Array(l),g=0,i=0;i<e;i++)for(var N=arguments[i],at=0,Tt=N.length;at<Tt;at++,g++)r[g]=N[at];return r}function oa(l){return this instanceof oa?(this.v=l,this):new oa(l)}function Za(l,i,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(l,i||[]),g,N=[];return g={},at("next"),at("throw"),at("return"),g[Symbol.asyncIterator]=function(){return this},g;function at(Ne){r[Ne]&&(g[Ne]=function(Qe){return new Promise(function(gn,Tn){N.push([Ne,Qe,gn,Tn])>1||Tt(Ne,Qe)})})}function Tt(Ne,Qe){try{zt(r[Ne](Qe))}catch(gn){ye(N[0][3],gn)}}function zt(Ne){Ne.value instanceof oa?Promise.resolve(Ne.value.v).then(ae,Oe):ye(N[0][2],Ne)}function ae(Ne){Tt("next",Ne)}function Oe(Ne){Tt("throw",Ne)}function ye(Ne,Qe){Ne(Qe),N.shift(),N.length&&Tt(N[0][0],N[0][1])}}function ao(l){var i,e;return i={},r("next"),r("throw",function(g){throw g}),r("return"),i[Symbol.iterator]=function(){return this},i;function r(g,N){i[g]=l[g]?function(at){return(e=!e)?{value:oa(l[g](at)),done:g==="return"}:N?N(at):at}:N}}function Ji(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=l[Symbol.asyncIterator],e;return i?i.call(l):(l=typeof Er=="function"?Er(l):l[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(N){e[N]=l[N]&&function(at){return new Promise(function(Tt,zt){at=l[N](at),g(Tt,zt,at.done,at.value)})}}function g(N,at,Tt,zt){Promise.resolve(zt).then(function(ae){N({value:ae,done:Tt})},at)}}function Ya(l,i){return Object.defineProperty?Object.defineProperty(l,"raw",{value:i}):l.raw=i,l}function Ca(l){if(l&&l.__esModule)return l;var i={};if(l!=null)for(var e in l)Object.hasOwnProperty.call(l,e)&&(i[e]=l[e]);return i.default=l,i}function La(l){return l&&l.__esModule?l:{default:l}}function Ba(l,i){if(!i.has(l))throw new TypeError("attempted to get private field on non-instance");return i.get(l)}function oo(l,i,e){if(!i.has(l))throw new TypeError("attempted to set private field on non-instance");return i.set(l,e),e}var Yr=z("6JdA"),$a=function(){function l(i){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var e=i.start,r=i.end,g=i.matrix,N=g===void 0?[1,0,0,0,1,0,0,0,1]:g,at=i.isTransposed,Tt=at===void 0?!1:at;this.start=e,this.end=r,this.matrix=N,this.originalMatrix=Wi(N),this.isTransposed=Tt}return l.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},l.prototype.update=function(i){Object(a.assign)(this,i),this.initial()},l.prototype.convertDim=function(i,e){var r,g=this[e],N=g.start,at=g.end;return this.isReflect(e)&&(r=[at,N],N=r[0],at=r[1]),N+i*(at-N)},l.prototype.invertDim=function(i,e){var r,g=this[e],N=g.start,at=g.end;return this.isReflect(e)&&(r=[at,N],N=r[0],at=r[1]),(i-N)/(at-N)},l.prototype.applyMatrix=function(i,e,r){r===void 0&&(r=0);var g=this.matrix,N=[i,e,r];return Yr.d.transformMat3(N,N,g),N},l.prototype.invertMatrix=function(i,e,r){r===void 0&&(r=0);var g=this.matrix,N=Yr.b.invert([0,0,0,0,0,0,0,0,0],g),at=[i,e,r];return N&&Yr.d.transformMat3(at,at,N),at},l.prototype.convert=function(i){var e=this.convertPoint(i),r=e.x,g=e.y,N=this.applyMatrix(r,g,1);return{x:N[0],y:N[1]}},l.prototype.invert=function(i){var e=this.invertMatrix(i.x,i.y,1);return this.invertPoint({x:e[0],y:e[1]})},l.prototype.rotate=function(i){var e=this.matrix,r=this.center;return Yr.a.leftTranslate(e,e,[-r.x,-r.y]),Yr.a.leftRotate(e,e,i),Yr.a.leftTranslate(e,e,[r.x,r.y]),this},l.prototype.reflect=function(i){return i==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},l.prototype.scale=function(i,e){var r=this.matrix,g=this.center;return Yr.a.leftTranslate(r,r,[-g.x,-g.y]),Yr.a.leftScale(r,r,[i,e]),Yr.a.leftTranslate(r,r,[g.x,g.y]),this},l.prototype.translate=function(i,e){var r=this.matrix;return Yr.a.leftTranslate(r,r,[i,e]),this},l.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},l.prototype.getCenter=function(){return this.center},l.prototype.getWidth=function(){return this.width},l.prototype.getHeight=function(){return this.height},l.prototype.getRadius=function(){return this.radius},l.prototype.isReflect=function(i){return i==="x"?this.isReflectX:this.isReflectY},l.prototype.resetMatrix=function(i){this.matrix=i||Wi(this.originalMatrix)},l}(),Ma=$a,to=function(l){Un(i,l);function i(e){var r=l.call(this,e)||this;return r.isRect=!0,r.type="cartesian",r.initial(),r}return i.prototype.initial=function(){l.prototype.initial.call(this);var e=this.start,r=this.end;this.x={start:e.x,end:r.x},this.y={start:e.y,end:r.y}},i.prototype.convertPoint=function(e){var r,g=e.x,N=e.y;return this.isTransposed&&(r=[N,g],g=r[0],N=r[1]),{x:this.convertDim(g,"x"),y:this.convertDim(N,"y")}},i.prototype.invertPoint=function(e){var r,g=this.invertDim(e.x,"x"),N=this.invertDim(e.y,"y");return this.isTransposed&&(r=[N,g],g=r[0],N=r[1]),{x:g,y:N}},i}(Ma),Aa=to,Vr=function(l){Un(i,l);function i(e){var r=l.call(this,e)||this;r.isHelix=!0,r.type="helix";var g=e.startAngle,N=g===void 0?1.25*Math.PI:g,at=e.endAngle,Tt=at===void 0?7.25*Math.PI:at,zt=e.innerRadius,ae=zt===void 0?0:zt,Oe=e.radius;return r.startAngle=N,r.endAngle=Tt,r.innerRadius=ae,r.radius=Oe,r.initial(),r}return i.prototype.initial=function(){l.prototype.initial.call(this);var e=(this.endAngle-this.startAngle)/(2*Math.PI)+1,r=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(r=r*this.radius),this.d=Math.floor(r*(1-this.innerRadius)/e),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*r,end:this.innerRadius*r+this.d*.99}},i.prototype.convertPoint=function(e){var r,g=e.x,N=e.y;this.isTransposed&&(r=[N,g],g=r[0],N=r[1]);var at=this.convertDim(g,"x"),Tt=this.a*at,zt=this.convertDim(N,"y");return{x:this.center.x+Math.cos(at)*(Tt+zt),y:this.center.y+Math.sin(at)*(Tt+zt)}},i.prototype.invertPoint=function(e){var r,g=this.d+this.y.start,N=Yr.c.subtract([0,0],[e.x,e.y],[this.center.x,this.center.y]),at=Yr.a.angleTo(N,[1,0],!0),Tt=at*this.a;Yr.c.length(N)<Tt&&(Tt=Yr.c.length(N));var zt=Math.floor((Yr.c.length(N)-Tt)/g);at=2*zt*Math.PI+at;var ae=this.a*at,Oe=Yr.c.length(N)-ae;Oe=Object(a.isNumberEqual)(Oe,0)?0:Oe;var ye=this.invertDim(at,"x"),Ne=this.invertDim(Oe,"y");return ye=Object(a.isNumberEqual)(ye,0)?0:ye,Ne=Object(a.isNumberEqual)(Ne,0)?0:Ne,this.isTransposed&&(r=[Ne,ye],ye=r[0],Ne=r[1]),{x:ye,y:Ne}},i}(Ma),Pi=Vr,wi=function(l){Un(i,l);function i(e){var r=l.call(this,e)||this;r.isPolar=!0,r.type="polar";var g=e.startAngle,N=g===void 0?-Math.PI/2:g,at=e.endAngle,Tt=at===void 0?Math.PI*3/2:at,zt=e.innerRadius,ae=zt===void 0?0:zt,Oe=e.radius;return r.startAngle=N,r.endAngle=Tt,r.innerRadius=ae,r.radius=Oe,r.initial(),r}return i.prototype.initial=function(){for(l.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var e=this.getOneBox(),r=e.maxX-e.minX,g=e.maxY-e.minY,N=Math.abs(e.minX)/r,at=Math.abs(e.minY)/g,Tt;this.height/g>this.width/r?(Tt=this.width/r,this.circleCenter={x:this.center.x-(.5-N)*this.width,y:this.center.y-(.5-at)*Tt*g}):(Tt=this.height/g,this.circleCenter={x:this.center.x-(.5-N)*Tt*r,y:this.center.y-(.5-at)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=Tt*this.radius:(this.radius<=0||this.radius>Tt)&&(this.polarRadius=Tt):this.polarRadius=Tt,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},i.prototype.getRadius=function(){return this.polarRadius},i.prototype.convertPoint=function(e){var r,g=this.getCenter(),N=e.x,at=e.y;return this.isTransposed&&(r=[at,N],N=r[0],at=r[1]),N=this.convertDim(N,"x"),at=this.convertDim(at,"y"),{x:g.x+Math.cos(N)*at,y:g.y+Math.sin(N)*at}},i.prototype.invertPoint=function(e){var r=this.getCenter(),g=[e.x-r.x,e.y-r.y],N=[1,0,0,0,1,0,0,0,1];Yr.a.leftRotate(N,N,this.startAngle);var at=[1,0,0];Yr.d.transformMat3(at,at,N);var Tt=[at[0],at[1]],zt=Yr.a.angleTo(Tt,g,this.endAngle<this.startAngle);Object(a.isNumberEqual)(zt,Math.PI*2)&&(zt=0);var ae=Yr.c.length(g),Oe=zt/(this.endAngle-this.startAngle);Oe=this.endAngle-this.startAngle>0?Oe:-Oe;var ye=this.invertDim(ae,"y"),Ne={x:0,y:0};return Ne.x=this.isTransposed?ye:Oe,Ne.y=this.isTransposed?Oe:ye,Ne},i.prototype.getCenter=function(){return this.circleCenter},i.prototype.getOneBox=function(){var e=this.startAngle,r=this.endAngle;if(Math.abs(r-e)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var g=[0,Math.cos(e),Math.cos(r)],N=[0,Math.sin(e),Math.sin(r)],at=Math.min(e,r);at<Math.max(e,r);at+=Math.PI/18)g.push(Math.cos(at)),N.push(Math.sin(at));return{minX:Math.min.apply(Math,g),maxX:Math.max.apply(Math,g),minY:Math.min.apply(Math,N),maxY:Math.max.apply(Math,N)}},i}(Ma),Ei=wi,bi={},Di=function(i){return bi[i.toLowerCase()]},Fi=function(i,e){bi[i.toLowerCase()]=e};Fi("rect",Aa),Fi("cartesian",Aa),Fi("polar",Ei),Fi("helix",Pi);var Ni=z("17Tr"),ji=Ni.Axis.Line,Xi=Ni.Axis.Circle,Ki=Ni.Grid.Line,la=Ni.Grid.Circle,ta=Ni.Legend.Category,ma=Ni.Legend.Continuous,Oa=Ni.Tooltip.Html;function uo(l){if(Object(a.isEmpty)(l))return null;var i=l[0].x,e=l[0].x,r=l[0].y,g=l[0].y;return Object(a.each)(l,function(N){i=i>N.x?N.x:i,e=e<N.x?N.x:e,r=r>N.y?N.y:r,g=g<N.y?N.y:g}),{minX:i,maxX:e,minY:r,maxY:g,centerX:(i+e)/2,centerY:(r+g)/2}}function sa(l,i,e,r){return{x:l+e*Math.cos(r),y:i+e*Math.sin(r)}}function Xa(l,i,e,r,g,N){N===void 0&&(N=0);var at=sa(l,i,e,r),Tt=sa(l,i,e,g),zt=sa(l,i,N,r),ae=sa(l,i,N,g);if(g-r==Math.PI*2){var Oe=sa(l,i,e,r+Math.PI),ye=sa(l,i,N,r+Math.PI),Ne=[["M",at.x,at.y],["A",e,e,0,1,1,Oe.x,Oe.y],["A",e,e,0,1,1,Tt.x,Tt.y],["M",zt.x,zt.y]];return N&&(Ne.push(["A",N,N,0,1,0,ye.x,ye.y]),Ne.push(["A",N,N,0,1,0,ae.x,ae.y])),Ne.push(["M",at.x,at.y]),Ne.push(["Z"]),Ne}var Qe=g-r<=Math.PI?0:1,gn=[["M",at.x,at.y],["A",e,e,0,Qe,1,Tt.x,Tt.y],["L",ae.x,ae.y]];return N&&gn.push(["A",N,N,0,Qe,0,zt.x,zt.y]),gn.push(["L",at.x,at.y]),gn.push(["Z"]),gn}function po(l,i,e,r,g){var N=sa(l,i,e,r),at=sa(l,i,e,g);if(Object(a.isNumberEqual)(g-r,Math.PI*2)){var Tt=sa(l,i,e,r+Math.PI);return[["M",N.x,N.y],["A",e,e,0,1,1,Tt.x,Tt.y],["A",e,e,0,1,1,N.x,N.y],["A",e,e,0,1,0,Tt.x,Tt.y],["A",e,e,0,1,0,N.x,N.y],["Z"]]}var zt=g-r<=Math.PI?0:1;return[["M",N.x,N.y],["A",e,e,0,zt,1,at.x,at.y]]}function bo(l,i){var e=l.points,r=uo(e),g,N,at=i.startAngle,Tt=i.endAngle,zt=Tt-at;return i.isTransposed?(g=r.maxY*zt,N=r.minY*zt):(g=r.maxX*zt,N=r.minX*zt),g+=at,N+=at,{startAngle:N,endAngle:g}}function Mo(l,i){if(Object(a.isNumber)(l)&&Object(a.isNumber)(i))return[l,i];for(var e=-1,r=0,g=0,N,at=l.length-1,Tt,zt=0;++e<l.length;)N=at,at=e,zt+=Tt=l[N]*i[at]-l[at]*i[N],r+=(l[N]+l[at])*Tt,g+=(i[N]+i[at])*Tt;return zt*=3,[r/zt,g/zt]}function Po(l,i){var e=l.attr(),r=i.attr();return Object(a.each)(e,function(g,N){r[N]===void 0&&(r[N]=void 0)}),r}function ue(l,i,e){var r=Math.min(i,e),g=Math.max(i,e);return l>=r&&l<=g}function Qt(l,i,e){if(Object(a.isString)(l))return l.padEnd(i,e);if(Object(a.isArray)(l)){var r=l.length;if(r<i)for(var g=i-r,N=0;N<g;N++)l.push(e)}return l}function ne(l,i){return i.forEach(function(e){delete l[e]}),l}function Ce(l,i,e){i===void 0&&(i=[]),e===void 0&&(e={});for(var r=0,g=l;r<g.length;r++){var N=g[r];e[N]||(i.push(N),e[N]=!0)}return i}var en=function(){function l(i,e,r,g){i===void 0&&(i=0),e===void 0&&(e=0),r===void 0&&(r=0),g===void 0&&(g=0),this.x=i,this.y=e,this.height=g,this.width=r}return l.fromRange=function(i,e,r,g){return new l(i,e,r-i,g-e)},l.fromObject=function(i){return new l(i.minX,i.minY,i.width,i.height)},Object.defineProperty(l.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),l.prototype.isEqual=function(i){return this.x===i.x&&this.y===i.y&&this.width===i.width&&this.height===i.height},l.prototype.contains=function(i){return i.minX>=this.minX&&i.maxX<=this.maxX&&i.minY>=this.minY&&i.maxY<=this.maxY},l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height)},l.prototype.add=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var r=this.clone();return Object(a.each)(i,function(g){r.x=Math.min(g.x,r.x),r.y=Math.min(g.y,r.y),r.width=Math.max(g.maxX,r.maxX)-r.x,r.height=Math.max(g.maxY,r.maxY)-r.y}),r},l.prototype.merge=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var r=this.clone();return Object(a.each)(i,function(g){r.x=Math.max(g.x,r.x),r.y=Math.max(g.y,r.y),r.width=Math.min(g.maxX,r.maxX)-r.x,r.height=Math.min(g.maxY,r.maxY)-r.y}),r},l.prototype.cut=function(i,e){var r=i.width,g=i.height;switch(e){case t.TOP:case t.TOP_LEFT:case t.TOP_RIGHT:return l.fromRange(this.minX,this.minY+g,this.maxX,this.maxY);case t.RIGHT:case t.RIGHT_TOP:case t.RIGHT_BOTTOM:return l.fromRange(this.minX,this.minY,this.maxX-r,this.maxY);case t.BOTTOM:case t.BOTTOM_LEFT:case t.BOTTOM_RIGHT:return l.fromRange(this.minX,this.minY,this.maxX,this.maxY-g);case t.LEFT:case t.LEFT_TOP:case t.LEFT_BOTTOM:return l.fromRange(this.minX+r,this.minY,this.maxX,this.maxY);default:return this}},l.prototype.shrink=function(i){var e=i[0],r=i[1],g=i[2],N=i[3];return new l(this.x+N,this.y+e,this.width-N-r,this.height-e-g)},l.prototype.expand=function(i){var e=i[0],r=i[1],g=i[2],N=i[3];return new l(this.x-N,this.y-e,this.width+N+r,this.height+e+g)},l.prototype.exceed=function(i){return[Math.max(-this.minY+i.minY,0),Math.max(this.maxX-i.maxX,0),Math.max(this.maxY-i.maxY,0),Math.max(-this.minX+i.minX,0)]},l.prototype.collide=function(i){return this.minX<i.maxX&&this.maxX>i.minX&&this.minY<i.maxY&&this.maxY>i.minY},l.prototype.size=function(){return this.width*this.height},l.prototype.isPointIn=function(i){return i.x>=this.minX&&i.x<=this.maxX&&i.y>=this.minY&&i.y<=this.maxY},l}(),kn=function(i,e){var r=e.start,g=e.end;return new en(i.x+i.width*r.x,i.y+i.height*r.y,i.width*Math.abs(g.x-r.x),i.height*Math.abs(g.y-r.y))};function sr(l){return[[l.minX,l.minY],[l.maxX,l.minY],[l.maxX,l.maxY],[l.minX,l.maxY]]}function pr(l){if(l.isPolar&&!l.isTransposed)return(l.endAngle-l.startAngle)*l.getRadius();var i=l.convert({x:0,y:0}),e=l.convert({x:1,y:0});return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function ln(l){if(l.isPolar){var i=l.startAngle,e=l.endAngle;return e-i==Math.PI*2}return!1}function vn(l,i){var e=l.getCenter();return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))}function xn(l,i){var e=!1;if(l)if(l.type==="theta"){var r=l.start,g=l.end;e=ue(i.x,r.x,g.x)&&ue(i.y,r.y,g.y)}else{var N=l.invert(i);e=ue(N.x,0,1)&&ue(N.y,0,1)}return e}function Or(l,i){var e=l.getCenter();return Math.atan2(i.y-e.y,i.x-e.x)}function Br(l,i){i===void 0&&(i=0);var e=l.start,r=l.end,g=l.getWidth(),N=l.getHeight();if(l.isPolar){var at=l.startAngle,Tt=l.endAngle,zt=l.getCenter(),ae=l.getRadius();return{type:"path",startState:{path:Xa(zt.x,zt.y,ae+i,at,at)},endState:function(Ne){var Qe=(Tt-at)*Ne+at,gn=Xa(zt.x,zt.y,ae+i,at,Qe);return{path:gn}},attrs:{path:Xa(zt.x,zt.y,ae+i,at,Tt)}}}var Oe;return l.isTransposed?Oe={height:N+i*2}:Oe={width:g+i*2},{type:"rect",startState:{x:e.x-i,y:r.y-i,width:l.isTransposed?g+i*2:0,height:l.isTransposed?0:N+i*2},endState:Oe,attrs:{x:e.x-i,y:r.y-i,width:g+i*2,height:N+i*2}}}function Pr(l,i){i===void 0&&(i=0);var e=l.start,r=l.end,g=l.getWidth(),N=l.getHeight(),at=Math.min(e.x,r.x),Tt=Math.min(e.y,r.y);return en.fromRange(at-i,Tt-i,at+g+i,Tt+N+i)}var kr=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function mi(l){var i="linear";return kr.test(l)?i="timeCat":Object(a.isString)(l)&&(i="cat"),i}function $r(l,i,e){var r=i||[];if(Object(a.isNumber)(l)||Object(a.isNil)(Object(a.firstValue)(r,l))&&Object(a.isEmpty)(e)){var g=Object(hn.d)("identity");return new g({field:l.toString(),values:[l]})}var N=Object(a.valuesOfKey)(r,l),at=Object(a.get)(e,"type",mi(N[0])),Tt=Object(hn.d)(at);return new Tt(Object(lt.a)({field:l,values:N},e))}function Xr(l,i){if(l.type!=="identity"&&i.type!=="identity"){var e={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l.change(e)}}function Nr(l){return l.alias||l.field}function Hr(l,i,e){var r=l.values,g=r.length,N;if(g===1)N=[.5,1];else{var at=1,Tt=0;ln(i)?i.isTransposed?(at=Object(a.get)(e,"widthRatio.multiplePie",1/1.3),Tt=1/g*at,N=[Tt/2,1-Tt/2]):N=[0,1-1/g]:(Tt=1/g/2,N=[Tt,1-Tt])}return N}function oi(l){var i=l.values.filter(function(e){return!Object(a.isNil)(e)&&!isNaN(e)});return Math.max.apply(Math,Object(lt.d)(i,[Object(a.isNil)(l.max)?-Infinity:l.max]))}function yi(l){var i,e;switch(l){case t.TOP:i={x:0,y:1},e={x:1,y:1};break;case t.RIGHT:i={x:1,y:0},e={x:1,y:1};break;case t.BOTTOM:i={x:0,y:0},e={x:1,y:0};break;case t.LEFT:i={x:0,y:0},e={x:0,y:1};break;default:i=e={x:0,y:0}}return{start:i,end:e}}function si(l){var i,e;return l.isTransposed?(i={x:0,y:0},e={x:1,y:0}):(i={x:0,y:0},e={x:0,y:1}),{start:i,end:e}}function ti(l,i){var e={start:{x:0,y:0},end:{x:0,y:0}};l.isRect?e=yi(i):l.isPolar&&(e=si(l));var r=e.start,g=e.end;return{start:l.convert(r),end:l.convert(g)}}function zi(l,i){if(l.isRect)return l.isTransposed?[t.RIGHT,t.BOTTOM].includes(i)?1:-1:[t.BOTTOM,t.RIGHT].includes(i)?-1:1;if(l.isPolar){var e=l.x.start;return e<0?-1:1}return 1}function qi(l){var i=l.start,e=l.end;return i.x===e.x}function Sa(l,i){var e=l.start,r=l.end,g=qi(l);return g?(e.y-r.y)*(i.x-e.x)>0?1:-1:(r.x-e.x)*(e.y-i.y)>0?-1:1}function ea(l,i){return Object(a.get)(l,["components","axis",i],{})}function Fa(l){var i=l.x,e=l.y,r=l.circleCenter,g=e.start>e.end,N=l.isTransposed?l.convert({x:g?0:1,y:0}):l.convert({x:0,y:g?0:1}),at=[N.x-r.x,N.y-r.y],Tt=[1,0],zt=N.y>r.y?Yr.c.angle(at,Tt):Yr.c.angle(at,Tt)*-1,ae=zt+(i.end-i.start),Oe=Math.sqrt(Math.pow(N.x-r.x,2)+Math.pow(N.y-r.y,2));return{center:r,radius:Oe,startAngle:zt,endAngle:ae}}function Ua(l,i){return Object(a.isBoolean)(l)?l===!1?!1:{}:Object(a.get)(l,[i])}function Na(l,i){return Object(a.get)(l,"position",i)}function va(l,i){return Object(a.get)(i,["title","text"],Nr(l))}var ge=function(){function l(i,e){this.destroyed=!1,this.facets=[],this.view=i,this.cfg=Object(a.deepMix)({},this.getDefaultCfg(),e)}return l.prototype.init=function(){this.container||(this.container=this.createContainer());var i=this.view.getData();this.facets=this.generateFacets(i)},l.prototype.render=function(){this.renderViews()},l.prototype.update=function(){},l.prototype.clear=function(){this.clearFacetViews()},l.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},l.prototype.facetToView=function(i){var e=i.region,r=i.data,g=i.padding,N=g===void 0?this.cfg.padding:g,at=this.view.createView({region:e,padding:N});at.data(r||[]),i.view=at,this.beforeEachView(at,i);var Tt=this.cfg.eachView;return Tt&&Tt(at,i),this.afterEachView(at,i),at},l.prototype.createContainer=function(){var i=this.view.getLayer(M.FORE);return i.addGroup()},l.prototype.renderViews=function(){this.createFacetViews()},l.prototype.createFacetViews=function(){var i=this;return this.facets.map(function(e){return i.facetToView(e)})},l.prototype.clearFacetViews=function(){var i=this;Object(a.each)(this.facets,function(e){e.view&&(i.view.removeView(e.view),e.view=void 0)})},l.prototype.getFieldValues=function(i,e){var r=[],g={};return Object(a.each)(i,function(N){var at=N[e];!Object(a.isNil)(at)&&!g[at]&&(r.push(at),g[at]=!0)}),r},l.prototype.getRegion=function(i,e,r,g){var N=1/(e===0?1:e),at=1/(i===0?1:i),Tt={x:N*r,y:at*g},zt={x:N*(r+1),y:at*(g+1)};return{start:Tt,end:zt}},l.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},l.prototype.getDefaultTitleCfg=function(){var i=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:i}}},l.prototype.processAxis=function(i,e){var r=i.getOptions(),g=r.coordinate,N=i.geometries,at=Object(a.get)(g,"type","rect");if(at==="rect"&&N.length){Object(a.isNil)(r.axes)&&(r.axes={});var Tt=r.axes,zt=N[0].getXYFields(),ae=zt[0],Oe=zt[1],ye=Ua(Tt,ae),Ne=Ua(Tt,Oe);ye!==!1&&(r.axes[ae]=this.getXAxisOption(ae,Tt,ye,e)),Ne!==!1&&(r.axes[Oe]=this.getYAxisOption(Oe,Tt,Ne,e))}},l.prototype.getFacetDataFilter=function(i){return function(e){return Object(a.every)(i,function(r){var g=r.field,N=r.value;return!Object(a.isNil)(N)&&g?e[g]===N:!0})}},l}(),F={},_=function(i){return F[Object(a.lowerCase)(i)]},$=function(i,e){F[Object(a.lowerCase)(i)]=e},dt=function(){function l(i,e){this.context=i,this.cfg=e,i.addAction(this)}return l.prototype.applyCfg=function(i){Object(a.assign)(this,i)},l.prototype.init=function(){this.applyCfg(this.cfg)},l.prototype.destroy=function(){this.context.removeAction(this),this.context=null},l}(),Gt=dt,Jt=function(l){Object(lt.b)(i,l);function i(){return l!==null&&l.apply(this,arguments)||this}return i.prototype.execute=function(){this.callback&&this.callback(this.context)},i.prototype.destroy=function(){l.prototype.destroy.call(this),this.callback=null},i}(Gt),ce=Jt,fe={};function De(l,i){var e=fe[l],r=null;if(e){var g=e.ActionClass,N=e.cfg;r=new g(i,N),r.name=l,r.init()}return r}function We(l){var i=fe[l];return Object(a.get)(i,"ActionClass")}function sn(l,i,e){fe[l]={ActionClass:i,cfg:e}}function Dn(l){delete fe[l]}function Yt(l,i){var e=new ce(i);return e.callback=l,e.name="callback",e}function Zt(l,i){var e=[];if(l.length){e.push(["M",l[0].x,l[0].y]);for(var r=1,g=l.length;r<g;r+=1){var N=l[r];e.push(["L",N.x,N.y])}i&&e.push(["Z"])}return e}function Ae(l,i){for(var e=[l[0]],r=1,g=l.length;r<g;r=r+2){var N=i.convert({x:l[r],y:l[r+1]});e.push(N.x,N.y)}return e}function Ht(l,i){var e=i.isTransposed,r=l[1],g=l[6],N=l[7],at=i.convert({x:g,y:N}),Tt=e?0:1;return["A",r,r,0,0,Tt,at.x,at.y]}function he(l,i,e){var r=e.isTransposed,g=e.startAngle,N=e.endAngle,at=l[0].toLowerCase()==="a"?{x:l[6],y:l[7]}:{x:l[1],y:l[2]},Tt={x:i[1],y:i[2]},zt=[],ae=r?"y":"x",Oe=Math.abs(Tt[ae]-at[ae])*(N-g),ye=Tt[ae]>=at[ae]?1:0,Ne=Oe>Math.PI?1:0,Qe=e.convert(Tt),gn=vn(e,Qe);if(gn>=.5)if(Oe===Math.PI*2){var Tn={x:(Tt.x+at.x)/2,y:(Tt.y+at.y)/2},cr=e.convert(Tn);zt.push(["A",gn,gn,0,Ne,ye,cr.x,cr.y]),zt.push(["A",gn,gn,0,Ne,ye,Qe.x,Qe.y])}else zt.push(["A",gn,gn,0,Ne,ye,Qe.x,Qe.y]);return zt}function En(l){Object(a.each)(l,function(i,e){var r=i;if(r[0].toLowerCase()==="a"){var g=l[e-1],N=l[e+1];N&&N[0].toLowerCase()==="a"?g&&g[0].toLowerCase()==="l"&&(g[0]="M"):g&&g[0].toLowerCase()==="a"&&N&&N[0].toLowerCase()==="l"&&(N[0]="M")}})}var Qn=function(i,e,r,g){var N=[],at,Tt,zt=!!g,ae,Oe;if(zt){ae=[Infinity,Infinity],Oe=[-Infinity,-Infinity];for(var ye=0,Ne=i.length;ye<Ne;ye++){var Qe=i[ye];ae=Yr.c.min([0,0],ae,Qe),Oe=Yr.c.max([0,0],Oe,Qe)}ae=Yr.c.min([0,0],ae,g[0]),Oe=Yr.c.max([0,0],Oe,g[1])}for(var ye=0,gn=i.length;ye<gn;ye++){var Qe=i[ye];if(r)at=i[ye?ye-1:gn-1],Tt=i[(ye+1)%gn];else if(ye===0||ye===gn-1){N.push(Qe);continue}else at=i[ye-1],Tt=i[ye+1];var Tn=[0,0];Tn=Yr.c.sub(Tn,Tt,at),Tn=Yr.c.scale(Tn,Tn,e);var cr=Yr.c.distance(Qe,at),br=Yr.c.distance(Qe,Tt),Lr=cr+br;Lr!==0&&(cr/=Lr,br/=Lr);var Fr=Yr.c.scale([0,0],Tn,-cr),li=Yr.c.scale([0,0],Tn,br),Ai=Yr.c.add([0,0],Qe,Fr),gi=Yr.c.add([0,0],Qe,li);zt&&(Ai=Yr.c.max([0,0],Ai,ae),Ai=Yr.c.min([0,0],Ai,Oe),gi=Yr.c.max([0,0],gi,ae),gi=Yr.c.min([0,0],gi,Oe)),N.push(Ai),N.push(gi)}return r&&N.push(N.shift()),N};function fr(l,i,e){for(var r=!!i,g=[],N=0,at=l.length;N<at;N+=2)g.push([l[N],l[N+1]]);for(var Tt=Qn(g,.4,r,e),zt=g.length,ae=[],Oe,ye,Ne,N=0;N<zt-1;N++)Oe=Tt[N*2],ye=Tt[N*2+1],Ne=g[N+1],ae.push(["C",Oe[0],Oe[1],ye[0],ye[1],Ne[0],Ne[1]]);return r&&(Oe=Tt[zt],ye=Tt[zt+1],Ne=g[0],ae.push(["C",Oe[0],Oe[1],ye[0],ye[1],Ne[0],Ne[1]])),ae}function ar(l,i){return Zt(l,i)}function an(l,i,e){var r=[],g=l[0],N=null;if(l.length<=2)return ar(l,i);for(var at=0,Tt=l.length;at<Tt;at++){var zt=l[at];(!N||!(N.x===zt.x&&N.y===zt.y))&&(r.push(zt.x),r.push(zt.y),N=zt)}var ae=e||[[0,0],[1,1]],Oe=fr(r,i,ae);return Oe.unshift(["M",g.x,g.y]),Oe}function Re(l,i){var e=[];return Object(a.each)(i,function(r){var g=r[0];switch(g.toLowerCase()){case"m":case"l":case"c":e.push(Ae(r,l));break;case"a":e.push(Ht(r,l));break;case"z":default:e.push(r);break}}),e}function L(l,i){var e=[],r,g,N,at;return Object(a.each)(i,function(Tt,zt){var ae=Tt[0];switch(ae.toLowerCase()){case"m":case"c":case"q":e.push(Ae(Tt,l));break;case"l":r=i[zt-1],g=Tt,N=l.isTransposed,at=N?r[r.length-2]===g[1]:r[r.length-1]===g[2],at?e=e.concat(he(r,g,l)):e.push(Ae(Tt,l));break;case"a":e.push(Ht(Tt,l));break;case"z":default:e.push(Tt);break}}),En(e),e}var bt=z("LvGN");function ie(l,i){var e=l.event,r=e.target,g=r.getCanvasBBox();return g.width>=i||g.height>=i?g:null}function Ee(l,i){var e=l.event,r=e.target,g=r.getCanvasBBox();return g.width>=i||g.height>=i?r.attr("path"):null}function te(l){var i=l.event,e,r=i.target;return r&&(e=r.get("element")),e}function pe(l){var i=l.event,e=i.target,r;return e&&(r=e.get("delegateObject")),r}function ve(l){var i=l.event.gEvent;return!(i&&i.fromShape&&i.toShape&&i.fromShape.get("element")===i.toShape.get("element"))}function de(l){return l&&l.component&&l.component.isList()}function Pe(l){return l&&l.component&&l.component.isSlider()}function ze(l){var i=l.event,e=i.target;return e&&e.get("name")==="mask"}function Je(l,i){var e=l.event.target;if(e.get("type")==="path"){var r=Ee(l,i);return r?lr(l.view,r):void 0}var g=ie(l,i);return g?Sn(l.view,g):null}function Ve(l,i,e){var r=ie(l,e);if(!r)return null;var g=l.view,N=Ye(g,i,{x:r.x,y:r.y}),at=Ye(g,i,{x:r.maxX,y:r.maxY}),Tt={minX:N.x,minY:N.y,maxX:at.x,maxY:at.y};return Sn(i,Tt)}function cn(l){var i=l.geometries,e=[];return Object(a.each)(i,function(r){var g=r.elements;e=e.concat(g)}),l.views&&l.views.length&&Object(a.each)(l.views,function(r){e=e.concat(cn(r))}),e}function Be(l,i,e){var r=cn(l);return r.filter(function(g){return On(g,i)===e})}function Mn(l,i){var e=l.geometries,r=[];return Object(a.each)(e,function(g){var N=g.getElementsBy(function(at){return at.hasState(i)});r=r.concat(N)}),r}function On(l,i){var e=l.getModel(),r=e.data,g;return Object(a.isArray)(r)?g=r[0][i]:g=r[i],g}function pn(l,i){return!(i.minX>l.maxX||i.maxX<l.minX||i.minY>l.maxY||i.maxY<l.minY)}function Sn(l,i){var e=cn(l),r=[];return Object(a.each)(e,function(g){var N=g.shape,at=N.getCanvasBBox();pn(i,at)&&r.push(g)}),r}function Rn(l){var i=[];return Object(a.each)(l,function(e){var r=e[0];if(r!=="A")for(var g=1;g<e.length;g=g+2)i.push([e[g],e[g+1]]);else{var N=e.length;i.push([e[N-2],e[N-1]])}}),i}function lr(l,i){var e=cn(l),r=Rn(i),g=e.filter(function(N){var at=N.shape,Tt;if(at.get("type")==="path")Tt=Rn(at.attr("path"));else{var zt=at.getCanvasBBox();Tt=sr(zt)}return Object(bt.b)(r,Tt)});return g}function Fn(l){return l.getComponents().map(function(i){return i.component})}function tr(l,i){var e=i.x-l.x,r=i.y-l.y;return Math.sqrt(e*e+r*r)}function me(l,i){if(l.length<=2)return ar(l,!1);var e=l[0],r=[];Object(a.each)(l,function(N){r.push(N.x),r.push(N.y)});var g=fr(r,i,null);return g.unshift(["M",e.x,e.y]),g}function Se(l,i){return l.x<=i.x&&l.maxX>=i.x&&l.y<=i.y&&l.maxY>i.y}function ke(l){var i=l.parent,e=null;return i&&(e=i.views.filter(function(r){return r!==l})),e}function we(l,i){var e=l.getCoordinate();return e.invert(i)}function Ye(l,i,e){var r=we(l,e);return i.getCoordinate().convert(r)}function un(l,i,e,r){var g=!1;return Object(a.each)(l,function(N){if(N[e]===i[e]&&N[r]===i[r])return g=!0,!1}),g}function zn(l,i){var e=l.getScaleByField(i);return!e&&l.views&&Object(a.each)(l.views,function(r){if(e=zn(r,i),e)return!1}),e}var Nn=function(){function l(i){this.actions=[],this.event=null,this.cacheMap={},this.view=i}return l.prototype.cache=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];if(i.length===1)return this.cacheMap[i[0]];i.length===2&&(this.cacheMap[i[0]]=i[1])},l.prototype.getAction=function(i){return this.actions.find(function(e){return e.name===i})},l.prototype.addAction=function(i){this.actions.push(i)},l.prototype.removeAction=function(i){var e=this.actions,r=this.actions.indexOf(i);r>=0&&e.splice(r,1)},l.prototype.getCurrentPoint=function(){var i=this.event;if(i)if(i.target instanceof HTMLElement){var e=this.view.getCanvas(),r=e.getPointByClient(i.clientX,i.clientY);return r}else return{x:i.x,y:i.y};return null},l.prototype.getCurrentShape=function(){return Object(a.get)(this.event,["gEvent","shape"])},l.prototype.isInPlot=function(){var i=this.getCurrentPoint();return i?this.view.isPointInPlot(i):!1},l.prototype.isInShape=function(i){var e=this.getCurrentShape();return e?e.get("name")===i:!1},l.prototype.isInComponent=function(i){var e=Fn(this.view),r=this.getCurrentPoint();return r?!!e.find(function(g){var N=g.getBBox();return i?g.get("name")===i&&Se(N,r):Se(N,r)}):!1},l.prototype.destroy=function(){this.view=null,this.event=null,Object(a.each)(this.actions.slice(),function(i){i.destroy()}),this.actions=null,this.cacheMap=null},l}(),or=Nn,Rr=function(){function l(i,e){this.view=i,this.cfg=e}return l.prototype.init=function(){this.initEvents()},l.prototype.initEvents=function(){},l.prototype.clearEvents=function(){},l.prototype.destroy=function(){this.clearEvents()},l}(),xi=Rr;function pi(l,i,e){var r=l.split(":"),g=r[0],N=i.getAction(g)||De(g,i);if(!N)throw new Error("There is no action named "+g);var at=r[1];return{action:N,methodName:at,arg:e}}function Kr(l){var i=l.action,e=l.methodName,r=l.arg;if(i[e])i[e](r);else throw new Error("Action("+i.name+") doesn't have a method called "+e)}var Ii={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},Gi=function(l){Object(lt.b)(i,l);function i(e,r){var g=l.call(this,e,r)||this;return g.callbackCaches={},g.emitCaches={},g.steps=r,g}return i.prototype.init=function(){this.initContext(),l.prototype.init.call(this)},i.prototype.destroy=function(){l.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},i.prototype.initEvents=function(){var e=this;Object(a.each)(this.steps,function(r,g){Object(a.each)(r,function(N){var at=e.getActionCallback(g,N);at&&e.bindEvent(N.trigger,at)})})},i.prototype.clearEvents=function(){var e=this;Object(a.each)(this.steps,function(r,g){Object(a.each)(r,function(N){var at=e.getActionCallback(g,N);at&&e.offEvent(N.trigger,at)})})},i.prototype.initContext=function(){var e=this.view,r=new or(e);this.context=r;var g=this.steps;Object(a.each)(g,function(N){Object(a.each)(N,function(at){if(Object(a.isFunction)(at.action))at.actionObject={action:Yt(at.action,r),methodName:"execute"};else if(Object(a.isString)(at.action))at.actionObject=pi(at.action,r,at.arg);else if(Object(a.isArray)(at.action)){var Tt=at.action,zt=Object(a.isArray)(at.arg)?at.arg:[at.arg];at.actionObject=[],Object(a.each)(Tt,function(ae,Oe){at.actionObject.push(pi(ae,r,zt[Oe]))})}})})},i.prototype.isAllowStep=function(e){var r=this.currentStepName,g=this.steps;if(r===e||e===Ii.SHOW_ENABLE)return!0;if(e===Ii.PROCESSING)return r===Ii.START;if(e===Ii.START)return r!==Ii.PROCESSING;if(e===Ii.END)return r===Ii.PROCESSING||r===Ii.START;if(e===Ii.ROLLBACK){if(g[Ii.END])return r===Ii.END;if(r===Ii.START)return!0}return!1},i.prototype.isAllowExecute=function(e,r){if(this.isAllowStep(e)){var g=this.getKey(e,r);return r.once&&this.emitCaches[g]?!1:r.isEnable?r.isEnable(this.context):!0}return!1},i.prototype.enterStep=function(e){this.currentStepName=e,this.emitCaches={}},i.prototype.afterExecute=function(e,r){e!==Ii.SHOW_ENABLE&&this.currentStepName!==e&&this.enterStep(e);var g=this.getKey(e,r);this.emitCaches[g]=!0},i.prototype.getKey=function(e,r){return e+r.trigger+r.action},i.prototype.getActionCallback=function(e,r){var g=this,N=this.context,at=this.callbackCaches,Tt=r.actionObject;if(r.action&&Tt){var zt=this.getKey(e,r);if(!at[zt]){var ae=function(ye){N.event=ye,g.isAllowExecute(e,r)?(Object(a.isArray)(Tt)?Object(a.each)(Tt,function(Ne){N.event=ye,Kr(Ne)}):(N.event=ye,Kr(Tt)),g.afterExecute(e,r),r.callback&&(N.event=ye,r.callback(N))):N.event=null};r.debounce?at[zt]=Object(a.debounce)(ae,r.debounce.wait,r.debounce.immediate):r.throttle?at[zt]=Object(a.throttle)(ae,r.throttle.wait,{leading:r.throttle.leading,trailing:r.throttle.trailing}):at[zt]=ae}return at[zt]}return null},i.prototype.bindEvent=function(e,r){var g=e.split(":");g[0]==="window"?window.addEventListener(g[1],r):g[0]==="document"?document.addEventListener(g[1],r):this.view.on(e,r)},i.prototype.offEvent=function(e,r){var g=e.split(":");g[0]==="window"?window.removeEventListener(g[1],r):g[0]==="document"?document.removeEventListener(g[1],r):this.view.off(e,r)},i}(xi),Si=Gi,aa={};function Xo(l){return aa[Object(a.lowerCase)(l)]}function Wa(l,i){aa[Object(a.lowerCase)(l)]=i}function Zo(l,i,e){var r=Xo(l);if(!r)return null;if(Object(a.isPlainObject)(r)){var g=Object(a.mix)(Object(a.clone)(r),e);return new Si(i,g)}else{var N=r;return new N(i,e)}}function tu(l){return{title:{autoRotate:!0,position:"center",spacing:l.axisTitleSpacing,style:{fill:l.axisTitleTextFillColor,fontSize:l.axisTitleTextFontSize,lineHeight:l.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:l.fontFamily}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:l.axisLabelOffset,style:{fill:l.axisLabelFillColor,fontSize:l.axisLabelFontSize,lineHeight:l.axisLabelLineHeight,fontFamily:l.fontFamily}},line:{style:{lineWidth:l.axisLineBorder,stroke:l.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:l.axisGridBorderColor,lineWidth:l.axisGridBorder,lineDash:l.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:l.axisTickLineBorder,stroke:l.axisTickLineBorderColor},alignTick:!0,length:l.axisTickLineLength},subTickLine:null,animate:!0}}function Ho(l){return{title:null,marker:{symbol:"circle",spacing:l.legendMarkerSpacing,style:{r:l.legendCircleMarkerSize,fill:l.legendMarkerColor}},itemName:{spacing:5,style:{fill:l.legendItemNameFillColor,fontFamily:l.fontFamily,fontSize:l.legendItemNameFontSize,lineHeight:l.legendItemNameLineHeight,fontWeight:l.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},flipPage:!0,animate:!1,maxItemWidth:200,itemSpacing:l.legendItemSpacing,itemMarginBottom:l.legendItemMarginBottom,padding:l.legendPadding}}function Ta(l){var i,e={point:{default:{fill:l.pointFillColor,r:l.pointSize,stroke:l.pointBorderColor,lineWidth:l.pointBorder,fillOpacity:l.pointFillOpacity},active:{stroke:l.pointActiveBorderColor,lineWidth:l.pointActiveBorder},selected:{stroke:l.pointSelectedBorderColor,lineWidth:l.pointSelectedBorder},inactive:{fillOpacity:l.pointInactiveFillOpacity,strokeOpacity:l.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:l.hollowPointFillColor,lineWidth:l.hollowPointBorder,stroke:l.hollowPointBorderColor,strokeOpacity:l.hollowPointBorderOpacity,r:l.hollowPointSize},active:{stroke:l.hollowPointActiveBorderColor,strokeOpacity:l.hollowPointActiveBorderOpacity},selected:{lineWidth:l.hollowPointSelectedBorder,stroke:l.hollowPointSelectedBorderColor,strokeOpacity:l.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:l.hollowPointInactiveBorderOpacity}},area:{default:{fill:l.areaFillColor,fillOpacity:l.areaFillOpacity,stroke:null},active:{fillOpacity:l.areaActiveFillOpacity},selected:{fillOpacity:l.areaSelectedFillOpacity},inactive:{fillOpacity:l.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:l.hollowAreaBorderColor,lineWidth:l.hollowAreaBorder,strokeOpacity:l.hollowAreaBorderOpacity},active:{fill:null,lineWidth:l.hollowAreaActiveBorder},selected:{fill:null,lineWidth:l.hollowAreaSelectedBorder},inactive:{strokeOpacity:l.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:l.intervalFillColor,fillOpacity:l.intervalFillOpacity},active:{stroke:l.intervalActiveBorderColor,lineWidth:l.intervalActiveBorder},selected:{stroke:l.intervalSelectedBorderColor,lineWidth:l.intervalSelectedBorder},inactive:{fillOpacity:l.intervalInactiveFillOpacity,strokeOpacity:l.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:l.hollowIntervalFillColor,stroke:l.hollowIntervalBorderColor,lineWidth:l.hollowIntervalBorder,strokeOpacity:l.hollowIntervalBorderOpacity},active:{stroke:l.hollowIntervalActiveBorderColor,lineWidth:l.hollowIntervalActiveBorder,strokeOpacity:l.hollowIntervalActiveBorderOpacity},selected:{stroke:l.hollowIntervalSelectedBorderColor,lineWidth:l.hollowIntervalSelectedBorder,strokeOpacity:l.hollowIntervalSelectedBorderOpacity},inactive:{stroke:l.hollowIntervalInactiveBorderColor,lineWidth:l.hollowIntervalInactiveBorder,strokeOpacity:l.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:l.lineBorderColor,lineWidth:l.lineBorder,strokeOpacity:l.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:l.lineActiveBorder},selected:{lineWidth:l.lineSelectedBorder},inactive:{strokeOpacity:l.lineInactiveBorderOpacity}}},r=tu(l),g=Ho(l);return{background:l.backgroundColor,defaultColor:l.brandColor,padding:"auto",fontFamily:l.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:l.paletteQualitative10,colors20:l.paletteQualitative20,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:e.interval.default},active:{style:e.interval.active},inactive:{style:e.interval.inactive},selected:{style:function(at){var Tt=at.geometry.coordinate;if(Tt.isPolar&&Tt.isTransposed){var zt=bo(at.getModel(),Tt),ae=zt.startAngle,Oe=zt.endAngle,ye=(ae+Oe)/2,Ne=7.5,Qe=Ne*Math.cos(ye),gn=Ne*Math.sin(ye);return{matrix:Yr.a.transform(null,[["t",Qe,gn]])}}return e.interval.selected}}},"hollow-rect":{default:{style:e.hollowInterval.default},active:{style:e.hollowInterval.active},inactive:{style:e.hollowInterval.inactive},selected:{style:e.hollowInterval.selected}},line:{default:{style:e.hollowInterval.default},active:{style:e.hollowInterval.active},inactive:{style:e.hollowInterval.inactive},selected:{style:e.hollowInterval.selected}},tick:{default:{style:e.hollowInterval.default},active:{style:e.hollowInterval.active},inactive:{style:e.hollowInterval.inactive},selected:{style:e.hollowInterval.selected}},funnel:{default:{style:e.interval.default},active:{style:e.interval.active},inactive:{style:e.interval.inactive},selected:{style:e.interval.selected}},pyramid:{default:{style:e.interval.default},active:{style:e.interval.active},inactive:{style:e.interval.inactive},selected:{style:e.interval.selected}}},line:{line:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},dot:{default:{style:Object(lt.a)(Object(lt.a)({},e.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:Object(lt.a)(Object(lt.a)({},e.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:Object(lt.a)(Object(lt.a)({},e.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:Object(lt.a)(Object(lt.a)({},e.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:Object(lt.a)(Object(lt.a)({},e.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:Object(lt.a)(Object(lt.a)({},e.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:Object(lt.a)(Object(lt.a)({},e.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:Object(lt.a)(Object(lt.a)({},e.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},hv:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},vh:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},hvh:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},vhv:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}}},polygon:{polygon:{default:{style:e.interval.default},active:{style:e.interval.active},inactive:{style:e.interval.inactive},selected:{style:e.interval.selected}}},point:{circle:{default:{style:e.point.default},active:{style:e.point.active},inactive:{style:e.point.inactive},selected:{style:e.point.selected}},square:{default:{style:e.point.default},active:{style:e.point.active},inactive:{style:e.point.inactive},selected:{style:e.point.selected}},bowtie:{default:{style:e.point.default},active:{style:e.point.active},inactive:{style:e.point.inactive},selected:{style:e.point.selected}},diamond:{default:{style:e.point.default},active:{style:e.point.active},inactive:{style:e.point.inactive},selected:{style:e.point.selected}},hexagon:{default:{style:e.point.default},active:{style:e.point.active},inactive:{style:e.point.inactive},selected:{style:e.point.selected}},triangle:{default:{style:e.point.default},active:{style:e.point.active},inactive:{style:e.point.inactive},selected:{style:e.point.selected}},"triangle-down":{default:{style:e.point.default},active:{style:e.point.active},inactive:{style:e.point.inactive},selected:{style:e.point.selected}},"hollow-circle":{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},"hollow-square":{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},"hollow-bowtie":{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},"hollow-diamond":{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},"hollow-hexagon":{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},"hollow-triangle":{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},"hollow-triangle-down":{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},cross:{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},tick:{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},plus:{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},hyphen:{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},line:{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}}},area:{area:{default:{style:e.area.default},active:{style:e.area.active},inactive:{style:e.area.inactive},selected:{style:e.area.selected}},smooth:{default:{style:e.area.default},active:{style:e.area.active},inactive:{style:e.area.inactive},selected:{style:e.area.selected}},line:{default:{style:e.hollowArea.default},active:{style:e.hollowArea.active},inactive:{style:e.hollowArea.inactive},selected:{style:e.hollowArea.selected}},"smooth-line":{default:{style:e.hollowArea.default},active:{style:e.hollowArea.active},inactive:{style:e.hollowArea.inactive},selected:{style:e.hollowArea.selected}}},schema:{candle:{default:{style:e.hollowInterval.default},active:{style:e.hollowInterval.active},inactive:{style:e.hollowInterval.inactive},selected:{style:e.hollowInterval.selected}},box:{default:{style:e.hollowInterval.default},active:{style:e.hollowInterval.active},inactive:{style:e.hollowInterval.inactive},selected:{style:e.hollowInterval.selected}}},edge:{line:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},vhv:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},smooth:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},arc:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}}}},components:{axis:{common:r,top:Object(a.deepMix)({},r,{position:"top",grid:null,title:null,verticalLimitLength:1/2}),bottom:Object(a.deepMix)({},r,{position:"bottom",grid:null,title:null,verticalLimitLength:1/2}),left:Object(a.deepMix)({},r,{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3}),right:Object(a.deepMix)({},r,{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3}),circle:Object(a.deepMix)({},r,{title:null,grid:Object(a.deepMix)({},r.grid,{line:{type:"line"}})}),radius:Object(a.deepMix)({},r,{title:null,grid:Object(a.deepMix)({},r.grid,{line:{type:"circle"}})})},legend:{common:g,right:Object(a.deepMix)({},g,{layout:"vertical",padding:l.legendVerticalPadding}),left:Object(a.deepMix)({},g,{layout:"vertical",padding:l.legendVerticalPadding}),top:Object(a.deepMix)({},g,{layout:"horizontal",padding:l.legendHorizontalPadding}),bottom:Object(a.deepMix)({},g,{layout:"horizontal",padding:l.legendHorizontalPadding}),continuous:{title:null,background:null,track:{},rail:{type:"color",size:l.sliderRailHeight,defaultLength:l.sliderRailWidth,style:{fill:l.sliderRailFillColor,stroke:l.sliderRailBorderColor,lineWidth:l.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:l.sliderLabelTextFillColor,fontSize:l.sliderLabelTextFontSize,lineHeight:l.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:l.fontFamily}},handler:{size:l.sliderHandlerWidth,style:{fill:l.sliderHandlerFillColor,stroke:l.sliderHandlerBorderColor}},slidable:!0,padding:g.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:l.tooltipCrosshairsBorderColor,lineWidth:l.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(i={},i[""+Ni.TOOLTIP_CSS_CONST.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:l.tooltipContainerFillColor,opacity:l.tooltipContainerFillOpacity,boxShadow:l.tooltipContainerShadow,borderRadius:l.tooltipContainerBorderRadius+"px",color:l.tooltipTextFillColor,fontSize:l.tooltipTextFontSize+"px",fontFamily:l.fontFamily,lineHeight:l.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},i[""+Ni.TOOLTIP_CSS_CONST.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},i[""+Ni.TOOLTIP_CSS_CONST.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},i[""+Ni.TOOLTIP_CSS_CONST.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},i[""+Ni.TOOLTIP_CSS_CONST.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},i[""+Ni.TOOLTIP_CSS_CONST.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},i)},annotation:{arc:{style:{stroke:l.annotationArcBorderColor,lineWidth:l.annotationArcBorder},animate:!0},line:{style:{stroke:l.annotationLineBorderColor,lineDash:l.annotationLineDash,lineWidth:l.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:l.annotationTextFillColor,stroke:l.annotationTextBorderColor,lineWidth:l.annotationTextBorder,fontSize:l.annotationTextFontSize,textAlign:"start",fontFamily:l.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:l.annotationTextFillColor,stroke:l.annotationTextBorderColor,lineWidth:l.annotationTextBorder,fontSize:l.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:l.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:l.annotationRegionBorder,stroke:l.annotationRegionBorderColor,fill:l.annotationRegionFillColor,fillOpacity:l.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:l.brandColor,lineWidth:2}},line:{style:{stroke:l.annotationLineBorderColor,lineWidth:l.annotationLineBorder},length:l.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:l.annotationTextFillColor,stroke:l.annotationTextBorderColor,lineWidth:l.annotationTextBorder,fontSize:l.annotationTextFontSize,fontFamily:l.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:l.annotationRegionFillColor,fillOpacity:l.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:l.annotationTextFillColor,stroke:l.annotationTextBorderColor,lineWidth:l.annotationTextBorder,fontSize:l.annotationTextFontSize,fontFamily:l.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8]}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)"}},hover:{style:{thumbColor:"rgba(0,0,0,0.2)"}}}},labels:{offset:12,style:{fill:l.labelFillColor,fontSize:l.labelFontSize,fontFamily:l.fontFamily,stroke:l.labelBorderColor,lineWidth:l.labelBorder},fillColorDark:l.labelFillColorDark,fillColorLight:l.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:l.innerLabelFillColor,fontSize:l.innerLabelFontSize,fontFamily:l.fontFamily,stroke:l.innerLabelBorderColor,lineWidth:l.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:l.overflowLabelFillColor,fontSize:l.overflowLabelFontSize,fontFamily:l.fontFamily,stroke:l.overflowLabelBorderColor,lineWidth:l.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:l.labelLineBorder}},autoRotate:!0}}}var Ha={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},So={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},ss=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],hs=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],us=function(i){i===void 0&&(i={});var e=i.backgroundColor,r=e===void 0?"transparent":e,g=i.paletteQualitative10,N=g===void 0?ss:g,at=i.paletteQualitative20,Tt=at===void 0?hs:at,zt=i.paletteSemanticRed,ae=zt===void 0?"#F4664A":zt,Oe=i.paletteSemanticGreen,ye=Oe===void 0?"#30BF78":Oe,Ne=i.paletteSemanticYellow,Qe=Ne===void 0?"#FAAD14":Ne,gn=i.fontFamily,Tn=gn===void 0?`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`:gn,cr=i.brandColor,br=cr===void 0?N[0]:cr;return{backgroundColor:r,brandColor:br,paletteQualitative10:N,paletteQualitative20:Tt,paletteSemanticRed:ae,paletteSemanticGreen:ye,paletteSemanticYellow:Qe,fontFamily:Tn,axisLineBorderColor:Ha[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Ha[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:Ha[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Ha[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:Ha[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Ha[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:Ha[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:br,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Ha[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],sliderRailFillColor:Ha[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Ha[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Ha[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Ha[25],annotationArcBorderColor:Ha[15],annotationArcBorder:1,annotationLineBorderColor:Ha[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Ha[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Ha[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Ha[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:Ha[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Ha[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:So[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Ha[65],overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:So[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Ha[25],pointFillColor:br,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:So[100],pointBorderOpacity:1,pointActiveBorderColor:Ha[100],pointSelectedBorder:2,pointSelectedBorderColor:Ha[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:br,hollowPointBorderOpacity:.95,hollowPointFillColor:So[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Ha[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Ha[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:br,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:br,areaFillOpacity:.25,areaActiveFillColor:br,areaActiveFillOpacity:.5,areaSelectedFillColor:br,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:br,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Ha[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Ha[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:br,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Ha[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Ha[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:br,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:So[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Ha[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Ha[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}},Rs=us();function Hi(l){var i=l.styleSheet,e=i===void 0?{}:i,r=Object(lt.c)(l,["styleSheet"]),g=us(e);return Object(a.deepMix)({},Ta(g),r)}var yc=Hi({}),ua={default:yc};function Cu(l){return Object(a.get)(ua,Object(a.lowerCase)(l),ua.default)}function ja(l,i){ua[Object(a.lowerCase)(l)]=Hi(i)}function zu(l,i,e){var r=e.translate(l),g=e.translate(i);return Object(a.isNumberEqual)(r,g)}function fa(l,i){var e=i.coordinate,r=i.getXScale(),g=r.range,N=g[g.length-1],at=g[0],Tt=e.invert(l),zt=Tt.x;return e.isPolar&&zt>(1+N)/2&&(zt=at),r.translate(r.invert(zt))}function Cr(l,i,e){var r=e.coordinate,g=e.getYScale(),N=g.field,at=r.invert(i),Tt=g.invert(at.y),zt=Object(a.find)(l,function(ae){var Oe=ae[o];return Oe[N][0]<=Tt&&Oe[N][1]>=Tt});return zt||l[l.length-1]}var gr=Object(a.memoize)(function(l){if(l.isCategory)return 1;for(var i=l.values,e=i.length,r=l.translate(i[0]),g=r,N=0;N<e;N++){var at=i[N],Tt=l.translate(at);Tt<r&&(r=Tt),Tt>g&&(g=Tt)}return(g-r)/(e-1)});function zr(l,i,e){var r=i.getAttribute("position"),g=r.getFields(),N=i.scales,at=Object(a.isFunction)(e)||!e?g[0]:e,Tt=N[at],zt=Tt?Tt.getText(l[at]):l[at]||at;return Object(a.isFunction)(e)?e(zt,l):zt}function qr(l){var i=Object(a.values)(l.attributes);return Object(a.filter)(i,function(e){return Object(a.contains)(T,e.type)})}function Ka(l){for(var i=qr(l),e,r=0,g=i;r<g.length;r++){var N=g[r],at=N.getScale(N.type);if(at&&at.isLinear){e=at;break}}var Tt=l.getXScale(),zt=l.getYScale();return e||zt||Tt}function so(l,i){var e=i.field,r=l[e];if(Object(a.isArray)(r)){var g=r.map(function(N){return i.getText(N)});return g.join("-")}return i.getText(r)}function xo(l,i){var e,r=i.getGroupScales();if(r.length&&(e=r[0]),e){var g=e.field;return e.getText(l[g])}var N=Ka(i);return Nr(N)}function co(l,i,e){if(i.length===0)return null;var r=e.type,g=e.getXScale(),N=e.getYScale(),at=g.field,Tt=N.field,zt=null;if(r==="heatmap"||r==="point"){for(var ae=e.coordinate,Oe=ae.invert(l),ye=g.invert(Oe.x),Ne=N.invert(Oe.y),Qe=Infinity,gn=0;gn<i.length;gn++){var Tn=i[gn],cr=Tn[o],br=Math.pow(cr[at]-ye,2)+Math.pow(cr[Tt]-Ne,2);br<Qe&&(Qe=br,zt=Tn)}return zt}var Lr=i[0],Fr=i[i.length-1],li=fa(l,e),Ai=Lr[o][at],gi=Lr[o][Tt],Ra=Fr[o][at],ra=N.isLinear&&Object(a.isArray)(gi);if(Object(a.isArray)(Ai)){for(var gn=0;gn<i.length;gn++){var ca=i[gn],cr=ca[o];if(g.translate(cr[at][0])<=li&&g.translate(cr[at][1])>=li)if(ra)Object(a.isArray)(zt)||(zt=[]),zt.push(ca);else{zt=ca;break}}Object(a.isArray)(zt)&&(zt=Cr(zt,l,e))}else{var _a=void 0;if(!g.isLinear&&g.type!=="timeCat"){for(var gn=0;gn<i.length;gn++){var ca=i[gn],cr=ca[o];if(zu(cr[at],li,g))if(ra)Object(a.isArray)(zt)||(zt=[]),zt.push(ca);else{zt=ca;break}else g.translate(cr[at])<=li&&(Fr=ca,_a=i[gn+1])}Object(a.isArray)(zt)&&(zt=Cr(zt,l,e))}else{if((li>g.translate(Ra)||li<g.translate(Ai))&&(li>g.max||li<g.min))return null;for(var ka=0,K=i.length-1,G=void 0;ka<=K;){G=Math.floor((ka+K)/2);var w=i[G][o][at];if(zu(w,li,g))return i[G];g.translate(w)<=g.translate(li)?(ka=G+1,Fr=i[G],_a=i[G+1]):(K===0&&(Fr=i[0]),K=G-1)}}Fr&&_a&&Math.abs(g.translate(Fr[o][at])-li)>Math.abs(g.translate(_a[o][at])-li)&&(Fr=_a)}var B=gr(e.getXScale());return!zt&&Math.abs(g.translate(Fr[o][at])-li)<=B/2&&(zt=Fr),zt}function hu(l,i,e,r){e===void 0&&(e=""),r===void 0&&(r=!1);var g=l[o],N=zr(g,i,e),at=i.tooltipOption,Tt=i.theme.defaultColor,zt=[],ae,Oe;function ye(Ra,ra){if(r||!Object(a.isNil)(ra)&&ra!==""){var ca={title:N,data:g,mappingData:l,name:Ra,value:ra,color:l.color||Tt,marker:!0};zt.push(ca)}}if(Object(a.isObject)(at)){var Ne=at.fields,Qe=at.callback;if(Qe){var gn=Ne.map(function(Ra){return l[o][Ra]}),Tn=Qe.apply(void 0,gn),cr=Object(lt.a)({data:l[o],mappingData:l,title:N,color:l.color||Tt,marker:!0},Tn);zt.push(cr)}else for(var br=i.scales,Lr=0,Fr=Ne;Lr<Fr.length;Lr++){var li=Fr[Lr];if(!Object(a.isNil)(g[li])){var Ai=br[li];ae=Nr(Ai),Oe=Ai.getText(g[li]),ye(ae,Oe)}}}else{var gi=Ka(i);Oe=so(g,gi),ae=xo(g,i),ye(ae,Oe)}return zt}function Wu(l){return!Object(a.isNumber)(l)&&!Object(a.isArray)(l)}function ui(l){l===void 0&&(l=0);var i=Object(a.isArray)(l)?l:[l];switch(i.length){case 0:i=[0,0,0,0];break;case 1:i=new Array(4).fill(i[0]);break;case 2:i=Object(lt.d)(i,i);break;case 3:i=Object(lt.d)(i,[i[1]]);break;default:i=i.slice(0,4);break}return i}var Jr={};function Gs(l,i){Jr[l]=i}function Mu(l){delete Jr[l]}function Au(){return Object.keys(Jr)}function eu(l){return Jr[l]}var lo=function(){function l(i){this.option=this.wrapperOption(i)}return l.prototype.update=function(i){return this.option=this.wrapperOption(i),this},l.prototype.hasAction=function(i){var e=this.option.actions;return Object(a.some)(e,function(r){return r[0]===i})},l.prototype.create=function(i,e){var r=this.option,g=r.type,N=r.cfg,at=g==="theta",Tt=Object(lt.a)({start:i,end:e},N),zt=Di(at?"polar":g);return this.coordinate=new zt(Tt),this.coordinate.type=g,at&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},l.prototype.adjust=function(i,e){return this.coordinate.update({start:i,end:e}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},l.prototype.rotate=function(i){return this.option.actions.push(["rotate",i]),this},l.prototype.reflect=function(i){return this.option.actions.push(["reflect",i]),this},l.prototype.scale=function(i,e){return this.option.actions.push(["scale",i,e]),this},l.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},l.prototype.getOption=function(){return this.option},l.prototype.getCoordinate=function(){return this.coordinate},l.prototype.wrapperOption=function(i){return Object(lt.a)({type:"rect",actions:[],cfg:{}},i)},l.prototype.execActions=function(i){var e=this,r=this.option.actions;Object(a.each)(r,function(g){var N,at=g[0],Tt=g.slice(1),zt=Object(a.isNil)(i)?!0:i.includes(at);zt&&(N=e.coordinate)[at].apply(N,Tt)})},l}(),tc=lo,ds=function(){function l(i,e,r){this.view=i,this.gEvent=e,this.data=r,this.type=e.type}return l.fromData=function(i,e,r){return new l(i,new st.Event(e,{}),r)},Object.defineProperty(l.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),l.prototype.toString=function(){return"[Event (type="+this.type+")]"},l.prototype.clone=function(){return new l(this.view,this.gEvent,this.data)},l}(),Us=ds;function Uo(l){var i=l.getController("axis"),e=l.getController("legend"),r=l.getController("annotation"),g=l.getController("slider"),N=l.getController("scrollbar");[i,g,N,e,r].forEach(function(at){at&&at.layout()})}var bc=function(){function l(){this.scales=new Map,this.syncScales=new Map}return l.prototype.createScale=function(i,e,r,g){var N=r,at=this.getScaleMeta(g);if(e.length===0&&at){var Tt=at.scale,zt={type:Tt.type};Tt.isCategory&&(zt.values=Tt.values),N=Object(a.deepMix)(zt,at.scaleDef,r)}var ae=$r(i,e,N);return this.cacheScale(ae,r,g),ae},l.prototype.sync=function(i,e){var r=this;this.syncScales.forEach(function(g,N){var at=Number.MAX_SAFE_INTEGER,Tt=Number.MIN_SAFE_INTEGER,zt=[];Object(a.each)(g,function(ae){var Oe=r.getScale(ae);Tt=Object(a.isNumber)(Oe.max)?Math.max(Tt,Oe.max):Tt,at=Object(a.isNumber)(Oe.min)?Math.min(at,Oe.min):at,Object(a.each)(Oe.values,function(ye){zt.includes(ye)||zt.push(ye)})}),Object(a.each)(g,function(ae){var Oe=r.getScale(ae);if(Oe.isContinuous)Oe.change({min:at,max:Tt,values:zt});else if(Oe.isCategory){var ye=Oe.range,Ne=r.getScaleMeta(ae);zt&&!Object(a.get)(Ne,["scaleDef","range"])&&(ye=Hr(Object(a.deepMix)({},Oe,{values:zt}),i,e)),Oe.change({values:zt,range:ye})}})})},l.prototype.cacheScale=function(i,e,r){var g=this.getScaleMeta(r);g&&g.scale.type===i.type?(Xr(g.scale,i),g.scaleDef=e):(g={key:r,scale:i,scaleDef:e},this.scales.set(r,g));var N=this.getSyncKey(g);if(g.syncKey=N,this.removeFromSyncScales(r),N){var at=this.syncScales.get(N);at||(at=[],this.syncScales.set(N,at)),at.push(r)}},l.prototype.getScale=function(i){var e=this.getScaleMeta(i);if(!e){var r=Object(a.last)(i.split("-")),g=this.syncScales.get(r);g&&g.length&&(e=this.getScaleMeta(g[0]))}return e&&e.scale},l.prototype.deleteScale=function(i){var e=this.getScaleMeta(i);if(e){var r=e.syncKey,g=this.syncScales.get(r);if(g&&g.length){var N=g.indexOf(i);N!==-1&&g.splice(N,1)}}this.scales.delete(i)},l.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},l.prototype.removeFromSyncScales=function(i){var e=this;this.syncScales.forEach(function(r,g){var N=r.indexOf(i);if(N!==-1)return r.splice(N,1),r.length===0&&e.syncScales.delete(g),!1})},l.prototype.getSyncKey=function(i){var e=i.scale,r=i.scaleDef,g=e.field,N=Object(a.get)(r,["sync"]);return N===!0?g:N===!1?void 0:N},l.prototype.getScaleMeta=function(i){return this.scales.get(i)},l}(),nu=function(){function l(i,e,r,g){i===void 0&&(i=0),e===void 0&&(e=0),r===void 0&&(r=0),g===void 0&&(g=0),this.top=i,this.right=e,this.bottom=r,this.left=g}return l.instance=function(i,e,r,g){return i===void 0&&(i=0),e===void 0&&(e=0),r===void 0&&(r=0),g===void 0&&(g=0),new l(i,e,r,g)},l.prototype.max=function(i){var e=i[0],r=i[1],g=i[2],N=i[3];return this.top=Math.max(this.top,e),this.right=Math.max(this.right,r),this.bottom=Math.max(this.bottom,g),this.left=Math.max(this.left,N),this},l.prototype.shrink=function(i){var e=i[0],r=i[1],g=i[2],N=i[3];return this.top+=e,this.right+=r,this.bottom+=g,this.left+=N,this},l.prototype.inc=function(i,e){var r=i.width,g=i.height;switch(e){case t.TOP:case t.TOP_LEFT:case t.TOP_RIGHT:this.top+=g;break;case t.RIGHT:case t.RIGHT_TOP:case t.RIGHT_BOTTOM:this.right+=r;break;case t.BOTTOM:case t.BOTTOM_LEFT:case t.BOTTOM_RIGHT:this.bottom+=g;break;case t.LEFT:case t.LEFT_TOP:case t.LEFT_BOTTOM:this.left+=r;break;default:break}return this},l.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},l.prototype.clone=function(){return new(l.bind.apply(l,Object(lt.d)([void 0],this.getPadding())))},l}();function gs(l){var i=l.padding;if(!Wu(i))return new(nu.bind.apply(nu,Object(lt.d)([void 0],ui(i))));var e=l.viewBBox,r=new nu,g=[],N=[],at=[];return Object(a.each)(l.getComponents(),function(Tt){var zt=Tt.type;zt===n.AXIS?g.push(Tt):[n.LEGEND,n.SLIDER,n.SCROLLBAR].includes(zt)?N.push(Tt):zt!==n.GRID&&zt!==n.TOOLTIP&&at.push(Tt)}),Object(a.each)(g,function(Tt){var zt=Tt.component,ae=zt.getLayoutBBox(),Oe=new en(ae.x,ae.y,ae.width,ae.height),ye=Oe.exceed(e);r.max(ye)}),Object(a.each)(N,function(Tt){var zt=Tt.component,ae=Tt.direction,Oe=zt.getLayoutBBox(),ye=zt.get("padding"),Ne=new en(Oe.x,Oe.y,Oe.width,Oe.height).expand(ye);r.inc(Ne,ae)}),Object(a.each)(at,function(Tt){var zt=Tt.component,ae=Tt.direction,Oe=zt.getLayoutBBox(),ye=new en(Oe.x,Oe.y,Oe.width,Oe.height);r.inc(ye,ae)}),r}function ks(l,i,e){var r=e.instance();i.forEach(function(g){g.autoPadding=r.max(g.autoPadding.getPadding())})}var ru=function(l){Object(lt.b)(i,l);function i(e){var r=l.call(this,{visible:e.visible})||this;r.views=[],r.geometries=[],r.controllers=[],r.interactions={},r.limitInPlot=!1,r.options={data:[],animate:!0},r.usedControllers=Au(),r.scalePool=new bc,r.layoutFunc=Uo,r.isPreMouseInPlot=!1,r.isDataChanged=!1,r.isCoordinateChanged=!1,r.createdScaleKeys=new Map,r.onCanvasEvent=function(Fr){var li=Fr.name;if(!li.includes(":")){var Ai=r.createViewEvent(Fr);r.doPlotEvent(Ai),r.emit(li,Ai)}},r.onDelegateEvents=function(Fr){var li=Fr.name;if(!!li.includes(":")){var Ai=r.createViewEvent(Fr);r.emit(li,Ai)}};var g=e.id,N=g===void 0?Object(a.uniqueId)("view"):g,at=e.parent,Tt=e.canvas,zt=e.backgroundGroup,ae=e.middleGroup,Oe=e.foregroundGroup,ye=e.region,Ne=ye===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:ye,Qe=e.padding,gn=e.appendPadding,Tn=e.theme,cr=e.options,br=e.limitInPlot,Lr=e.syncViewPadding;return r.parent=at,r.canvas=Tt,r.backgroundGroup=zt,r.middleGroup=ae,r.foregroundGroup=Oe,r.region=Ne,r.padding=Qe,r.appendPadding=gn,r.options=Object(lt.a)(Object(lt.a)({},r.options),cr),r.limitInPlot=br,r.id=N,r.syncViewPadding=Lr,r.themeObject=Object(a.isObject)(Tn)?Object(a.deepMix)({},Cu("default"),Hi(Tn)):Cu(Tn),r.init(),r}return i.prototype.setLayout=function(e){this.layoutFunc=e},i.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},i.prototype.render=function(e){e===void 0&&(e=!1),this.emit(S.BEFORE_RENDER),this.paint(e),this.emit(S.AFTER_RENDER),this.visible===!1&&this.changeVisible(!1)},i.prototype.clear=function(){var e=this;this.emit(S.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var r=this.geometries,g=0;g<r.length;g++)r[g].clear(),r[g].container.remove(!0);this.geometries=[];for(var N=this.controllers,g=0;g<N.length;g++)N[g].name==="annotation"?N[g].clear(!0):N[g].clear();this.createdScaleKeys.forEach(function(Tt,zt){e.getRootView().scalePool.deleteScale(zt)}),this.createdScaleKeys.clear();for(var at=this.views,g=0;g<at.length;g++)at[g].clear();this.emit(S.AFTER_CLEAR)},i.prototype.destroy=function(){this.emit(S.BEFORE_DESTROY);var e=this.interactions;Object(a.each)(e,function(Tt){Tt&&Tt.destroy()}),this.clear();for(var r=this.controllers,g=0,N=r.length;g<N;g++){var at=r[g];at.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),l.prototype.destroy.call(this)},i.prototype.changeVisible=function(e){l.prototype.changeVisible.call(this,e);for(var r=this.geometries,g=0,N=r.length;g<N;g++){var at=r[g];at.changeVisible(e)}for(var Tt=this.controllers,g=0,N=Tt.length;g<N;g++){var zt=Tt[g];zt.changeVisible(e)}return this.foregroundGroup.set("visible",e),this.middleGroup.set("visible",e),this.backgroundGroup.set("visible",e),this.getCanvas().draw(),this},i.prototype.data=function(e){return Object(a.set)(this.options,"data",e),this.isDataChanged=!0,this},i.prototype.source=function(e){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(e)},i.prototype.filter=function(e,r){return Object(a.isFunction)(r)?(Object(a.set)(this.options,["filters",e],r),this):(!r&&Object(a.get)(this.options,["filters",e])&&delete this.options.filters[e],this)},i.prototype.axis=function(e,r){return Object(a.isBoolean)(e)?Object(a.set)(this.options,["axes"],e):Object(a.set)(this.options,["axes",e],r),this},i.prototype.legend=function(e,r){return Object(a.isBoolean)(e)?Object(a.set)(this.options,["legends"],e):Object(a.isString)(e)?Object(a.set)(this.options,["legends",e],r):Object(a.set)(this.options,["legends"],e),this},i.prototype.scale=function(e,r){var g=this;return Object(a.isString)(e)?Object(a.set)(this.options,["scales",e],r):Object(a.isObject)(e)&&Object(a.each)(e,function(N,at){Object(a.set)(g.options,["scales",at],N)}),this},i.prototype.tooltip=function(e){return Object(a.set)(this.options,"tooltip",e),this},i.prototype.annotation=function(){return this.getController("annotation")},i.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},i.prototype.coordinate=function(e,r){return Object(a.isString)(e)?Object(a.set)(this.options,"coordinate",{type:e,cfg:r}):Object(a.set)(this.options,"coordinate",e),this.coordinateController.update(this.options.coordinate),this.coordinateController},i.prototype.coord=function(e,r){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(e,r)},i.prototype.facet=function(e,r){this.facetInstance&&this.facetInstance.destroy();var g=_(e);if(!g)throw new Error("facet '"+e+"' is not exist!");return this.facetInstance=new g(this,Object(lt.a)(Object(lt.a)({},r),{type:e})),this},i.prototype.animate=function(e){return Object(a.set)(this.options,"animate",e),this},i.prototype.updateOptions=function(e){return this.clear(),Object(a.mix)(this.options,e),this.views.forEach(function(r){return r.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},i.prototype.option=function(e,r){if(i.prototype[e])throw new Error(`Can't use built in variable name "`+e+'", please change another one.');return Object(a.set)(this.options,e,r),this},i.prototype.theme=function(e){return this.themeObject=Object(a.isObject)(e)?Object(a.deepMix)({},this.themeObject,Hi(e)):Cu(e),this},i.prototype.interaction=function(e,r){var g=this.interactions[e];g&&g.destroy();var N=Zo(e,this,r);return N&&(N.init(),this.interactions[e]=N),this},i.prototype.removeInteraction=function(e){var r=this.interactions[e];r&&(r.destroy(),this.interactions[e]=void 0)},i.prototype.changeData=function(e){this.isDataChanged=!0,this.emit(S.BEFORE_CHANGE_DATA),this.data(e),this.paint(!0);for(var r=this.views,g=0,N=r.length;g<N;g++){var at=r[g];at.changeData(e)}this.emit(S.AFTER_CHANGE_DATA)},i.prototype.createView=function(e){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var r={data:this.options.data,scales:Object(a.clone)(this.options.scales),axes:Object(a.clone)(this.options.axes),coordinate:Object(a.clone)(this.coordinateController.getOption()),tooltip:Object(a.clone)(this.options.tooltip),legends:Object(a.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},g=new i(Object(lt.a)(Object(lt.a)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:d.BG}),middleGroup:this.middleGroup.addGroup({zIndex:d.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:d.FORE}),theme:this.themeObject,padding:this.padding},e),{options:Object(lt.a)(Object(lt.a)({},r),Object(a.get)(e,"options",{}))}));return this.views.push(g),g},i.prototype.view=function(e){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(e)},i.prototype.removeView=function(e){var r=Object(a.remove)(this.views,function(g){return g===e})[0];return r&&r.destroy(),r},i.prototype.getCoordinate=function(){return this.coordinateInstance},i.prototype.getTheme=function(){return this.themeObject},i.prototype.getXScale=function(){var e=this.geometries[0];return e?e.getXScale():null},i.prototype.getYScales=function(){var e={};return this.geometries.map(function(r){var g=r.getYScale(),N=g.field;if(!e[N])return e[N]=!0,g})},i.prototype.getScalesByDim=function(e){for(var r=this.geometries,g={},N=0,at=r.length;N<at;N++){var Tt=r[N],zt=e==="x"?Tt.getXScale():Tt.getYScale();zt&&!g[zt.field]&&(g[zt.field]=zt)}return g},i.prototype.getScaleByField=function(e,r){var g=r||this.getScaleKey(e);return this.getRootView().scalePool.getScale(g)},i.prototype.getOptions=function(){return this.options},i.prototype.getData=function(){return this.filteredData},i.prototype.getLayer=function(e){return e===M.BG?this.backgroundGroup:e===M.MID?this.middleGroup:e===M.FORE?this.foregroundGroup:this.foregroundGroup},i.prototype.isPointInPlot=function(e){return xn(this.getCoordinate(),e)},i.prototype.getLegendAttributes=function(){return Object(a.flatten)(this.geometries.map(function(e){return e.getGroupAttributes()}))},i.prototype.getGroupScales=function(){var e=this.geometries.map(function(r){return r.getGroupScales()});return Ce(Object(a.flatten)(e))},i.prototype.getCanvas=function(){return this.getRootView().canvas},i.prototype.getRootView=function(){for(var e=this;;){if(e.parent){e=e.parent;continue}break}return e},i.prototype.getXY=function(e){var r=this.getCoordinate(),g=this.getScalesByDim("x"),N=this.getScalesByDim("y"),at,Tt;if(Object(a.each)(e,function(zt,ae){g[ae]&&(at=g[ae].scale(zt)),N[ae]&&(Tt=N[ae].scale(zt))}),!Object(a.isNil)(at)&&!Object(a.isNil)(Tt))return r.convert({x:at,y:Tt})},i.prototype.getController=function(e){return Object(a.find)(this.controllers,function(r){return r.name===e})},i.prototype.showTooltip=function(e){var r=this.getController("tooltip");return r&&r.showTooltip(e),this},i.prototype.hideTooltip=function(){var e=this.getController("tooltip");return e&&e.hideTooltip(),this},i.prototype.lockTooltip=function(){var e=this.getController("tooltip");return e&&e.lockTooltip(),this},i.prototype.unlockTooltip=function(){var e=this.getController("tooltip");return e&&e.unlockTooltip(),this},i.prototype.isTooltipLocked=function(){var e=this.getController("tooltip");return e&&e.isTooltipLocked()},i.prototype.getTooltipItems=function(e){var r=this.getController("tooltip");return r?r.getTooltipItems(e):[]},i.prototype.getSnapRecords=function(e){for(var r=this.geometries,g=[],N=0,at=r.length;N<at;N++){var Tt=r[N],zt=Tt.dataArray;Tt.sort(zt);for(var ae=void 0,Oe=0,ye=zt.length;Oe<ye;Oe++){var Ne=zt[Oe];ae=co(e,Ne,Tt),ae&&g.push(ae)}}for(var Qe=this.views,N=0,at=Qe.length;N<at;N++){var gn=Qe[N],Tn=gn.getSnapRecords(e);g=g.concat(Tn)}return g},i.prototype.getComponents=function(){for(var e=[],r=this.controllers,g=0,N=r.length;g<N;g++){var at=r[g];e=e.concat(at.getComponents())}return e},i.prototype.filterData=function(e){var r=this.options.filters;return Object(a.size)(r)===0?e:Object(a.filter)(e,function(g,N){var at=Object.keys(r);return at.every(function(Tt){var zt=r[Tt];return zt(g[Tt],g,N)})})},i.prototype.filterFieldData=function(e,r){var g=this.options.filters,N=Object(a.get)(g,e);return Object(a.isUndefined)(N)?r:r.filter(function(at,Tt){return N(at[e],at,Tt)})},i.prototype.adjustCoordinate=function(){var e=this.getCoordinate(),r=e.start,g=e.end,N=this.coordinateBBox.bl,at=this.coordinateBBox.tr;if(Object(a.isEqual)(r,N)&&Object(a.isEqual)(g,at)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(N,at)},i.prototype.paint=function(e){this.renderDataRecursive(e),this.syncScale(),this.emit(S.BEFORE_PAINT),this.renderPaddingRecursive(e),this.renderLayoutRecursive(e),this.renderBackgroundStyleShape(),this.renderPaintRecursive(e),this.emit(S.AFTER_PAINT),this.isDataChanged=!1},i.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var e=Object(a.get)(this.themeObject,"background");if(e){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var r=this.viewBBox,g=r.x,N=r.y,at=r.width,Tt=r.height;this.backgroundStyleRectShape.attr({fill:e,x:g,y:N,width:at,height:Tt})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},i.prototype.renderPaddingRecursive=function(e){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(e),this.autoPadding=gs(this).shrink(ui(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();for(var r=this.views,g=0,N=r.length;g<N;g++){var at=r[g];at.renderPaddingRecursive(e)}},i.prototype.renderLayoutRecursive=function(e){var r=this.syncViewPadding===!0?ks:Object(a.isFunction)(this.syncViewPadding)?this.syncViewPadding:void 0;r&&(r(this,this.views,nu),this.views.forEach(function(zt){zt.coordinateBBox=zt.viewBBox.shrink(zt.autoPadding.getPadding()),zt.adjustCoordinate()})),this.doLayout();for(var g=this.views,N=0,at=g.length;N<at;N++){var Tt=g[N];Tt.renderLayoutRecursive(e)}},i.prototype.renderPaintRecursive=function(e){var r=this.middleGroup;if(this.limitInPlot){var g=Br(this.coordinateInstance),N=g.type,at=g.attrs;r.setClip({type:N,attrs:at})}else r.setClip(void 0);this.paintGeometries(e),this.renderComponents(e);for(var Tt=this.views,zt=0,ae=Tt.length;zt<ae;zt++){var Oe=Tt[zt];Oe.renderPaintRecursive(e)}},i.prototype.createScale=function(e,r,g,N){var at=Object(a.get)(this.options.scales,[e]),Tt=Object(lt.a)(Object(lt.a)({},at),g);return this.parent?this.parent.createScale(e,r,Tt,N):this.scalePool.createScale(e,r,Tt,N)},i.prototype.renderDataRecursive=function(e){this.doFilterData(),this.createCoordinate(),this.initGeometries(e),this.renderFacet(e);for(var r=this.views,g=0,N=r.length;g<N;g++){var at=r[g];at.renderDataRecursive(e)}},i.prototype.calculateViewBBox=function(){var e,r,g,N;if(this.parent){var at=this.parent.coordinateBBox;e=at.x,r=at.y,g=at.width,N=at.height}else e=0,r=0,g=this.canvas.get("width"),N=this.canvas.get("height");var Tt=this.region,zt=Tt.start,ae=Tt.end,Oe=new en(e+g*zt.x,r+N*zt.y,g*(ae.x-zt.x),N*(ae.y-zt.y));(!this.viewBBox||!this.viewBBox.isEqual(Oe))&&(this.viewBBox=new en(e+g*zt.x,r+N*zt.y,g*(ae.x-zt.x),N*(ae.y-zt.y))),this.coordinateBBox=this.viewBBox},i.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},i.prototype.initComponentController=function(){for(var e=this.usedControllers,r=0,g=e.length;r<g;r++){var N=e[r],at=eu(N);at&&this.controllers.push(new at(this))}},i.prototype.createViewEvent=function(e){var r=e.shape,g=e.name,N=r?r.get("origin"):null,at=new Us(this,e,N);return at.type=g,at},i.prototype.doPlotEvent=function(e){var r=e.type,g=e.x,N=e.y,at={x:g,y:N},Tt=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(Tt.includes(r)){var zt=this.isPointInPlot(at),ae=e.clone();if(zt){var Oe="plot:"+r;ae.type=Oe,this.emit(Oe,ae),(r==="mouseleave"||r==="touchend")&&(this.isPreMouseInPlot=!1)}r==="mousemove"||r==="touchmove"?(this.isPreMouseInPlot&&!zt?(r==="mousemove"&&(ae.type=h.MOUSE_LEAVE,this.emit(h.MOUSE_LEAVE,ae)),ae.type=h.LEAVE,this.emit(h.LEAVE,ae)):!this.isPreMouseInPlot&&zt&&(r==="mousemove"&&(ae.type=h.MOUSE_ENTER,this.emit(h.MOUSE_ENTER,ae)),ae.type=h.ENTER,this.emit(h.ENTER,ae)),this.isPreMouseInPlot=zt):(r==="mouseleave"||r==="touchend")&&this.isPreMouseInPlot&&(r==="mouseleave"&&(ae.type=h.MOUSE_LEAVE,this.emit(h.MOUSE_LEAVE,ae)),ae.type=h.LEAVE,this.emit(h.LEAVE,ae),this.isPreMouseInPlot=!1)}},i.prototype.doFilterData=function(){var e=this.options.data;this.filteredData=this.filterData(e)},i.prototype.initGeometries=function(e){this.createOrUpdateScales();for(var r=this.getCoordinate(),g=Object(a.get)(this.options,"scales",{}),N=this.geometries,at=0,Tt=N.length;at<Tt;at++){var zt=N[at];zt.scales=this.getGeometryScales();var ae={coordinate:r,scaleDefs:g,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};e?zt.update(ae):zt.init(ae)}this.adjustScales()},i.prototype.createOrUpdateScales=function(){for(var e=this.getScaleFields(),r=this.getGroupedFields(),g=this.getOptions(),N=g.data,at=g.scales,Tt=at===void 0?{}:at,zt=this.filteredData,ae=0,Oe=e.length;ae<Oe;ae++){var ye=e[ae],Ne=Tt[ye],Qe=this.getScaleKey(ye);this.createScale(ye,r.includes(ye)?N:zt,Ne,Qe),this.createdScaleKeys.set(Qe,!0)}},i.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},i.prototype.getGeometryScales=function(){for(var e=this.getScaleFields(),r={},g=0;g<e.length;g++){var N=e[g];r[N]=this.getScaleByField(N)}return r},i.prototype.getScaleFields=function(){for(var e=[],r={},g=this.geometries,N=0;N<g.length;N++){var at=g[N],Tt=at.getScaleFields();Ce(Tt,e,r)}return e},i.prototype.getGroupedFields=function(){for(var e=[],r={},g=this.geometries,N=0;N<g.length;N++){var at=g[N],Tt=at.getGroupFields();Ce(Tt,e,r)}return e},i.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},i.prototype.adjustCategoryScaleRange=function(){var e=this,r=Object(lt.d)([this.getXScale()],this.getYScales()).filter(function(at){return!!at}),g=this.getCoordinate(),N=this.options.scales;Object(a.each)(r,function(at){var Tt=at.field,zt=at.values,ae=at.isCategory,Oe=at.isIdentity;(ae||Oe)&&zt&&!Object(a.get)(N,[Tt,"range"])&&(at.range=Hr(at,g,e.theme))})},i.prototype.initComponents=function(e){for(var r=this.controllers,g=0;g<r.length;g++){var N=r[g];e?N.update():(N.clear(),N.render())}},i.prototype.doLayout=function(){this.layoutFunc(this)},i.prototype.createCoordinate=function(){var e=this.coordinateBBox.bl,r=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(e,r)},i.prototype.paintGeometries=function(e){for(var r=this.options.animate,g=this.getCoordinate(),N={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},at=this.geometries,Tt=0;Tt<at.length;Tt++){var zt=at[Tt];zt.coordinate=g,zt.canvasRegion=N,r||zt.animate(!1),zt.paint(e)}},i.prototype.renderComponents=function(e){for(var r=0;r<this.getComponents().length;r++){var g=this.getComponents()[r];g.component.render()}},i.prototype.renderFacet=function(e){this.facetInstance&&(e?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},i.prototype.initOptions=function(){var e=this,r=this.options,g=r.geometries,N=g===void 0?[]:g,at=r.interactions,Tt=at===void 0?[]:at,zt=r.views,ae=zt===void 0?[]:zt,Oe=r.annotations,ye=Oe===void 0?[]:Oe,Ne=r.coordinate,Qe=r.events,gn=r.facets;this.coordinateController?Ne&&this.coordinateController.update(Ne):this.coordinateController=new tc(Ne);for(var Tn=0;Tn<N.length;Tn++){var cr=N[Tn];this.createGeometry(cr)}for(var br=0;br<Tt.length;br++){var Lr=Tt[br],Fr=Lr.type,li=Lr.cfg;this.interaction(Fr,li)}for(var Ai=0;Ai<ae.length;Ai++){var gi=ae[Ai];this.createView(gi)}for(var Ra=this.getController("annotation"),ra=0;ra<ye.length;ra++){var ca=ye[ra];Ra.annotation(ca)}Qe&&Object(a.each)(Qe,function(_a,ka){e.on(ka,_a)}),gn&&Object(a.each)(gn,function(_a){var ka=_a.type,K=Object(lt.c)(_a,["type"]);e.facet(ka,K)})},i.prototype.createGeometry=function(e){var r=e.type,g=e.cfg,N=g===void 0?{}:g;if(this[r]){var at=this[r](N);Object(a.each)(e,function(Tt,zt){Object(a.isFunction)(at[zt])&&at[zt](Tt)})}},i.prototype.getScaleKey=function(e){return this.id+"-"+e},i}(ft);function xe(l,i){ru.prototype[l.toLowerCase()]=function(e){e===void 0&&(e={});var r=Object(lt.a)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},e),g=new i(r);return this.geometries.push(g),g}}var rn=ru,bn=function(l){Object(lt.b)(i,l);function i(e){var r=this,g=e.container,N=e.width,at=e.height,Tt=e.autoFit,zt=Tt===void 0?!1:Tt,ae=e.padding,Oe=e.appendPadding,ye=e.renderer,Ne=ye===void 0?"canvas":ye,Qe=e.pixelRatio,gn=e.localRefresh,Tn=gn===void 0?!0:gn,cr=e.visible,br=cr===void 0?!0:cr,Lr=e.supportCSSTransform,Fr=Lr===void 0?!1:Lr,li=e.defaultInteractions,Ai=li===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:li,gi=e.options,Ra=e.limitInPlot,ra=e.theme,ca=e.syncViewPadding,_a=Object(a.isString)(g)?document.getElementById(g):g,ka=Object(p.b)('<div style="position:relative;"></div>');_a.appendChild(ka);var K=k(_a,zt,N,at),G=O(Ne),w=new G.Canvas(Object(lt.a)({container:ka,pixelRatio:Qe,localRefresh:Tn,supportCSSTransform:Fr},K));return r=l.call(this,{parent:null,canvas:w,backgroundGroup:w.addGroup({zIndex:d.BG}),middleGroup:w.addGroup({zIndex:d.MID}),foregroundGroup:w.addGroup({zIndex:d.FORE}),padding:ae,appendPadding:Oe,visible:br,options:gi,limitInPlot:Ra,theme:ra,syncViewPadding:ca})||this,r.onResize=Object(a.debounce)(function(){r.forceFit()},300),r.ele=_a,r.canvas=w,r.width=K.width,r.height=K.height,r.autoFit=zt,r.localRefresh=Tn,r.renderer=Ne,r.wrapperElement=ka,r.updateCanvasStyle(),r.bindAutoFit(),r.initDefaultInteractions(Ai),r}return i.prototype.initDefaultInteractions=function(e){var r=this;Object(a.each)(e,function(g){r.interaction(g)})},i.prototype.changeSize=function(e,r){return this.width===e&&this.height===r?this:(this.emit(S.BEFORE_CHANGE_SIZE),this.width=e,this.height=r,this.canvas.changeSize(e,r),this.render(!0),this.emit(S.AFTER_CHANGE_SIZE),this)},i.prototype.destroy=function(){l.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),X(this.wrapperElement),this.wrapperElement=null},i.prototype.changeVisible=function(e){return l.prototype.changeVisible.call(this,e),this.wrapperElement.style.display=e?"":"none",this},i.prototype.forceFit=function(){if(!this.destroyed){var e=k(this.ele,!0,this.width,this.height),r=e.width,g=e.height;this.changeSize(r,g)}},i.prototype.updateCanvasStyle=function(){Object(p.e)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},i.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},i.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},i}(rn),Ge=bn,Fe=function(){function l(i){this.visible=!0,this.components=[],this.view=i}return l.prototype.clear=function(i){Object(a.each)(this.components,function(e){e.component.destroy()}),this.components=[]},l.prototype.destroy=function(){this.clear()},l.prototype.getComponents=function(){return this.components},l.prototype.changeVisible=function(i){this.visible!==i&&(this.components.forEach(function(e){i?e.component.show():e.component.hide()}),this.visible=i)},l}();function wn(l){for(var i=[],e=function(N){var at=l[N],Tt=Object(a.find)(i,function(zt){return zt.color===at.color&&zt.name===at.name&&zt.value===at.value&&zt.title===at.title});Tt||i.push(at)},r=0;r<l.length;r++)e(r);return i}var Ln=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.isLocked=!1,e}return Object.defineProperty(i.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),i.prototype.init=function(){},i.prototype.isVisible=function(){var e=this.view.getOptions().tooltip;return e!==!1},i.prototype.render=function(){},i.prototype.showTooltip=function(e){if(this.point=e,!!this.isVisible()){var r=this.view,g=this.getTooltipItems(e);if(!g.length){this.hideTooltip();return}var N=this.getTitle(g),at={x:g[0].x,y:g[0].y};r.emit("tooltip:show",Us.fromData(r,"tooltip:show",Object(lt.a)({items:g,title:N},e)));var Tt=this.getTooltipCfg(),zt=Tt.follow,ae=Tt.showMarkers,Oe=Tt.showCrosshairs,ye=Tt.showContent,Ne=Tt.marker,Qe=this.items,gn=this.title;if(!Object(a.isEqual)(gn,N)||!Object(a.isEqual)(Qe,g)?(r.emit("tooltip:change",Us.fromData(r,"tooltip:change",Object(lt.a)({items:g,title:N},e))),(Object(a.isFunction)(ye)?ye(g):ye)&&(this.tooltip||this.renderTooltip(),this.tooltip.update(Object(a.mix)({},Tt,{items:this.getItemsAfterProcess(g),title:N},zt?e:{})),this.tooltip.show()),ae&&this.renderTooltipMarkers(g,Ne)):(this.tooltip&&zt&&(this.tooltip.update(e),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=g,this.title=N,Oe){var Tn=Object(a.get)(Tt,["crosshairs","follow"],!1);this.renderCrosshairs(Tn?e:at,Tt)}}},i.prototype.hideTooltip=function(){var e=this.getTooltipCfg().follow;if(!e){this.point=null;return}var r=this.tooltipMarkersGroup;r&&r.hide();var g=this.xCrosshair,N=this.yCrosshair;g&&g.hide(),N&&N.hide();var at=this.tooltip;at&&at.hide(),this.view.emit("tooltip:hide",Us.fromData(this.view,"tooltip:hide",{})),this.point=null},i.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},i.prototype.unlockTooltip=function(){this.isLocked=!1;var e=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(e.capture)},i.prototype.isTooltipLocked=function(){return this.isLocked},i.prototype.clear=function(){var e=this,r=e.tooltip,g=e.xCrosshair,N=e.yCrosshair,at=e.tooltipMarkersGroup;r&&(r.hide(),r.clear()),g&&g.clear(),N&&N.clear(),at&&at.clear(),this.reset()},i.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},i.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},i.prototype.changeVisible=function(e){if(this.visible!==e){var r=this,g=r.tooltip,N=r.tooltipMarkersGroup,at=r.xCrosshair,Tt=r.yCrosshair;e?(g&&g.show(),N&&N.show(),at&&at.show(),Tt&&Tt.show()):(g&&g.hide(),N&&N.hide(),at&&at.hide(),Tt&&Tt.hide()),this.visible=e}},i.prototype.getTooltipItems=function(e){var r=this.findItemsFromView(this.view,e);if(r.length){r=Object(a.flatten)(r);for(var g=0,N=r;g<N.length;g++)for(var at=N[g],Tt=0,zt=at;Tt<zt.length;Tt++){var ae=zt[Tt],Oe=ae.mappingData,ye=Oe.x,Ne=Oe.y;ae.x=Object(a.isArray)(ye)?ye[ye.length-1]:ye,ae.y=Object(a.isArray)(Ne)?Ne[Ne.length-1]:Ne}var Qe=this.getTooltipCfg().shared;if(Qe===!1&&r.length>1){for(var gn=r[0],Tn=Math.abs(e.y-gn[0].y),cr=0,br=r;cr<br.length;cr++){var Lr=br[cr],Fr=Math.abs(e.y-Lr[0].y);Fr<=Tn&&(gn=Lr,Tn=Fr)}r=[gn]}return wn(Object(a.flatten)(r))}return[]},i.prototype.layout=function(){},i.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var e=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:e.get("width"),y:e.get("height")}})}},i.prototype.isCursorEntered=function(e){if(this.tooltip){var r=this.tooltip.getContainer(),g=this.tooltip.get("capture");if(r&&g){var N=r.getBoundingClientRect(),at=N.x,Tt=N.y,zt=N.width,ae=N.height;return new en(at,Tt,zt,ae).isPointIn(e)}}return!1},i.prototype.getTooltipCfg=function(){var e=this.view,r=e.getOptions().tooltip,g=this.processCustomContent(r),N=e.getTheme(),at=Object(a.get)(N,["components","tooltip"],{}),Tt=Object(a.get)(g,"enterable",at.enterable);return Object(a.deepMix)({},at,g,{capture:!!(Tt||this.isLocked)})},i.prototype.processCustomContent=function(e){if(Object(a.isBoolean)(e)||!Object(a.get)(e,"customContent"))return e;var r=e.customContent,g=function(at,Tt){var zt=r(at,Tt)||"";return Object(a.isString)(zt)?'<div class="g2-tooltip">'+zt+"</div>":zt};return Object(lt.a)(Object(lt.a)({},e),{customContent:g})},i.prototype.getTitle=function(e){var r=e[0].title||e[0].name;return this.title=r,r},i.prototype.renderTooltip=function(){var e=this.view.getCanvas(),r={start:{x:0,y:0},end:{x:e.get("width"),y:e.get("height")}},g=this.getTooltipCfg(),N=new Oa(Object(lt.a)(Object(lt.a)({parent:e.get("el").parentNode,region:r},g),{visible:!1,crosshairs:null}));N.init(),this.tooltip=N},i.prototype.renderTooltipMarkers=function(e,r){for(var g=this.getTooltipMarkersGroup(),N=0,at=e;N<at.length;N++){var Tt=at[N],zt=Tt.x,ae=Tt.y,Oe=Object(lt.a)(Object(lt.a)({fill:Tt.color,symbol:"circle",shadowColor:Tt.color},r),{x:zt,y:ae});g.addShape("marker",{attrs:Oe})}},i.prototype.renderCrosshairs=function(e,r){var g=Object(a.get)(r,["crosshairs","type"],"x");g==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(e,r)):g==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(e,r)):g==="xy"&&(this.renderXCrosshairs(e,r),this.renderYCrosshairs(e,r))},i.prototype.renderXCrosshairs=function(e,r){var g=this.getViewWithGeometry(this.view).getCoordinate();if(!!xn(g,e)){var N,at;if(g.isRect)g.isTransposed?(N={x:g.start.x,y:e.y},at={x:g.end.x,y:e.y}):(N={x:e.x,y:g.end.y},at={x:e.x,y:g.start.y});else{var Tt=Or(g,e),zt=g.getCenter(),ae=g.getRadius();at=sa(zt.x,zt.y,ae,Tt),N=zt}var Oe=Object(a.deepMix)({start:N,end:at,container:this.getTooltipCrosshairsGroup()},Object(a.get)(r,"crosshairs",{}),this.getCrosshairsText("x",e,r));delete Oe.type;var ye=this.xCrosshair;ye?ye.update(Oe):(ye=new Ni.Crosshair.Line(Oe),ye.init()),ye.render(),ye.show(),this.xCrosshair=ye}},i.prototype.renderYCrosshairs=function(e,r){var g=this.getViewWithGeometry(this.view).getCoordinate();if(!!xn(g,e)){var N,at;if(g.isRect){var Tt=void 0,zt=void 0;g.isTransposed?(Tt={x:e.x,y:g.end.y},zt={x:e.x,y:g.start.y}):(Tt={x:g.start.x,y:e.y},zt={x:g.end.x,y:e.y}),N={start:Tt,end:zt},at="Line"}else N={center:g.getCenter(),radius:vn(g,e),startAngle:g.startAngle,endAngle:g.endAngle},at="Circle";N=Object(a.deepMix)({container:this.getTooltipCrosshairsGroup()},N,Object(a.get)(r,"crosshairs",{}),this.getCrosshairsText("y",e,r)),delete N.type;var ae=this.yCrosshair;ae?g.isRect&&ae.get("type")==="circle"||!g.isRect&&ae.get("type")==="line"?(ae=new Ni.Crosshair[at](N),ae.init()):ae.update(N):(ae=new Ni.Crosshair[at](N),ae.init()),ae.render(),ae.show(),this.yCrosshair=ae}},i.prototype.getCrosshairsText=function(e,r,g){var N=Object(a.get)(g,["crosshairs","text"]),at=Object(a.get)(g,["crosshairs","follow"]),Tt=this.items;if(N){var zt=this.getViewWithGeometry(this.view),ae=Tt[0],Oe=zt.getXScale(),ye=zt.getYScales()[0],Ne=void 0,Qe=void 0;if(at){var gn=this.view.getCoordinate().invert(r);Ne=Oe.invert(gn.x),Qe=ye.invert(gn.y)}else Ne=ae.data[Oe.field],Qe=ae.data[ye.field];var Tn=e==="x"?Ne:Qe;return Object(a.isFunction)(N)?N=N(e,Tn,Tt,r):N.content=Tn,{text:N}}},i.prototype.getGuideGroup=function(){if(!this.guideGroup){var e=this.view.foregroundGroup;this.guideGroup=e.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},i.prototype.getTooltipMarkersGroup=function(){var e=this.tooltipMarkersGroup;return e&&!e.destroyed?(e.clear(),e.show()):(e=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),e.toFront(),this.tooltipMarkersGroup=e),e},i.prototype.getTooltipCrosshairsGroup=function(){var e=this.tooltipCrosshairsGroup;return e||(e=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),e.toBack(),this.tooltipCrosshairsGroup=e),e},i.prototype.getTooltipItemsByHitShape=function(e,r,g){var N=this.getTooltipCfg().showNil,at=[],Tt=e.container,zt=Tt.getShape(r.x,r.y);if(zt&&zt.get("visible")&&zt.get("origin")){var ae=zt.get("origin").mappingData,Oe=hu(ae,e,g,N);Oe.length&&at.push(Oe)}return at},i.prototype.getTooltipItemsByFindData=function(e,r,g){var N=this.getTooltipCfg().showNil,at=[],Tt=e.dataArray;if(!Object(a.isEmpty)(Tt)){e.sort(Tt);for(var zt=0,ae=Tt;zt<ae.length;zt++){var Oe=ae[zt],ye=co(r,Oe,e);if(ye){var Ne=e.getElementId(ye),Qe=e.elementsMap[Ne];if(e.type==="heatmap"||Qe.visible){var gn=hu(ye,e,g,N);gn.length&&at.push(gn)}}}}return at},i.prototype.findItemsFromView=function(e,r){if(e.getOptions().tooltip===!1)return[];for(var g=[],N=e.geometries,at=this.getTooltipCfg(),Tt=at.shared,zt=at.title,ae=at.reversed,Oe=0,ye=N;Oe<ye.length;Oe++){var Ne=ye[Oe];if(Ne.visible&&Ne.tooltipOption!==!1){var Qe=Ne.type,gn=void 0;["point","edge","polygon"].includes(Qe)?gn=this.getTooltipItemsByHitShape(Ne,r,zt):["area","line","path","heatmap"].includes(Qe)?gn=this.getTooltipItemsByFindData(Ne,r,zt):Tt!==!1?gn=this.getTooltipItemsByFindData(Ne,r,zt):gn=this.getTooltipItemsByHitShape(Ne,r,zt),gn.length&&(ae&&gn.reverse(),g.push(gn))}}for(var Tn=0,cr=e.views;Tn<cr.length;Tn++){var br=cr[Tn];g=g.concat(this.findItemsFromView(br,r))}return g},i.prototype.getViewWithGeometry=function(e){var r=this;return e.geometries.length?e:Object(a.find)(e.views,function(g){return r.getViewWithGeometry(g)})},i.prototype.getItemsAfterProcess=function(e){var r=this.getTooltipCfg().customItems,g=r||function(N){return N};return g(e)},i}(Fe),Ze=Ln,Vn={};function Zn(l){return Vn[l.toLowerCase()]}function hr(l,i){Vn[l.toLowerCase()]=i}var rr={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},Ir={interval:function(i){return{enter:{animation:i.isRect?i.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:i.isPolar&&i.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},yn={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(i){var e;return i.isRect?e=i.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",i.isPolar&&i.isTransposed&&(e="wave-in")),{animation:e}},schema:function(i){var e;return i.isRect?e=i.isTransposed?"grow-in-x":"grow-in-y":e="grow-in-xy",{animation:e}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function oe(l,i){return{delay:Object(a.isFunction)(l.delay)?l.delay(i):l.delay,easing:Object(a.isFunction)(l.easing)?l.easing(i):l.easing,duration:Object(a.isFunction)(l.duration)?l.duration(i):l.duration,callback:l.callback}}function Oi(l,i,e){var r=Ir[l];return r&&(Object(a.isFunction)(r)&&(r=r(i)),r=Object(a.deepMix)({},rr,r),e)?r[e]:r}function ei(l,i,e){var r=Object(a.get)(l.get("origin"),"data",o),g=i.animation,N=oe(i,r);if(g){var at=Zn(g);at&&at(l,N,e)}else l.animate(e.toAttrs,N)}function Zr(l,i,e,r,g){if(yn[e]){var N=yn[e](r),at=Zn(Object(a.get)(N,"animation",""));if(at){var Tt=Object(lt.a)(Object(lt.a)(Object(lt.a)({},rr.appear),N),i);l.stopAnimate(),at(l,Tt,{coordinate:r,minYPoint:g,toAttrs:null})}}}var di="element-background",ri=function(l){Object(lt.b)(i,l);function i(e){var r=l.call(this,e)||this;r.states=[];var g=e.shapeFactory,N=e.container,at=e.offscreenGroup,Tt=e.visible,zt=Tt===void 0?!0:Tt;return r.shapeFactory=g,r.container=N,r.offscreenGroup=at,r.visible=zt,r}return i.prototype.draw=function(e,r){r===void 0&&(r=!1),this.model=e,this.data=e.data,this.shapeType=this.getShapeType(e),this.drawShape(e,r),this.visible===!1&&this.changeVisible(!1)},i.prototype.update=function(e){var r=this,g=r.shapeFactory,N=r.shape;if(!!N){this.model=e,this.data=e.data,this.shapeType=this.getShapeType(e),this.setShapeInfo(N,e);var at=this.getOffscreenGroup(),Tt=g.drawShape(this.shapeType,e,at);Tt.cfg.data=this.data,Tt.cfg.origin=e,Tt.cfg.element=this,this.syncShapeStyle(N,Tt,this.getStates(),this.getAnimateCfg("update"))}},i.prototype.destroy=function(){var e=this,r=e.shapeFactory,g=e.shape;if(g){var N=this.getAnimateCfg("leave");N?ei(g,N,{coordinate:r.coordinate,toAttrs:Object(lt.a)({},g.attr())}):g.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,l.prototype.destroy.call(this)},i.prototype.changeVisible=function(e){l.prototype.changeVisible.call(this,e),e?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(r){r.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(r){r.hide()}))},i.prototype.setState=function(e,r){var g=this,N=g.states,at=g.shapeFactory,Tt=g.model,zt=g.shape,ae=g.shapeType,Oe=N.indexOf(e);if(r){if(Oe>-1)return;N.push(e),(e==="active"||e==="selected")&&zt.toFront()}else{if(Oe===-1)return;N.splice(Oe,1),(e==="active"||e==="selected")&&zt.toBack()}var ye=at.drawShape(ae,Tt,this.getOffscreenGroup());N.length?this.syncShapeStyle(zt,ye,N,null):this.syncShapeStyle(zt,ye,["reset"],null),ye.remove(!0);var Ne={state:e,stateStatus:r,element:this,target:this.container};this.container.emit("statechange",Ne),Object(Ni.propagationDelegate)(this.shape,"statechange",Ne)},i.prototype.clearStates=function(){var e=this,r=this.states;Object(a.each)(r,function(g){e.setState(g,!1)}),this.states=[]},i.prototype.hasState=function(e){return this.states.includes(e)},i.prototype.getStates=function(){return this.states},i.prototype.getData=function(){return this.data},i.prototype.getModel=function(){return this.model},i.prototype.getBBox=function(){var e=this,r=e.shape,g=e.labelShape,N={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return r&&(N=r.getCanvasBBox()),g&&g.forEach(function(at){var Tt=at.getCanvasBBox();N.x=Math.min(Tt.x,N.x),N.y=Math.min(Tt.y,N.y),N.minX=Math.min(Tt.minX,N.minX),N.minY=Math.min(Tt.minY,N.minY),N.maxX=Math.max(Tt.maxX,N.maxX),N.maxY=Math.max(Tt.maxY,N.maxY)}),N.width=N.maxX-N.minX,N.height=N.maxY-N.minY,N},i.prototype.getStatesStyle=function(){if(!this.statesStyle){var e=this,r=e.shapeType,g=e.geometry,N=e.shapeFactory,at=g.stateOption,Tt=N.defaultShapeType,zt=N.theme[r]||N.theme[Tt];this.statesStyle=Object(a.deepMix)({},zt,at)}return this.statesStyle},i.prototype.getStateStyle=function(e,r){var g=this.getStatesStyle(),N=Object(a.get)(g,[e,"style"],{}),at=N[r]||N;return Object(a.isFunction)(at)?at(this):at},i.prototype.getAnimateCfg=function(e){var r=this,g=this.animate;if(g){var N=g[e];return N&&Object(lt.a)(Object(lt.a)({},N),{callback:function(){var Tt;Object(a.isFunction)(N.callback)&&N.callback(),(Tt=r.geometry)===null||Tt===void 0||Tt.emit(b.AFTER_DRAW_ANIMATE)}})}return null},i.prototype.drawShape=function(e,r){var g;r===void 0&&(r=!1);var N=this,at=N.shapeFactory,Tt=N.container,zt=N.shapeType;if(this.shape=at.drawShape(zt,e,Tt),this.shape){this.setShapeInfo(this.shape,e);var ae=this.shape.cfg.name;ae?Object(a.isString)(ae)&&(this.shape.cfg.name=["element",ae]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var Oe=r?"enter":"appear",ye=this.getAnimateCfg(Oe);ye&&((g=this.geometry)===null||g===void 0||g.emit(b.BEFORE_DRAW_ANIMATE),ei(this.shape,ye,{coordinate:at.coordinate,toAttrs:Object(lt.a)({},this.shape.attr())}))}},i.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var e=this.container.getGroupBase();this.offscreenGroup=new e({})}return this.offscreenGroup},i.prototype.setShapeInfo=function(e,r){var g=this;if(e.cfg.origin=r,e.cfg.element=this,e.isGroup()){var N=e.get("children");N.forEach(function(at){g.setShapeInfo(at,r)})}},i.prototype.syncShapeStyle=function(e,r,g,N,at){var Tt=this,zt;if(g===void 0&&(g=[]),at===void 0&&(at=0),!(!e||!r)){var ae=e.get("clipShape"),Oe=r.get("clipShape");if(this.syncShapeStyle(ae,Oe,g,N),e.isGroup())for(var ye=e.get("children"),Ne=r.get("children"),Qe=0;Qe<ye.length;Qe++)this.syncShapeStyle(ye[Qe],Ne[Qe],g,N,at+Qe);else{if(!Object(a.isEmpty)(g)&&!Object(a.isEqual)(g,["reset"])){var gn=e.get("name");Object(a.isArray)(gn)&&(gn=gn[1]),Object(a.each)(g,function(cr){if(r.get("name")!==di){var br=Tt.getStateStyle(cr,gn||at);r.attr(br)}})}var Tn=Po(e,r);this.animate?N?((zt=this.geometry)===null||zt===void 0||zt.emit(b.BEFORE_DRAW_ANIMATE),ei(e,N,{coordinate:this.shapeFactory.coordinate,toAttrs:Tn,shapeModel:this.model})):Object(a.isEmpty)(g)?(e.stopAnimate(),e.animate(Tn,{duration:300})):e.attr(Tn):e.attr(Tn)}}},i.prototype.getShapeType=function(e){var r=Object(a.get)(e,"shape");return Object(a.isArray)(r)?r[0]:r},i}(ft),_i=ri,na={},pa={};function Pn(l){return na[l.toLowerCase()]}function Ui(l,i){na[l.toLowerCase()]=i}function za(l){return pa[l.toLowerCase()]}function Ci(l,i){pa[l.toLowerCase()]=i}var Qi={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(i,e){var r=this.getShape(i);return r.getPoints?r.getPoints(e):this.getDefaultPoints(e)},getShape:function(i){var e=this[i]||this[this.defaultShapeType];return e.coordinate=this.coordinate,e},getDefaultPoints:function(){return[]},getDefaultStyle:function(i){return Object(a.get)(i,[this.defaultShapeType,"default","style"],{})},getMarker:function(i,e){var r=this.getShape(i);if(!r.getMarker){var g=this.defaultShapeType;r=this.getShape(g)}var N=this.theme,at=Object(a.get)(N,[i,"default"],{}),Tt=r.getMarker(e);return Object(a.deepMix)({},at,Tt)},drawShape:function(i,e,r){var g=this.getShape(i);return g.draw(e,r)}},Pa={coordinate:null,parsePath:function(i){var e=this.coordinate,r=Object(bt.c)(i);return e.isPolar?r=L(e,r):r=Re(e,r),r},parsePoint:function(i){var e=this.coordinate;return e.convert(i)},parsePoints:function(i){var e=this.coordinate;return i.map(function(r){return e.convert(r)})},draw:function(i,e){}},Ri={};function Vi(l,i){var e=Object(a.upperFirst)(l),r=Object(lt.a)(Object(lt.a)(Object(lt.a)({},Qi),i),{geometryType:l});return Ri[e]=r,r}function Zi(l,i,e){var r=Object(a.upperFirst)(l),g=Ri[r],N=Object(lt.a)(Object(lt.a)({},Pa),e);return g[i]=N,N}function eo(l){var i=Object(a.upperFirst)(l);return Ri[i]}function Nt(l,i,e){if(e===void 0&&(e={}),!i)return[l];var r=Object(a.groupToMap)(l,i),g=[];if(i.length===1&&e[i[0]])for(var N=e[i[0]],at=0,Tt=N;at<Tt.length;at++){var zt=Tt[at],ae=r["_"+zt];ae&&g.push(ae)}else for(var Oe in r)if(r.hasOwnProperty(Oe)){var ye=r[Oe];g.push(ye)}return g}function f(l,i){return Object(a.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(e){return!Object(a.isEqual)(l[e],i[e])})}function c(l){return Object(a.isArray)(l)?l:l.split("*")}function R(l,i){var e=[];return Object(a.each)(i,function(r,g){var N=g.split(" ")[0];N===l&&e.push(r)}),e}var Y=function(l){Object(lt.b)(i,l);function i(e){var r=l.call(this,e)||this;r.type="base",r.attributes={},r.elements=[],r.elementsMap={},r.animateOption=!0,r.attributeOption={},r.lastElementsMap={},r.generatePoints=!1,r.beforeMappingData=null,r.adjusts={},r.idFields=[],r.hasSorted=!1,r.isCoordinateChanged=!1;var g=e.container,N=e.labelsContainer,at=e.coordinate,Tt=e.data,zt=e.sortable,ae=zt===void 0?!1:zt,Oe=e.visible,ye=Oe===void 0?!0:Oe,Ne=e.theme,Qe=e.scales,gn=Qe===void 0?{}:Qe,Tn=e.scaleDefs,cr=Tn===void 0?{}:Tn,br=e.intervalPadding,Lr=e.dodgePadding,Fr=e.maxColumnWidth,li=e.minColumnWidth,Ai=e.columnWidthRatio,gi=e.roseWidthRatio,Ra=e.multiplePieWidthRatio,ra=e.zIndexReversed;return r.container=g,r.labelsContainer=N,r.coordinate=at,r.data=Tt,r.sortable=ae,r.visible=ye,r.userTheme=Ne,r.scales=gn,r.scaleDefs=cr,r.intervalPadding=br,r.dodgePadding=Lr,r.maxColumnWidth=Fr,r.minColumnWidth=li,r.columnWidthRatio=Ai,r.roseWidthRatio=gi,r.multiplePieWidthRatio=Ra,r.zIndexReversed=ra,r}return i.prototype.position=function(e){var r=e;Object(a.isPlainObject)(e)||(r={fields:c(e)});var g=Object(a.get)(r,"fields");return g.length===1&&(g.unshift("1"),Object(a.set)(r,"fields",g)),Object(a.set)(this.attributeOption,"position",r),this},i.prototype.color=function(e,r){return this.createAttrOption("color",e,r),this},i.prototype.shape=function(e,r){return this.createAttrOption("shape",e,r),this},i.prototype.size=function(e,r){return this.createAttrOption("size",e,r),this},i.prototype.adjust=function(e){var r=e;return(Object(a.isString)(e)||Object(a.isPlainObject)(e))&&(r=[e]),Object(a.each)(r,function(g,N){Object(a.isObject)(g)||(r[N]={type:g})}),this.adjustOption=r,this},i.prototype.style=function(e,r){if(Object(a.isString)(e)){var g=c(e);this.styleOption={fields:g,callback:r}}else{var N=e,g=N.fields,at=N.callback,Tt=N.cfg;g||at||Tt?this.styleOption=e:this.styleOption={cfg:e}}return this},i.prototype.tooltip=function(e,r){if(Object(a.isString)(e)){var g=c(e);this.tooltipOption={fields:g,callback:r}}else this.tooltipOption=e;return this},i.prototype.animate=function(e){return this.animateOption=e,this},i.prototype.label=function(e,r,g){if(Object(a.isString)(e)){var N={},at=c(e);N.fields=at,Object(a.isFunction)(r)?N.callback=r:Object(a.isPlainObject)(r)&&(N.cfg=r),g&&(N.cfg=g),this.labelOption=N}else this.labelOption=e;return this},i.prototype.state=function(e){return this.stateOption=e,this},i.prototype.customInfo=function(e){return this.customOption=e,this},i.prototype.init=function(e){e===void 0&&(e={}),this.setCfg(e),this.initAttributes(),this.processData(this.data),this.adjustScale()},i.prototype.update=function(e){e===void 0&&(e={});var r=e.data,g=e.isDataChanged,N=e.isCoordinateChanged,at=this,Tt=at.attributeOption,zt=at.lastAttributeOption;Object(a.isEqual)(Tt,zt)?r&&(g||!Object(a.isEqual)(r,this.data))?(this.setCfg(e),this.initAttributes(),this.processData(r)):this.setCfg(e):this.init(e),this.adjustScale(),this.isCoordinateChanged=N},i.prototype.paint=function(e){var r=this;e===void 0&&(e=!1),this.animateOption&&(this.animateOption=Object(a.deepMix)({},Oi(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={};var g=this.getOffscreenGroup();g.clear();for(var N=this.beforeMappingData,at=this.beforeMapping(N),Tt=[],zt=0,ae=at.length;zt<ae;zt++){var Oe=at[zt],ye=this.mapping(Oe);Tt.push(ye),this.createElements(ye,zt,e)}if(this.canDoGroupAnimation(e)){var Ne=this.container,Qe=this.type,gn=this.coordinate,Tn=Object(a.get)(this.animateOption,"appear"),cr=this.getYScale(),br=gn.convert({x:0,y:cr.scale(this.getYMinValue())});Zr(Ne,Tn,Qe,gn,br)}this.labelOption&&this.renderLabels(Object(a.flatten)(Tt),e),this.dataArray=Tt,Object(a.each)(this.lastElementsMap,function(Lr){Lr.animate=r.animateOption,Lr.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=Object(lt.a)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},i.prototype.clear=function(){var e=this,r=e.container,g=e.geometryLabel,N=e.offscreenGroup;r&&r.clear(),g&&g.clear(),N&&N.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},i.prototype.destroy=function(){this.clear();var e=this.container;e.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,l.prototype.destroy.call(this)},i.prototype.getGroupScales=function(){return this.groupScales},i.prototype.getAttribute=function(e){return this.attributes[e]},i.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},i.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},i.prototype.getGroupAttributes=function(){var e=[];return Object(a.each)(this.attributes,function(r){T.includes(r.type)&&e.push(r)}),e},i.prototype.getDefaultValue=function(e){var r,g=this.getAttribute(e);return g&&Object(a.isEmpty)(g.scales)&&(r=g.values[0]),r},i.prototype.getAttributeValues=function(e,r){for(var g=[],N=e.scales,at=0,Tt=N.length;at<Tt;at++){var zt=N[at],ae=zt.field;zt.isIdentity?g.push(zt.values):g.push(r[ae])}return e.mapping.apply(e,g)},i.prototype.getAdjust=function(e){return this.adjusts[e]},i.prototype.getShapeMarker=function(e,r){var g=this.getShapeFactory();return g.getMarker(e,r)},i.prototype.getElementsBy=function(e){return this.elements.filter(function(r){return e(r)})},i.prototype.getElementId=function(e){e=Object(a.isArray)(e)?e[0]:e;var r=e[o];if(this.idFields.length){for(var g=r[this.idFields[0]],N=1;N<this.idFields.length;N++)g+="-"+r[this.idFields[N]];return g}var at=this.type,Tt=this.getXScale(),zt=this.getYScale(),ae=Tt.field||"x",Oe=zt.field||"y",ye=r[Oe],Ne;Tt.type==="identity"?Ne=Tt.values[0]:Ne=r[ae];var Qe;at==="interval"||at==="schema"?Qe=""+Ne:at==="line"||at==="area"||at==="path"?Qe=at:Qe=Ne+"-"+ye;for(var gn=this.groupScales,N=0,Tn=gn.length;N<Tn;N++){var cr=gn[N],br=cr.field;Qe=Qe+"-"+r[br]}var Lr=this.getAdjust("dodge");if(Lr){var Fr=Lr.dodgeBy;Fr&&(Qe=Qe+"-"+r[Fr])}return this.getAdjust("jitter")&&(Qe=Qe+"-"+e.x+"-"+e.y),Qe},i.prototype.getScaleFields=function(){var e=[],r={},g=this,N=g.attributeOption,at=g.labelOption,Tt=g.tooltipOption;for(var zt in N)if(N.hasOwnProperty(zt)){var ae=N[zt];ae.fields?Ce(ae.fields,e,r):ae.values&&Ce(ae.values,e,r)}return at&&at.fields&&Ce(at.fields,e,r),Object(a.isObject)(Tt)&&Tt.fields&&Ce(Tt.fields,e,r),e},i.prototype.changeVisible=function(e){l.prototype.changeVisible.call(this,e);for(var r=this.elements,g=0,N=r.length;g<N;g++){var at=r[g];at.changeVisible(e)}e?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},i.prototype.getGroupFields=function(){for(var e=[],r={},g=0,N=T.length;g<N;g++){var at=T[g],Tt=this.attributeOption[at];Tt&&Tt.fields&&Ce(Tt.fields,e,r)}return e},i.prototype.getXYFields=function(){var e=this.attributeOption.position.fields,r=e[0],g=e[1];return[r,g]},i.prototype.getShapes=function(){return this.elements.map(function(e){return e.shape})},i.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var e=this.container.getGroupBase();this.offscreenGroup=new e({})}return this.offscreenGroup},i.prototype.sort=function(e){if(!this.hasSorted)for(var r=this.getXScale(),g=r.field,N=0;N<e.length;N++){var at=e[N];at.sort(function(Tt,zt){return r.translate(Tt[o][g])-r.translate(zt[o][g])})}this.hasSorted=!0},i.prototype.adjustScale=function(){var e=this.getYScale();e&&this.getAdjust("stack")&&this.updateStackRange(e,this.beforeMappingData)},i.prototype.getShapeFactory=function(){var e=this.shapeType;if(!!eo(e))return this.shapeFactory||(this.shapeFactory=Object(a.clone)(eo(e))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[e]||{},this.shapeFactory},i.prototype.createShapePointsCfg=function(e){var r=this.getXScale(),g=this.getYScale(),N=this.normalizeValues(e[r.field],r),at;return g?at=this.normalizeValues(e[g.field],g):at=e.y?e.y:.1,{x:N,y:at,y0:g?g.scale(this.getYMinValue()):void 0}},i.prototype.createElement=function(e,r){r===void 0&&(r=!1);var g=this.container,N=this.getDrawCfg(e),at=this.getShapeFactory(),Tt=new _i({shapeFactory:at,container:g,offscreenGroup:this.getOffscreenGroup()});return Tt.animate=this.animateOption,Tt.geometry=this,Tt.draw(N,r),Tt},i.prototype.getDrawCfg=function(e){var r=e[o],g={mappingData:e,data:r,x:e.x,y:e.y,color:e.color,size:e.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},N=e.shape;!N&&this.getShapeFactory()&&(N=this.getShapeFactory().defaultShapeType),g.shape=N;var at=this.theme.geometries[this.shapeType];g.defaultStyle=Object(a.get)(at,[N,"default"],{}).style,!g.defaultStyle&&this.getShapeFactory()&&(g.defaultStyle=this.getShapeFactory().getDefaultStyle(at));var Tt=this.styleOption;return Tt&&(g.style=this.getStyleCfg(Tt,r)),this.generatePoints&&(g.points=e.points,g.nextPoints=e.nextPoints),g},i.prototype.createElements=function(e,r,g){g===void 0&&(g=!1);for(var N=this,at=N.lastElementsMap,Tt=N.elementsMap,zt=N.elements,ae=0,Oe=e.length;ae<Oe;ae++){var ye=e[ae],Ne=this.getElementId(ye);Tt[Ne]&&(Ne=Ne+"-"+r+"-"+ae);var Qe=at[Ne];if(!Qe)Qe=this.createElement(ye,g);else{var gn=this.getDrawCfg(ye),Tn=Qe.getModel();(this.isCoordinateChanged||f(gn,Tn))&&(Qe.animate=this.animateOption,Qe.update(gn)),delete at[Ne]}zt.push(Qe),Tt[Ne]=Qe}if(this.zIndexReversed){var cr=zt.length;zt.forEach(function(br,Lr){br.shape.setZIndex(cr-Lr)})}return zt},i.prototype.getLabelType=function(){var e=this,r=e.labelOption,g=e.coordinate,N=e.type,at=g.type,Tt=g.isTransposed,zt=Object(a.get)(r,["cfg","type"]);return zt||(at==="polar"?zt=Tt?"pie":"polar":at==="theta"?zt="pie":N==="interval"||N==="polygon"?zt="interval":zt="base"),zt},i.prototype.getYMinValue=function(){var e=this.getYScale(),r=e.min,g=e.max,N;return r>=0?N=r:g<=0?N=g:N=0,N},i.prototype.createAttrOption=function(e,r,g){if(Object(a.isNil)(r)||Object(a.isObject)(r))Object(a.isObject)(r)&&Object(a.isEqual)(Object.keys(r),["values"])?Object(a.set)(this.attributeOption,e,{fields:r.values}):Object(a.set)(this.attributeOption,e,r);else{var N={};Object(a.isNumber)(r)?N.values=[r]:N.fields=c(r),g&&(Object(a.isFunction)(g)?N.callback=g:N.values=g),Object(a.set)(this.attributeOption,e,N)}},i.prototype.initAttributes=function(){var e=this,r=this,g=r.attributes,N=r.attributeOption,at=r.theme,Tt=r.shapeType;this.groupScales=[];var zt={},ae=function(Qe){if(N.hasOwnProperty(Qe)){var gn=N[Qe];if(!gn)return{value:void 0};var Tn=Object(lt.a)({},gn),cr=Tn.callback,br=Tn.values,Lr=Tn.fields,Fr=Lr===void 0?[]:Lr,li=Fr.map(function(gi){var Ra=e.scales[gi];return Ra.isCategory&&!zt[gi]&&T.includes(Qe)&&(e.groupScales.push(Ra),zt[gi]=!0),Ra});Tn.scales=li,Qe!=="position"&&li.length===1&&li[0].type==="identity"?Tn.values=li[0].values:!cr&&!br&&(Qe==="size"?Tn.values=at.sizes:Qe==="shape"?Tn.values=at.shapes[Tt]||[]:Qe==="color"&&(li.length?Tn.values=li[0].values.length<=10?at.colors10:at.colors20:Tn.values=at.colors10));var Ai=He(Qe);g[Qe]=new Ai(Tn)}};for(var Oe in N){var ye=ae(Oe);if(typeof ye=="object")return ye.value}},i.prototype.processData=function(e){this.hasSorted=!1;for(var r=this.getAttribute("position").scales,g=r.filter(function(Ai){return Ai.isCategory}),N=this.groupData(e),at=[],Tt=0,zt=N.length;Tt<zt;Tt++){for(var ae=N[Tt],Oe=[],ye=0,Ne=ae.length;ye<Ne;ye++){var Qe=ae[ye],gn={};for(var Tn in Qe)gn[Tn]=Qe[Tn];gn[o]=Qe;for(var cr=0,br=g;cr<br.length;cr++){var Lr=br[cr],Fr=Lr.field;gn[Fr]=Lr.translate(gn[Fr])}Oe.push(gn)}at.push(Oe)}var li=this.adjustData(at);return this.beforeMappingData=li,li},i.prototype.adjustData=function(e){var r=this.adjustOption,g=this,N=g.intervalPadding,at=g.dodgePadding,Tt=g.theme,zt=this.maxColumnWidth||Tt.maxColumnWidth,ae=this.minColumnWidth||Tt.minColumnWidth,Oe=this.columnWidthRatio||Tt.columnWidthRatio,ye=e;if(r){var Ne=this.getXScale(),Qe=this.getYScale(),gn=Ne.field,Tn=Qe?Qe.field:null,cr=pr(this.coordinate),br=Ne.values.length,Lr=this.getAttribute("size"),Fr=void 0;Lr&&(Fr=Lr.values[0]);for(var li=0,Ai=r.length;li<Ai;li++){var gi=r[li],Ra=Object(lt.a)({xField:gn,yField:Tn,intervalPadding:N,dodgePadding:at,xDimensionLength:cr,groupNum:br,defaultSize:Fr,maxColumnWidth:zt,minColumnWidth:ae,columnWidthRatio:Oe},gi),ra=gi.type;if(ra==="dodge"){var ca=[];if(Ne.isCategory||Ne.type==="identity")ca.push("x");else if(!Qe)ca.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");Ra.adjustNames=ca,Ra.dodgeRatio=Oe}else if(ra==="stack"){var _a=this.coordinate;if(!Qe){Ra.height=_a.getHeight();var ka=this.getDefaultValue("size")||3;Ra.size=ka}!_a.isTransposed&&Object(a.isNil)(Ra.reverseOrder)&&(Ra.reverseOrder=!0)}var K=Object(vt.getAdjust)(ra),G=new K(Ra);ye=G.process(ye),this.adjusts[ra]=G}}return ye},i.prototype.groupData=function(e){for(var r=this.getGroupScales(),g=this.scaleDefs,N={},at=[],Tt=0;Tt<r.length;Tt++){var zt=r[Tt],ae=zt.field;at.push(ae),Object(a.get)(g,[ae,"values"])&&(N[ae]=g[ae].values)}return Nt(e,at,N)},i.prototype.updateStackRange=function(e,r){for(var g=Object(a.flatten)(r),N=e.field,at=e.min,Tt=e.max,zt=0;zt<g.length;zt++){var ae=g[zt],Oe=Math.min.apply(null,ae[N]),ye=Math.max.apply(null,ae[N]);Oe<at&&(at=Oe),ye>Tt&&(Tt=ye)}var Ne=this.scaleDefs,Qe={};at<e.min&&!Object(a.get)(Ne,[N,"min"])&&(Qe.min=at),Tt>e.max&&!Object(a.get)(Ne,[N,"max"])&&(Qe.max=Tt),e.change(Qe)},i.prototype.beforeMapping=function(e){var r=e;if(this.sortable&&this.sort(r),this.generatePoints)for(var g=0,N=r.length;g<N;g++){var at=r[g];this.generateShapePoints(at);var Tt=r[g+1];Tt&&(this.generateShapePoints(Tt),at[0].nextPoints=Tt[0].points)}return r},i.prototype.generateShapePoints=function(e){for(var r=this.getShapeFactory(),g=this.getAttribute("shape"),N=0;N<e.length;N++){var at=e[N],Tt=this.createShapePointsCfg(at),zt=g?this.getAttributeValues(g,at):null,ae=r.getShapePoints(zt,Tt);at.points=ae}},i.prototype.normalizeValues=function(e,r){var g=[];if(Object(a.isArray)(e))for(var N=0;N<e.length;N++){var at=e[N];g.push(r.scale(at))}else g=r.scale(e);return g},i.prototype.mapping=function(e){for(var r=this.attributes,g=[],N=0;N<e.length;N++){var at=e[N],Tt={_origin:at[o],points:at.points,nextPoints:at.nextPoints};for(var zt in r)if(r.hasOwnProperty(zt)){var ae=r[zt],Oe=ae.names,ye=this.getAttributeValues(ae,at);if(Oe.length>1)for(var Ne=0;Ne<ye.length;Ne+=1){var Qe=ye[Ne],gn=Oe[Ne];Tt[gn]=Object(a.isArray)(Qe)&&Qe.length===1?Qe[0]:Qe}else Tt[Oe[0]]=ye.length===1?ye[0]:ye}this.convertPoint(Tt),g.push(Tt)}return g},i.prototype.convertPoint=function(e){var r=e.x,g=e.y,N,at,Tt,zt=this.coordinate;if(Object(a.isArray)(r)&&Object(a.isArray)(g)){N=[],at=[];for(var ae=0,Oe=0,ye=r.length,Ne=g.length;ae<ye&&Oe<Ne;ae+=1,Oe+=1)Tt=zt.convert({x:r[ae],y:g[Oe]}),N.push(Tt.x),at.push(Tt.y)}else if(Object(a.isArray)(g)){at=[];for(var Qe=0;Qe<g.length;Qe++){var gn=g[Qe];Tt=zt.convert({x:r,y:gn}),N&&N!==Tt.x?(Object(a.isArray)(N)||(N=[N]),N.push(Tt.x)):N=Tt.x,at.push(Tt.y)}}else if(Object(a.isArray)(r)){N=[];for(var Qe=0;Qe<r.length;Qe++){var Tn=r[Qe];Tt=zt.convert({x:Tn,y:g}),at&&at!==Tt.y?(Object(a.isArray)(at)||(at=[at]),at.push(Tt.y)):at=Tt.y,N.push(Tt.x)}}else{var cr=zt.convert({x:r,y:g});N=cr.x,at=cr.y}e.x=N,e.y=at},i.prototype.getStyleCfg=function(e,r){var g=e.fields,N=g===void 0?[]:g,at=e.callback,Tt=e.cfg;if(Tt)return Tt;var zt=N.map(function(ae){return r[ae]});return at.apply(void 0,zt)},i.prototype.setCfg=function(e){var r=this,g=e.coordinate,N=e.data,at=e.theme,Tt=e.scaleDefs;g&&(this.coordinate=g),N&&(this.data=N),Tt&&(this.scaleDefs=Tt,this.idFields=[],Object(a.each)(Tt,function(zt,ae){zt&&zt.key&&r.idFields.push(ae)})),at&&(this.theme=this.userTheme?Object(a.deepMix)({},at,this.userTheme):at)},i.prototype.renderLabels=function(e,r){r===void 0&&(r=!1);var g=this.geometryLabel;if(!g){var N=this.getLabelType(),at=Pn(N);g=new at(this),this.geometryLabel=g}g.render(e,r);var Tt=g.labelsRenderer.shapesMap;Object(a.each)(this.elementsMap,function(zt,ae){var Oe=R(ae,Tt);if(Oe.length){zt.labelShape=Oe;for(var ye=0;ye<Oe.length;ye++)for(var Ne=Oe[ye],Qe=Ne.getChildren(),gn=0;gn<Qe.length;gn++){var Tn=Qe[gn];Tn.cfg.name=["element","label"],Tn.cfg.element=zt}}})},i.prototype.canDoGroupAnimation=function(e){return!e&&this.animateOption&&(Object(a.get)(this.animateOption,"appear")===void 0||Object(a.get)(this.animateOption,"appear")&&Object(a.get)(this.animateOption,["appear","animation"])===void 0)},i}(ft),ut=Y,jt=Yr.a.transform;function Ut(l,i,e){var r=jt(l.getMatrix(),[["t",i,e]]);l.setMatrix(r)}function Et(l,i){var e=l.attr(),r=e.x,g=e.y,N=jt(l.getMatrix(),[["t",-r,-g],["r",i],["t",r,g]]);return N}function qt(l,i){var e=Et(l,i);l.setMatrix(e)}function se(){return[1,0,0,0,1,0,0,0,1]}function je(l,i){var e=l.getBBox(),r=(e.minX+e.maxX)/2,g=(e.minY+e.maxY)/2;l.applyToMatrix([r,g,1]);var N=jt(l.getMatrix(),[["t",-r,-g],["s",i,i],["t",r,g]]);l.setMatrix(N)}function Ie(l){return l.find(function(i){return i.get("type")==="text"})}function Ue(l,i,e){e===void 0&&(e=[0,0,0,0]);var r=l.getChildren()[0];if(r){var g=r.clone();(i==null?void 0:i.rotate)&&qt(g,-i.rotate);var N=g.getCanvasBBox(),at=N.x,Tt=N.y,zt=N.width,ae=N.height;g.destroy();var Oe=e;return Object(a.isNil)(Oe)?Oe=[2,2,2,2]:Object(a.isNumber)(Oe)&&(Oe=new Array(4).fill(Oe)),{x:at-Oe[3],y:Tt-Oe[0],width:zt+Oe[1]+Oe[3],height:ae+Oe[0]+Oe[2],rotation:(i==null?void 0:i.rotate)||0}}}function Ke(l,i,e){e===void 0&&(e=0);var r=Math.max(0,Math.min(l.x+l.width+e,i.x+i.width+e)-Math.max(l.x-e,i.x-e)),g=Math.max(0,Math.min(l.y+l.height+e,i.y+i.height+e)-Math.max(l.y-e,i.y-e));return r*g}function An(l,i){var e=l.getBBox();return Object(a.some)(i,function(r){var g=r.getBBox();return Ke(e,g,2)>0})}function Bn(l,i,e){var r=e.data,g=e.origin,N=e.animateCfg,at=e.coordinate,Tt=Object(a.get)(N,"update");l.set("data",r),l.set("origin",g),l.set("animateCfg",N),l.set("coordinate",at),l.set("visible",i.get("visible")),l.getChildren().forEach(function(zt,ae){var Oe=i.getChildByIndex(ae);if(!Oe)l.removeChild(zt),zt.remove(!0);else{zt.set("data",r),zt.set("origin",g),zt.set("animateCfg",N),zt.set("coordinate",at);var ye=Po(zt,Oe);Tt?ei(zt,Tt,{toAttrs:ye,coordinate:at}):zt.attr(ye),Oe.isGroup()&&Bn(zt,Oe,e)}}),Object(a.each)(i.getChildren(),function(zt,ae){ae>=l.getCount()&&(zt.destroyed||l.add(zt))})}var Wn=function(){function l(i){this.shapesMap={},this.lastShapesMap={};var e=i.layout,r=i.container;this.layout=e,this.container=r}return l.prototype.render=function(i,e,r){var g=this;r===void 0&&(r=!1),this.shapesMap={};var N=this.container,at=this.createOffscreenGroup();if(i.length){for(var Tt=0,zt=i;Tt<zt.length;Tt++){var ae=zt[Tt];ae&&this.renderLabel(ae,at)}this.doLayout(i,e),this.renderLabelLine(i),this.renderLabelBackground(i),this.adjustLabel(i)}var Oe=this.lastShapesMap,ye=this.shapesMap;Object(a.each)(ye,function(Ne,Qe){if(Ne.destroyed)delete ye[Qe];else{if(Oe[Qe]){var gn=Ne.get("data"),Tn=Ne.get("origin"),cr=Ne.get("coordinate"),br=Ne.get("animateCfg"),Lr=Oe[Qe];Bn(Lr,ye[Qe],{data:gn,origin:Tn,animateCfg:br,coordinate:cr}),g.shapesMap[Qe]=Lr}else{N.add(Ne);var Fr=Object(a.get)(Ne.get("animateCfg"),r?"enter":"appear");Fr&&ei(Ne,Fr,{toAttrs:Object(lt.a)({},Ne.attr()),coordinate:Ne.get("coordinate")})}delete Oe[Qe]}}),Object(a.each)(Oe,function(Ne){var Qe=Object(a.get)(Ne.get("animateCfg"),"leave");Qe?ei(Ne,Qe,{toAttrs:null,coordinate:Ne.get("coordinate")}):Ne.remove(!0)}),this.lastShapesMap=ye,at.destroy()},l.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},l.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},l.prototype.renderLabel=function(i,e){var r=i.id,g=i.elementId,N=i.data,at=i.mappingData,Tt=i.coordinate,zt=i.animate,ae=i.content,Oe={id:r,elementId:g,data:N,origin:Object(lt.a)(Object(lt.a)({},at),{data:at[o]}),coordinate:Tt},ye=e.addGroup(Object(lt.a)({name:"label",animateCfg:this.animate===!1||zt===null||zt===!1?!1:Object(a.deepMix)({},this.animate,zt)},Oe)),Ne;if(ae.isGroup&&ae.isGroup()||ae.isShape&&ae.isShape()){var Qe=ae.getCanvasBBox(),gn=Qe.width,Tn=Qe.height,cr=Object(a.get)(i,"textAlign","left"),br=i.x,Lr=i.y-Tn/2;cr==="center"?br=br-gn/2:(cr==="right"||cr==="end")&&(br=br-gn),Ut(ae,br,Lr),Ne=ae,ye.add(ae)}else{var Fr=Object(a.get)(i,["style","fill"]);Ne=ye.addShape("text",Object(lt.a)({attrs:Object(lt.a)(Object(lt.a)({x:i.x,y:i.y,textAlign:i.textAlign,textBaseline:Object(a.get)(i,"textBaseline","middle"),text:i.content},i.style),{fill:Object(a.isNull)(Fr)?i.color:Fr})},Oe))}i.rotate&&qt(Ne,i.rotate),this.shapesMap[r]=ye},l.prototype.doLayout=function(i,e){var r=this;if(this.layout){var g=Object(a.isArray)(this.layout)?this.layout:[this.layout];Object(a.each)(g,function(N){var at=za(Object(a.get)(N,"type",""));if(at){var Tt=[],zt=[];Object(a.each)(r.shapesMap,function(ae,Oe){Tt.push(ae),zt.push(e[ae.get("elementId")])}),at(i,Tt,zt,r.region,N.cfg)}})}},l.prototype.renderLabelLine=function(i){var e=this;Object(a.each)(i,function(r){var g=Object(a.get)(r,"coordinate");if(!(!r||!g)){var N=g.getCenter(),at=g.getRadius();if(!!r.labelLine){var Tt=Object(a.get)(r,"labelLine",{}),zt=r.id,ae=Tt.path;if(!ae){var Oe=sa(N.x,N.y,at,r.angle);ae=[["M",Oe.x,Oe.y],["L",r.x,r.y]]}var ye=e.shapesMap[zt];ye.destroyed||ye.addShape("path",{capture:!1,attrs:Object(lt.a)({path:ae,stroke:r.color?r.color:Object(a.get)(r,["style","fill"],"#000"),fill:null},Tt.style),id:zt,origin:r.mappingData,data:r.data,coordinate:r.coordinate})}}})},l.prototype.renderLabelBackground=function(i){var e=this;Object(a.each)(i,function(r){var g=Object(a.get)(r,"coordinate"),N=Object(a.get)(r,"background");if(!(!N||!g)){var at=r.id,Tt=e.shapesMap[at];if(!Tt.destroyed){var zt=Tt.getChildren()[0];if(zt){var ae=Ue(Tt,r,N.padding),Oe=ae.rotation,ye=Object(lt.c)(ae,["rotation"]),Ne=Tt.addShape("rect",{attrs:Object(lt.a)(Object(lt.a)({},ye),N.style||{}),id:at,origin:r.mappingData,data:r.data,coordinate:r.coordinate});if(Ne.setZIndex(-1),Oe){var Qe=zt.getMatrix();Ne.setMatrix(Qe)}}}}})},l.prototype.createOffscreenGroup=function(){var i=this.container,e=i.getGroupBase(),r=new e({});return r},l.prototype.adjustLabel=function(i){var e=this;Object(a.each)(i,function(r){if(r){var g=r.id,N=e.shapesMap[g];if(!N.destroyed){var at=N.findAll(function(Tt){return Tt.get("type")!=="path"});Object(a.each)(at,function(Tt){Tt&&(r.offsetX&&Tt.attr("x",Tt.attr("x")+r.offsetX),r.offsetY&&Tt.attr("y",Tt.attr("y")+r.offsetY))})}}})},l}(),Yn=Wn;function Jn(l){var i=0;return Object(a.each)(l,function(e){i+=e}),i/l.length}var Ar=function(){function l(i){this.geometry=i}return l.prototype.getLabelItems=function(i){var e=this,r=[],g=this.getLabelCfgs(i);return Object(a.each)(i,function(N,at){var Tt=g[at];if(!Tt||Object(a.isNil)(N.x)||Object(a.isNil)(N.y)){r.push(null);return}var zt=Object(a.isArray)(Tt.content)?Tt.content:[Tt.content];Tt.content=zt;var ae=zt.length;Object(a.each)(zt,function(Oe,ye){if(Object(a.isNil)(Oe)||Oe===""){r.push(null);return}var Ne=Object(lt.a)(Object(lt.a)({},Tt),e.getLabelPoint(Tt,N,ye));Ne.textAlign||(Ne.textAlign=e.getLabelAlign(Ne,ye,ae)),Ne.offset<=0&&(Ne.labelLine=null),r.push(Ne)})}),r},l.prototype.render=function(i,e){e===void 0&&(e=!1);var r=this.getLabelItems(i),g=this.getLabelsRenderer(),N=this.getGeometryShapes();g.render(r,N,e)},l.prototype.clear=function(){var i=this.labelsRenderer;i&&i.clear()},l.prototype.destroy=function(){var i=this.labelsRenderer;i&&i.destroy(),this.labelsRenderer=null},l.prototype.getCoordinate=function(){return this.geometry.coordinate},l.prototype.getDefaultLabelCfg=function(i,e){var r=this.geometry,g=r.type,N=r.theme;return g==="polygon"||g==="interval"&&e==="middle"||i<0&&!["line","point","path"].includes(g)?Object(a.get)(N,"innerLabels",{}):Object(a.get)(N,"labels",{})},l.prototype.getThemedLabelCfg=function(i){var e=this.geometry,r=this.getDefaultLabelCfg(),g=e.type,N=e.theme,at;return g==="polygon"||i.offset<0&&!["line","point","path"].includes(g)?at=Object(a.deepMix)({},r,N.innerLabels,i):at=Object(a.deepMix)({},r,N.labels,i),at},l.prototype.setLabelPosition=function(i,e,r,g){},l.prototype.getLabelOffset=function(i){var e=this.getCoordinate(),r=this.getOffsetVector(i);return e.isTransposed?r[0]:r[1]},l.prototype.getLabelOffsetPoint=function(i,e,r){var g=i.offset,N=this.getCoordinate(),at=N.isTransposed,Tt=at?"x":"y",zt=at?1:-1,ae={x:0,y:0};return e>0||r===1?ae[Tt]=g*zt:ae[Tt]=g*zt*-1,ae},l.prototype.getLabelPoint=function(i,e,r){var g=this.getCoordinate(),N=i.content.length;function at(cr,br,Lr){Lr===void 0&&(Lr=!1);var Fr=cr;return Object(a.isArray)(Fr)&&(i.content.length===1?Lr?Fr=Jn(Fr):Fr.length<=2?Fr=Fr[cr.length-1]:Fr=Jn(Fr):Fr=Fr[br]),Fr}var Tt={content:i.content[r],x:0,y:0,start:{x:0,y:0},color:"#fff"},zt=Object(a.isArray)(e.shape)?e.shape[0]:e.shape,ae=zt==="funnel"||zt==="pyramid";if(this.geometry.type==="polygon"){var Oe=Mo(e.x,e.y);Tt.x=Oe[0],Tt.y=Oe[1]}else this.geometry.type==="interval"&&!ae?(Tt.x=at(e.x,r,!0),Tt.y=at(e.y,r)):(Tt.x=at(e.x,r),Tt.y=at(e.y,r));if(ae){var ye=Object(a.get)(e,"nextPoints"),Ne=Object(a.get)(e,"points");if(ye){var Qe=g.convert(Ne[1]),gn=g.convert(ye[1]);Tt.x=(Qe.x+gn.x)/2,Tt.y=(Qe.y+gn.y)/2}else if(zt==="pyramid"){var Qe=g.convert(Ne[1]),gn=g.convert(Ne[2]);Tt.x=(Qe.x+gn.x)/2,Tt.y=(Qe.y+gn.y)/2}}i.position&&this.setLabelPosition(Tt,e,r,i.position);var Tn=this.getLabelOffsetPoint(i,r,N);return Tt.start={x:Tt.x,y:Tt.y},Tt.x+=Tn.x,Tt.y+=Tn.y,Tt.color=e.color,Tt},l.prototype.getLabelAlign=function(i,e,r){var g="center",N=this.getCoordinate();if(N.isTransposed){var at=i.offset;at<0?g="right":at===0?g="center":g="left",r>1&&e===0&&(g==="right"?g="left":g==="left"&&(g="right"))}return g},l.prototype.getLabelId=function(i){var e=this.geometry,r=e.type,g=e.getXScale(),N=e.getYScale(),at=i[o],Tt=e.getElementId(i);return r==="line"||r==="area"?Tt+=" "+at[g.field]:r==="path"&&(Tt+=" "+at[g.field]+"-"+at[N.field]),Tt},l.prototype.getLabelsRenderer=function(){var i=this.geometry,e=i.labelsContainer,r=i.labelOption,g=i.canvasRegion,N=i.animateOption,at=this.geometry.coordinate,Tt=this.labelsRenderer;return Tt||(Tt=new Yn({container:e,layout:Object(a.get)(r,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=Tt),Tt.region=g,Tt.animate=N?Oi("label",at):!1,Tt},l.prototype.getLabelCfgs=function(i){var e=this,r=this.geometry,g=r.labelOption,N=r.scales,at=r.coordinate,Tt=g,zt=Tt.fields,ae=Tt.callback,Oe=Tt.cfg,ye=zt.map(function(Qe){return N[Qe]}),Ne=[];return Object(a.each)(i,function(Qe,gn){var Tn=Qe[o],cr=e.getLabelText(Tn,ye),br;if(ae){var Lr=zt.map(function(Ra){return Tn[Ra]});if(br=ae.apply(void 0,Lr),Object(a.isNil)(br)){Ne.push(null);return}}var Fr=Object(lt.a)(Object(lt.a)({id:e.getLabelId(Qe),elementId:e.geometry.getElementId(Qe),data:Tn,mappingData:Qe,coordinate:at},Oe),br);Object(a.isFunction)(Fr.position)&&(Fr.position=Fr.position(Tn,Qe,gn));var li=e.getLabelOffset(Fr.offset||0),Ai=e.getDefaultLabelCfg(li,Fr.position);Fr=Object(a.deepMix)({},Ai,Fr),Fr.offset=e.getLabelOffset(Fr.offset||0);var gi=Fr.content;Object(a.isFunction)(gi)?Fr.content=gi(Tn,Qe,gn):Object(a.isUndefined)(gi)&&(Fr.content=cr[0]),Ne.push(Fr)}),Ne},l.prototype.getLabelText=function(i,e){var r=[];return Object(a.each)(e,function(g){var N=i[g.field];Object(a.isArray)(N)?N=N.map(function(at){return g.getText(at)}):N=g.getText(N),Object(a.isNil)(N)||N===""?r.push(null):r.push(N)}),r},l.prototype.getOffsetVector=function(i){i===void 0&&(i=0);var e=this.getCoordinate(),r=0;return Object(a.isNumber)(i)&&(r=i),e.isTransposed?e.applyMatrix(r,0):e.applyMatrix(0,r)},l.prototype.getGeometryShapes=function(){var i=this.geometry,e={};return Object(a.each)(i.elementsMap,function(r,g){e[g]=r.shape}),Object(a.each)(i.getOffscreenGroup().getChildren(),function(r){var g=i.getElementId(r.get("origin").mappingData);e[g]=r}),e},l}(),ur=Ar,mr=z("WXeg");function ii(l,i,e){if(!l)return e;var r;if(l.callback&&l.callback.length>1){var g=Array(l.callback.length-1).fill("");r=l.mapping.apply(l,Object(lt.d)([i],g)).join("")}else r=l.mapping(i).join("");return r||e}var Li={hexagon:function(i,e,r){var g=r/2*Math.sqrt(3);return[["M",i,e-r],["L",i+g,e-r/2],["L",i+g,e+r/2],["L",i,e+r],["L",i-g,e+r/2],["L",i-g,e-r/2],["Z"]]},bowtie:function(i,e,r){var g=r-1.5;return[["M",i-r,e-g],["L",i+r,e+g],["L",i+r,e-g],["L",i-r,e+g],["Z"]]},cross:function(i,e,r){return[["M",i-r,e-r],["L",i+r,e+r],["M",i+r,e-r],["L",i-r,e+r]]},tick:function(i,e,r){return[["M",i-r/2,e-r],["L",i+r/2,e-r],["M",i,e-r],["L",i,e+r],["M",i-r/2,e+r],["L",i+r/2,e+r]]},plus:function(i,e,r){return[["M",i-r,e],["L",i+r,e],["M",i,e-r],["L",i,e+r]]},hyphen:function(i,e,r){return[["M",i-r,e],["L",i+r,e]]},line:function(i,e,r){return[["M",i,e-r],["L",i,e+r]]}},ci=["line","cross","tick","plus","hyphen"];function Yi(l,i){return Object(a.isFunction)(i)?i(l):Object(a.deepMix)({},l,i)}function qa(l,i){var e=l.symbol;if(Object(a.isString)(e)&&ci.indexOf(e)!==-1){var r=Object(a.get)(l,"style",{}),g=Object(a.get)(r,"lineWidth",1),N=r.stroke||r.fill||i;l.style=Object(a.deepMix)({},l.style,{lineWidth:g,stroke:N,fill:null})}}function wa(l){var i=l.symbol;Object(a.isString)(i)&&Li[i]&&(l.symbol=Li[i])}function fo(l){return l.startsWith(t.LEFT)||l.startsWith(t.RIGHT)?"vertical":"horizontal"}function ga(l,i,e,r,g){var N=e.getScale(e.type);if(N.isCategory){var at=N.field,Tt=i.getAttribute("color"),zt=i.getAttribute("shape"),ae=l.getTheme().defaultColor,Oe=i.coordinate.isPolar;return N.getTicks().map(function(ye){var Ne,Qe=ye.text,gn=ye.value,Tn=Qe,cr=N.invert(gn),br=l.filterFieldData(at,[(Ne={},Ne[at]=cr,Ne)]).length===0;Object(a.each)(l.views,function(Ai){var gi;Ai.filterFieldData(at,[(gi={},gi[at]=cr,gi)]).length||(br=!0)});var Lr=ii(Tt,cr,ae),Fr=ii(zt,cr,"point"),li=i.getShapeMarker(Fr,{color:Lr,isInPolar:Oe});return li=Object(a.deepMix)({},r,li,ne(Object(lt.a)({},g),["style"])),qa(li,Lr),g&&g.style&&(li.style=Yi(li.style,g.style)),wa(li),{id:cr,name:Tn,value:cr,marker:li,unchecked:br}})}return[]}function Ia(l,i,e){return e.map(function(r){var g=Object(a.deepMix)({},l,i,r.marker);return wa(g),r.marker=g,r})}var ko="4.1.11",No={getLegendItems:ga,translate:Ut,rotate:qt,zoom:je,transform:jt,getAngle:bo,getSectorPath:Xa,polarToCartesian:sa,getDelegationObject:pe,getTooltipItems:hu},no={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Ja={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},ho=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Qa=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],jo=function(i){i===void 0&&(i={});var e=i.backgroundColor,r=e===void 0?"#141414":e,g=i.paletteQualitative10,N=g===void 0?ho:g,at=i.paletteQualitative20,Tt=at===void 0?Qa:at,zt=i.paletteSemanticRed,ae=zt===void 0?"#F4664A":zt,Oe=i.paletteSemanticGreen,ye=Oe===void 0?"#30BF78":Oe,Ne=i.paletteSemanticYellow,Qe=Ne===void 0?"#FAAD14":Ne,gn=i.fontFamily,Tn=gn===void 0?`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`:gn,cr=i.brandColor,br=cr===void 0?N[0]:cr;return{backgroundColor:r,brandColor:br,paletteQualitative10:N,paletteQualitative20:Tt,paletteSemanticRed:ae,paletteSemanticGreen:ye,paletteSemanticYellow:Qe,fontFamily:Tn,axisLineBorderColor:Ja[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Ja[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:Ja[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Ja[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:Ja[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Ja[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:Ja[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:ho[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Ja[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],sliderRailFillColor:Ja[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Ja[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:no[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:no[25],annotationArcBorderColor:Ja[15],annotationArcBorder:1,annotationLineBorderColor:Ja[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Ja[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Ja[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Ja[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:Ja[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Ja[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:no[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Ja[65],overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:no[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Ja[25],pointFillColor:ho[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:no[100],pointBorderOpacity:1,pointActiveBorderColor:Ja[100],pointSelectedBorder:2,pointSelectedBorderColor:Ja[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:ho[0],hollowPointBorderOpacity:.95,hollowPointFillColor:no[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Ja[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Ja[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:ho[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:ho[0],areaFillOpacity:.25,areaActiveFillColor:ho[0],areaActiveFillOpacity:.5,areaSelectedFillColor:ho[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:ho[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Ja[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Ja[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:ho[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Ja[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Ja[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:ho[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:no[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Ja[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Ja[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}},Lo=jo(),es=z("U8jP"),Bo=z("v7Ed");function Yo(l){return l?!1:l==null||isNaN(l)}function zo(l){if(Object(a.isArray)(l))return Yo(l[1].y);var i=l.y;return Object(a.isArray)(i)?Yo(i[0]):Yo(i)}function Ko(l,i,e){if(i===void 0&&(i=!1),e===void 0&&(e=!0),!l.length||l.length===1&&!e)return[];if(i){for(var r=[],g=0,N=l.length;g<N;g++){var at=l[g];zo(at)||r.push(at)}return[r]}for(var Tt=[],zt=[],g=0,N=l.length;g<N;g++){var at=l[g];zo(at)?zt.length&&(zt.length===1&&!e||Tt.push(zt),zt=[]):zt.push(at)}return zt.length&&Tt.push(zt),Tt}function xa(l,i,e,r){r===void 0&&(r="");var g=l.style,N=g===void 0?{}:g,at=l.defaultStyle,Tt=l.color,zt=l.size,ae=Object(lt.a)(Object(lt.a)({},at),N);return Tt&&(i&&(N.stroke||(ae.stroke=Tt)),e&&(N.fill||(ae.fill=Tt))),r&&Object(a.isNil)(N[r])&&!Object(a.isNil)(zt)&&(ae[r]=zt),ae}function Cs(l){return Object(a.deepMix)({},{fill:"#CCD6EC",fillOpacity:.3},Object(a.get)(l,["background","style"]))}function Ms(l){var i=l.x,e=Object(a.isArray)(l.y)?l.y:[l.y];return e.map(function(r,g){return{x:Object(a.isArray)(i)?i[g]:i,y:r}})}var zs={line:function(i,e,r){return[["M",i-r,e],["L",i+r,e]]},dot:function(i,e,r){return[["M",i-r,e],["L",i+r,e]]},dash:function(i,e,r){return[["M",i-r,e],["L",i+r,e]]},smooth:function(i,e,r){return[["M",i-r,e],["A",r/2,r/2,0,1,1,i,e],["A",r/2,r/2,0,1,0,i+r,e]]},hv:function(i,e,r){return[["M",i-r-1,e-2.5],["L",i,e-2.5],["L",i,e+2.5],["L",i+r+1,e+2.5]]},vh:function(i,e,r){return[["M",i-r-1,e+2.5],["L",i,e+2.5],["L",i,e-2.5],["L",i+r+1,e-2.5]]},hvh:function(i,e,r){return[["M",i-(r+1),e+2.5],["L",i-r/2,e+2.5],["L",i-r/2,e-2.5],["L",i+r/2,e-2.5],["L",i+r/2,e+2.5],["L",i+r+1,e+2.5]]},vhv:function(i,e){return[["M",i-5,e+2.5],["L",i-5,e],["L",i,e],["L",i,e-3],["L",i,e+3],["L",i+6.5,e+3]]}};function xs(l,i){var e=l.color;return{symbol:zs[i],style:{lineWidth:2,r:6,stroke:e}}}function Ns(l,i,e){for(var r=l.isStack,g=l.connectNulls,N=l.isInCircle,at=l.showSinglePoint,Tt=xa(l,!0,!1,"lineWidth"),zt=Ko(l.points,g,at),ae=[],Oe=0,ye=zt.length;Oe<ye;Oe++){var Ne=zt[Oe];ae=ae.concat($o(Ne,N,r,i,e,Tt))}return Tt.path=ae,Tt}function is(l,i,e,r,g){if(l.length===1)return[["M",l[0].x,l[0].y-g.lineWidth/2],["L",l[0].x,l[0].y],["L",l[0].x,l[0].y+g.lineWidth/2]];var N;return e?(i&&l.length&&l.push({x:l[0].x,y:l[0].y}),N=an(l,!1,r)):(N=ar(l,!1),i&&N.push(["Z"])),N}function cs(l,i,e,r,g,N){var at=[],Tt=[];Object(a.each)(l,function(Oe){var ye=Ms(Oe);at.push(ye[1]),Tt.push(ye[0])});var zt=is(at,i,r,g,N),ae=is(Tt,i,r,g,N);return e?zt:zt.concat(ae)}function $o(l,i,e,r,g,N){if(l.length){var at=l[0];return Object(a.isArray)(at.y)?cs(l,i,e,r,g,N):is(l,i,r,g,N)}return[]}var Ks=Vi("line",{defaultShapeType:"line"});Object(a.each)(["line","dot","dash","smooth"],function(l){Zi("line",l,{draw:function(e,r){var g=l==="smooth",N;if(g){var at=this.coordinate,Tt=at.start,zt=at.end;N=[[Tt.x,zt.y],[zt.x,Tt.y]]}var ae=Ns(e,g,N),Oe=r.addShape({type:"path",attrs:ae,name:"line",capture:!g});return Oe},getMarker:function(e){return xs(e,l)}})});var rs=Ks,Fo=function(l){Object(lt.b)(i,l);function i(e){var r=l.call(this,e)||this;r.type="path",r.shapeType="line";var g=e.connectNulls,N=g===void 0?!1:g,at=e.showSinglePoint,Tt=at===void 0?!0:at;return r.connectNulls=N,r.showSinglePoint=Tt,r}return i.prototype.createElements=function(e,r,g){g===void 0&&(g=!1);var N=this,at=N.lastElementsMap,Tt=N.elementsMap,zt=N.elements,ae=N.container,Oe=this.getElementId(e),ye=this.getShapeInfo(e),Ne=at[Oe];if(Ne){var gn=Ne.getModel();(this.isCoordinateChanged||f(gn,ye))&&(Ne.animate=this.animateOption,Ne.update(ye)),delete at[Oe]}else{var Qe=this.getShapeFactory();Ne=new _i({shapeFactory:Qe,container:ae,offscreenGroup:this.getOffscreenGroup()}),Ne.geometry=this,Ne.animate=this.animateOption,Ne.draw(ye,g)}return zt.push(Ne),Tt[Oe]=Ne,zt},i.prototype.getPointsAndData=function(e){for(var r=[],g=[],N=0,at=e.length;N<at;N++){var Tt=e[N];r.push({x:Tt.x,y:Tt.y}),g.push(Tt[o])}return{points:r,data:g}},i.prototype.getShapeInfo=function(e){var r=this.getDrawCfg(e[0]),g=this.getPointsAndData(e),N=g.points,at=g.data;return r.mappingData=e,r.data=at,r.isStack=!!this.getAdjust("stack"),r.points=N,r.connectNulls=this.connectNulls,r.showSinglePoint=this.showSinglePoint,r},i}(ut),Ws=Fo;function Ls(l,i,e,r,g){var N=[];if(l.length){for(var at=[],Tt=[],zt=0,ae=l.length;zt<ae;zt++){var Oe=l[zt];at.push(Oe[1]),Tt.push(Oe[0])}Tt=Tt.reverse(),Object(a.each)([at,Tt],function(ye,Ne){var Qe=[],gn=r.parsePoints(ye),Tn=gn[0];at.length===1&&Tt.length===1?Qe=Ne===0?[["M",Tn.x-.5,Tn.y],["L",Tn.x+.5,Tn.y]]:[["L",Tn.x+.5,Tn.y],["L",Tn.x-.5,Tn.y]]:(i&&gn.push({x:Tn.x,y:Tn.y}),e?Qe=an(gn,!1,g):Qe=ar(gn,!1),Ne>0&&(Qe[0][0]="L")),N=N.concat(Qe)}),N.push(["Z"])}return N}function Os(l,i,e,r,g){for(var N=xa(l,i,!i,"lineWidth"),at=l.connectNulls,Tt=l.isInCircle,zt=l.points,ae=l.showSinglePoint,Oe=Ko(zt,at,ae),ye=[],Ne=0,Qe=Oe.length;Ne<Qe;Ne++){var gn=Oe[Ne];ye=ye.concat(Ls(gn,Tt,e,r,g))}return N.path=ye,N}function Ss(l){var i=l.start,e=l.end;return[[i.x,e.y],[e.x,i.y]]}var as=Vi("area",{defaultShapeType:"area",getDefaultPoints:function(i){var e=i.x,r=i.y0,g=Object(a.isArray)(i.y)?i.y:[r,i.y];return g.map(function(N){return{x:e,y:N}})}});Zi("area","area",{draw:function(i,e){var r=Os(i,!1,!1,this),g=e.addShape({type:"path",attrs:r,name:"area"});return g},getMarker:function(i){var e=i.color;return{symbol:function(g,N,at){return at===void 0&&(at=5.5),[["M",g-at,N-4],["L",g+at,N-4],["L",g+at,N+4],["L",g-at,N+4],["Z"]]},style:{r:5,fill:e}}}});var iu=as,Vs=function(l){Object(lt.b)(i,l);function i(e){var r=l.call(this,e)||this;r.type="area",r.shapeType="area",r.generatePoints=!0,r.startOnZero=!0;var g=e.startOnZero,N=g===void 0?!0:g,at=e.sortable,Tt=at===void 0?!1:at,zt=e.showSinglePoint,ae=zt===void 0?!1:zt;return r.startOnZero=N,r.sortable=Tt,r.showSinglePoint=ae,r}return i.prototype.getPointsAndData=function(e){for(var r=[],g=[],N=0,at=e.length;N<at;N++){var Tt=e[N];r.push(Tt.points),g.push(Tt[o])}return{points:r,data:g}},i.prototype.getYMinValue=function(){if(this.startOnZero)return l.prototype.getYMinValue.call(this);var e=this.getYScale();return e.min},i}(Ws),As=Vs,vo=Vi("edge",{defaultShapeType:"line",getDefaultPoints:function(i){return Ms(i)}});Zi("edge","line",{draw:function(i,e){var r=xa(i,!0,!1,"lineWidth"),g=ar(this.parsePoints(i.points),this.coordinate.isPolar);return e.addShape("path",{attrs:Object(lt.a)(Object(lt.a)({},r),{path:g})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var go=vo,Co=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.type="edge",e.shapeType="edge",e.generatePoints=!0,e}return i}(ut),Bs=Co,Wo=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.type="heatmap",e.paletteCache={},e}return i.prototype.createElements=function(e,r,g){g===void 0&&(g=!1);var N=this.prepareRange(e),at=this.prepareSize(),Tt=Object(a.get)(this.styleOption,["style","shadowBlur"]);return Object(a.isNumber)(Tt)||(Tt=at/2),this.prepareGreyScaleBlurredCircle(at,Tt),this.drawWithRange(e,N,at,Tt),null},i.prototype.clear=function(){l.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},i.prototype.prepareRange=function(e){var r=this.getAttribute("color"),g=r.getFields()[0],N=Infinity,at=-Infinity;return e.forEach(function(Tt){var zt=Tt[o][g];zt>at&&(at=zt),zt<N&&(N=zt)}),N===at&&(N=at-1),[N,at]},i.prototype.prepareSize=function(){var e=this.getDefaultValue("size");return Object(a.isNumber)(e)||(e=this.getDefaultSize()),e},i.prototype.prepareGreyScaleBlurredCircle=function(e,r){var g=this.getGrayScaleBlurredCanvas(),N=e+r,at=g.getContext("2d");g.width=g.height=N*2,at.clearRect(0,0,g.width,g.height),at.shadowOffsetX=at.shadowOffsetY=N*2,at.shadowBlur=r,at.shadowColor="black",at.beginPath(),at.arc(-N,-N,e,0,Math.PI*2,!0),at.closePath(),at.fill()},i.prototype.drawWithRange=function(e,r,g,N){var at=this.coordinate,Tt=at.start,zt=at.end,ae=this.coordinate.getWidth(),Oe=this.coordinate.getHeight(),ye=this.getAttribute("color"),Ne=ye.getFields()[0];this.clearShadowCanvasCtx();var Qe=this.getShadowCanvasCtx();r&&(e=e.filter(function(ra){return ra[o][Ne]<=r[1]&&ra[o][Ne]>=r[0]}));for(var gn=this.scales[Ne],Tn=0,cr=e;Tn<cr.length;Tn++){var br=cr[Tn],Lr=this.getDrawCfg(br),Fr=Lr.x,li=Lr.y,Ai=gn.scale(br[o][Ne]);this.drawGrayScaleBlurredCircle(Fr-Tt.x,li-zt.y,g+N,Ai,Qe)}var gi=Qe.getImageData(0,0,ae,Oe);this.clearShadowCanvasCtx(),this.colorize(gi),Qe.putImageData(gi,0,0);var Ra=this.getImageShape();Ra.attr("x",Tt.x),Ra.attr("y",zt.y),Ra.attr("width",ae),Ra.attr("height",Oe),Ra.attr("img",Qe.canvas),Ra.set("origin",this.getShapeInfo(e))},i.prototype.getDefaultSize=function(){var e=this.getAttribute("position"),r=this.coordinate;return Math.min(r.getWidth()/(e.scales[0].ticks.length*4),r.getHeight()/(e.scales[1].ticks.length*4))},i.prototype.clearShadowCanvasCtx=function(){var e=this.getShadowCanvasCtx();e.clearRect(0,0,e.canvas.width,e.canvas.height)},i.prototype.getShadowCanvasCtx=function(){var e=this.shadowCanvas;return e||(e=document.createElement("canvas"),this.shadowCanvas=e),e.width=this.coordinate.getWidth(),e.height=this.coordinate.getHeight(),e.getContext("2d")},i.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},i.prototype.drawGrayScaleBlurredCircle=function(e,r,g,N,at){var Tt=this.getGrayScaleBlurredCanvas();at.globalAlpha=N,at.drawImage(Tt,e-g,r-g)},i.prototype.colorize=function(e){for(var r=this.getAttribute("color"),g=e.data,N=this.paletteCache,at=3;at<g.length;at+=4){var Tt=g[at];if(Object(a.isNumber)(Tt)){var zt=N[Tt]?N[Tt]:Ct.a.rgb2arr(r.gradient(Tt/256));g[at-3]=zt[0],g[at-2]=zt[1],g[at-1]=zt[2],g[at]=Tt}}},i.prototype.getImageShape=function(){var e=this.imageShape;if(e)return e;var r=this.container;return e=r.addShape({type:"image",attrs:{}}),this.imageShape=e,e},i.prototype.getShapeInfo=function(e){var r=this.getDrawCfg(e[0]);return Object(lt.a)(Object(lt.a)({},r),{mappingData:e,data:this.getData(e)})},i.prototype.getData=function(e){return e.map(function(r){return r[o]})},i}(ut),ls=Wo;function du(l,i){i===void 0&&(i=!1);var e=l.x,r=l.y,g=l.y0,N=l.size,at,Tt;Object(a.isArray)(r)?(at=r[0],Tt=r[1]):(at=g,Tt=r);var zt,ae;Object(a.isArray)(e)?(zt=e[0],ae=e[1]):(zt=e-N/2,ae=e+N/2);var Oe=[{x:zt,y:at},{x:zt,y:Tt}];return i?Oe.push({x:ae,y:(Tt+at)/2}):Oe.push({x:ae,y:Tt},{x:ae,y:at}),Oe}function Tu(l,i){i===void 0&&(i=!0);var e=[],r=l[0];e.push(["M",r.x,r.y]);for(var g=1,N=l.length;g<N;g++)e.push(["L",l[g].x,l[g].y]);return i&&(e.push(["L",r.x,r.y]),e.push(["z"])),e}function Ts(l,i){var e=0,r=0,g=0,N=0;return Object(a.isArray)(l)?l.length===1?e=r=g=N=l[0]:l.length===2?(e=g=l[0],r=N=l[1]):l.length===3?(e=l[0],r=N=l[1],g=l[2]):(e=l[0],r=l[1],g=l[2],N=l[3]):e=r=g=N=l,e+r>i&&(e=e?i/(1+r/e):0,r=i-e),g+N>i&&(g=g?i/(1+N/g):0,N=i-g),[e||0,r||0,g||0,N||0]}function ju(l,i,e){var r=[];if(e.isRect){var g=e.isTransposed?{x:e.start.x,y:i[0].y}:{x:i[0].x,y:e.start.y},N=e.isTransposed?{x:e.end.x,y:i[2].y}:{x:i[3].x,y:e.end.y},at=Object(a.get)(l,["background","style","radius"]);if(at){var Tt=e.isTransposed?Math.abs(i[0].y-i[2].y):i[2].x-i[1].x,zt=e.isTransposed?e.getWidth():e.getHeight(),ae=Ts(at,Math.min(Tt,zt)),Oe=ae[0],ye=ae[1],Ne=ae[2],Qe=ae[3];r.push(["M",g.x,N.y+Oe]),Oe!==0&&r.push(["A",Oe,Oe,0,0,1,g.x+Oe,N.y]),r.push(["L",N.x-ye,N.y]),ye!==0&&r.push(["A",ye,ye,0,0,1,N.x,N.y+ye]),r.push(["L",N.x,g.y-Ne]),Ne!==0&&r.push(["A",Ne,Ne,0,0,1,N.x-Ne,g.y]),r.push(["L",g.x+Qe,g.y]),Qe!==0&&r.push(["A",Qe,Qe,0,0,1,g.x,g.y-Qe])}else r.push(["M",g.x,g.y]),r.push(["L",N.x,g.y]),r.push(["L",N.x,N.y]),r.push(["L",g.x,N.y]),r.push(["L",g.x,g.y]);r.push(["z"])}if(e.isPolar){var gn=e.getCenter(),Tn=bo(l,e),cr=Tn.startAngle,br=Tn.endAngle;if(e.type!=="theta"&&!e.isTransposed)r=Xa(gn.x,gn.y,e.getRadius(),cr,br);else{var Lr=function(gi){return Math.pow(gi,2)},Oe=Math.sqrt(Lr(gn.x-i[0].x)+Lr(gn.y-i[0].y)),ye=Math.sqrt(Lr(gn.x-i[2].x)+Lr(gn.y-i[2].y));r=Xa(gn.x,gn.y,Oe,e.startAngle,e.endAngle,ye)}}return r}function Jo(l,i,e){var r=e.getWidth(),g=e.getHeight(),N=e.type==="rect",at=[],Tt=(l[2].x-l[1].x)/2,zt=e.isTransposed?Tt*g/r:Tt*r/g;return i==="round"?(N?(at.push(["M",l[0].x,l[0].y+zt]),at.push(["L",l[1].x,l[1].y-zt]),at.push(["A",Tt,Tt,0,0,1,l[2].x,l[2].y-zt]),at.push(["L",l[3].x,l[3].y+zt]),at.push(["A",Tt,Tt,0,0,1,l[0].x,l[0].y+zt])):(at.push(["M",l[0].x,l[0].y]),at.push(["L",l[1].x,l[1].y]),at.push(["A",Tt,Tt,0,0,1,l[2].x,l[2].y]),at.push(["L",l[3].x,l[3].y]),at.push(["A",Tt,Tt,0,0,1,l[0].x,l[0].y])),at.push(["z"])):at=Tu(l),at}function Iu(l,i,e){var r=[];return Object(a.isNil)(i)?e?r.push(["M",l[0].x,l[0].y],["L",l[1].x,l[1].y],["L",l[2].x,l[2].y],["L",l[2].x,l[2].y],["Z"]):r.push(["M",l[0].x,l[0].y],["L",l[1].x,l[1].y],["L",l[2].x,l[2].y],["L",l[3].x,l[3].y],["Z"]):r.push(["M",l[0].x,l[0].y],["L",l[1].x,l[1].y],["L",i[1].x,i[1].y],["L",i[0].x,i[0].y],["Z"]),r}function wl(l,i,e){var r,g,N,at,Tt=l[0],zt=l[1],ae=l[2],Oe=l[3],ye=[0,0,0,0],Ne=ye[0],Qe=ye[1],gn=ye[2],Tn=ye[3];Tt.y<zt.y?(zt=l[0],Tt=l[1],Oe=l[2],ae=l[3],r=Ts(e,Math.min(Oe.x-Tt.x,Tt.y-zt.y)),Tn=r[0],gn=r[1],Qe=r[2],Ne=r[3]):(g=Ts(e,Math.min(Oe.x-Tt.x,Tt.y-zt.y)),Ne=g[0],Qe=g[1],gn=g[2],Tn=g[3]),i.isTransposed&&(Tt=l[0],Oe=l[1],ae=l[2],zt=l[3],l[0].x>l[1].x?(Oe=l[0],Tt=l[1],zt=l[2],ae=l[3],N=Ts(e,Math.min(Oe.x-Tt.x,Tt.y-zt.y)),Ne=N[0],Tn=N[1],gn=N[2],Qe=N[3]):(at=Ts(e,Math.min(Oe.x-Tt.x,Tt.y-zt.y)),Qe=at[0],gn=at[1],Tn=at[2],Ne=at[3]));var cr=[];return cr.push(["M",zt.x,zt.y+Ne]),Ne!==0&&cr.push(["A",Ne,Ne,0,0,1,zt.x+Ne,zt.y]),cr.push(["L",ae.x-Qe,ae.y]),Qe!==0&&cr.push(["A",Qe,Qe,0,0,1,ae.x,ae.y+Qe]),cr.push(["L",Oe.x,Oe.y-gn]),gn!==0&&cr.push(["A",gn,gn,0,0,1,Oe.x-gn,Oe.y]),cr.push(["L",Tt.x+Tn,Tt.y]),Tn!==0&&cr.push(["A",Tn,Tn,0,0,1,Tt.x,Tt.y-Tn]),cr.push(["L",zt.x,zt.y+Ne]),cr.push(["z"]),cr}var _c=Vi("interval",{defaultShapeType:"rect",getDefaultPoints:function(i){return du(i)}});Zi("interval","rect",{draw:function(i,e){var r=xa(i,!1,!0),g=e,N=i==null?void 0:i.background;if(N){g=e.addGroup();var at=Cs(i),Tt=ju(i,this.parsePoints(i.points),this.coordinate);g.addShape("path",{attrs:Object(lt.a)(Object(lt.a)({},at),{path:Tt}),zIndex:-1,name:di})}var zt;r.radius&&this.coordinate.isRect?zt=wl(this.parsePoints(i.points),this.coordinate,r.radius):zt=this.parsePath(Jo(i.points,r.lineCap,this.coordinate));var ae=g.addShape("path",{attrs:Object(lt.a)(Object(lt.a)({},r),{path:zt}),name:"interval"});return N?g:ae},getMarker:function(i){var e=i.color,r=i.isInPolar;return r?{symbol:"circle",style:{r:4.5,fill:e}}:{symbol:"square",style:{r:4,fill:e}}}});var El=_c;function ec(l,i){var e=l.length,r=l;Object(a.isString)(r[0])&&(r=l.map(function(Tt){return i.translate(Tt)}));for(var g=r[1]-r[0],N=2;N<e;N++){var at=r[N]-r[N-1];g>at&&(g=at)}return g}function Gc(l,i){if(i){var e=Object(a.flatten)(l),r=Object(a.valuesOfKey)(e,i);return r.length}return l.length}function js(l){var i=l.theme,e=l.coordinate,r=l.getXScale(),g=r.values,N=l.beforeMappingData,at=g.length,Tt=pr(l.coordinate),zt=l.intervalPadding,ae=l.dodgePadding,Oe=l.maxColumnWidth||i.maxColumnWidth,ye=l.minColumnWidth||i.minColumnWidth,Ne=l.columnWidthRatio||i.columnWidthRatio,Qe=l.multiplePieWidthRatio||i.multiplePieWidthRatio,gn=l.roseWidthRatio||i.roseWidthRatio;if(r.isLinear&&g.length>1){g.sort();var Tn=ec(g,r);at=(r.max-r.min)/Tn,g.length>at&&(at=g.length)}var cr=r.range,br=1/at,Lr=1;if(e.isPolar?e.isTransposed&&at>1?Lr=Qe:Lr=gn:(r.isLinear&&(br*=cr[1]-cr[0]),Lr=Ne),!Object(a.isNil)(zt)&&zt>=0){var Fr=zt/Tt;br=(1-(at-1)*Fr)/at}else br*=Lr;if(l.getAdjust("dodge")){var li=l.getAdjust("dodge"),Ai=li.dodgeBy,gi=Gc(N,Ai);if(!Object(a.isNil)(ae)&&ae>=0){var Ra=ae/Tt;br=(br-Ra*(gi-1))/gi}else!Object(a.isNil)(zt)&&zt>=0&&(br*=Lr),br=br/gi;br=br>=0?br:0}if(!Object(a.isNil)(Oe)&&Oe>=0){var ra=Oe/Tt;br>ra&&(br=ra)}if(!Object(a.isNil)(ye)&&ye>=0){var ca=ye/Tt;br<ca&&(br=ca)}return br}var nc=function(l){Object(lt.b)(i,l);function i(e){var r=l.call(this,e)||this;r.type="interval",r.shapeType="interval",r.generatePoints=!0;var g=e.background;return r.background=g,r}return i.prototype.createShapePointsCfg=function(e){var r=l.prototype.createShapePointsCfg.call(this,e),g,N=this.getAttribute("size");if(N){g=this.getAttributeValues(N,e)[0];var at=this.coordinate,Tt=pr(at);g=g/Tt}else this.defaultSize||(this.defaultSize=js(this)),g=this.defaultSize;return r.size=g,r},i.prototype.adjustScale=function(){l.prototype.adjustScale.call(this);var e=this.getYScale();if(this.coordinate.type==="theta")e.change({nice:!1,min:0,max:oi(e)});else{var r=this.scaleDefs,g=e.field,N=e.min,at=e.max,Tt=e.type;Tt!=="time"&&(N>0&&!Object(a.get)(r,[g,"min"])&&e.change({min:0}),at<=0&&!Object(a.get)(r,[g,"max"])&&e.change({max:0}))}},i.prototype.getDrawCfg=function(e){var r=l.prototype.getDrawCfg.call(this,e);return r.background=this.background,r},i}(ut),rc=nc,Cl=function(l){Object(lt.b)(i,l);function i(e){var r=l.call(this,e)||this;r.type="line";var g=e.sortable,N=g===void 0?!1:g;return r.sortable=N,r}return i}(Ws),Vu=Cl,Uc=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],wo=["cross","tick","plus","hyphen","line"];function mo(l,i,e,r,g){var N=xa(i,g,!g,"r"),at=l.parsePoints(i.points),Tt=at[0];if(i.isStack)Tt=at[1];else if(at.length>1){for(var zt=e.addGroup(),ae=0,Oe=at;ae<Oe.length;ae++){var ye=Oe[ae];zt.addShape({type:"marker",attrs:Object(lt.a)(Object(lt.a)(Object(lt.a)({},N),{symbol:Li[r]||r}),ye)})}return zt}return e.addShape({type:"marker",attrs:Object(lt.a)(Object(lt.a)(Object(lt.a)({},N),{symbol:Li[r]||r}),Tt)})}var qo=Vi("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(i){return Ms(i)}});Object(a.each)(Uc,function(l){Zi("point","hollow-"+l,{draw:function(e,r){return mo(this,e,r,l,!0)},getMarker:function(e){var r=e.color;return{symbol:Li[l]||l,style:{r:4.5,stroke:r,fill:null}}}})});var Fs=qo,Ml=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.type="point",e.shapeType="point",e.generatePoints=!0,e}return i.prototype.getDrawCfg=function(e){var r=l.prototype.getDrawCfg.call(this,e);return Object(lt.a)(Object(lt.a)({},r),{isStack:!!this.getAdjust("stack")})},i}(ut),_s=Ml;function xc(l){for(var i=l[0],e=1,r=[["M",i.x,i.y]];e<l.length;){var g=l[e];(g.x!==l[e-1].x||g.y!==l[e-1].y)&&(r.push(["L",g.x,g.y]),g.x===i.x&&g.y===i.y&&e<l.length-1&&(i=l[e+1],r.push(["Z"]),r.push(["M",i.x,i.y]),e++)),e++}return Object(a.isEqual)(Object(a.last)(r),i)||r.push(["L",i.x,i.y]),r.push(["Z"]),r}var Yu=Vi("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(i){var e=[];return Object(a.each)(i.x,function(r,g){var N=i.y[g];e.push({x:r,y:N})}),e}});Zi("polygon","polygon",{draw:function(i,e){if(!Object(a.isEmpty)(i.points)){var r=xa(i,!0,!0),g=this.parsePath(xc(i.points));return e.addShape("path",{attrs:Object(lt.a)(Object(lt.a)({},r),{path:g}),name:"polygon"})}},getMarker:function(i){var e=i.color;return{symbol:"square",style:{r:4,fill:e}}}});var Al=Yu,ic=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.type="polygon",e.shapeType="polygon",e.generatePoints=!0,e}return i.prototype.createShapePointsCfg=function(e){var r=l.prototype.createShapePointsCfg.call(this,e),g=r.x,N=r.y,at;if(!(Object(a.isArray)(g)&&Object(a.isArray)(N))){var Tt=this.getXScale(),zt=this.getYScale(),ae=Tt.values.length,Oe=zt.values.length,ye=.5*1/ae,Ne=.5*1/Oe;Tt.isCategory&&zt.isCategory?(g=[g-ye,g-ye,g+ye,g+ye],N=[N-Ne,N+Ne,N+Ne,N-Ne]):Object(a.isArray)(g)?(at=g,g=[at[0],at[0],at[1],at[1]],N=[N-Ne/2,N+Ne/2,N+Ne/2,N-Ne/2]):Object(a.isArray)(N)&&(at=N,N=[at[0],at[1],at[1],at[0]],g=[g-ye/2,g-ye/2,g+ye/2,g+ye/2]),r.x=g,r.y=N}return r},i}(ut),ah=ic,ff=Vi("schema",{defaultShapeType:""}),hf=ff,Tl=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.type="schema",e.shapeType="schema",e.generatePoints=!0,e}return i.prototype.createShapePointsCfg=function(e){var r=l.prototype.createShapePointsCfg.call(this,e),g,N=this.getAttribute("size");if(N){g=this.getAttributeValues(N,e)[0];var at=this.coordinate,Tt=pr(at);g=g/Tt}else this.defaultSize||(this.defaultSize=js(this)),g=this.defaultSize;return r.size=g,r},i}(ut),Cd=Tl;Zi("area","line",{draw:function(i,e){var r=Os(i,!0,!1,this),g=e.addShape({type:"path",attrs:r,name:"area"});return g},getMarker:function(i){var e=i.color;return{symbol:function(g,N,at){return at===void 0&&(at=5.5),[["M",g-at,N-4],["L",g+at,N-4],["L",g+at,N+4],["L",g-at,N+4],["Z"]]},style:{r:5,stroke:e,fill:null}}}}),Zi("area","smooth",{draw:function(i,e){var r=this.coordinate,g=Os(i,!1,!0,this,Ss(r)),N=e.addShape({type:"path",attrs:g,name:"area"});return N},getMarker:function(i){var e=i.color;return{symbol:function(g,N,at){return at===void 0&&(at=5.5),[["M",g-at,N-4],["L",g+at,N-4],["L",g+at,N+4],["L",g-at,N+4],["Z"]]},style:{r:5,fill:e}}}}),Zi("area","smooth-line",{draw:function(i,e){var r=this.coordinate,g=Os(i,!0,!0,this,Ss(r)),N=e.addShape({type:"path",attrs:g,name:"area"});return N},getMarker:function(i){var e=i.color;return{symbol:function(g,N,at){return at===void 0&&(at=5.5),[["M",g-at,N-4],["L",g+at,N-4],["L",g+at,N+4],["L",g-at,N+4],["Z"]]},style:{r:5,stroke:e,fill:null}}}});function zc(l,i){return["C",l.x*1/2+i.x*1/2,l.y,l.x*1/2+i.x*1/2,i.y,i.x,i.y]}function Wc(l,i){var e=[];e.push({x:i.x,y:i.y}),e.push(l);var r=["Q"];return Object(a.each)(e,function(g){r.push(g.x,g.y)}),r}function oh(l,i,e){var r=Wc(i,e),g=[["M",l.x,l.y]];return g.push(r),g}function df(l,i){var e=Wc(l[1],i),r=Wc(l[3],i),g=[["M",l[0].x,l[0].y]];return g.push(r),g.push(["L",l[3].x,l[3].y]),g.push(["L",l[2].x,l[2].y]),g.push(e),g.push(["L",l[1].x,l[1].y]),g.push(["L",l[0].x,l[0].y]),g.push(["Z"]),g}Zi("edge","arc",{draw:function(i,e){var r=xa(i,!0,!1,"lineWidth"),g=i.points,N=g.length>2?"weight":"normal",at;if(i.isInCircle){var Tt={x:0,y:1};return N==="normal"?at=oh(g[0],g[1],Tt):(r.fill=r.stroke,at=df(g,Tt)),at=this.parsePath(at),e.addShape("path",{attrs:Object(lt.a)(Object(lt.a)({},r),{path:at})})}else{if(N==="normal")return g=this.parsePoints(g),at=po((g[1].x+g[0].x)/2,g[0].y,Math.abs(g[1].x-g[0].x)/2,Math.PI,Math.PI*2),e.addShape("path",{attrs:Object(lt.a)(Object(lt.a)({},r),{path:at})});var zt=zc(g[1],g[3]),ae=zc(g[2],g[0]);return at=[["M",g[0].x,g[0].y],["L",g[1].x,g[1].y],zt,["L",g[3].x,g[3].y],["L",g[2].x,g[2].y],ae,["Z"]],at=this.parsePath(at),r.fill=r.stroke,e.addShape("path",{attrs:Object(lt.a)(Object(lt.a)({},r),{path:at})})}},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});function sh(l,i){var e=zc(l,i),r=[["M",l.x,l.y]];return r.push(e),r}Zi("edge","smooth",{draw:function(i,e){var r=xa(i,!0,!1,"lineWidth"),g=i.points,N=this.parsePath(sh(g[0],g[1]));return e.addShape("path",{attrs:Object(lt.a)(Object(lt.a)({},r),{path:N})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var vu=1/3;function vf(l,i){var e=[];e.push({x:l.x,y:l.y*(1-vu)+i.y*vu}),e.push({x:i.x,y:l.y*(1-vu)+i.y*vu}),e.push(i);var r=[["M",l.x,l.y]];return Object(a.each)(e,function(g){r.push(["L",g.x,g.y])}),r}Zi("edge","vhv",{draw:function(i,e){var r=xa(i,!0,!1,"lineWidth"),g=i.points,N=this.parsePath(vf(g[0],g[1]));return e.addShape("path",{attrs:Object(lt.a)(Object(lt.a)({},r),{path:N})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}}),Zi("interval","funnel",{getPoints:function(i){return i.size=i.size*2,du(i)},draw:function(i,e){var r=xa(i,!1,!0),g=this.parsePath(Iu(i.points,i.nextPoints,!1)),N=e.addShape("path",{attrs:Object(lt.a)(Object(lt.a)({},r),{path:g}),name:"interval"});return N},getMarker:function(i){var e=i.color;return{symbol:"square",style:{r:4,fill:e}}}}),Zi("interval","hollow-rect",{draw:function(i,e){var r=xa(i,!0,!1),g=e,N=i==null?void 0:i.background;if(N){g=e.addGroup();var at=Cs(i),Tt=ju(i,this.parsePoints(i.points),this.coordinate);g.addShape("path",{attrs:Object(lt.a)(Object(lt.a)({},at),{path:Tt}),zIndex:-1,name:di})}var zt=this.parsePath(Tu(i.points)),ae=g.addShape("path",{attrs:Object(lt.a)(Object(lt.a)({},r),{path:zt}),name:"interval"});return N?g:ae},getMarker:function(i){var e=i.color,r=i.isInPolar;return r?{symbol:"circle",style:{r:4.5,stroke:e,fill:null}}:{symbol:"square",style:{r:4,stroke:e,fill:null}}}});function jl(l){var i=l.x,e=l.y,r=l.y0;return Object(a.isArray)(e)?e.map(function(g,N){return{x:Object(a.isArray)(i)?i[N]:i,y:g}}):[{x:i,y:r},{x:i,y:e}]}Zi("interval","line",{getPoints:function(i){return jl(i)},draw:function(i,e){var r=xa(i,!0,!1,"lineWidth"),g=ne(Object(lt.a)({},r),["fill"]),N=this.parsePath(Tu(i.points,!1)),at=e.addShape("path",{attrs:Object(lt.a)(Object(lt.a)({},g),{path:N}),name:"interval"});return at},getMarker:function(i){var e=i.color;return{symbol:function(g,N,at){return[["M",g,N-at],["L",g,N+at]]},style:{r:5,stroke:e}}}}),Zi("interval","pyramid",{getPoints:function(i){return i.size=i.size*2,du(i,!0)},draw:function(i,e){var r=xa(i,!1,!0),g=this.parsePath(Iu(i.points,i.nextPoints,!0)),N=e.addShape("path",{attrs:Object(lt.a)(Object(lt.a)({},r),{path:g}),name:"interval"});return N},getMarker:function(i){var e=i.color;return{symbol:"square",style:{r:4,fill:e}}}});function uh(l){var i=l.x,e=l.y,r=l.y0,g=l.size,N,at;Object(a.isArray)(e)?(N=e[0],at=e[1]):(N=r,at=e);var Tt=i+g/2,zt=i-g/2;return[{x:i,y:N},{x:i,y:at},{x:zt,y:N},{x:Tt,y:N},{x:zt,y:at},{x:Tt,y:at}]}function pf(l){return[["M",l[0].x,l[0].y],["L",l[1].x,l[1].y],["M",l[2].x,l[2].y],["L",l[3].x,l[3].y],["M",l[4].x,l[4].y],["L",l[5].x,l[5].y]]}Zi("interval","tick",{getPoints:function(i){return uh(i)},draw:function(i,e){var r=xa(i,!0,!1),g=this.parsePath(pf(i.points)),N=e.addShape("path",{attrs:Object(lt.a)(Object(lt.a)({},r),{path:g}),name:"interval"});return N},getMarker:function(i){var e=i.color;return{symbol:function(g,N,at){return[["M",g-at/2,N-at],["L",g+at/2,N-at],["M",g,N-at],["L",g,N+at],["M",g-at/2,N+at],["L",g+at/2,N+at]]},style:{r:5,stroke:e}}}});var yo=function(i,e,r){var g=i.x,N=i.y,at=e.x,Tt=e.y,zt;switch(r){case"hv":zt=[{x:at,y:N}];break;case"vh":zt=[{x:g,y:Tt}];break;case"hvh":var ae=(at+g)/2;zt=[{x:ae,y:N},{x:ae,y:Tt}];break;case"vhv":var Oe=(N+Tt)/2;zt=[{x:g,y:Oe},{x:at,y:Oe}];break;default:break}return zt};function Md(l,i){var e=[];return Object(a.each)(l,function(r,g){var N=l[g+1];if(e.push(r),N){var at=yo(r,N,i);e=e.concat(at)}}),e}function ch(l){return l.map(function(i,e){return e===0?["M",i.x,i.y]:["L",i.x,i.y]})}function Oc(l,i){var e=Ko(l.points,l.connectNulls,l.showSinglePoint),r=[];return Object(a.each)(e,function(g){var N=Md(g,i);r=r.concat(ch(N))}),Object(lt.a)(Object(lt.a)({},xa(l,!0,!1,"lineWidth")),{path:r})}Object(a.each)(["hv","vh","hvh","vhv"],function(l){Zi("line",l,{draw:function(e,r){var g=Oc(e,l),N=r.addShape({type:"path",attrs:g,name:"line"});return N},getMarker:function(e){return xs(e,l)}})}),Object(a.each)(wo,function(l){Zi("point",l,{draw:function(e,r){return mo(this,e,r,l,!0)},getMarker:function(e){var r=e.color;return{symbol:Li[l],style:{r:4.5,stroke:r,fill:null}}}})}),Zi("point","image",{draw:function(i,e){var r=xa(i,!1,!1,"r").r,g=this.parsePoints(i.points),N=g[0];if(i.isStack)N=g[1];else if(g.length>1){for(var at=e.addGroup(),Tt=0,zt=g;Tt<zt.length;Tt++){var ae=zt[Tt];at.addShape("image",{attrs:{x:ae.x-r/2,y:ae.y-r,width:r,height:r,img:i.shape[1]}})}return at}return e.addShape("image",{attrs:{x:N.x-r/2,y:N.y-r,width:r,height:r,img:i.shape[1]}})},getMarker:function(i){var e=i.color;return{symbol:"circle",style:{r:4.5,fill:e}}}}),Object(a.each)(Uc,function(l){Zi("point",l,{draw:function(e,r){return mo(this,e,r,l,!1)},getMarker:function(e){var r=e.color;return{symbol:Li[l]||l,style:{r:4.5,fill:r}}}})});function Il(l){var i=Object(a.isArray)(l)?l:[l],e=i[0],r=i[i.length-1],g=i.length>1?i[1]:e,N=i.length>3?i[3]:r,at=i.length>2?i[2]:g;return{min:e,max:r,min1:g,max1:N,median:at}}function gf(l,i,e){var r=e/2,g;if(Object(a.isArray)(i)){var N=Il(i),at=N.min,Tt=N.max,zt=N.median,ae=N.min1,Oe=N.max1,ye=l-r,Ne=l+r;g=[[ye,Tt],[Ne,Tt],[l,Tt],[l,Oe],[ye,ae],[ye,Oe],[Ne,Oe],[Ne,ae],[l,ae],[l,at],[ye,at],[Ne,at],[ye,zt],[Ne,zt]]}else{i=Object(a.isNil)(i)?.5:i;var Qe=Il(l),at=Qe.min,Tt=Qe.max,zt=Qe.median,ae=Qe.min1,Oe=Qe.max1,gn=i-r,Tn=i+r;g=[[at,gn],[at,Tn],[at,i],[ae,i],[ae,gn],[ae,Tn],[Oe,Tn],[Oe,gn],[Oe,i],[Tt,i],[Tt,gn],[Tt,Tn],[zt,gn],[zt,Tn]]}return g.map(function(cr){return{x:cr[0],y:cr[1]}})}function mf(l){return[["M",l[0].x,l[0].y],["L",l[1].x,l[1].y],["M",l[2].x,l[2].y],["L",l[3].x,l[3].y],["M",l[4].x,l[4].y],["L",l[5].x,l[5].y],["L",l[6].x,l[6].y],["L",l[7].x,l[7].y],["L",l[4].x,l[4].y],["Z"],["M",l[8].x,l[8].y],["L",l[9].x,l[9].y],["M",l[10].x,l[10].y],["L",l[11].x,l[11].y],["M",l[12].x,l[12].y],["L",l[13].x,l[13].y]]}Zi("schema","box",{getPoints:function(i){var e=i.x,r=i.y,g=i.size;return gf(e,r,g)},draw:function(i,e){var r=xa(i,!0,!1),g=this.parsePath(mf(i.points)),N=e.addShape("path",{attrs:Object(lt.a)(Object(lt.a)({},r),{path:g,name:"schema"})});return N},getMarker:function(i){var e=i.color;return{symbol:function(g,N,at){var Tt=[N-6,N-3,N,N+3,N+6],zt=gf(g,Tt,at);return[["M",zt[0].x+1,zt[0].y],["L",zt[1].x-1,zt[1].y],["M",zt[2].x,zt[2].y],["L",zt[3].x,zt[3].y],["M",zt[4].x,zt[4].y],["L",zt[5].x,zt[5].y],["L",zt[6].x,zt[6].y],["L",zt[7].x,zt[7].y],["L",zt[4].x,zt[4].y],["Z"],["M",zt[8].x,zt[8].y],["L",zt[9].x,zt[9].y],["M",zt[10].x+1,zt[10].y],["L",zt[11].x-1,zt[11].y],["M",zt[12].x,zt[12].y],["L",zt[13].x,zt[13].y]]},style:{r:6,lineWidth:1,stroke:e}}}});function Ys(l){var i=Object(a.isArray)(l)?l:[l],e=i.sort(function(r,g){return g-r});return Qt(e,4,e[e.length-1])}function yf(l,i,e){var r=Ys(i);return[{x:l,y:r[0]},{x:l,y:r[1]},{x:l-e/2,y:r[2]},{x:l-e/2,y:r[1]},{x:l+e/2,y:r[1]},{x:l+e/2,y:r[2]},{x:l,y:r[2]},{x:l,y:r[3]}]}function Pl(l){return[["M",l[0].x,l[0].y],["L",l[1].x,l[1].y],["M",l[2].x,l[2].y],["L",l[3].x,l[3].y],["L",l[4].x,l[4].y],["L",l[5].x,l[5].y],["Z"],["M",l[6].x,l[6].y],["L",l[7].x,l[7].y]]}Zi("schema","candle",{getPoints:function(i){var e=i.x,r=i.y,g=i.size;return yf(e,r,g)},draw:function(i,e){var r=xa(i,!0,!0),g=this.parsePath(Pl(i.points)),N=e.addShape("path",{attrs:Object(lt.a)(Object(lt.a)({},r),{path:g,name:"schema"})});return N},getMarker:function(i){var e=i.color;return{symbol:function(g,N,at){var Tt=[N+7.5,N+3,N-3,N-7.5],zt=yf(g,Tt,at);return[["M",zt[0].x,zt[0].y],["L",zt[1].x,zt[1].y],["M",zt[2].x,zt[2].y],["L",zt[3].x,zt[3].y],["L",zt[4].x,zt[4].y],["L",zt[5].x,zt[5].y],["Z"],["M",zt[6].x,zt[6].y],["L",zt[7].x,zt[7].y]]},style:{lineWidth:1,stroke:e,fill:e,r:6}}}});function bf(l,i){var e=Math.abs(l[0].x-l[2].x),r=Math.abs(l[0].y-l[2].y),g=Math.min(e,r);i&&(g=Object(a.clamp)(i,0,Math.min(e,r))),g=g/2;var N=(l[0].x+l[2].x)/2,at=(l[0].y+l[2].y)/2;return{x:N-g,y:at-g,width:g*2,height:g*2}}Zi("polygon","square",{draw:function(i,e){if(!Object(a.isEmpty)(i.points)){var r=xa(i,!0,!0),g=this.parsePoints(i.points);return e.addShape("rect",{attrs:Object(lt.a)(Object(lt.a)({},r),bf(g,i.size)),name:"polygon"})}},getMarker:function(i){var e=i.color;return{symbol:"square",style:{r:4,fill:e}}}});var lh=function(l){Object(lt.b)(i,l);function i(){return l!==null&&l.apply(this,arguments)||this}return i.prototype.getLabelValueDir=function(e){var r="y",g=e.points;return g[0][r]<=g[2][r]?1:-1},i.prototype.getLabelOffsetPoint=function(e,r,g){var N,at=l.prototype.getLabelOffsetPoint.call(this,e,r,g),Tt=this.getCoordinate().isTransposed,zt=Tt?"x":"y",ae=this.getLabelValueDir(e.mappingData);return Object(lt.a)(Object(lt.a)({},at),(N={},N[zt]=at[zt]*ae,N))},i.prototype.getThemedLabelCfg=function(e){var r=this.geometry,g=this.getDefaultLabelCfg(),N=r.theme;return Object(a.deepMix)({},g,N.labels,e.position==="middle"?{offset:0}:{},e)},i.prototype.setLabelPosition=function(e,r,g,N){var at=this.getCoordinate(),Tt=at.isTransposed,zt=r.points,ae=at.convert(zt[0]),Oe=at.convert(zt[2]),ye=this.getLabelValueDir(r),Ne,Qe,gn,Tn,cr=Object(a.isArray)(r.shape)?r.shape[0]:r.shape;if(cr==="funnel"||cr==="pyramid"){var br=Object(a.get)(r,"nextPoints"),Lr=Object(a.get)(r,"points");if(br){var Fr=at.convert(Lr[0]),li=at.convert(Lr[1]),Ai=at.convert(br[0]),gi=at.convert(br[1]);Tt?(Ne=Math.min(Ai.y,Fr.y),gn=Math.max(Ai.y,Fr.y),Qe=(li.x+gi.x)/2,Tn=(Fr.x+Ai.x)/2):(Ne=Math.min((li.y+gi.y)/2,(Fr.y+Ai.y)/2),gn=Math.max((li.y+gi.y)/2,(Fr.y+Ai.y)/2),Qe=gi.x,Tn=Fr.x)}else Ne=Math.min(Oe.y,ae.y),gn=Math.max(Oe.y,ae.y),Qe=Oe.x,Tn=ae.x}else Ne=Math.min(Oe.y,ae.y),gn=Math.max(Oe.y,ae.y),Qe=Oe.x,Tn=ae.x;switch(N){case"right":e.x=Qe,e.y=(Ne+gn)/2,e.textAlign=Object(a.get)(e,"textAlign",ye>0?"left":"right");break;case"left":e.x=Tn,e.y=(Ne+gn)/2,e.textAlign=Object(a.get)(e,"textAlign",ye>0?"left":"right");break;case"bottom":Tt&&(e.x=(Qe+Tn)/2),e.y=gn,e.textAlign=Object(a.get)(e,"textAlign","center"),e.textBaseline=Object(a.get)(e,"textBaseline",ye>0?"bottom":"top");break;case"middle":Tt&&(e.x=(Qe+Tn)/2),e.y=(Ne+gn)/2,e.textAlign=Object(a.get)(e,"textAlign","center"),e.textBaseline=Object(a.get)(e,"textBaseline","middle");break;case"top":Tt&&(e.x=(Qe+Tn)/2),e.y=Ne,e.textAlign=Object(a.get)(e,"textAlign","center"),e.textBaseline=Object(a.get)(e,"textBaseline",ye>0?"bottom":"top");break;default:break}},i}(ur),fh=lh,ms=Math.PI/2,Pu=function(l){Object(lt.b)(i,l);function i(){return l!==null&&l.apply(this,arguments)||this}return i.prototype.getLabelOffset=function(e){var r=this.getCoordinate(),g=0;if(Object(a.isNumber)(e))g=e;else if(Object(a.isString)(e)&&e.indexOf("%")!==-1){var N=r.getRadius();r.innerRadius>0&&(N=N*(1-r.innerRadius)),g=parseFloat(e)*.01*N}return g},i.prototype.getLabelItems=function(e){var r=l.prototype.getLabelItems.call(this,e),g=this.geometry.getYScale();return Object(a.map)(r,function(N){if(N&&g){var at=g.scale(Object(a.get)(N.data,g.field));return Object(lt.a)(Object(lt.a)({},N),{percent:at})}return N})},i.prototype.getLabelAlign=function(e){var r=this.getCoordinate(),g;if(e.labelEmit)g=e.angle<=Math.PI/2&&e.angle>=-Math.PI/2?"left":"right";else if(!r.isTransposed)g="center";else{var N=r.getCenter(),at=e.offset;Math.abs(e.x-N.x)<1?g="center":e.angle>Math.PI||e.angle<=0?g=at>0?"left":"right":g=at>0?"right":"left"}return g},i.prototype.getLabelPoint=function(e,r,g){var N=1,at,Tt=e.content[g];this.isToMiddle(r)?at=this.getMiddlePoint(r.points):(e.content.length===1&&g===0?g=1:g===0&&(N=-1),at=this.getArcPoint(r,g));var zt=e.offset*N,ae=this.getPointAngle(at),Oe=e.labelEmit,ye=this.getCirclePoint(ae,zt,at,Oe);return ye.r===0?ye.content="":(ye.content=Tt,ye.angle=ae,ye.color=r.color),ye.rotate=e.autoRotate?this.getLabelRotate(ae,zt,Oe):e.rotate,ye.start={x:at.x,y:at.y},ye},i.prototype.getArcPoint=function(e,r){return r===void 0&&(r=0),!Object(a.isArray)(e.x)&&!Object(a.isArray)(e.y)?{x:e.x,y:e.y}:{x:Object(a.isArray)(e.x)?e.x[r]:e.x,y:Object(a.isArray)(e.y)?e.y[r]:e.y}},i.prototype.getPointAngle=function(e){return Or(this.getCoordinate(),e)},i.prototype.getCirclePoint=function(e,r,g,N){var at=this.getCoordinate(),Tt=at.getCenter(),zt=vn(at,g);if(zt===0)return Object(lt.a)(Object(lt.a)({},Tt),{r:zt});var ae=e;if(at.isTransposed&&zt>r&&!N){var Oe=Math.asin(r/(2*zt));ae=e+Oe*2}else zt=zt+r;return{x:Tt.x+zt*Math.cos(ae),y:Tt.y+zt*Math.sin(ae),r:zt}},i.prototype.getLabelRotate=function(e,r,g){var N=e+ms;return g&&(N-=ms),N&&(N>ms?N=N-Math.PI:N<-ms&&(N=N+Math.PI)),N},i.prototype.getMiddlePoint=function(e){var r=this.getCoordinate(),g=e.length,N={x:0,y:0};return Object(a.each)(e,function(at){N.x+=at.x,N.y+=at.y}),N.x/=g,N.y/=g,N=r.convert(N),N},i.prototype.isToMiddle=function(e){return e.x.length>2},i}(ur),Dl=Pu,hh=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.defaultLayout="distribute",e}return i.prototype.getDefaultLabelCfg=function(e,r){var g=l.prototype.getDefaultLabelCfg.call(this,e,r);return Object(a.deepMix)({},g,Object(a.get)(this.geometry.theme,"pieLabels",{}))},i.prototype.getLabelOffset=function(e){return l.prototype.getLabelOffset.call(this,e)||0},i.prototype.getLabelRotate=function(e,r,g){var N;return r<0&&(N=e,N>Math.PI/2&&(N=N-Math.PI),N<-Math.PI/2&&(N=N+Math.PI)),N},i.prototype.getLabelAlign=function(e){var r=this.getCoordinate(),g=r.getCenter(),N;return e.angle<=Math.PI/2&&e.x>=g.x?N="left":N="right",e.offset<=0&&(N==="right"?N="left":N="right"),N},i.prototype.getArcPoint=function(e){return e},i.prototype.getPointAngle=function(e){var r=this.getCoordinate(),g={x:Object(a.isArray)(e.x)?e.x[0]:e.x,y:e.y[0]},N={x:Object(a.isArray)(e.x)?e.x[1]:e.x,y:e.y[1]},at,Tt=Or(r,g);if(e.points&&e.points[0].y===e.points[1].y)at=Tt;else{var zt=Or(r,N);Tt>=zt&&(zt=zt+Math.PI*2),at=Tt+(zt-Tt)/2}return at},i.prototype.getCirclePoint=function(e,r){var g=this.getCoordinate(),N=g.getCenter(),at=g.getRadius()+r;return Object(lt.a)(Object(lt.a)({},sa(N.x,N.y,at,e)),{angle:e,r:at})},i}(Dl),Rl=hh,xf=4;function Of(l,i,e,r,g,N){var at=!0,Tt=r.start,zt=r.end,ae=Math.min(Tt.y,zt.y),Oe=Math.abs(Tt.y-zt.y),ye,Ne=0,Qe=Number.MIN_VALUE,gn=i.map(function(Ai){return Ai.y>Ne&&(Ne=Ai.y),Ai.y<Qe&&(Qe=Ai.y),{size:e,targets:[Ai.y-ae]}});for(Qe-=ae,Ne-ae>Oe&&(Oe=Ne-ae);at;)for(gn.forEach(function(Ai){var gi=(Math.min.apply(Qe,Ai.targets)+Math.max.apply(Qe,Ai.targets))/2;Ai.pos=Math.min(Math.max(Qe,gi-Ai.size/2),Oe-Ai.size)}),at=!1,ye=gn.length;ye--;)if(ye>0){var Tn=gn[ye-1],cr=gn[ye];Tn.pos+Tn.size>cr.pos&&(Tn.size+=cr.size,Tn.targets=Tn.targets.concat(cr.targets),Tn.pos+Tn.size>Oe&&(Tn.pos=Oe-Tn.size),gn.splice(ye,1),at=!0)}ye=0,gn.forEach(function(Ai){var gi=ae+e/2;Ai.targets.forEach(function(){i[ye].y=Ai.pos+gi,gi+=e,ye++})});for(var br={},Lr=0,Fr=l;Lr<Fr.length;Lr++){var li=Fr[Lr];br[li.get("id")]=li}i.forEach(function(Ai){var gi=Ai.r*Ai.r,Ra=Math.pow(Math.abs(Ai.y-g.y),2);if(gi<Ra)Ai.x=g.x;else{var ra=Math.sqrt(gi-Ra);N?Ai.x=g.x+ra:Ai.x=g.x-ra}var ca=br[Ai.id];ca.attr("x",Ai.x),ca.attr("y",Ai.y);var _a=Object(a.find)(ca.getChildren(),function(ka){return ka.get("type")==="text"});_a&&(_a.attr("y",Ai.y),_a.attr("x",Ai.x))})}function Sf(l,i,e,r){if(!(!l.length||!i.length)){var g=l[0]?l[0].offset:0,N=i[0].get("coordinate"),at=N.getRadius(),Tt=N.getCenter();if(g>0){var zt=14,ae=at+g,Oe=ae*2+zt*2,ye={start:N.start,end:N.end},Ne=[[],[]];l.forEach(function(Qe){!Qe||(Qe.textAlign==="right"?Ne[0].push(Qe):Ne[1].push(Qe))}),Ne.forEach(function(Qe,gn){var Tn=Oe/zt;Qe.length>Tn&&(Qe.sort(function(cr,br){return br["..percent"]-cr["..percent"]}),Qe.splice(Tn,Qe.length-Tn)),Qe.sort(function(cr,br){return cr.y-br.y}),Of(i,Qe,zt,ye,Tt,gn)})}Object(a.each)(l,function(Qe){if(Qe&&Qe.labelLine){var gn=Qe.offset,Tn=Qe.angle,cr=sa(Tt.x,Tt.y,at,Tn),br=sa(Tt.x,Tt.y,at+gn/2,Tn),Lr=Qe.x+Object(a.get)(Qe,"offsetX",0),Fr=Qe.y+Object(a.get)(Qe,"offsetY",0),li={x:Lr-Math.cos(Tn)*xf,y:Fr-Math.sin(Tn)*xf};Object(a.isObject)(Qe.labelLine)||(Qe.labelLine={}),Qe.labelLine.path=["M "+cr.x,cr.y+" Q"+br.x,br.y+" "+li.x,li.y].join(",")}})}}function kl(l,i,e){var r=l.filter(function(gn){return!gn.invisible});r.sort(function(gn,Tn){return gn.y-Tn.y});var g=!0,N=e.minY,at=e.maxY,Tt=Math.abs(N-at),zt,ae=0,Oe=Number.MIN_VALUE,ye=r.map(function(gn){return gn.y>ae&&(ae=gn.y),gn.y<Oe&&(Oe=gn.y),{content:gn.content,size:i,targets:[gn.y-N],pos:null}});for(Oe-=N,ae-N>Tt&&(Tt=ae-N);g;)for(ye.forEach(function(gn){var Tn=(Math.min.apply(Oe,gn.targets)+Math.max.apply(Oe,gn.targets))/2;gn.pos=Math.min(Math.max(Oe,Tn-gn.size/2),Tt-gn.size),gn.pos=Math.max(0,gn.pos)}),g=!1,zt=ye.length;zt--;)if(zt>0){var Ne=ye[zt-1],Qe=ye[zt];Ne.pos+Ne.size>Qe.pos&&(Ne.size+=Qe.size,Ne.targets=Ne.targets.concat(Qe.targets),Ne.pos+Ne.size>Tt&&(Ne.pos=Tt-Ne.size),ye.splice(zt,1),g=!0)}zt=0,ye.forEach(function(gn){var Tn=N+i/2;gn.targets.forEach(function(){r[zt].y=gn.pos+Tn,Tn+=i,zt++})})}var Vc=4;function Du(l,i){var e=i.getCenter(),r=i.getRadius();if(l&&l.labelLine){var g=l.angle,N=l.offset,at=sa(e.x,e.y,r,g),Tt=l.x+Object(a.get)(l,"offsetX",0)*(Math.cos(g)>0?1:-1),zt=l.y+Object(a.get)(l,"offsetY",0)*(Math.sin(g)>0?1:-1),ae={x:Tt-Math.cos(g)*Vc,y:zt-Math.sin(g)*Vc},Oe=l.labelLine.smooth,ye=[],Ne=ae.x-e.x,Qe=ae.y-e.y,gn=Math.atan(Qe/Ne);if(Ne<0&&(gn+=Math.PI),Oe===!1){Object(a.isObject)(l.labelLine)||(l.labelLine={});var Tn=0;(g<0&&g>-Math.PI/2||g>Math.PI*1.5)&&ae.y>at.y&&(Tn=1),g>=0&&g<Math.PI/2&&ae.y>at.y&&(Tn=1),g>=Math.PI/2&&g<Math.PI&&at.y>ae.y&&(Tn=1),(g<-Math.PI/2||g>=Math.PI&&g<Math.PI*1.5)&&at.y>ae.y&&(Tn=1);var cr=N/2>4?4:Math.max(N/2-1,0),br=sa(e.x,e.y,r+cr,g),Lr=sa(e.x,e.y,r+N/2,gn),Fr=0;ye.push("M "+at.x+" "+at.y),ye.push("L "+br.x+" "+br.y),ye.push("A "+e.x+" "+e.y+" 0 "+Fr+" "+Tn+" "+Lr.x+" "+Lr.y),ye.push("L "+ae.x+" "+ae.y)}else{var br=sa(e.x,e.y,r+(N/2>4?4:Math.max(N/2-1,0)),g),li=at.x<e.x?1:-1;ye.push("M "+ae.x+" "+ae.y);var Ai=(at.y-e.y)/(at.x-e.x),gi=(ae.y-e.y)/(ae.x-e.x);Math.abs(Ai-gi)>Math.pow(Math.E,-16)&&ye.push.apply(ye,["C",ae.x+li*4,ae.y,2*br.x-at.x,2*br.y-at.y,at.x,at.y]),ye.push("L "+at.x+" "+at.y)}l.labelLine.path=ye.join(" ")}}function Yc(l,i,e,r){var g=Object(a.filter)(l,function(gi){return!Object(a.isNil)(gi)}),N=i[0]&&i[0].get("coordinate");if(!!N){for(var at=N.getCenter(),Tt=N.getRadius(),zt={},ae=0,Oe=i;ae<Oe.length;ae++){var ye=Oe[ae];zt[ye.get("id")]=ye}var Ne=Object(a.get)(g[0],"labelHeight",14),Qe=Object(a.get)(g[0],"offset",0);if(!(Qe<=0)){var gn="left",Tn="right",cr=Object(a.groupBy)(g,function(gi){return gi.x<at.x?gn:Tn}),br=N.start,Lr=N.end,Fr=Math.min((Tt+Qe+Ne)*2,N.getHeight()),li=Fr/2,Ai={minX:br.x,maxX:Lr.x,minY:at.y-li,maxY:at.y+li};Object(a.each)(cr,function(gi,Ra){var ra=Math.floor(Fr/Ne);gi.length>ra&&(gi.sort(function(ca,_a){return _a.percent-ca.percent}),Object(a.each)(gi,function(ca,_a){_a+1>ra&&(zt[ca.id].set("visible",!1),ca.invisible=!0)})),kl(gi,Ne,Ai)}),Object(a.each)(cr,function(gi,Ra){Object(a.each)(gi,function(ra){var ca=Ra===Tn,_a=zt[ra.id],ka=_a.getChildByIndex(0);if(ka){var K=Tt+Qe,G=ra.y-at.y,w=Math.pow(K,2),B=Math.pow(G,2),Z=w-B>0?w-B:0,Pt=Math.sqrt(Z),_t=Math.abs(Math.cos(ra.angle)*K);ca?ra.x=at.x+Math.max(Pt,_t):ra.x=at.x-Math.max(Pt,_t)}ka&&(ka.attr("y",ra.y),ka.attr("x",ra.x)),Du(ra,N)})})}}}var pu=4,dh=4,wf=4;function Xs(l,i,e){var r=i.getCenter(),g=i.getRadius(),N={x:l.x-(e?wf:-wf),y:l.y},at=sa(r.x,r.y,g+pu,l.angle),Tt={x:N.x,y:N.y},zt={x:at.x,y:at.y},ae=sa(r.x,r.y,g,l.angle),Oe="";if(N.y!==at.y){var ye=e?4:-4;Tt.y=N.y,l.angle<0&&l.angle>=-Math.PI/2&&(Tt.x=Math.max(at.x,N.x-ye),N.y<at.y?zt.y=Tt.y:(zt.y=at.y,zt.x=Math.max(zt.x,Tt.x-ye))),l.angle>0&&l.angle<Math.PI/2&&(Tt.x=Math.max(at.x,N.x-ye),N.y>at.y?zt.y=Tt.y:(zt.y=at.y,zt.x=Math.max(zt.x,Tt.x-ye))),l.angle>Math.PI/2&&(Tt.x=Math.min(at.x,N.x-ye),N.y>at.y?zt.y=Tt.y:(zt.y=at.y,zt.x=Math.min(zt.x,Tt.x-ye))),l.angle<-Math.PI/2&&(Tt.x=Math.min(at.x,N.x-ye),N.y<at.y?zt.y=Tt.y:(zt.y=at.y,zt.x=Math.min(zt.x,Tt.x-ye)))}Oe=["M "+N.x+","+N.y,"L "+Tt.x+","+Tt.y,"L "+zt.x+","+zt.y,"L "+at.x+","+at.y,"L "+ae.x+","+ae.y].join(" "),l.labelLine=Object(a.deepMix)({},l.labelLine,{path:Oe})}function Ad(l,i,e,r){var g=i[0]&&i[0].get("coordinate");if(!!g){for(var N=g.getCenter(),at=g.getRadius(),Tt={},zt=0,ae=i;zt<ae.length;zt++){var Oe=ae[zt];Tt[Oe.get("id")]=Oe}var ye=Object(a.get)(l[0],"labelHeight",14),Ne=Math.max(Object(a.get)(l[0],"offset",0),pu);Object(a.each)(l,function(gi){var Ra=Object(a.get)(Tt,gi.id);if(!!Ra){var ra=gi.x>N.x||gi.x===N.x&&gi.y>N.y,ca=Object(a.isNil)(gi.offsetX)?dh:gi.offsetX,_a=sa(N.x,N.y,at+pu,gi.angle),ka=Ne+ca;gi.x=N.x+(ra?1:-1)*(at+ka),gi.y=_a.y}});var Qe=g.start,gn=g.end,Tn="left",cr="right",br=Object(a.groupBy)(l,function(gi){return gi.x<N.x?Tn:cr}),Lr=(at+Ne)*2+ye;Object(a.each)(br,function(gi){var Ra=gi.length*ye;Ra>Lr&&(Lr=Math.min(Ra,Math.abs(Qe.y-gn.y)))});var Fr={minX:Qe.x,maxX:gn.x,minY:N.y-Lr/2,maxY:N.y+Lr/2};Object(a.each)(br,function(gi,Ra){var ra=Lr/ye;gi.length>ra&&(gi.sort(function(ca,_a){return _a.percent-ca.percent}),Object(a.each)(gi,function(ca,_a){_a>ra&&(Tt[ca.id].set("visible",!1),ca.invisible=!0)})),kl(gi,ye,Fr)});var li=Fr.minY,Ai=Fr.maxY;Object(a.each)(br,function(gi,Ra){var ra=Ra===cr;Object(a.each)(gi,function(ca){var _a=Object(a.get)(Tt,ca&&ca.id);if(!!_a){if(ca.y<li||ca.y>Ai){_a.set("visible",!1);return}var ka=_a.getChildByIndex(0),K=ka.getCanvasBBox(),G={x:ra?K.x:K.maxX,y:K.y+K.height/2};Ut(ka,ca.x-G.x,ca.y-G.y),ca.labelLine&&Xs(ca,g,ra)}})})}}function vh(l,i,e,r){Object(a.each)(i,function(g){var N=r.minX,at=r.minY,Tt=r.maxX,zt=r.maxY,ae=g.getCanvasBBox(),Oe=ae.minX,ye=ae.minY,Ne=ae.maxX,Qe=ae.maxY,gn=ae.x,Tn=ae.y,cr=ae.width,br=ae.height,Lr=gn,Fr=Tn;(Oe<N||Ne<N)&&(Lr=N),(ye<at||Qe<at)&&(Fr=at),Oe>Tt?Lr=Tt-cr:Ne>Tt&&(Lr=Lr-(Ne-Tt)),ye>zt?Fr=zt-br:Qe>zt&&(Fr=Fr-(Qe-zt)),(Lr!==gn||Fr!==Tn)&&Ut(g,Lr-gn,Fr-Tn)})}function ac(l,i,e,r){Object(a.each)(i,function(g,N){var at=g.getCanvasBBox(),Tt=e[N].getBBox();(at.minX<Tt.minX||at.minY<Tt.minY||at.maxX>Tt.maxX||at.maxY>Tt.maxY)&&g.remove(!0)})}var Ef=100,gu=function(){function l(i){i===void 0&&(i={}),this.bitmap={};var e=i.xGap,r=e===void 0?1:e,g=i.yGap,N=g===void 0?8:g;this.xGap=r,this.yGap=N}return l.prototype.hasGap=function(i){for(var e=!0,r=this.bitmap,g=Math.round(i.minX),N=Math.round(i.maxX),at=Math.round(i.minY),Tt=Math.round(i.maxY),zt=g;zt<=N;zt+=1){if(!r[zt]){r[zt]={};continue}if(zt===g||zt===N){for(var ae=at;ae<=Tt;ae++)if(r[zt][ae]){e=!1;break}}else if(r[zt][at]||r[zt][Tt]){e=!1;break}}return e},l.prototype.fillGap=function(i){for(var e=this.bitmap,r=Math.round(i.minX),g=Math.round(i.maxX),N=Math.round(i.minY),at=Math.round(i.maxY),Tt=r;Tt<=g;Tt+=1)e[Tt]||(e[Tt]={});for(var Tt=r;Tt<=g;Tt+=this.xGap){for(var zt=N;zt<=at;zt+=this.yGap)e[Tt][zt]=!0;e[Tt][at]=!0}if(this.yGap!==1)for(var Tt=N;Tt<=at;Tt+=1)e[r][Tt]=!0,e[g][Tt]=!0;if(this.xGap!==1)for(var Tt=r;Tt<=g;Tt+=1)e[Tt][N]=!0,e[Tt][at]=!0},l.prototype.destroy=function(){this.bitmap={}},l}();function Xc(l,i,e){e===void 0&&(e=Ef);var r=-1,g=l.attr(),N=g.x,at=g.y,Tt=l.getCanvasBBox(),zt=Math.sqrt(Tt.width*Tt.width+Tt.height*Tt.height),ae,Oe=-r,ye=0,Ne=0,Qe=function(Lr){var Fr=Lr*.1;return[Fr*Math.cos(Fr),Fr*Math.sin(Fr)]};if(i.hasGap(Tt))return i.fillGap(Tt),!0;for(var gn=!1,Tn=0,cr={};Math.min(Math.abs(ye),Math.abs(Ne))<zt&&Tn<e;)if(ae=Qe(Oe+=r),ye=~~ae[0],Ne=~~ae[1],!(!ye&&!Ne||cr[ye+"-"+Ne])&&(l.attr({x:N+ye,y:at+Ne}),ye+Ne<0&&l.attr("textAlign","right"),Tn++,i.hasGap(l.getCanvasBBox()))){i.fillGap(l.getCanvasBBox()),gn=!0,cr[ye+"-"+Ne]=!0;break}return gn}function Is(l,i,e,r){var g=l.getCanvasBBox(),N=g.width,at=g.height,Tt={x:i,y:e,textAlign:"center"};switch(r){case 0:Tt.y-=at+1,Tt.x+=1,Tt.textAlign="left";break;case 1:Tt.y-=at+1,Tt.x-=1,Tt.textAlign="right";break;case 2:Tt.y+=at+1,Tt.x-=1,Tt.textAlign="right";break;case 3:Tt.y+=at+1,Tt.x+=1,Tt.textAlign="left";break;case 5:Tt.y-=at*2+2;break;case 6:Tt.y+=at*2+2;break;case 7:Tt.x+=N+1,Tt.textAlign="left";break;case 8:Tt.x-=N+1,Tt.textAlign="right";break;default:break}return l.attr(Tt),l.getCanvasBBox()}function mu(l,i,e,r){var g=new gu;Object(a.each)(i,function(N){var at=N.find(function(Tt){return Tt.get("type")==="text"});Xc(at,g)||N.remove(!0)}),g.destroy()}function os(l,i,e,r){var g=new gu;Object(a.each)(i,function(N){for(var at=N.find(function(Qe){return Qe.get("type")==="text"}),Tt=at.attr(),zt=Tt.x,ae=Tt.y,Oe=!1,ye=0;ye<=8;ye++){var Ne=Is(at,zt,ae,ye);if(g.hasGap(Ne)){g.fillGap(Ne),Oe=!0;break}}Oe||N.remove(!0)}),g.destroy()}var au=Yr.c.dot;function Cf(l){if(l.length>4)return[];var i=function(N,at){return[at.x-N.x,at.y-N.y]},e=i(l[0],l[1]),r=i(l[1],l[2]);return[e,r]}function Hc(l,i,e){i===void 0&&(i=0),e===void 0&&(e={x:0,y:0});var r=l.x,g=l.y;return{x:(r-e.x)*Math.cos(-i)+(g-e.y)*Math.sin(-i)+e.x,y:(e.x-r)*Math.sin(-i)+(g-e.y)*Math.cos(-i)+e.y}}function oc(l){var i=[{x:l.x,y:l.y},{x:l.x+l.width,y:l.y},{x:l.x+l.width,y:l.y+l.height},{x:l.x,y:l.y+l.height}],e=l.rotation;return e?[Hc(i[0],e,i[0]),Hc(i[1],e,i[0]),Hc(i[2],e,i[0]),Hc(i[3],e,i[0])]:i}function Xu(l,i){if(l.length>4)return{min:0,max:0};var e=[];return l.forEach(function(r){e.push(au([r.x,r.y],i))}),{min:Math.min.apply(Math,e),max:Math.max.apply(Math,e)}}function Do(l,i){return l.max>i.min&&l.min<i.max}function Kc(l,i,e){return e===void 0&&(e=0),!(i.x>l.x+l.width+e||i.x+i.width<l.x-e||i.y>l.y+l.height+e||i.y+i.height<l.y-e)}function sc(l,i){if(!l.rotation&&!i.rotation)return Kc(l,i);for(var e=oc(l),r=oc(i),g=Object(lt.d)(Cf(e),Cf(r)),N=0;N<g.length;N++){var at=g[N],Tt=Xu(e,at),zt=Xu(r,at);if(!Do(Tt,zt))return!1}return!0}function Mf(l,i,e,r){for(var g=0;g<i.length;g++){var N=i[g];if(i[g].get("visible"))for(var at=g+1;at<i.length;at++){var Tt=i[at];if(N&&Tt&&N!==Tt&&Tt.get("visible")){var zt=Ue(N,l[g],Object(a.get)(l[g],"background.padding")),ae=Ue(Tt,l[at],Object(a.get)(l[at],"background.padding"));sc(zt,ae)&&i[at].set("visible",!1)}}}}var Hu={"#5B8FF9":!0},Sc=function(i){var e=Ct.a.toRGB(i).toUpperCase();if(Hu[e])return Hu[e];var r=Ct.a.rgb2arr(e),g=r[0],N=r[1],at=r[2],Tt=(g*299+N*587+at*114)/1e3<128;return Tt};function ph(l,i,e){if(e.length!==0){var r=e[0].get("element"),g=r.geometry.theme,N=g.labels||{},at=N.fillColorLight,Tt=N.fillColorDark;e.forEach(function(zt,ae){var Oe=i[ae],ye=Oe.find(function(br){return br.get("type")==="text"}),Ne=en.fromObject(zt.getBBox()),Qe=en.fromObject(ye.getCanvasBBox()),gn=!Ne.contains(Qe),Tn=zt.attr("fill"),cr=Sc(Tn);gn?ye.attr(g.overflowLabels.style):cr?at&&ye.attr("fill",at):Tt&&ye.attr("fill",Tt)})}}function Af(l,i,e){var r=l.coordinate,g=Ie(i),N=en.fromObject(g.getCanvasBBox()),at=en.fromObject(e.getBBox());return r.isTransposed?at.height>=N.height:at.width>=N.width}function Jc(l,i,e){var r=!!l.getAdjust("stack");return r||i.every(function(g,N){var at=e[N];return Af(l,g,at)})}function Qc(l,i,e){var r=l.coordinate,g=en.fromObject(e.getBBox()),N=Ie(i);r.isTransposed?N.attr({x:g.minX+g.width/2,textAlign:"center"}):N.attr({y:g.minY+g.height/2,textBaseline:"middle"})}function Tf(l,i,e){var r;if(e.length!==0){var g=(r=e[0])===null||r===void 0?void 0:r.get("element"),N=g==null?void 0:g.geometry;if(!(!N||N.type!=="interval")){var at=Jc(N,i,e);at&&e.forEach(function(Tt,zt){var ae=i[zt];Qc(N,ae,Tt)})}}}function Js(l){var i=500,e=[],r=Math.max(Math.floor(l.length/i),1);return Object(a.each)(l,function(g,N){N%r==0?e.push(g):g.set("visible",!1)}),e}function Ku(l,i,e){var r;if(e.length!==0){var g=(r=e[0])===null||r===void 0?void 0:r.get("element"),N=g==null?void 0:g.geometry;if(!(!N||N.type!=="interval")){var at=Js(i),Tt=N.getXYFields()[0],zt=[],ae=[],Oe=Object(a.groupBy)(at,function(Tn){return Tn.get("data")[Tt]}),ye=Object(a.uniq)(Object(a.map)(at,function(Tn){return Tn.get("data")[Tt]})),Ne;at.forEach(function(Tn){Tn.set("visible",!0)});var Qe=function(cr){cr&&(cr.length&&ae.push(cr.pop()),ae.push.apply(ae,cr))};for(Object(a.size)(ye)>0&&(Ne=ye.shift(),Qe(Oe[Ne])),Object(a.size)(ye)>0&&(Ne=ye.pop(),Qe(Oe[Ne])),Object(a.each)(ye.reverse(),function(Tn){Qe(Oe[Tn])});ae.length>0;){var gn=ae.shift();gn.get("visible")&&(An(gn,zt)?gn.set("visible",!1):zt.push(gn))}}}}function Zc(l,i){var e=l.getXYFields()[1],r=[],g=i.sort(function(N,at){return N.get("data")[e]-N.get("data")[e]});return g.length>0&&r.push(g.shift()),g.length>0&&r.push(g.pop()),r.push.apply(r,g),r}function gh(l,i,e){return l.some(function(r){return e(r,i)})}function $c(l,i,e){e===void 0&&(e=0);var r=Math.max(0,Math.min(l.x+l.width+e,i.x+i.width+e)-Math.max(l.x-e,i.x-e)),g=Math.max(0,Math.min(l.y+l.height+e,i.y+i.height+e)-Math.max(l.y-e,i.y-e));return r*g}function qc(l,i){return gh(l,i,function(e,r){var g=Ie(e),N=Ie(r);return $c(g.getCanvasBBox(),N.getCanvasBBox(),2)>0})}function mh(l,i,e,r,g){var N,at;if(e.length!==0){var Tt=(N=e[0])===null||N===void 0?void 0:N.get("element"),zt=Tt==null?void 0:Tt.geometry;if(!(!zt||zt.type!=="point")){var ae=zt.getXYFields(),Oe=ae[0],ye=ae[1],Ne=Object(a.groupBy)(i,function(Tn){return Tn.get("data")[Oe]}),Qe=[],gn=g&&g.offset||((at=l[0])===null||at===void 0?void 0:at.offset)||12;Object(a.map)(Object(a.keys)(Ne).reverse(),function(Tn){for(var cr=Zc(zt,Ne[Tn]);cr.length;){var br=cr.shift(),Lr=Ie(br);if(gh(Qe,br,function(Ai,gi){return Ai.get("data")[Oe]===gi.get("data")[Oe]&&Ai.get("data")[ye]===gi.get("data")[ye]})){Lr.set("visible",!1);continue}var Fr=qc(Qe,br),li=!1;if(Fr&&(Lr.attr("y",Lr.attr("y")+2*gn),li=qc(Qe,br)),li){Lr.set("visible",!1);continue}Qe.push(br)}})}}}function Mi(l,i){var e=l.getXYFields()[1],r=[],g=i.sort(function(N,at){return N.get("data")[e]-N.get("data")[e]});return g.length>0&&r.push(g.shift()),g.length>0&&r.push(g.pop()),r.push.apply(r,g),r}function jf(l,i,e){return l.some(function(r){return e(r,i)})}function If(l,i,e){e===void 0&&(e=0);var r=Math.max(0,Math.min(l.x+l.width+e,i.x+i.width+e)-Math.max(l.x-e,i.x-e)),g=Math.max(0,Math.min(l.y+l.height+e,i.y+i.height+e)-Math.max(l.y-e,i.y-e));return r*g}function ou(l,i){return jf(l,i,function(e,r){var g=Ie(e),N=Ie(r);return If(g.getCanvasBBox(),N.getCanvasBBox(),2)>0})}function Pf(l,i,e,r,g){var N,at;if(e.length!==0){var Tt=(N=e[0])===null||N===void 0?void 0:N.get("element"),zt=Tt==null?void 0:Tt.geometry;if(!(!zt||["path","line","area"].indexOf(zt.type)<0)){var ae=zt.getXYFields(),Oe=ae[0],ye=ae[1],Ne=Object(a.groupBy)(i,function(Tn){return Tn.get("data")[Oe]}),Qe=[],gn=g&&g.offset||((at=l[0])===null||at===void 0?void 0:at.offset)||12;Object(a.map)(Object(a.keys)(Ne).reverse(),function(Tn){for(var cr=Mi(zt,Ne[Tn]);cr.length;){var br=cr.shift(),Lr=Ie(br);if(jf(Qe,br,function(Ai,gi){return Ai.get("data")[Oe]===gi.get("data")[Oe]&&Ai.get("data")[ye]===gi.get("data")[ye]})){Lr.set("visible",!1);continue}var Fr=ou(Qe,br),li=!1;if(Fr&&(Lr.attr("y",Lr.attr("y")+2*gn),li=ou(Qe,br)),li){Lr.set("visible",!1);continue}Qe.push(br)}})}}}var tl;function yh(){return tl||(tl=document.createElement("canvas").getContext("2d")),tl}var wc=Object(a.memoize)(function(l,i){i===void 0&&(i={});var e=i.fontSize,r=i.fontFamily,g=i.fontWeight,N=i.fontStyle,at=i.fontVariant,Tt=yh();return Tt.font=[N,at,g,e+"px",r].join(" "),Tt.measureText(Object(a.isString)(l)?l:"").width},function(l,i){return i===void 0&&(i={}),Object(lt.d)([l],Object(a.values)(i)).join("")}),bh=function(i,e,r){var g=16,N=wc("...",r),at;Object(a.isString)(i)?at=i:at=Object(a.toString)(i);var Tt=e,zt=[],ae,Oe;if(wc(i,r)<=e)return i;for(;ae=at.substr(0,g),Oe=wc(ae,r),!(Oe+N>Tt&&Oe>Tt);)if(zt.push(ae),Tt-=Oe,at=at.substr(g),!at)return zt.join("");for(;ae=at.substr(0,1),Oe=wc(ae,r),!(Oe+N>Tt);)if(zt.push(ae),Tt-=Oe,at=at.substr(1),!at)return zt.join("");return zt.join("")+"..."};function xh(l,i,e,r,g){if(!(i.length<=0)){var N=(g==null?void 0:g.direction)||["top","right","bottom","left"],at=(g==null?void 0:g.action)||"translate",Tt=(g==null?void 0:g.margin)||0,zt=i[0].get("coordinate");if(!!zt){var ae=Pr(zt,Tt),Oe=ae.minX,ye=ae.minY,Ne=ae.maxX,Qe=ae.maxY;Object(a.each)(i,function(gn){var Tn=gn.getCanvasBBox(),cr=Tn.minX,br=Tn.minY,Lr=Tn.maxX,Fr=Tn.maxY,li=Tn.x,Ai=Tn.y,gi=Tn.width,Ra=Tn.height,ra=li,ca=Ai;if(N.indexOf("left")>=0&&(cr<Oe||Lr<Oe)&&(ra=Oe),N.indexOf("top")>=0&&(br<ye||Fr<ye)&&(ca=ye),N.indexOf("right")>=0&&(cr>Ne?ra=Ne-gi:Lr>Ne&&(ra=ra-(Lr-Ne))),N.indexOf("bottom")>=0&&(br>Qe?ca=Qe-Ra:Fr>Qe&&(ca=ca-(Fr-Qe))),ra!==li||ca!==Ai){var _a=ra-li;if(at==="translate")Ut(gn,_a,ca-Ai);else if(at==="ellipsis"){var ka=gn.findAll(function(K){return K.get("type")==="text"});ka.forEach(function(K){var G=Object(a.pick)(K.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),w=K.getCanvasBBox(),B=bh(K.attr("text"),w.width-Math.abs(_a),G);K.attr("text",B)})}else gn.hide()}})}}}function yu(l,i,e){var r={fillOpacity:Object(a.isNil)(l.attr("fillOpacity"))?1:l.attr("fillOpacity"),strokeOpacity:Object(a.isNil)(l.attr("strokeOpacity"))?1:l.attr("strokeOpacity"),opacity:Object(a.isNil)(l.attr("opacity"))?1:l.attr("opacity")};l.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),l.animate(r,i)}function Ju(l,i,e){var r={fillOpacity:0,strokeOpacity:0,opacity:0},g=i.easing,N=i.duration,at=i.delay;l.animate(r,N,g,function(){l.remove(!0)},at)}function Nl(l,i,e){var r,g=i[0],N=i[1];return l.applyToMatrix([g,N,1]),e==="x"?(l.setMatrix(Yr.a.transform(l.getMatrix(),[["t",-g,-N],["s",.01,1],["t",g,N]])),r=Yr.a.transform(l.getMatrix(),[["t",-g,-N],["s",100,1],["t",g,N]])):e==="y"?(l.setMatrix(Yr.a.transform(l.getMatrix(),[["t",-g,-N],["s",1,.01],["t",g,N]])),r=Yr.a.transform(l.getMatrix(),[["t",-g,-N],["s",1,100],["t",g,N]])):e==="xy"&&(l.setMatrix(Yr.a.transform(l.getMatrix(),[["t",-g,-N],["s",.01,.01],["t",g,N]])),r=Yr.a.transform(l.getMatrix(),[["t",-g,-N],["s",100,100],["t",g,N]])),r}function Ec(l,i,e,r,g){var N=e.start,at=e.end,Tt=e.getWidth(),zt=e.getHeight(),ae,Oe;g==="y"?(ae=N.x+Tt/2,Oe=r.y<N.y?r.y:N.y):g==="x"?(ae=r.x>N.x?r.x:N.x,Oe=N.y+zt/2):g==="xy"&&(e.isPolar?(ae=e.getCenter().x,Oe=e.getCenter().y):(ae=(N.x+at.x)/2,Oe=(N.y+at.y)/2));var ye=Nl(l,[ae,Oe],g);l.animate({matrix:ye},i)}function el(l,i,e){var r=e.coordinate,g=e.minYPoint;Ec(l,i,r,g,"x")}function uc(l,i,e){var r=e.coordinate,g=e.minYPoint;Ec(l,i,r,g,"y")}function Da(l,i,e){var r=e.coordinate,g=e.minYPoint;Ec(l,i,r,g,"xy")}function nl(l,i,e){var r=l.getTotalLength();l.attr("lineDash",[r]),l.animate(function(g){return{lineDashOffset:(1-g)*r}},i)}function su(l,i,e){var r=e.toAttrs,g=r.x,N=r.y;delete r.x,delete r.y,l.attr(r),l.animate({x:g,y:N},i)}function uu(l,i,e){var r=l.getBBox(),g=l.get("origin").mappingData,N=g.points,at=N[0].y-N[1].y>0?r.maxX:r.minX,Tt=(r.minY+r.maxY)/2;l.applyToMatrix([at,Tt,1]);var zt=Yr.a.transform(l.getMatrix(),[["t",-at,-Tt],["s",.01,1],["t",at,Tt]]);l.setMatrix(zt),l.animate({matrix:Yr.a.transform(l.getMatrix(),[["t",-at,-Tt],["s",100,1],["t",at,Tt]])},i)}function Ru(l,i,e){var r=l.getBBox(),g=l.get("origin").mappingData,N=(r.minX+r.maxX)/2,at=g.points,Tt=at[0].y-at[1].y<=0?r.maxY:r.minY;l.applyToMatrix([N,Tt,1]);var zt=Yr.a.transform(l.getMatrix(),[["t",-N,-Tt],["s",1,.01],["t",N,Tt]]);l.setMatrix(zt),l.animate({matrix:Yr.a.transform(l.getMatrix(),[["t",-N,-Tt],["s",1,100],["t",N,Tt]])},i)}function Ps(l,i){var e,r=Object(es.getArcParams)(l,i),g=r.startAngle,N=r.endAngle;return!Object(a.isNumberEqual)(g,-Math.PI*.5)&&g<-Math.PI*.5&&(g+=Math.PI*2),!Object(a.isNumberEqual)(N,-Math.PI*.5)&&N<-Math.PI*.5&&(N+=Math.PI*2),i[5]===0&&(e=[N,g],g=e[0],N=e[1]),Object(a.isNumberEqual)(g,Math.PI*1.5)&&(g=Math.PI*-.5),Object(a.isNumberEqual)(N,Math.PI*-.5)&&(N=Math.PI*1.5),{startAngle:g,endAngle:N}}function cc(l){var i;return l[0]==="M"||l[0]==="L"?i=[l[1],l[2]]:(l[0]==="a"||l[0]==="A")&&(i=[l[l.length-2],l[l.length-1]]),i}function Qo(l){var i,e,r,g=l.filter(function(Fr){return Fr[0]==="A"||Fr[0]==="a"});if(g.length===0)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var N=g[0],at=g.length>1?g[1]:g[0],Tt=l.indexOf(N),zt=l.indexOf(at),ae=cc(l[Tt-1]),Oe=cc(l[zt-1]),ye=Ps(ae,N),Ne=ye.startAngle,Qe=ye.endAngle,gn=Ps(Oe,at),Tn=gn.startAngle,cr=gn.endAngle;Object(a.isNumberEqual)(Ne,Tn)&&Object(a.isNumberEqual)(Qe,cr)?(e=Ne,r=Qe):(e=Math.min(Ne,Tn),r=Math.max(Qe,cr));var br=N[1],Lr=g[g.length-1][1];return br<Lr?(i=[Lr,br],br=i[0],Lr=i[1]):br===Lr&&(Lr=0),{startAngle:e,endAngle:r,radius:br,innerRadius:Lr}}function rl(l,i,e){var r=e.toAttrs,g=e.coordinate,N=r.path||[],at=N.map(function(Lr){return Lr[0]});if(!(N.length<1)){var Tt=Qo(N),zt=Tt.startAngle,ae=Tt.endAngle,Oe=Tt.radius,ye=Tt.innerRadius,Ne=Qo(l.attr("path")),Qe=Ne.startAngle,gn=Ne.endAngle,Tn=g.getCenter(),cr=zt-Qe,br=ae-gn;l.animate(function(Lr){var Fr=Qe+Lr*cr,li=gn+Lr*br;return Object(lt.a)(Object(lt.a)({},r),{path:Object(a.isEqual)(at,["M","A","A","Z"])?po(Tn.x,Tn.y,Oe,Fr,li):Xa(Tn.x,Tn.y,Oe,Fr,li,ye)})},Object(lt.a)(Object(lt.a)({},i),{callback:function(){l.attr("path",N)}}))}}function Ll(l,i,e){var r=Br(e.coordinate,20),g=r.type,N=r.startState,at=r.endState,Tt=l.setClip({type:g,attrs:N});Tt.animate(at,Object(lt.a)(Object(lt.a)({},i),{callback:function(){l&&!l.get("destroyed")&&l.set("clipShape",null),Tt.remove(!0)}}))}function Hs(l,i,e){if(l.isGroup())Object(a.each)(l.getChildren(),function(Tt){Hs(Tt,i,e)});else{var r=l.getBBox(),g=(r.minX+r.maxX)/2,N=(r.minY+r.maxY)/2;if(l.applyToMatrix([g,N,1]),e==="zoomIn"){var at=Yr.a.transform(l.getMatrix(),[["t",-g,-N],["s",.01,.01],["t",g,N]]);l.setMatrix(at),l.animate({matrix:Yr.a.transform(l.getMatrix(),[["t",-g,-N],["s",100,100],["t",g,N]])},i)}else l.animate({matrix:Yr.a.transform(l.getMatrix(),[["t",-g,-N],["s",.01,.01],["t",g,N]])},Object(lt.a)(Object(lt.a)({},i),{callback:function(){l.remove(!0)}}))}}function lc(l,i,e){Hs(l,i,"zoomIn")}function vs(l,i,e){Hs(l,i,"zoomOut")}function ps(l){return[t.TOP,t.BOTTOM].includes(l)?{offsetX:0,offsetY:l===t.TOP?-8:8,style:{textAlign:"center",textBaseline:l===t.TOP?"bottom":"top"}}:[t.LEFT,t.RIGHT].includes(l)?{offsetX:l===t.LEFT?-8:8,offsetY:0,style:{textAlign:l===t.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function Qs(l,i,e){return{x:l.x+i*Math.cos(e),y:l.y+i*Math.sin(e)}}var Bl=function(l){Object(lt.b)(i,l);function i(){return l!==null&&l.apply(this,arguments)||this}return i.prototype.getDefaultCfg=function(){return Object(a.deepMix)({},l.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:l.prototype.getDefaultTitleCfg.call(this)})},i.prototype.render=function(){l.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},i.prototype.getRegion=function(e,r){var g=1/2,N={x:.5,y:.5},at=Math.PI*2/e,Tt=-1*Math.PI/2+at*r,zt=g/(1+1/Math.sin(at/2)),ae=Qs(N,g-zt,Tt),Oe=Math.PI*5/4,ye=Math.PI*1/4;return{start:Qs(ae,zt,Oe),end:Qs(ae,zt,ye)}},i.prototype.afterEachView=function(e,r){this.processAxis(e,r)},i.prototype.beforeEachView=function(e,r){},i.prototype.generateFacets=function(e){var r=this,g=this.cfg,N=g.fields,at=g.type,Tt=N[0];if(!Tt)throw new Error("No `fields` specified!");var zt=this.getFieldValues(e,Tt),ae=zt.length,Oe=[];return zt.forEach(function(ye,Ne){var Qe=[{field:Tt,value:ye,values:zt}],gn=Object(a.filter)(e,r.getFacetDataFilter(Qe)),Tn={type:at,data:gn,region:r.getRegion(ae,Ne),columnValue:ye,columnField:Tt,columnIndex:Ne,columnValuesLength:ae,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};Oe.push(Tn)}),Oe},i.prototype.getXAxisOption=function(e,r,g,N){return g},i.prototype.getYAxisOption=function(e,r,g,N){return g},i.prototype.renderTitle=function(){var e=this;Object(a.each)(this.facets,function(r){var g=r.columnValue,N=r.view,at=Object(a.get)(e.cfg.title,"formatter"),Tt=Object(a.deepMix)({position:["50%","0%"],content:at?at(g):g},ps(t.TOP),e.cfg.title);N.annotation().text(Tt)})},i}(ge),bu=Bl,ns=function(l){Object(lt.b)(i,l);function i(){return l!==null&&l.apply(this,arguments)||this}return i.prototype.getDefaultCfg=function(){return Object(a.deepMix)({},l.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:l.prototype.getDefaultTitleCfg.call(this)})},i.prototype.render=function(){l.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},i.prototype.afterEachView=function(e,r){this.processAxis(e,r)},i.prototype.beforeEachView=function(e,r){},i.prototype.generateFacets=function(e){var r=this,g=this.cfg.fields,N=this.cfg.cols,at=g[0];if(!at)throw new Error("No `fields` specified!");var Tt=this.getFieldValues(e,at),zt=Tt.length;N=N||zt;var ae=this.getPageCount(zt,N),Oe=[];return Tt.forEach(function(ye,Ne){var Qe=r.getRowCol(Ne,N),gn=Qe.row,Tn=Qe.col,cr=[{field:at,value:ye,values:Tt}],br=Object(a.filter)(e,r.getFacetDataFilter(cr)),Lr={type:r.cfg.type,data:br,region:r.getRegion(ae,N,Tn,gn),columnValue:ye,rowValue:ye,columnField:at,rowField:null,columnIndex:Tn,rowIndex:gn,columnValuesLength:N,rowValuesLength:ae,total:zt};Oe.push(Lr)}),Oe},i.prototype.getXAxisOption=function(e,r,g,N){return N.rowIndex!==N.rowValuesLength-1&&N.columnValuesLength*N.rowIndex+N.columnIndex+1+N.columnValuesLength<=N.total?Object(lt.a)(Object(lt.a)({},g),{label:null,title:null}):g},i.prototype.getYAxisOption=function(e,r,g,N){return N.columnIndex!==0?Object(lt.a)(Object(lt.a)({},g),{title:null,label:null}):g},i.prototype.renderTitle=function(){var e=this;Object(a.each)(this.facets,function(r){var g=r.columnValue,N=r.view,at=Object(a.get)(e.cfg.title,"formatter"),Tt=Object(a.deepMix)({position:["50%","0%"],content:at?at(g):g},ps(t.TOP),e.cfg.title);N.annotation().text(Tt)})},i.prototype.getPageCount=function(e,r){return Math.floor((e+r-1)/r)},i.prototype.getRowCol=function(e,r){var g=Math.floor(e/r),N=e%r;return{row:g,col:N}},i}(ge),Df=ns,Td=function(l){Object(lt.b)(i,l);function i(){return l!==null&&l.apply(this,arguments)||this}return i.prototype.getDefaultCfg=function(){return Object(a.deepMix)({},l.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:Object(lt.a)({},l.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(lt.a)({},l.prototype.getDefaultTitleCfg.call(this))})},i.prototype.render=function(){l.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},i.prototype.afterEachView=function(e,r){this.processAxis(e,r)},i.prototype.beforeEachView=function(e,r){},i.prototype.generateFacets=function(e){for(var r=this.cfg,g=r.fields,N=r.type,at=g.length,Tt=at,zt=[],ae=0;ae<Tt;ae++)for(var Oe=g[ae],ye=0;ye<at;ye++){var Ne=g[ye],Qe={type:N,data:e,region:this.getRegion(at,Tt,ae,ye),columnValue:Oe,rowValue:Ne,columnField:Oe,rowField:Ne,columnIndex:ae,rowIndex:ye,columnValuesLength:Tt,rowValuesLength:at};zt.push(Qe)}return zt},i.prototype.getXAxisOption=function(e,r,g,N){return N.rowIndex!==N.rowValuesLength-1?Object(lt.a)(Object(lt.a)({},g),{label:null,title:null}):g},i.prototype.getYAxisOption=function(e,r,g,N){return N.columnIndex!==0?Object(lt.a)(Object(lt.a)({},g),{title:null,label:null}):g},i.prototype.renderTitle=function(){var e=this;Object(a.each)(this.facets,function(r,g){var N=r.columnIndex,at=r.rowIndex,Tt=r.columnValuesLength,zt=r.rowValuesLength,ae=r.columnValue,Oe=r.rowValue,ye=r.view;if(at===0){var Ne=Object(a.get)(e.cfg.columnTitle,"formatter"),Qe=Object(a.deepMix)({position:["50%","0%"],content:Ne?Ne(ae):ae},ps(t.TOP),e.cfg.columnTitle);ye.annotation().text(Qe)}if(N===Tt-1){var Ne=Object(a.get)(e.cfg.rowTitle,"formatter"),Qe=Object(a.deepMix)({position:["100%","50%"],content:Ne?Ne(Oe):Oe},ps(t.RIGHT),e.cfg.rowTitle);ye.annotation().text(Qe)}})},i}(ge),Rf=Td,jd=function(l){Object(lt.b)(i,l);function i(){return l!==null&&l.apply(this,arguments)||this}return i.prototype.getDefaultCfg=function(){return Object(a.deepMix)({},l.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:l.prototype.getDefaultTitleCfg.call(this),transpose:!1})},i.prototype.render=function(){l.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},i.prototype.beforeEachView=function(e,r){this.cfg.transpose?r.columnIndex%2==0?e.coordinate().transpose().reflect("x"):e.coordinate().transpose():r.rowIndex%2!=0&&e.coordinate().reflect("y")},i.prototype.afterEachView=function(e,r){this.processAxis(e,r)},i.prototype.generateFacets=function(e){var r=this,g=this.cfg.fields[0],N=[],at=1,Tt=1,zt=[""],ae=[""],Oe,ye;return this.cfg.transpose?(Oe=g,zt=this.getFieldValues(e,Oe).slice(0,2),at=zt.length):(ye=g,ae=this.getFieldValues(e,ye).slice(0,2),Tt=ae.length),zt.forEach(function(Ne,Qe){ae.forEach(function(gn,Tn){var cr=[{field:Oe,value:Ne,values:zt},{field:ye,value:gn,values:ae}],br=Object(a.filter)(e,r.getFacetDataFilter(cr)),Lr={type:r.cfg.type,data:br,region:r.getRegion(Tt,at,Qe,Tn),columnValue:Ne,rowValue:gn,columnField:Oe,rowField:ye,columnIndex:Qe,rowIndex:Tn,columnValuesLength:at,rowValuesLength:Tt};N.push(Lr)})}),N},i.prototype.getXAxisOption=function(e,r,g,N){return N.columnIndex===1||N.rowIndex===1?Object(lt.a)(Object(lt.a)({},g),{label:null,title:null}):g},i.prototype.getYAxisOption=function(e,r,g,N){return g},i.prototype.renderTitle=function(){var e=this;Object(a.each)(this.facets,function(r,g){var N=r.columnValue,at=r.rowValue,Tt=r.view,zt=Object(a.get)(e.cfg.title,"formatter");if(e.cfg.transpose){var ae=Object(a.deepMix)({position:["50%","0%"],content:zt?zt(N):N},ps(t.TOP),e.cfg.title);Tt.annotation().text(ae)}else{var ae=Object(a.deepMix)({position:["100%","50%"],content:zt?zt(at):at},ps(t.RIGHT),e.cfg.title);Tt.annotation().text(ae)}})},i}(ge),Oh=jd,fc=function(l){Object(lt.b)(i,l);function i(){return l!==null&&l.apply(this,arguments)||this}return i.prototype.afterEachView=function(e,r){this.processAxis(e,r)},i.prototype.beforeEachView=function(e,r){},i.prototype.getDefaultCfg=function(){return Object(a.deepMix)({},l.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:Object(lt.a)({},l.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(lt.a)({},l.prototype.getDefaultTitleCfg.call(this))})},i.prototype.render=function(){l.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},i.prototype.generateFacets=function(e){var r=this,g=this.cfg.fields,N=g[0],at=g[1],Tt=[],zt=1,ae=1,Oe=[""],ye=[""];return N&&(Oe=this.getFieldValues(e,N),zt=Oe.length),at&&(ye=this.getFieldValues(e,at),ae=ye.length),Oe.forEach(function(Ne,Qe){ye.forEach(function(gn,Tn){var cr=[{field:N,value:Ne,values:Oe},{field:at,value:gn,values:ye}],br=Object(a.filter)(e,r.getFacetDataFilter(cr)),Lr={type:r.cfg.type,data:br,region:r.getRegion(ae,zt,Qe,Tn),columnValue:Ne,rowValue:gn,columnField:N,rowField:at,columnIndex:Qe,rowIndex:Tn,columnValuesLength:zt,rowValuesLength:ae};Tt.push(Lr)})}),Tt},i.prototype.renderTitle=function(){var e=this;Object(a.each)(this.facets,function(r,g){var N=r.columnIndex,at=r.rowIndex,Tt=r.columnValuesLength,zt=r.columnValue,ae=r.rowValue,Oe=r.view;if(at===0){var ye=Object(a.get)(e.cfg.columnTitle,"formatter"),Ne=Object(a.deepMix)({position:["50%","0%"],content:ye?ye(zt):zt},ps(t.TOP),e.cfg.columnTitle);Oe.annotation().text(Ne)}if(N===Tt-1){var ye=Object(a.get)(e.cfg.rowTitle,"formatter"),Ne=Object(a.deepMix)({position:["100%","50%"],content:ye?ye(ae):ae},ps(t.RIGHT),e.cfg.rowTitle);Oe.annotation().text(Ne)}})},i.prototype.getXAxisOption=function(e,r,g,N){return N.rowIndex!==N.rowValuesLength-1?Object(lt.a)(Object(lt.a)({},g),{title:null,label:null}):N.columnIndex!==Math.floor((N.columnValuesLength-1)/2)?Object(lt.a)(Object(lt.a)({},g),{title:null}):g},i.prototype.getYAxisOption=function(e,r,g,N){return N.columnIndex!==0?Object(lt.a)(Object(lt.a)({},g),{title:null,label:null}):N.rowIndex!==Math.floor((N.rowValuesLength-1)/2)?Object(lt.a)(Object(lt.a)({},g),{title:null}):g},i}(ge),Sh=fc,wh=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.afterChartRender=function(){e.facets&&e.cfg.line&&(e.container.clear(),e.drawLines(e.facets))},e}return i.prototype.afterEachView=function(e,r){this.processAxis(e,r)},i.prototype.beforeEachView=function(e,r){},i.prototype.init=function(){l.prototype.init.call(this),this.view.on(S.AFTER_RENDER,this.afterChartRender)},i.prototype.getDefaultCfg=function(){return Object(a.deepMix)({},l.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:l.prototype.getDefaultTitleCfg.call(this)})},i.prototype.generateFacets=function(e){var r=this.cfg.fields;if(!r.length)throw new Error("Please specify for the fields for rootFacet!");var g=[],N={type:this.cfg.type,data:e,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return g.push(N),N.children=this.getChildFacets(e,1,g),this.setRegion(g),g},i.prototype.setRegion=function(e){var r=this;this.forceColIndex(e),e.forEach(function(g){g.region=r.getRegion(g.rowValuesLength,g.columnValuesLength,g.columnIndex,g.rowIndex)})},i.prototype.getRegion=function(e,r,g,N){var at=1/r,Tt=1/e,zt={x:at*g,y:Tt*N},ae={x:zt.x+at,y:zt.y+Tt*2/3};return{start:zt,end:ae}},i.prototype.forceColIndex=function(e){var r=this,g=[],N=0;e.forEach(function(Ne){r.isLeaf(Ne)&&(g.push(Ne),Ne.columnIndex=N,N++)}),g.forEach(function(Ne){Ne.columnValuesLength=g.length});for(var at=this.cfg.fields.length,Tt=at-1;Tt>=0;Tt--)for(var zt=this.getFacetsByLevel(e,Tt),ae=0,Oe=zt;ae<Oe.length;ae++){var ye=Oe[ae];this.isLeaf(ye)||(ye.originColIndex=ye.columnIndex,ye.columnIndex=this.getRegionIndex(ye.children),ye.columnValuesLength=g.length)}},i.prototype.getFacetsByLevel=function(e,r){var g=[];return e.forEach(function(N){N.rowIndex===r&&g.push(N)}),g},i.prototype.getRegionIndex=function(e){var r=e[0],g=e[e.length-1];return(g.columnIndex-r.columnIndex)/2+r.columnIndex},i.prototype.isLeaf=function(e){return!e.children||!e.children.length},i.prototype.getRows=function(){return this.cfg.fields.length+1},i.prototype.getChildFacets=function(e,r,g){var N=this,at=this.cfg.fields,Tt=at.length;if(!(Tt<r)){var zt=[],ae=at[r-1],Oe=this.getFieldValues(e,ae);return Oe.forEach(function(ye,Ne){var Qe=[{field:ae,value:ye,values:Oe}],gn=e.filter(N.getFacetDataFilter(Qe));if(gn.length){var Tn={type:N.cfg.type,data:gn,region:null,columnValue:ye,rowValue:"",columnField:ae,rowField:"",columnIndex:Ne,rowValuesLength:N.getRows(),columnValuesLength:1,rowIndex:r,children:N.getChildFacets(gn,r+1,g)};zt.push(Tn),g.push(Tn)}}),zt}},i.prototype.render=function(){l.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},i.prototype.renderTitle=function(){var e=this;Object(a.each)(this.facets,function(r){var g=r.columnValue,N=r.view,at=Object(a.get)(e.cfg.title,"formatter"),Tt=Object(a.deepMix)({position:["50%","0%"],content:at?at(g):g},ps(t.TOP),e.cfg.title);N.annotation().text(Tt)})},i.prototype.drawLines=function(e){var r=this;e.forEach(function(g){if(!r.isLeaf(g)){var N=g.children;r.addFacetLines(g,N)}})},i.prototype.addFacetLines=function(e,r){var g=this,N=e.view,at=N.coordinateBBox,Tt={x:at.x+at.width/2,y:at.y+at.height};r.forEach(function(zt){var ae=zt.view.coordinateBBox,Oe={x:ae.bl.x+(ae.tr.x-ae.bl.x)/2,y:ae.tr.y},ye={x:Tt.x,y:Tt.y+(Oe.y-Tt.y)/2},Ne={x:Oe.x,y:ye.y};g.drawLine([Tt,ye,Ne,Oe])})},i.prototype.getPath=function(e){var r=[],g=this.cfg.line.smooth;return g?(r.push(["M",e[0].x,e[0].y]),r.push(["C",e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y])):e.forEach(function(N,at){at===0?r.push(["M",N.x,N.y]):r.push(["L",N.x,N.y])}),r},i.prototype.drawLine=function(e){var r=this.getPath(e),g=this.cfg.line.style;this.container.addShape("path",{attrs:Object(a.assign)({path:r},g)})},i.prototype.getXAxisOption=function(e,r,g,N){return N.rowIndex!==N.rowValuesLength-1?Object(lt.a)(Object(lt.a)({},g),{title:null,label:null}):g},i.prototype.getYAxisOption=function(e,r,g,N){return N.originColIndex!==0&&N.columnIndex!==0?Object(lt.a)(Object(lt.a)({},g),{title:null,label:null}):g},i}(ge),Eh=wh;function kf(l){var i=Object(lt.d)(l);i.sort(function(r,g){return r-g});var e=i.length;return e===0?0:e%2==1?i[(e-1)/2]:(i[e/2]+i[e/2-1])/2}function Id(l){var i=Object(a.reduce)(l,function(e,r){return e+=isNaN(r)||!Object(a.isNumber)(r)?0:r},0);return l.length===0?0:i/l.length}function Fl(l,i){var e;switch(l){case"start":return 0;case"end":return 1;case"median":{e=i.isCategory?kf(i.values.map(function(r,g){return g})):kf(i.values);break}case"mean":{e=i.isCategory?(i.values.length-1)/2:Id(i.values);break}case"min":e=i.isCategory?0:i[l];break;case"max":e=i.isCategory?i.values.length-1:i[l];break;default:e=l;break}return i.scale(e)}var Cc=["regionFilter","shape"],il=function(l){Object(lt.b)(i,l);function i(e){var r=l.call(this,e)||this;return r.cache=new Map,r.foregroundContainer=r.view.getLayer(M.FORE).addGroup(),r.backgroundContainer=r.view.getLayer(M.BG).addGroup(),r.option=[],r}return Object.defineProperty(i.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),i.prototype.init=function(){},i.prototype.layout=function(){this.update()},i.prototype.render=function(){},i.prototype.update=function(){var e=this;this.onAfterRender(function(){var g=new Map;Object(a.each)(e.option,function(N){if(Object(a.includes)(Cc,N.type)){var at=e.updateOrCreate(N);at&&g.set(e.getCacheKey(N),at)}}),e.cache=e.syncCache(g)});var r=new Map;Object(a.each)(this.option,function(g){if(!Object(a.includes)(Cc,g.type)){var N=e.updateOrCreate(g);N&&r.set(e.getCacheKey(g),N)}}),this.cache=this.syncCache(r)},i.prototype.clear=function(e){e===void 0&&(e=!1),l.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),e&&(this.option=[])},i.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},i.prototype.getComponents=function(){var e=[];return this.cache.forEach(function(r){e.push(r)}),e},i.prototype.clearComponents=function(){this.getComponents().forEach(function(e){e.component.destroy()}),this.cache.clear()},i.prototype.onAfterRender=function(e){this.view.getOptions().animate?this.view.geometries.forEach(function(r){r.animateOption&&r.once(b.AFTER_DRAW_ANIMATE,function(){e()})}):this.view.getRootView().once(S.AFTER_RENDER,function(){e()})},i.prototype.createAnnotation=function(e){var r=e.type,g=Ni.Annotation[Object(a.upperFirst)(r)];if(g){var N=this.getAnnotationTheme(r),at=this.getAnnotationCfg(r,e,N),Tt=new g(at);return{component:Tt,layer:this.isTop(at)?M.FORE:M.BG,direction:t.NONE,type:n.ANNOTATION,extra:e}}},i.prototype.annotation=function(e){this.option.push(e)},i.prototype.arc=function(e){return this.annotation(Object(lt.a)({type:"arc"},e)),this},i.prototype.image=function(e){return this.annotation(Object(lt.a)({type:"image"},e)),this},i.prototype.line=function(e){return this.annotation(Object(lt.a)({type:"line"},e)),this},i.prototype.region=function(e){return this.annotation(Object(lt.a)({type:"region"},e)),this},i.prototype.text=function(e){return this.annotation(Object(lt.a)({type:"text"},e)),this},i.prototype.dataMarker=function(e){return this.annotation(Object(lt.a)({type:"dataMarker"},e)),this},i.prototype.dataRegion=function(e){this.annotation(Object(lt.a)({type:"dataRegion"},e))},i.prototype.regionFilter=function(e){this.annotation(Object(lt.a)({type:"regionFilter"},e))},i.prototype.shape=function(e){this.annotation(Object(lt.a)({type:"shape"},e))},i.prototype.html=function(e){this.annotation(Object(lt.a)({type:"html"},e))},i.prototype.parsePosition=function(e){var r=this.view.getXScale(),g=this.view.getScalesByDim("y"),N=Object(a.isFunction)(e)?e.call(null,r,g):e,at=0,Tt=0;if(Object(a.isArray)(N)){var zt=N[0],ae=N[1];if(Object(a.isString)(zt)&&zt.indexOf("%")!==-1&&!isNaN(zt.slice(0,-1)))return this.parsePercentPosition(N);at=Fl(zt,r),Tt=Fl(ae,Object.values(g)[0])}else if(!Object(a.isNil)(N))for(var Oe=0,ye=Object(a.keys)(N);Oe<ye.length;Oe++){var Ne=ye[Oe],Qe=N[Ne];Ne===r.field&&(at=Fl(Qe,r)),g[Ne]&&(Tt=Fl(Qe,g[Ne]))}return this.view.getCoordinate().convert({x:at,y:Tt})},i.prototype.getRegionPoints=function(e,r){var g=this,N=this.view.getXScale(),at=this.view.getScalesByDim("y"),Tt=Object.values(at)[0],zt=N.field,ae=this.view.getData(),Oe=Object(a.isArray)(e)?e[0]:e[zt],ye=Object(a.isArray)(r)?r[0]:r[zt],Ne=[],Qe;return Object(a.each)(ae,function(gn,Tn){if(gn[zt]===Oe&&(Qe=Tn),Tn>=Qe){var cr=g.parsePosition([gn[zt],gn[Tt.field]]);cr&&Ne.push(cr)}if(gn[zt]===ye)return!1}),Ne},i.prototype.parsePercentPosition=function(e){var r=parseFloat(e[0])/100,g=parseFloat(e[1])/100,N=this.view.getCoordinate(),at=N.start,Tt=N.end,zt={x:Math.min(at.x,Tt.x),y:Math.min(at.y,Tt.y)},ae=N.getWidth()*r+zt.x,Oe=N.getHeight()*g+zt.y;return{x:ae,y:Oe}},i.prototype.getCoordinateBBox=function(){var e=this.view.getCoordinate(),r=e.start,g=e.end,N=e.getWidth(),at=e.getHeight(),Tt={x:Math.min(r.x,g.x),y:Math.min(r.y,g.y)};return{x:Tt.x,y:Tt.y,minX:Tt.x,minY:Tt.y,maxX:Tt.x+N,maxY:Tt.y+at,width:N,height:at}},i.prototype.getAnnotationCfg=function(e,r,g){var N=this,at=this.view.getCoordinate(),Tt=this.view.getCanvas(),zt={};if(Object(a.isNil)(r))return null;if(e==="arc"){var ae=r,Oe=ae.start,ye=ae.end,Ne=this.parsePosition(Oe),Qe=this.parsePosition(ye),gn=Or(at,Ne),Tn=Or(at,Qe);gn>Tn&&(Tn=Math.PI*2+Tn),zt={center:at.getCenter(),radius:vn(at,Ne),startAngle:gn,endAngle:Tn}}else if(e==="image"){var cr=r,Oe=cr.start,ye=cr.end;zt={start:this.parsePosition(Oe),end:this.parsePosition(ye),src:r.src}}else if(e==="line"){var br=r,Oe=br.start,ye=br.end;zt={start:this.parsePosition(Oe),end:this.parsePosition(ye),text:Object(a.get)(r,"text",null)}}else if(e==="region"){var Lr=r,Oe=Lr.start,ye=Lr.end;zt={start:this.parsePosition(Oe),end:this.parsePosition(ye)}}else if(e==="text"){var Fr=this.view.getData(),li=r,Ai=li.position,gi=li.content,Ra=Object(lt.c)(li,["position","content"]),ra=gi;Object(a.isFunction)(gi)&&(ra=gi(Fr)),zt=Object(lt.a)(Object(lt.a)(Object(lt.a)({},this.parsePosition(Ai)),Ra),{content:ra})}else if(e==="dataMarker"){var ca=r,Ai=ca.position,_a=ca.point,ka=ca.line,K=ca.text,G=ca.autoAdjust,w=ca.direction;zt=Object(lt.a)(Object(lt.a)({},this.parsePosition(Ai)),{coordinateBBox:this.getCoordinateBBox(),point:_a,line:ka,text:K,autoAdjust:G,direction:w})}else if(e==="dataRegion"){var B=r,Oe=B.start,ye=B.end,Z=B.region,K=B.text,Pt=B.lineLength;zt={points:this.getRegionPoints(Oe,ye),region:Z,text:K,lineLength:Pt}}else if(e==="regionFilter"){var _t=r,Oe=_t.start,ye=_t.end,q=_t.apply,kt=_t.color,ee=this.view.geometries,re=[],Te=function Kn(nr){!nr||(nr.isGroup()?nr.getChildren().forEach(function(yr){return Kn(yr)}):re.push(nr))};Object(a.each)(ee,function(Kn){q?Object(a.contains)(q,Kn.type)&&Object(a.each)(Kn.elements,function(nr){Te(nr.shape)}):Object(a.each)(Kn.elements,function(nr){Te(nr.shape)})}),zt={color:kt,shapes:re,start:this.parsePosition(Oe),end:this.parsePosition(ye)}}else if(e==="shape"){var Le=r,tn=Le.render,_e=Object(lt.c)(Le,["render"]),$e=function(Gn){if(Object(a.isFunction)(r.render))return tn(Gn,N.view,{parsePosition:N.parsePosition.bind(N)})};zt=Object(lt.a)(Object(lt.a)({},_e),{render:$e})}else if(e==="html"){var nn=r,Xe=nn.html,Ai=nn.position,_e=Object(lt.c)(nn,["html","position"]),fn=function(nr){return Object(a.isFunction)(Xe)?Xe(nr,N.view):Xe};zt=Object(lt.a)(Object(lt.a)(Object(lt.a)({},_e),this.parsePosition(Ai)),{parent:Tt.get("el").parentNode,html:fn})}var jn=Object(a.deepMix)({},g,Object(lt.a)(Object(lt.a)({},zt),{top:r.top,style:r.style,offsetX:r.offsetX,offsetY:r.offsetY}));return e!=="html"&&(jn.container=this.getComponentContainer(jn)),jn.animate=this.view.getOptions().animate&&jn.animate&&Object(a.get)(r,"animate",jn.animate),jn.animateOption=Object(a.deepMix)({},rr,jn.animateOption,r.animateOption),jn},i.prototype.isTop=function(e){return Object(a.get)(e,"top",!0)},i.prototype.getComponentContainer=function(e){return this.isTop(e)?this.foregroundContainer:this.backgroundContainer},i.prototype.getAnnotationTheme=function(e){return Object(a.get)(this.view.getTheme(),["components","annotation",e],{})},i.prototype.updateOrCreate=function(e){var r=this.cache.get(this.getCacheKey(e));if(r){var g=e.type,N=this.getAnnotationTheme(g),at=this.getAnnotationCfg(g,e,N);ne(at,["container"]),r.component.update(at),Object(a.includes)(Cc,e.type)&&r.component.render()}else r=this.createAnnotation(e),r&&(r.component.init(),Object(a.includes)(Cc,e.type)&&r.component.render());return r},i.prototype.syncCache=function(e){var r=this,g=new Map(this.cache);return e.forEach(function(N,at){g.set(at,N)}),g.forEach(function(N,at){Object(a.find)(r.option,function(Tt){return at===r.getCacheKey(Tt)})||(N.component.destroy(),g.delete(at))}),g},i.prototype.getCacheKey=function(e){return e},i}(Fe),Pd=il;function ku(l,i){return Object(a.get)(l,["components","axis",i,"grid"],{})}function al(l,i,e,r){var g=[],N=i.getTicks();return l.isPolar&&N.push({value:1,text:"",tickValue:""}),N.reduce(function(at,Tt,zt){var ae=Tt.value;if(r)g.push({points:[l.convert(e==="y"?{x:0,y:ae}:{x:ae,y:0}),l.convert(e==="y"?{x:1,y:ae}:{x:ae,y:1})]});else if(zt){var Oe=at.value,ye=(Oe+ae)/2;g.push({points:[l.convert(e==="y"?{x:0,y:ye}:{x:ye,y:0}),l.convert(e==="y"?{x:1,y:ye}:{x:ye,y:1})]})}return Tt},N[0]),g}function hc(l,i,e,r,g){var N=i.values.length,at=[],Tt=e.getTicks();return Tt.reduce(function(zt,ae){var Oe=zt?zt.value:ae.value,ye=ae.value,Ne=(Oe+ye)/2;return g==="x"?at.push({points:[l.convert({x:r?ye:Ne,y:0}),l.convert({x:r?ye:Ne,y:1})]}):at.push({points:Object(a.map)(Array(N+1),function(Qe,gn){return l.convert({x:gn/N,y:r?ye:Ne})})}),ae},Tt[0]),at}function _l(l,i){var e=Object(a.get)(i,"grid");if(e===null)return!1;var r=Object(a.get)(l,"grid");return!(e===void 0&&r===null)}var _o=["container"],Gl=Object(lt.a)(Object(lt.a)({},rr),{appear:null}),ol=function(l){Object(lt.b)(i,l);function i(e){var r=l.call(this,e)||this;return r.cache=new Map,r.gridContainer=r.view.getLayer(M.BG).addGroup(),r.axisContainer=r.view.getLayer(M.BG).addGroup(),r}return Object.defineProperty(i.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),i.prototype.init=function(){},i.prototype.render=function(){this.update()},i.prototype.layout=function(){var e=this,r=this.view.getCoordinate();Object(a.each)(this.getComponents(),function(g){var N=g.component,at=g.direction,Tt=g.type,zt=g.extra,ae=zt.dim,Oe=zt.scale,ye=zt.alignTick,Ne;if(Tt===n.AXIS)r.isPolar?ae==="x"?Ne=r.isTransposed?ti(r,at):Fa(r):ae==="y"&&(Ne=r.isTransposed?Fa(r):ti(r,at)):Ne=ti(r,at);else if(Tt===n.GRID)if(r.isPolar){var Qe=void 0;r.isTransposed?Qe=ae==="x"?hc(r,e.view.getYScales()[0],Oe,ye,ae):al(r,Oe,ae,ye):Qe=ae==="x"?al(r,Oe,ae,ye):hc(r,e.view.getXScale(),Oe,ye,ae),Ne={items:Qe,center:e.view.getCoordinate().getCenter()}}else Ne={items:al(r,Oe,ae,ye)};N.update(Ne)})},i.prototype.update=function(){this.option=this.view.getOptions().axes;var e=new Map;this.updateXAxes(e),this.updateYAxes(e);var r=new Map;this.cache.forEach(function(g,N){e.has(N)?r.set(N,g):g.component.destroy()}),this.cache=r},i.prototype.clear=function(){l.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.axisContainer.clear()},i.prototype.destroy=function(){l.prototype.destroy.call(this),this.gridContainer.remove(!0),this.axisContainer.remove(!0)},i.prototype.getComponents=function(){var e=[];return this.cache.forEach(function(r){e.push(r)}),e},i.prototype.updateXAxes=function(e){var r=this.view.getXScale();if(!(!r||r.isIdentity)){var g=Ua(this.option,r.field);if(g!==!1){var N=Na(g,t.BOTTOM),at=M.BG,Tt="x",zt=this.view.getCoordinate(),ae=this.getId("axis",r.field),Oe=this.getId("grid",r.field);if(zt.isRect){var ye=this.cache.get(ae);if(ye){var Ne=this.getLineAxisCfg(r,g,N);ne(Ne,_o),ye.component.update(Ne),e.set(ae,ye)}else ye=this.createLineAxis(r,g,at,N,Tt),this.cache.set(ae,ye),e.set(ae,ye);var Qe=this.cache.get(Oe);if(Qe){var Ne=this.getLineGridCfg(r,g,N,Tt);ne(Ne,_o),Qe.component.update(Ne),e.set(Oe,Qe)}else Qe=this.createLineGrid(r,g,at,N,Tt),Qe&&(this.cache.set(Oe,Qe),e.set(Oe,Qe))}else if(zt.isPolar){var ye=this.cache.get(ae);if(ye){var Ne=zt.isTransposed?this.getLineAxisCfg(r,g,t.RADIUS):this.getCircleAxisCfg(r,g,N);ne(Ne,_o),ye.component.update(Ne),e.set(ae,ye)}else{if(zt.isTransposed){if(Object(a.isUndefined)(g))return;ye=this.createLineAxis(r,g,at,t.RADIUS,Tt)}else ye=this.createCircleAxis(r,g,at,N,Tt);this.cache.set(ae,ye),e.set(ae,ye)}var Qe=this.cache.get(Oe);if(Qe){var Ne=zt.isTransposed?this.getCircleGridCfg(r,g,t.RADIUS,Tt):this.getLineGridCfg(r,g,t.CIRCLE,Tt);ne(Ne,_o),Qe.component.update(Ne),e.set(Oe,Qe)}else{if(zt.isTransposed){if(Object(a.isUndefined)(g))return;Qe=this.createCircleGrid(r,g,at,t.RADIUS,Tt)}else Qe=this.createLineGrid(r,g,at,t.CIRCLE,Tt);Qe&&(this.cache.set(Oe,Qe),e.set(Oe,Qe))}}}}},i.prototype.updateYAxes=function(e){var r=this,g=this.view.getYScales();Object(a.each)(g,function(N,at){if(!(!N||N.isIdentity)){var Tt=N.field,zt=Ua(r.option,Tt);if(zt!==!1){var ae=M.BG,Oe="y",ye=r.getId("axis",Tt),Ne=r.getId("grid",Tt),Qe=r.view.getCoordinate();if(Qe.isRect){var gn=Na(zt,at===0?t.LEFT:t.RIGHT),Tn=r.cache.get(ye);if(Tn){var cr=r.getLineAxisCfg(N,zt,gn);ne(cr,_o),Tn.component.update(cr),e.set(ye,Tn)}else Tn=r.createLineAxis(N,zt,ae,gn,Oe),r.cache.set(ye,Tn),e.set(ye,Tn);var br=r.cache.get(Ne);if(br){var cr=r.getLineGridCfg(N,zt,gn,Oe);ne(cr,_o),br.component.update(cr),e.set(Ne,br)}else br=r.createLineGrid(N,zt,ae,gn,Oe),br&&(r.cache.set(Ne,br),e.set(Ne,br))}else if(Qe.isPolar){var Tn=r.cache.get(ye);if(Tn){var cr=Qe.isTransposed?r.getCircleAxisCfg(N,zt,t.CIRCLE):r.getLineAxisCfg(N,zt,t.RADIUS);ne(cr,_o),Tn.component.update(cr),e.set(ye,Tn)}else{if(Qe.isTransposed){if(Object(a.isUndefined)(zt))return;Tn=r.createCircleAxis(N,zt,ae,t.CIRCLE,Oe)}else Tn=r.createLineAxis(N,zt,ae,t.RADIUS,Oe);r.cache.set(ye,Tn),e.set(ye,Tn)}var br=r.cache.get(Ne);if(br){var cr=Qe.isTransposed?r.getLineGridCfg(N,zt,t.CIRCLE,Oe):r.getCircleGridCfg(N,zt,t.RADIUS,Oe);ne(cr,_o),br.component.update(cr),e.set(Ne,br)}else{if(Qe.isTransposed){if(Object(a.isUndefined)(zt))return;br=r.createLineGrid(N,zt,ae,t.CIRCLE,Oe)}else br=r.createCircleGrid(N,zt,ae,t.RADIUS,Oe);br&&(r.cache.set(Ne,br),e.set(Ne,br))}}}}})},i.prototype.createLineAxis=function(e,r,g,N,at){var Tt={component:new ji(this.getLineAxisCfg(e,r,N)),layer:g,direction:N===t.RADIUS?t.NONE:N,type:n.AXIS,extra:{dim:at,scale:e}};return Tt.component.set("field",e.field),Tt.component.init(),Tt},i.prototype.createLineGrid=function(e,r,g,N,at){var Tt=this.getLineGridCfg(e,r,N,at);if(Tt){var zt={component:new Ki(Tt),layer:g,direction:t.NONE,type:n.GRID,extra:{dim:at,scale:e,alignTick:Object(a.get)(Tt,"alignTick",!0)}};return zt.component.init(),zt}},i.prototype.createCircleAxis=function(e,r,g,N,at){var Tt={component:new Xi(this.getCircleAxisCfg(e,r,N)),layer:g,direction:N,type:n.AXIS,extra:{dim:at,scale:e}};return Tt.component.set("field",e.field),Tt.component.init(),Tt},i.prototype.createCircleGrid=function(e,r,g,N,at){var Tt=this.getCircleGridCfg(e,r,N,at);if(Tt){var zt={component:new la(Tt),layer:g,direction:t.NONE,type:n.GRID,extra:{dim:at,scale:e,alignTick:Object(a.get)(Tt,"alignTick",!0)}};return zt.component.init(),zt}},i.prototype.getLineAxisCfg=function(e,r,g){var N=this.axisContainer,at=this.view.getCoordinate(),Tt=ti(at,g),zt=va(e,r),ae=ea(this.view.getTheme(),g),Oe=Object(a.get)(r,["title"])?Object(a.deepMix)({title:{style:{text:zt}}},{title:Object(a.get)(ea(this.view.getTheme(),"common"),"title")},r):r,ye=Object(a.deepMix)(Object(lt.a)(Object(lt.a)({container:N},Tt),{ticks:e.getTicks().map(function(Fr){return{id:""+Fr.tickValue,name:Fr.text,value:Fr.value}}),verticalFactor:at.isPolar?Sa(Tt,at.getCenter())*-1:Sa(Tt,at.getCenter()),theme:ae}),ae,Oe),Ne=this.getAnimateCfg(ye),Qe=Ne.animate,gn=Ne.animateOption;ye.animateOption=gn,ye.animate=Qe;var Tn=qi(Tt),cr=Object(a.get)(ye,"verticalLimitLength",Tn?1/3:1/2);if(cr<=1){var br=this.view.getCanvas().get("width"),Lr=this.view.getCanvas().get("height");ye.verticalLimitLength=cr*(Tn?br:Lr)}return ye},i.prototype.getLineGridCfg=function(e,r,g,N){if(!!_l(ea(this.view.getTheme(),g),r)){var at=ku(this.view.getTheme(),g),Tt=Object(a.deepMix)({container:this.gridContainer},at,Object(a.get)(r,"grid"),this.getAnimateCfg(r));return Tt.items=al(this.view.getCoordinate(),e,N,Object(a.get)(Tt,"alignTick",!0)),Tt}},i.prototype.getCircleAxisCfg=function(e,r,g){var N=this.axisContainer,at=this.view.getCoordinate(),Tt=e.getTicks().map(function(Tn){return{id:""+Tn.tickValue,name:Tn.text,value:Tn.value}});!e.isCategory&&Math.abs(at.endAngle-at.startAngle)===Math.PI*2&&Tt.pop();var zt=va(e,r),ae=ea(this.view.getTheme(),t.CIRCLE),Oe=Object(a.get)(r,["title"])?Object(a.deepMix)({title:{style:{text:zt}}},{title:Object(a.get)(ea(this.view.getTheme(),"common"),"title")},r):r,ye=Object(a.deepMix)(Object(lt.a)(Object(lt.a)({container:N},Fa(this.view.getCoordinate())),{ticks:Tt,verticalFactor:1,theme:ae}),ae,Oe),Ne=this.getAnimateCfg(ye),Qe=Ne.animate,gn=Ne.animateOption;return ye.animate=Qe,ye.animateOption=gn,ye},i.prototype.getCircleGridCfg=function(e,r,g,N){if(!!_l(ea(this.view.getTheme(),g),r)){var at=ku(this.view.getTheme(),t.RADIUS),Tt=Object(a.deepMix)({container:this.gridContainer,center:this.view.getCoordinate().getCenter()},at,Object(a.get)(r,"grid"),this.getAnimateCfg(r)),zt=Object(a.get)(Tt,"alignTick",!0),ae=N==="x"?this.view.getYScales()[0]:this.view.getXScale();return Tt.items=hc(this.view.getCoordinate(),ae,e,zt,N),Tt}},i.prototype.getId=function(e,r){var g=this.view.getCoordinate();return e+"-"+r+"-"+g.type},i.prototype.getAnimateCfg=function(e){return{animate:this.view.getOptions().animate&&Object(a.get)(e,"animate"),animateOption:e&&e.animateOption?Object(a.deepMix)({},Gl,e.animateOption):Gl}},i}(Fe),Nf=ol;function ys(l,i,e){return e===t.TOP?[l.minX+l.width/2-i.width/2,l.minY]:e===t.BOTTOM?[l.minX+l.width/2-i.width/2,l.maxY-i.height]:e===t.LEFT?[l.minX,l.minY+l.height/2-i.height/2]:e===t.RIGHT?[l.maxX-i.width,l.minY+l.height/2-i.height/2]:e===t.TOP_LEFT||e===t.LEFT_TOP?[l.tl.x,l.tl.y]:e===t.TOP_RIGHT||e===t.RIGHT_TOP?[l.tr.x-i.width,l.tr.y]:e===t.BOTTOM_LEFT||e===t.LEFT_BOTTOM?[l.bl.x,l.bl.y-i.height]:e===t.BOTTOM_RIGHT||e===t.RIGHT_BOTTOM?[l.br.x-i.width,l.br.y-i.height]:[0,0]}function dc(l,i){if(i.isTransposed)switch(l){case t.BOTTOM:return t.LEFT;case t.LEFT:return t.BOTTOM;case t.RIGHT:return t.TOP;case t.TOP:return t.RIGHT}return l}function Ch(l){return l===t.LEFT?t.RIGHT:l===t.RIGHT?t.LEFT:l}function Lf(l){return l===t.TOP?t.BOTTOM:l===t.BOTTOM?t.TOP:l}function Mh(l,i){var e=i.matrix[0],r=i.matrix[4],g=l;return e<0&&(g=Ch(g)),r<0&&(g=Lf(g)),g}function Dd(l,i){var e=l;return i.isReflect("x")&&(e=Ch(e)),i.isReflect("y")&&(e=Lf(e)),e}function nv(l,i){var e=l;return e=dc(e,i),e=Mh(e,i),e=Dd(e,i),e}function Mc(l,i){return Object(a.isBoolean)(l)?l===!1?!1:{}:Object(a.get)(l,[i],l)}function sl(l){return Object(a.get)(l,"position",t.BOTTOM)}var Ac=function(l){Object(lt.b)(i,l);function i(e){var r=l.call(this,e)||this;return r.container=r.view.getLayer(M.FORE).addGroup(),r}return Object.defineProperty(i.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),i.prototype.init=function(){},i.prototype.render=function(){this.update()},i.prototype.layout=function(){var e=this;this.layoutBBox=this.view.viewBBox,Object(a.each)(this.components,function(r){var g=r.component,N=r.direction,at=fo(N),Tt=e.getCategoryLegendSizeCfg(at),zt=g.get("maxWidth"),ae=g.get("maxHeight");g.update({maxWidth:Math.min(Tt.maxWidth,zt||0),maxHeight:Math.min(Tt.maxHeight,ae||0)});var Oe=g.get("padding"),ye=g.getLayoutBBox(),Ne=new en(ye.x,ye.y,ye.width,ye.height).expand(Oe),Qe=ys(e.view.viewBBox,Ne,N),gn=Qe[0],Tn=Qe[1],cr=ys(e.layoutBBox,Ne,N),br=cr[0],Lr=cr[1],Fr=0,li=0;N.startsWith("top")||N.startsWith("bottom")?(Fr=gn,li=Lr):(Fr=br,li=Tn),g.setLocation({x:Fr+Oe[3],y:li+Oe[0]}),e.layoutBBox=e.layoutBBox.cut(Ne,N)})},i.prototype.update=function(){var e=this;this.option=this.view.getOptions().legends;var r={},g=function(Qe,gn,Tn){var cr=e.getId(Tn.field),br=e.getComponentById(cr);if(br){var Lr=void 0,Fr=Mc(e.option,Tn.field);Fr!==!1&&(Object(a.get)(Fr,"custom")?Lr=e.getCategoryCfg(Qe,gn,Tn,Fr,!0):Tn.isLinear?Lr=e.getContinuousCfg(Qe,gn,Tn,Fr):Tn.isCategory&&(Lr=e.getCategoryCfg(Qe,gn,Tn,Fr))),Lr&&(ne(Lr,["container"]),br.direction=sl(Fr),br.component.update(Lr),r[cr]=!0)}else{var li=e.createFieldLegend(Qe,gn,Tn);li&&(li.component.init(),e.components.push(li),r[cr]=!0)}};if(Object(a.get)(this.option,"custom")){var N="global-custom",at=this.getComponentById(N);if(at){var Tt=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);ne(Tt,["container"]),at.component.update(Tt),r[N]=!0}else{var zt=this.createCustomLegend(void 0,void 0,void 0,this.option);if(zt){zt.init();var ae=M.FORE,Oe=sl(this.option);this.components.push({id:N,component:zt,layer:ae,direction:Oe,type:n.LEGEND,extra:void 0}),r[N]=!0}}}else this.loopLegends(g);var ye=[];Object(a.each)(this.getComponents(),function(Ne){r[Ne.id]?ye.push(Ne):Ne.component.destroy()}),this.components=ye},i.prototype.clear=function(){l.prototype.clear.call(this),this.container.clear()},i.prototype.destroy=function(){l.prototype.destroy.call(this),this.container.remove(!0)},i.prototype.getGeometries=function(e){var r=this,g=e.geometries;return Object(a.each)(e.views,function(N){g=g.concat(r.getGeometries(N))}),g},i.prototype.loopLegends=function(e){var r=this.view.getRootView()===this.view;if(!!r){var g=this.getGeometries(this.view),N={};Object(a.each)(g,function(at){var Tt=at.getGroupAttributes();Object(a.each)(Tt,function(zt){var ae=zt.getScale(zt.type);!ae||ae.type==="identity"||N[ae.field]||(e(at,zt,ae),N[ae.field]=!0)})})}},i.prototype.createFieldLegend=function(e,r,g){var N,at=Mc(this.option,g.field),Tt=M.FORE,zt=sl(at);if(at!==!1&&(Object(a.get)(at,"custom")?N=this.createCustomLegend(e,r,g,at):g.isLinear?N=this.createContinuousLegend(e,r,g,at):g.isCategory&&(N=this.createCategoryLegend(e,r,g,at))),N)return N.set("field",g.field),{id:this.getId(g.field),component:N,layer:Tt,direction:zt,type:n.LEGEND,extra:{scale:g}}},i.prototype.createCustomLegend=function(e,r,g,N){var at=this.getCategoryCfg(e,r,g,N,!0);return new ta(at)},i.prototype.createContinuousLegend=function(e,r,g,N){var at=this.getContinuousCfg(e,r,g,N);return new ma(at)},i.prototype.createCategoryLegend=function(e,r,g,N){var at=this.getCategoryCfg(e,r,g,N);return new ta(at)},i.prototype.getContinuousCfg=function(e,r,g,N){var at=g.getTicks(),Tt=Object(a.find)(at,function(Tn){return Tn.value===0}),zt=Object(a.find)(at,function(Tn){return Tn.value===1}),ae=at.map(function(Tn){var cr=Tn.value,br=Tn.tickValue,Lr=r.mapping(g.invert(cr)).join("");return{value:br,attrValue:Lr,color:Lr,scaleValue:cr}});Tt||ae.push({value:g.min,attrValue:r.mapping(g.invert(0)).join(""),color:r.mapping(g.invert(0)).join(""),scaleValue:0}),zt||ae.push({value:g.max,attrValue:r.mapping(g.invert(1)).join(""),color:r.mapping(g.invert(1)).join(""),scaleValue:1}),ae.sort(function(Tn,cr){return Tn.value-cr.value});var Oe={min:Object(a.head)(ae).value,max:Object(a.last)(ae).value,colors:[],rail:{type:r.type},track:{}};r.type==="size"&&(Oe.track={style:{fill:r.type==="size"?this.view.getTheme().defaultColor:void 0}}),r.type==="color"&&(Oe.colors=ae.map(function(Tn){return Tn.attrValue}));var ye=this.container,Ne=sl(N),Qe=fo(Ne),gn=Object(a.get)(N,"title");return gn&&(gn=Object(a.deepMix)({text:Nr(g)},gn)),Oe.container=ye,Oe.layout=Qe,Oe.title=gn,Oe.animateOption=rr,this.mergeLegendCfg(Oe,N,"continuous")},i.prototype.getCategoryCfg=function(e,r,g,N,at){var Tt=this.container,zt=Object(a.get)(N,"position",t.BOTTOM),ae=Object(a.get)(this.view.getTheme(),["components","legend",zt,"marker"]),Oe=Object(a.get)(N,"marker"),ye=fo(zt),Ne=at?Ia(ae,Oe,N.items):ga(this.view,e,r,ae,Oe),Qe=Object(a.get)(N,"title");Qe&&(Qe=Object(a.deepMix)({text:g?Nr(g):""},Qe));var gn=this.getCategoryLegendSizeCfg(ye);gn.container=Tt,gn.layout=ye,gn.items=Ne,gn.title=Qe,gn.animateOption=rr;var Tn=this.mergeLegendCfg(gn,N,zt);Tn.reversed&&Tn.items.reverse();var cr=Object(a.get)(Tn,"maxItemWidth");return cr&&cr<=1&&(Tn.maxItemWidth=this.view.viewBBox.width*cr),Tn},i.prototype.mergeLegendCfg=function(e,r,g){var N=g.split("-")[0],at=Object(a.get)(this.view.getTheme(),["components","legend",N],{});return Object(a.deepMix)({},at,e,r)},i.prototype.getId=function(e){return this.name+"-"+e},i.prototype.getComponentById=function(e){return Object(a.find)(this.components,function(r){return r.id===e})},i.prototype.getCategoryLegendSizeCfg=function(e){var r=this.view.viewBBox,g=r.width,N=r.height;return e==="vertical"?{maxWidth:g*v,maxHeight:N}:{maxWidth:g,maxHeight:N*v}},i}(Fe),Ah=Ac,Ul=function(l){Object(lt.b)(i,l);function i(e){var r=l.call(this,e)||this;return r.onChangeFn=a.noop,r.resetMeasure=function(){r.clear()},r.onValueChange=function(g){var N=g[0],at=g[1];r.start=N,r.end=at,r.changeViewData(N,at)},r.container=r.view.getLayer(M.FORE).addGroup(),r.onChangeFn=Object(a.throttle)(r.onValueChange,20,{leading:!0}),r.width=0,r.view.on(S.BEFORE_CHANGE_DATA,r.resetMeasure),r.view.on(S.BEFORE_CHANGE_SIZE,r.resetMeasure),r}return Object.defineProperty(i.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),i.prototype.destroy=function(){l.prototype.destroy.call(this),this.view.off(S.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(S.BEFORE_CHANGE_SIZE,this.resetMeasure)},i.prototype.init=function(){},i.prototype.render=function(){this.option=this.view.getOptions().slider;var e=this.getSliderCfg(),r=e.start,g=e.end;Object(a.isNil)(this.start)&&(this.start=r,this.end=g);var N=this.view.getOptions().data;this.option&&!Object(a.isEmpty)(N)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},i.prototype.layout=function(){var e=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){e.view.destroyed||e.changeViewData(e.start,e.end)},0)),this.slider){var r=this.view.coordinateBBox.width,g=this.slider.component.get("padding"),N=g[0],at=g[1],Tt=g[2],zt=g[3],ae=this.slider.component.getLayoutBBox(),Oe=new en(ae.x,ae.y,Math.min(ae.width,r),ae.height).expand(g),ye=this.getMinMaxText(this.start,this.end),Ne=ye.minText,Qe=ye.maxText,gn=ys(this.view.viewBBox,Oe,t.BOTTOM),Tn=gn[0],cr=gn[1],br=ys(this.view.coordinateBBox,Oe,t.BOTTOM),Lr=br[0],Fr=br[1];this.slider.component.update(Object(lt.a)(Object(lt.a)({},this.getSliderCfg()),{x:Lr+zt,y:cr+N,width:this.width,start:this.start,end:this.end,minText:Ne,maxText:Qe})),this.view.viewBBox=this.view.viewBBox.cut(Oe,t.BOTTOM)}},i.prototype.update=function(){this.render()},i.prototype.createSlider=function(){var e=this.getSliderCfg(),r=new Ni.Slider(Object(lt.a)({container:this.container},e));return r.init(),{component:r,layer:M.FORE,direction:t.BOTTOM,type:n.SLIDER}},i.prototype.updateSlider=function(){var e=this.getSliderCfg();if(this.width){var r=this.getMinMaxText(this.start,this.end),g=r.minText,N=r.maxText;e=Object(lt.a)(Object(lt.a)({},e),{width:this.width,start:this.start,end:this.end,minText:g,maxText:N})}return this.slider.component.update(e),this.slider},i.prototype.measureSlider=function(){var e=this.getSliderCfg().width;this.width=e},i.prototype.getSliderCfg=function(){var e={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if(Object(a.isObject)(this.option)){var r=Object(lt.a)({data:this.getData()},Object(a.get)(this.option,"trendCfg",{}));e=Object(a.deepMix)({},e,this.getThemeOptions(),this.option),e=Object(lt.a)(Object(lt.a)({},e),{trendCfg:r})}return e.start=Object(a.clamp)(Math.min(Object(a.isNil)(e.start)?0:e.start,Object(a.isNil)(e.end)?1:e.end),0,1),e.end=Object(a.clamp)(Math.max(Object(a.isNil)(e.start)?0:e.start,Object(a.isNil)(e.end)?1:e.end),0,1),e},i.prototype.getData=function(){var e=this.view.getOptions().data,r=this.view.getYScales()[0],g=this.view.getGroupScales();if(g.length){var N=g[0],at=N.field,Tt=N.ticks;return e.reduce(function(zt,ae){return ae[at]===Tt[0]&&zt.push(ae[r.field]),zt},[])}return e.map(function(zt){return zt[r.field]||0})},i.prototype.getThemeOptions=function(){var e=this.view.getTheme();return Object(a.get)(e,["components","slider","common"],{})},i.prototype.getMinMaxText=function(e,r){var g=this.view.getOptions().data,N=this.view.getXScale(),at=!0,Tt=Object(a.valuesOfKey)(g,N.field),zt=at?Tt:Tt.reverse(),ae=Object(a.size)(g);if(!N||!ae)return{};var Oe=Object(a.size)(zt),ye=Math.floor(e*(Oe-1)),Ne=Math.floor(r*(Oe-1)),Qe=Object(a.get)(zt,[ye]),gn=Object(a.get)(zt,[Ne]),Tn=this.getSliderCfg().formatter;return Tn&&(Qe=Tn(Qe,g[ye],ye),gn=Tn(gn,g[Ne],Ne)),{minText:Qe,maxText:gn}},i.prototype.changeViewData=function(e,r){var g=this.view.getOptions().data,N=this.view.getXScale(),at=Object(a.size)(g);if(!(!N||!at)){var Tt=!0,zt=Object(a.valuesOfKey)(g,N.field),ae=Tt?zt:zt.reverse(),Oe=Object(a.size)(ae),ye=Math.floor(e*(Oe-1)),Ne=Math.floor(r*(Oe-1));this.view.filter(N.field,function(Qe,gn){var Tn=ae.indexOf(Qe);return Tn>-1?ue(Tn,ye,Ne):!0}),this.view.render(!0)}},i.prototype.getComponents=function(){return this.slider?[this.slider]:[]},i.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},i}(Fe),Rd=Ul,zl=0,Th=8,jh=32,Ih=20,Ph=function(l){Object(lt.b)(i,l);function i(e){var r=l.call(this,e)||this;return r.onChangeFn=a.noop,r.resetMeasure=function(){r.clear()},r.onValueChange=function(g){var N=g.ratio,at=r.getValidScrollbarCfg().animate;r.ratio=Object(a.clamp)(N,0,1);var Tt=r.view.getOptions().animate;at||r.view.animate(!1),r.changeViewData(r.getScrollRange(),!0),r.view.animate(Tt)},r.container=r.view.getLayer(M.FORE).addGroup(),r.onChangeFn=Object(a.throttle)(r.onValueChange,20,{leading:!0}),r.trackLen=0,r.thumbLen=0,r.ratio=0,r.view.on(S.BEFORE_CHANGE_DATA,r.resetMeasure),r.view.on(S.BEFORE_CHANGE_SIZE,r.resetMeasure),r}return Object.defineProperty(i.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),i.prototype.destroy=function(){l.prototype.destroy.call(this),this.view.off(S.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(S.BEFORE_CHANGE_SIZE,this.resetMeasure)},i.prototype.init=function(){},i.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},i.prototype.layout=function(){var e=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){e.view.destroyed||e.changeViewData(e.getScrollRange(),!0)})),this.scrollbar){var r=this.view.coordinateBBox.width,g=this.scrollbar.component.get("padding"),N=this.scrollbar.component.getLayoutBBox(),at=new en(N.x,N.y,Math.min(N.width,r),N.height).expand(g),Tt=this.getScrollbarComponentCfg(),zt=void 0,ae=void 0;if(Tt.isHorizontal){var Oe=ys(this.view.viewBBox,at,t.BOTTOM),ye=Oe[0],Ne=Oe[1],Qe=ys(this.view.coordinateBBox,at,t.BOTTOM),gn=Qe[0],Tn=Qe[1];zt=gn,ae=Ne}else{var cr=ys(this.view.viewBBox,at,t.RIGHT),ye=cr[0],Ne=cr[1],br=ys(this.view.viewBBox,at,t.RIGHT),gn=br[0],Tn=br[1];zt=gn,ae=Ne}zt+=g[3],ae+=g[0],this.trackLen?this.scrollbar.component.update(Object(lt.a)(Object(lt.a)({},Tt),{x:zt,y:ae,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update(Object(lt.a)(Object(lt.a)({},Tt),{x:zt,y:ae})),this.view.viewBBox=this.view.viewBBox.cut(at,Tt.isHorizontal?t.BOTTOM:t.RIGHT)}},i.prototype.update=function(){this.render()},i.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},i.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},i.prototype.getThemeOptions=function(){var e=this.view.getTheme();return Object(a.get)(e,["components","scrollbar","common"],{})},i.prototype.getScrollbarTheme=function(e){var r=Object(a.get)(this.view.getTheme(),["components","scrollbar"]);return{default:Object(a.deepMix)({},Object(a.get)(r,["default","style"],{}),e),hover:Object(a.get)(r,["hover","style"],{})}},i.prototype.measureScrollbar=function(){var e=this.view.getXScale(),r=this.view.getYScales().slice();this.data=this.view.getOptions().data,this.step=this.getStep(),this.cnt=this.getCnt();var g=this.getScrollbarComponentCfg(),N=g.trackLen,at=g.thumbLen;this.trackLen=N,this.thumbLen=at,this.xScaleCfg={field:e.field,values:e.values||[]},this.yScalesCfg=r},i.prototype.getScrollRange=function(){var e=Math.floor((this.cnt-this.step)*Object(a.clamp)(this.ratio,0,1)),r=Math.min(e+this.step-1,this.cnt-1);return[e,r]},i.prototype.changeViewData=function(e,r){var g=this,N=e[0],at=e[1],Tt=this.getValidScrollbarCfg().type,zt=Tt!=="vertical",ae=Object(a.valuesOfKey)(this.data,this.xScaleCfg.field),Oe=zt?ae:ae.reverse();this.yScalesCfg.forEach(function(ye){g.view.scale(ye.field,{formatter:ye.formatter,type:ye.type,min:ye.min,max:ye.max})}),this.view.filter(this.xScaleCfg.field,function(ye){var Ne=Oe.indexOf(ye);return Ne>-1?ue(Ne,N,at):!0}),this.view.render(!0)},i.prototype.createScrollbar=function(){var e=this.getValidScrollbarCfg().type,r=e!=="vertical",g=new Ni.Scrollbar(Object(lt.a)(Object(lt.a)({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return g.init(),{component:g,layer:M.FORE,direction:r?t.BOTTOM:t.RIGHT,type:n.SCROLLBAR}},i.prototype.updateScrollbar=function(){var e=this.getScrollbarComponentCfg(),r=this.trackLen?Object(lt.a)(Object(lt.a)({},e),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):Object(lt.a)({},e);return this.scrollbar.component.update(r),this.scrollbar},i.prototype.getStep=function(){if(this.step)return this.step;var e=this.view.coordinateBBox,r=this.getValidScrollbarCfg(),g=r.type,N=r.categorySize,at=g!=="vertical";return Math.floor((at?e.width:e.height)/N)},i.prototype.getCnt=function(){if(this.cnt)return this.cnt;var e=this.view.getXScale(),r=this.view.getOptions().data,g=Object(a.valuesOfKey)(r,e.field);return Object(a.size)(g)},i.prototype.getScrollbarComponentCfg=function(){var e=this.view,r=e.coordinateBBox,g=e.viewBBox,N=this.getValidScrollbarCfg(),at=N.type,Tt=N.padding,zt=N.width,ae=N.height,Oe=N.style,ye=at!=="vertical",Ne=Tt[0],Qe=Tt[1],gn=Tt[2],Tn=Tt[3],cr=ye?{x:r.minX+Tn,y:g.maxY-ae-gn}:{x:g.maxX-zt-Qe,y:r.minY+Ne},br=this.getStep(),Lr=this.getCnt(),Fr=ye?r.width-Tn-Qe:r.height-Ne-gn,li=Math.max(Fr*Object(a.clamp)(br/Lr,0,1),Ih);return Object(lt.a)(Object(lt.a)({},this.getThemeOptions()),{x:cr.x,y:cr.y,size:ye?ae:zt,isHorizontal:ye,trackLen:Fr,thumbLen:li,thumbOffset:0,theme:this.getScrollbarTheme(Oe)})},i.prototype.getValidScrollbarCfg=function(){var e={type:"horizontal",categorySize:jh,width:Th,height:Th,padding:[0,0,0,0],animate:!0,style:{}};return Object(a.isObject)(this.option)&&(e=Object(lt.a)(Object(lt.a)({},e),this.option)),(!Object(a.isObject)(this.option)||!this.option.padding)&&(e.padding=e.type==="horizontal"?[zl,0,zl,0]:[0,zl,0,zl]),e},i}(Fe),Dh=Ph,Nu={fill:"#CCD6EC",opacity:.3},xu=function(l){Object(lt.b)(i,l);function i(){return l!==null&&l.apply(this,arguments)||this}return i.prototype.show=function(e){var r=this.context.view,g=this.context.event,N=r.getTooltipItems({x:g.x,y:g.y});if(!Object(a.isEqual)(N,this.items)&&(this.items=N,N.length)){var at=r.getXScale().field,Tt=N[0].data[at],zt=[],ae=r.geometries;if(Object(a.each)(ae,function(B){if(B.type==="interval"||B.type==="schema"){var Z=B.getElementsBy(function(Pt){var _t=Pt.getData();return _t[at]===Tt});zt=zt.concat(Z)}}),zt.length){var Oe=r.getCoordinate(),ye=zt[0].shape.getCanvasBBox(),Ne=zt[0].shape.getCanvasBBox(),Qe=ye;Object(a.each)(zt,function(B){var Z=B.shape.getCanvasBBox();Oe.isTransposed?(Z.minY<ye.minY&&(ye=Z),Z.maxY>Ne.maxY&&(Ne=Z)):(Z.minX<ye.minX&&(ye=Z),Z.maxX>Ne.maxX&&(Ne=Z)),Qe.x=Math.min(Z.minX,Qe.minX),Qe.y=Math.min(Z.minY,Qe.minY),Qe.width=Math.max(Z.maxX,Qe.maxX)-Qe.x,Qe.height=Math.max(Z.maxY,Qe.maxY)-Qe.y});var gn=r.backgroundGroup,Tn=r.coordinateBBox,cr=void 0;if(Oe.isRect){var br=r.getXScale(),Lr=br.isLinear?0:.25,Fr=void 0,li=void 0,Ai=void 0,gi=void 0;Oe.isTransposed?(Fr=Tn.minX,li=Math.min(Ne.minY,ye.minY)-Lr*Ne.height,Ai=Tn.width,gi=Qe.height+Lr*2*Ne.height):(Fr=Math.min(ye.minX,Ne.minX)-Lr*ye.width,li=Math.min(Tn.minY,ye.minY),Ai=Qe.width+Lr*2*ye.width,gi=Tn.height),cr=[["M",Fr,li],["L",Fr+Ai,li],["L",Fr+Ai,li+gi],["L",Fr,li+gi],["Z"]]}else{var Ra=Object(a.head)(zt),ra=Object(a.last)(zt),ca=bo(Ra.getModel(),Oe).startAngle,_a=bo(ra.getModel(),Oe).endAngle,ka=Oe.getCenter(),K=Oe.getRadius(),G=Oe.innerRadius*K;cr=Xa(ka.x,ka.y,K,ca,_a,G)}if(this.regionPath)this.regionPath.attr("path",cr),this.regionPath.show();else{var w=Object(a.get)(e,"style",Nu);this.regionPath=gn.addShape({type:"path",name:"active-region",capture:!1,attrs:Object(lt.a)(Object(lt.a)({},w),{path:cr})})}}}},i.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},i.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),l.prototype.destroy.call(this)},i}(Gt),Qu=xu,Ds=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.timeStamp=0,e}return i.prototype.show=function(){var e=this.context,r=e.event,g=e.view,N=g.isTooltipLocked();if(!N){var at=this.timeStamp,Tt=+new Date,zt=Object(a.get)(e.view.getOptions(),"tooltip.showDelay",16);if(Tt-at>zt){var ae=this.location,Oe={x:r.x,y:r.y};(!ae||!Object(a.isEqual)(ae,Oe))&&this.showTooltip(g,Oe),this.timeStamp=Tt,this.location=Oe}}},i.prototype.hide=function(){var e=this.context.view,r=e.getController("tooltip"),g=this.context.event,N=g.clientX,at=g.clientY;r.isCursorEntered({x:N,y:at})||e.isTooltipLocked()||(this.hideTooltip(e),this.location=null)},i.prototype.showTooltip=function(e,r){e.showTooltip(r)},i.prototype.hideTooltip=function(e){e.hideTooltip()},i}(Gt),vc=Ds,Wl=function(l){Object(lt.b)(i,l);function i(){return l!==null&&l.apply(this,arguments)||this}return i.prototype.showTooltip=function(e,r){var g=ke(e);Object(a.each)(g,function(N){var at=Ye(e,N,r);N.showTooltip(at)})},i.prototype.hideTooltip=function(e){var r=ke(e);Object(a.each)(r,function(g){g.hideTooltip()})},i}(vc),ul=Wl,kd=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.timeStamp=0,e}return i.prototype.destroy=function(){l.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},i.prototype.show=function(){var e=this.context,r=e.event,g=this.timeStamp,N=+new Date;if(N-g>16){var at=this.location,Tt={x:r.x,y:r.y};(!at||!Object(a.isEqual)(at,Tt))&&this.showTooltip(Tt),this.timeStamp=N,this.location=Tt}},i.prototype.hide=function(){this.hideTooltip(),this.location=null},i.prototype.showTooltip=function(e){var r=this.context,g=r.event,N=g.target;if(N&&N.get("tip")){this.tooltip||this.renderTooltip();var at=N.get("tip");this.tooltip.update(Object(lt.a)({title:at},e)),this.tooltip.show()}},i.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},i.prototype.renderTooltip=function(){var e,r=this.context.view,g=r.canvas,N={start:{x:0,y:0},end:{x:g.get("width"),y:g.get("height")}},at=r.getTheme(),Tt=Object(a.get)(at,["components","tooltip","domStyles"],{}),zt=new Oa({parent:g.get("el").parentNode,region:N,visible:!1,crosshairs:null,domStyles:Object(lt.a)({},Object(a.deepMix)({},Tt,(e={},e[Ni.TOOLTIP_CSS_CONST.CONTAINER_CLASS]={"max-width":"50%"},e[Ni.TOOLTIP_CSS_CONST.TITLE_CLASS]={"word-break":"break-all"},e)))});zt.init(),zt.setCapture(!1),this.tooltip=zt},i}(Gt),Tc=kd,Zs=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.stateName="",e}return i.prototype.hasState=function(e){return e.hasState(this.stateName)},i.prototype.setElementState=function(e,r){e.setState(this.stateName,r)},i.prototype.setState=function(){this.setStateEnable(!0)},i.prototype.clear=function(){var e=this.context.view;this.clearViewState(e)},i.prototype.clearViewState=function(e){var r=this,g=Mn(e,this.stateName);Object(a.each)(g,function(N){r.setElementState(N,!1)})},i}(Gt),cl=Zs;function Rh(l){return Object(a.get)(l.get("delegateObject"),"item")}var Nd=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.ignoreListItemStates=["unchecked"],e}return i.prototype.isItemIgnore=function(e,r){var g=this.ignoreListItemStates,N=g.filter(function(at){return r.hasState(e,at)});return!!N.length},i.prototype.setStateByComponent=function(e,r,g){var N=this.context.view,at=e.get("field"),Tt=cn(N);this.setElementsStateByItem(Tt,at,r,g)},i.prototype.setStateByElement=function(e,r){this.setElementState(e,r)},i.prototype.isMathItem=function(e,r,g){var N=this.context.view,at=zn(N,r),Tt=On(e,r);return!Object(a.isNil)(Tt)&&g.name===at.getText(Tt)},i.prototype.setElementsStateByItem=function(e,r,g,N){var at=this;Object(a.each)(e,function(Tt){at.isMathItem(Tt,r,g)&&Tt.setState(at.stateName,N)})},i.prototype.setStateEnable=function(e){var r=te(this.context);if(r)ve(this.context)&&this.setStateByElement(r,e);else{var g=pe(this.context);if(de(g)){var N=g.item,at=g.component;if(N&&at&&!this.isItemIgnore(N,at)){var Tt=this.context.event.gEvent;if(Tt&&Tt.fromShape&&Tt.toShape&&Rh(Tt.fromShape)===Rh(Tt.toShape))return;this.setStateByComponent(at,N,e)}}}},i.prototype.toggle=function(){var e=te(this.context);if(e){var r=e.hasState(this.stateName);this.setElementState(e,!r)}},i.prototype.reset=function(){this.setStateEnable(!1)},i}(cl),Vl=Nd,Ld=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.stateName="active",e}return i.prototype.active=function(){this.setState()},i}(Vl),Bd=Ld,kh=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.cache={},e}return i.prototype.getColorScale=function(e,r){var g=r.geometry.getAttribute("color");if(!g)return null;var N=e.getScaleByField(g.getFields()[0]);return N},i.prototype.getLinkPath=function(e,r){var g=this.context.view,N=g.getCoordinate().isTransposed,at=e.shape.getCanvasBBox(),Tt=r.shape.getCanvasBBox(),zt=N?[["M",at.minX,at.minY],["L",Tt.minX,Tt.maxY],["L",Tt.maxX,Tt.maxY],["L",at.maxX,at.minY],["Z"]]:[["M",at.maxX,at.minY],["L",Tt.minX,Tt.minY],["L",Tt.minX,Tt.maxY],["L",at.maxX,at.maxY],["Z"]];return zt},i.prototype.addLinkShape=function(e,r,g){e.addShape({type:"path",attrs:{opacity:.4,fill:r.shape.attr("fill"),path:this.getLinkPath(r,g)}})},i.prototype.linkByElement=function(e){var r=this,g=this.context.view,N=this.getColorScale(g,e);if(!!N){var at=On(e,N.field);if(!this.cache[at]){var Tt=Be(g,N.field,at),zt=this.linkGroup,ae=zt.addGroup();this.cache[at]=ae;var Oe=Tt.length;Object(a.each)(Tt,function(ye,Ne){if(Ne<Oe-1){var Qe=Tt[Ne+1];r.addLinkShape(ae,ye,Qe)}})}}},i.prototype.removeLink=function(e){var r=this.getColorScale(this.context.view,e);if(!!r){var g=On(e,r.field);this.cache[g]&&(this.cache[g].remove(),this.cache[g]=null)}},i.prototype.link=function(){var e=this.context;this.linkGroup||(this.linkGroup=e.view.foregroundGroup.addGroup({capture:!1}));var r=te(e);r&&this.linkByElement(r)},i.prototype.unlink=function(){var e=te(this.context);e&&this.removeLink(e)},i.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},i.prototype.destroy=function(){l.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},i}(Gt),Yl=kh,Bf=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.startPoint=null,e.endPoint=null,e.isStarted=!1,e.effectSiblings=!1,e.effectByRecord=!1,e}return i.prototype.getCurrentPoint=function(){var e=this.context.event;return{x:e.x,y:e.y}},i.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},i.prototype.getIntersectElements=function(){var e=null;if(ze(this.context))e=Je(this.context,10);else{var r=this.startPoint,g=this.isStarted?this.getCurrentPoint():this.endPoint;if(!r||!g)return;var N={minX:Math.min(r.x,g.x),minY:Math.min(r.y,g.y),maxX:Math.max(r.x,g.x),maxY:Math.max(r.y,g.y)},at=this.context.view;e=Sn(at,N)}return e},i.prototype.setStateEnable=function(e){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(e);else{var r=cn(this.context.view),g=this.getIntersectElements();g&&g.length?this.effectByRecord?this.setSiblingsStateByRecord(g,e):this.setElementsState(g,e,r):this.clear()}},i.prototype.setSiblingsStateByRecord=function(e,r){var g=this,N=this.context.view,at=ke(N),Tt=e.map(function(Oe){return Oe.getModel().data}),zt=N.getXScale().field,ae=N.getYScales()[0].field;Object(a.each)(at,function(Oe){var ye=cn(Oe),Ne=ye.filter(function(Qe){var gn=Qe.getModel().data;return un(Tt,gn,zt,ae)});g.setElementsState(Ne,r,ye)})},i.prototype.setSiblingsState=function(e){var r=this,g=this.context.view,N=ke(g);ze(this.context)&&Object(a.each)(N,function(at){var Tt=cn(at),zt=Ve(r.context,at,10);zt&&zt.length?r.setElementsState(zt,e,Tt):r.clearViewState(at)})},i.prototype.setElementsState=function(e,r,g){var N=this;Object(a.each)(g,function(at){e.includes(at)?N.setElementState(at,r):N.setElementState(at,!1)})},i.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},i.prototype.clear=function(){var e=this,r=this.context.view;if(this.effectSiblings){var g=ke(r);Object(a.each)(g,function(N){e.clearViewState(N)})}else this.clearViewState(r)},i}(cl),Xl=Bf,Ff=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.stateName="active",e}return i.prototype.active=function(){this.setState()},i}(Xl),Fd=Ff,_d=function(l){Object(lt.b)(i,l);function i(){return l!==null&&l.apply(this,arguments)||this}return i.prototype.setStateEnable=function(e){var r=te(this.context);if(r){if(!ve(this.context))return;e?(this.clear(),this.setElementState(r,!0)):this.hasState(r)&&this.setElementState(r,!1)}},i.prototype.toggle=function(){var e=te(this.context);if(e){var r=this.hasState(e);r||this.clear(),this.setElementState(e,!r)}},i.prototype.reset=function(){this.setStateEnable(!1)},i}(cl),_f=_d,Nh=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.stateName="active",e}return i.prototype.active=function(){this.setState()},i}(_f),jc=Nh,ll="inactive",Ic="active";function Hl(l){var i=cn(l);Object(a.each)(i,function(e){e.hasState(Ic)&&e.setState(Ic,!1),e.hasState(ll)&&e.setState(ll,!1)})}function Gf(l,i,e){Object(a.each)(l,function(r){i(r)?(r.hasState(ll)&&r.setState(ll,!1),r.setState(Ic,e)):(r.hasState(Ic)&&r.setState(Ic,!1),r.setState(ll,e))})}var Zu=E.INACTIVE,Ou=E.ACTIVE,Lh=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.stateName=Ou,e}return i.prototype.setElementsStateByItem=function(e,r,g,N){var at=this,Tt=function(ae){return at.isMathItem(ae,r,g)};this.setHighlightBy(e,Tt,N)},i.prototype.setElementHighlight=function(e,r){r(e)?(e.hasState(Zu)&&e.setState(Zu,!1),e.setState(Ou,!0)):e.hasState(Ou)||e.setState(Zu,!0)},i.prototype.setHighlightBy=function(e,r,g){var N=this;if(g)Object(a.each)(e,function(zt){N.setElementHighlight(zt,r)});else{var at=Mn(this.context.view,Ou),Tt=!0;Object(a.each)(at,function(zt){if(!r(zt))return Tt=!1,!1}),Tt?this.clear():Object(a.each)(e,function(zt){r(zt)&&(zt.hasState(Ou)&&zt.setState(Ou,!1),zt.setState(Zu,!0))})}},i.prototype.setElementState=function(e,r){var g=this.context.view,N=cn(g);this.setHighlightBy(N,function(at){return e===at},r)},i.prototype.highlight=function(){this.setState()},i.prototype.clear=function(){var e=this.context.view;Hl(e)},i}(Vl),Kl=Lh,Bh=function(l){Object(lt.b)(i,l);function i(){return l!==null&&l.apply(this,arguments)||this}return i.prototype.setStateByElement=function(e,r){var g=this.context.view,N=e.geometry.getAttribute("color");if(!!N){var at=g.getScaleByField(N.getFields()[0]),Tt=On(e,at.field),zt=cn(g),ae=zt.filter(function(Oe){return On(Oe,at.field)===Tt});this.setHighlightBy(zt,function(Oe){return ae.includes(Oe)},r)}},i}(Kl),fl=Bh,Fh=function(l){Object(lt.b)(i,l);function i(){return l!==null&&l.apply(this,arguments)||this}return i.prototype.setElementHighlight=function(e,r){r(e)?(e.hasState(Zu)&&e.setState(Zu,!1),e.setState(Ou,!0)):(e.setState(Zu,!0),e.hasState(Ou)&&e.setState(Ou,!1))},i.prototype.setStateByElement=function(e,r){var g=this.context.view,N=g.getXScale(),at=On(e,N.field),Tt=cn(g),zt=Tt.filter(function(ae){return On(ae,N.field)===at});this.setHighlightBy(Tt,function(ae){return zt.includes(ae)},r)},i.prototype.toggle=function(){var e=te(this.context);if(e){var r=e.hasState(this.stateName);this.setStateByElement(e,!r)}},i}(Kl),_h=Fh,Gh=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.stateName="active",e}return i.prototype.clearViewState=function(e){Hl(e)},i.prototype.highlight=function(){this.setState()},i.prototype.setElementsState=function(e,r,g){Gf(g,function(N){return e.indexOf(N)>=0},r)},i}(Xl),Jl=Gh,Uh=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.stateName="active",e}return i.prototype.highlight=function(){this.setState()},i.prototype.setElementState=function(e,r){var g=this.context.view,N=cn(g);Gf(N,function(at){return e===at},r)},i.prototype.clear=function(){var e=this.context.view;Hl(e)},i}(_f),Gd=Uh,Ud=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.stateName="selected",e}return i.prototype.selected=function(){this.setState()},i}(Xl),zd=Ud,Ql=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.stateName="selected",e}return i.prototype.selected=function(){this.setState()},i}(Vl),pc=Ql,Zl=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.stateName="selected",e}return i.prototype.selected=function(){this.setState()},i}(_f),hl=Zl,zh=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.stateName="",e.ignoreItemStates=[],e}return i.prototype.getTriggerListInfo=function(){var e=pe(this.context),r=null;return de(e)&&(r={item:e.item,list:e.component}),r},i.prototype.getAllowComponents=function(){var e=this,r=this.context.view,g=Fn(r),N=[];return Object(a.each)(g,function(at){at.isList()&&e.allowSetStateByElement(at)&&N.push(at)}),N},i.prototype.hasState=function(e,r){return e.hasState(r,this.stateName)},i.prototype.clearAllComponentsState=function(){var e=this,r=this.getAllowComponents();Object(a.each)(r,function(g){g.clearItemsState(e.stateName)})},i.prototype.allowSetStateByElement=function(e){var r=e.get("field");if(!r)return!1;if(this.cfg&&this.cfg.componentNames){var g=e.get("name");if(this.cfg.componentNames.indexOf(g)===-1)return!1}var N=this.context.view,at=zn(N,r);return at&&at.isCategory},i.prototype.allowSetStateByItem=function(e,r){var g=this.ignoreItemStates;if(g.length){var N=g.filter(function(at){return r.hasState(e,at)});return N.length===0}return!0},i.prototype.setStateByElement=function(e,r,g){var N=e.get("field"),at=this.context.view,Tt=zn(at,N),zt=On(r,N),ae=Tt.getText(zt);this.setItemsState(e,ae,g)},i.prototype.setStateEnable=function(e){var r=this,g=te(this.context);if(g){var N=this.getAllowComponents();Object(a.each)(N,function(ae){r.setStateByElement(ae,g,e)})}else{var at=pe(this.context);if(de(at)){var Tt=at.item,zt=at.component;this.allowSetStateByElement(zt)&&this.allowSetStateByItem(Tt,zt)&&this.setItemState(zt,Tt,e)}}},i.prototype.setItemsState=function(e,r,g){var N=this,at=e.getItems();Object(a.each)(at,function(Tt){Tt.name===r&&N.setItemState(e,Tt,g)})},i.prototype.setItemState=function(e,r,g){e.setItemState(r,this.stateName,g)},i.prototype.setState=function(){this.setStateEnable(!0)},i.prototype.reset=function(){this.setStateEnable(!1)},i.prototype.toggle=function(){var e=this.getTriggerListInfo();if(e&&e.item){var r=e.list,g=e.item,N=this.hasState(r,g);this.setItemState(r,g,!N)}},i.prototype.clear=function(){var e=this.getTriggerListInfo();e?e.list.clearItemsState(this.stateName):this.clearAllComponentsState()},i}(Gt),Pc=zh,Wh=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.stateName="active",e}return i.prototype.active=function(){this.setState()},i}(Pc),dl=Wh,Uf="inactive",zf="active";function Vh(l){var i=l.getItems();Object(a.each)(i,function(e){l.hasState(e,zf)&&l.setItemState(e,zf,!1),l.hasState(e,Uf)&&l.setItemState(e,Uf,!1)})}var Lu="inactive",$u="active",Yh=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.stateName=$u,e.ignoreItemStates=["unchecked"],e}return i.prototype.setItemsState=function(e,r,g){this.setHighlightBy(e,function(N){return N.name===r},g)},i.prototype.setItemState=function(e,r,g){var N=e.getItems();this.setHighlightBy(e,function(at){return at===r},g)},i.prototype.setHighlightBy=function(e,r,g){var N=e.getItems();if(g)Object(a.each)(N,function(zt){r(zt)?(e.hasState(zt,Lu)&&e.setItemState(zt,Lu,!1),e.setItemState(zt,$u,!0)):e.hasState(zt,$u)||e.setItemState(zt,Lu,!0)});else{var at=e.getItemsByState($u),Tt=!0;Object(a.each)(at,function(zt){if(!r(zt))return Tt=!1,!1}),Tt?this.clear():Object(a.each)(N,function(zt){r(zt)&&(e.hasState(zt,$u)&&e.setItemState(zt,$u,!1),e.setItemState(zt,Lu,!0))})}},i.prototype.highlight=function(){this.setState()},i.prototype.clear=function(){var e=this.getTriggerListInfo();if(e)Vh(e.list);else{var r=this.getAllowComponents();Object(a.each)(r,function(g){g.clearItemsState($u),g.clearItemsState(Lu)})}},i}(Pc),$l=Yh,Wd=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.stateName="selected",e}return i.prototype.selected=function(){this.setState()},i}(Pc),Xh=Wd,Hh=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.stateName="unchecked",e}return i.prototype.unchecked=function(){this.setState()},i}(Pc),Kh=Hh,Jh=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.maskShape=null,e.points=[],e.starting=!1,e.moving=!1,e.preMovePoint=null,e.shapeType="path",e}return i.prototype.getCurrentPoint=function(){var e=this.context.event;return{x:e.x,y:e.y}},i.prototype.emitEvent=function(e){var r="mask:"+e,g=this.context.view,N=this.context.event;g.emit(r,{target:this.maskShape,shape:this.maskShape,points:this.points,x:N.x,y:N.y})},i.prototype.createMask=function(){var e=this.context.view,r=this.getMaskAttrs(),g=e.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:Object(lt.a)({fill:"#C5D4EB",opacity:.3},r)});return g},i.prototype.getMaskPath=function(){return[]},i.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},i.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},i.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},i.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var e=this.getCurrentPoint(),r=this.preMovePoint,g=e.x-r.x,N=e.y-r.y,at=this.points;Object(a.each)(at,function(Tt){Tt.x+=g,Tt.y+=N}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=e}},i.prototype.updateMask=function(){var e=this.getMaskAttrs();this.maskShape.attr(e)},i.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},i.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},i.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},i.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},i.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,l.prototype.destroy.call(this)},i}(Gt),ql=Jh,Qh=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.shapeType="circle",e}return i.prototype.getMaskAttrs=function(){var e=this.points,r=Object(a.last)(this.points),g=0,N=0,at=0;if(e.length){var Tt=e[0];g=tr(Tt,r)/2,N=(r.x+Tt.x)/2,at=(r.y+Tt.y)/2}return{x:N,y:at,r:g}},i}(ql),Zh=Qh,vl=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.shapeType="rect",e}return i.prototype.getRegion=function(){var e=this.points;return{start:Object(a.head)(e),end:Object(a.last)(e)}},i.prototype.getMaskAttrs=function(){var e=this.getRegion(),r=e.start,g=e.end,N=Math.min(r.x,g.x),at=Math.min(r.y,g.y),Tt=Math.abs(g.x-r.x),zt=Math.abs(g.y-r.y);return{x:N,y:at,width:Tt,height:zt}},i}(ql),tf=vl;function ef(l){l.x=Object(a.clamp)(l.x,0,1),l.y=Object(a.clamp)(l.y,0,1)}var $h=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.dim="x",e.inPlot=!0,e}return i.prototype.getRegion=function(){var e=null,r=null,g=this.points,N=this.dim,at=this.context.view.getCoordinate(),Tt=at.invert(Object(a.head)(g)),zt=at.invert(Object(a.last)(g));return this.inPlot&&(ef(Tt),ef(zt)),N==="x"?(e=at.convert({x:Tt.x,y:0}),r=at.convert({x:zt.x,y:1})):(e=at.convert({x:0,y:Tt.y}),r=at.convert({x:1,y:zt.y})),{start:e,end:r}},i}(tf),qh=$h,td=function(l){Object(lt.b)(i,l);function i(){return l!==null&&l.apply(this,arguments)||this}return i.prototype.getMaskPath=function(){var e=this.points,r=[];return e.length&&(Object(a.each)(e,function(g,N){N===0?r.push(["M",g.x,g.y]):r.push(["L",g.x,g.y])}),r.push(["L",e[0].x,e[0].y])),r},i.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},i.prototype.addPoint=function(){this.resize()},i}(ql),ed=td,nf=function(l){Object(lt.b)(i,l);function i(){return l!==null&&l.apply(this,arguments)||this}return i.prototype.getMaskPath=function(){var e=this.points;return me(e,!0)},i}(ed),nd=nf,rd=function(l){Object(lt.b)(i,l);function i(){return l!==null&&l.apply(this,arguments)||this}return i.prototype.setCursor=function(e){var r=this.context.view;r.getCanvas().setCursor(e)},i.prototype.default=function(){this.setCursor("default")},i.prototype.pointer=function(){this.setCursor("pointer")},i.prototype.move=function(){this.setCursor("move")},i.prototype.crosshair=function(){this.setCursor("crosshair")},i.prototype.wait=function(){this.setCursor("wait")},i.prototype.help=function(){this.setCursor("help")},i.prototype.text=function(){this.setCursor("text")},i.prototype.eResize=function(){this.setCursor("e-resize")},i.prototype.wResize=function(){this.setCursor("w-resize")},i.prototype.nResize=function(){this.setCursor("n-resize")},i.prototype.sResize=function(){this.setCursor("s-resize")},i.prototype.neResize=function(){this.setCursor("ne-resize")},i.prototype.nwResize=function(){this.setCursor("nw-resize")},i.prototype.seResize=function(){this.setCursor("se-resize")},i.prototype.swResize=function(){this.setCursor("sw-resize")},i.prototype.nsResize=function(){this.setCursor("ns-resize")},i.prototype.ewResize=function(){this.setCursor("ew-resize")},i}(Gt),id=rd,ad=function(l){Object(lt.b)(i,l);function i(){return l!==null&&l.apply(this,arguments)||this}return i.prototype.filterView=function(e,r,g){var N=this;e.getScaleByField(r)&&e.filter(r,g),e.views&&e.views.length&&Object(a.each)(e.views,function(at){N.filterView(at,r,g)})},i.prototype.filter=function(){var e=pe(this.context);if(e){var r=this.context.view,g=e.component,N=g.get("field");if(de(e)){if(N){var at=g.getItemsByState("unchecked"),Tt=zn(r,N),zt=at.map(function(Ne){return Ne.name});zt.length?this.filterView(r,N,function(Ne){var Qe=Tt.getText(Ne);return!zt.includes(Qe)}):this.filterView(r,N,null),r.render(!0)}}else if(Pe(e)){var ae=g.getValue(),Oe=ae[0],ye=ae[1];this.filterView(r,N,function(Ne){return Ne>=Oe&&Ne<=ye}),r.render(!0)}}},i}(Gt),od=ad;function Dc(l,i,e,r){var g=Math.min(e[i],r[i]),N=Math.max(e[i],r[i]),at=l.range,Tt=at[0],zt=at[1];if(g<Tt&&(g=Tt),N>zt&&(N=zt),g===zt&&N===zt)return null;var ae=l.invert(g),Oe=l.invert(N);if(l.isCategory){var ye=l.values.indexOf(ae),Ne=l.values.indexOf(Oe),Qe=l.values.slice(ye,Ne+1);return function(gn){return Qe.includes(gn)}}else return function(gn){return gn>=ae&&gn<=Oe}}var sd=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.dims=["x","y"],e.startPoint=null,e.isStarted=!1,e}return i.prototype.hasDim=function(e){return this.dims.includes(e)},i.prototype.start=function(){var e=this.context;this.isStarted=!0,this.startPoint=e.getCurrentPoint()},i.prototype.filter=function(){var e,r;if(ze(this.context)){var g=this.context.event.target,N=g.getCanvasBBox();e={x:N.x,y:N.y},r={x:N.maxX,y:N.maxY}}else{if(!this.isStarted)return;e=this.startPoint,r=this.context.getCurrentPoint()}if(!(Math.abs(e.x-r.x)<5||Math.abs(e.x-r.y)<5)){var at=this.context.view,Tt=at.getCoordinate(),zt=Tt.invert(r),ae=Tt.invert(e);if(this.hasDim("x")){var Oe=at.getXScale(),ye=Dc(Oe,"x",zt,ae);this.filterView(at,Oe.field,ye)}if(this.hasDim("y")){var Ne=at.getYScales()[0],ye=Dc(Ne,"y",zt,ae);this.filterView(at,Ne.field,ye)}this.reRender(at)}},i.prototype.end=function(){this.isStarted=!1},i.prototype.reset=function(){var e=this.context.view;if(this.isStarted=!1,this.hasDim("x")){var r=e.getXScale();this.filterView(e,r.field,null)}if(this.hasDim("y")){var g=e.getYScales()[0];this.filterView(e,g.field,null)}this.reRender(e)},i.prototype.filterView=function(e,r,g){e.filter(r,g)},i.prototype.reRender=function(e){e.render(!0)},i}(Gt),pl=sd,ud=function(l){Object(lt.b)(i,l);function i(){return l!==null&&l.apply(this,arguments)||this}return i.prototype.filterView=function(e,r,g){var N=ke(e);Object(a.each)(N,function(at){at.filter(r,g)})},i.prototype.reRender=function(e){var r=ke(e);Object(a.each)(r,function(g){g.render(!0)})},i}(pl),Wf=ud,cd=function(l){Object(lt.b)(i,l);function i(){return l!==null&&l.apply(this,arguments)||this}return i.prototype.filter=function(){var e=pe(this.context),r=this.context.view,g=cn(r);if(ze(this.context)){var N=Je(this.context,10);N&&Object(a.each)(g,function(gn){N.includes(gn)?gn.show():gn.hide()})}else if(e){var at=e.component,Tt=at.get("field");if(de(e)){if(Tt){var zt=at.getItemsByState("unchecked"),ae=zn(r,Tt),Oe=zt.map(function(gn){return gn.name});Object(a.each)(g,function(gn){var Tn=On(gn,Tt),cr=ae.getText(Tn);Oe.indexOf(cr)>=0?gn.hide():gn.show()})}}else if(Pe(e)){var ye=at.getValue(),Ne=ye[0],Qe=ye[1];Object(a.each)(g,function(gn){var Tn=On(gn,Tt);Tn>=Ne&&Tn<=Qe?gn.show():gn.hide()})}}},i.prototype.clear=function(){var e=cn(this.context.view);Object(a.each)(e,function(r){r.show()})},i.prototype.reset=function(){this.clear()},i}(Gt),gl=cd,ld=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.byRecord=!1,e}return i.prototype.filter=function(){ze(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},i.prototype.filterByRecord=function(){var e=this.context.view,r=Je(this.context,10);if(!!r){var g=e.getXScale().field,N=e.getYScales()[0].field,at=r.map(function(zt){return zt.getModel().data}),Tt=ke(e);Object(a.each)(Tt,function(zt){var ae=cn(zt);Object(a.each)(ae,function(Oe){var ye=Oe.getModel().data;un(at,ye,g,N)?Oe.show():Oe.hide()})})}},i.prototype.filterByBBox=function(){var e=this,r=this.context.view,g=ke(r);Object(a.each)(g,function(N){var at=Ve(e.context,N,10),Tt=cn(N);at&&Object(a.each)(Tt,function(zt){at.includes(zt)?zt.show():zt.hide()})})},i.prototype.reset=function(){var e=ke(this.context.view);Object(a.each)(e,function(r){var g=cn(r);Object(a.each)(g,function(N){N.show()})})},i}(Gt),rf=ld,Vf=10,af=5,Yf=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.buttonGroup=null,e.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},e}return i.prototype.getButtonCfg=function(){return Object(a.deepMix)(this.buttonCfg,this.cfg)},i.prototype.drawButton=function(){var e=this.getButtonCfg(),r=this.context.view.foregroundGroup.addGroup({name:e.name}),g=r.addShape({type:"text",name:"button-text",attrs:Object(lt.a)({text:e.text},e.textStyle)}),N=g.getBBox(),at=ui(e.padding),Tt=r.addShape({type:"rect",name:"button-rect",attrs:Object(lt.a)({x:N.x-at[3],y:N.y-at[0],width:N.width+at[1]+at[3],height:N.height+at[0]+at[2]},e.style)});Tt.toBack(),r.on("mouseenter",function(){Tt.attr(e.activeStyle)}),r.on("mouseleave",function(){Tt.attr(e.style)}),this.buttonGroup=r},i.prototype.resetPosition=function(){var e=this.context.view,r=e.getCoordinate(),g=r.convert({x:1,y:1}),N=this.buttonGroup,at=N.getBBox(),Tt=Yr.a.transform(null,[["t",g.x-at.width-Vf,g.y+at.height+af]]);N.setMatrix(Tt)},i.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},i.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},i.prototype.destroy=function(){var e=this.buttonGroup;e&&e.remove(),l.prototype.destroy.call(this)},i}(Gt),of=Yf,Xf=4,Hf=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.starting=!1,e.dragStart=!1,e}return i.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},i.prototype.drag=function(){if(!!this.startPoint){var e=this.context.getCurrentPoint(),r=this.context.view,g=this.context.event;this.dragStart?r.emit("drag",{target:g.target,x:g.x,y:g.y}):tr(e,this.startPoint)>Xf&&(r.emit("dragstart",{target:g.target,x:g.x,y:g.y}),this.dragStart=!0)}},i.prototype.end=function(){if(this.dragStart){var e=this.context.view,r=this.context.event;e.emit("dragend",{target:r.target,x:r.x,y:r.y})}this.starting=!1,this.dragStart=!1},i}(Gt),fd=Hf,hd=5,Kf=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.starting=!1,e.isMoving=!1,e.startPoint=null,e.startMatrix=null,e}return i.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},i.prototype.move=function(){if(!!this.starting){var e=this.startPoint,r=this.context.getCurrentPoint(),g=tr(e,r);if(g>hd&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var N=this.context.view,at=Yr.a.transform(this.startMatrix,[["t",r.x-e.x,r.y-e.y]]);N.backgroundGroup.setMatrix(at),N.foregroundGroup.setMatrix(at),N.middleGroup.setMatrix(at)}}},i.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},i.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var e=this.context.view;e.backgroundGroup.resetMatrix(),e.foregroundGroup.resetMatrix(),e.middleGroup.resetMatrix(),this.isMoving=!1},i}(Gt),ml=Kf,Rc="x",Jf="y",dd=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.dims=[Rc,Jf],e.cfgFields=["dims"],e.cacheScaleDefs={},e}return i.prototype.hasDim=function(e){return this.dims.includes(e)},i.prototype.getScale=function(e){var r=this.context.view;return e==="x"?r.getXScale():r.getYScales()[0]},i.prototype.resetDim=function(e){var r=this.context.view;if(this.hasDim(e)&&this.cacheScaleDefs[e]){var g=this.getScale(e);r.scale(g.field,this.cacheScaleDefs[e]),this.cacheScaleDefs[e]=null}},i.prototype.reset=function(){this.resetDim(Rc),this.resetDim(Jf);var e=this.context.view;e.render(!0)},i}(Gt),yl=dd,vd=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.startPoint=null,e.starting=!1,e.startCache={},e}return i.prototype.start=function(){var e=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var r=this.dims;Object(a.each)(r,function(g){var N=e.getScale(g),at=N.min,Tt=N.max,zt=N.values;e.startCache[g]={min:at,max:Tt,values:zt}})},i.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},i.prototype.translate=function(){var e=this;if(!!this.starting){var r=this.startPoint,g=this.context.view.getCoordinate(),N=this.context.getCurrentPoint(),at=g.invert(r),Tt=g.invert(N),zt=Tt.x-at.x,ae=Tt.y-at.y,Oe=this.context.view,ye=this.dims;Object(a.each)(ye,function(Ne){e.translateDim(Ne,{x:zt*-1,y:ae*-1})}),Oe.render(!0)}},i.prototype.translateDim=function(e,r){if(this.hasDim(e)){var g=this.getScale(e);g.isLinear&&this.translateLinear(e,g,r)}},i.prototype.translateLinear=function(e,r,g){var N=this.context.view,at=this.startCache[e],Tt=at.min,zt=at.max,ae=zt-Tt,Oe=g[e]*ae;this.cacheScaleDefs[e]||(this.cacheScaleDefs[e]={nice:r.nice,min:Tt,max:zt}),N.scale(r.field,{nice:!1,min:Tt+Oe,max:zt+Oe})},i.prototype.reset=function(){l.prototype.reset.call(this),this.startPoint=null,this.starting=!1},i}(yl),sf=vd,kc=function(l){Object(lt.b)(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.zoomRatio=.05,e}return i.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},i.prototype.zoom=function(e){var r=this,g=this.dims;Object(a.each)(g,function(N){r.zoomDim(N,e)}),this.context.view.render(!0)},i.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},i.prototype.zoomDim=function(e,r){if(this.hasDim(e)){var g=this.getScale(e);g.isLinear&&this.zoomLinear(e,g,r)}},i.prototype.zoomLinear=function(e,r,g){var N=this.context.view;this.cacheScaleDefs[e]||(this.cacheScaleDefs[e]={nice:r.nice,min:r.min,max:r.max});var at=this.cacheScaleDefs[e],Tt=at.max-at.min,zt=r.min,ae=r.max,Oe=g*Tt,ye=zt-Oe,Ne=ae+Oe,Qe=Ne-ye,gn=Qe/Tt;Ne>ye&&gn<100&&gn>.01&&N.scale(r.field,{nice:!1,min:zt-Oe,max:ae+Oe})},i}(yl),Vd=kc;ja("dark",Ta(Lo)),j("canvas",es),j("svg",Bo),xe("Polygon",ah),xe("Interval",rc),xe("Schema",Cd),xe("Path",Ws),xe("Point",_s),xe("Line",Vu),xe("Area",As),xe("Edge",Bs),xe("Heatmap",ls),Ui("base",ur),Ui("interval",fh),Ui("pie",Rl),Ui("polar",Dl),Ci("overlap",os),Ci("distribute",Sf),Ci("fixed-overlap",mu),Ci("hide-overlap",Mf),Ci("limit-in-shape",ac),Ci("limit-in-canvas",vh),Ci("limit-in-plot",xh),Ci("pie-outer",Yc),Ci("adjust-color",ph),Ci("interval-adjust-position",Tf),Ci("interval-hide-overlap",Ku),Ci("point-adjust-position",mh),Ci("pie-spider",Ad),Ci("path-adjust-position",Pf),hr("fade-in",yu),hr("fade-out",Ju),hr("grow-in-x",el),hr("grow-in-xy",Da),hr("grow-in-y",uc),hr("scale-in-x",uu),hr("scale-in-y",Ru),hr("wave-in",Ll),hr("zoom-in",lc),hr("zoom-out",vs),hr("position-update",su),hr("sector-path-update",rl),hr("path-in",nl),$("rect",Sh),$("mirror",Oh),$("list",Df),$("matrix",Rf),$("circle",bu),$("tree",Eh),Gs("axis",Nf),Gs("legend",Ah),Gs("tooltip",Ze),Gs("annotation",Pd),Gs("slider",Rd),Gs("scrollbar",Dh),sn("tooltip",vc),sn("sibling-tooltip",ul),sn("ellipsis-text",Tc),sn("element-active",Bd),sn("element-single-active",jc),sn("element-range-active",Fd),sn("element-highlight",Kl),sn("element-highlight-by-x",_h),sn("element-highlight-by-color",fl),sn("element-single-highlight",Gd),sn("element-range-highlight",Jl),sn("element-sibling-highlight",Jl,{effectSiblings:!0,effectByRecord:!0}),sn("element-selected",pc),sn("element-single-selected",hl),sn("element-range-selected",zd),sn("element-link-by-color",Yl),sn("active-region",Qu),sn("list-active",dl),sn("list-selected",Xh),sn("list-highlight",$l),sn("list-unchecked",Kh),sn("legend-item-highlight",$l,{componentNames:["legend"]}),sn("axis-label-highlight",$l,{componentNames:["axis"]}),sn("rect-mask",tf),sn("x-rect-mask",qh,{dim:"x"}),sn("y-rect-mask",qh,{dim:"y"}),sn("circle-mask",Zh),sn("path-mask",ed),sn("smooth-path-mask",nd),sn("cursor",id),sn("data-filter",od),sn("brush",pl),sn("brush-x",pl,{dims:["x"]}),sn("brush-y",pl,{dims:["y"]}),sn("sibling-filter",Wf),sn("sibling-x-filter",Wf),sn("sibling-y-filter",Wf),sn("element-filter",gl),sn("element-sibling-filter",rf),sn("element-sibling-filter-record",rf,{byRecord:!0}),sn("view-drag",fd),sn("view-move",ml),sn("scale-translate",sf),sn("scale-zoom",Vd),sn("reset-button",of,{name:"reset-button",text:"reset"});function qu(l){return l.isInPlot()}Wa("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),Wa("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),Wa("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),Wa("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),Wa("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),Wa("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),Wa("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),Wa("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),Wa("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),Wa("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),Wa("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),Wa("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(i){return!i.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(i){return!i.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),Wa("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:qu,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:qu,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:qu,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),Wa("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),Wa("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:qu,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:qu,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:qu,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),Wa("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:qu,action:"path-mask:start"},{trigger:"mousedown",isEnable:qu,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),Wa("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),Wa("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),Wa("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),Wa("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),Wa("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),Wa("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});function pd(l){return l.gEvent.preventDefault(),l.gEvent.originalEvent.deltaY>0}Wa("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(i){return pd(i.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(i){return!pd(i.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),Wa("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]})},kwiP:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return d});var lt=z("mrSG"),a=z("zJSt"),M=z("u9/z"),t=z("SZbK"),n=z("B3DA"),d=function(S){Object(lt.b)(b,S);function b(){var h=S!==null&&S.apply(this,arguments)||this;return h.type="process",h}return b.prototype.getDefaultOptions=function(){return{percent:.2,color:t.a,animation:!0}},b.prototype.changeData=function(h){this.updateOption({percent:h}),this.chart.changeData(Object(n.a)(h))},b.prototype.getSchemaAdaptor=function(){return M.a},b}(a.a)},l3hu:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return a});var lt=z("iTfj");function a(M,t,n){var d=t+"Style",S=null;return Object(lt.each)(n,function(b,h){M[h]&&b[d]&&(S||(S={}),Object(lt.mix)(S,b[d]))}),S}},lFe4:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return a});var lt=z("iTfj");function a(M){return Object(lt.map)(M||[],function(t,n){return{x:""+n,y:t}})}},lOPJ:function(wr,Vt,z){"use strict";var lt=z("AA7f"),a=z("iTfj"),M=z("0Xep"),t=z("Qci9"),n=function(d){Object(lt.b)(S,d);function S(b){var h=d.call(this,b)||this;h.cacheMap={},h.adjustDataArray=[],h.mergeData=[];var E=b.marginRatio,T=E===void 0?M.d:E,o=b.dodgeRatio,s=o===void 0?M.b:o,u=b.dodgeBy,v=b.intervalPadding,C=b.dodgePadding,O=b.xDimensionLength,j=b.groupNum,p=b.defaultSize,x=b.maxColumnWidth,A=b.minColumnWidth,k=b.columnWidthRatio;return h.marginRatio=T,h.dodgeRatio=s,h.dodgeBy=u,h.intervalPadding=v,h.dodgePadding=C,h.xDimensionLegenth=O,h.groupNum=j,h.defaultSize=p,h.maxColumnWidth=x,h.minColumnWidth=A,h.columnWidthRatio=k,h}return S.prototype.process=function(b){var h=a.clone(b),E=a.flatten(h),T=this.dodgeBy,o=T?a.group(E,T):h;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=E,this.adjustData(o,E),this.adjustDataArray=[],this.mergeData=[],h},S.prototype.adjustDim=function(b,h,E,T){var o=this,s=this.getDistribution(b),u=this.groupData(E,b);return a.each(u,function(v,C){var O;h.length===1?O={pre:h[0]-1,next:h[0]+1}:O=o.getAdjustRange(b,parseFloat(C),h),a.each(v,function(j){var p=j[b],x=s[p],A=x.indexOf(T);j[b]=o.getDodgeOffset(O,A,x.length)})}),[]},S.prototype.getDodgeOffset=function(b,h,E){var T=this,o=T.dodgeRatio,s=T.marginRatio,u=T.intervalPadding,v=T.dodgePadding,C=b.pre,O=b.next,j=O-C,p;if(!a.isNil(u)&&a.isNil(v)&&u>=0){var x=this.getIntervalOnlyOffset(E,h);p=C+x}else if(!a.isNil(v)&&a.isNil(u)&&v>=0){var x=this.getDodgeOnlyOffset(E,h);p=C+x}else if(!a.isNil(u)&&!a.isNil(v)&&u>=0&&v>=0){var x=this.getIntervalAndDodgeOffset(E,h);p=C+x}else{var A=j*o/E,k=s*A,x=1/2*(j-E*A-(E-1)*k)+((h+1)*A+h*k)-1/2*A-1/2*j;p=(C+O)/2+x}return p},S.prototype.getIntervalOnlyOffset=function(b,h){var E=this,T=E.defaultSize,o=E.intervalPadding,s=E.xDimensionLegenth,u=E.groupNum,v=E.dodgeRatio,C=E.maxColumnWidth,O=E.minColumnWidth,j=E.columnWidthRatio,p=o/s,x=(1-(u-1)*p)/u*v/(b-1),A=((1-p*(u-1))/u-x*(b-1))/b;if(A=a.isNil(j)?A:1/u/b*j,!a.isNil(C)){var k=C/s;A=Math.min(A,k)}if(!a.isNil(O)){var X=O/s;A=Math.max(A,X)}A=T?T/s:A,x=((1-(u-1)*p)/u-b*A)/(b-1);var et=((1/2+h)*A+h*x+1/2*p)*u-p/2;return et},S.prototype.getDodgeOnlyOffset=function(b,h){var E=this,T=E.defaultSize,o=E.dodgePadding,s=E.xDimensionLegenth,u=E.groupNum,v=E.marginRatio,C=E.maxColumnWidth,O=E.minColumnWidth,j=E.columnWidthRatio,p=o/s,x=1*v/(u-1),A=((1-x*(u-1))/u-p*(b-1))/b;if(A=j?1/u/b*j:A,!a.isNil(C)){var k=C/s;A=Math.min(A,k)}if(!a.isNil(O)){var X=O/s;A=Math.max(A,X)}A=T?T/s:A,x=(1-(A*b+p*(b-1))*u)/(u-1);var et=((1/2+h)*A+h*p+1/2*x)*u-x/2;return et},S.prototype.getIntervalAndDodgeOffset=function(b,h){var E=this,T=E.intervalPadding,o=E.dodgePadding,s=E.xDimensionLegenth,u=E.groupNum,v=T/s,C=o/s,O=((1-v*(u-1))/u-C*(b-1))/b,j=((1/2+h)*O+h*C+1/2*v)*u-v/2;return j},S.prototype.getDistribution=function(b){var h=this.adjustDataArray,E=this.cacheMap,T=E[b];return T||(T={},a.each(h,function(o,s){var u=a.valuesOfKey(o,b);u.length||u.push(0),a.each(u,function(v){T[v]||(T[v]=[]),T[v].push(s)})}),E[b]=T),T},S}(t.a);Vt.a=n},lnY3:function(wr,Vt,z){},lr9b:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return x});var lt=z("mrSG"),a=z("zJSt"),M=z("YuPD"),t=z("iTfj"),n=z("w02o"),d=z("n/J0"),S="$$range$$",b="low-q1-median-q3-high",h="$$y_outliers$$",E="outliers_view",T=function(k,X){var et=k;if(Array.isArray(X)){var tt=X[0],ft=X[1],st=X[2],vt=X[3],mt=X[4];et=Object(t.map)(k,function(pt){return pt[S]=[pt[tt],pt[ft],pt[st],pt[vt],pt[mt]],pt})}return et};function o(A){var k=A.chart,X=A.options,et=X.xField,tt=X.yField,ft=X.groupField,st=X.color,vt=Array.isArray(tt)?S:tt,mt=k.schema().position(et+"*"+vt).shape("box");return ft&&mt.color(ft,st).adjust("dodge"),k.data(T(X.data,tt)),A}function s(A){var k=A.chart,X=A.options,et=X.xField,tt=X.data,ft=X.outliersField,st=X.outliersStyle,vt=X.padding;if(!ft)return A;var mt=k.createView({padding:vt,id:E});mt.data(tt),mt.axis(!1);var pt=mt.point().position(et+"*"+ft).shape("circle");return Object(t.isFunction)(st)?pt.style(et+"*"+ft,function(rt,Bt){var It;return st((It={},It[et]=rt,It[ft]=Bt,It))}):Object(t.isObject)(st)&&pt.style(st),A}function u(A){var k,X,et=A.chart,tt=A.options,ft=tt.meta,st=tt.xAxis,vt=tt.yAxis,mt=tt.xField,pt=tt.yField,rt=tt.outliersField,Bt=Array.isArray(pt)?S:pt,It={};if(rt){var St=h;It=(k={},k[rt]={sync:St,nice:!0},k[Bt]={sync:St,nice:!0},k)}var H=Object(M.b)(It,ft,(X={},X[mt]=Object(M.l)(st,d.a),X[Bt]=Object(M.l)(vt,d.a),X));return et.scale(H),A}function v(A){var k=A.chart,X=A.options,et=X.xAxis,tt=X.yAxis,ft=X.xField,st=X.yField,vt=Array.isArray(st)?S:st;return et===!1?k.axis(ft,!1):k.axis(ft,et),tt===!1?k.axis(S,!1):k.axis(vt,tt),A}function C(A){var k=A.chart,X=A.options,et=X.legend,tt=X.groupField;return tt?et?k.legend(tt,et):k.legend(tt,{position:"bottom"}):k.legend(!1),A}function O(A){var k=A.chart,X=A.options,et=X.xField,tt=X.yField,ft=X.boxStyle,st=Object(M.c)(k,"schema"),vt=Array.isArray(tt)?S:tt;return Object(t.isFunction)(ft)?st.style(et+"*"+vt,function(mt,pt){var rt;return ft((rt={},rt[et]=mt,rt[vt]=pt,rt))}):Object(t.isObject)(ft)&&st.style(ft),A}function j(A){var k=A.chart,X=A.options,et=X.tooltip;return et!==void 0&&k.tooltip(et),A}function p(A){return Object(M.e)(o,s,u,v,O,C,j,n.c,n.a,n.j)(A)}var x=function(A){Object(lt.b)(k,A);function k(){var X=A!==null&&A.apply(this,arguments)||this;return X.type="box",X}return k.prototype.changeData=function(X){this.updateOption({data:X});var et=this.options.yField,tt=this.chart.views.find(function(ft){return ft.id===E});tt&&tt.data(X),this.chart.changeData(T(X,et))},k.prototype.getDefaultOptions=function(){var X;return Object(M.b)({},A.prototype.getDefaultOptions.call(this),{meta:(X={},X[S]={min:0,alias:b},X),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,showCrosshairs:!0,shared:!0}})},k.prototype.getSchemaAdaptor=function(){return p},k}(a.a)},lt7v:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return a});var lt=null;function a(){if(!lt){var M=document.createElement("canvas");M.width=1,M.height=1,lt=M.getContext("2d")}return lt}},"ma/q":function(wr,Vt,z){"use strict";var lt=z("kXyF");z.d(Vt,"G2",function(){return lt});var a=z("zJSt"),M=z("Djfg"),t=z("XloR");z.d(Vt,"Line",function(){return t.a});var n=z("uw/B");z.d(Vt,"Area",function(){return n.a});var d=z("u9VJ");z.d(Vt,"Column",function(){return d.a});var S=z("Y+LX");z.d(Vt,"Bar",function(){return S.a});var b=z("Cr25");z.d(Vt,"Pie",function(){return b.a});var h=z("z4Vf");z.d(Vt,"Rose",function(){return h.a});var E=z("Mj7Y");z.d(Vt,"WordCloud",function(){return E.a});var T=z("tE4n");z.d(Vt,"Scatter",function(){return T.a});var o=z("y753");z.d(Vt,"Radar",function(){return o.a});var s=z("yqCL");z.d(Vt,"DualAxes",function(){return s.a});var u=z("mttH");z.d(Vt,"TinyLine",function(){return u.a});var v=z("027J");z.d(Vt,"TinyColumn",function(){return v.a});var C=z("05BJ");z.d(Vt,"TinyArea",function(){return C.a});var O=z("BwSJ");z.d(Vt,"Histogram",function(){return O.a});var j=z("kwiP");z.d(Vt,"Progress",function(){return j.a});var p=z("YP77");z.d(Vt,"RingProgress",function(){return p.a});var x=z("+wVF");z.d(Vt,"Heatmap",function(){return x.a});var A=z("lr9b");z.d(Vt,"Box",function(){return A.a});var k=z("/+3i");z.d(Vt,"Stock",function(){return k.a});var X=z("aLzy");z.d(Vt,"Funnel",function(){return X.a});var et=z("FAXy");z.d(Vt,"Liquid",function(){return et.a});var tt=z("BYeR");z.d(Vt,"Bullet",function(){return tt.a});var ft=z("cBFB");z.d(Vt,"Sunburst",function(){return ft.a});var st=z("XpFM");z.d(Vt,"Gauge",function(){return st.a});var vt=z("FLLP");z.d(Vt,"Waterfall",function(){return vt.a});var mt=z("TEat");z.d(Vt,"RadialBar",function(){return mt.a});var pt=z("7ZbV");z.d(Vt,"BidirectionalBar",function(){return pt.a});var rt=z("eHqw");z.d(Vt,"Treemap",function(){return rt.a});var Bt=z("rtSP");z.d(Vt,"Sankey",function(){return Bt.a});var It=z("Uo7R"),St=z("7+4w"),H=z("QG4C");z.d(Vt,"MultiView",function(){return H.a});var ot=z("YuPD"),yt=z("tKoa"),xt=z("w02o"),wt=z("46lQ"),Q="2.3.11",ct={scale:xt.f,legend:xt.d,tooltip:xt.k,annotation:xt.b,interaction:xt.c,theme:xt.j,animation:xt.a}},mj6g:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return t}),z.d(Vt,"d",function(){return n}),z.d(Vt,"c",function(){return d}),z.d(Vt,"b",function(){return S});var lt=z("mrSG"),a=z("iTfj"),M=z("YuPD");function t(b){var h={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},E=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];Object(a.get)(b,"fill")&&(h.color=b.fill);var T=Object(M.l)(b,E),o=T.shadowColor,s=T.shadowBlur,u=s===void 0?0:s,v=T.shadowOffsetX,C=v===void 0?0:v,O=T.shadowOffsetY,j=O===void 0?0:O;h["text-shadow"]=""+[o,C+"px",j+"px",u+"px"].join(" ");var p=Object(M.l)(b,E),x=p.stroke,A=p.lineWidth,k=A===void 0?0:A;return h["-webkit-text-stroke"]=""+[k+"px",x].join(" "),Object(a.each)(b,function(X,et){["fontSize"].includes(et)&&Object(a.isNumber)(X)?h[Object(M.j)(et)]=X+"px":et&&!E.includes(et)&&(h[Object(M.j)(et)]=""+X)}),h}function n(b,h){b.style["pointer-events"]="none",Object(a.each)(h,function(E,T){T&&E&&(b.style[T]=E)})}var d=function(h,E,T){var o=E.statistic,s=E.plotType,u=o.title,v=o.content;[u,v].forEach(function(C,O){if(!!C){var j="",p="";O===0?p=v?"translate(-50%, -100%)":"translate(-50%, -50%)":p=u?"translate(-50%, 0)":"translate(-50%, -50%)";var x=Object(a.isFunction)(C.style)?C.style(T):C.style;h.annotation().html(Object(lt.a)({position:["50%","50%"],html:function(k,X){var et=X.getCoordinate(),tt=0;if(s==="pie"||s==="ring-progress")tt=et.getRadius()*et.innerRadius*2;else if(s==="liquid"){var ft=Object(a.get)(X.geometries,[0,"elements",0,"shape"]);if(ft){var st=ft.find(function(pt){return pt.get("type")==="circle"}),vt=st.getCanvasBBox().width;tt=vt}}else tt||(tt=et.getWidth());n(k,Object(lt.a)({width:tt+"px",transform:p},t(x)));var mt=X.getData();return C.customHtml?C.customHtml(k,X,T,mt):(C.formatter&&(j=C.formatter(T,mt)),j?Object(a.isString)(j)?j:""+j:"<div></div>")},key:(O===0?"top":"bottom")+"-statistic"},Object(M.l)(C,["offsetX","offsetY","rotate","style","formatter"])))}})},S=function(h,E,T){var o=E.statistic,s=o.title,u=o.content;[s,u].forEach(function(v){if(!!v){var C="",O=Object(a.isFunction)(v.style)?v.style(T):v.style;h.annotation().html(Object(lt.a)({position:["50%","100%"],html:function(p,x){var A=x.getCoordinate(),k=x.views[0].getCoordinate(),X=k.getCenter(),et=k.getRadius(),tt=Math.max(Math.sin(k.startAngle),Math.sin(k.endAngle))*et,ft=X.y+tt-A.y.start-parseFloat(Object(a.get)(O,"fontSize",0)),st=A.getRadius()*A.innerRadius*2;n(p,Object(lt.a)({width:st+"px",transform:"translate(-50%, "+ft+"px)"},t(O)));var vt=x.getData();return v.customHtml?v.customHtml(p,x,T,vt):(v.formatter&&(C=v.formatter(T,vt)),C?Object(a.isString)(C)?C:""+C:"<div></div>")}},Object(M.l)(v,["offsetX","offsetY","rotate","style","formatter"])))}})}},mrSG:function(wr,Vt,z){"use strict";z.d(Vt,"b",function(){return a}),z.d(Vt,"a",function(){return M}),z.d(Vt,"c",function(){return t}),z.d(Vt,"d",function(){return v});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lt=function(vt,mt){return lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(pt,rt){pt.__proto__=rt}||function(pt,rt){for(var Bt in rt)Object.prototype.hasOwnProperty.call(rt,Bt)&&(pt[Bt]=rt[Bt])},lt(vt,mt)};function a(st,vt){if(typeof vt!="function"&&vt!==null)throw new TypeError("Class extends value "+String(vt)+" is not a constructor or null");lt(st,vt);function mt(){this.constructor=st}st.prototype=vt===null?Object.create(vt):(mt.prototype=vt.prototype,new mt)}var M=function(){return M=Object.assign||function(mt){for(var pt,rt=1,Bt=arguments.length;rt<Bt;rt++){pt=arguments[rt];for(var It in pt)Object.prototype.hasOwnProperty.call(pt,It)&&(mt[It]=pt[It])}return mt},M.apply(this,arguments)};function t(st,vt){var mt={};for(var pt in st)Object.prototype.hasOwnProperty.call(st,pt)&&vt.indexOf(pt)<0&&(mt[pt]=st[pt]);if(st!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,pt=Object.getOwnPropertySymbols(st);rt<pt.length;rt++)vt.indexOf(pt[rt])<0&&Object.prototype.propertyIsEnumerable.call(st,pt[rt])&&(mt[pt[rt]]=st[pt[rt]]);return mt}function n(st,vt,mt,pt){var rt=arguments.length,Bt=rt<3?vt:pt===null?pt=Object.getOwnPropertyDescriptor(vt,mt):pt,It;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Bt=Reflect.decorate(st,vt,mt,pt);else for(var St=st.length-1;St>=0;St--)(It=st[St])&&(Bt=(rt<3?It(Bt):rt>3?It(vt,mt,Bt):It(vt,mt))||Bt);return rt>3&&Bt&&Object.defineProperty(vt,mt,Bt),Bt}function d(st,vt){return function(mt,pt){vt(mt,pt,st)}}function S(st,vt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(st,vt)}function b(st,vt,mt,pt){function rt(Bt){return Bt instanceof mt?Bt:new mt(function(It){It(Bt)})}return new(mt||(mt=Promise))(function(Bt,It){function St(yt){try{ot(pt.next(yt))}catch(xt){It(xt)}}function H(yt){try{ot(pt.throw(yt))}catch(xt){It(xt)}}function ot(yt){yt.done?Bt(yt.value):rt(yt.value).then(St,H)}ot((pt=pt.apply(st,vt||[])).next())})}function h(st,vt){var mt={label:0,sent:function(){if(Bt[0]&1)throw Bt[1];return Bt[1]},trys:[],ops:[]},pt,rt,Bt,It;return It={next:St(0),throw:St(1),return:St(2)},typeof Symbol=="function"&&(It[Symbol.iterator]=function(){return this}),It;function St(ot){return function(yt){return H([ot,yt])}}function H(ot){if(pt)throw new TypeError("Generator is already executing.");for(;mt;)try{if(pt=1,rt&&(Bt=ot[0]&2?rt.return:ot[0]?rt.throw||((Bt=rt.return)&&Bt.call(rt),0):rt.next)&&!(Bt=Bt.call(rt,ot[1])).done)return Bt;switch(rt=0,Bt&&(ot=[ot[0]&2,Bt.value]),ot[0]){case 0:case 1:Bt=ot;break;case 4:return mt.label++,{value:ot[1],done:!1};case 5:mt.label++,rt=ot[1],ot=[0];continue;case 7:ot=mt.ops.pop(),mt.trys.pop();continue;default:if(Bt=mt.trys,!(Bt=Bt.length>0&&Bt[Bt.length-1])&&(ot[0]===6||ot[0]===2)){mt=0;continue}if(ot[0]===3&&(!Bt||ot[1]>Bt[0]&&ot[1]<Bt[3])){mt.label=ot[1];break}if(ot[0]===6&&mt.label<Bt[1]){mt.label=Bt[1],Bt=ot;break}if(Bt&&mt.label<Bt[2]){mt.label=Bt[2],mt.ops.push(ot);break}Bt[2]&&mt.ops.pop(),mt.trys.pop();continue}ot=vt.call(st,mt)}catch(yt){ot=[6,yt],rt=0}finally{pt=Bt=0}if(ot[0]&5)throw ot[1];return{value:ot[0]?ot[1]:void 0,done:!0}}}var E=Object.create?function(st,vt,mt,pt){pt===void 0&&(pt=mt),Object.defineProperty(st,pt,{enumerable:!0,get:function(){return vt[mt]}})}:function(st,vt,mt,pt){pt===void 0&&(pt=mt),st[pt]=vt[mt]};function T(st,vt){for(var mt in st)mt!=="default"&&!Object.prototype.hasOwnProperty.call(vt,mt)&&E(vt,st,mt)}function o(st){var vt=typeof Symbol=="function"&&Symbol.iterator,mt=vt&&st[vt],pt=0;if(mt)return mt.call(st);if(st&&typeof st.length=="number")return{next:function(){return st&&pt>=st.length&&(st=void 0),{value:st&&st[pt++],done:!st}}};throw new TypeError(vt?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(st,vt){var mt=typeof Symbol=="function"&&st[Symbol.iterator];if(!mt)return st;var pt=mt.call(st),rt,Bt=[],It;try{for(;(vt===void 0||vt-- >0)&&!(rt=pt.next()).done;)Bt.push(rt.value)}catch(St){It={error:St}}finally{try{rt&&!rt.done&&(mt=pt.return)&&mt.call(pt)}finally{if(It)throw It.error}}return Bt}function u(){for(var st=[],vt=0;vt<arguments.length;vt++)st=st.concat(s(arguments[vt]));return st}function v(){for(var st=0,vt=0,mt=arguments.length;vt<mt;vt++)st+=arguments[vt].length;for(var pt=Array(st),rt=0,vt=0;vt<mt;vt++)for(var Bt=arguments[vt],It=0,St=Bt.length;It<St;It++,rt++)pt[rt]=Bt[It];return pt}function C(st,vt){for(var mt=0,pt=vt.length,rt=st.length;mt<pt;mt++,rt++)st[rt]=vt[mt];return st}function O(st){return this instanceof O?(this.v=st,this):new O(st)}function j(st,vt,mt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pt=mt.apply(st,vt||[]),rt,Bt=[];return rt={},It("next"),It("throw"),It("return"),rt[Symbol.asyncIterator]=function(){return this},rt;function It(wt){pt[wt]&&(rt[wt]=function(Q){return new Promise(function(ct,it){Bt.push([wt,Q,ct,it])>1||St(wt,Q)})})}function St(wt,Q){try{H(pt[wt](Q))}catch(ct){xt(Bt[0][3],ct)}}function H(wt){wt.value instanceof O?Promise.resolve(wt.value.v).then(ot,yt):xt(Bt[0][2],wt)}function ot(wt){St("next",wt)}function yt(wt){St("throw",wt)}function xt(wt,Q){wt(Q),Bt.shift(),Bt.length&&St(Bt[0][0],Bt[0][1])}}function p(st){var vt,mt;return vt={},pt("next"),pt("throw",function(rt){throw rt}),pt("return"),vt[Symbol.iterator]=function(){return this},vt;function pt(rt,Bt){vt[rt]=st[rt]?function(It){return(mt=!mt)?{value:O(st[rt](It)),done:rt==="return"}:Bt?Bt(It):It}:Bt}}function x(st){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var vt=st[Symbol.asyncIterator],mt;return vt?vt.call(st):(st=typeof o=="function"?o(st):st[Symbol.iterator](),mt={},pt("next"),pt("throw"),pt("return"),mt[Symbol.asyncIterator]=function(){return this},mt);function pt(Bt){mt[Bt]=st[Bt]&&function(It){return new Promise(function(St,H){It=st[Bt](It),rt(St,H,It.done,It.value)})}}function rt(Bt,It,St,H){Promise.resolve(H).then(function(ot){Bt({value:ot,done:St})},It)}}function A(st,vt){return Object.defineProperty?Object.defineProperty(st,"raw",{value:vt}):st.raw=vt,st}var k=Object.create?function(st,vt){Object.defineProperty(st,"default",{enumerable:!0,value:vt})}:function(st,vt){st.default=vt};function X(st){if(st&&st.__esModule)return st;var vt={};if(st!=null)for(var mt in st)mt!=="default"&&Object.prototype.hasOwnProperty.call(st,mt)&&E(vt,st,mt);return k(vt,st),vt}function et(st){return st&&st.__esModule?st:{default:st}}function tt(st,vt){if(!vt.has(st))throw new TypeError("attempted to get private field on non-instance");return vt.get(st)}function ft(st,vt,mt){if(!vt.has(st))throw new TypeError("attempted to set private field on non-instance");return vt.set(st,mt),mt}},mttH:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return T});var lt=z("mrSG"),a=z("zJSt"),M=z("YuPD"),t=z("w02o"),n=z("tKoa"),d=z("DyAw"),S=z("lFe4"),b=z("7cv3");function h(o){var s,u,v=o.chart,C=o.options,O=C.data,j=C.xAxis,p=C.yAxis,x=C.color,A=C.lineStyle,k=C.point,X=Object(S.a)(O);v.data(X);var et=Object(M.b)({},o,{options:{xField:b.b,yField:b.c,line:{color:x,style:A},point:k}}),tt=Object(M.b)({},et,{options:{tooltip:!1}});return Object(n.d)(et),Object(n.e)(tt),v.axis(!1),v.legend(!1),Object(t.f)((s={},s[b.b]=j,s[b.c]=p,s),(u={},u[b.b]={type:"cat"},u[b.c]=Object(d.a)(X,b.c),u))(o),o}function E(o){return Object(M.e)(h,t.j,t.k,t.a,Object(t.b)())(o)}var T=function(o){Object(lt.b)(s,o);function s(){var u=o!==null&&o.apply(this,arguments)||this;return u.type="tiny-line",u}return s.prototype.changeData=function(u){this.updateOption({data:u}),this.chart.changeData(Object(S.a)(u))},s.prototype.getDefaultOptions=function(){return{appendPadding:2,tooltip:Object(lt.a)({},b.a),animation:!0}},s.prototype.getSchemaAdaptor=function(){return E},s}(a.a)},"n+fv":function(wr,Vt,z){"use strict";z.r(Vt),z.d(Vt,"create",function(){return a}),z.d(Vt,"clone",function(){return M}),z.d(Vt,"length",function(){return t}),z.d(Vt,"fromValues",function(){return n}),z.d(Vt,"copy",function(){return d}),z.d(Vt,"set",function(){return S}),z.d(Vt,"add",function(){return b}),z.d(Vt,"subtract",function(){return h}),z.d(Vt,"multiply",function(){return E}),z.d(Vt,"divide",function(){return T}),z.d(Vt,"ceil",function(){return o}),z.d(Vt,"floor",function(){return s}),z.d(Vt,"min",function(){return u}),z.d(Vt,"max",function(){return v}),z.d(Vt,"round",function(){return C}),z.d(Vt,"scale",function(){return O}),z.d(Vt,"scaleAndAdd",function(){return j}),z.d(Vt,"distance",function(){return p}),z.d(Vt,"squaredDistance",function(){return x}),z.d(Vt,"squaredLength",function(){return A}),z.d(Vt,"negate",function(){return k}),z.d(Vt,"inverse",function(){return X}),z.d(Vt,"normalize",function(){return et}),z.d(Vt,"dot",function(){return tt}),z.d(Vt,"cross",function(){return ft}),z.d(Vt,"lerp",function(){return st}),z.d(Vt,"hermite",function(){return vt}),z.d(Vt,"bezier",function(){return mt}),z.d(Vt,"random",function(){return pt}),z.d(Vt,"transformMat4",function(){return rt}),z.d(Vt,"transformMat3",function(){return Bt}),z.d(Vt,"transformQuat",function(){return It}),z.d(Vt,"rotateX",function(){return St}),z.d(Vt,"rotateY",function(){return H}),z.d(Vt,"rotateZ",function(){return ot}),z.d(Vt,"angle",function(){return yt}),z.d(Vt,"zero",function(){return xt}),z.d(Vt,"str",function(){return wt}),z.d(Vt,"exactEquals",function(){return Q}),z.d(Vt,"equals",function(){return ct}),z.d(Vt,"sub",function(){return it}),z.d(Vt,"mul",function(){return U}),z.d(Vt,"div",function(){return D}),z.d(Vt,"dist",function(){return W}),z.d(Vt,"sqrDist",function(){return P}),z.d(Vt,"len",function(){return m}),z.d(Vt,"sqrLen",function(){return y}),z.d(Vt,"forEach",function(){return V});var lt=z("yU0y");function a(){var J=new lt.a(3);return lt.a!=Float32Array&&(J[0]=0,J[1]=0,J[2]=0),J}function M(J){var ht=new lt.a(3);return ht[0]=J[0],ht[1]=J[1],ht[2]=J[2],ht}function t(J){var ht=J[0],gt=J[1],Mt=J[2];return Math.hypot(ht,gt,Mt)}function n(J,ht,gt){var Mt=new lt.a(3);return Mt[0]=J,Mt[1]=ht,Mt[2]=gt,Mt}function d(J,ht){return J[0]=ht[0],J[1]=ht[1],J[2]=ht[2],J}function S(J,ht,gt,Mt){return J[0]=ht,J[1]=gt,J[2]=Mt,J}function b(J,ht,gt){return J[0]=ht[0]+gt[0],J[1]=ht[1]+gt[1],J[2]=ht[2]+gt[2],J}function h(J,ht,gt){return J[0]=ht[0]-gt[0],J[1]=ht[1]-gt[1],J[2]=ht[2]-gt[2],J}function E(J,ht,gt){return J[0]=ht[0]*gt[0],J[1]=ht[1]*gt[1],J[2]=ht[2]*gt[2],J}function T(J,ht,gt){return J[0]=ht[0]/gt[0],J[1]=ht[1]/gt[1],J[2]=ht[2]/gt[2],J}function o(J,ht){return J[0]=Math.ceil(ht[0]),J[1]=Math.ceil(ht[1]),J[2]=Math.ceil(ht[2]),J}function s(J,ht){return J[0]=Math.floor(ht[0]),J[1]=Math.floor(ht[1]),J[2]=Math.floor(ht[2]),J}function u(J,ht,gt){return J[0]=Math.min(ht[0],gt[0]),J[1]=Math.min(ht[1],gt[1]),J[2]=Math.min(ht[2],gt[2]),J}function v(J,ht,gt){return J[0]=Math.max(ht[0],gt[0]),J[1]=Math.max(ht[1],gt[1]),J[2]=Math.max(ht[2],gt[2]),J}function C(J,ht){return J[0]=Math.round(ht[0]),J[1]=Math.round(ht[1]),J[2]=Math.round(ht[2]),J}function O(J,ht,gt){return J[0]=ht[0]*gt,J[1]=ht[1]*gt,J[2]=ht[2]*gt,J}function j(J,ht,gt,Mt){return J[0]=ht[0]+gt[0]*Mt,J[1]=ht[1]+gt[1]*Mt,J[2]=ht[2]+gt[2]*Mt,J}function p(J,ht){var gt=ht[0]-J[0],Mt=ht[1]-J[1],Lt=ht[2]-J[2];return Math.hypot(gt,Mt,Lt)}function x(J,ht){var gt=ht[0]-J[0],Mt=ht[1]-J[1],Lt=ht[2]-J[2];return gt*gt+Mt*Mt+Lt*Lt}function A(J){var ht=J[0],gt=J[1],Mt=J[2];return ht*ht+gt*gt+Mt*Mt}function k(J,ht){return J[0]=-ht[0],J[1]=-ht[1],J[2]=-ht[2],J}function X(J,ht){return J[0]=1/ht[0],J[1]=1/ht[1],J[2]=1/ht[2],J}function et(J,ht){var gt=ht[0],Mt=ht[1],Lt=ht[2],At=gt*gt+Mt*Mt+Lt*Lt;return At>0&&(At=1/Math.sqrt(At)),J[0]=ht[0]*At,J[1]=ht[1]*At,J[2]=ht[2]*At,J}function tt(J,ht){return J[0]*ht[0]+J[1]*ht[1]+J[2]*ht[2]}function ft(J,ht,gt){var Mt=ht[0],Lt=ht[1],At=ht[2],Ct=gt[0],Ot=gt[1],Dt=gt[2];return J[0]=Lt*Dt-At*Ot,J[1]=At*Ct-Mt*Dt,J[2]=Mt*Ot-Lt*Ct,J}function st(J,ht,gt,Mt){var Lt=ht[0],At=ht[1],Ct=ht[2];return J[0]=Lt+Mt*(gt[0]-Lt),J[1]=At+Mt*(gt[1]-At),J[2]=Ct+Mt*(gt[2]-Ct),J}function vt(J,ht,gt,Mt,Lt,At){var Ct=At*At,Ot=Ct*(2*At-3)+1,Dt=Ct*(At-2)+At,Ft=Ct*(At-1),Xt=Ct*(3-2*At);return J[0]=ht[0]*Ot+gt[0]*Dt+Mt[0]*Ft+Lt[0]*Xt,J[1]=ht[1]*Ot+gt[1]*Dt+Mt[1]*Ft+Lt[1]*Xt,J[2]=ht[2]*Ot+gt[2]*Dt+Mt[2]*Ft+Lt[2]*Xt,J}function mt(J,ht,gt,Mt,Lt,At){var Ct=1-At,Ot=Ct*Ct,Dt=At*At,Ft=Ot*Ct,Xt=3*At*Ot,Rt=3*Dt*Ct,Kt=Dt*At;return J[0]=ht[0]*Ft+gt[0]*Xt+Mt[0]*Rt+Lt[0]*Kt,J[1]=ht[1]*Ft+gt[1]*Xt+Mt[1]*Rt+Lt[1]*Kt,J[2]=ht[2]*Ft+gt[2]*Xt+Mt[2]*Rt+Lt[2]*Kt,J}function pt(J,ht){ht=ht||1;var gt=lt.c()*2*Math.PI,Mt=lt.c()*2-1,Lt=Math.sqrt(1-Mt*Mt)*ht;return J[0]=Math.cos(gt)*Lt,J[1]=Math.sin(gt)*Lt,J[2]=Mt*ht,J}function rt(J,ht,gt){var Mt=ht[0],Lt=ht[1],At=ht[2],Ct=gt[3]*Mt+gt[7]*Lt+gt[11]*At+gt[15];return Ct=Ct||1,J[0]=(gt[0]*Mt+gt[4]*Lt+gt[8]*At+gt[12])/Ct,J[1]=(gt[1]*Mt+gt[5]*Lt+gt[9]*At+gt[13])/Ct,J[2]=(gt[2]*Mt+gt[6]*Lt+gt[10]*At+gt[14])/Ct,J}function Bt(J,ht,gt){var Mt=ht[0],Lt=ht[1],At=ht[2];return J[0]=Mt*gt[0]+Lt*gt[3]+At*gt[6],J[1]=Mt*gt[1]+Lt*gt[4]+At*gt[7],J[2]=Mt*gt[2]+Lt*gt[5]+At*gt[8],J}function It(J,ht,gt){var Mt=gt[0],Lt=gt[1],At=gt[2],Ct=gt[3],Ot=ht[0],Dt=ht[1],Ft=ht[2],Xt=Lt*Ft-At*Dt,Rt=At*Ot-Mt*Ft,Kt=Mt*Dt-Lt*Ot,$t=Lt*Kt-At*Rt,le=At*Xt-Mt*Kt,Me=Mt*Rt-Lt*Xt,on=Ct*2;return Xt*=on,Rt*=on,Kt*=on,$t*=2,le*=2,Me*=2,J[0]=Ot+Xt+$t,J[1]=Dt+Rt+le,J[2]=Ft+Kt+Me,J}function St(J,ht,gt,Mt){var Lt=[],At=[];return Lt[0]=ht[0]-gt[0],Lt[1]=ht[1]-gt[1],Lt[2]=ht[2]-gt[2],At[0]=Lt[0],At[1]=Lt[1]*Math.cos(Mt)-Lt[2]*Math.sin(Mt),At[2]=Lt[1]*Math.sin(Mt)+Lt[2]*Math.cos(Mt),J[0]=At[0]+gt[0],J[1]=At[1]+gt[1],J[2]=At[2]+gt[2],J}function H(J,ht,gt,Mt){var Lt=[],At=[];return Lt[0]=ht[0]-gt[0],Lt[1]=ht[1]-gt[1],Lt[2]=ht[2]-gt[2],At[0]=Lt[2]*Math.sin(Mt)+Lt[0]*Math.cos(Mt),At[1]=Lt[1],At[2]=Lt[2]*Math.cos(Mt)-Lt[0]*Math.sin(Mt),J[0]=At[0]+gt[0],J[1]=At[1]+gt[1],J[2]=At[2]+gt[2],J}function ot(J,ht,gt,Mt){var Lt=[],At=[];return Lt[0]=ht[0]-gt[0],Lt[1]=ht[1]-gt[1],Lt[2]=ht[2]-gt[2],At[0]=Lt[0]*Math.cos(Mt)-Lt[1]*Math.sin(Mt),At[1]=Lt[0]*Math.sin(Mt)+Lt[1]*Math.cos(Mt),At[2]=Lt[2],J[0]=At[0]+gt[0],J[1]=At[1]+gt[1],J[2]=At[2]+gt[2],J}function yt(J,ht){var gt=J[0],Mt=J[1],Lt=J[2],At=ht[0],Ct=ht[1],Ot=ht[2],Dt=Math.sqrt(gt*gt+Mt*Mt+Lt*Lt),Ft=Math.sqrt(At*At+Ct*Ct+Ot*Ot),Xt=Dt*Ft,Rt=Xt&&tt(J,ht)/Xt;return Math.acos(Math.min(Math.max(Rt,-1),1))}function xt(J){return J[0]=0,J[1]=0,J[2]=0,J}function wt(J){return"vec3("+J[0]+", "+J[1]+", "+J[2]+")"}function Q(J,ht){return J[0]===ht[0]&&J[1]===ht[1]&&J[2]===ht[2]}function ct(J,ht){var gt=J[0],Mt=J[1],Lt=J[2],At=ht[0],Ct=ht[1],Ot=ht[2];return Math.abs(gt-At)<=lt.b*Math.max(1,Math.abs(gt),Math.abs(At))&&Math.abs(Mt-Ct)<=lt.b*Math.max(1,Math.abs(Mt),Math.abs(Ct))&&Math.abs(Lt-Ot)<=lt.b*Math.max(1,Math.abs(Lt),Math.abs(Ot))}var it=h,U=E,D=T,W=p,P=x,m=t,y=A,V=function(){var J=a();return function(ht,gt,Mt,Lt,At,Ct){var Ot,Dt;for(gt||(gt=3),Mt||(Mt=0),Lt?Dt=Math.min(Lt*gt+Mt,ht.length):Dt=ht.length,Ot=Mt;Ot<Dt;Ot+=gt)J[0]=ht[Ot],J[1]=ht[Ot+1],J[2]=ht[Ot+2],At(J,J,Ct),ht[Ot]=J[0],ht[Ot+1]=J[1],ht[Ot+2]=J[2];return ht}}()},"n/J0":function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return lt}),z.d(Vt,"b",function(){return a});var lt=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"],a={GRADIENT:{CONTINUOUS:"#BAE7FF-#1890FF-#0050B3"}}},nCnq:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return n});var lt=z("cyZq");function a(d){return Math.sqrt(d[0]*d[0]+d[1]*d[1])}function M(d,S){return a(d)*a(S)?(d[0]*S[0]+d[1]*S[1])/(a(d)*a(S)):1}function t(d,S){return(d[0]*S[1]<d[1]*S[0]?-1:1)*Math.acos(M(d,S))}function n(d,S){var b=S[1],h=S[2],E=Object(lt.m)(Object(lt.o)(S[3]),Math.PI*2),T=S[4],o=S[5],s=d[0],u=d[1],v=S[6],C=S[7],O=Math.cos(E)*(s-v)/2+Math.sin(E)*(u-C)/2,j=-1*Math.sin(E)*(s-v)/2+Math.cos(E)*(u-C)/2,p=O*O/(b*b)+j*j/(h*h);p>1&&(b*=Math.sqrt(p),h*=Math.sqrt(p));var x=b*b*(j*j)+h*h*(O*O),A=x?Math.sqrt((b*b*(h*h)-x)/x):1;T===o&&(A*=-1),isNaN(A)&&(A=0);var k=h?A*b*j/h:0,X=b?A*-h*O/b:0,et=(s+v)/2+Math.cos(E)*k-Math.sin(E)*X,tt=(u+C)/2+Math.sin(E)*k+Math.cos(E)*X,ft=[(O-k)/b,(j-X)/h],st=[(-1*O-k)/b,(-1*j-X)/h],vt=t([1,0],ft),mt=t(ft,st);return M(ft,st)<=-1&&(mt=Math.PI),M(ft,st)>=1&&(mt=0),o===0&&mt>0&&(mt=mt-2*Math.PI),o===1&&mt<0&&(mt=mt+2*Math.PI),{cx:et,cy:tt,rx:Object(lt.j)(d,[v,C])?0:b,ry:Object(lt.j)(d,[v,C])?0:h,startAngle:vt,endAngle:vt+mt,xRotation:E,arcFlag:T,sweepFlag:o}}},nycV:function(wr,Vt,z){"use strict";z.d(Vt,"c",function(){return h}),z.d(Vt,"b",function(){return E}),z.d(Vt,"a",function(){return T});var lt=z("mrSG"),a=z("R5nb"),M=Math.sin,t=Math.cos,n=Math.atan2,d=Math.PI;function S(o,s,u,v,C,O,j){var p=s.stroke,x=s.lineWidth,A=u-C,k=v-O,X=n(k,A),et=new a.Path({type:"path",canvas:o.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*t(d/6)+","+10*M(d/6)+" L0,0 L"+10*t(d/6)+",-"+10*M(d/6),stroke:p,lineWidth:x}});et.translate(C,O),et.rotateAtPoint(C,O,X),o.set(j?"startArrowShape":"endArrowShape",et)}function b(o,s,u,v,C,O,j){var p=s.startArrow,x=s.endArrow,A=s.stroke,k=s.lineWidth,X=j?p:x,et=X.d,tt=X.fill,ft=X.stroke,st=X.lineWidth,vt=Object(lt.c)(X,["d","fill","stroke","lineWidth"]),mt=u-C,pt=v-O,rt=n(pt,mt);et&&(C=C-t(rt)*et,O=O-M(rt)*et);var Bt=new a.Path({type:"path",canvas:o.get("canvas"),isArrowShape:!0,attrs:Object(lt.a)(Object(lt.a)({},vt),{stroke:ft||A,lineWidth:st||k,fill:tt})});Bt.translate(C,O),Bt.rotateAtPoint(C,O,rt),o.set(j?"startArrowShape":"endArrowShape",Bt)}function h(o,s,u,v,C){var O=n(v-s,u-o);return{dx:t(O)*C,dy:M(O)*C}}function E(o,s,u,v,C,O){typeof s.startArrow=="object"?b(o,s,u,v,C,O,!0):s.startArrow?S(o,s,u,v,C,O,!0):o.set("startArrowShape",null)}function T(o,s,u,v,C,O){typeof s.endArrow=="object"?b(o,s,u,v,C,O,!1):s.endArrow?S(o,s,u,v,C,O,!1):o.set("startArrowShape",null)}},"pED+":function(wr,Vt,z){},qaDU:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return t});var lt=z("mrSG"),a=z("kXyF"),M=[1,0,0,0,1,0,0,0,1];function t(n,d){var S=d?Object(lt.d)(d):Object(lt.d)(M);return a.Util.transform(S,n)}},qx4F:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return a});var lt;function a(M){if(typeof document=="undefined")return 0;if(M||lt===void 0){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),d=n.style;d.position="absolute",d.top=0,d.left=0,d.pointerEvents="none",d.visibility="hidden",d.width="200px",d.height="150px",d.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var S=t.offsetWidth;n.style.overflow="scroll";var b=t.offsetWidth;S===b&&(b=n.clientWidth),document.body.removeChild(n),lt=S-b}return lt}},r0DC:function(wr,Vt,z){"use strict";z.d(Vt,"b",function(){return E}),z.d(Vt,"a",function(){return T});var lt=z("cyZq"),a=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,M=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,t=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,n=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function d(o,s){var u=o.match(n);Object(lt.c)(u,function(v){var C=v.split(":");s.addColorStop(C[0],C[1])})}function S(o,s,u){var v=a.exec(u),C=parseFloat(v[1])%360*(Math.PI/180),O=v[2],j=s.getBBox(),p,x;C>=0&&C<1/2*Math.PI?(p={x:j.minX,y:j.minY},x={x:j.maxX,y:j.maxY}):1/2*Math.PI<=C&&C<Math.PI?(p={x:j.maxX,y:j.minY},x={x:j.minX,y:j.maxY}):Math.PI<=C&&C<3/2*Math.PI?(p={x:j.maxX,y:j.maxY},x={x:j.minX,y:j.minY}):(p={x:j.minX,y:j.maxY},x={x:j.maxX,y:j.minY});var A=Math.tan(C),k=A*A,X=(x.x-p.x+A*(x.y-p.y))/(k+1)+p.x,et=A*(x.x-p.x+A*(x.y-p.y))/(k+1)+p.y,tt=o.createLinearGradient(p.x,p.y,X,et);return d(O,tt),tt}function b(o,s,u){var v=M.exec(u),C=parseFloat(v[1]),O=parseFloat(v[2]),j=parseFloat(v[3]),p=v[4];if(j===0){var x=p.match(n);return x[x.length-1].split(":")[1]}var A=s.getBBox(),k=A.maxX-A.minX,X=A.maxY-A.minY,et=Math.sqrt(k*k+X*X)/2,tt=o.createRadialGradient(A.minX+k*C,A.minY+X*O,0,A.minX+k/2,A.minY+X/2,j*et);return d(p,tt),tt}function h(o,s,u){if(s.get("patternSource")&&s.get("patternSource")===u)return s.get("pattern");var v,C,O=t.exec(u),j=O[1],p=O[2];function x(){v=o.createPattern(C,j),s.set("pattern",v),s.set("patternSource",u)}switch(j){case"a":j="repeat";break;case"x":j="repeat-x";break;case"y":j="repeat-y";break;case"n":j="no-repeat";break;default:j="no-repeat"}return C=new Image,p.match(/^data:/i)||(C.crossOrigin="Anonymous"),C.src=p,C.complete?x():(C.onload=x,C.src=C.src),v}function E(o,s,u){if(Object(lt.k)(u)){if(u[1]==="("||u[2]==="("){if(u[0]==="l")return S(o,s,u);if(u[0]==="r")return b(o,s,u);if(u[0]==="p")return h(o,s,u)}return u}}function T(o){var s=0,u=0,v=0,C=0;return Object(lt.g)(o)?o.length===1?s=u=v=C=o[0]:o.length===2?(s=v=o[0],u=C=o[1]):o.length===3?(s=o[0],u=C=o[1],v=o[2]):(s=o[0],u=o[1],v=o[2],C=o[3]):s=u=v=C=o,[s,u,v,C]}},"rAM+":function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return a});var lt=z("Qw5x");function a(M,t){var n;if(typeof Symbol=="undefined"||M[Symbol.iterator]==null){if(Array.isArray(M)||(n=Object(lt.a)(M))||t&&M&&typeof M.length=="number"){n&&(M=n);var d=0,S=function(){};return{s:S,n:function(){return d>=M.length?{done:!0}:{done:!1,value:M[d++]}},e:function(o){throw o},f:S}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b=!0,h=!1,E;return{s:function(){n=M[Symbol.iterator]()},n:function(){var o=n.next();return b=o.done,o},e:function(o){h=!0,E=o},f:function(){try{!b&&n.return!=null&&n.return()}finally{if(h)throw E}}}}},rtSP:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return Cn});var lt=z("mrSG"),a=z("iTfj"),M=z("zJSt"),t=z("w02o"),n=z("YuPD"),d=z("tJVT"),S=z("rAM+");function b(He,mn){var dn=0;if(mn===void 0){var Un=Object(S.a)(He),Xn;try{for(Un.s();!(Xn=Un.n()).done;){var Hn=Xn.value;(Hn=+Hn)&&(dn+=Hn)}}catch(xr){Un.e(xr)}finally{Un.f()}}else{var _n=-1,$n=Object(S.a)(He),ir;try{for($n.s();!(ir=$n.n()).done;){var dr=ir.value;(dr=+mn(dr,++_n,He))&&(dn+=dr)}}catch(xr){$n.e(xr)}finally{$n.f()}}return dn}function h(He,mn){var dn;if(mn===void 0){var Un=Object(S.a)(He),Xn;try{for(Un.s();!(Xn=Un.n()).done;){var Hn=Xn.value;Hn!=null&&(dn<Hn||dn===void 0&&Hn>=Hn)&&(dn=Hn)}}catch(xr){Un.e(xr)}finally{Un.f()}}else{var _n=-1,$n=Object(S.a)(He),ir;try{for($n.s();!(ir=$n.n()).done;){var dr=ir.value;(dr=mn(dr,++_n,He))!=null&&(dn<dr||dn===void 0&&dr>=dr)&&(dn=dr)}}catch(xr){$n.e(xr)}finally{$n.f()}}return dn}function E(He,mn){var dn;if(mn===void 0){var Un=Object(S.a)(He),Xn;try{for(Un.s();!(Xn=Un.n()).done;){var Hn=Xn.value;Hn!=null&&(dn>Hn||dn===void 0&&Hn>=Hn)&&(dn=Hn)}}catch(xr){Un.e(xr)}finally{Un.f()}}else{var _n=-1,$n=Object(S.a)(He),ir;try{for($n.s();!(ir=$n.n()).done;){var dr=ir.value;(dr=mn(dr,++_n,He))!=null&&(dn>dr||dn===void 0&&dr>=dr)&&(dn=dr)}}catch(xr){$n.e(xr)}finally{$n.f()}}return dn}function T(He){return He.target.depth}function o(He){return He.depth}function s(He,mn){return mn-1-He.height}function u(He,mn){return He.sourceLinks.length?He.depth:mn-1}function v(He){return He.targetLinks.length?He.depth:He.sourceLinks.length?E(He.sourceLinks,T)-1:0}function C(He){return function(){return He}}function O(He,mn){return p(He.source,mn.source)||He.index-mn.index}function j(He,mn){return p(He.target,mn.target)||He.index-mn.index}function p(He,mn){return He.y0-mn.y0}function x(He){return He.value}function A(He){return He.index}function k(He){return He.nodes}function X(He){return He.links}function et(He,mn){var dn=He.get(mn);if(!dn)throw new Error("missing: "+mn);return dn}function tt(He){var mn=He.nodes,dn=Object(S.a)(mn),Un;try{for(dn.s();!(Un=dn.n()).done;){var Xn=Un.value,Hn=Xn.y0,_n=Hn,$n=Object(S.a)(Xn.sourceLinks),ir;try{for($n.s();!(ir=$n.n()).done;){var dr=ir.value;dr.y0=Hn+dr.width/2,Hn+=dr.width}}catch(Er){$n.e(Er)}finally{$n.f()}var xr=Object(S.a)(Xn.targetLinks),Qr;try{for(xr.s();!(Qr=xr.n()).done;){var Mr=Qr.value;Mr.y1=_n+Mr.width/2,_n+=Mr.width}}catch(Er){xr.e(Er)}finally{xr.f()}}}catch(Er){dn.e(Er)}finally{dn.f()}}function ft(){var He=0,mn=0,dn=1,Un=1,Xn=24,Hn=8,_n,$n=A,ir=u,dr,xr,Qr=k,Mr=X,Er=6;function Dr(){var Vr={nodes:Qr.apply(null,arguments),links:Mr.apply(null,arguments)};return hi(Vr),Wi(Vr),oa(Vr),Za(Vr),Ya(Vr),tt(Vr),Vr}Dr.update=function(Vr){return tt(Vr),Vr},Dr.nodeId=function(Vr){return arguments.length?($n=typeof Vr=="function"?Vr:C(Vr),Dr):$n},Dr.nodeAlign=function(Vr){return arguments.length?(ir=typeof Vr=="function"?Vr:C(Vr),Dr):ir},Dr.nodeSort=function(Vr){return arguments.length?(dr=Vr,Dr):dr},Dr.nodeWidth=function(Vr){return arguments.length?(Xn=+Vr,Dr):Xn},Dr.nodePadding=function(Vr){return arguments.length?(Hn=_n=+Vr,Dr):Hn},Dr.nodes=function(Vr){return arguments.length?(Qr=typeof Vr=="function"?Vr:C(Vr),Dr):Qr},Dr.links=function(Vr){return arguments.length?(Mr=typeof Vr=="function"?Vr:C(Vr),Dr):Mr},Dr.linkSort=function(Vr){return arguments.length?(xr=Vr,Dr):xr},Dr.size=function(Vr){return arguments.length?(He=mn=0,dn=+Vr[0],Un=+Vr[1],Dr):[dn-He,Un-mn]},Dr.extent=function(Vr){return arguments.length?(He=+Vr[0][0],dn=+Vr[1][0],mn=+Vr[0][1],Un=+Vr[1][1],Dr):[[He,mn],[dn,Un]]},Dr.iterations=function(Vr){return arguments.length?(Er=+Vr,Dr):Er};function hi(Vr){var Pi=Vr.nodes,wi=Vr.links,Ei=Object(S.a)(Pi.entries()),bi;try{for(Ei.s();!(bi=Ei.n()).done;){var Di=bi.value,Fi=Object(d.a)(Di,2),Ni=Fi[0],ji=Fi[1];ji.index=Ni,ji.sourceLinks=[],ji.targetLinks=[]}}catch(Qt){Ei.e(Qt)}finally{Ei.f()}var Xi=new Map(Pi.map(function(Qt,ne){return[$n(Qt,ne,Pi),Qt]})),Ki=Object(S.a)(wi.entries()),la;try{for(Ki.s();!(la=Ki.n()).done;){var ta=la.value,ma=Object(d.a)(ta,2),Oa=ma[0],uo=ma[1];uo.index=Oa;var sa=uo.source,Xa=uo.target;typeof sa!="object"&&(sa=uo.source=et(Xi,sa)),typeof Xa!="object"&&(Xa=uo.target=et(Xi,Xa)),sa.sourceLinks.push(uo),Xa.targetLinks.push(uo)}}catch(Qt){Ki.e(Qt)}finally{Ki.f()}if(xr!=null){var po=Object(S.a)(Pi),bo;try{for(po.s();!(bo=po.n()).done;){var Mo=bo.value,Po=Mo.sourceLinks,ue=Mo.targetLinks;Po.sort(xr),ue.sort(xr)}}catch(Qt){po.e(Qt)}finally{po.f()}}}function Wi(Vr){var Pi=Vr.nodes,wi=Object(S.a)(Pi),Ei;try{for(wi.s();!(Ei=wi.n()).done;){var bi=Ei.value;bi.value=bi.fixedValue===void 0?Math.max(b(bi.sourceLinks,x),b(bi.targetLinks,x)):bi.fixedValue}}catch(Di){wi.e(Di)}finally{wi.f()}}function oa(Vr){for(var Pi=Vr.nodes,wi=Pi.length,Ei=new Set(Pi),bi=new Set,Di=0;Ei.size;){var Fi=Object(S.a)(Ei),Ni;try{for(Fi.s();!(Ni=Fi.n()).done;){var ji=Ni.value;ji.depth=Di;var Xi=Object(S.a)(ji.sourceLinks),Ki;try{for(Xi.s();!(Ki=Xi.n()).done;){var la=Ki.value,ta=la.target;bi.add(ta)}}catch(ma){Xi.e(ma)}finally{Xi.f()}}}catch(ma){Fi.e(ma)}finally{Fi.f()}if(++Di>wi)throw new Error("circular link");Ei=bi,bi=new Set}}function Za(Vr){for(var Pi=Vr.nodes,wi=Pi.length,Ei=new Set(Pi),bi=new Set,Di=0;Ei.size;){var Fi=Object(S.a)(Ei),Ni;try{for(Fi.s();!(Ni=Fi.n()).done;){var ji=Ni.value;ji.height=Di;var Xi=Object(S.a)(ji.targetLinks),Ki;try{for(Xi.s();!(Ki=Xi.n()).done;){var la=Ki.value,ta=la.source;bi.add(ta)}}catch(ma){Xi.e(ma)}finally{Xi.f()}}}catch(ma){Fi.e(ma)}finally{Fi.f()}if(++Di>wi)throw new Error("circular link");Ei=bi,bi=new Set}}function ao(Vr){var Pi=Vr.nodes,wi=h(Pi,function(ta){return ta.depth})+1,Ei=(dn-He-Xn)/(wi-1),bi=new Array(wi),Di=Object(S.a)(Pi),Fi;try{for(Di.s();!(Fi=Di.n()).done;){var Ni=Fi.value,ji=Math.max(0,Math.min(wi-1,Math.floor(ir.call(null,Ni,wi))));Ni.layer=ji,Ni.x0=He+ji*Ei,Ni.x1=Ni.x0+Xn,bi[ji]?bi[ji].push(Ni):bi[ji]=[Ni]}}catch(ta){Di.e(ta)}finally{Di.f()}if(dr){var Xi=Object(S.a)(bi),Ki;try{for(Xi.s();!(Ki=Xi.n()).done;){var la=Ki.value;la.sort(dr)}}catch(ta){Xi.e(ta)}finally{Xi.f()}}return bi}function Ji(Vr){var Pi=E(Vr,function(Oa){return(Un-mn-(Oa.length-1)*_n)/b(Oa,x)}),wi=Object(S.a)(Vr),Ei;try{for(wi.s();!(Ei=wi.n()).done;){var bi=Ei.value,Di=mn,Fi=Object(S.a)(bi),Ni;try{for(Fi.s();!(Ni=Fi.n()).done;){var ji=Ni.value;ji.y0=Di,ji.y1=Di+ji.value*Pi,Di=ji.y1+_n;var Xi=Object(S.a)(ji.sourceLinks),Ki;try{for(Xi.s();!(Ki=Xi.n()).done;){var la=Ki.value;la.width=la.value*Pi}}catch(Oa){Xi.e(Oa)}finally{Xi.f()}}}catch(Oa){Fi.e(Oa)}finally{Fi.f()}Di=(Un-Di+_n)/(bi.length+1);for(var ta=0;ta<bi.length;++ta){var ma=bi[ta];ma.y0+=Di*(ta+1),ma.y1+=Di*(ta+1)}Ma(bi)}}catch(Oa){wi.e(Oa)}finally{wi.f()}}function Ya(Vr){var Pi=ao(Vr);_n=Math.min(Hn,(Un-mn)/(h(Pi,function(Di){return Di.length})-1)),Ji(Pi);for(var wi=0;wi<Er;++wi){var Ei=Math.pow(.99,wi),bi=Math.max(1-Ei,(wi+1)/Er);La(Pi,Ei,bi),Ca(Pi,Ei,bi)}}function Ca(Vr,Pi,wi){for(var Ei=1,bi=Vr.length;Ei<bi;++Ei){var Di=Vr[Ei],Fi=Object(S.a)(Di),Ni;try{for(Fi.s();!(Ni=Fi.n()).done;){var ji=Ni.value,Xi=0,Ki=0,la=Object(S.a)(ji.targetLinks),ta;try{for(la.s();!(ta=la.n()).done;){var ma=ta.value,Oa=ma.source,uo=ma.value,sa=uo*(ji.layer-Oa.layer);Xi+=to(Oa,ji)*sa,Ki+=sa}}catch(po){la.e(po)}finally{la.f()}if(Ki>0){var Xa=(Xi/Ki-ji.y0)*Pi;ji.y0+=Xa,ji.y1+=Xa,$a(ji)}}}catch(po){Fi.e(po)}finally{Fi.f()}dr===void 0&&Di.sort(p),Ba(Di,wi)}}function La(Vr,Pi,wi){for(var Ei=Vr.length,bi=Ei-2;bi>=0;--bi){var Di=Vr[bi],Fi=Object(S.a)(Di),Ni;try{for(Fi.s();!(Ni=Fi.n()).done;){var ji=Ni.value,Xi=0,Ki=0,la=Object(S.a)(ji.sourceLinks),ta;try{for(la.s();!(ta=la.n()).done;){var ma=ta.value,Oa=ma.target,uo=ma.value,sa=uo*(Oa.layer-ji.layer);Xi+=Aa(ji,Oa)*sa,Ki+=sa}}catch(po){la.e(po)}finally{la.f()}if(Ki>0){var Xa=(Xi/Ki-ji.y0)*Pi;ji.y0+=Xa,ji.y1+=Xa,$a(ji)}}}catch(po){Fi.e(po)}finally{Fi.f()}dr===void 0&&Di.sort(p),Ba(Di,wi)}}function Ba(Vr,Pi){var wi=Vr.length>>1,Ei=Vr[wi];Yr(Vr,Ei.y0-_n,wi-1,Pi),oo(Vr,Ei.y1+_n,wi+1,Pi),Yr(Vr,Un,Vr.length-1,Pi),oo(Vr,mn,0,Pi)}function oo(Vr,Pi,wi,Ei){for(;wi<Vr.length;++wi){var bi=Vr[wi],Di=(Pi-bi.y0)*Ei;Di>1e-6&&(bi.y0+=Di,bi.y1+=Di),Pi=bi.y1+_n}}function Yr(Vr,Pi,wi,Ei){for(;wi>=0;--wi){var bi=Vr[wi],Di=(bi.y1-Pi)*Ei;Di>1e-6&&(bi.y0-=Di,bi.y1-=Di),Pi=bi.y0-_n}}function $a(Vr){var Pi=Vr.sourceLinks,wi=Vr.targetLinks;if(xr===void 0){var Ei=Object(S.a)(wi),bi;try{for(Ei.s();!(bi=Ei.n()).done;){var Di=bi.value,Fi=Di.source.sourceLinks;Fi.sort(j)}}catch(la){Ei.e(la)}finally{Ei.f()}var Ni=Object(S.a)(Pi),ji;try{for(Ni.s();!(ji=Ni.n()).done;){var Xi=ji.value,Ki=Xi.target.targetLinks;Ki.sort(O)}}catch(la){Ni.e(la)}finally{Ni.f()}}}function Ma(Vr){if(xr===void 0){var Pi=Object(S.a)(Vr),wi;try{for(Pi.s();!(wi=Pi.n()).done;){var Ei=wi.value,bi=Ei.sourceLinks,Di=Ei.targetLinks;bi.sort(j),Di.sort(O)}}catch(Fi){Pi.e(Fi)}finally{Pi.f()}}}function to(Vr,Pi){var wi=Vr.y0-(Vr.sourceLinks.length-1)*_n/2,Ei=Object(S.a)(Vr.sourceLinks),bi;try{for(Ei.s();!(bi=Ei.n()).done;){var Di=bi.value,Fi=Di.target,Ni=Di.width;if(Fi===Pi)break;wi+=Ni+_n}}catch(ma){Ei.e(ma)}finally{Ei.f()}var ji=Object(S.a)(Pi.targetLinks),Xi;try{for(ji.s();!(Xi=ji.n()).done;){var Ki=Xi.value,la=Ki.source,ta=Ki.width;if(la===Vr)break;wi-=ta}}catch(ma){ji.e(ma)}finally{ji.f()}return wi}function Aa(Vr,Pi){var wi=Pi.y0-(Pi.targetLinks.length-1)*_n/2,Ei=Object(S.a)(Pi.targetLinks),bi;try{for(Ei.s();!(bi=Ei.n()).done;){var Di=bi.value,Fi=Di.source,Ni=Di.width;if(Fi===Vr)break;wi+=Ni+_n}}catch(ma){Ei.e(ma)}finally{Ei.f()}var ji=Object(S.a)(Vr.sourceLinks),Xi;try{for(ji.s();!(Xi=ji.n()).done;){var Ki=Xi.value,la=Ki.target,ta=Ki.width;if(la===Pi)break;wi-=ta}}catch(ma){ji.e(ma)}finally{ji.f()}return wi}return Dr}var st=Math.PI,vt=2*st,mt=1e-6,pt=vt-mt;function rt(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Bt(){return new rt}rt.prototype=Bt.prototype={constructor:rt,moveTo:function(mn,dn){this._+="M"+(this._x0=this._x1=+mn)+","+(this._y0=this._y1=+dn)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(mn,dn){this._+="L"+(this._x1=+mn)+","+(this._y1=+dn)},quadraticCurveTo:function(mn,dn,Un,Xn){this._+="Q"+ +mn+","+ +dn+","+(this._x1=+Un)+","+(this._y1=+Xn)},bezierCurveTo:function(mn,dn,Un,Xn,Hn,_n){this._+="C"+ +mn+","+ +dn+","+ +Un+","+ +Xn+","+(this._x1=+Hn)+","+(this._y1=+_n)},arcTo:function(mn,dn,Un,Xn,Hn){mn=+mn,dn=+dn,Un=+Un,Xn=+Xn,Hn=+Hn;var _n=this._x1,$n=this._y1,ir=Un-mn,dr=Xn-dn,xr=_n-mn,Qr=$n-dn,Mr=xr*xr+Qr*Qr;if(Hn<0)throw new Error("negative radius: "+Hn);if(this._x1===null)this._+="M"+(this._x1=mn)+","+(this._y1=dn);else if(Mr>mt)if(!(Math.abs(Qr*ir-dr*xr)>mt)||!Hn)this._+="L"+(this._x1=mn)+","+(this._y1=dn);else{var Er=Un-_n,Dr=Xn-$n,hi=ir*ir+dr*dr,Wi=Er*Er+Dr*Dr,oa=Math.sqrt(hi),Za=Math.sqrt(Mr),ao=Hn*Math.tan((st-Math.acos((hi+Mr-Wi)/(2*oa*Za)))/2),Ji=ao/Za,Ya=ao/oa;Math.abs(Ji-1)>mt&&(this._+="L"+(mn+Ji*xr)+","+(dn+Ji*Qr)),this._+="A"+Hn+","+Hn+",0,0,"+ +(Qr*Er>xr*Dr)+","+(this._x1=mn+Ya*ir)+","+(this._y1=dn+Ya*dr)}},arc:function(mn,dn,Un,Xn,Hn,_n){mn=+mn,dn=+dn,Un=+Un,_n=!!_n;var $n=Un*Math.cos(Xn),ir=Un*Math.sin(Xn),dr=mn+$n,xr=dn+ir,Qr=1^_n,Mr=_n?Xn-Hn:Hn-Xn;if(Un<0)throw new Error("negative radius: "+Un);this._x1===null?this._+="M"+dr+","+xr:(Math.abs(this._x1-dr)>mt||Math.abs(this._y1-xr)>mt)&&(this._+="L"+dr+","+xr),!!Un&&(Mr<0&&(Mr=Mr%vt+vt),Mr>pt?this._+="A"+Un+","+Un+",0,1,"+Qr+","+(mn-$n)+","+(dn-ir)+"A"+Un+","+Un+",0,1,"+Qr+","+(this._x1=dr)+","+(this._y1=xr):Mr>mt&&(this._+="A"+Un+","+Un+",0,"+ +(Mr>=st)+","+Qr+","+(this._x1=mn+Un*Math.cos(Hn))+","+(this._y1=dn+Un*Math.sin(Hn))))},rect:function(mn,dn,Un,Xn){this._+="M"+(this._x0=this._x1=+mn)+","+(this._y0=this._y1=+dn)+"h"+ +Un+"v"+ +Xn+"h"+-Un+"Z"},toString:function(){return this._}};var It=Bt,St=Array.prototype.slice,H=function(He){return function(){return He}};function ot(He){return He[0]}function yt(He){return He[1]}var xt=function(He,mn){return[(mn=+mn)*Math.cos(He-=Math.PI/2),mn*Math.sin(He)]};function wt(He){return He.source}function Q(He){return He.target}function ct(He){var mn=wt,dn=Q,Un=ot,Xn=yt,Hn=null;function _n(){var $n,ir=St.call(arguments),dr=mn.apply(this,ir),xr=dn.apply(this,ir);if(Hn||(Hn=$n=It()),He(Hn,+Un.apply(this,(ir[0]=dr,ir)),+Xn.apply(this,ir),+Un.apply(this,(ir[0]=xr,ir)),+Xn.apply(this,ir)),$n)return Hn=null,$n+""||null}return _n.source=function($n){return arguments.length?(mn=$n,_n):mn},_n.target=function($n){return arguments.length?(dn=$n,_n):dn},_n.x=function($n){return arguments.length?(Un=typeof $n=="function"?$n:H(+$n),_n):Un},_n.y=function($n){return arguments.length?(Xn=typeof $n=="function"?$n:H(+$n),_n):Xn},_n.context=function($n){return arguments.length?(Hn=$n==null?null:$n,_n):Hn},_n}function it(He,mn,dn,Un,Xn){He.moveTo(mn,dn),He.bezierCurveTo(mn=(mn+Un)/2,dn,mn,Xn,Un,Xn)}function U(He,mn,dn,Un,Xn){He.moveTo(mn,dn),He.bezierCurveTo(mn,dn=(dn+Xn)/2,Un,dn,Un,Xn)}function D(He,mn,dn,Un,Xn){var Hn=xt(mn,dn),_n=xt(mn,dn=(dn+Xn)/2),$n=xt(Un,dn),ir=xt(Un,Xn);He.moveTo(Hn[0],Hn[1]),He.bezierCurveTo(_n[0],_n[1],$n[0],$n[1],ir[0],ir[1])}function W(){return ct(it)}function P(){return ct(U)}function m(){var He=ct(D);return He.angle=He.x,delete He.x,He.radius=He.y,delete He.y,He}function y(He){return[He.source.x1,He.y0]}function V(He){return[He.target.x0,He.y1]}var J=function(){return W().source(y).target(V)},ht={left:o,right:s,center:v,justify:u},gt={nodeId:function(mn){return mn.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function Mt(He){var mn=Object(a.isString)(He)?ht[He]:Object(a.isFunction)(He)?He:null;return mn||u}function Lt(He){return Object(a.assign)({},gt,He)}function At(He,mn){var dn=Lt(He),Un=dn.nodeId,Xn=dn.nodeSort,Hn=dn.nodeAlign,_n=dn.nodeWidth,$n=dn.nodePadding,ir=ft().nodeSort(Xn).links(function(xr){return xr.links}).nodeWidth(_n).nodePadding($n).nodeAlign(Mt(Hn)).extent([[0,0],[1,1]]).nodeId(Un),dr=ir(mn);return dr.nodes.forEach(function(xr){var Qr=xr.x0,Mr=xr.x1,Er=xr.y0,Dr=xr.y1;xr.x=[Qr,Mr,Mr,Qr],xr.y=[Er,Er,Dr,Dr]}),dr.links.forEach(function(xr){var Qr=xr.source,Mr=xr.target,Er=Qr.x1,Dr=Mr.x0;xr.x=[Er,Er,Dr,Dr];var hi=xr.width/2;xr.y=[xr.y0+hi,xr.y0-hi,xr.y1+hi,xr.y1-hi]}),dr}var Ct=z("tKoa"),Ot=z("DyAw"),Dt="x",Ft="y",Xt="name";function Rt(He,mn,dn){return Object(a.size)(mn)===0?!1:mn.includes(dn)?!0:mn.some(function(Un){return Rt(He,He.get(Un),dn)})}function Kt(He,mn,dn){var Un=[],Xn=[],Hn=new Map;return Object(a.each)(He,function(_n){var $n=_n[mn],ir=_n[dn];Rt(Hn,[$n],ir)?Xn.push(_n):(Un.push(_n),Hn.has(ir)||Hn.set(ir,[]),Hn.get(ir).push($n))}),Xn.length!==0&&console.warn("sankey data contains circle, "+Xn.length+" records removed.",Xn),Un}var $t=z("F/eT");function le(He,mn,dn){return Object($t.b)(He)?He/dn:mn}function Me(He,mn,dn){return Object($t.b)(He)?He/dn:mn}function on(He){var mn=He.chart,dn=He.options,Un=dn.data,Xn=dn.sourceField,Hn=dn.targetField,_n=dn.weightField,$n=dn.color,ir=dn.nodeStyle,dr=dn.edgeStyle,xr=dn.label,Qr=dn.tooltip,Mr=dn.nodeAlign,Er=dn.nodePaddingRatio,Dr=dn.nodePadding,hi=dn.nodeWidthRatio,Wi=dn.nodeWidth,oa=dn.nodeSort;mn.legend(!1),mn.tooltip(Qr),mn.axis(!1);var Za=Object(Ot.b)(Kt(Un,Xn,Hn),Xn,Hn,_n),ao=At({nodeAlign:Mr,nodePadding:Me(Dr,Er,mn.height),nodeWidth:le(Wi,hi,mn.width),nodeSort:oa},Za),Ji=ao.nodes,Ya=ao.links,Ca=Ji.map(function(Yr){return{x:Yr.x,y:Yr.y,name:Yr.name,isNode:!0}}),La=Ya.map(function(Yr){return{source:Yr.source.name,target:Yr.target.name,name:Yr.source.name||Yr.target.name,x:Yr.x,y:Yr.y,value:Yr.value,isNode:!1}}),Ba=mn.createView();Ba.data(La),Object(Ct.b)({chart:Ba,options:{xField:Dt,yField:Ft,seriesField:Xt,edge:{color:$n,style:dr,shape:"arc"},tooltip:Qr,state:{active:{style:{opacity:.8,lineWidth:0}}}}});var oo=mn.createView();return oo.data(Ca),Object(Ct.f)({chart:oo,options:{xField:Dt,yField:Ft,seriesField:Xt,polygon:{color:$n,style:ir},label:xr,tooltip:Qr}}),mn.interaction("element-active"),mn.scale({x:{sync:!0,nice:!0},y:{sync:!0,nice:!0},name:{sync:"color"}}),He}function hn(He){return Object(n.e)(on,t.c,t.a,t.j)(He)}var Cn=function(He){Object(lt.b)(mn,He);function mn(){var dn=He!==null&&He.apply(this,arguments)||this;return dn.type="sankey",dn}return mn.prototype.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},label:{fields:["x","name"],callback:function(Un,Xn){var Hn=Un[1]===1;return{style:{fill:"#545454",textAlign:Hn?"end":"start"},offsetX:Hn?-8:8,content:Xn}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,fields:["name","source","target","value","isNode"],showContent:function(Un){return!Object(a.get)(Un,[0,"data","isNode"])},formatter:function(Un){var Xn=Un.source,Hn=Un.target,_n=Un.value;return{name:Xn+" -> "+Hn,value:_n}}},nodeWidthRatio:.008,nodePaddingRatio:.01}},mn.prototype.getSchemaAdaptor=function(){return hn},mn}(M.a)},sYIZ:function(wr,Vt,z){"use strict";var lt=z("mrSG"),a=z("aFU3");function M(s,u){if(u){var v=Object(a.invert)(u);return Object(a.multiplyVec2)(v,s)}return s}function t(s,u,v){var C=s.getTotalMatrix();if(C){var O=M([u,v,1],C),j=O[0],p=O[1];return[j,p]}return[u,v]}function n(s,u,v){if(s.isCanvas&&s.isCanvas())return!0;if(!Object(a.isAllowCapture)(s)||s.cfg.isInView===!1)return!1;if(s.cfg.clipShape){var C=t(s,u,v),O=C[0],j=C[1];if(s.isClipped(O,j))return!1}var p=s.cfg.cacheCanvasBBox||s.getCanvasBBox();return u>=p.minX&&u<=p.maxX&&v>=p.minY&&v<=p.maxY}function d(s,u,v){if(!n(s,u,v))return null;for(var C=null,O=s.getChildren(),j=O.length,p=j-1;p>=0;p--){var x=O[p];if(x.isGroup())C=d(x,u,v);else if(n(x,u,v)){var A=x,k=t(x,u,v),X=k[0],et=k[1];A.isInShape(X,et)&&(C=x)}if(C)break}return C}var S=z("R5nb"),b=z("wq2r"),h=z("cyZq"),E=z("9eUa"),T=function(s){Object(lt.b)(u,s);function u(){return s!==null&&s.apply(this,arguments)||this}return u.prototype.getDefaultCfg=function(){var v=s.prototype.getDefaultCfg.call(this);return v.renderer="canvas",v.autoDraw=!0,v.localRefresh=!0,v.refreshElements=[],v.clipView=!0,v.quickHit=!1,v},u.prototype.onCanvasChange=function(v){(v==="attr"||v==="sort"||v==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},u.prototype.getShapeBase=function(){return S},u.prototype.getGroupBase=function(){return b.a},u.prototype.getPixelRatio=function(){var v=this.get("pixelRatio")||Object(h.d)();return v>=1?Math.ceil(v):1},u.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},u.prototype.createDom=function(){var v=document.createElement("canvas"),C=v.getContext("2d");return this.set("context",C),v},u.prototype.setDOMSize=function(v,C){s.prototype.setDOMSize.call(this,v,C);var O=this.get("context"),j=this.get("el"),p=this.getPixelRatio();j.width=p*v,j.height=p*C,p>1&&O.scale(p,p)},u.prototype.clear=function(){s.prototype.clear.call(this),this._clearFrame();var v=this.get("context"),C=this.get("el");v.clearRect(0,0,C.width,C.height)},u.prototype.getShape=function(v,C){var O;return this.get("quickHit")?O=d(this,v,C):O=s.prototype.getShape.call(this,v,C,null),O},u.prototype._getRefreshRegion=function(){var v=this.get("refreshElements"),C=this.getViewRange(),O;if(v.length&&v[0]===this)O=C;else if(O=Object(E.f)(v),O){O.minX=Math.floor(O.minX),O.minY=Math.floor(O.minY),O.maxX=Math.ceil(O.maxX),O.maxY=Math.ceil(O.maxY),O.maxY+=1;var j=this.get("clipView");j&&(O=Object(E.g)(O,C))}return O},u.prototype.refreshElement=function(v){var C=this.get("refreshElements");C.push(v)},u.prototype._clearFrame=function(){var v=this.get("drawFrame");v&&(Object(h.a)(v),this.set("drawFrame",null),this.set("refreshElements",[]))},u.prototype.draw=function(){var v=this.get("drawFrame");this.get("autoDraw")&&v||this._startDraw()},u.prototype._drawAll=function(){var v=this.get("context"),C=this.get("el"),O=this.getChildren();v.clearRect(0,0,C.width,C.height),Object(E.a)(v,this),Object(E.d)(v,O),this.set("refreshElements",[])},u.prototype._drawRegion=function(){var v=this.get("context"),C=this.get("refreshElements"),O=this.getChildren(),j=this._getRefreshRegion();j?(v.clearRect(j.minX,j.minY,j.maxX-j.minX,j.maxY-j.minY),v.save(),v.beginPath(),v.rect(j.minX,j.minY,j.maxX-j.minX,j.maxY-j.minY),v.clip(),Object(E.a)(v,this),Object(E.b)(this,O,j),Object(E.d)(v,O,j),v.restore()):C.length&&Object(E.c)(C),Object(h.c)(C,function(p){p.get("hasChanged")&&p.set("hasChanged",!1)}),this.set("refreshElements",[])},u.prototype._startDraw=function(){var v=this,C=this.get("drawFrame");C||(C=Object(h.n)(function(){v.get("localRefresh")?v._drawRegion():v._drawAll(),v.set("drawFrame",null)}),this.set("drawFrame",C))},u.prototype.skipDraw=function(){},u}(a.AbstractCanvas),o=Vt.a=T},sqD9:function(wr,Vt,z){"use strict";z.d(Vt,"b",function(){return t}),z.d(Vt,"a",function(){return n});var lt=z("mrSG"),a=z("iTfj"),M=z("F/eT");function t(d,S,b,h){var E=Object(a.reduce)(d,function(T,o){var s=o[b],u=T.has(s)?T.get(s):0,v=o[S];return u=Object(M.b)(v)?u+v:u,T.set(s,u),T},new Map);return Object(a.map)(d,function(T){var o,s=T[S],u=T[b],v=Object(M.b)(s)?s/E.get(u):0;return Object(lt.a)(Object(lt.a)({},T),(o={},o[h]=v,o))})}function n(d,S,b,h,E){return E?t(d,S,b,h):d}},sstZ:function(wr,Vt,z){"use strict";z.d(Vt,"j",function(){return a}),z.d(Vt,"c",function(){return M}),z.d(Vt,"g",function(){return t}),z.d(Vt,"b",function(){return n});var lt=z("iTfj");z.d(Vt,"e",function(){return lt.isNil}),z.d(Vt,"d",function(){return lt.isFunction}),z.d(Vt,"h",function(){return lt.isString}),z.d(Vt,"f",function(){return lt.isObject}),z.d(Vt,"i",function(){return lt.mix}),z.d(Vt,"a",function(){return lt.each}),z.d(Vt,"k",function(){return lt.upperFirst});function a(d,S){var b=d.indexOf(S);b!==-1&&d.splice(b,1)}var M=typeof window!="undefined"&&typeof window.document!="undefined";function t(d,S){if(d.isCanvas())return!0;for(var b=S.getParent(),h=!1;b;){if(b===d){h=!0;break}b=b.getParent()}return h}function n(d){return d.cfg.visible&&d.cfg.capture}},tE4n:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return et});var lt=z("mrSG"),a=z("zJSt"),M=z("YuPD"),t=z("iTfj"),n=z("tKoa"),d=z("w02o"),S=z("Tc6Q"),b={exp:S.regressionExp,linear:S.regressionLinear,loess:S.regressionLoess,log:S.regressionLog,poly:S.regressionPoly,pow:S.regressionPow,quad:S.regressionQuad};function h(tt,ft){var st=10,vt={regionStyle:[{position:{start:[tt,"max"],end:["max",ft]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[tt,ft]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",ft],end:[tt,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[tt,ft],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",ft],offsetX:-st,offsetY:-st,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",ft],offsetX:st,offsetY:-st,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",ft],offsetX:st,offsetY:st,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",ft],offsetX:-st,offsetY:st,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]};return vt}var E=function(ft,st){var vt=st.view,mt=st.options,pt=mt.xField,rt=mt.yField,Bt=vt.getScaleByField(pt),It=vt.getScaleByField(rt),St=ft.map(function(H){return vt.getCoordinate().convert({x:Bt.scale(H[0]),y:It.scale(H[1])})});return Object(M.h)(St,!1)},T=function(ft){var st=ft.options,vt=st.xField,mt=st.yField,pt=st.data,rt=st.regressionLine,Bt=rt.type,It=Bt===void 0?"linear":Bt,St=rt.algorithm,H;if(St)H=Object(t.isArray)(St)?St:St(pt);else{var ot=b[It]().x(function(yt){return yt[vt]}).y(function(yt){return yt[mt]});H=ot(pt)}return E(H,ft)},o=function(ft){var st,vt=ft.meta,mt=vt===void 0?{}:vt,pt=ft.xField,rt=ft.yField,Bt=ft.data,It=Bt[0][pt],St=Bt[0][rt],H=It>0,ot=St>0,yt=function(wt,Q,ct){var it=Object(t.get)(mt,[wt,Q]);if(Object(t.isNumber)(it))return it;if(ct==="x"){var U={min:H?0:It*2,max:H?It*2:0};return U[Q]}var D={min:ot?0:St*2,max:ot?St*2:0};return D[Q]};return Object(lt.a)(Object(lt.a)({},mt),(st={},st[pt]=Object(lt.a)(Object(lt.a)({},mt[pt]),{min:yt(pt,"min","x"),max:yt(pt,"max","x")}),st[rt]=Object(lt.a)(Object(lt.a)({},mt[rt]),{min:yt(rt,"min","y"),max:yt(rt,"max","y")}),st))};function s(tt){var ft=tt.data,st=ft===void 0?[]:ft;return st.length===1?Object(M.b)({},tt,{meta:o(tt)}):tt}function u(tt){var ft=tt.chart,st=tt.options,vt=st.data,mt=st.type,pt=st.color,rt=st.shape,Bt=st.pointStyle,It=st.shapeField,St=st.colorField,H=st.xField,ot=st.yField,yt=st.sizeField,xt=st.size,wt=st.tooltip;yt&&(xt||(xt=[2,8]),Object(t.isNumber)(xt)&&(xt=[xt,xt])),wt&&!wt.fields&&(wt=Object(lt.a)(Object(lt.a)({},wt),{fields:[H,ot,St,yt,It]})),ft.data(vt),Object(n.e)(Object(M.b)({},tt,{options:{seriesField:St,point:{color:pt,shape:rt,size:xt,style:Bt},tooltip:wt}}));var Q=Object(M.c)(ft,"point");return mt&&Q.adjust(mt),tt}function v(tt){var ft,st=tt.options,vt=st.data,mt=st.xAxis,pt=st.yAxis,rt=st.xField,Bt=st.yField,It=st;return vt.length===1&&(It=s(Object(M.b)({},st,{meta:o(st)}))),Object(M.e)(Object(d.f)((ft={},ft[rt]=mt,ft[Bt]=pt,ft)))(Object(M.b)({},tt,{options:It}))}function C(tt){var ft=tt.chart,st=tt.options,vt=st.xAxis,mt=st.yAxis,pt=st.xField,rt=st.yField;return ft.axis(pt,vt),ft.axis(rt,mt),tt}function O(tt){var ft=tt.chart,st=tt.options,vt=st.legend,mt=st.colorField,pt=st.shapeField,rt=st.sizeField,Bt=Object(t.isBoolean)(vt)?vt:vt||!!(pt||mt);return Bt?(ft.legend(mt||pt,vt),rt&&ft.legend(rt,!1)):ft.legend(!1),tt}function j(tt){var ft=tt.chart,st=tt.options,vt=st.label,mt=st.yField,pt=Object(M.c)(ft,"point");if(!vt)pt.label(!1);else{var rt=vt.callback,Bt=Object(lt.c)(vt,["callback"]);pt.label({fields:[mt],callback:rt,cfg:Object(M.p)(Bt)})}return tt}function p(tt){var ft=tt.options,st=ft.quadrant,vt=[];if(st){var mt=st.xBaseline,pt=mt===void 0?0:mt,rt=st.yBaseline,Bt=rt===void 0?0:rt,It=st.labels,St=st.regionStyle,H=st.lineStyle,ot=h(pt,Bt),yt=new Array(4).join(",").split(",");yt.forEach(function(xt,wt){vt.push(Object(lt.a)(Object(lt.a)({type:"region",top:!1},ot.regionStyle[wt].position),{style:Object(M.b)({},ot.regionStyle[wt].style,St==null?void 0:St[wt])}),Object(lt.a)({type:"text",top:!0},Object(M.b)({},ot.labelStyle[wt],It==null?void 0:It[wt])))}),vt.push({type:"line",top:!1,start:["min",Bt],end:["max",Bt],style:Object(M.b)({},ot.lineStyle,H)},{type:"line",top:!1,start:[pt,"min"],end:[pt,"max"],style:Object(M.b)({},ot.lineStyle,H)})}return Object(M.e)(Object(d.b)(vt))(tt)}function x(tt){var ft=tt.options,st=tt.chart,vt=ft.regressionLine;if(vt){var mt=vt.style,pt=vt.top,rt=pt===void 0?!1:pt,Bt={stroke:"#9ba29a",lineWidth:2,opacity:.5};st.annotation().shape({top:rt,render:function(St,H){var ot=St.addGroup({id:st.id+"-regression-line",name:"regression-line-group"}),yt=T({view:H,options:ft});ot.addShape("path",{name:"regression-line",attrs:Object(lt.a)(Object(lt.a)({path:yt},Bt),mt)})}})}return tt}function A(tt){var ft=tt.chart,st=tt.options,vt=st.tooltip;return vt?ft.tooltip(vt):vt===!1&&ft.tooltip(!1),tt}function k(tt){return Object(M.e)(u,v,C,O,A,j,d.c,p,d.a,d.j,x)(tt)}var X=z("hag6"),et=function(tt){Object(lt.b)(ft,tt);function ft(){var st=tt!==null&&tt.apply(this,arguments)||this;return st.type="point",st}return ft.prototype.changeData=function(st){this.updateOption(s(Object(M.b)({},this.options,{data:st})));var vt=this,mt=vt.options,pt=vt.chart;v({chart:pt,options:mt}),this.chart.changeData(st)},ft.prototype.getSchemaAdaptor=function(){return k},ft.prototype.getDefaultOptions=function(){return Object(M.b)({},tt.prototype.getDefaultOptions.call(this),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}})},ft}(a.a)},tKoa:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return n}),z.d(Vt,"d",function(){return S}),z.d(Vt,"e",function(){return b}),z.d(Vt,"c",function(){return T}),z.d(Vt,"f",function(){return o.a}),z.d(Vt,"b",function(){return s});var lt=z("mrSG"),a=z("5HRO"),M=z("YuPD"),t=z("WOQw");function n(u){var v=u.options,C=v.area,O=v.xField,j=v.yField,p=v.seriesField,x=v.smooth,A=v.tooltip,k=Object(a.a)(A,[O,j,p]),X=k.fields,et=k.formatter;return C?Object(t.a)(Object(M.b)({},u,{options:{type:"area",colorField:p,tooltipFields:X,mapping:Object(lt.a)({shape:x?"smooth":"area",tooltip:et},C)}})):u}var d=z("iTfj");function S(u){var v=u.options,C=v.line,O=v.stepType,j=v.xField,p=v.yField,x=v.seriesField,A=v.smooth,k=v.connectNulls,X=v.tooltip,et=Object(a.a)(X,[j,p,x]),tt=et.fields,ft=et.formatter;return C?Object(t.a)(Object(M.b)({},u,{options:{type:"line",colorField:x,tooltipFields:tt,mapping:Object(d.deepMix)({shape:O||(A?"smooth":"line"),tooltip:ft},C),args:{connectNulls:k}}})):u}function b(u){var v=u.options,C=v.point,O=v.xField,j=v.yField,p=v.seriesField,x=v.sizeField,A=v.shapeField,k=v.tooltip,X=Object(a.a)(k,[O,j,p,x,A]),et=X.fields,tt=X.formatter;return C?Object(t.a)(Object(M.b)({},u,{options:{type:"point",colorField:p,shapeField:A,tooltipFields:et,mapping:Object(lt.a)({tooltip:tt},C)}})):u}var h=z("kXyF");function E(u){var v=u.chart,C=u.options,O=u.ext,j=C.seriesField,p=C.isGroup,x=C.isStack,A=C.marginRatio,k=C.widthRatio,X=C.groupField,et=C.theme,tt=[];if(j&&(p&&tt.push({type:"dodge",dodgeBy:X||j,marginRatio:A}),x&&tt.push({type:"stack",marginRatio:A})),tt.length&&(O==null?void 0:O.geometry)){var ft=O==null?void 0:O.geometry;ft.adjust(tt)}return Object(d.isNil)(k)||v.theme(Object(M.b)({},Object(d.isObject)(et)?et:Object(h.getTheme)(et),{columnWidthRatio:k})),u}function T(u){var v=u.options,C=v.xField,O=v.yField,j=v.interval,p=v.seriesField,x=v.tooltip,A=v.minColumnWidth,k=v.maxColumnWidth,X=v.columnBackground,et=Object(a.a)(x,[C,O,p]),tt=et.fields,ft=et.formatter,st=(j?Object(t.a)(Object(M.b)({},u,{options:{type:"interval",colorField:p,tooltipFields:tt,mapping:Object(lt.a)({tooltip:ft},j),args:{minColumnWidth:A,maxColumnWidth:k,background:X}}})):u).ext;return E(Object(lt.a)(Object(lt.a)({},u),{ext:st}))}var o=z("KMYG");function s(u){var v=u.options,C=v.edge,O=v.xField,j=v.yField,p=v.seriesField,x=v.tooltip,A=Object(a.a)(x,[O,j,p]),k=A.fields,X=A.formatter;return C?Object(t.a)(Object(M.b)({},u,{options:{type:"edge",colorField:p,tooltipFields:k,mapping:Object(lt.a)({tooltip:X},C)}})):u}},tdXX:function(wr,Vt){},"tvR+":function(wr,Vt,z){"use strict";var lt=z("DdT1"),a=z("I4jL"),M=z("IeU1"),t=z("CSvP");Vt.a=function(){var n=a.a,d=!1,S=1,b=1,h=[0],E=t.a,T=t.a,o=t.a,s=t.a,u=t.a;function v(O){return O.x0=O.y0=0,O.x1=S,O.y1=b,O.eachBefore(C),h=[0],d&&O.eachBefore(lt.a),O}function C(O){var j=h[O.depth],p=O.x0+j,x=O.y0+j,A=O.x1-j,k=O.y1-j;A<p&&(p=A=(p+A)/2),k<x&&(x=k=(x+k)/2),O.x0=p,O.y0=x,O.x1=A,O.y1=k,O.children&&(j=h[O.depth+1]=E(O)/2,p+=u(O)-j,x+=T(O)-j,A-=o(O)-j,k-=s(O)-j,A<p&&(p=A=(p+A)/2),k<x&&(x=k=(x+k)/2),n(O,p,x,A,k))}return v.round=function(O){return arguments.length?(d=!!O,v):d},v.size=function(O){return arguments.length?(S=+O[0],b=+O[1],v):[S,b]},v.tile=function(O){return arguments.length?(n=Object(M.b)(O),v):n},v.padding=function(O){return arguments.length?v.paddingInner(O).paddingOuter(O):v.paddingInner()},v.paddingInner=function(O){return arguments.length?(E=typeof O=="function"?O:Object(t.b)(+O),v):E},v.paddingOuter=function(O){return arguments.length?v.paddingTop(O).paddingRight(O).paddingBottom(O).paddingLeft(O):v.paddingTop()},v.paddingTop=function(O){return arguments.length?(T=typeof O=="function"?O:Object(t.b)(+O),v):T},v.paddingRight=function(O){return arguments.length?(o=typeof O=="function"?O:Object(t.b)(+O),v):o},v.paddingBottom=function(O){return arguments.length?(s=typeof O=="function"?O:Object(t.b)(+O),v):s},v.paddingLeft=function(O){return arguments.length?(u=typeof O=="function"?O:Object(t.b)(+O),v):u},v}},tvuL:function(wr,Vt,z){"use strict";z.r(Vt),z.d(Vt,"catmullRomToBezier",function(){return d}),z.d(Vt,"fillPath",function(){return rt}),z.d(Vt,"fillPathByDiff",function(){return H}),z.d(Vt,"formatPath",function(){return xt}),z.d(Vt,"intersection",function(){return st}),z.d(Vt,"parsePathArray",function(){return u}),z.d(Vt,"parsePathString",function(){return n}),z.d(Vt,"pathToAbsolute",function(){return b}),z.d(Vt,"pathToCurve",function(){return o}),z.d(Vt,"rectPath",function(){return x});var lt=z("iTfj"),a=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,M=new RegExp("([a-z])["+a+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+a+"]*,?["+a+"]*)+)","ig"),t=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+a+"]*,?["+a+"]*","ig"),n=function(Q){if(!Q)return null;if(Object(lt.isArray)(Q))return Q;var ct={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},it=[];return String(Q).replace(M,function(U,D,W){var P=[],m=D.toLowerCase();if(W.replace(t,function(y,V){V&&P.push(+V)}),m==="m"&&P.length>2&&(it.push([D].concat(P.splice(0,2))),m="l",D=D==="m"?"l":"L"),m==="o"&&P.length===1&&it.push([D,P[0]]),m==="r")it.push([D].concat(P));else for(;P.length>=ct[m]&&(it.push([D].concat(P.splice(0,ct[m]))),!!ct[m]););return Q}),it},d=function(Q,ct){for(var it=[],U=0,D=Q.length;D-2*!ct>U;U+=2){var W=[{x:+Q[U-2],y:+Q[U-1]},{x:+Q[U],y:+Q[U+1]},{x:+Q[U+2],y:+Q[U+3]},{x:+Q[U+4],y:+Q[U+5]}];ct?U?D-4===U?W[3]={x:+Q[0],y:+Q[1]}:D-2===U&&(W[2]={x:+Q[0],y:+Q[1]},W[3]={x:+Q[2],y:+Q[3]}):W[0]={x:+Q[D-2],y:+Q[D-1]}:D-4===U?W[3]=W[2]:U||(W[0]={x:+Q[U],y:+Q[U+1]}),it.push(["C",(-W[0].x+6*W[1].x+W[2].x)/6,(-W[0].y+6*W[1].y+W[2].y)/6,(W[1].x+6*W[2].x-W[3].x)/6,(W[1].y+6*W[2].y-W[3].y)/6,W[2].x,W[2].y])}return it},S=function(Q,ct,it,U,D){var W=[];if(D===null&&U===null&&(U=it),Q=+Q,ct=+ct,it=+it,U=+U,D!==null){var P=Math.PI/180,m=Q+it*Math.cos(-U*P),y=Q+it*Math.cos(-D*P),V=ct+it*Math.sin(-U*P),J=ct+it*Math.sin(-D*P);W=[["M",m,V],["A",it,it,0,+(D-U>180),0,y,J]]}else W=[["M",Q,ct],["m",0,-U],["a",it,U,0,1,1,0,2*U],["a",it,U,0,1,1,0,-2*U],["z"]];return W},b=function(Q){if(Q=n(Q),!Q||!Q.length)return[["M",0,0]];var ct=[],it=0,U=0,D=0,W=0,P=0,m,y;Q[0][0]==="M"&&(it=+Q[0][1],U=+Q[0][2],D=it,W=U,P++,ct[0]=["M",it,U]);for(var V=Q.length===3&&Q[0][0]==="M"&&Q[1][0].toUpperCase()==="R"&&Q[2][0].toUpperCase()==="Z",J=void 0,ht=void 0,gt=P,Mt=Q.length;gt<Mt;gt++){if(ct.push(J=[]),ht=Q[gt],m=ht[0],m!==m.toUpperCase())switch(J[0]=m.toUpperCase(),J[0]){case"A":J[1]=ht[1],J[2]=ht[2],J[3]=ht[3],J[4]=ht[4],J[5]=ht[5],J[6]=+ht[6]+it,J[7]=+ht[7]+U;break;case"V":J[1]=+ht[1]+U;break;case"H":J[1]=+ht[1]+it;break;case"R":y=[it,U].concat(ht.slice(1));for(var Lt=2,At=y.length;Lt<At;Lt++)y[Lt]=+y[Lt]+it,y[++Lt]=+y[Lt]+U;ct.pop(),ct=ct.concat(d(y,V));break;case"O":ct.pop(),y=S(it,U,ht[1],ht[2]),y.push(y[0]),ct=ct.concat(y);break;case"U":ct.pop(),ct=ct.concat(S(it,U,ht[1],ht[2],ht[3])),J=["U"].concat(ct[ct.length-1].slice(-2));break;case"M":D=+ht[1]+it,W=+ht[2]+U;break;default:for(var Lt=1,At=ht.length;Lt<At;Lt++)J[Lt]=+ht[Lt]+(Lt%2?it:U)}else if(m==="R")y=[it,U].concat(ht.slice(1)),ct.pop(),ct=ct.concat(d(y,V)),J=["R"].concat(ht.slice(-2));else if(m==="O")ct.pop(),y=S(it,U,ht[1],ht[2]),y.push(y[0]),ct=ct.concat(y);else if(m==="U")ct.pop(),ct=ct.concat(S(it,U,ht[1],ht[2],ht[3])),J=["U"].concat(ct[ct.length-1].slice(-2));else for(var Ct=0,Ot=ht.length;Ct<Ot;Ct++)J[Ct]=ht[Ct];if(m=m.toUpperCase(),m!=="O")switch(J[0]){case"Z":it=+D,U=+W;break;case"H":it=J[1];break;case"V":U=J[1];break;case"M":D=J[J.length-2],W=J[J.length-1];break;default:it=J[J.length-2],U=J[J.length-1]}}return ct},h=function(Q,ct,it,U){return[Q,ct,it,U,it,U]},E=function(Q,ct,it,U,D,W){var P=1/3,m=2/3;return[P*Q+m*it,P*ct+m*U,P*D+m*it,P*W+m*U,D,W]},T=function wt(Q,ct,it,U,D,W,P,m,y,V){it===U&&(it+=1);var J=Math.PI*120/180,ht=Math.PI/180*(+D||0),gt=[],Mt,Lt,At,Ct,Ot,Dt=function(hi,Wi,oa){var Za=hi*Math.cos(oa)-Wi*Math.sin(oa),ao=hi*Math.sin(oa)+Wi*Math.cos(oa);return{x:Za,y:ao}};if(V)Lt=V[0],At=V[1],Ct=V[2],Ot=V[3];else{Mt=Dt(Q,ct,-ht),Q=Mt.x,ct=Mt.y,Mt=Dt(m,y,-ht),m=Mt.x,y=Mt.y,Q===m&&ct===y&&(m+=1,y+=1);var Ft=(Q-m)/2,Xt=(ct-y)/2,Rt=Ft*Ft/(it*it)+Xt*Xt/(U*U);Rt>1&&(Rt=Math.sqrt(Rt),it=Rt*it,U=Rt*U);var Kt=it*it,$t=U*U,le=(W===P?-1:1)*Math.sqrt(Math.abs((Kt*$t-Kt*Xt*Xt-$t*Ft*Ft)/(Kt*Xt*Xt+$t*Ft*Ft)));Ct=le*it*Xt/U+(Q+m)/2,Ot=le*-U*Ft/it+(ct+y)/2,Lt=Math.asin(((ct-Ot)/U).toFixed(9)),At=Math.asin(((y-Ot)/U).toFixed(9)),Lt=Q<Ct?Math.PI-Lt:Lt,At=m<Ct?Math.PI-At:At,Lt<0&&(Lt=Math.PI*2+Lt),At<0&&(At=Math.PI*2+At),P&&Lt>At&&(Lt=Lt-Math.PI*2),!P&&At>Lt&&(At=At-Math.PI*2)}var Me=At-Lt;if(Math.abs(Me)>J){var on=At,hn=m,Cn=y;At=Lt+J*(P&&At>Lt?1:-1),m=Ct+it*Math.cos(At),y=Ot+U*Math.sin(At),gt=wt(m,y,it,U,D,0,P,hn,Cn,[At,on,Ct,Ot])}Me=At-Lt;var He=Math.cos(Lt),mn=Math.sin(Lt),dn=Math.cos(At),Un=Math.sin(At),Xn=Math.tan(Me/4),Hn=4/3*it*Xn,_n=4/3*U*Xn,$n=[Q,ct],ir=[Q+Hn*mn,ct-_n*He],dr=[m+Hn*Un,y-_n*dn],xr=[m,y];if(ir[0]=2*$n[0]-ir[0],ir[1]=2*$n[1]-ir[1],V)return[ir,dr,xr].concat(gt);gt=[ir,dr,xr].concat(gt).join().split(",");for(var Qr=[],Mr=0,Er=gt.length;Mr<Er;Mr++)Qr[Mr]=Mr%2?Dt(gt[Mr-1],gt[Mr],ht).y:Dt(gt[Mr],gt[Mr+1],ht).x;return Qr},o=function(Q,ct){var it=b(Q),U=ct&&b(ct),D={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},W={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},P=[],m=[],y="",V="",J,ht=function(Xt,Rt,Kt){var $t,le;if(!Xt)return["C",Rt.x,Rt.y,Rt.x,Rt.y,Rt.x,Rt.y];switch(!(Xt[0]in{T:1,Q:1})&&(Rt.qx=Rt.qy=null),Xt[0]){case"M":Rt.X=Xt[1],Rt.Y=Xt[2];break;case"A":Xt=["C"].concat(T.apply(0,[Rt.x,Rt.y].concat(Xt.slice(1))));break;case"S":Kt==="C"||Kt==="S"?($t=Rt.x*2-Rt.bx,le=Rt.y*2-Rt.by):($t=Rt.x,le=Rt.y),Xt=["C",$t,le].concat(Xt.slice(1));break;case"T":Kt==="Q"||Kt==="T"?(Rt.qx=Rt.x*2-Rt.qx,Rt.qy=Rt.y*2-Rt.qy):(Rt.qx=Rt.x,Rt.qy=Rt.y),Xt=["C"].concat(E(Rt.x,Rt.y,Rt.qx,Rt.qy,Xt[1],Xt[2]));break;case"Q":Rt.qx=Xt[1],Rt.qy=Xt[2],Xt=["C"].concat(E(Rt.x,Rt.y,Xt[1],Xt[2],Xt[3],Xt[4]));break;case"L":Xt=["C"].concat(h(Rt.x,Rt.y,Xt[1],Xt[2]));break;case"H":Xt=["C"].concat(h(Rt.x,Rt.y,Xt[1],Rt.y));break;case"V":Xt=["C"].concat(h(Rt.x,Rt.y,Rt.x,Xt[1]));break;case"Z":Xt=["C"].concat(h(Rt.x,Rt.y,Rt.X,Rt.Y));break;default:break}return Xt},gt=function(Xt,Rt){if(Xt[Rt].length>7){Xt[Rt].shift();for(var Kt=Xt[Rt];Kt.length;)P[Rt]="A",U&&(m[Rt]="A"),Xt.splice(Rt++,0,["C"].concat(Kt.splice(0,6)));Xt.splice(Rt,1),J=Math.max(it.length,U&&U.length||0)}},Mt=function(Xt,Rt,Kt,$t,le){Xt&&Rt&&Xt[le][0]==="M"&&Rt[le][0]!=="M"&&(Rt.splice(le,0,["M",$t.x,$t.y]),Kt.bx=0,Kt.by=0,Kt.x=Xt[le][1],Kt.y=Xt[le][2],J=Math.max(it.length,U&&U.length||0))};J=Math.max(it.length,U&&U.length||0);for(var Lt=0;Lt<J;Lt++){it[Lt]&&(y=it[Lt][0]),y!=="C"&&(P[Lt]=y,Lt&&(V=P[Lt-1])),it[Lt]=ht(it[Lt],D,V),P[Lt]!=="A"&&y==="C"&&(P[Lt]="C"),gt(it,Lt),U&&(U[Lt]&&(y=U[Lt][0]),y!=="C"&&(m[Lt]=y,Lt&&(V=m[Lt-1])),U[Lt]=ht(U[Lt],W,V),m[Lt]!=="A"&&y==="C"&&(m[Lt]="C"),gt(U,Lt)),Mt(it,U,D,W,Lt),Mt(U,it,W,D,Lt);var At=it[Lt],Ct=U&&U[Lt],Ot=At.length,Dt=U&&Ct.length;D.x=At[Ot-2],D.y=At[Ot-1],D.bx=parseFloat(At[Ot-4])||D.x,D.by=parseFloat(At[Ot-3])||D.y,W.bx=U&&(parseFloat(Ct[Dt-4])||W.x),W.by=U&&(parseFloat(Ct[Dt-3])||W.y),W.x=U&&Ct[Dt-2],W.y=U&&Ct[Dt-1]}return U?[it,U]:it},s=/,?([a-z]),?/gi,u=function(Q){return Q.join(",").replace(s,"$1")},v=function(Q,ct,it,U,D){var W=-3*ct+9*it-9*U+3*D,P=Q*W+6*ct-12*it+6*U;return Q*P-3*ct+3*it},C=function(Q,ct,it,U,D,W,P,m,y){y===null&&(y=1),y=y>1?1:y<0?0:y;for(var V=y/2,J=12,ht=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],gt=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Mt=0,Lt=0;Lt<J;Lt++){var At=V*ht[Lt]+V,Ct=v(At,Q,it,D,P),Ot=v(At,ct,U,W,m),Dt=Ct*Ct+Ot*Ot;Mt+=gt[Lt]*Math.sqrt(Dt)}return V*Mt},O=function(Q,ct,it,U,D,W,P,m){for(var y=[],V=[[],[]],J,ht,gt,Mt,Lt=0;Lt<2;++Lt){if(Lt===0?(ht=6*Q-12*it+6*D,J=-3*Q+9*it-9*D+3*P,gt=3*it-3*Q):(ht=6*ct-12*U+6*W,J=-3*ct+9*U-9*W+3*m,gt=3*U-3*ct),Math.abs(J)<1e-12){if(Math.abs(ht)<1e-12)continue;Mt=-gt/ht,Mt>0&&Mt<1&&y.push(Mt);continue}var At=ht*ht-4*gt*J,Ct=Math.sqrt(At);if(!(At<0)){var Ot=(-ht+Ct)/(2*J);Ot>0&&Ot<1&&y.push(Ot);var Dt=(-ht-Ct)/(2*J);Dt>0&&Dt<1&&y.push(Dt)}}for(var Ft=y.length,Xt=Ft,Rt;Ft--;)Mt=y[Ft],Rt=1-Mt,V[0][Ft]=Rt*Rt*Rt*Q+3*Rt*Rt*Mt*it+3*Rt*Mt*Mt*D+Mt*Mt*Mt*P,V[1][Ft]=Rt*Rt*Rt*ct+3*Rt*Rt*Mt*U+3*Rt*Mt*Mt*W+Mt*Mt*Mt*m;return V[0][Xt]=Q,V[1][Xt]=ct,V[0][Xt+1]=P,V[1][Xt+1]=m,V[0].length=V[1].length=Xt+2,{min:{x:Math.min.apply(0,V[0]),y:Math.min.apply(0,V[1])},max:{x:Math.max.apply(0,V[0]),y:Math.max.apply(0,V[1])}}},j=function(Q,ct,it,U,D,W,P,m){if(!(Math.max(Q,it)<Math.min(D,P)||Math.min(Q,it)>Math.max(D,P)||Math.max(ct,U)<Math.min(W,m)||Math.min(ct,U)>Math.max(W,m))){var y=(Q*U-ct*it)*(D-P)-(Q-it)*(D*m-W*P),V=(Q*U-ct*it)*(W-m)-(ct-U)*(D*m-W*P),J=(Q-it)*(W-m)-(ct-U)*(D-P);if(!!J){var ht=y/J,gt=V/J,Mt=+ht.toFixed(2),Lt=+gt.toFixed(2);if(!(Mt<+Math.min(Q,it).toFixed(2)||Mt>+Math.max(Q,it).toFixed(2)||Mt<+Math.min(D,P).toFixed(2)||Mt>+Math.max(D,P).toFixed(2)||Lt<+Math.min(ct,U).toFixed(2)||Lt>+Math.max(ct,U).toFixed(2)||Lt<+Math.min(W,m).toFixed(2)||Lt>+Math.max(W,m).toFixed(2)))return{x:ht,y:gt}}}},p=function(Q,ct,it){return ct>=Q.x&&ct<=Q.x+Q.width&&it>=Q.y&&it<=Q.y+Q.height},x=function(Q,ct,it,U,D){if(D)return[["M",+Q+ +D,ct],["l",it-D*2,0],["a",D,D,0,0,1,D,D],["l",0,U-D*2],["a",D,D,0,0,1,-D,D],["l",D*2-it,0],["a",D,D,0,0,1,-D,-D],["l",0,D*2-U],["a",D,D,0,0,1,D,-D],["z"]];var W=[["M",Q,ct],["l",it,0],["l",0,U],["l",-it,0],["z"]];return W.parsePathArray=u,W},A=function(Q,ct,it,U){return Q===null&&(Q=ct=it=U=0),ct===null&&(ct=Q.y,it=Q.width,U=Q.height,Q=Q.x),{x:Q,y:ct,width:it,w:it,height:U,h:U,x2:Q+it,y2:ct+U,cx:Q+it/2,cy:ct+U/2,r1:Math.min(it,U)/2,r2:Math.max(it,U)/2,r0:Math.sqrt(it*it+U*U)/2,path:x(Q,ct,it,U),vb:[Q,ct,it,U].join(" ")}},k=function(Q,ct){return Q=A(Q),ct=A(ct),p(ct,Q.x,Q.y)||p(ct,Q.x2,Q.y)||p(ct,Q.x,Q.y2)||p(ct,Q.x2,Q.y2)||p(Q,ct.x,ct.y)||p(Q,ct.x2,ct.y)||p(Q,ct.x,ct.y2)||p(Q,ct.x2,ct.y2)||(Q.x<ct.x2&&Q.x>ct.x||ct.x<Q.x2&&ct.x>Q.x)&&(Q.y<ct.y2&&Q.y>ct.y||ct.y<Q.y2&&ct.y>Q.y)},X=function(Q,ct,it,U,D,W,P,m){Object(lt.isArray)(Q)||(Q=[Q,ct,it,U,D,W,P,m]);var y=O.apply(null,Q);return A(y.min.x,y.min.y,y.max.x-y.min.x,y.max.y-y.min.y)},et=function(Q,ct,it,U,D,W,P,m,y){var V=1-y,J=Math.pow(V,3),ht=Math.pow(V,2),gt=y*y,Mt=gt*y,Lt=J*Q+ht*3*y*it+V*3*y*y*D+Mt*P,At=J*ct+ht*3*y*U+V*3*y*y*W+Mt*m,Ct=Q+2*y*(it-Q)+gt*(D-2*it+Q),Ot=ct+2*y*(U-ct)+gt*(W-2*U+ct),Dt=it+2*y*(D-it)+gt*(P-2*D+it),Ft=U+2*y*(W-U)+gt*(m-2*W+U),Xt=V*Q+y*it,Rt=V*ct+y*U,Kt=V*D+y*P,$t=V*W+y*m,le=90-Math.atan2(Ct-Dt,Ot-Ft)*180/Math.PI;return{x:Lt,y:At,m:{x:Ct,y:Ot},n:{x:Dt,y:Ft},start:{x:Xt,y:Rt},end:{x:Kt,y:$t},alpha:le}},tt=function(Q,ct,it){var U=X(Q),D=X(ct);if(!k(U,D))return it?0:[];for(var W=C.apply(0,Q),P=C.apply(0,ct),m=~~(W/8),y=~~(P/8),V=[],J=[],ht={},gt=it?0:[],Mt=0;Mt<m+1;Mt++){var Lt=et.apply(0,Q.concat(Mt/m));V.push({x:Lt.x,y:Lt.y,t:Mt/m})}for(var Mt=0;Mt<y+1;Mt++){var Lt=et.apply(0,ct.concat(Mt/y));J.push({x:Lt.x,y:Lt.y,t:Mt/y})}for(var Mt=0;Mt<m;Mt++)for(var At=0;At<y;At++){var Ct=V[Mt],Ot=V[Mt+1],Dt=J[At],Ft=J[At+1],Xt=Math.abs(Ot.x-Ct.x)<.001?"y":"x",Rt=Math.abs(Ft.x-Dt.x)<.001?"y":"x",Kt=j(Ct.x,Ct.y,Ot.x,Ot.y,Dt.x,Dt.y,Ft.x,Ft.y);if(Kt){if(ht[Kt.x.toFixed(4)]===Kt.y.toFixed(4))continue;ht[Kt.x.toFixed(4)]=Kt.y.toFixed(4);var $t=Ct.t+Math.abs((Kt[Xt]-Ct[Xt])/(Ot[Xt]-Ct[Xt]))*(Ot.t-Ct.t),le=Dt.t+Math.abs((Kt[Rt]-Dt[Rt])/(Ft[Rt]-Dt[Rt]))*(Ft.t-Dt.t);$t>=0&&$t<=1&&le>=0&&le<=1&&(it?gt+=1:gt.push({x:Kt.x,y:Kt.y,t1:$t,t2:le}))}}return gt},ft=function(Q,ct,it){Q=o(Q),ct=o(ct);for(var U,D,W,P,m,y,V,J,ht,gt,Mt=it?0:[],Lt=0,At=Q.length;Lt<At;Lt++){var Ct=Q[Lt];if(Ct[0]==="M")U=m=Ct[1],D=y=Ct[2];else{Ct[0]==="C"?(ht=[U,D].concat(Ct.slice(1)),U=ht[6],D=ht[7]):(ht=[U,D,U,D,m,y,m,y],U=m,D=y);for(var Ot=0,Dt=ct.length;Ot<Dt;Ot++){var Ft=ct[Ot];if(Ft[0]==="M")W=V=Ft[1],P=J=Ft[2];else{Ft[0]==="C"?(gt=[W,P].concat(Ft.slice(1)),W=gt[6],P=gt[7]):(gt=[W,P,W,P,V,J,V,J],W=V,P=J);var Xt=tt(ht,gt,it);if(it)Mt+=Xt;else{for(var Rt=0,Kt=Xt.length;Rt<Kt;Rt++)Xt[Rt].segment1=Lt,Xt[Rt].segment2=Ot,Xt[Rt].bez1=ht,Xt[Rt].bez2=gt;Mt=Mt.concat(Xt)}}}}}return Mt},st=function(Q,ct){return ft(Q,ct)};function vt(wt,Q){var ct=[],it=[];function U(D,W){if(D.length===1)ct.push(D[0]),it.push(D[0]);else{for(var P=[],m=0;m<D.length-1;m++)m===0&&ct.push(D[0]),m===D.length-2&&it.push(D[m+1]),P[m]=[(1-W)*D[m][0]+W*D[m+1][0],(1-W)*D[m][1]+W*D[m+1][1]];U(P,W)}}return wt.length&&U(wt,Q),{left:ct,right:it.reverse()}}function mt(wt,Q,ct){var it=[[wt[1],wt[2]]];ct=ct||2;var U=[];Q[0]==="A"?(it.push(Q[6]),it.push(Q[7])):Q[0]==="C"?(it.push([Q[1],Q[2]]),it.push([Q[3],Q[4]]),it.push([Q[5],Q[6]])):Q[0]==="S"||Q[0]==="Q"?(it.push([Q[1],Q[2]]),it.push([Q[3],Q[4]])):it.push([Q[1],Q[2]]);for(var D=it,W=1/ct,P=0;P<ct-1;P++){var m=W/(1-W*P),y=vt(D,m);U.push(y.left),D=y.right}U.push(D);var V=U.map(function(J){var ht=[];return J.length===4&&(ht.push("C"),ht=ht.concat(J[2])),J.length>=3&&(J.length===3&&ht.push("Q"),ht=ht.concat(J[1])),J.length===2&&ht.push("L"),ht=ht.concat(J[J.length-1]),ht});return V}var pt=function(Q,ct,it){if(it===1)return[[].concat(Q)];var U=[];if(ct[0]==="L"||ct[0]==="C"||ct[0]==="Q")U=U.concat(mt(Q,ct,it));else{var D=[].concat(Q);D[0]==="M"&&(D[0]="L");for(var W=0;W<=it-1;W++)U.push(D)}return U},rt=function(Q,ct){if(Q.length===1)return Q;var it=Q.length-1,U=ct.length-1,D=it/U,W=[];if(Q.length===1&&Q[0][0]==="M"){for(var P=0;P<U-it;P++)Q.push(Q[0]);return Q}for(var P=0;P<U;P++){var m=Math.floor(D*P);W[m]=(W[m]||0)+1}var y=W.reduce(function(V,J,ht){return ht===it?V.concat(Q[it]):V.concat(pt(Q[ht],Q[ht+1],J))},[]);return y.unshift(Q[0]),(ct[U]==="Z"||ct[U]==="z")&&y.push("Z"),y},Bt=function(Q,ct){if(Q.length!==ct.length)return!1;var it=!0;return Object(lt.each)(Q,function(U,D){if(U!==ct[D])return it=!1,!1}),it};function It(wt,Q,ct){var it=null,U=ct;return Q<U&&(U=Q,it="add"),wt<U&&(U=wt,it="del"),{type:it,min:U}}var St=function(Q,ct){var it=Q.length,U=ct.length,D,W,P=0;if(it===0||U===0)return null;for(var m=[],y=0;y<=it;y++)m[y]=[],m[y][0]={min:y};for(var V=0;V<=U;V++)m[0][V]={min:V};for(var y=1;y<=it;y++){D=Q[y-1];for(var V=1;V<=U;V++){W=ct[V-1],Bt(D,W)?P=0:P=1;var J=m[y-1][V].min+1,ht=m[y][V-1].min+1,gt=m[y-1][V-1].min+P;m[y][V]=It(J,ht,gt)}}return m},H=function(Q,ct){var it=St(Q,ct),U=Q.length,D=ct.length,W=[],P=1,m=1;if(it[U][D].min!==U){for(var y=1;y<=U;y++){var V=it[y][y].min;m=y;for(var J=P;J<=D;J++)it[y][J].min<V&&(V=it[y][J].min,m=J);P=m,it[y][P].type&&W.push({index:y-1,type:it[y][P].type})}for(var y=W.length-1;y>=0;y--)P=W[y].index,W[y].type==="add"?Q.splice(P,0,[].concat(Q[P])):Q.splice(P,1)}U=Q.length;var ht=D-U;if(U<D)for(var y=0;y<ht;y++)Q[U-1][0]==="z"||Q[U-1][0]==="Z"?Q.splice(U-2,0,Q[U-2]):Q.push(Q[U-1]),U+=1;return Q};function ot(wt,Q,ct){for(var it=[].concat(wt),U,D=1/(ct+1),W=yt(Q)[0],P=1;P<=ct;P++)D*=P,U=Math.floor(wt.length*D),U===0?it.unshift([W[0]*D+wt[U][0]*(1-D),W[1]*D+wt[U][1]*(1-D)]):it.splice(U,0,[W[0]*D+wt[U][0]*(1-D),W[1]*D+wt[U][1]*(1-D)]);return it}function yt(wt){var Q=[];switch(wt[0]){case"M":Q.push([wt[1],wt[2]]);break;case"L":Q.push([wt[1],wt[2]]);break;case"A":Q.push([wt[6],wt[7]]);break;case"Q":Q.push([wt[3],wt[4]]),Q.push([wt[1],wt[2]]);break;case"T":Q.push([wt[1],wt[2]]);break;case"C":Q.push([wt[5],wt[6]]),Q.push([wt[1],wt[2]]),Q.push([wt[3],wt[4]]);break;case"S":Q.push([wt[3],wt[4]]),Q.push([wt[1],wt[2]]);break;case"H":Q.push([wt[1],wt[1]]);break;case"V":Q.push([wt[1],wt[1]]);break;default:}return Q}var xt=function(Q,ct){if(Q.length<=1)return Q;for(var it,U=0;U<ct.length;U++)if(Q[U][0]!==ct[U][0])switch(it=yt(Q[U]),ct[U][0]){case"M":Q[U]=["M"].concat(it[0]);break;case"L":Q[U]=["L"].concat(it[0]);break;case"A":Q[U]=[].concat(ct[U]),Q[U][6]=it[0][0],Q[U][7]=it[0][1];break;case"Q":if(it.length<2)if(U>0)it=ot(it,Q[U-1],1);else{Q[U]=ct[U];break}Q[U]=["Q"].concat(it.reduce(function(D,W){return D.concat(W)},[]));break;case"T":Q[U]=["T"].concat(it[0]);break;case"C":if(it.length<3)if(U>0)it=ot(it,Q[U-1],2);else{Q[U]=ct[U];break}Q[U]=["C"].concat(it.reduce(function(D,W){return D.concat(W)},[]));break;case"S":if(it.length<2)if(U>0)it=ot(it,Q[U-1],1);else{Q[U]=ct[U];break}Q[U]=["S"].concat(it.reduce(function(D,W){return D.concat(W)},[]));break;default:Q[U]=ct[U]}return Q}},u3os:function(wr,Vt,z){"use strict";Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.ver=Vt.clear=Vt.bind=void 0;var lt=z("P4Qj"),a=function(d,S){var b=(0,lt.getSensor)(d);return b.bind(S),function(){b.unbind(S)}};Vt.bind=a;var M=function(d){var S=(0,lt.getSensor)(d);(0,lt.removeSensor)(S)};Vt.clear=M;var t="1.0.1";Vt.ver=t},u60a:function(wr,Vt,z){"use strict";z.r(Vt),z.d(Vt,"CONTAINER_CLASS",function(){return lt}),z.d(Vt,"TITLE_CLASS",function(){return a}),z.d(Vt,"LIST_CLASS",function(){return M}),z.d(Vt,"LIST_ITEM_CLASS",function(){return t}),z.d(Vt,"MARKER_CLASS",function(){return n}),z.d(Vt,"VALUE_CLASS",function(){return d}),z.d(Vt,"NAME_CLASS",function(){return S}),z.d(Vt,"CROSSHAIR_X",function(){return b}),z.d(Vt,"CROSSHAIR_Y",function(){return h});var lt="g2-tooltip",a="g2-tooltip-title",M="g2-tooltip-list",t="g2-tooltip-list-item",n="g2-tooltip-marker",d="g2-tooltip-value",S="g2-tooltip-name",b="g2-tooltip-crosshair-x",h="g2-tooltip-crosshair-y"},"u9/z":function(wr,Vt,z){"use strict";z.d(Vt,"b",function(){return S}),z.d(Vt,"a",function(){return h});var lt=z("iTfj"),a=z("YuPD"),M=z("w02o"),t=z("tKoa"),n=z("SZbK"),d=z("B3DA");function S(E){var T=E.chart,o=E.options,s=o.percent,u=o.progressStyle,v=o.color,C=o.barWidthRatio;T.data(Object(d.a)(s));var O=Object(a.b)({},E,{options:{xField:"1",yField:"percent",seriesField:"type",isStack:!0,widthRatio:C,interval:{style:u,color:Object(lt.isString)(v)?[v,n.a[1]]:v}}});return Object(t.c)(O),T.tooltip(!1),T.axis(!1),T.legend(!1),E}function b(E){var T=E.chart;return T.coordinate("rect").transpose(),E}function h(E){return Object(a.e)(S,Object(M.f)({}),b,M.a,M.j,Object(M.b)())(E)}},u9VJ:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return d});var lt=z("mrSG"),a=z("zJSt"),M=z("YuPD"),t=z("sqD9"),n=z("DMQx"),d=function(S){Object(lt.b)(b,S);function b(){var h=S!==null&&S.apply(this,arguments)||this;return h.type="column",h}return b.prototype.changeData=function(h){this.updateOption({data:h});var E=this.options,T=E.yField,o=E.xField,s=E.isPercent;this.chart.changeData(Object(t.a)(h,T,o,T,s))},b.prototype.getDefaultOptions=function(){return Object(M.b)({},S.prototype.getDefaultOptions.call(this),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},interactions:[{type:"active-region"}]})},b.prototype.getSchemaAdaptor=function(){return n.a},b}(a.a)},uCX8:function(wr,Vt,z){"use strict";z.r(Vt),z.d(Vt,"Line",function(){return E}),z.d(Vt,"Text",function(){return o}),z.d(Vt,"Arc",function(){return u}),z.d(Vt,"Region",function(){return C}),z.d(Vt,"Image",function(){return j}),z.d(Vt,"DataMarker",function(){return x}),z.d(Vt,"DataRegion",function(){return k}),z.d(Vt,"RegionFilter",function(){return et}),z.d(Vt,"Shape",function(){return ft}),z.d(Vt,"Html",function(){return pt});var lt=z("mrSG"),a=z("iTfj"),M=z("MeYt"),t=z("BgvD"),n=z("jqgP"),d=z("5UbV");function S(rt,Bt){var It=Bt.x,St=Bt.y,H=Bt.content,ot=Bt.style,yt=Bt.id,xt=Bt.name,wt=Bt.rotate,Q=Bt.maxLength,ct=Bt.autoEllipsis,it=Bt.isVertical,U=Bt.ellipsisPosition,D=Bt.background,W=rt.addGroup({id:yt+"-group",name:xt+"-group",attrs:{x:It,y:St}}),P=W.addShape({type:"text",id:yt,name:xt,attrs:Object(lt.a)({x:0,y:0,text:H},ot)}),m=Object(d.c)(Object(a.get)(D,"padding",0));if(Q&&ct){var y=Q-(m[1]+m[3]);Object(t.a)(!it,P,y,U)}if(D){var V=Object(a.get)(D,"style",{}),J=P.getCanvasBBox(),ht=J.minX,gt=J.minY,Mt=J.width,Lt=J.height,At=W.addShape("rect",{id:yt+"-bg",name:yt+"-bg",attrs:Object(lt.a)({x:ht-m[3],y:gt-m[0],width:Mt+m[1]+m[3],height:Lt+m[0]+m[2]},V)});At.toBack()}Object(n.c)(W,It,St),Object(n.b)(W,wt,It,St)}var b=z("L16w"),h=function(rt){Object(lt.b)(Bt,rt);function Bt(){return rt!==null&&rt.apply(this,arguments)||this}return Bt.prototype.getDefaultCfg=function(){var It=rt.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},It),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:b.a.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:b.a.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:b.a.lineColor,lineWidth:1}}}})},Bt.prototype.renderInner=function(It){this.renderLine(It),this.get("text")&&this.renderLabel(It)},Bt.prototype.renderLine=function(It){var St=this.get("start"),H=this.get("end"),ot=this.get("style");this.addShape(It,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:Object(lt.a)({x1:St.x,y1:St.y,x2:H.x,y2:H.y},ot)})},Bt.prototype.getLabelPoint=function(It,St,H){var ot;return H==="start"?ot=0:H==="center"?ot=.5:Object(a.isString)(H)&&H.indexOf("%")!==-1?ot=parseInt(H,10)/100:Object(a.isNumber)(H)?ot=H:ot=1,(ot>1||ot<0)&&(ot=1),{x:Object(d.g)(It.x,St.x,ot),y:Object(d.g)(It.y,St.y,ot)}},Bt.prototype.renderLabel=function(It){var St=this.get("text"),H=this.get("start"),ot=this.get("end"),yt=St.position,xt=St.content,wt=St.style,Q=St.offsetX,ct=St.offsetY,it=St.autoRotate,U=St.maxLength,D=St.autoEllipsis,W=St.ellipsisPosition,P=St.background,m=St.isVertical,y=m===void 0?!1:m,V=this.getLabelPoint(H,ot,yt),J=V.x+Q,ht=V.y+ct,gt={id:this.getElementId("line-text"),name:"annotation-line-text",x:J,y:ht,content:xt,style:wt,maxLength:U,autoEllipsis:D,ellipsisPosition:W,background:P,isVertical:y};if(it){var Mt=[ot.x-H.x,ot.y-H.y];gt.rotate=Math.atan2(Mt[1],Mt[0])}S(It,gt)},Bt}(M.a),E=h,T=function(rt){Object(lt.b)(Bt,rt);function Bt(){return rt!==null&&rt.apply(this,arguments)||this}return Bt.prototype.getDefaultCfg=function(){var It=rt.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},It),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:b.a.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:b.a.fontFamily}}})},Bt.prototype.setLocation=function(It){this.set("x",It.x),this.set("y",It.y),this.resetLocation()},Bt.prototype.renderInner=function(It){var St=this.getLocation(),H=St.x,ot=St.y,yt=this.get("content"),xt=this.get("style"),wt=this.getElementId("text"),Q=this.get("name")+"-text",ct=this.get("maxLength"),it=this.get("autoEllipsis"),U=this.get("isVertical"),D=this.get("ellipsisPosition"),W=this.get("background"),P=this.get("rotate"),m={id:wt,name:Q,x:H,y:ot,content:yt,style:xt,maxLength:ct,autoEllipsis:it,isVertical:U,ellipsisPosition:D,background:W,rotate:P};S(It,m)},Bt.prototype.resetLocation=function(){var It=this.getElementByLocalId("text-group");if(It){var St=this.getLocation(),H=St.x,ot=St.y,yt=this.get("rotate");Object(n.c)(It,H,ot),Object(n.b)(It,yt,H,ot)}},Bt}(M.a),o=T,s=function(rt){Object(lt.b)(Bt,rt);function Bt(){return rt!==null&&rt.apply(this,arguments)||this}return Bt.prototype.getDefaultCfg=function(){var It=rt.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},It),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},Bt.prototype.renderInner=function(It){this.renderArc(It)},Bt.prototype.getArcPath=function(){var It=this.getLocation(),St=It.center,H=It.radius,ot=It.startAngle,yt=It.endAngle,xt=Object(d.e)(St,H,ot),wt=Object(d.e)(St,H,yt),Q=yt-ot>Math.PI?1:0,ct=[["M",xt.x,xt.y]];if(yt-ot==Math.PI*2){var it=Object(d.e)(St,H,ot+Math.PI);ct.push(["A",H,H,0,Q,1,it.x,it.y]),ct.push(["A",H,H,0,Q,1,wt.x,wt.y])}else ct.push(["A",H,H,0,Q,1,wt.x,wt.y]);return ct},Bt.prototype.renderArc=function(It){var St=this.getArcPath(),H=this.get("style");this.addShape(It,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:Object(lt.a)({path:St},H)})},Bt}(M.a),u=s,v=function(rt){Object(lt.b)(Bt,rt);function Bt(){return rt!==null&&rt.apply(this,arguments)||this}return Bt.prototype.getDefaultCfg=function(){var It=rt.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},It),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:b.a.regionColor,opacity:.4}}})},Bt.prototype.renderInner=function(It){this.renderRegion(It)},Bt.prototype.renderRegion=function(It){var St=this.get("start"),H=this.get("end"),ot=this.get("style"),yt=Object(d.k)({start:St,end:H});this.addShape(It,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:Object(lt.a)({x:yt.x,y:yt.y,width:yt.width,height:yt.height},ot)})},Bt}(M.a),C=v,O=function(rt){Object(lt.b)(Bt,rt);function Bt(){return rt!==null&&rt.apply(this,arguments)||this}return Bt.prototype.getDefaultCfg=function(){var It=rt.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},It),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},Bt.prototype.renderInner=function(It){this.renderImage(It)},Bt.prototype.getImageAttrs=function(){var It=this.get("start"),St=this.get("end"),H=this.get("style"),ot=Object(d.k)({start:It,end:St}),yt=this.get("src");return Object(lt.a)({x:ot.x,y:ot.y,img:yt,width:ot.width,height:ot.height},H)},Bt.prototype.renderImage=function(It){this.addShape(It,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},Bt}(M.a),j=O,p=function(rt){Object(lt.b)(Bt,rt);function Bt(){return rt!==null&&rt.apply(this,arguments)||this}return Bt.prototype.getDefaultCfg=function(){var It=rt.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},It),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:b.a.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:b.a.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:b.a.fontFamily}}}})},Bt.prototype.renderInner=function(It){Object(a.get)(this.get("line"),"display")&&this.renderLine(It),Object(a.get)(this.get("text"),"display")&&this.renderText(It),Object(a.get)(this.get("point"),"display")&&this.renderPoint(It),this.get("autoAdjust")&&this.autoAdjust(It)},Bt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},Bt.prototype.renderPoint=function(It){var St=this.getShapeAttrs().point;this.addShape(It,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:St})},Bt.prototype.renderLine=function(It){var St=this.getShapeAttrs().line;this.addShape(It,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:St})},Bt.prototype.renderText=function(It){var St=this.getShapeAttrs().text,H=St.x,ot=St.y,yt=St.text,xt=Object(lt.c)(St,["x","y","text"]),wt=this.get("text"),Q=wt.background,ct=wt.maxLength,it=wt.autoEllipsis,U=wt.isVertival,D=wt.ellipsisPosition,W={x:H,y:ot,id:this.getElementId("text"),name:"annotation-text",content:yt,style:xt,background:Q,maxLength:ct,autoEllipsis:it,isVertival:U,ellipsisPosition:D};S(It,W)},Bt.prototype.autoAdjust=function(It){var St=this.get("direction"),H=this.get("x"),ot=this.get("y"),yt=Object(a.get)(this.get("line"),"length",0),xt=this.get("coordinateBBox"),wt=It.getBBox(),Q=wt.minX,ct=wt.maxX,it=wt.minY,U=wt.maxY,D=It.findById(this.getElementId("text-group")),W=It.findById(this.getElementId("text")),P=It.findById(this.getElementId("line"));if(!!xt){if(D){if(H+Q<=xt.minX){var m=xt.minX-(H+Q);Object(n.c)(D,D.attr("x")+m,D.attr("y"))}if(H+ct>=xt.maxX){var m=H+ct-xt.maxX;Object(n.c)(D,D.attr("x")-m,D.attr("y"))}}if(St==="upward"&&ot+it<=xt.minY||St!=="upward"&&ot+U>=xt.maxY){var y=void 0,V=void 0;St==="upward"&&ot+it<=xt.minY?(y="top",V=1):(y="bottom",V=-1),W.attr("textBaseline",y),P&&P.attr("path",[["M",0,0],["L",0,yt*V]]),Object(n.c)(D,D.attr("x"),(yt+2)*V)}}},Bt.prototype.getShapeAttrs=function(){var It=Object(a.get)(this.get("line"),"display"),St=Object(a.get)(this.get("point"),"style",{}),H=Object(a.get)(this.get("line"),"style",{}),ot=Object(a.get)(this.get("text"),"style",{}),yt=this.get("direction"),xt=It?Object(a.get)(this.get("line"),"length",0):0,wt=yt==="upward"?-1:1;return{point:Object(lt.a)({x:0,y:0},St),line:Object(lt.a)({path:[["M",0,0],["L",0,xt*wt]]},H),text:Object(lt.a)({x:0,y:(xt+2)*wt,text:Object(a.get)(this.get("text"),"content",""),textBaseline:yt==="upward"?"bottom":"top"},ot)}},Bt}(M.a),x=p,A=function(rt){Object(lt.b)(Bt,rt);function Bt(){return rt!==null&&rt.apply(this,arguments)||this}return Bt.prototype.getDefaultCfg=function(){var It=rt.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},It),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:b.a.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:b.a.textColor,fontFamily:b.a.fontFamily}}}})},Bt.prototype.renderInner=function(It){var St=Object(a.get)(this.get("region"),"style",{}),H=Object(a.get)(this.get("text"),"style",{}),ot=this.get("lineLength")||0,yt=this.get("points");if(!!yt.length){var xt=Object(d.j)(yt),wt=[];wt.push(["M",yt[0].x,xt.minY-ot]),yt.forEach(function(ct){wt.push(["L",ct.x,ct.y])}),wt.push(["L",yt[yt.length-1].x,yt[yt.length-1].y-ot]),this.addShape(It,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:Object(lt.a)({path:wt},St)});var Q=Object(lt.a)({id:this.getElementId("text"),name:"annotation-text",x:(xt.minX+xt.maxX)/2,y:xt.minY-ot},this.get("text"));S(It,Q)}},Bt}(M.a),k=A,X=function(rt){Object(lt.b)(Bt,rt);function Bt(){return rt!==null&&rt.apply(this,arguments)||this}return Bt.prototype.getDefaultCfg=function(){var It=rt.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},It),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},Bt.prototype.renderInner=function(It){var St=this,H=this.get("start"),ot=this.get("end"),yt=this.addGroup(It,{id:this.getElementId("region-filter"),capture:!1});Object(a.each)(this.get("shapes"),function(wt,Q){var ct=wt.get("type"),it=Object(a.clone)(wt.attr());St.adjustShapeAttrs(it),St.addShape(yt,{id:St.getElementId("shape-"+ct+"-"+Q),capture:!1,type:ct,attrs:it})});var xt=Object(d.k)({start:H,end:ot});yt.setClip({type:"rect",attrs:{x:xt.minX,y:xt.minY,width:xt.width,height:xt.height}})},Bt.prototype.adjustShapeAttrs=function(It){var St=this.get("color");It.fill&&(It.fill=It.fillStyle=St),It.stroke=It.strokeStyle=St},Bt}(M.a),et=X,tt=function(rt){Object(lt.b)(Bt,rt);function Bt(){return rt!==null&&rt.apply(this,arguments)||this}return Bt.prototype.getDefaultCfg=function(){var It=rt.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},It),{name:"annotation",type:"shape",draw:a.noop})},Bt.prototype.renderInner=function(It){var St=this.get("render");Object(a.isFunction)(St)&&St(It)},Bt}(M.a),ft=tt,st=z("fIp6"),vt=z("de35"),mt=function(rt){Object(lt.b)(Bt,rt);function Bt(){return rt!==null&&rt.apply(this,arguments)||this}return Bt.prototype.getDefaultCfg=function(){var It=rt.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},It),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},Bt.prototype.render=function(){var It=this.getContainer(),St=this.get("html");Object(d.a)(It);var H=Object(a.isFunction)(St)?St(It):St;Object(a.isElement)(H)?It.appendChild(H):Object(a.isString)(H)&&It.appendChild(Object(st.b)(H)),this.resetPosition()},Bt.prototype.resetPosition=function(){var It=this.getContainer(),St=this.getLocation(),H=St.x,ot=St.y,yt=this.get("alignX"),xt=this.get("alignY"),wt=this.get("offsetX"),Q=this.get("offsetY"),ct=Object(st.d)(It),it=Object(st.c)(It),U={x:H,y:ot};yt==="middle"?U.x-=Math.round(ct/2):yt==="right"&&(U.x-=Math.round(ct)),xt==="middle"?U.y-=Math.round(it/2):xt==="bottom"&&(U.y-=Math.round(it)),wt&&(U.x+=wt),Q&&(U.y+=Q),Object(st.e)(It,{position:"absolute",left:U.x+"px",top:U.y+"px",zIndex:this.get("zIndex")})},Bt}(vt.a),pt=mt},"uw/B":function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return s});var lt=z("mrSG"),a=z("zJSt"),M=z("YuPD"),t=z("sqD9"),n=z("iTfj"),d=z("w02o"),S=z("tKoa"),b=z("hJqF");function h(u){var v=u.chart,C=u.options,O=C.data,j=C.areaStyle,p=C.color,x=C.point,A=C.line,k=C.isPercent,X=C.xField,et=C.yField,tt=C.tooltip,ft=C.seriesField,st=Object(t.a)(O,et,X,et,k);v.data(st);var vt=k?Object(lt.a)({formatter:function(Bt){return{name:Bt[ft]||Bt[X],value:(Number(Bt[et])*100).toFixed(2)+"%"}}},tt):tt,mt=Object(M.b)({},u,{options:{area:{color:p,style:j},line:A&&Object(lt.a)({color:p},A),point:x&&Object(lt.a)({color:p},x),tooltip:vt,label:void 0}}),pt=Object(M.b)({},mt,{options:{tooltip:!1}});return Object(S.a)(mt),Object(S.d)(pt),Object(S.e)(pt),u}function E(u){var v=u.chart,C=u.options,O=C.label,j=C.yField,p=Object(M.c)(v,"area");if(!O)p.label(!1);else{var x=O.callback,A=Object(lt.c)(O,["callback"]);p.label({fields:[j],callback:x,cfg:Object(lt.a)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Object(M.p)(A))})}return u}function T(u){var v=u.chart,C=u.options,O=C.isStack,j=C.isPercent;return(j||O)&&Object(n.each)(v.geometries,function(p){p.adjust("stack")}),u}function o(u){return Object(M.e)(h,b.d,T,d.j,b.b,b.c,d.k,E,d.h,Object(d.b)(),d.c,d.a,d.e)(u)}var s=function(u){Object(lt.b)(v,u);function v(){var C=u!==null&&u.apply(this,arguments)||this;return C.type="area",C}return v.prototype.getDefaultOptions=function(){return Object(M.b)({},u.prototype.getDefaultOptions.call(this),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left"}})},v.prototype.changeData=function(C){this.updateOption({data:C});var O=this.options,j=O.isPercent,p=O.xField,x=O.yField;this.chart.changeData(Object(t.a)(C,x,p,x,j))},v.prototype.getSchemaAdaptor=function(){return o},v}(a.a)},uzHj:function(wr,Vt){},v7Ed:function(wr,Vt,z){"use strict";z.r(Vt),z.d(Vt,"version",function(){return d});var lt=z("aN7R");z.d(Vt,"Shape",function(){return lt});var a=z("aFU3");for(var M in a)["default","Canvas","Group","Shape","version"].indexOf(M)<0&&function(S){z.d(Vt,S,function(){return a[S]})}(M);var t=z("wClo");z.d(Vt,"Canvas",function(){return t.a});var n=z("5z4m");z.d(Vt,"Group",function(){return n.a});var d="0.5.6"},vIgC:function(wr,Vt,z){"use strict";z.d(Vt,"b",function(){return M}),z.d(Vt,"c",function(){return n}),z.d(Vt,"a",function(){return d});var lt=z("sstZ"),a=z("lt7v");function M(S,b,h){var E=1;if(Object(lt.h)(S)&&(E=S.split(`
`).length),E>1){var T=t(b,h);return b*E+T*(E-1)}return b}function t(S,b){return b?b-S:S*.14}function n(S,b){var h=Object(a.a)(),E=0;if(Object(lt.e)(S)||S==="")return E;if(h.save(),h.font=b,Object(lt.h)(S)&&S.includes(`
`)){var T=S.split(`
`);Object(lt.a)(T,function(o){var s=h.measureText(o).width;E<s&&(E=s)})}else E=h.measureText(S).width;return h.restore(),E}function d(S){var b=S.fontSize,h=S.fontFamily,E=S.fontWeight,T=S.fontStyle,o=S.fontVariant;return[T,o,E,b+"px",h].join(" ").trim()}},vk7d:function(wr,Vt){},w02o:function(wr,Vt,z){"use strict";z.d(Vt,"d",function(){return n}),z.d(Vt,"k",function(){return d}),z.d(Vt,"c",function(){return S}),z.d(Vt,"a",function(){return b}),z.d(Vt,"j",function(){return h}),z.d(Vt,"i",function(){return E}),z.d(Vt,"h",function(){return T}),z.d(Vt,"g",function(){return o}),z.d(Vt,"f",function(){return s}),z.d(Vt,"b",function(){return u}),z.d(Vt,"e",function(){return v});var lt=z("mrSG"),a=z("iTfj"),M=z("n/J0"),t=z("YuPD");function n(C){var O=C.chart,j=C.options,p=j.legend,x=j.colorField,A=j.seriesField;return p===!1?O.legend(!1):(x||A)&&O.legend(x||A,p),C}function d(C){var O=C.chart,j=C.options,p=j.tooltip;return p!==void 0&&O.tooltip(p),C}function S(C){var O=C.chart,j=C.options,p=j.interactions;return Object(a.each)(p,function(x){x.enable===!1?O.removeInteraction(x.type):O.interaction(x.type,x.cfg||{})}),C}function b(C){var O=C.chart,j=C.options,p=j.animation;return typeof p=="boolean"?O.animate(p):O.animate(!0),Object(a.each)(O.geometries,function(x){x.animate(p)}),C}function h(C){var O=C.chart,j=C.options,p=j.theme;return p&&O.theme(p),C}function E(C){var O=C.chart,j=C.options,p=j.state;return p&&Object(a.each)(O.geometries,function(x){x.state(p)}),C}function T(C){var O=C.chart,j=C.options,p=j.slider;return O.option("slider",p),C}function o(C){var O=C.chart,j=C.options,p=j.scrollbar;return O.option("scrollbar",p),C}function s(C,O){return function(j){var p=j.chart,x=j.options,A={};return Object(a.each)(C,function(k,X){A[X]=Object(t.l)(k,M.a)}),A=Object(t.b)({},O,x.meta,A),p.scale(A),j}}function u(C){return function(O){var j=O.chart,p=O.options,x=j.getController("annotation");return Object(a.each)(Object(lt.d)(p.annotations||[],C||[]),function(A){x.annotation(A)}),O}}function v(C){var O=C.chart,j=C.options,p=j.yAxis,x=j.limitInPlot,A=x;return Object(a.isObject)(p)&&Object(a.isNil)(x)&&(Object.values(Object(t.l)(p,["min","max","minLimit","maxLimit"])).some(function(k){return!Object(a.isNil)(k)})?A=!0:A=!1),O.limitInPlot=A,C}},wCAj:function(wr,Vt,z){"use strict";var lt=z("U8pU"),a=z("rePB"),M=z("ODXe"),t=z("wx14"),n=z("q1tI"),d=z.n(n),S=z("TSYQ"),b=z.n(S),h=z("bT9E"),E=z("VTBJ"),T=z("KQm4"),o=z("x/xZ"),s=z("Gytx"),u=z.n(s),v=z("Kwbf"),C=z("t23M"),O=z("qx4F");function j(xe){return null}var p=j;function x(xe){return null}var A=x,k=z("Ff2n"),X=z("c+Xe"),et="RC_TABLE_KEY";function tt(xe){return xe==null?[]:Array.isArray(xe)?xe:[xe]}function ft(xe,rn){if(!rn&&typeof rn!="number")return xe;for(var bn=tt(rn),Ge=xe,Fe=0;Fe<bn.length;Fe+=1){if(!Ge)return null;var wn=bn[Fe];Ge=Ge[wn]}return Ge}function st(xe){var rn=[],bn={};return xe.forEach(function(Ge){for(var Fe=Ge||{},wn=Fe.key,Ln=Fe.dataIndex,Ze=wn||tt(Ln).join("-")||et;bn[Ze];)Ze="".concat(Ze,"_next");bn[Ze]=!0,rn.push(Ze)}),rn}function vt(){var xe={};function rn(wn,Ln){Ln&&Object.keys(Ln).forEach(function(Ze){var Vn=Ln[Ze];Vn&&Object(lt.a)(Vn)==="object"?(wn[Ze]=wn[Ze]||{},rn(wn[Ze],Vn)):wn[Ze]=Vn})}for(var bn=arguments.length,Ge=new Array(bn),Fe=0;Fe<bn;Fe++)Ge[Fe]=arguments[Fe];return Ge.forEach(function(wn){rn(xe,wn)}),xe}function mt(xe){return xe!=null}function pt(xe){return xe&&Object(lt.a)(xe)==="object"&&!Array.isArray(xe)&&!n.isValidElement(xe)}function rt(xe){return typeof xe=="string"?!0:Object(X.c)(xe)}function Bt(xe,rn){var bn,Ge=xe.prefixCls,Fe=xe.className,wn=xe.record,Ln=xe.index,Ze=xe.dataIndex,Vn=xe.render,Zn=xe.children,hr=xe.component,rr=hr===void 0?"td":hr,Ir=xe.colSpan,yn=xe.rowSpan,oe=xe.fixLeft,Oi=xe.fixRight,ei=xe.firstFixLeft,Zr=xe.lastFixLeft,di=xe.firstFixRight,ri=xe.lastFixRight,_i=xe.appendNode,na=xe.additionalProps,pa=na===void 0?{}:na,Pn=xe.ellipsis,Ui=xe.align,za=xe.rowType,Ci=xe.isSticky,Qi="".concat(Ge,"-cell"),Pa,Ri;if(Zn)Ri=Zn;else{var Vi=ft(wn,Ze);if(Ri=Vi,Vn){var Zi=Vn(Vi,wn,Ln);pt(Zi)?(Ri=Zi.children,Pa=Zi.props):Ri=Zi}}Object(lt.a)(Ri)==="object"&&!Array.isArray(Ri)&&!n.isValidElement(Ri)&&(Ri=null),Pn&&(Zr||di)&&(Ri=n.createElement("span",{className:"".concat(Qi,"-content")},Ri));var eo=Pa||{},Nt=eo.colSpan,f=eo.rowSpan,c=eo.style,R=eo.className,Y=Object(k.a)(eo,["colSpan","rowSpan","style","className"]),ut=Nt!==void 0?Nt:Ir,jt=f!==void 0?f:yn;if(ut===0||jt===0)return null;var Ut={},Et=typeof oe=="number",qt=typeof Oi=="number";Et&&(Ut.position="sticky",Ut.left=oe),qt&&(Ut.position="sticky",Ut.right=Oi);var se={};Ui&&(se.textAlign=Ui);var je,Ie=Pn===!0?{showTitle:!0}:Pn;Ie&&(Ie.showTitle||za==="header")&&(typeof Ri=="string"||typeof Ri=="number"?je=Ri.toString():n.isValidElement(Ri)&&typeof Ri.props.children=="string"&&(je=Ri.props.children));var Ue=Object(E.a)(Object(E.a)(Object(E.a)({title:je},Y),pa),{},{colSpan:ut&&ut!==1?ut:null,rowSpan:jt&&jt!==1?jt:null,className:b()(Qi,Fe,(bn={},Object(a.a)(bn,"".concat(Qi,"-fix-left"),Et),Object(a.a)(bn,"".concat(Qi,"-fix-left-first"),ei),Object(a.a)(bn,"".concat(Qi,"-fix-left-last"),Zr),Object(a.a)(bn,"".concat(Qi,"-fix-right"),qt),Object(a.a)(bn,"".concat(Qi,"-fix-right-first"),di),Object(a.a)(bn,"".concat(Qi,"-fix-right-last"),ri),Object(a.a)(bn,"".concat(Qi,"-ellipsis"),Pn),Object(a.a)(bn,"".concat(Qi,"-with-append"),_i),Object(a.a)(bn,"".concat(Qi,"-fix-sticky"),(Et||qt)&&Ci),bn),pa.className,R),style:Object(E.a)(Object(E.a)(Object(E.a)(Object(E.a)({},pa.style),se),Ut),c),ref:rt(rr)?rn:null});return n.createElement(rr,Ue,_i,Ri)}var It=n.forwardRef(Bt);It.displayName="Cell";var St=n.memo(It,function(xe,rn){return rn.shouldCellUpdate?!rn.shouldCellUpdate(rn.record,xe.record):!1}),H=St,ot=n.createContext(null),yt=ot;function xt(xe,rn,bn,Ge,Fe){var wn=bn[xe]||{},Ln=bn[rn]||{},Ze,Vn;wn.fixed==="left"?Ze=Ge.left[xe]:Ln.fixed==="right"&&(Vn=Ge.right[rn]);var Zn=!1,hr=!1,rr=!1,Ir=!1,yn=bn[rn+1],oe=bn[xe-1];if(Fe==="rtl"){if(Ze!==void 0){var Oi=oe&&oe.fixed==="left";Ir=!Oi}else if(Vn!==void 0){var ei=yn&&yn.fixed==="right";rr=!ei}}else if(Ze!==void 0){var Zr=yn&&yn.fixed==="left";Zn=!Zr}else if(Vn!==void 0){var di=oe&&oe.fixed==="right";hr=!di}return{fixLeft:Ze,fixRight:Vn,lastFixLeft:Zn,firstFixRight:hr,lastFixRight:rr,firstFixLeft:Ir,isSticky:Ge.isSticky}}function wt(xe){var rn=xe.cells,bn=xe.stickyOffsets,Ge=xe.flattenColumns,Fe=xe.rowComponent,wn=xe.cellComponent,Ln=xe.onHeaderRow,Ze=xe.index,Vn=n.useContext(yt),Zn=Vn.prefixCls,hr=Vn.direction,rr;Ln&&(rr=Ln(rn.map(function(yn){return yn.column}),Ze));var Ir=st(rn.map(function(yn){return yn.column}));return n.createElement(Fe,rr,rn.map(function(yn,oe){var Oi=yn.column,ei=xt(yn.colStart,yn.colEnd,Ge,bn,hr),Zr;return Oi&&Oi.onHeaderCell&&(Zr=yn.column.onHeaderCell(Oi)),n.createElement(H,Object(t.a)({},yn,{ellipsis:Oi.ellipsis,align:Oi.align,component:wn,prefixCls:Zn,key:Ir[oe]},ei,{additionalProps:Zr,rowType:"header"}))}))}wt.displayName="HeaderRow";var Q=wt;function ct(xe){var rn=[];function bn(Ln,Ze){var Vn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;rn[Vn]=rn[Vn]||[];var Zn=Ze,hr=Ln.filter(Boolean).map(function(rr){var Ir={key:rr.key,className:rr.className||"",children:rr.title,column:rr,colStart:Zn},yn=1,oe=rr.children;return oe&&oe.length>0&&(yn=bn(oe,Zn,Vn+1).reduce(function(Oi,ei){return Oi+ei},0),Ir.hasSubColumns=!0),"colSpan"in rr&&(yn=rr.colSpan),"rowSpan"in rr&&(Ir.rowSpan=rr.rowSpan),Ir.colSpan=yn,Ir.colEnd=Ir.colStart+yn-1,rn[Vn].push(Ir),Zn+=yn,yn});return hr}bn(xe,0);for(var Ge=rn.length,Fe=function(Ze){rn[Ze].forEach(function(Vn){!("rowSpan"in Vn)&&!Vn.hasSubColumns&&(Vn.rowSpan=Ge-Ze)})},wn=0;wn<Ge;wn+=1)Fe(wn);return rn}function it(xe){var rn=xe.stickyOffsets,bn=xe.columns,Ge=xe.flattenColumns,Fe=xe.onHeaderRow,wn=n.useContext(yt),Ln=wn.prefixCls,Ze=wn.getComponent,Vn=n.useMemo(function(){return ct(bn)},[bn]),Zn=Ze(["header","wrapper"],"thead"),hr=Ze(["header","row"],"tr"),rr=Ze(["header","cell"],"th");return n.createElement(Zn,{className:"".concat(Ln,"-thead")},Vn.map(function(Ir,yn){var oe=n.createElement(Q,{key:yn,flattenColumns:Ge,cells:Ir,stickyOffsets:rn,rowComponent:hr,cellComponent:rr,onHeaderRow:Fe,index:yn});return oe}))}var U=it,D="RC_TABLE_INTERNAL_COL_DEFINE";function W(xe){var rn=xe.expandable,bn=Object(k.a)(xe,["expandable"]);return"expandable"in xe?Object(E.a)(Object(E.a)({},bn),rn):bn}function P(xe){return Object.keys(xe).reduce(function(rn,bn){return(bn.substr(0,5)==="data-"||bn.substr(0,5)==="aria-")&&(rn[bn]=xe[bn]),rn},{})}function m(xe){for(var rn=xe.colWidths,bn=xe.columns,Ge=xe.columCount,Fe=[],wn=Ge||bn.length,Ln=!1,Ze=wn-1;Ze>=0;Ze-=1){var Vn=rn[Ze],Zn=bn&&bn[Ze],hr=Zn&&Zn[D];(Vn||hr||Ln)&&(Fe.unshift(n.createElement("col",Object(t.a)({key:Ze,style:{width:Vn,minWidth:Vn}},hr))),Ln=!0)}return n.createElement("colgroup",null,Fe)}var y=m;function V(xe,rn){return Object(n.useMemo)(function(){for(var bn=[],Ge=0;Ge<rn;Ge+=1){var Fe=xe[Ge];if(Fe!==void 0)bn[Ge]=Fe;else return null}return bn},[xe.join("_"),rn])}var J=n.forwardRef(function(xe,rn){var bn=xe.noData,Ge=xe.columns,Fe=xe.flattenColumns,wn=xe.colWidths,Ln=xe.columCount,Ze=xe.stickyOffsets,Vn=xe.direction,Zn=xe.fixHeader,hr=xe.offsetHeader,rr=xe.stickyClassName,Ir=xe.onScroll,yn=Object(k.a)(xe,["noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","offsetHeader","stickyClassName","onScroll"]),oe=n.useContext(yt),Oi=oe.prefixCls,ei=oe.scrollbarSize,Zr=oe.isSticky,di=Zr&&!Zn?0:ei,ri=n.useRef(null),_i=n.useCallback(function(Qi){Object(X.b)(rn,Qi),Object(X.b)(ri,Qi)},[]);n.useEffect(function(){var Qi;function Pa(Ri){var Vi=Ri.currentTarget,Zi=Ri.deltaX;Zi&&(Ir({currentTarget:Vi,scrollLeft:Vi.scrollLeft+Zi}),Ri.preventDefault())}return(Qi=ri.current)===null||Qi===void 0||Qi.addEventListener("wheel",Pa),function(){var Ri;(Ri=ri.current)===null||Ri===void 0||Ri.removeEventListener("wheel",Pa)}},[]);var na=Fe[Fe.length-1],pa={fixed:na?na.fixed:null,onHeaderCell:function(){return{className:"".concat(Oi,"-cell-scrollbar")}}},Pn=Object(n.useMemo)(function(){return di?[].concat(Object(T.a)(Ge),[pa]):Ge},[di,Ge]),Ui=Object(n.useMemo)(function(){return di?[].concat(Object(T.a)(Fe),[pa]):Fe},[di,Fe]),za=Object(n.useMemo)(function(){var Qi=Ze.right,Pa=Ze.left;return Object(E.a)(Object(E.a)({},Ze),{},{left:Vn==="rtl"?[].concat(Object(T.a)(Pa.map(function(Ri){return Ri+di})),[0]):Pa,right:Vn==="rtl"?Qi:[].concat(Object(T.a)(Qi.map(function(Ri){return Ri+di})),[0]),isSticky:Zr})},[di,Ze,Zr]),Ci=V(wn,Ln);return n.createElement("div",{style:Object(E.a)({overflow:"hidden"},Zr?{top:hr}:{}),ref:_i,className:b()("".concat(Oi,"-header"),Object(a.a)({},rr,!!rr))},n.createElement("table",{style:{tableLayout:"fixed",visibility:bn||Ci?null:"hidden"}},n.createElement(y,{colWidths:Ci?[].concat(Object(T.a)(Ci),[di]):[],columCount:Ln+1,columns:Ui}),n.createElement(U,Object(t.a)({},yn,{stickyOffsets:za,columns:Pn,flattenColumns:Ui}))))});J.displayName="FixedHeader";var ht=J,gt=n.createContext(null),Mt=gt;function Lt(xe){var rn=xe.prefixCls,bn=xe.children,Ge=xe.component,Fe=xe.cellComponent,wn=xe.fixHeader,Ln=xe.fixColumn,Ze=xe.horizonScroll,Vn=xe.className,Zn=xe.expanded,hr=xe.componentWidth,rr=xe.colSpan,Ir=n.useContext(yt),yn=Ir.scrollbarSize;return n.useMemo(function(){var oe=bn;return Ln&&(oe=n.createElement("div",{style:{width:hr-(wn?yn:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(rn,"-expanded-row-fixed")},oe)),n.createElement(Ge,{className:Vn,style:{display:Zn?null:"none"}},n.createElement(H,{component:Fe,prefixCls:rn,colSpan:rr},oe))},[bn,Ge,wn,Ze,Vn,Zn,hr,rr,yn])}var At=Lt;function Ct(xe){var rn=xe.className,bn=xe.style,Ge=xe.record,Fe=xe.index,wn=xe.rowKey,Ln=xe.getRowKey,Ze=xe.rowExpandable,Vn=xe.expandedKeys,Zn=xe.onRow,hr=xe.indent,rr=hr===void 0?0:hr,Ir=xe.rowComponent,yn=xe.cellComponent,oe=xe.childrenColumnName,Oi=n.useContext(yt),ei=Oi.prefixCls,Zr=Oi.fixedInfoList,di=n.useContext(Mt),ri=di.fixHeader,_i=di.fixColumn,na=di.horizonScroll,pa=di.componentWidth,Pn=di.flattenColumns,Ui=di.expandableType,za=di.expandRowByClick,Ci=di.onTriggerExpand,Qi=di.rowClassName,Pa=di.expandedRowClassName,Ri=di.indentSize,Vi=di.expandIcon,Zi=di.expandedRowRender,eo=di.expandIconColumnIndex,Nt=n.useState(!1),f=Object(M.a)(Nt,2),c=f[0],R=f[1],Y=Vn&&Vn.has(xe.recordKey);n.useEffect(function(){Y&&R(!0)},[Y]);var ut=Ui==="row"&&(!Ze||Ze(Ge)),jt=Ui==="nest",Ut=oe&&Ge&&Ge[oe],Et=ut||jt,qt;Zn&&(qt=Zn(Ge,Fe));var se=function(Jn){if(za&&Et&&Ci(Ge,Jn),qt&&qt.onClick){for(var Ar,ur=arguments.length,mr=new Array(ur>1?ur-1:0),ii=1;ii<ur;ii++)mr[ii-1]=arguments[ii];(Ar=qt).onClick.apply(Ar,[Jn].concat(mr))}},je;typeof Qi=="string"?je=Qi:typeof Qi=="function"&&(je=Qi(Ge,Fe,rr));var Ie=st(Pn),Ue=n.createElement(Ir,Object(t.a)({},qt,{"data-row-key":wn,className:b()(rn,"".concat(ei,"-row"),"".concat(ei,"-row-level-").concat(rr),je,qt&&qt.className),style:Object(E.a)(Object(E.a)({},bn),qt?qt.style:null),onClick:se}),Pn.map(function(Yn,Jn){var Ar=Yn.render,ur=Yn.dataIndex,mr=Yn.className,ii=Ie[Jn],Li=Zr[Jn],ci;Jn===(eo||0)&&jt&&(ci=n.createElement(n.Fragment,null,n.createElement("span",{style:{paddingLeft:"".concat(Ri*rr,"px")},className:"".concat(ei,"-row-indent indent-level-").concat(rr)}),Vi({prefixCls:ei,expanded:Y,expandable:Ut,record:Ge,onExpand:Ci})));var Yi;return Yn.onCell&&(Yi=Yn.onCell(Ge,Fe)),n.createElement(H,Object(t.a)({className:mr,ellipsis:Yn.ellipsis,align:Yn.align,component:yn,prefixCls:ei,key:ii,record:Ge,index:Fe,dataIndex:ur,render:Ar,shouldCellUpdate:Yn.shouldCellUpdate},Li,{appendNode:ci,additionalProps:Yi}))})),Ke;if(ut&&(c||Y)){var An=Zi(Ge,Fe,rr+1,Y),Bn=Pa&&Pa(Ge,Fe,rr);Ke=n.createElement(At,{expanded:Y,className:b()("".concat(ei,"-expanded-row"),"".concat(ei,"-expanded-row-level-").concat(rr+1),Bn),prefixCls:ei,fixHeader:ri,fixColumn:_i,horizonScroll:na,component:Ir,componentWidth:pa,cellComponent:yn,colSpan:Pn.length},An)}var Wn;return Ut&&Y&&(Wn=(Ge[oe]||[]).map(function(Yn,Jn){var Ar=Ln(Yn,Jn);return n.createElement(Ct,Object(t.a)({},xe,{key:Ar,rowKey:Ar,record:Yn,recordKey:Ar,index:Jn,indent:rr+1}))})),n.createElement(n.Fragment,null,Ue,Ke,Wn)}Ct.displayName="BodyRow";var Ot=Ct,Dt=n.createContext(null),Ft=Dt;function Xt(xe){var rn=xe.columnKey,bn=xe.onColumnResize,Ge=n.useRef();return n.useEffect(function(){Ge.current&&bn(rn,Ge.current.offsetWidth)},[]),n.createElement(C.a,{onResize:function(wn){var Ln=wn.offsetWidth;bn(rn,Ln)}},n.createElement("td",{ref:Ge,style:{padding:0,border:0,height:0}},n.createElement("div",{style:{height:0,overflow:"hidden"}},"\xA0")))}function Rt(xe){var rn=xe.data,bn=xe.getRowKey,Ge=xe.measureColumnWidth,Fe=xe.expandedKeys,wn=xe.onRow,Ln=xe.rowExpandable,Ze=xe.emptyNode,Vn=xe.childrenColumnName,Zn=n.useContext(Ft),hr=Zn.onColumnResize,rr=n.useContext(yt),Ir=rr.prefixCls,yn=rr.getComponent,oe=n.useContext(Mt),Oi=oe.fixHeader,ei=oe.horizonScroll,Zr=oe.flattenColumns,di=oe.componentWidth;return n.useMemo(function(){var ri=yn(["body","wrapper"],"tbody"),_i=yn(["body","row"],"tr"),na=yn(["body","cell"],"td"),pa;rn.length?pa=rn.map(function(Ui,za){var Ci=bn(Ui,za);return n.createElement(Ot,{key:Ci,rowKey:Ci,record:Ui,recordKey:Ci,index:za,rowComponent:_i,cellComponent:na,expandedKeys:Fe,onRow:wn,getRowKey:bn,rowExpandable:Ln,childrenColumnName:Vn})}):pa=n.createElement(At,{expanded:!0,className:"".concat(Ir,"-placeholder"),prefixCls:Ir,fixHeader:Oi,fixColumn:ei,horizonScroll:ei,component:_i,componentWidth:di,cellComponent:na,colSpan:Zr.length},Ze);var Pn=st(Zr);return n.createElement(ri,{className:"".concat(Ir,"-tbody")},Ge&&n.createElement("tr",{"aria-hidden":"true",className:"".concat(Ir,"-measure-row"),style:{height:0,fontSize:0}},Pn.map(function(Ui){return n.createElement(Xt,{key:Ui,columnKey:Ui,onColumnResize:hr})})),pa)},[rn,Ir,wn,Ge,Fe,bn,yn,di,Ze,Zr])}var Kt=n.memo(Rt);Kt.displayName="Body";var $t=Kt,le=z("Zm9Q");function Me(xe){return Object(le.a)(xe).filter(function(rn){return n.isValidElement(rn)}).map(function(rn){var bn=rn.key,Ge=rn.props,Fe=Ge.children,wn=Object(k.a)(Ge,["children"]),Ln=Object(E.a)({key:bn},wn);return Fe&&(Ln.children=Me(Fe)),Ln})}function on(xe){return xe.reduce(function(rn,bn){var Ge=bn.fixed,Fe=Ge===!0?"left":Ge,wn=bn.children;return wn&&wn.length>0?[].concat(Object(T.a)(rn),Object(T.a)(on(wn).map(function(Ln){return Object(E.a)({fixed:Fe},Ln)}))):[].concat(Object(T.a)(rn),[Object(E.a)(Object(E.a)({},bn),{},{fixed:Fe})])},[])}function hn(xe){for(var rn=!0,bn=0;bn<xe.length;bn+=1){var Ge=xe[bn];if(rn&&Ge.fixed!=="left")rn=!1;else if(!rn&&Ge.fixed==="left"){Object(v.a)(!1,"Index ".concat(bn-1," of `columns` missing `fixed='left'` prop."));break}}for(var Fe=!0,wn=xe.length-1;wn>=0;wn-=1){var Ln=xe[wn];if(Fe&&Ln.fixed!=="right")Fe=!1;else if(!Fe&&Ln.fixed==="right"){Object(v.a)(!1,"Index ".concat(wn+1," of `columns` missing `fixed='right'` prop."));break}}}function Cn(xe){return xe.map(function(rn){var bn=rn.fixed,Ge=Object(k.a)(rn,["fixed"]),Fe=bn;return bn==="left"?Fe="right":bn==="right"&&(Fe="left"),Object(E.a)({fixed:Fe},Ge)})}function He(xe,rn){var bn=xe.prefixCls,Ge=xe.columns,Fe=xe.children,wn=xe.expandable,Ln=xe.expandedKeys,Ze=xe.getRowKey,Vn=xe.onTriggerExpand,Zn=xe.expandIcon,hr=xe.rowExpandable,rr=xe.expandIconColumnIndex,Ir=xe.direction,yn=xe.expandRowByClick,oe=xe.columnWidth,Oi=n.useMemo(function(){return Ge||Me(Fe)},[Ge,Fe]),ei=n.useMemo(function(){if(wn){var ri,_i=rr||0,na=Oi[_i],pa=(ri={},Object(a.a)(ri,D,{className:"".concat(bn,"-expand-icon-col")}),Object(a.a)(ri,"title",""),Object(a.a)(ri,"fixed",na?na.fixed:null),Object(a.a)(ri,"className","".concat(bn,"-row-expand-icon-cell")),Object(a.a)(ri,"width",oe),Object(a.a)(ri,"render",function(za,Ci,Qi){var Pa=Ze(Ci,Qi),Ri=Ln.has(Pa),Vi=hr?hr(Ci):!0,Zi=Zn({prefixCls:bn,expanded:Ri,expandable:Vi,record:Ci,onExpand:Vn});return yn?n.createElement("span",{onClick:function(Nt){return Nt.stopPropagation()}},Zi):Zi}),ri),Pn=Oi.slice();return _i>=0&&Pn.splice(_i,0,pa),Pn}return Oi},[wn,Oi,Ze,Ln,Zn,Ir]),Zr=n.useMemo(function(){var ri=ei;return rn&&(ri=rn(ri)),ri.length||(ri=[{render:function(){return null}}]),ri},[rn,ei,Ir]),di=n.useMemo(function(){return Ir==="rtl"?Cn(on(Zr)):on(Zr)},[Zr,Ir]);return[Zr,di]}var mn=He;function dn(xe){var rn=Object(n.useRef)(xe),bn=Object(n.useState)({}),Ge=Object(M.a)(bn,2),Fe=Ge[1],wn=Object(n.useRef)(null),Ln=Object(n.useRef)([]);function Ze(Vn){Ln.current.push(Vn);var Zn=Promise.resolve();wn.current=Zn,Zn.then(function(){if(wn.current===Zn){var hr=Ln.current,rr=rn.current;Ln.current=[],hr.forEach(function(Ir){rn.current=Ir(rn.current)}),wn.current=null,rr!==rn.current&&Fe({})}})}return Object(n.useEffect)(function(){return function(){wn.current=null}},[]),[rn.current,Ze]}function Un(xe){var rn=Object(n.useRef)(xe||null),bn=Object(n.useRef)();function Ge(){window.clearTimeout(bn.current)}function Fe(Ln){rn.current=Ln,Ge(),bn.current=window.setTimeout(function(){rn.current=null,bn.current=void 0},100)}function wn(){return rn.current}return Object(n.useEffect)(function(){return Ge},[]),[Fe,wn]}function Xn(xe,rn,bn){var Ge=Object(n.useMemo)(function(){for(var Fe=[],wn=[],Ln=0,Ze=0,Vn=0;Vn<rn;Vn+=1)if(bn==="rtl"){wn[Vn]=Ze,Ze+=xe[Vn]||0;var Zn=rn-Vn-1;Fe[Zn]=Ln,Ln+=xe[Zn]||0}else{Fe[Vn]=Ln,Ln+=xe[Vn]||0;var hr=rn-Vn-1;wn[hr]=Ze,Ze+=xe[hr]||0}return{left:Fe,right:wn}},[xe,rn,bn]);return Ge}var Hn=Xn;function _n(xe){var rn=xe.className,bn=xe.children;return n.createElement("div",{className:rn},bn)}var $n=_n;function ir(xe){var rn=xe.className,bn=xe.index,Ge=xe.children,Fe=xe.colSpan,wn=xe.rowSpan,Ln=xe.align,Ze=n.useContext(yt),Vn=Ze.prefixCls,Zn=Ze.fixedInfoList,hr=Zn[bn];return n.createElement(H,Object(t.a)({className:rn,index:bn,component:"td",prefixCls:Vn,record:null,dataIndex:null,align:Ln,render:function(){return{children:Ge,props:{colSpan:Fe,rowSpan:wn}}}},hr))}function dr(xe){return n.createElement("tr",xe)}function xr(xe){var rn=xe.children,bn=n.useContext(yt),Ge=bn.prefixCls;return n.createElement("tfoot",{className:"".concat(Ge,"-summary")},rn)}var Qr=xr,Mr={Cell:ir,Row:dr};function Er(xe){var rn,bn=xe.prefixCls,Ge=xe.record,Fe=xe.onExpand,wn=xe.expanded,Ln=xe.expandable,Ze="".concat(bn,"-row-expand-icon");if(!Ln)return n.createElement("span",{className:b()(Ze,"".concat(bn,"-row-spaced"))});var Vn=function(hr){Fe(Ge,hr),hr.stopPropagation()};return n.createElement("span",{className:b()(Ze,(rn={},Object(a.a)(rn,"".concat(bn,"-row-expanded"),wn),Object(a.a)(rn,"".concat(bn,"-row-collapsed"),!wn),rn)),onClick:Vn})}function Dr(xe,rn,bn){var Ge=[];function Fe(wn){(wn||[]).forEach(function(Ln,Ze){Ge.push(rn(Ln,Ze)),Fe(Ln[bn])})}return Fe(xe),Ge}var hi=z("zT1h"),Wi=z("y0+3"),oa=function(rn,bn){var Ge,Fe,wn=rn.scrollBodyRef,Ln=rn.onScroll,Ze=rn.offsetScroll,Vn=rn.container,Zn=n.useContext(yt),hr=Zn.prefixCls,rr=((Ge=wn.current)===null||Ge===void 0?void 0:Ge.scrollWidth)||0,Ir=((Fe=wn.current)===null||Fe===void 0?void 0:Fe.clientWidth)||0,yn=rr&&Ir*(Ir/rr),oe=n.useRef(),Oi=dn({scrollLeft:0,isHiddenScrollBar:!1}),ei=Object(M.a)(Oi,2),Zr=ei[0],di=ei[1],ri=n.useRef({delta:0,x:0}),_i=n.useState(!1),na=Object(M.a)(_i,2),pa=na[0],Pn=na[1],Ui=function(){Pn(!1)},za=function(Vi){Vi.persist(),ri.current.delta=Vi.pageX-Zr.scrollLeft,ri.current.x=0,Pn(!0),Vi.preventDefault()},Ci=function(Vi){var Zi,eo=Vi||((Zi=window)===null||Zi===void 0?void 0:Zi.event),Nt=eo.buttons;if(!pa||Nt===0){pa&&Pn(!1);return}var f=ri.current.x+Vi.pageX-ri.current.x-ri.current.delta;f<=0&&(f=0),f+yn>=Ir&&(f=Ir-yn),Ln({scrollLeft:f/Ir*(rr+2)}),ri.current.x=Vi.pageX},Qi=function(){var Vi=Object(Wi.b)(wn.current).top,Zi=Vi+wn.current.offsetHeight,eo=Vn===window?document.documentElement.scrollTop+window.innerHeight:Object(Wi.b)(Vn).top+Vn.clientHeight;Zi-Object(O.a)()<=eo||Vi>=eo-Ze?di(function(Nt){return Object(E.a)(Object(E.a)({},Nt),{},{isHiddenScrollBar:!0})}):di(function(Nt){return Object(E.a)(Object(E.a)({},Nt),{},{isHiddenScrollBar:!1})})},Pa=function(Vi){di(function(Zi){return Object(E.a)(Object(E.a)({},Zi),{},{scrollLeft:Vi/rr*Ir||0})})};return n.useImperativeHandle(bn,function(){return{setScrollLeft:Pa}}),n.useEffect(function(){var Ri=Object(hi.a)(document.body,"mouseup",Ui,!1),Vi=Object(hi.a)(document.body,"mousemove",Ci,!1);return Qi(),function(){Ri.remove(),Vi.remove()}},[yn,pa]),n.useEffect(function(){var Ri=Object(hi.a)(Vn,"scroll",Qi,!1),Vi=Object(hi.a)(window,"resize",Qi,!1);return function(){Ri.remove(),Vi.remove()}},[Vn]),n.useEffect(function(){Zr.isHiddenScrollBar||di(function(Ri){var Vi=wn.current;return Vi?Object(E.a)(Object(E.a)({},Ri),{},{scrollLeft:Vi.scrollLeft/Vi.scrollWidth*Vi.clientWidth}):Ri})},[Zr.isHiddenScrollBar]),rr<=Ir||!yn||Zr.isHiddenScrollBar?null:n.createElement("div",{style:{height:Object(O.a)(),width:Ir,bottom:Ze},className:"".concat(hr,"-sticky-scroll")},n.createElement("div",{onMouseDown:za,ref:oe,className:b()("".concat(hr,"-sticky-scroll-bar"),Object(a.a)({},"".concat(hr,"-sticky-scroll-bar-active"),pa)),style:{width:"".concat(yn,"px"),transform:"translate3d(".concat(Zr.scrollLeft,"px, 0, 0)")}}))},Za=n.forwardRef(oa),ao=z("MNnm"),Ji=Object(ao.a)()?window:null;function Ya(xe,rn){var bn=Object(lt.a)(xe)==="object"?xe:{},Ge=bn.offsetHeader,Fe=Ge===void 0?0:Ge,wn=bn.offsetScroll,Ln=wn===void 0?0:wn,Ze=bn.getContainer,Vn=Ze===void 0?function(){return Ji}:Ze,Zn=Vn()||Ji;return n.useMemo(function(){var hr=!!xe;return{isSticky:hr,stickyClassName:hr?"".concat(rn,"-sticky-header"):"",offsetHeader:Fe,offsetScroll:Ln,container:Zn}},[Ln,Fe,rn,Zn])}var Ca=[],La={},Ba="rc-table-internal-hook",oo=n.memo(function(xe){var rn=xe.children;return rn},function(xe,rn){return u()(xe.props,rn.props)?xe.pingLeft!==rn.pingLeft||xe.pingRight!==rn.pingRight:!1});function Yr(xe){var rn,bn=xe.prefixCls,Ge=xe.className,Fe=xe.rowClassName,wn=xe.style,Ln=xe.data,Ze=xe.rowKey,Vn=xe.scroll,Zn=xe.tableLayout,hr=xe.direction,rr=xe.title,Ir=xe.footer,yn=xe.summary,oe=xe.id,Oi=xe.showHeader,ei=xe.components,Zr=xe.emptyText,di=xe.onRow,ri=xe.onHeaderRow,_i=xe.internalHooks,na=xe.transformColumns,pa=xe.internalRefs,Pn=xe.sticky,Ui=Ln||Ca,za=!!Ui.length,Ci=n.useState(0),Qi=Object(M.a)(Ci,2),Pa=Qi[0],Ri=Qi[1];n.useEffect(function(){Ri(Object(O.a)())});var Vi=n.useMemo(function(){return vt(ei,{})},[ei]),Zi=n.useCallback(function(wo,mo){return ft(Vi,wo)||mo},[Vi]),eo=n.useMemo(function(){return typeof Ze=="function"?Ze:function(wo){var mo=wo&&wo[Ze];return mo}},[Ze]),Nt=W(xe),f=Nt.expandIcon,c=Nt.expandedRowKeys,R=Nt.defaultExpandedRowKeys,Y=Nt.defaultExpandAllRows,ut=Nt.expandedRowRender,jt=Nt.onExpand,Ut=Nt.onExpandedRowsChange,Et=Nt.expandRowByClick,qt=Nt.rowExpandable,se=Nt.expandIconColumnIndex,je=Nt.expandedRowClassName,Ie=Nt.childrenColumnName,Ue=Nt.indentSize,Ke=f||Er,An=Ie||"children",Bn=n.useMemo(function(){return ut?"row":xe.expandable&&_i===Ba&&xe.expandable.__PARENT_RENDER_ICON__||Ui.some(function(wo){return wo&&Object(lt.a)(wo)==="object"&&wo[An]})?"nest":!1},[!!ut,Ui]),Wn=n.useState(function(){return R||(Y?Dr(Ui,eo,An):[])}),Yn=Object(M.a)(Wn,2),Jn=Yn[0],Ar=Yn[1],ur=n.useMemo(function(){return new Set(c||Jn||[])},[c,Jn]),mr=n.useCallback(function(wo){var mo=eo(wo,Ui.indexOf(wo)),qo,Fs=ur.has(mo);Fs?(ur.delete(mo),qo=Object(T.a)(ur)):qo=[].concat(Object(T.a)(ur),[mo]),Ar(qo),jt&&jt(!Fs,wo),Ut&&Ut(qo)},[eo,ur,Ui,jt,Ut]),ii=n.useState(0),Li=Object(M.a)(ii,2),ci=Li[0],Yi=Li[1],qa=mn(Object(E.a)(Object(E.a)(Object(E.a)({},xe),Nt),{},{expandable:!!ut,expandedKeys:ur,getRowKey:eo,onTriggerExpand:mr,expandIcon:Ke,expandIconColumnIndex:se,direction:hr}),_i===Ba?na:null),wa=Object(M.a)(qa,2),fo=wa[0],ga=wa[1],Ia=n.useMemo(function(){return{columns:fo,flattenColumns:ga}},[fo,ga]),ko=n.useRef(),No=n.useRef(),no=n.useRef(),Ja=n.useState(!1),ho=Object(M.a)(Ja,2),Qa=ho[0],jo=ho[1],Lo=n.useState(!1),es=Object(M.a)(Lo,2),Bo=es[0],Yo=es[1],zo=dn(new Map),Ko=Object(M.a)(zo,2),xa=Ko[0],Cs=Ko[1],Ms=st(ga),zs=Ms.map(function(wo){return xa.get(wo)}),xs=n.useMemo(function(){return zs},[zs.join("_")]),Ns=Hn(xs,ga.length,hr),is=Vn&&mt(Vn.y),cs=Vn&&mt(Vn.x),$o=cs&&ga.some(function(wo){var mo=wo.fixed;return mo}),Ks=n.useRef(),rs=Ya(Pn,bn),Fo=rs.isSticky,Ws=rs.offsetHeader,Ls=rs.offsetScroll,Os=rs.stickyClassName,Ss=rs.container,as,iu,Vs;is&&(iu={overflowY:"scroll",maxHeight:Vn.y}),cs&&(as={overflowX:"auto"},is||(iu={overflowY:"hidden"}),Vs={width:Vn.x===!0?"auto":Vn.x,minWidth:"100%"});var As=n.useCallback(function(wo,mo){Object(o.a)(ko.current)&&Cs(function(qo){if(qo.get(wo)!==mo){var Fs=new Map(qo);return Fs.set(wo,mo),Fs}return qo})},[]),vo=Un(null),go=Object(M.a)(vo,2),Co=go[0],Bs=go[1];function Wo(wo,mo){!mo||(typeof mo=="function"?mo(wo):mo.scrollLeft!==wo&&(mo.scrollLeft=wo))}var ls=function(mo){var qo=mo.currentTarget,Fs=mo.scrollLeft,Ml=hr==="rtl",_s=typeof Fs=="number"?Fs:qo.scrollLeft,xc=qo||La;if(!Bs()||Bs()===xc){var Yu;Co(xc),Wo(_s,No.current),Wo(_s,no.current),Wo(_s,(Yu=Ks.current)===null||Yu===void 0?void 0:Yu.setScrollLeft)}if(qo){var Al=qo.scrollWidth,ic=qo.clientWidth;Ml?(jo(-_s<Al-ic),Yo(-_s>0)):(jo(_s>0),Yo(_s<Al-ic))}},du=function(){no.current&&ls({currentTarget:no.current})},Tu=function(mo){var qo=mo.width;du(),Yi(ko.current?ko.current.offsetWidth:qo)};n.useEffect(function(){return du},[]),n.useEffect(function(){cs&&du()},[cs]),n.useEffect(function(){_i===Ba&&pa&&(pa.body.current=no.current)});var Ts=Zi(["table"],"table"),ju=n.useMemo(function(){return Zn||($o?Vn.x==="max-content"?"auto":"fixed":is||Fo||ga.some(function(wo){var mo=wo.ellipsis;return mo})?"fixed":"auto")},[is,$o,ga,Zn,Fo]),Jo,Iu={colWidths:xs,columCount:ga.length,stickyOffsets:Ns,onHeaderRow:ri,fixHeader:is},wl=n.useMemo(function(){return za?null:typeof Zr=="function"?Zr():Zr},[za,Zr]),_c=n.createElement($t,{data:Ui,measureColumnWidth:is||cs||Fo,expandedKeys:ur,rowExpandable:qt,getRowKey:eo,onRow:di,emptyNode:wl,childrenColumnName:An}),El=n.createElement(y,{colWidths:ga.map(function(wo){var mo=wo.width;return mo}),columns:ga}),ec=yn&&n.createElement(Qr,null,yn(Ui)),Gc=Zi(["body"]);if(is||Fo){var js;typeof Gc=="function"?(js=Gc(Ui,{scrollbarSize:Pa,ref:no,onScroll:ls}),Iu.colWidths=ga.map(function(wo,mo){var qo=wo.width,Fs=mo===fo.length-1?qo-Pa:qo;return typeof Fs=="number"&&!Number.isNaN(Fs)?Fs:(Object(v.a)(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0)})):js=n.createElement("div",{style:Object(E.a)(Object(E.a)({},as),iu),onScroll:ls,ref:no,className:b()("".concat(bn,"-body"))},n.createElement(Ts,{style:Object(E.a)(Object(E.a)({},Vs),{},{tableLayout:ju})},El,_c,ec)),Jo=n.createElement(n.Fragment,null,Oi!==!1&&n.createElement(ht,Object(t.a)({noData:!Ui.length},Iu,Ia,{direction:hr,offsetHeader:Ws,stickyClassName:Os,ref:No,onScroll:ls})),js,Fo&&n.createElement(Za,{ref:Ks,offsetScroll:Ls,scrollBodyRef:no,onScroll:ls,container:Ss}))}else Jo=n.createElement("div",{style:Object(E.a)(Object(E.a)({},as),iu),className:b()("".concat(bn,"-content")),onScroll:ls,ref:no},n.createElement(Ts,{style:Object(E.a)(Object(E.a)({},Vs),{},{tableLayout:ju})},El,Oi!==!1&&n.createElement(U,Object(t.a)({},Iu,Ia)),_c,ec));var nc=P(xe),rc=n.createElement("div",Object(t.a)({className:b()(bn,Ge,(rn={},Object(a.a)(rn,"".concat(bn,"-rtl"),hr==="rtl"),Object(a.a)(rn,"".concat(bn,"-ping-left"),Qa),Object(a.a)(rn,"".concat(bn,"-ping-right"),Bo),Object(a.a)(rn,"".concat(bn,"-layout-fixed"),Zn==="fixed"),Object(a.a)(rn,"".concat(bn,"-fixed-header"),is),Object(a.a)(rn,"".concat(bn,"-fixed-column"),$o),Object(a.a)(rn,"".concat(bn,"-scroll-horizontal"),cs),Object(a.a)(rn,"".concat(bn,"-has-fix-left"),ga[0]&&ga[0].fixed),Object(a.a)(rn,"".concat(bn,"-has-fix-right"),ga[ga.length-1]&&ga[ga.length-1].fixed==="right"),rn)),style:wn,id:oe,ref:ko},nc),n.createElement(oo,{pingLeft:Qa,pingRight:Bo,props:Object(E.a)(Object(E.a)({},xe),{},{stickyOffsets:Ns,mergedExpandedKeys:ur})},rr&&n.createElement($n,{className:"".concat(bn,"-title")},rr(Ui)),n.createElement("div",{className:"".concat(bn,"-container")},Jo),Ir&&n.createElement($n,{className:"".concat(bn,"-footer")},Ir(Ui))));cs&&(rc=n.createElement(C.a,{onResize:Tu},rc));var Cl=n.useMemo(function(){return{prefixCls:bn,getComponent:Zi,scrollbarSize:Pa,direction:hr,fixedInfoList:ga.map(function(wo,mo){return xt(mo,mo,ga,Ns,hr)}),isSticky:Fo}},[bn,Zi,Pa,hr,ga,Ns,hr,Fo]),Vu=n.useMemo(function(){return Object(E.a)(Object(E.a)({},Ia),{},{tableLayout:ju,rowClassName:Fe,expandedRowClassName:je,componentWidth:ci,fixHeader:is,fixColumn:$o,horizonScroll:cs,expandIcon:Ke,expandableType:Bn,expandRowByClick:Et,expandedRowRender:ut,onTriggerExpand:mr,expandIconColumnIndex:se,indentSize:Ue})},[Ia,ju,Fe,je,ci,is,$o,cs,Ke,Bn,Et,ut,mr,se,Ue]),Uc=n.useMemo(function(){return{onColumnResize:As}},[As]);return n.createElement(yt.Provider,{value:Cl},n.createElement(Mt.Provider,{value:Vu},n.createElement(Ft.Provider,{value:Uc},rc)))}Yr.Column=A,Yr.ColumnGroup=p,Yr.Summary=Mr,Yr.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};var $a=Yr,Ma=$a,to=z("W9HT"),Aa=z("1OyB"),Vr=z("vuIU"),Pi=z("Ji7U"),wi=z("LK+K"),Ei=function(rn){var bn,Ge="".concat(rn.rootPrefixCls,"-item"),Fe=b()(Ge,"".concat(Ge,"-").concat(rn.page),(bn={},Object(a.a)(bn,"".concat(Ge,"-active"),rn.active),Object(a.a)(bn,rn.className,!!rn.className),Object(a.a)(bn,"".concat(Ge,"-disabled"),!rn.page),bn)),wn=function(){rn.onClick(rn.page)},Ln=function(Vn){rn.onKeyPress(Vn,rn.onClick,rn.page)};return d.a.createElement("li",{title:rn.showTitle?rn.page:null,className:Fe,onClick:wn,onKeyPress:Ln,tabIndex:"0"},rn.itemRender(rn.page,"page",d.a.createElement("a",{rel:"nofollow"},rn.page)))},bi=Ei,Di={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},Fi=function(xe){Object(Pi.a)(bn,xe);var rn=Object(wi.a)(bn);function bn(){var Ge;Object(Aa.a)(this,bn);for(var Fe=arguments.length,wn=new Array(Fe),Ln=0;Ln<Fe;Ln++)wn[Ln]=arguments[Ln];return Ge=rn.call.apply(rn,[this].concat(wn)),Ge.state={goInputText:""},Ge.buildOptionText=function(Ze){return"".concat(Ze," ").concat(Ge.props.locale.items_per_page)},Ge.changeSize=function(Ze){Ge.props.changeSize(Number(Ze))},Ge.handleChange=function(Ze){Ge.setState({goInputText:Ze.target.value})},Ge.handleBlur=function(Ze){var Vn=Ge.props,Zn=Vn.goButton,hr=Vn.quickGo,rr=Vn.rootPrefixCls,Ir=Ge.state.goInputText;Zn||Ir===""||Ze.relatedTarget&&(Ze.relatedTarget.className.indexOf("".concat(rr,"-prev"))>=0||Ze.relatedTarget.className.indexOf("".concat(rr,"-next"))>=0)||(Ge.setState({goInputText:""}),hr(Ge.getValidValue()))},Ge.go=function(Ze){var Vn=Ge.state.goInputText;Vn!==""&&(Ze.keyCode===Di.ENTER||Ze.type==="click")&&(Ge.setState({goInputText:""}),Ge.props.quickGo(Ge.getValidValue()))},Ge}return Object(Vr.a)(bn,[{key:"getValidValue",value:function(){var Fe=this.state.goInputText;return!Fe||isNaN(Fe)?void 0:Number(Fe)}},{key:"getPageSizeOptions",value:function(){var Fe=this.props,wn=Fe.pageSize,Ln=Fe.pageSizeOptions;return Ln.some(function(Ze){return Ze.toString()===wn.toString()})?Ln:Ln.concat([wn.toString()]).sort(function(Ze,Vn){var Zn=isNaN(Number(Ze))?0:Number(Ze),hr=isNaN(Number(Vn))?0:Number(Vn);return Zn-hr})}},{key:"render",value:function(){var Fe=this,wn=this.props,Ln=wn.pageSize,Ze=wn.locale,Vn=wn.rootPrefixCls,Zn=wn.changeSize,hr=wn.quickGo,rr=wn.goButton,Ir=wn.selectComponentClass,yn=wn.buildOptionText,oe=wn.selectPrefixCls,Oi=wn.disabled,ei=this.state.goInputText,Zr="".concat(Vn,"-options"),di=Ir,ri=null,_i=null,na=null;if(!Zn&&!hr)return null;var pa=this.getPageSizeOptions();if(Zn&&di){var Pn=pa.map(function(Ui,za){return d.a.createElement(di.Option,{key:za,value:Ui.toString()},(yn||Fe.buildOptionText)(Ui))});ri=d.a.createElement(di,{disabled:Oi,prefixCls:oe,showSearch:!1,className:"".concat(Zr,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(Ln||pa[0]).toString(),onChange:this.changeSize,getPopupContainer:function(za){return za.parentNode}},Pn)}return hr&&(rr&&(na=typeof rr=="boolean"?d.a.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:Oi,className:"".concat(Zr,"-quick-jumper-button")},Ze.jump_to_confirm):d.a.createElement("span",{onClick:this.go,onKeyUp:this.go},rr)),_i=d.a.createElement("div",{className:"".concat(Zr,"-quick-jumper")},Ze.jump_to,d.a.createElement("input",{disabled:Oi,type:"text",value:ei,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur}),Ze.page,na)),d.a.createElement("li",{className:"".concat(Zr)},ri,_i)}}]),bn}(d.a.Component);Fi.defaultProps={pageSizeOptions:["10","20","50","100"]};var Ni=Fi,ji=z("N2Kk");function Xi(){}function Ki(xe){return typeof xe=="number"&&isFinite(xe)&&Math.floor(xe)===xe}function la(xe,rn,bn){return bn}function ta(xe,rn,bn){var Ge=typeof xe=="undefined"?rn.pageSize:xe;return Math.floor((bn.total-1)/Ge)+1}var ma=function(xe){Object(Pi.a)(bn,xe);var rn=Object(wi.a)(bn);function bn(Ge){var Fe;Object(Aa.a)(this,bn),Fe=rn.call(this,Ge),Fe.getJumpPrevPage=function(){return Math.max(1,Fe.state.current-(Fe.props.showLessItems?3:5))},Fe.getJumpNextPage=function(){return Math.min(ta(void 0,Fe.state,Fe.props),Fe.state.current+(Fe.props.showLessItems?3:5))},Fe.getItemIcon=function(Zn,hr){var rr=Fe.props.prefixCls,Ir=Zn||d.a.createElement("button",{type:"button","aria-label":hr,className:"".concat(rr,"-item-link")});return typeof Zn=="function"&&(Ir=d.a.createElement(Zn,Object(E.a)({},Fe.props))),Ir},Fe.savePaginationNode=function(Zn){Fe.paginationNode=Zn},Fe.isValid=function(Zn){return Ki(Zn)&&Zn!==Fe.state.current},Fe.shouldDisplayQuickJumper=function(){var Zn=Fe.props,hr=Zn.showQuickJumper,rr=Zn.pageSize,Ir=Zn.total;return Ir<=rr?!1:hr},Fe.handleKeyDown=function(Zn){(Zn.keyCode===Di.ARROW_UP||Zn.keyCode===Di.ARROW_DOWN)&&Zn.preventDefault()},Fe.handleKeyUp=function(Zn){var hr=Fe.getValidValue(Zn),rr=Fe.state.currentInputValue;hr!==rr&&Fe.setState({currentInputValue:hr}),Zn.keyCode===Di.ENTER?Fe.handleChange(hr):Zn.keyCode===Di.ARROW_UP?Fe.handleChange(hr-1):Zn.keyCode===Di.ARROW_DOWN&&Fe.handleChange(hr+1)},Fe.changePageSize=function(Zn){var hr=Fe.state.current,rr=ta(Zn,Fe.state,Fe.props);hr=hr>rr?rr:hr,rr===0&&(hr=Fe.state.current),typeof Zn=="number"&&("pageSize"in Fe.props||Fe.setState({pageSize:Zn}),"current"in Fe.props||Fe.setState({current:hr,currentInputValue:hr})),Fe.props.onShowSizeChange(hr,Zn),"onChange"in Fe.props&&Fe.props.onChange&&Fe.props.onChange(hr,Zn)},Fe.handleChange=function(Zn){var hr=Fe.props.disabled,rr=Zn;if(Fe.isValid(rr)&&!hr){var Ir=ta(void 0,Fe.state,Fe.props);rr>Ir?rr=Ir:rr<1&&(rr=1),"current"in Fe.props||Fe.setState({current:rr,currentInputValue:rr});var yn=Fe.state.pageSize;return Fe.props.onChange(rr,yn),rr}return Fe.state.current},Fe.prev=function(){Fe.hasPrev()&&Fe.handleChange(Fe.state.current-1)},Fe.next=function(){Fe.hasNext()&&Fe.handleChange(Fe.state.current+1)},Fe.jumpPrev=function(){Fe.handleChange(Fe.getJumpPrevPage())},Fe.jumpNext=function(){Fe.handleChange(Fe.getJumpNextPage())},Fe.hasPrev=function(){return Fe.state.current>1},Fe.hasNext=function(){return Fe.state.current<ta(void 0,Fe.state,Fe.props)},Fe.runIfEnter=function(Zn,hr){if(Zn.key==="Enter"||Zn.charCode===13){for(var rr=arguments.length,Ir=new Array(rr>2?rr-2:0),yn=2;yn<rr;yn++)Ir[yn-2]=arguments[yn];hr.apply(void 0,Ir)}},Fe.runIfEnterPrev=function(Zn){Fe.runIfEnter(Zn,Fe.prev)},Fe.runIfEnterNext=function(Zn){Fe.runIfEnter(Zn,Fe.next)},Fe.runIfEnterJumpPrev=function(Zn){Fe.runIfEnter(Zn,Fe.jumpPrev)},Fe.runIfEnterJumpNext=function(Zn){Fe.runIfEnter(Zn,Fe.jumpNext)},Fe.handleGoTO=function(Zn){(Zn.keyCode===Di.ENTER||Zn.type==="click")&&Fe.handleChange(Fe.state.currentInputValue)};var wn=Ge.onChange!==Xi,Ln="current"in Ge;Ln&&!wn&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var Ze=Ge.defaultCurrent;"current"in Ge&&(Ze=Ge.current);var Vn=Ge.defaultPageSize;return"pageSize"in Ge&&(Vn=Ge.pageSize),Ze=Math.min(Ze,ta(Vn,void 0,Ge)),Fe.state={current:Ze,currentInputValue:Ze,pageSize:Vn},Fe}return Object(Vr.a)(bn,[{key:"componentDidUpdate",value:function(Fe,wn){var Ln=this.props.prefixCls;if(wn.current!==this.state.current&&this.paginationNode){var Ze=this.paginationNode.querySelector(".".concat(Ln,"-item-").concat(wn.current));Ze&&document.activeElement===Ze&&Ze.blur()}}},{key:"getValidValue",value:function(Fe){var wn=Fe.target.value,Ln=ta(void 0,this.state,this.props),Ze=this.state.currentInputValue,Vn;return wn===""?Vn=wn:isNaN(Number(wn))?Vn=Ze:wn>=Ln?Vn=Ln:Vn=Number(wn),Vn}},{key:"getShowSizeChanger",value:function(){var Fe=this.props,wn=Fe.showSizeChanger,Ln=Fe.total,Ze=Fe.totalBoundaryShowSizeChanger;return typeof wn!="undefined"?wn:Ln>Ze}},{key:"renderPrev",value:function(Fe){var wn=this.props,Ln=wn.prevIcon,Ze=wn.itemRender,Vn=Ze(Fe,"prev",this.getItemIcon(Ln,"prev page")),Zn=!this.hasPrev();return Object(n.isValidElement)(Vn)?Object(n.cloneElement)(Vn,{disabled:Zn}):Vn}},{key:"renderNext",value:function(Fe){var wn=this.props,Ln=wn.nextIcon,Ze=wn.itemRender,Vn=Ze(Fe,"next",this.getItemIcon(Ln,"next page")),Zn=!this.hasNext();return Object(n.isValidElement)(Vn)?Object(n.cloneElement)(Vn,{disabled:Zn}):Vn}},{key:"render",value:function(){var Fe=this,wn=this.props,Ln=wn.prefixCls,Ze=wn.className,Vn=wn.style,Zn=wn.disabled,hr=wn.hideOnSinglePage,rr=wn.total,Ir=wn.locale,yn=wn.showQuickJumper,oe=wn.showLessItems,Oi=wn.showTitle,ei=wn.showTotal,Zr=wn.simple,di=wn.itemRender,ri=wn.showPrevNextJumpers,_i=wn.jumpPrevIcon,na=wn.jumpNextIcon,pa=wn.selectComponentClass,Pn=wn.selectPrefixCls,Ui=wn.pageSizeOptions,za=this.state,Ci=za.current,Qi=za.pageSize,Pa=za.currentInputValue;if(hr===!0&&rr<=Qi)return null;var Ri=ta(void 0,this.state,this.props),Vi=[],Zi=null,eo=null,Nt=null,f=null,c=null,R=yn&&yn.goButton,Y=oe?1:2,ut=Ci-1>0?Ci-1:0,jt=Ci+1<Ri?Ci+1:Ri,Ut=Object.keys(this.props).reduce(function(Ar,ur){return(ur.substr(0,5)==="data-"||ur.substr(0,5)==="aria-"||ur==="role")&&(Ar[ur]=Fe.props[ur]),Ar},{});if(Zr)return R&&(typeof R=="boolean"?c=d.a.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},Ir.jump_to_confirm):c=d.a.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},R),c=d.a.createElement("li",{title:Oi?"".concat(Ir.jump_to).concat(Ci,"/").concat(Ri):null,className:"".concat(Ln,"-simple-pager")},c)),d.a.createElement("ul",Object(t.a)({className:b()(Ln,"".concat(Ln,"-simple"),Object(a.a)({},"".concat(Ln,"-disabled"),Zn),Ze),style:Vn,ref:this.savePaginationNode},Ut),d.a.createElement("li",{title:Oi?Ir.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:b()("".concat(Ln,"-prev"),Object(a.a)({},"".concat(Ln,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(ut)),d.a.createElement("li",{title:Oi?"".concat(Ci,"/").concat(Ri):null,className:"".concat(Ln,"-simple-pager")},d.a.createElement("input",{type:"text",value:Pa,disabled:Zn,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,size:"3"}),d.a.createElement("span",{className:"".concat(Ln,"-slash")},"/"),Ri),d.a.createElement("li",{title:Oi?Ir.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:b()("".concat(Ln,"-next"),Object(a.a)({},"".concat(Ln,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(jt)),c);if(Ri<=3+Y*2){var Et={locale:Ir,rootPrefixCls:Ln,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:Oi,itemRender:di};Ri||Vi.push(d.a.createElement(bi,Object(t.a)({},Et,{key:"noPager",page:Ri,className:"".concat(Ln,"-disabled")})));for(var qt=1;qt<=Ri;qt+=1){var se=Ci===qt;Vi.push(d.a.createElement(bi,Object(t.a)({},Et,{key:qt,page:qt,active:se})))}}else{var je=oe?Ir.prev_3:Ir.prev_5,Ie=oe?Ir.next_3:Ir.next_5;ri&&(Zi=d.a.createElement("li",{title:Oi?je:null,key:"prev",onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:b()("".concat(Ln,"-jump-prev"),Object(a.a)({},"".concat(Ln,"-jump-prev-custom-icon"),!!_i))},di(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(_i,"prev page"))),eo=d.a.createElement("li",{title:Oi?Ie:null,key:"next",tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:b()("".concat(Ln,"-jump-next"),Object(a.a)({},"".concat(Ln,"-jump-next-custom-icon"),!!na))},di(this.getJumpNextPage(),"jump-next",this.getItemIcon(na,"next page")))),f=d.a.createElement(bi,{locale:Ir,last:!0,rootPrefixCls:Ln,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:Ri,page:Ri,active:!1,showTitle:Oi,itemRender:di}),Nt=d.a.createElement(bi,{locale:Ir,rootPrefixCls:Ln,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:Oi,itemRender:di});var Ue=Math.max(1,Ci-Y),Ke=Math.min(Ci+Y,Ri);Ci-1<=Y&&(Ke=1+Y*2),Ri-Ci<=Y&&(Ue=Ri-Y*2);for(var An=Ue;An<=Ke;An+=1){var Bn=Ci===An;Vi.push(d.a.createElement(bi,{locale:Ir,rootPrefixCls:Ln,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:An,page:An,active:Bn,showTitle:Oi,itemRender:di}))}Ci-1>=Y*2&&Ci!==1+2&&(Vi[0]=Object(n.cloneElement)(Vi[0],{className:"".concat(Ln,"-item-after-jump-prev")}),Vi.unshift(Zi)),Ri-Ci>=Y*2&&Ci!==Ri-2&&(Vi[Vi.length-1]=Object(n.cloneElement)(Vi[Vi.length-1],{className:"".concat(Ln,"-item-before-jump-next")}),Vi.push(eo)),Ue!==1&&Vi.unshift(Nt),Ke!==Ri&&Vi.push(f)}var Wn=null;ei&&(Wn=d.a.createElement("li",{className:"".concat(Ln,"-total-text")},ei(rr,[rr===0?0:(Ci-1)*Qi+1,Ci*Qi>rr?rr:Ci*Qi])));var Yn=!this.hasPrev()||!Ri,Jn=!this.hasNext()||!Ri;return d.a.createElement("ul",Object(t.a)({className:b()(Ln,Ze,Object(a.a)({},"".concat(Ln,"-disabled"),Zn)),style:Vn,unselectable:"unselectable",ref:this.savePaginationNode},Ut),Wn,d.a.createElement("li",{title:Oi?Ir.prev_page:null,onClick:this.prev,tabIndex:Yn?null:0,onKeyPress:this.runIfEnterPrev,className:b()("".concat(Ln,"-prev"),Object(a.a)({},"".concat(Ln,"-disabled"),Yn)),"aria-disabled":Yn},this.renderPrev(ut)),Vi,d.a.createElement("li",{title:Oi?Ir.next_page:null,onClick:this.next,tabIndex:Jn?null:0,onKeyPress:this.runIfEnterNext,className:b()("".concat(Ln,"-next"),Object(a.a)({},"".concat(Ln,"-disabled"),Jn)),"aria-disabled":Jn},this.renderNext(jt)),d.a.createElement(Ni,{disabled:Zn,locale:Ir,rootPrefixCls:Ln,selectComponentClass:pa,selectPrefixCls:Pn,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:Ci,pageSize:Qi,pageSizeOptions:Ui,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:R}))}}],[{key:"getDerivedStateFromProps",value:function(Fe,wn){var Ln={};if("current"in Fe&&(Ln.current=Fe.current,Fe.current!==wn.current&&(Ln.currentInputValue=Ln.current)),"pageSize"in Fe&&Fe.pageSize!==wn.pageSize){var Ze=wn.current,Vn=ta(Fe.pageSize,wn,Fe);Ze=Ze>Vn?Vn:Ze,"current"in Fe||(Ln.current=Ze,Ln.currentInputValue=Ze),Ln.pageSize=Fe.pageSize}return Ln}}]),bn}(d.a.Component);ma.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:Xi,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:Xi,locale:ji.a,style:{},itemRender:la,totalBoundaryShowSizeChanger:50};var Oa=ma,uo=z("H4fg"),sa=z("5bA4"),Xa=z("UESt"),po={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},bo=po,Mo=z("6VBw"),Po=function(rn,bn){return n.createElement(Mo.a,Object.assign({},rn,{ref:bn,icon:bo}))};Po.displayName="DoubleLeftOutlined";var ue=n.forwardRef(Po),Qt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},ne=Qt,Ce=function(rn,bn){return n.createElement(Mo.a,Object.assign({},rn,{ref:bn,icon:ne}))};Ce.displayName="DoubleRightOutlined";var en=n.forwardRef(Ce),kn=z("2fM7"),sr=function(rn){return n.createElement(kn.a,Object(t.a)({size:"small"},rn))};sr.Option=kn.a.Option;var pr=sr,ln=z("YMnH"),vn=z("H84U"),xn=z("5OYt"),Or=function(xe,rn){var bn={};for(var Ge in xe)Object.prototype.hasOwnProperty.call(xe,Ge)&&rn.indexOf(Ge)<0&&(bn[Ge]=xe[Ge]);if(xe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Fe=0,Ge=Object.getOwnPropertySymbols(xe);Fe<Ge.length;Fe++)rn.indexOf(Ge[Fe])<0&&Object.prototype.propertyIsEnumerable.call(xe,Ge[Fe])&&(bn[Ge[Fe]]=xe[Ge[Fe]]);return bn},Br=function(rn){var bn=rn.prefixCls,Ge=rn.selectPrefixCls,Fe=rn.className,wn=rn.size,Ln=rn.locale,Ze=Or(rn,["prefixCls","selectPrefixCls","className","size","locale"]),Vn=Object(xn.a)(),Zn=Vn.xs,hr=n.useContext(vn.b),rr=hr.getPrefixCls,Ir=hr.direction,yn=rr("pagination",bn),oe=function(){var Zr=n.createElement("span",{className:"".concat(yn,"-item-ellipsis")},"\u2022\u2022\u2022"),di=n.createElement("button",{className:"".concat(yn,"-item-link"),type:"button",tabIndex:-1},n.createElement(sa.a,null)),ri=n.createElement("button",{className:"".concat(yn,"-item-link"),type:"button",tabIndex:-1},n.createElement(Xa.a,null)),_i=n.createElement("a",{className:"".concat(yn,"-item-link")},n.createElement("div",{className:"".concat(yn,"-item-container")},n.createElement(ue,{className:"".concat(yn,"-item-link-icon")}),Zr)),na=n.createElement("a",{className:"".concat(yn,"-item-link")},n.createElement("div",{className:"".concat(yn,"-item-container")},n.createElement(en,{className:"".concat(yn,"-item-link-icon")}),Zr));if(Ir==="rtl"){var pa=[ri,di];di=pa[0],ri=pa[1];var Pn=[na,_i];_i=Pn[0],na=Pn[1]}return{prevIcon:di,nextIcon:ri,jumpPrevIcon:_i,jumpNextIcon:na}},Oi=function(Zr){var di=Object(t.a)(Object(t.a)({},Zr),Ln),ri=wn==="small"||!!(Zn&&!wn&&Ze.responsive),_i=rr("select",Ge),na=b()(Object(a.a)({mini:ri},"".concat(yn,"-rtl"),Ir==="rtl"),Fe);return n.createElement(Oa,Object(t.a)({},Ze,{prefixCls:yn,selectPrefixCls:_i},oe(),{className:na,selectComponentClass:ri?pr:kn.a,locale:di}))};return n.createElement(ln.a,{componentName:"Pagination",defaultLocale:uo.a},Oi)},Pr=Br,kr=Pr,mi=function(xe,rn){var bn={};for(var Ge in xe)Object.prototype.hasOwnProperty.call(xe,Ge)&&rn.indexOf(Ge)<0&&(bn[Ge]=xe[Ge]);if(xe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Fe=0,Ge=Object.getOwnPropertySymbols(xe);Fe<Ge.length;Fe++)rn.indexOf(Ge[Fe])<0&&Object.prototype.propertyIsEnumerable.call(xe,Ge[Fe])&&(bn[Ge[Fe]]=xe[Ge[Fe]]);return bn},$r=10;function Xr(xe,rn){var bn={current:rn.current,pageSize:rn.pageSize},Ge=xe&&Object(lt.a)(xe)==="object"?xe:{};return Object.keys(Ge).forEach(function(Fe){var wn=rn[Fe];typeof wn!="function"&&(bn[Fe]=wn)}),bn}function Nr(){for(var xe={},rn=arguments.length,bn=new Array(rn),Ge=0;Ge<rn;Ge++)bn[Ge]=arguments[Ge];return bn.forEach(function(Fe){Fe&&Object.keys(Fe).forEach(function(wn){var Ln=Fe[wn];Ln!==void 0&&(xe[wn]=Ln)})}),xe}function Hr(xe,rn,bn){var Ge=rn&&Object(lt.a)(rn)==="object"?rn:{},Fe=Ge.total,wn=Fe===void 0?0:Fe,Ln=mi(Ge,["total"]),Ze=Object(n.useState)(function(){return{current:"defaultCurrent"in Ln?Ln.defaultCurrent:1,pageSize:"defaultPageSize"in Ln?Ln.defaultPageSize:$r}}),Vn=Object(M.a)(Ze,2),Zn=Vn[0],hr=Vn[1],rr=Nr(Zn,Ln,{total:wn>0?wn:xe}),Ir=Math.ceil((wn||xe)/rr.pageSize);rr.current>Ir&&(rr.current=Ir);var yn=function(){var ei=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,Zr=arguments.length>1?arguments[1]:void 0;hr({current:ei,pageSize:Zr||rr.pageSize})},oe=function(ei,Zr){var di;rn&&((di=rn.onChange)===null||di===void 0||di.call(rn,ei,Zr)),yn(ei,Zr),bn(ei,Zr||(rr==null?void 0:rr.pageSize))};return rn===!1?[{},function(){}]:[Object(t.a)(Object(t.a)({},rr),{onChange:oe}),yn]}function oi(xe,rn,bn){var Ge=n.useRef({});function Fe(wn){if(!Ge.current||Ge.current.data!==xe||Ge.current.childrenColumnName!==rn||Ge.current.getRowKey!==bn){var Ln=function Vn(Zn){Zn.forEach(function(hr,rr){var Ir=bn(hr,rr);Ze.set(Ir,hr),hr&&Object(lt.a)(hr)==="object"&&rn in hr&&Vn(hr[rn]||[])})},Ze=new Map;Ln(xe),Ge.current={data:xe,childrenColumnName:rn,kvMap:Ze,getRowKey:bn}}return Ge.current.kvMap.get(wn)}return[Fe]}var yi=z("T5bk"),si=z("8Skl"),ti=z("JX7q"),zi=n.createContext(null),qi=function(rn){for(var bn=rn.prefixCls,Ge=rn.level,Fe=rn.isStart,wn=rn.isEnd,Ln="".concat(bn,"-indent-unit"),Ze=[],Vn=0;Vn<Ge;Vn+=1){var Zn;Ze.push(n.createElement("span",{key:Vn,className:b()(Ln,(Zn={},Object(a.a)(Zn,"".concat(Ln,"-start"),Fe[Vn]),Object(a.a)(Zn,"".concat(Ln,"-end"),wn[Vn]),Zn))}))}return n.createElement("span",{"aria-hidden":"true",className:"".concat(bn,"-indent")},Ze)},Sa=qi,ea="open",Fa="close",Ua="---",Na=function(xe){Object(Pi.a)(bn,xe);var rn=Object(wi.a)(bn);function bn(){var Ge;return Object(Aa.a)(this,bn),Ge=rn.apply(this,arguments),Ge.state={dragNodeHighlight:!1},Ge.onSelectorClick=function(Fe){var wn=Ge.props.context.onNodeClick;wn(Fe,Re(Ge.props)),Ge.isSelectable()?Ge.onSelect(Fe):Ge.onCheck(Fe)},Ge.onSelectorDoubleClick=function(Fe){var wn=Ge.props.context.onNodeDoubleClick;wn(Fe,Re(Ge.props))},Ge.onSelect=function(Fe){if(!Ge.isDisabled()){var wn=Ge.props.context.onNodeSelect;Fe.preventDefault(),wn(Fe,Re(Ge.props))}},Ge.onCheck=function(Fe){if(!Ge.isDisabled()){var wn=Ge.props,Ln=wn.disableCheckbox,Ze=wn.checked,Vn=Ge.props.context.onNodeCheck;if(!(!Ge.isCheckable()||Ln)){Fe.preventDefault();var Zn=!Ze;Vn(Fe,Re(Ge.props),Zn)}}},Ge.onMouseEnter=function(Fe){var wn=Ge.props.context.onNodeMouseEnter;wn(Fe,Re(Ge.props))},Ge.onMouseLeave=function(Fe){var wn=Ge.props.context.onNodeMouseLeave;wn(Fe,Re(Ge.props))},Ge.onContextMenu=function(Fe){var wn=Ge.props.context.onNodeContextMenu;wn(Fe,Re(Ge.props))},Ge.onDragStart=function(Fe){var wn=Ge.props.context.onNodeDragStart;Fe.stopPropagation(),Ge.setState({dragNodeHighlight:!0}),wn(Fe,Object(ti.a)(Ge));try{Fe.dataTransfer.setData("text/plain","")}catch(Ln){}},Ge.onDragEnter=function(Fe){var wn=Ge.props.context.onNodeDragEnter;Fe.preventDefault(),Fe.stopPropagation(),wn(Fe,Object(ti.a)(Ge))},Ge.onDragOver=function(Fe){var wn=Ge.props.context.onNodeDragOver;Fe.preventDefault(),Fe.stopPropagation(),wn(Fe,Object(ti.a)(Ge))},Ge.onDragLeave=function(Fe){var wn=Ge.props.context.onNodeDragLeave;Fe.stopPropagation(),wn(Fe,Object(ti.a)(Ge))},Ge.onDragEnd=function(Fe){var wn=Ge.props.context.onNodeDragEnd;Fe.stopPropagation(),Ge.setState({dragNodeHighlight:!1}),wn(Fe,Object(ti.a)(Ge))},Ge.onDrop=function(Fe){var wn=Ge.props.context.onNodeDrop;Fe.preventDefault(),Fe.stopPropagation(),Ge.setState({dragNodeHighlight:!1}),wn(Fe,Object(ti.a)(Ge))},Ge.onExpand=function(Fe){var wn=Ge.props,Ln=wn.loading,Ze=wn.context.onNodeExpand;Ln||Ze(Fe,Re(Ge.props))},Ge.setSelectHandle=function(Fe){Ge.selectHandle=Fe},Ge.getNodeState=function(){var Fe=Ge.props.expanded;return Ge.isLeaf()?null:Fe?ea:Fa},Ge.hasChildren=function(){var Fe=Ge.props.eventKey,wn=Ge.props.context.keyEntities,Ln=wn[Fe]||{},Ze=Ln.children;return!!(Ze||[]).length},Ge.isLeaf=function(){var Fe=Ge.props,wn=Fe.isLeaf,Ln=Fe.loaded,Ze=Ge.props.context.loadData,Vn=Ge.hasChildren();return wn===!1?!1:wn||!Ze&&!Vn||Ze&&Ln&&!Vn},Ge.isDisabled=function(){var Fe=Ge.props.disabled,wn=Ge.props.context.disabled;return!!(wn||Fe)},Ge.isCheckable=function(){var Fe=Ge.props.checkable,wn=Ge.props.context.checkable;return!wn||Fe===!1?!1:wn},Ge.syncLoadData=function(Fe){var wn=Fe.expanded,Ln=Fe.loading,Ze=Fe.loaded,Vn=Ge.props.context,Zn=Vn.loadData,hr=Vn.onNodeLoad;Ln||Zn&&wn&&!Ge.isLeaf()&&!Ge.hasChildren()&&!Ze&&hr(Re(Ge.props))},Ge.renderSwitcher=function(){var Fe=Ge.props,wn=Fe.expanded,Ln=Fe.switcherIcon,Ze=Ge.props.context,Vn=Ze.prefixCls,Zn=Ze.switcherIcon,hr=Ln||Zn;if(Ge.isLeaf())return n.createElement("span",{className:b()("".concat(Vn,"-switcher"),"".concat(Vn,"-switcher-noop"))},typeof hr=="function"?hr(Object(E.a)(Object(E.a)({},Ge.props),{},{isLeaf:!0})):hr);var rr=b()("".concat(Vn,"-switcher"),"".concat(Vn,"-switcher_").concat(wn?ea:Fa));return n.createElement("span",{onClick:Ge.onExpand,className:rr},typeof hr=="function"?hr(Object(E.a)(Object(E.a)({},Ge.props),{},{isLeaf:!1})):hr)},Ge.renderCheckbox=function(){var Fe=Ge.props,wn=Fe.checked,Ln=Fe.halfChecked,Ze=Fe.disableCheckbox,Vn=Ge.props.context.prefixCls,Zn=Ge.isDisabled(),hr=Ge.isCheckable();if(!hr)return null;var rr=typeof hr!="boolean"?hr:null;return n.createElement("span",{className:b()("".concat(Vn,"-checkbox"),wn&&"".concat(Vn,"-checkbox-checked"),!wn&&Ln&&"".concat(Vn,"-checkbox-indeterminate"),(Zn||Ze)&&"".concat(Vn,"-checkbox-disabled")),onClick:Ge.onCheck},rr)},Ge.renderIcon=function(){var Fe=Ge.props.loading,wn=Ge.props.context.prefixCls;return n.createElement("span",{className:b()("".concat(wn,"-iconEle"),"".concat(wn,"-icon__").concat(Ge.getNodeState()||"docu"),Fe&&"".concat(wn,"-icon_loading"))})},Ge.renderSelector=function(){var Fe=Ge.state.dragNodeHighlight,wn=Ge.props,Ln=wn.title,Ze=wn.selected,Vn=wn.icon,Zn=wn.loading,hr=wn.data,rr=Ge.props.context,Ir=rr.prefixCls,yn=rr.showIcon,oe=rr.icon,Oi=rr.draggable,ei=rr.loadData,Zr=rr.titleRender,di=Ge.isDisabled(),ri=typeof Oi=="function"?Oi(hr):Oi,_i="".concat(Ir,"-node-content-wrapper"),na;if(yn){var pa=Vn||oe;na=pa?n.createElement("span",{className:b()("".concat(Ir,"-iconEle"),"".concat(Ir,"-icon__customize"))},typeof pa=="function"?pa(Ge.props):pa):Ge.renderIcon()}else ei&&Zn&&(na=Ge.renderIcon());var Pn;typeof Ln=="function"?Pn=Ln(hr):Zr?Pn=Zr(hr):Pn=Ln;var Ui=n.createElement("span",{className:"".concat(Ir,"-title")},Pn);return n.createElement("span",{ref:Ge.setSelectHandle,title:typeof Ln=="string"?Ln:"",className:b()("".concat(_i),"".concat(_i,"-").concat(Ge.getNodeState()||"normal"),!di&&(Ze||Fe)&&"".concat(Ir,"-node-selected"),!di&&ri&&"draggable"),draggable:!di&&ri||void 0,"aria-grabbed":!di&&ri||void 0,onMouseEnter:Ge.onMouseEnter,onMouseLeave:Ge.onMouseLeave,onContextMenu:Ge.onContextMenu,onClick:Ge.onSelectorClick,onDoubleClick:Ge.onSelectorDoubleClick,onDragStart:ri?Ge.onDragStart:void 0},na,Ui,Ge.renderDropIndicator())},Ge.renderDropIndicator=function(){var Fe=Ge.props,wn=Fe.disabled,Ln=Fe.eventKey,Ze=Ge.props.context,Vn=Ze.draggable,Zn=Ze.dropLevelOffset,hr=Ze.dropPosition,rr=Ze.prefixCls,Ir=Ze.indent,yn=Ze.dropIndicatorRender,oe=Ze.dragOverNodeKey,Oi=Ze.direction,ei=Vn!==!1,Zr=!wn&&ei&&oe===Ln;return Zr?yn({dropPosition:hr,dropLevelOffset:Zn,indent:Ir,prefixCls:rr,direction:Oi}):null},Ge}return Object(Vr.a)(bn,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var Fe=this.props.selectable,wn=this.props.context.selectable;return typeof Fe=="boolean"?Fe:wn}},{key:"render",value:function(){var Fe,wn=this.props,Ln=wn.eventKey,Ze=wn.className,Vn=wn.style,Zn=wn.dragOver,hr=wn.dragOverGapTop,rr=wn.dragOverGapBottom,Ir=wn.isLeaf,yn=wn.isStart,oe=wn.isEnd,Oi=wn.expanded,ei=wn.selected,Zr=wn.checked,di=wn.halfChecked,ri=wn.loading,_i=wn.domRef,na=wn.active,pa=wn.data,Pn=wn.onMouseMove,Ui=Object(k.a)(wn,["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove"]),za=this.props.context,Ci=za.prefixCls,Qi=za.filterTreeNode,Pa=za.draggable,Ri=za.keyEntities,Vi=za.dropContainerKey,Zi=za.dropTargetKey,eo=this.isDisabled(),Nt=Ae(Ui),f=Ri[Ln]||{},c=f.level,R=oe[oe.length-1],Y=typeof Pa=="function"?Pa(pa):Pa;return n.createElement("div",Object(t.a)({ref:_i,className:b()(Ze,"".concat(Ci,"-treenode"),(Fe={},Object(a.a)(Fe,"".concat(Ci,"-treenode-disabled"),eo),Object(a.a)(Fe,"".concat(Ci,"-treenode-switcher-").concat(Oi?"open":"close"),!Ir),Object(a.a)(Fe,"".concat(Ci,"-treenode-checkbox-checked"),Zr),Object(a.a)(Fe,"".concat(Ci,"-treenode-checkbox-indeterminate"),di),Object(a.a)(Fe,"".concat(Ci,"-treenode-selected"),ei),Object(a.a)(Fe,"".concat(Ci,"-treenode-loading"),ri),Object(a.a)(Fe,"".concat(Ci,"-treenode-active"),na),Object(a.a)(Fe,"".concat(Ci,"-treenode-leaf-last"),R),Object(a.a)(Fe,"drop-target",Zi===Ln),Object(a.a)(Fe,"drop-container",Vi===Ln),Object(a.a)(Fe,"drag-over",!eo&&Zn),Object(a.a)(Fe,"drag-over-gap-top",!eo&&hr),Object(a.a)(Fe,"drag-over-gap-bottom",!eo&&rr),Object(a.a)(Fe,"filter-node",Qi&&Qi(Re(this.props))),Fe)),style:Vn,onDragEnter:Y?this.onDragEnter:void 0,onDragOver:Y?this.onDragOver:void 0,onDragLeave:Y?this.onDragLeave:void 0,onDrop:Y?this.onDrop:void 0,onDragEnd:Y?this.onDragEnd:void 0,onMouseMove:Pn},Nt),n.createElement(Sa,{prefixCls:Ci,level:c,isStart:yn,isEnd:oe}),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),bn}(n.Component),va=function(rn){return n.createElement(zi.Consumer,null,function(bn){return n.createElement(Na,Object(t.a)({},rn,{context:bn}))})};va.displayName="TreeNode",va.defaultProps={title:Ua},va.isTreeNode=1;var ge=va;function F(xe,rn){var bn=xe.slice(),Ge=bn.indexOf(rn);return Ge>=0&&bn.splice(Ge,1),bn}function _(xe,rn){var bn=xe.slice();return bn.indexOf(rn)===-1&&bn.push(rn),bn}function $(xe){return xe.split("-")}function dt(xe,rn){return"".concat(xe,"-").concat(rn)}function Gt(xe){return xe&&xe.type&&xe.type.isTreeNode}function Jt(xe,rn){var bn=[],Ge=rn[xe];function Fe(){var wn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];wn.forEach(function(Ln){var Ze=Ln.key,Vn=Ln.children;bn.push(Ze),Fe(Vn)})}return Fe(Ge.children),bn}function ce(xe){if(xe.parent){var rn=$(xe.pos);return Number(rn[rn.length-1])===xe.parent.children.length-1}return!1}function fe(xe){var rn=$(xe.pos);return Number(rn[rn.length-1])===0}function De(xe,rn,bn,Ge,Fe,wn,Ln,Ze,Vn){var Zn,hr=xe.clientX,rr=xe.clientY,Ir=xe.target.getBoundingClientRect(),yn=Ir.top,oe=Ir.height,Oi=(Vn==="rtl"?-1:1)*(((Ge==null?void 0:Ge.x)||0)-hr),ei=(Oi-12)/bn,Zr=Ln[rn.props.eventKey];if(rr<yn+oe/2){var di=wn.findIndex(function(Pa){return Pa.data.key===Zr.key}),ri=di<=0?0:di-1,_i=wn[ri].data.key;Zr=Ln[_i]}for(var na=Zr,pa=Zr.key,Pn=0,Ui=0,za=0;za<ei&&ce(Zr);za+=1)Zr=Zr.parent,Ui+=1;var Ci=Zr.node,Qi=!0;return fe(Zr)&&Zr.level===0&&rr<yn+oe/2&&Fe({dropNode:Ci,dropPosition:-1})&&Zr.key===rn.props.eventKey?Pn=-1:(na.children||[]).length&&Ze.includes(pa)?Fe({dropNode:Ci,dropPosition:0})?Pn=0:Qi=!1:Ui===0?ei>-1.5?Fe({dropNode:Ci,dropPosition:1})?Pn=1:Qi=!1:Fe({dropNode:Ci,dropPosition:0})?Pn=0:Fe({dropNode:Ci,dropPosition:1})?Pn=1:Qi=!1:Fe({dropNode:Ci,dropPosition:1})?Pn=1:Qi=!1,{dropPosition:Pn,dropLevelOffset:Ui,dropTargetKey:Zr.key,dropTargetPos:Zr.pos,dragOverNodeKey:pa,dropContainerKey:Pn===0?null:((Zn=Zr.parent)===null||Zn===void 0?void 0:Zn.key)||null,dropAllowed:Qi}}function We(xe,rn){if(!!xe){var bn=rn.multiple;return bn?xe.slice():xe.length?[xe[0]]:xe}}var sn=function(rn){return rn};function Dn(xe,rn){if(!xe)return[];var bn=rn||{},Ge=bn.processProps,Fe=Ge===void 0?sn:Ge,wn=Array.isArray(xe)?xe:[xe];return wn.map(function(Ln){var Ze=Ln.children,Vn=Object(k.a)(Ln,["children"]),Zn=Dn(Ze,rn);return d.a.createElement(ge,Fe(Vn),Zn)})}function Yt(xe){if(!xe)return null;var rn;if(Array.isArray(xe))rn={checkedKeys:xe,halfCheckedKeys:void 0};else if(Object(lt.a)(xe)==="object")rn={checkedKeys:xe.checked||void 0,halfCheckedKeys:xe.halfChecked||void 0};else return Object(v.a)(!1,"`checkedKeys` is not an array or an object"),null;return rn}function Zt(xe,rn){var bn=new Set;function Ge(Fe){if(!bn.has(Fe)){var wn=rn[Fe];if(!!wn){bn.add(Fe);var Ln=wn.parent,Ze=wn.node;Ze.disabled||Ln&&Ge(Ln.key)}}}return(xe||[]).forEach(function(Fe){Ge(Fe)}),Object(T.a)(bn)}function Ae(xe){var rn={};return Object.keys(xe).forEach(function(bn){(bn.startsWith("data-")||bn.startsWith("aria-"))&&(rn[bn]=xe[bn])}),rn}function Ht(xe,rn){return xe!=null?xe:rn}function he(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],rn=new Map;function bn(Ge){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(Ge||[]).forEach(function(wn){var Ln=wn.key,Ze=wn.children;Object(v.a)(Ln!=null,"Tree node must have a certain key: [".concat(Fe).concat(Ln,"]"));var Vn=String(Ln);Object(v.a)(!rn.has(Vn)||Ln===null||Ln===void 0,"Same 'key' exist in the Tree: ".concat(Vn)),rn.set(Vn,!0),bn(Ze,"".concat(Fe).concat(Vn," > "))})}bn(xe)}function En(xe){function rn(bn){var Ge=Object(le.a)(bn);return Ge.map(function(Fe){if(!Gt(Fe))return Object(v.a)(!Fe,"Tree/TreeNode can only accept TreeNode as children."),null;var wn=Fe.key,Ln=Fe.props,Ze=Ln.children,Vn=Object(k.a)(Ln,["children"]),Zn=Object(E.a)({key:wn},Vn),hr=rn(Ze);return hr.length&&(Zn.children=hr),Zn}).filter(function(Fe){return Fe})}return rn(xe)}function Qn(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],bn=new Set(rn===!0?[]:rn),Ge=[];function Fe(wn){var Ln=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return wn.map(function(Ze,Vn){var Zn=dt(Ln?Ln.pos:"0",Vn),hr=Ht(Ze.key,Zn),rr=Object(E.a)(Object(E.a)({},Ze),{},{parent:Ln,pos:Zn,children:null,data:Ze,isStart:[].concat(Object(T.a)(Ln?Ln.isStart:[]),[Vn===0]),isEnd:[].concat(Object(T.a)(Ln?Ln.isEnd:[]),[Vn===wn.length-1])});return Ge.push(rr),rn===!0||bn.has(hr)?rr.children=Fe(Ze.children||[],rr):rr.children=[],rr})}return Fe(xe),Ge}function fr(xe,rn,bn){var Ge=null,Fe,wn=Object(lt.a)(bn);wn==="function"||wn==="string"?Ge=bn:bn&&wn==="object"&&(Fe=bn.childrenPropName,Ge=bn.externalGetKey),Fe=Fe||"children";var Ln;Ge?typeof Ge=="string"?Ln=function(Zn){return Zn[Ge]}:typeof Ge=="function"&&(Ln=function(Zn){return Ge(Zn)}):Ln=function(Zn,hr){return Ht(Zn.key,hr)};function Ze(Vn,Zn,hr){var rr=Vn?Vn[Fe]:xe,Ir=Vn?dt(hr.pos,Zn):"0";if(Vn){var yn=Ln(Vn,Ir),oe={node:Vn,index:Zn,pos:Ir,key:yn,parentPos:hr.node?hr.pos:null,level:hr.level+1};rn(oe)}rr&&rr.forEach(function(Oi,ei){Ze(Oi,ei,{node:Vn,pos:Ir,level:hr?hr.level+1:-1})})}Ze(null)}function ar(xe){var rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},bn=rn.initWrapper,Ge=rn.processEntity,Fe=rn.onProcessFinished,wn=rn.externalGetKey,Ln=rn.childrenPropName,Ze=arguments.length>2?arguments[2]:void 0,Vn=wn||Ze,Zn={},hr={},rr={posEntities:Zn,keyEntities:hr};return bn&&(rr=bn(rr)||rr),fr(xe,function(Ir){var yn=Ir.node,oe=Ir.index,Oi=Ir.pos,ei=Ir.key,Zr=Ir.parentPos,di=Ir.level,ri={node:yn,index:oe,key:ei,pos:Oi,level:di},_i=Ht(ei,Oi);Zn[Oi]=ri,hr[_i]=ri,ri.parent=Zn[Zr],ri.parent&&(ri.parent.children=ri.parent.children||[],ri.parent.children.push(ri)),Ge&&Ge(ri,rr)},{externalGetKey:Vn,childrenPropName:Ln}),Fe&&Fe(rr),rr}function an(xe,rn){var bn=rn.expandedKeys,Ge=rn.selectedKeys,Fe=rn.loadedKeys,wn=rn.loadingKeys,Ln=rn.checkedKeys,Ze=rn.halfCheckedKeys,Vn=rn.dragOverNodeKey,Zn=rn.dropPosition,hr=rn.keyEntities,rr=hr[xe],Ir={eventKey:xe,expanded:bn.indexOf(xe)!==-1,selected:Ge.indexOf(xe)!==-1,loaded:Fe.indexOf(xe)!==-1,loading:wn.indexOf(xe)!==-1,checked:Ln.indexOf(xe)!==-1,halfChecked:Ze.indexOf(xe)!==-1,pos:String(rr?rr.pos:""),dragOver:Vn===xe&&Zn===0,dragOverGapTop:Vn===xe&&Zn===-1,dragOverGapBottom:Vn===xe&&Zn===1};return Ir}function Re(xe){var rn=xe.data,bn=xe.expanded,Ge=xe.selected,Fe=xe.checked,wn=xe.loaded,Ln=xe.loading,Ze=xe.halfChecked,Vn=xe.dragOver,Zn=xe.dragOverGapTop,hr=xe.dragOverGapBottom,rr=xe.pos,Ir=xe.active,yn=Object(E.a)(Object(E.a)({},rn),{},{expanded:bn,selected:Ge,checked:Fe,loaded:wn,loading:Ln,halfChecked:Ze,dragOver:Vn,dragOverGapTop:Zn,dragOverGapBottom:hr,pos:rr,active:Ir});return"props"in yn||Object.defineProperty(yn,"props",{get:function(){return Object(v.a)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),xe}}),yn}function L(xe,rn){var bn=new Set;return xe.forEach(function(Ge){rn.has(Ge)||bn.add(Ge)}),bn}function bt(xe){var rn=xe||{},bn=rn.disabled,Ge=rn.disableCheckbox,Fe=rn.checkable;return!!(bn||Ge)||Fe===!1}function ie(xe,rn,bn,Ge){for(var Fe=new Set(xe),wn=new Set,Ln=0;Ln<=bn;Ln+=1){var Ze=rn.get(Ln)||new Set;Ze.forEach(function(rr){var Ir=rr.key,yn=rr.node,oe=rr.children,Oi=oe===void 0?[]:oe;Fe.has(Ir)&&!Ge(yn)&&Oi.filter(function(ei){return!Ge(ei.node)}).forEach(function(ei){Fe.add(ei.key)})})}for(var Vn=new Set,Zn=bn;Zn>=0;Zn-=1){var hr=rn.get(Zn)||new Set;hr.forEach(function(rr){var Ir=rr.parent,yn=rr.node;if(!(Ge(yn)||!rr.parent||Vn.has(rr.parent.key))){if(Ge(rr.parent.node)){Vn.add(Ir.key);return}var oe=!0,Oi=!1;(Ir.children||[]).filter(function(ei){return!Ge(ei.node)}).forEach(function(ei){var Zr=ei.key,di=Fe.has(Zr);oe&&!di&&(oe=!1),!Oi&&(di||wn.has(Zr))&&(Oi=!0)}),oe&&Fe.add(Ir.key),Oi&&wn.add(Ir.key),Vn.add(Ir.key)}})}return{checkedKeys:Array.from(Fe),halfCheckedKeys:Array.from(L(wn,Fe))}}function Ee(xe,rn,bn,Ge,Fe){for(var wn=new Set(xe),Ln=new Set(rn),Ze=0;Ze<=Ge;Ze+=1){var Vn=bn.get(Ze)||new Set;Vn.forEach(function(Ir){var yn=Ir.key,oe=Ir.node,Oi=Ir.children,ei=Oi===void 0?[]:Oi;!wn.has(yn)&&!Ln.has(yn)&&!Fe(oe)&&ei.filter(function(Zr){return!Fe(Zr.node)}).forEach(function(Zr){wn.delete(Zr.key)})})}Ln=new Set;for(var Zn=new Set,hr=Ge;hr>=0;hr-=1){var rr=bn.get(hr)||new Set;rr.forEach(function(Ir){var yn=Ir.parent,oe=Ir.node;if(!(Fe(oe)||!Ir.parent||Zn.has(Ir.parent.key))){if(Fe(Ir.parent.node)){Zn.add(yn.key);return}var Oi=!0,ei=!1;(yn.children||[]).filter(function(Zr){return!Fe(Zr.node)}).forEach(function(Zr){var di=Zr.key,ri=wn.has(di);Oi&&!ri&&(Oi=!1),!ei&&(ri||Ln.has(di))&&(ei=!0)}),Oi||wn.delete(yn.key),ei&&Ln.add(yn.key),Zn.add(yn.key)}})}return{checkedKeys:Array.from(wn),halfCheckedKeys:Array.from(L(Ln,wn))}}function te(xe,rn,bn,Ge){var Fe=[],wn;Ge?wn=Ge:wn=bt;var Ln=new Set(xe.filter(function(hr){var rr=!!bn[hr];return rr||Fe.push(hr),rr})),Ze=new Map,Vn=0;Object.keys(bn).forEach(function(hr){var rr=bn[hr],Ir=rr.level,yn=Ze.get(Ir);yn||(yn=new Set,Ze.set(Ir,yn)),yn.add(rr),Vn=Math.max(Vn,Ir)}),Object(v.a)(!Fe.length,"Tree missing follow keys: ".concat(Fe.slice(0,100).map(function(hr){return"'".concat(hr,"'")}).join(", ")));var Zn;return rn===!0?Zn=ie(Ln,Ze,Vn,wn):Zn=Ee(Ln,rn.halfCheckedKeys,Ze,Vn,wn),Zn}var pe=z("6cGi"),ve=z("kaz8"),de=z("jsC+"),Pe=z("BvKs"),ze=z("9yH6"),Je=z("uaoM"),Ve="SELECT_ALL",cn="SELECT_INVERT",Be="SELECT_NONE";function Mn(xe){return xe&&xe.fixed}function On(xe,rn){var bn=[];return(xe||[]).forEach(function(Ge){bn.push(Ge),Ge&&Object(lt.a)(Ge)==="object"&&rn in Ge&&(bn=[].concat(Object(T.a)(bn),Object(T.a)(On(Ge[rn],rn))))}),bn}function pn(xe,rn){var bn=xe||{},Ge=bn.preserveSelectedRowKeys,Fe=bn.selectedRowKeys,wn=bn.getCheckboxProps,Ln=bn.onChange,Ze=bn.onSelect,Vn=bn.onSelectAll,Zn=bn.onSelectInvert,hr=bn.onSelectNone,rr=bn.onSelectMultiple,Ir=bn.columnWidth,yn=bn.type,oe=bn.selections,Oi=bn.fixed,ei=bn.renderCell,Zr=bn.hideSelectAll,di=bn.checkStrictly,ri=di===void 0?!0:di,_i=rn.prefixCls,na=rn.data,pa=rn.pageData,Pn=rn.getRecordByKey,Ui=rn.getRowKey,za=rn.expandType,Ci=rn.childrenColumnName,Qi=rn.locale,Pa=rn.expandIconColumnIndex,Ri=rn.getPopupContainer,Vi=n.useRef(new Map),Zi=Object(pe.a)(Fe||[],{value:Fe}),eo=Object(M.a)(Zi,2),Nt=eo[0],f=eo[1],c=Object(n.useMemo)(function(){return ri?{keyEntities:null}:ar(na,{externalGetKey:Ui,childrenPropName:Ci})},[na,Ui,ri,Ci]),R=c.keyEntities,Y=Object(n.useMemo)(function(){return On(pa,Ci)},[pa,Ci]),ut=Object(n.useMemo)(function(){var ur=new Map;return Y.forEach(function(mr,ii){var Li=Ui(mr,ii),ci=(wn?wn(mr):null)||{};ur.set(Li,ci)}),ur},[Y,Ui,wn]),jt=Object(n.useCallback)(function(ur){var mr;return!!((mr=ut.get(Ui(ur)))===null||mr===void 0?void 0:mr.disabled)},[ut,Ui]),Ut=Object(n.useMemo)(function(){if(ri)return[Nt||[],[]];var ur=te(Nt,!0,R,jt),mr=ur.checkedKeys,ii=ur.halfCheckedKeys;return[mr||[],ii]},[Nt,ri,R,jt]),Et=Object(M.a)(Ut,2),qt=Et[0],se=Et[1],je=Object(n.useMemo)(function(){var ur=yn==="radio"?qt.slice(0,1):qt;return new Set(ur)},[qt,yn]),Ie=Object(n.useMemo)(function(){return yn==="radio"?new Set:new Set(se)},[se,yn]),Ue=Object(n.useState)(null),Ke=Object(M.a)(Ue,2),An=Ke[0],Bn=Ke[1];n.useEffect(function(){xe||f([])},[!!xe]);var Wn=Object(n.useCallback)(function(ur){var mr,ii;if(Ge){var Li=new Map;mr=ur,ii=ur.map(function(ci){var Yi=Pn(ci);return!Yi&&Vi.current.has(ci)&&(Yi=Vi.current.get(ci)),Li.set(ci,Yi),Yi}),Vi.current=Li}else mr=[],ii=[],ur.forEach(function(ci){var Yi=Pn(ci);Yi!==void 0&&(mr.push(ci),ii.push(Yi))});f(mr),Ln&&Ln(mr,ii)},[f,Pn,Ln,Ge]),Yn=Object(n.useCallback)(function(ur,mr,ii,Li){if(Ze){var ci=ii.map(function(Yi){return Pn(Yi)});Ze(Pn(ur),mr,ci,Li)}Wn(ii)},[Ze,Pn,Wn]),Jn=Object(n.useMemo)(function(){if(!oe||Zr)return null;var ur=oe===!0?[Ve,cn,Be]:oe;return ur.map(function(mr){return mr===Ve?{key:"all",text:Qi.selectionAll,onSelect:function(){Wn(na.map(function(Li,ci){return Ui(Li,ci)}))}}:mr===cn?{key:"invert",text:Qi.selectInvert,onSelect:function(){var Li=new Set(je);pa.forEach(function(Yi,qa){var wa=Ui(Yi,qa);Li.has(wa)?Li.delete(wa):Li.add(wa)});var ci=Array.from(Li);Zn&&(Object(Je.a)(!1,"Table","`onSelectInvert` will be removed in future. Please use `onChange` instead."),Zn(ci)),Wn(ci)}}:mr===Be?{key:"none",text:Qi.selectNone,onSelect:function(){hr&&hr(),Wn([])}}:mr})},[oe,je,pa,Ui,Zn,Wn]),Ar=Object(n.useCallback)(function(ur){if(!xe)return ur;var mr=new Set(je),ii=Y.map(Ui).filter(function(jo){return!ut.get(jo).disabled}),Li=ii.every(function(jo){return mr.has(jo)}),ci=ii.some(function(jo){return mr.has(jo)}),Yi=function(){var Lo=[];Li?ii.forEach(function(Bo){mr.delete(Bo),Lo.push(Bo)}):ii.forEach(function(Bo){mr.has(Bo)||(mr.add(Bo),Lo.push(Bo))});var es=Array.from(mr);Vn&&Vn(!Li,es.map(function(Bo){return Pn(Bo)}),Lo.map(function(Bo){return Pn(Bo)})),Wn(es)},qa;if(yn!=="radio"){var wa;if(Jn){var fo=n.createElement(Pe.a,{getPopupContainer:Ri},Jn.map(function(jo,Lo){var es=jo.key,Bo=jo.text,Yo=jo.onSelect;return n.createElement(Pe.a.Item,{key:es||Lo,onClick:function(){Yo&&Yo(ii)}},Bo)}));wa=n.createElement("div",{className:"".concat(_i,"-selection-extra")},n.createElement(de.a,{overlay:fo,getPopupContainer:Ri},n.createElement("span",null,n.createElement(si.a,null))))}var ga=Y.every(function(jo,Lo){var es=Ui(jo,Lo),Bo=ut.get(es)||{};return Bo.disabled});qa=!Zr&&n.createElement("div",{className:"".concat(_i,"-selection")},n.createElement(ve.a,{checked:!ga&&!!Y.length&&Li,indeterminate:!Li&&ci,onChange:Yi,disabled:Y.length===0||ga,skipGroup:!0}),wa)}var Ia;yn==="radio"?Ia=function(Lo,es,Bo){var Yo=Ui(es,Bo),zo=mr.has(Yo);return{node:n.createElement(ze.a,Object(t.a)({},ut.get(Yo),{checked:zo,onClick:function(xa){return xa.stopPropagation()},onChange:function(xa){mr.has(Yo)||Yn(Yo,!0,[Yo],xa.nativeEvent)}})),checked:zo}}:Ia=function(Lo,es,Bo){var Yo,zo=Ui(es,Bo),Ko=mr.has(zo),xa=Ie.has(zo),Cs=ut.get(zo),Ms;return za==="nest"?(Ms=xa,Object(Je.a)(typeof(Cs==null?void 0:Cs.indeterminate)!="boolean","Table","set `indeterminate` using `rowSelection.getCheckboxProps` is not allowed with tree structured dataSource.")):Ms=(Yo=Cs==null?void 0:Cs.indeterminate)!==null&&Yo!==void 0?Yo:xa,{node:n.createElement(ve.a,Object(t.a)({},Cs,{indeterminate:Ms,checked:Ko,skipGroup:!0,onClick:function(xs){return xs.stopPropagation()},onChange:function(xs){var Ns=xs.nativeEvent,is=Ns.shiftKey,cs=-1,$o=-1;if(is&&ri){var Ks=new Set([An,zo]);ii.some(function(vo,go){if(Ks.has(vo))if(cs===-1)cs=go;else return $o=go,!0;return!1})}if($o!==-1&&cs!==$o&&ri){var rs=ii.slice(cs,$o+1),Fo=[];Ko?rs.forEach(function(vo){mr.has(vo)&&(Fo.push(vo),mr.delete(vo))}):rs.forEach(function(vo){mr.has(vo)||(Fo.push(vo),mr.add(vo))});var Ws=Array.from(mr);rr&&rr(!Ko,Ws.map(function(vo){return Pn(vo)}),Fo.map(function(vo){return Pn(vo)})),Wn(Ws)}else{var Ls=qt;if(ri){var Os=Ko?F(Ls,zo):_(Ls,zo);Yn(zo,!Ko,Os,Ns)}else{var Ss=te([].concat(Object(T.a)(Ls),[zo]),!0,R,jt),as=Ss.checkedKeys,iu=Ss.halfCheckedKeys,Vs=as;if(Ko){var As=new Set(as);As.delete(zo),Vs=te(Array.from(As),{checked:!1,halfCheckedKeys:iu},R,jt).checkedKeys}Yn(zo,!Ko,Vs,Ns)}}Bn(zo)}})),checked:Ko}};var ko=function(Lo,es,Bo){var Yo=Ia(Lo,es,Bo),zo=Yo.node,Ko=Yo.checked;return ei?ei(Ko,es,Bo,zo):zo},No=Object(a.a)({width:Ir,className:"".concat(_i,"-selection-column"),title:xe.columnTitle||qa,render:ko},D,{className:"".concat(_i,"-selection-col")});if(za==="row"&&ur.length&&!Pa){var no=Object(yi.a)(ur),Ja=no[0],ho=no.slice(1),Qa=Oi||Mn(ho[0]);return Qa&&(Ja.fixed=Qa),[Ja,Object(t.a)(Object(t.a)({},No),{fixed:Qa})].concat(Object(T.a)(ho))}return[Object(t.a)(Object(t.a)({},No),{fixed:Oi||Mn(ur[0])})].concat(Object(T.a)(ur))},[Ui,Y,xe,qt,je,Ie,Ir,Jn,za,An,ut,rr,Yn,jt]);return[Ar,je]}var Sn={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},Rn=Sn,lr=function(rn,bn){return n.createElement(Mo.a,Object.assign({},rn,{ref:bn,icon:Rn}))};lr.displayName="CaretDownOutlined";var Fn=n.forwardRef(lr),tr={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},me=tr,Se=function(rn,bn){return n.createElement(Mo.a,Object.assign({},rn,{ref:bn,icon:me}))};Se.displayName="CaretUpOutlined";var ke=n.forwardRef(Se),we=z("3S7+");function Ye(xe,rn){return"key"in xe&&xe.key!==void 0&&xe.key!==null?xe.key:xe.dataIndex?Array.isArray(xe.dataIndex)?xe.dataIndex.join("."):xe.dataIndex:rn}function un(xe,rn){return rn?"".concat(rn,"-").concat(xe):"".concat(xe)}function zn(xe,rn){return typeof xe=="function"?xe(rn):xe}var Nn="ascend",or="descend";function Rr(xe){return Object(lt.a)(xe.sorter)==="object"&&typeof xe.sorter.multiple=="number"?xe.sorter.multiple:!1}function xi(xe){return typeof xe=="function"?xe:xe&&Object(lt.a)(xe)==="object"&&xe.compare?xe.compare:!1}function pi(xe,rn){return rn?xe[xe.indexOf(rn)+1]:xe[0]}function Kr(xe,rn,bn){var Ge=[];function Fe(wn,Ln){Ge.push({column:wn,key:Ye(wn,Ln),multiplePriority:Rr(wn),sortOrder:wn.sortOrder})}return(xe||[]).forEach(function(wn,Ln){var Ze=un(Ln,bn);wn.children?("sortOrder"in wn&&Fe(wn,Ze),Ge=[].concat(Object(T.a)(Ge),Object(T.a)(Kr(wn.children,rn,Ze)))):wn.sorter&&("sortOrder"in wn?Fe(wn,Ze):rn&&wn.defaultSortOrder&&Ge.push({column:wn,key:Ye(wn,Ze),multiplePriority:Rr(wn),sortOrder:wn.defaultSortOrder}))}),Ge}function Ii(xe,rn,bn,Ge,Fe,wn,Ln,Ze){return(rn||[]).map(function(Vn,Zn){var hr=un(Zn,Ze),rr=Vn;if(rr.sorter){var Ir=rr.sortDirections||Fe,yn=rr.showSorterTooltip===void 0?Ln:rr.showSorterTooltip,oe=Ye(rr,hr),Oi=bn.find(function(Ci){var Qi=Ci.key;return Qi===oe}),ei=Oi?Oi.sortOrder:null,Zr=pi(Ir,ei),di=Ir.includes(Nn)&&n.createElement(ke,{className:b()("".concat(xe,"-column-sorter-up"),{active:ei===Nn})}),ri=Ir.includes(or)&&n.createElement(Fn,{className:b()("".concat(xe,"-column-sorter-down"),{active:ei===or})}),_i=wn||{},na=_i.cancelSort,pa=_i.triggerAsc,Pn=_i.triggerDesc,Ui=na;Zr===or?Ui=Pn:Zr===Nn&&(Ui=pa);var za=Object(lt.a)(yn)==="object"?yn:{title:Ui};rr=Object(t.a)(Object(t.a)({},rr),{className:b()(rr.className,Object(a.a)({},"".concat(xe,"-column-sort"),ei)),title:function(Qi){var Pa=n.createElement("div",{className:"".concat(xe,"-column-sorters")},n.createElement("span",null,zn(Vn.title,Qi)),n.createElement("span",{className:b()("".concat(xe,"-column-sorter"),Object(a.a)({},"".concat(xe,"-column-sorter-full"),di&&ri))},n.createElement("span",{className:"".concat(xe,"-column-sorter-inner")},di,ri)));return yn?n.createElement(we.a,za,n.createElement("div",{className:"".concat(xe,"-column-sorters-with-tooltip")},Pa)):Pa},onHeaderCell:function(Qi){var Pa=Vn.onHeaderCell&&Vn.onHeaderCell(Qi)||{},Ri=Pa.onClick;return Pa.onClick=function(Vi){Ge({column:Vn,key:oe,sortOrder:Zr,multiplePriority:Rr(Vn)}),Ri&&Ri(Vi)},Pa.className=b()(Pa.className,"".concat(xe,"-column-has-sorters")),Pa}})}return"children"in rr&&(rr=Object(t.a)(Object(t.a)({},rr),{children:Ii(xe,rr.children,bn,Ge,Fe,wn,Ln,hr)})),rr})}function Gi(xe){var rn=xe.column,bn=xe.sortOrder;return{column:rn,order:bn,field:rn.dataIndex,columnKey:rn.key}}function Si(xe){var rn=xe.filter(function(bn){var Ge=bn.sortOrder;return Ge}).map(Gi);return rn.length===0&&xe.length?Object(t.a)(Object(t.a)({},Gi(xe[xe.length-1])),{column:void 0}):rn.length<=1?rn[0]||{}:rn}function aa(xe,rn,bn){var Ge=rn.slice().sort(function(Ln,Ze){return Ze.multiplePriority-Ln.multiplePriority}),Fe=xe.slice(),wn=Ge.filter(function(Ln){var Ze=Ln.column.sorter,Vn=Ln.sortOrder;return xi(Ze)&&Vn});return wn.length?Fe.sort(function(Ln,Ze){for(var Vn=0;Vn<wn.length;Vn+=1){var Zn=wn[Vn],hr=Zn.column.sorter,rr=Zn.sortOrder,Ir=xi(hr);if(Ir&&rr){var yn=Ir(Ln,Ze,rr);if(yn!==0)return rr===Nn?yn:-yn}}return 0}).map(function(Ln){var Ze=Ln[bn];return Ze?Object(t.a)(Object(t.a)({},Ln),Object(a.a)({},bn,aa(Ze,rn,bn))):Ln}):Fe}function Xo(xe){var rn=xe.prefixCls,bn=xe.mergedColumns,Ge=xe.onSorterChange,Fe=xe.sortDirections,wn=xe.tableLocale,Ln=xe.showSorterTooltip,Ze=n.useState(Kr(bn,!0)),Vn=Object(M.a)(Ze,2),Zn=Vn[0],hr=Vn[1],rr=n.useMemo(function(){var ei=!0,Zr=Kr(bn,!1);if(!Zr.length)return Zn;var di=[];function ri(na){ei?di.push(na):di.push(Object(t.a)(Object(t.a)({},na),{sortOrder:null}))}var _i=null;return Zr.forEach(function(na){_i===null?(ri(na),na.sortOrder&&(na.multiplePriority===!1?ei=!1:_i=!0)):(_i&&na.multiplePriority!==!1||(ei=!1),ri(na))}),di},[bn,Zn]),Ir=n.useMemo(function(){var ei=rr.map(function(Zr){var di=Zr.column,ri=Zr.sortOrder;return{column:di,order:ri}});return{sortColumns:ei,sortColumn:ei[0]&&ei[0].column,sortOrder:ei[0]&&ei[0].order}},[rr]);function yn(ei){var Zr;ei.multiplePriority===!1||!rr.length||rr[0].multiplePriority===!1?Zr=[ei]:Zr=[].concat(Object(T.a)(rr.filter(function(di){var ri=di.key;return ri!==ei.key})),[ei]),hr(Zr),Ge(Si(Zr),Zr)}var oe=function(Zr){return Ii(rn,Zr,rr,yn,Fe,wn,Ln)},Oi=function(){return Si(rr)};return[oe,rr,Ir,Oi]}var Wa=z("Y+p1"),Zo=z.n(Wa),tu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},Ho=tu,Ta=function(rn,bn){return n.createElement(Mo.a,Object.assign({},rn,{ref:bn,icon:Ho}))};Ta.displayName="FilterFilled";var Ha=n.forwardRef(Ta),So=z("2/Rp"),ss=z("ECub"),hs=function(rn){return n.createElement("div",{className:rn.className,onClick:function(Ge){return Ge.stopPropagation()}},rn.children)},us=hs,Rs=z("hkKa");function Hi(xe){var rn=n.useRef(xe),bn=Object(Rs.a)();return[function(){return rn.current},function(Ge){rn.current=Ge,bn()}]}var yc=Pe.a.SubMenu,ua=Pe.a.Item;function Cu(xe){return xe.some(function(rn){var bn=rn.children;return bn})}function ja(xe){var rn=xe.filters,bn=xe.prefixCls,Ge=xe.filteredKeys,Fe=xe.filterMultiple,wn=xe.locale;return rn.length===0?n.createElement("div",{style:{margin:"16px 0"}},n.createElement(ss.a,{image:ss.a.PRESENTED_IMAGE_SIMPLE,description:wn.filterEmptyText,imageStyle:{height:24}})):rn.map(function(Ln,Ze){var Vn=String(Ln.value);if(Ln.children)return n.createElement(yc,{key:Vn||Ze,title:Ln.text,popupClassName:"".concat(bn,"-dropdown-submenu")},ja({filters:Ln.children,prefixCls:bn,filteredKeys:Ge,filterMultiple:Fe,locale:wn}));var Zn=Fe?ve.a:ze.a;return n.createElement(ua,{key:Ln.value!==void 0?Vn:Ze},n.createElement(Zn,{checked:Ge.includes(Vn)}),n.createElement("span",null,Ln.text))})}function zu(xe){var rn,bn=xe.prefixCls,Ge=xe.column,Fe=xe.dropdownPrefixCls,wn=xe.columnKey,Ln=xe.filterMultiple,Ze=xe.filterState,Vn=xe.triggerFilter,Zn=xe.locale,hr=xe.children,rr=xe.getPopupContainer,Ir=Ge.filterDropdownVisible,yn=Ge.onFilterDropdownVisibleChange,oe=n.useState(!1),Oi=Object(M.a)(oe,2),ei=Oi[0],Zr=Oi[1],di=!!(Ze&&(((rn=Ze.filteredKeys)===null||rn===void 0?void 0:rn.length)||Ze.forceFiltered)),ri=function(Ke){Zr(Ke),yn&&yn(Ke)},_i=typeof Ir=="boolean"?Ir:ei,na=Ze&&Ze.filteredKeys,pa=Hi(na||[]),Pn=Object(M.a)(pa,2),Ui=Pn[0],za=Pn[1],Ci=function(Ke){var An=Ke.selectedKeys;za(An)};n.useEffect(function(){Ci({selectedKeys:na||[]})},[na]);var Qi=n.useState([]),Pa=Object(M.a)(Qi,2),Ri=Pa[0],Vi=Pa[1],Zi=n.useRef(),eo=function(Ke){Zi.current=window.setTimeout(function(){Vi(Ke)})},Nt=function(){window.clearTimeout(Zi.current)};n.useEffect(function(){return function(){window.clearTimeout(Zi.current)}},[]);var f=function(Ke){var An=Ke&&Ke.length?Ke:null;if(An===null&&(!Ze||!Ze.filteredKeys)||Zo()(An,Ze==null?void 0:Ze.filteredKeys))return null;Vn({column:Ge,key:wn,filteredKeys:An})},c=function(){ri(!1),f(Ui())},R=function(){za([]),ri(!1),f([])},Y=function(){var Ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0};ri(!Ke.closeDropdown),f(Ui())},ut=function(Ke){Ke&&na!==void 0&&za(na||[]),ri(Ke),!Ke&&!Ge.filterDropdown&&c()},jt=b()(Object(a.a)({},"".concat(Fe,"-menu-without-submenu"),!Cu(Ge.filters||[]))),Ut;if(typeof Ge.filterDropdown=="function")Ut=Ge.filterDropdown({prefixCls:"".concat(Fe,"-custom"),setSelectedKeys:function(Ke){return Ci({selectedKeys:Ke})},selectedKeys:Ui(),confirm:Y,clearFilters:R,filters:Ge.filters,visible:_i});else if(Ge.filterDropdown)Ut=Ge.filterDropdown;else{var Et=Ui()||[];Ut=n.createElement(n.Fragment,null,n.createElement(Pe.a,{multiple:Ln,prefixCls:"".concat(Fe,"-menu"),className:jt,onClick:Nt,onSelect:Ci,onDeselect:Ci,selectedKeys:Et,getPopupContainer:rr,openKeys:Ri,onOpenChange:eo},ja({filters:Ge.filters||[],prefixCls:bn,filteredKeys:Ui(),filterMultiple:Ln,locale:Zn})),n.createElement("div",{className:"".concat(bn,"-dropdown-btns")},n.createElement(So.a,{type:"link",size:"small",disabled:Et.length===0,onClick:R},Zn.filterReset),n.createElement(So.a,{type:"primary",size:"small",onClick:c},Zn.filterConfirm)))}var qt=n.createElement(us,{className:"".concat(bn,"-dropdown")},Ut),se;typeof Ge.filterIcon=="function"?se=Ge.filterIcon(di):Ge.filterIcon?se=Ge.filterIcon:se=n.createElement(Ha,null);var je=n.useContext(vn.b),Ie=je.direction;return n.createElement("div",{className:b()("".concat(bn,"-column"))},n.createElement("span",{className:"".concat(bn,"-column-title")},hr),n.createElement("span",{className:b()("".concat(bn,"-trigger-container"),Object(a.a)({},"".concat(bn,"-trigger-container-open"),_i)),onClick:function(Ke){Ke.stopPropagation()}},n.createElement(de.a,{overlay:qt,trigger:["click"],visible:_i,onVisibleChange:ut,getPopupContainer:rr,placement:Ie==="rtl"?"bottomLeft":"bottomRight"},n.createElement("span",{role:"button",tabIndex:-1,className:b()("".concat(bn,"-trigger"),{active:di})},se))))}var fa=zu;function Cr(xe,rn,bn){var Ge=[];return(xe||[]).forEach(function(Fe,wn){var Ln,Ze=un(wn,bn);if("children"in Fe)Ge=[].concat(Object(T.a)(Ge),Object(T.a)(Cr(Fe.children,rn,Ze)));else if(Fe.filters||"filterDropdown"in Fe||"onFilter"in Fe)if("filteredValue"in Fe){var Vn=Fe.filteredValue;"filterDropdown"in Fe||(Vn=(Ln=Vn==null?void 0:Vn.map(String))!==null&&Ln!==void 0?Ln:Vn),Ge.push({column:Fe,key:Ye(Fe,Ze),filteredKeys:Vn,forceFiltered:Fe.filtered})}else Ge.push({column:Fe,key:Ye(Fe,Ze),filteredKeys:rn&&Fe.defaultFilteredValue?Fe.defaultFilteredValue:void 0,forceFiltered:Fe.filtered})}),Ge}function gr(xe,rn,bn,Ge,Fe,wn,Ln,Ze){return bn.map(function(Vn,Zn){var hr=un(Zn,Ze),rr=Vn.filterMultiple,Ir=rr===void 0?!0:rr,yn=Vn;if(yn.filters||yn.filterDropdown){var oe=Ye(yn,hr),Oi=Ge.find(function(ei){var Zr=ei.key;return oe===Zr});yn=Object(t.a)(Object(t.a)({},yn),{title:function(Zr){return n.createElement(fa,{prefixCls:"".concat(xe,"-filter"),dropdownPrefixCls:rn,column:yn,columnKey:oe,filterState:Oi,filterMultiple:Ir,triggerFilter:Fe,locale:Ln,getPopupContainer:wn},zn(Vn.title,Zr))}})}return"children"in yn&&(yn=Object(t.a)(Object(t.a)({},yn),{children:gr(xe,rn,yn.children,Ge,Fe,wn,Ln,hr)})),yn})}function zr(xe){var rn=[];return(xe||[]).forEach(function(bn){var Ge=bn.value,Fe=bn.children;rn.push(Ge),Fe&&(rn=[].concat(Object(T.a)(rn),Object(T.a)(zr(Fe))))}),rn}function qr(xe){var rn={};return xe.forEach(function(bn){var Ge=bn.key,Fe=bn.filteredKeys,wn=bn.column,Ln=wn.filters,Ze=wn.filterDropdown;if(Ze)rn[Ge]=Fe||null;else if(Array.isArray(Fe)){var Vn=zr(Ln);rn[Ge]=Vn.filter(function(Zn){return Fe.includes(String(Zn))})}else rn[Ge]=null}),rn}function Ka(xe,rn){return rn.reduce(function(bn,Ge){var Fe=Ge.column,wn=Fe.onFilter,Ln=Fe.filters,Ze=Ge.filteredKeys;return wn&&Ze&&Ze.length?bn.filter(function(Vn){return Ze.some(function(Zn){var hr=zr(Ln),rr=hr.findIndex(function(yn){return String(yn)===String(Zn)}),Ir=rr!==-1?hr[rr]:Zn;return wn(Ir,Vn)})}):bn},xe)}function so(xe){var rn=xe.prefixCls,bn=xe.dropdownPrefixCls,Ge=xe.mergedColumns,Fe=xe.onFilterChange,wn=xe.getPopupContainer,Ln=xe.locale,Ze=n.useState(Cr(Ge,!0)),Vn=Object(M.a)(Ze,2),Zn=Vn[0],hr=Vn[1],rr=n.useMemo(function(){var Oi=Cr(Ge,!1);return Oi.every(function(ei){var Zr=ei.filteredKeys;return Zr===void 0})?Zn:Oi},[Ge,Zn]),Ir=n.useCallback(function(){return qr(rr)},[rr]),yn=function(ei){var Zr=rr.filter(function(di){var ri=di.key;return ri!==ei.key});Zr.push(ei),hr(Zr),Fe(qr(Zr),Zr)},oe=function(ei){return gr(rn,bn,ei,rr,yn,wn,Ln)};return[oe,rr,Ir]}var xo=so;function co(xe,rn){return xe.map(function(bn){var Ge=Object(t.a)({},bn);return Ge.title=zn(bn.title,rn),"children"in Ge&&(Ge.children=co(Ge.children,rn)),Ge})}function hu(xe){var rn=n.useCallback(function(bn){return co(bn,xe)},[xe]);return[rn]}function Wu(xe){return function(bn){var Ge,Fe=bn.prefixCls,wn=bn.onExpand,Ln=bn.record,Ze=bn.expanded,Vn=bn.expandable,Zn="".concat(Fe,"-row-expand-icon");return n.createElement("button",{type:"button",onClick:function(rr){wn(Ln,rr),rr.stopPropagation()},className:b()(Zn,(Ge={},Object(a.a)(Ge,"".concat(Zn,"-spaced"),!Vn),Object(a.a)(Ge,"".concat(Zn,"-expanded"),Vn&&Ze),Object(a.a)(Ge,"".concat(Zn,"-collapsed"),Vn&&!Ze),Ge)),"aria-label":Ze?xe.collapse:xe.expand})}}var ui=Wu,Jr=z("wgJM");function Gs(xe){return xe!=null&&xe===xe.window}function Mu(xe,rn){if(typeof window=="undefined")return 0;var bn=rn?"scrollTop":"scrollLeft",Ge=0;return Gs(xe)?Ge=xe[rn?"pageYOffset":"pageXOffset"]:xe instanceof Document?Ge=xe.documentElement[bn]:xe&&(Ge=xe[bn]),xe&&!Gs(xe)&&typeof Ge!="number"&&(Ge=(xe.ownerDocument||xe).documentElement[bn]),Ge}function Au(xe,rn,bn,Ge){var Fe=bn-rn;return xe/=Ge/2,xe<1?Fe/2*xe*xe*xe+rn:Fe/2*((xe-=2)*xe*xe+2)+rn}function eu(xe){var rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},bn=rn.getContainer,Ge=bn===void 0?function(){return window}:bn,Fe=rn.callback,wn=rn.duration,Ln=wn===void 0?450:wn,Ze=Ge(),Vn=Mu(Ze,!0),Zn=Date.now(),hr=function rr(){var Ir=Date.now(),yn=Ir-Zn,oe=Au(yn>Ln?Ln:yn,Vn,xe,Ln);Gs(Ze)?Ze.scrollTo(window.pageXOffset,oe):Ze instanceof HTMLDocument||Ze.constructor.name==="HTMLDocument"?Ze.documentElement.scrollTop=oe:Ze.scrollTop=oe,yn<Ln?Object(Jr.a)(rr):typeof Fe=="function"&&Fe()};Object(Jr.a)(hr)}var lo=z("D7Yy"),tc=z("3Nzz");function ds(xe){return null}var Us=ds;function Uo(xe){return null}var bc=Uo,nu=[];function gs(xe){var rn,bn=xe.prefixCls,Ge=xe.className,Fe=xe.style,wn=xe.size,Ln=xe.bordered,Ze=xe.dropdownPrefixCls,Vn=xe.dataSource,Zn=xe.pagination,hr=xe.rowSelection,rr=xe.rowKey,Ir=xe.rowClassName,yn=xe.columns,oe=xe.children,Oi=xe.childrenColumnName,ei=xe.onChange,Zr=xe.getPopupContainer,di=xe.loading,ri=xe.expandIcon,_i=xe.expandable,na=xe.expandedRowRender,pa=xe.expandIconColumnIndex,Pn=xe.indentSize,Ui=xe.scroll,za=xe.sortDirections,Ci=xe.locale,Qi=xe.showSorterTooltip,Pa=Qi===void 0?!0:Qi;Object(Je.a)(!(typeof rr=="function"&&rr.length>1),"Table","`index` parameter of `rowKey` function is deprecated. There is no guarantee that it will work as expected.");var Ri=Object(xn.a)(),Vi=n.useMemo(function(){var vo=new Set(Object.keys(Ri).filter(function(go){return Ri[go]}));return(yn||Me(oe)).filter(function(go){return!go.responsive||go.responsive.some(function(Co){return vo.has(Co)})})},[oe,yn,Ri]),Zi=Object(h.a)(xe,["className","style","columns"]),eo=n.useContext(tc.b),Nt=n.useContext(vn.b),f=Nt.locale,c=f===void 0?lo.default:f,R=Nt.renderEmpty,Y=Nt.direction,ut=wn||eo,jt=Object(t.a)(Object(t.a)({},c.Table),Ci),Ut=Vn||nu,Et=n.useContext(vn.b),qt=Et.getPrefixCls,se=qt("table",bn),je=qt("dropdown",Ze),Ie=Object(t.a)({childrenColumnName:Oi,expandIconColumnIndex:pa},_i),Ue=Ie.childrenColumnName,Ke=Ue===void 0?"children":Ue,An=n.useMemo(function(){return Ut.some(function(vo){var go;return(go=vo)===null||go===void 0?void 0:go[Ke]})?"nest":na||_i&&_i.expandedRowRender?"row":null},[Ut]),Bn={body:n.useRef()},Wn=n.useMemo(function(){return typeof rr=="function"?rr:function(vo){var go;return(go=vo)===null||go===void 0?void 0:go[rr]}},[rr]),Yn=oi(Ut,Ke,Wn),Jn=Object(M.a)(Yn,1),Ar=Jn[0],ur={},mr=function(go,Co){var Bs=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Wo=Object(t.a)(Object(t.a)({},ur),go);Bs&&(ur.resetPagination(),Wo.pagination.current&&(Wo.pagination.current=1),Zn&&Zn.onChange&&Zn.onChange(1,Wo.pagination.pageSize)),Ui&&Ui.scrollToFirstRowOnChange!==!1&&Bn.body.current&&eu(0,{getContainer:function(){return Bn.body.current}}),ei&&ei(Wo.pagination,Wo.filters,Wo.sorter,{currentDataSource:Ka(aa(Ut,Wo.sorterStates,Ke),Wo.filterStates),action:Co})},ii=function(go,Co){mr({sorter:go,sorterStates:Co},"sort",!1)},Li=Xo({prefixCls:se,mergedColumns:Vi,onSorterChange:ii,sortDirections:za||["ascend","descend"],tableLocale:jt,showSorterTooltip:Pa}),ci=Object(M.a)(Li,4),Yi=ci[0],qa=ci[1],wa=ci[2],fo=ci[3],ga=n.useMemo(function(){return aa(Ut,qa,Ke)},[Ut,qa]);ur.sorter=fo(),ur.sorterStates=qa;var Ia=function(go,Co){mr({filters:go,filterStates:Co},"filter",!0)},ko=xo({prefixCls:se,locale:jt,dropdownPrefixCls:je,mergedColumns:Vi,onFilterChange:Ia,getPopupContainer:Zr}),No=Object(M.a)(ko,3),no=No[0],Ja=No[1],ho=No[2],Qa=Ka(ga,Ja);ur.filters=ho(),ur.filterStates=Ja;var jo=n.useMemo(function(){return Object(t.a)({},wa)},[wa]),Lo=hu(jo),es=Object(M.a)(Lo,1),Bo=es[0],Yo=function(go,Co){mr({pagination:Object(t.a)(Object(t.a)({},ur.pagination),{current:go,pageSize:Co})},"paginate")},zo=Hr(Qa.length,Zn,Yo),Ko=Object(M.a)(zo,2),xa=Ko[0],Cs=Ko[1];ur.pagination=Zn===!1?{}:Xr(Zn,xa),ur.resetPagination=Cs;var Ms=n.useMemo(function(){if(Zn===!1||!xa.pageSize)return Qa;var vo=xa.current,go=vo===void 0?1:vo,Co=xa.total,Bs=xa.pageSize,Wo=Bs===void 0?$r:Bs;return Qa.length<Co?Qa.length>Wo?(Object(Je.a)(!1,"Table","`dataSource` length is less than `pagination.total` but large than `pagination.pageSize`. Please make sure your config correct data with async mode."),Qa.slice((go-1)*Wo,go*Wo)):Qa:Qa.slice((go-1)*Wo,go*Wo)},[!!Zn,Qa,xa&&xa.current,xa&&xa.pageSize,xa&&xa.total]),zs=pn(hr,{prefixCls:se,data:Qa,pageData:Ms,getRowKey:Wn,getRecordByKey:Ar,expandType:An,childrenColumnName:Ke,locale:jt,expandIconColumnIndex:Ie.expandIconColumnIndex,getPopupContainer:Zr}),xs=Object(M.a)(zs,2),Ns=xs[0],is=xs[1],cs=function(go,Co,Bs){var Wo;return typeof Ir=="function"?Wo=b()(Ir(go,Co,Bs)):Wo=b()(Ir),b()(Object(a.a)({},"".concat(se,"-row-selected"),is.has(Wn(go,Co))),Wo)};Ie.__PARENT_RENDER_ICON__=Ie.expandIcon,Ie.expandIcon=Ie.expandIcon||ri||ui(jt),An==="nest"&&Ie.expandIconColumnIndex===void 0?Ie.expandIconColumnIndex=hr?1:0:Ie.expandIconColumnIndex>0&&hr&&(Ie.expandIconColumnIndex-=1),typeof Ie.indentSize!="number"&&(Ie.indentSize=typeof Pn=="number"?Pn:15);var $o=n.useCallback(function(vo){return Bo(Ns(no(Yi(vo))))},[Yi,no,Ns]),Ks,rs;if(Zn!==!1&&(xa==null?void 0:xa.total)){var Fo;xa.size?Fo=xa.size:Fo=ut==="small"||ut==="middle"?"small":void 0;var Ws=function(go){return n.createElement(kr,Object(t.a)({className:"".concat(se,"-pagination ").concat(se,"-pagination-").concat(go)},xa,{size:Fo}))},Ls=Y==="rtl"?"left":"right",Os=xa.position;if(Os!==null&&Array.isArray(Os)){var Ss=Os.find(function(vo){return vo.indexOf("top")!==-1}),as=Os.find(function(vo){return vo.indexOf("bottom")!==-1}),iu=Os.every(function(vo){return"".concat(vo)==="none"});!Ss&&!as&&!iu&&(rs=Ws(Ls)),Ss&&(Ks=Ws(Ss.toLowerCase().replace("top",""))),as&&(rs=Ws(as.toLowerCase().replace("bottom","")))}else rs=Ws(Ls)}var Vs;typeof di=="boolean"?Vs={spinning:di}:Object(lt.a)(di)==="object"&&(Vs=Object(t.a)({spinning:!0},di));var As=b()("".concat(se,"-wrapper"),Object(a.a)({},"".concat(se,"-wrapper-rtl"),Y==="rtl"),Ge);return n.createElement("div",{className:As,style:Fe},n.createElement(to.a,Object(t.a)({spinning:!1},Vs),Ks,n.createElement(Ma,Object(t.a)({},Zi,{columns:Vi,direction:Y,expandable:Ie,prefixCls:se,className:b()((rn={},Object(a.a)(rn,"".concat(se,"-middle"),ut==="middle"),Object(a.a)(rn,"".concat(se,"-small"),ut==="small"),Object(a.a)(rn,"".concat(se,"-bordered"),Ln),Object(a.a)(rn,"".concat(se,"-empty"),Ut.length===0),rn)),data:Ms,rowKey:Wn,rowClassName:cs,emptyText:Ci&&Ci.emptyText||R("Table"),internalHooks:Ba,internalRefs:Bn,transformColumns:$o})),rs))}gs.defaultProps={rowKey:"key"},gs.SELECTION_ALL=Ve,gs.SELECTION_INVERT=cn,gs.SELECTION_NONE=Be,gs.Column=Us,gs.ColumnGroup=bc,gs.Summary=Mr;var ks=gs,ru=Vt.a=ks},wClo:function(wr,Vt,z){"use strict";var lt=z("mrSG"),a=z("aFU3"),M=z("IvmH"),t=z("c0lT"),n=z("APlK"),d=z("c+wO"),S=z("aN7R"),b=z("5z4m"),h=z("iTfj"),E=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,T=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,o=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function s(It){var St=It.match(o);if(!St)return"";var H="";return St.sort(function(ot,yt){return ot=ot.split(":"),yt=yt.split(":"),Number(ot[0])-Number(yt[0])}),Object(h.each)(St,function(ot){ot=ot.split(":"),H+='<stop offset="'+ot[0]+'" stop-color="'+ot[1]+'"></stop>'}),H}function u(It,St){var H=E.exec(It),ot=Object(h.mod)(Object(h.toRadian)(parseFloat(H[1])),Math.PI*2),yt=H[2],xt,wt;ot>=0&&ot<.5*Math.PI?(xt={x:0,y:0},wt={x:1,y:1}):.5*Math.PI<=ot&&ot<Math.PI?(xt={x:1,y:0},wt={x:0,y:1}):Math.PI<=ot&&ot<1.5*Math.PI?(xt={x:1,y:1},wt={x:0,y:0}):(xt={x:0,y:1},wt={x:1,y:0});var Q=Math.tan(ot),ct=Q*Q,it=(wt.x-xt.x+Q*(wt.y-xt.y))/(ct+1)+xt.x,U=Q*(wt.x-xt.x+Q*(wt.y-xt.y))/(ct+1)+xt.y;St.setAttribute("x1",xt.x),St.setAttribute("y1",xt.y),St.setAttribute("x2",it),St.setAttribute("y2",U),St.innerHTML=s(yt)}function v(It,St){var H=T.exec(It),ot=parseFloat(H[1]),yt=parseFloat(H[2]),xt=parseFloat(H[3]),wt=H[4];St.setAttribute("cx",ot),St.setAttribute("cy",yt),St.setAttribute("r",xt),St.innerHTML=s(wt)}var C=function(){function It(St){this.cfg={};var H=null,ot=Object(h.uniqueId)("gradient_");return St.toLowerCase()[0]==="l"?(H=Object(d.b)("linearGradient"),u(St,H)):(H=Object(d.b)("radialGradient"),v(St,H)),H.setAttribute("id",ot),this.el=H,this.id=ot,this.cfg=St,this}return It.prototype.match=function(St,H){return this.cfg===H},It}(),O=C,j={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},p={x:"-40%",y:"-40%",width:"200%",height:"200%"},x=function(){function It(St){this.type="filter",this.cfg={},this.type="filter";var H=Object(d.b)("filter");return Object(h.each)(p,function(ot,yt){H.setAttribute(yt,ot)}),this.el=H,this.id=Object(h.uniqueId)("filter_"),this.el.id=this.id,this.cfg=St,this._parseShadow(St,H),this}return It.prototype.match=function(St,H){if(this.type!==St)return!1;var ot=!0,yt=this.cfg;return Object(h.each)(Object.keys(yt),function(xt){if(yt[xt]!==H[xt])return ot=!1,!1}),ot},It.prototype.update=function(St,H){var ot=this.cfg;return ot[j[St]]=H,this._parseShadow(ot,this.el),this},It.prototype._parseShadow=function(St,H){var ot=`<feDropShadow
      dx="`+(St.dx||0)+`"
      dy="`+(St.dy||0)+`"
      stdDeviation="`+(St.blur?St.blur/10:0)+`"
      flood-color="`+(St.color?St.color:"#000")+`"
      flood-opacity="`+(St.opacity?St.opacity:1)+`"
      />`;H.innerHTML=ot},It}(),A=x,k=function(){function It(St,H){this.cfg={};var ot=Object(d.b)("marker"),yt=Object(h.uniqueId)("marker_");ot.setAttribute("id",yt);var xt=Object(d.b)("path");xt.setAttribute("stroke",St.stroke||"none"),xt.setAttribute("fill",St.fill||"none"),ot.appendChild(xt),ot.setAttribute("overflow","visible"),ot.setAttribute("orient","auto-start-reverse"),this.el=ot,this.child=xt,this.id=yt;var wt=St[H==="marker-start"?"startArrow":"endArrow"];return this.stroke=St.stroke||"#000",wt===!0?this._setDefaultPath(H,xt):(this.cfg=wt,this._setMarker(St.lineWidth,xt)),this}return It.prototype.match=function(){return!1},It.prototype._setDefaultPath=function(St,H){var ot=this.el;H.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),ot.setAttribute("refX",""+10*Math.cos(Math.PI/6)),ot.setAttribute("refY",""+5)},It.prototype._setMarker=function(St,H){var ot=this.el,yt=this.cfg.path,xt=this.cfg.d;Object(h.isArray)(yt)&&(yt=yt.map(function(wt){return wt.join(" ")}).join("")),H.setAttribute("d",yt),ot.appendChild(H),xt&&ot.setAttribute("refX",""+xt/St)},It.prototype.update=function(St){var H=this.child;H.attr?H.attr("fill",St):H.setAttribute("fill",St)},It}(),X=k,et=function(){function It(St){this.type="clip",this.cfg={};var H=Object(d.b)("clipPath");this.el=H,this.id=Object(h.uniqueId)("clip_"),H.id=this.id;var ot=St.cfg.el;return H.appendChild(ot),this.cfg=St,this}return It.prototype.match=function(){return!1},It.prototype.remove=function(){var St=this.el;St.parentNode.removeChild(St)},It}(),tt=et,ft=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,st=function(){function It(St){this.cfg={};var H=Object(d.b)("pattern");H.setAttribute("patternUnits","userSpaceOnUse");var ot=Object(d.b)("image");H.appendChild(ot);var yt=Object(h.uniqueId)("pattern_");H.id=yt,this.el=H,this.id=yt,this.cfg=St;var xt=ft.exec(St),wt=xt[2];ot.setAttribute("href",wt);var Q=new Image;wt.match(/^data:/i)||(Q.crossOrigin="Anonymous"),Q.src=wt;function ct(){H.setAttribute("width",""+Q.width),H.setAttribute("height",""+Q.height)}return Q.complete?ct():(Q.onload=ct,Q.src=Q.src),this}return It.prototype.match=function(St,H){return this.cfg===H},It}(),vt=st,mt=function(){function It(St){var H=Object(d.b)("defs"),ot=Object(h.uniqueId)("defs_");H.id=ot,St.appendChild(H),this.children=[],this.defaultArrow={},this.el=H,this.canvas=St}return It.prototype.find=function(St,H){for(var ot=this.children,yt=null,xt=0;xt<ot.length;xt++)if(ot[xt].match(St,H)){yt=ot[xt].id;break}return yt},It.prototype.findById=function(St){for(var H=this.children,ot=null,yt=0;yt<H.length;yt++)if(H[yt].id===St){ot=H[yt];break}return ot},It.prototype.add=function(St){this.children.push(St),St.canvas=this.canvas,St.parent=this},It.prototype.getDefaultArrow=function(St,H){var ot=St.stroke||St.strokeStyle;if(this.defaultArrow[ot])return this.defaultArrow[ot].id;var yt=new X(St,H);return this.defaultArrow[ot]=yt,this.el.appendChild(yt.el),this.add(yt),yt.id},It.prototype.addGradient=function(St){var H=new O(St);return this.el.appendChild(H.el),this.add(H),H.id},It.prototype.addArrow=function(St,H){var ot=new X(St,H);return this.el.appendChild(ot.el),this.add(ot),ot.id},It.prototype.addShadow=function(St){var H=new A(St);return this.el.appendChild(H.el),this.add(H),H.id},It.prototype.addPattern=function(St){var H=new vt(St);return this.el.appendChild(H.el),this.add(H),H.id},It.prototype.addClip=function(St){var H=new tt(St);return this.el.appendChild(H.el),this.add(H),H.id},It}(),pt=mt,rt=function(It){Object(lt.b)(St,It);function St(H){return It.call(this,Object(lt.a)(Object(lt.a)({},H),{autoDraw:!0,renderer:"svg"}))||this}return St.prototype.getShapeBase=function(){return S},St.prototype.getGroupBase=function(){return b.a},St.prototype.getShape=function(H,ot,yt){var xt=yt.target||yt.srcElement;if(!M.a[xt.tagName]){for(var wt=xt.parentNode;wt&&!M.a[wt.tagName];)wt=wt.parentNode;xt=wt}return this.find(function(Q){return Q.get("el")===xt})},St.prototype.createDom=function(){var H=Object(d.b)("svg"),ot=new pt(H);return H.setAttribute("width",""+this.get("width")),H.setAttribute("height",""+this.get("height")),this.set("context",ot),H},St.prototype.onCanvasChange=function(H){var ot=this.get("context"),yt=this.get("el");if(H==="sort"){var xt=this.get("children");xt&&xt.length&&Object(d.d)(this,function(Q,ct){return xt.indexOf(Q)-xt.indexOf(ct)?1:0})}else if(H==="clear"){if(yt){yt.innerHTML="";var wt=ot.el;wt.innerHTML="",yt.appendChild(wt)}}else H==="matrix"?Object(n.c)(this):H==="clip"?Object(n.a)(this,ot):H==="changeSize"&&(yt.setAttribute("width",""+this.get("width")),yt.setAttribute("height",""+this.get("height")))},St.prototype.draw=function(){var H=this.get("context"),ot=this.getChildren();Object(n.a)(this,H),ot.length&&Object(t.a)(H,ot)},St}(a.AbstractCanvas),Bt=Vt.a=rt},wq2r:function(wr,Vt,z){"use strict";var lt=z("mrSG"),a=z("aFU3"),M=z("R5nb"),t=z("9eUa"),n=z("iTfj"),d=z("cyZq"),S=function(b){Object(lt.b)(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h.prototype.onCanvasChange=function(E){Object(t.h)(this,E)},h.prototype.getShapeBase=function(){return M},h.prototype.getGroupBase=function(){return h},h.prototype._applyClip=function(E,T){T&&(E.save(),Object(t.a)(E,T),T.createPath(E),E.restore(),E.clip(),T._afterDraw())},h.prototype.cacheCanvasBBox=function(){var E=this.cfg.children,T=[],o=[];Object(n.each)(E,function(x){var A=x.cfg.cacheCanvasBBox;A&&x.cfg.isInView&&(T.push(A.minX,A.maxX),o.push(A.minY,A.maxY))});var s=null;if(T.length){var u=Math.min.apply(null,T),v=Math.max.apply(null,T),C=Math.min.apply(null,o),O=Math.max.apply(null,o);s={minX:u,minY:C,x:u,y:C,maxX:v,maxY:O,width:v-u,height:O-C};var j=this.cfg.canvas;if(j){var p=j.getViewRange();this.set("isInView",Object(d.f)(s,p))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",s)},h.prototype.draw=function(E,T){var o=this.cfg.children,s=T?this.cfg.refresh:!0;o.length&&s&&(E.save(),Object(t.a)(E,this),this._applyClip(E,this.getClip()),Object(t.d)(E,o,T),E.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},h.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},h}(a.AbstractGroup);Vt.a=S},x3EW:function(wr,Vt,z){"use strict";z.r(Vt),z.d(Vt,"Base",function(){return d}),z.d(Vt,"Circle",function(){return h}),z.d(Vt,"Line",function(){return T});var lt=z("mrSG"),a=z("iTfj"),M=z("MeYt"),t=z("L16w"),n=function(o){Object(lt.b)(s,o);function s(){return o!==null&&o.apply(this,arguments)||this}return s.prototype.getDefaultCfg=function(){var u=o.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},u),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:t.a.lineColor}}}})},s.prototype.getLineType=function(){var u=this.get("line")||this.get("defaultCfg").line;return u.type},s.prototype.renderInner=function(u){this.drawGrid(u)},s.prototype.getAlternatePath=function(u,v){var C=this.getGridPath(u),O=v.slice(0).reverse(),j=this.getGridPath(O,!0),p=this.get("closed");return p?C=C.concat(j):(j[0][0]="L",C=C.concat(j),C.push(["Z"])),C},s.prototype.getPathStyle=function(){return this.get("line").style},s.prototype.drawGrid=function(u){var v=this,C=this.get("line"),O=this.get("items"),j=this.get("alternateColor"),p=null;Object(a.each)(O,function(x,A){var k=x.id||A;if(C){var X=v.getPathStyle();X=Object(a.isFunction)(X)?X(x,A,O):X;var et=v.getElementId("line-"+k),tt=v.getGridPath(x.points);v.addShape(u,{type:"path",name:"grid-line",id:et,attrs:Object(a.mix)({path:tt},X)})}if(j&&A>0){var ft=v.getElementId("region-"+k),st=A%2==0;if(Object(a.isString)(j))st&&v.drawAlternateRegion(ft,u,p.points,x.points,j);else{var vt=st?j[1]:j[0];v.drawAlternateRegion(ft,u,p.points,x.points,vt)}}p=x})},s.prototype.drawAlternateRegion=function(u,v,C,O,j){var p=this.getAlternatePath(C,O);this.addShape(v,{type:"path",id:u,name:"grid-region",attrs:{path:p,fill:j}})},s}(M.a),d=n;function S(o,s,u,v){var C=u-o,O=v-s;return Math.sqrt(C*C+O*O)}var b=function(o){Object(lt.b)(s,o);function s(){return o!==null&&o.apply(this,arguments)||this}return s.prototype.getDefaultCfg=function(){var u=o.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},u),{type:"circle",center:null,closed:!0})},s.prototype.getGridPath=function(u,v){var C=this.getLineType(),O=this.get("closed"),j=[];if(u.length)if(C==="circle"){var p=this.get("center"),x=u[0],A=S(p.x,p.y,x.x,x.y),k=v?0:1;O?(j.push(["M",p.x,p.y-A]),j.push(["A",A,A,0,0,k,p.x,p.y+A]),j.push(["A",A,A,0,0,k,p.x,p.y-A]),j.push(["Z"])):Object(a.each)(u,function(X,et){et===0?j.push(["M",X.x,X.y]):j.push(["A",A,A,0,0,k,X.x,X.y])})}else Object(a.each)(u,function(X,et){et===0?j.push(["M",X.x,X.y]):j.push(["L",X.x,X.y])}),O&&j.push(["Z"]);return j},s}(d),h=b,E=function(o){Object(lt.b)(s,o);function s(){return o!==null&&o.apply(this,arguments)||this}return s.prototype.getDefaultCfg=function(){var u=o.prototype.getDefaultCfg.call(this);return Object(lt.a)(Object(lt.a)({},u),{type:"line"})},s.prototype.getGridPath=function(u){var v=[];return Object(a.each)(u,function(C,O){O===0?v.push(["M",C.x,C.y]):v.push(["L",C.x,C.y])}),v},s}(d),T=E},y753:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return C});var lt=z("mrSG"),a=z("zJSt"),M=z("YuPD"),t=z("w02o"),n=z("tKoa");function d(O){var j=O.chart,p=O.options,x=p.data,A=p.lineStyle,k=p.color,X=p.point,et=p.area;j.data(x);var tt=Object(M.b)({},O,{options:{line:{style:A,color:k},point:X&&Object(lt.a)({color:k},X),area:et&&Object(lt.a)({color:k},et),label:void 0}}),ft=Object(M.b)({},tt,{options:{tooltip:!1}});return Object(n.d)(tt),Object(n.e)(ft),Object(n.a)(ft),O}function S(O){var j,p=O.options,x=p.xAxis,A=p.yAxis,k=p.xField,X=p.yField;return Object(M.e)(Object(t.f)((j={},j[k]=x,j[X]=A,j)))(O)}function b(O){var j=O.chart,p=O.options,x=p.radius;return j.coordinate("polar",{radius:x}),O}function h(O){var j=O.chart,p=O.options,x=p.xField,A=p.xAxis,k=p.yField,X=p.yAxis;return j.axis(x,A),j.axis(k,X),O}function E(O){var j=O.chart,p=O.options,x=p.label,A=p.yField,k=Object(M.c)(j,"line");if(!x)k.label(!1);else{var X=x.callback,et=Object(lt.c)(x,["callback"]);k.label({fields:[A],callback:X,cfg:Object(M.p)(et)})}return O}function T(O){return Object(M.e)(d,S,t.j,b,h,t.d,t.k,E,t.c,t.a,Object(t.b)())(O)}var o=z("kXyF"),s=z("iTfj"),u=function(O){Object(lt.b)(j,O);function j(){return O!==null&&O.apply(this,arguments)||this}return Object.defineProperty(j.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),j.prototype.getTooltipItems=function(p){var x=this.getTooltipCfg(),A=x.shared,k=x.title,X=O.prototype.getTooltipItems.call(this,p);if(X.length>0){var et=this.view.geometries[0],tt=et.dataArray,ft=X[0].name,st=[];return tt.forEach(function(vt){vt.forEach(function(mt){var pt=o.Util.getTooltipItems(mt,et),rt=pt[0];if(!A&&rt&&rt.name===ft){var Bt=Object(s.isNil)(k)?ft:k;st.push(Object(lt.a)(Object(lt.a)({},rt),{name:rt.title,title:Bt}))}else if(A&&rt){var Bt=Object(s.isNil)(k)?rt.name||ft:k;st.push(Object(lt.a)(Object(lt.a)({},rt),{name:rt.title,title:Bt}))}})}),st}return[]},j}(o.TooltipController);Object(o.registerComponentController)("radar-tooltip",u);var v=function(O){Object(lt.b)(j,O);function j(){return O!==null&&O.apply(this,arguments)||this}return j.prototype.init=function(){var p=this.context.view;p.removeInteraction("tooltip")},j.prototype.show=function(){var p=this.context.event,x=this.getTooltipController();x.showTooltip({x:p.x,y:p.y})},j.prototype.hide=function(){var p=this.getTooltipController();p.hideTooltip()},j.prototype.getTooltipController=function(){var p=this.context.view;return p.getController("radar-tooltip")},j}(o.Action);Object(o.registerAction)("radar-tooltip",v),Object(o.registerInteraction)("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});var C=function(O){Object(lt.b)(j,O);function j(){var p=O!==null&&O.apply(this,arguments)||this;return p.type="radar",p}return j.prototype.changeData=function(p){this.updateOption({data:p}),this.chart.changeData(p)},j.prototype.getDefaultOptions=function(){return Object(M.b)({},O.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},j.prototype.getSchemaAdaptor=function(){return T},j}(a.a)},yU0y:function(wr,Vt,z){"use strict";z.d(Vt,"b",function(){return lt}),z.d(Vt,"a",function(){return a}),z.d(Vt,"c",function(){return M});var lt=1e-6,a=typeof Float32Array!="undefined"?Float32Array:Array,M=Math.random;function t(b){a=b}var n=Math.PI/180;function d(b){return b*n}function S(b,h){return Math.abs(b-h)<=lt*Math.max(1,Math.abs(b),Math.abs(h))}Math.hypot||(Math.hypot=function(){for(var b=0,h=arguments.length;h--;)b+=arguments[h]*arguments[h];return Math.sqrt(b)})},yUfG:function(wr,Vt,z){"use strict";z.r(Vt),z.d(Vt,"cluster",function(){return b}),z.d(Vt,"hierarchy",function(){return h.c}),z.d(Vt,"pack",function(){return pt}),z.d(Vt,"packSiblings",function(){return ft}),z.d(Vt,"packEnclose",function(){return o}),z.d(Vt,"partition",function(){return St.a}),z.d(Vt,"stratify",function(){return wt}),z.d(Vt,"tree",function(){return y}),z.d(Vt,"treemap",function(){return V.a}),z.d(Vt,"treemapBinary",function(){return J}),z.d(Vt,"treemapDice",function(){return ht.a}),z.d(Vt,"treemapSlice",function(){return gt.a}),z.d(Vt,"treemapSliceDice",function(){return Mt}),z.d(Vt,"treemapSquarify",function(){return Lt.a}),z.d(Vt,"treemapResquarify",function(){return At});function lt(Ct,Ot){return Ct.parent===Ot.parent?1:2}function a(Ct){return Ct.reduce(M,0)/Ct.length}function M(Ct,Ot){return Ct+Ot.x}function t(Ct){return 1+Ct.reduce(n,0)}function n(Ct,Ot){return Math.max(Ct,Ot.y)}function d(Ct){for(var Ot;Ot=Ct.children;)Ct=Ot[0];return Ct}function S(Ct){for(var Ot;Ot=Ct.children;)Ct=Ot[Ot.length-1];return Ct}var b=function(){var Ct=lt,Ot=1,Dt=1,Ft=!1;function Xt(Rt){var Kt,$t=0;Rt.eachAfter(function(Cn){var He=Cn.children;He?(Cn.x=a(He),Cn.y=t(He)):(Cn.x=Kt?$t+=Ct(Cn,Kt):0,Cn.y=0,Kt=Cn)});var le=d(Rt),Me=S(Rt),on=le.x-Ct(le,Me)/2,hn=Me.x+Ct(Me,le)/2;return Rt.eachAfter(Ft?function(Cn){Cn.x=(Cn.x-Rt.x)*Ot,Cn.y=(Rt.y-Cn.y)*Dt}:function(Cn){Cn.x=(Cn.x-on)/(hn-on)*Ot,Cn.y=(1-(Rt.y?Cn.y/Rt.y:1))*Dt})}return Xt.separation=function(Rt){return arguments.length?(Ct=Rt,Xt):Ct},Xt.size=function(Rt){return arguments.length?(Ft=!1,Ot=+Rt[0],Dt=+Rt[1],Xt):Ft?null:[Ot,Dt]},Xt.nodeSize=function(Rt){return arguments.length?(Ft=!0,Ot=+Rt[0],Dt=+Rt[1],Xt):Ft?[Ot,Dt]:null},Xt},h=z("a8tM"),E=function(Ct){return typeof Ct=="object"&&"length"in Ct?Ct:Array.from(Ct)};function T(Ct){for(var Ot=Ct.length,Dt,Ft;Ot;)Ft=Math.random()*Ot--|0,Dt=Ct[Ot],Ct[Ot]=Ct[Ft],Ct[Ft]=Dt;return Ct}var o=function(Ct){for(var Ot=0,Dt=(Ct=T(Array.from(Ct))).length,Ft=[],Xt,Rt;Ot<Dt;)Xt=Ct[Ot],Rt&&v(Rt,Xt)?++Ot:(Rt=O(Ft=s(Ft,Xt)),Ot=0);return Rt};function s(Ct,Ot){var Dt,Ft;if(C(Ot,Ct))return[Ot];for(Dt=0;Dt<Ct.length;++Dt)if(u(Ot,Ct[Dt])&&C(p(Ct[Dt],Ot),Ct))return[Ct[Dt],Ot];for(Dt=0;Dt<Ct.length-1;++Dt)for(Ft=Dt+1;Ft<Ct.length;++Ft)if(u(p(Ct[Dt],Ct[Ft]),Ot)&&u(p(Ct[Dt],Ot),Ct[Ft])&&u(p(Ct[Ft],Ot),Ct[Dt])&&C(x(Ct[Dt],Ct[Ft],Ot),Ct))return[Ct[Dt],Ct[Ft],Ot];throw new Error}function u(Ct,Ot){var Dt=Ct.r-Ot.r,Ft=Ot.x-Ct.x,Xt=Ot.y-Ct.y;return Dt<0||Dt*Dt<Ft*Ft+Xt*Xt}function v(Ct,Ot){var Dt=Ct.r-Ot.r+Math.max(Ct.r,Ot.r,1)*1e-9,Ft=Ot.x-Ct.x,Xt=Ot.y-Ct.y;return Dt>0&&Dt*Dt>Ft*Ft+Xt*Xt}function C(Ct,Ot){for(var Dt=0;Dt<Ot.length;++Dt)if(!v(Ct,Ot[Dt]))return!1;return!0}function O(Ct){switch(Ct.length){case 1:return j(Ct[0]);case 2:return p(Ct[0],Ct[1]);case 3:return x(Ct[0],Ct[1],Ct[2])}}function j(Ct){return{x:Ct.x,y:Ct.y,r:Ct.r}}function p(Ct,Ot){var Dt=Ct.x,Ft=Ct.y,Xt=Ct.r,Rt=Ot.x,Kt=Ot.y,$t=Ot.r,le=Rt-Dt,Me=Kt-Ft,on=$t-Xt,hn=Math.sqrt(le*le+Me*Me);return{x:(Dt+Rt+le/hn*on)/2,y:(Ft+Kt+Me/hn*on)/2,r:(hn+Xt+$t)/2}}function x(Ct,Ot,Dt){var Ft=Ct.x,Xt=Ct.y,Rt=Ct.r,Kt=Ot.x,$t=Ot.y,le=Ot.r,Me=Dt.x,on=Dt.y,hn=Dt.r,Cn=Ft-Kt,He=Ft-Me,mn=Xt-$t,dn=Xt-on,Un=le-Rt,Xn=hn-Rt,Hn=Ft*Ft+Xt*Xt-Rt*Rt,_n=Hn-Kt*Kt-$t*$t+le*le,$n=Hn-Me*Me-on*on+hn*hn,ir=He*mn-Cn*dn,dr=(mn*$n-dn*_n)/(ir*2)-Ft,xr=(dn*Un-mn*Xn)/ir,Qr=(He*_n-Cn*$n)/(ir*2)-Xt,Mr=(Cn*Xn-He*Un)/ir,Er=xr*xr+Mr*Mr-1,Dr=2*(Rt+dr*xr+Qr*Mr),hi=dr*dr+Qr*Qr-Rt*Rt,Wi=-(Er?(Dr+Math.sqrt(Dr*Dr-4*Er*hi))/(2*Er):hi/Dr);return{x:Ft+dr+xr*Wi,y:Xt+Qr+Mr*Wi,r:Wi}}function A(Ct,Ot,Dt){var Ft=Ct.x-Ot.x,Xt,Rt,Kt=Ct.y-Ot.y,$t,le,Me=Ft*Ft+Kt*Kt;Me?(Rt=Ot.r+Dt.r,Rt*=Rt,le=Ct.r+Dt.r,le*=le,Rt>le?(Xt=(Me+le-Rt)/(2*Me),$t=Math.sqrt(Math.max(0,le/Me-Xt*Xt)),Dt.x=Ct.x-Xt*Ft-$t*Kt,Dt.y=Ct.y-Xt*Kt+$t*Ft):(Xt=(Me+Rt-le)/(2*Me),$t=Math.sqrt(Math.max(0,Rt/Me-Xt*Xt)),Dt.x=Ot.x+Xt*Ft-$t*Kt,Dt.y=Ot.y+Xt*Kt+$t*Ft)):(Dt.x=Ot.x+Dt.r,Dt.y=Ot.y)}function k(Ct,Ot){var Dt=Ct.r+Ot.r-1e-6,Ft=Ot.x-Ct.x,Xt=Ot.y-Ct.y;return Dt>0&&Dt*Dt>Ft*Ft+Xt*Xt}function X(Ct){var Ot=Ct._,Dt=Ct.next._,Ft=Ot.r+Dt.r,Xt=(Ot.x*Dt.r+Dt.x*Ot.r)/Ft,Rt=(Ot.y*Dt.r+Dt.y*Ot.r)/Ft;return Xt*Xt+Rt*Rt}function et(Ct){this._=Ct,this.next=null,this.previous=null}function tt(Ct){if(!(Xt=(Ct=E(Ct)).length))return 0;var Ot,Dt,Ft,Xt,Rt,Kt,$t,le,Me,on,hn;if(Ot=Ct[0],Ot.x=0,Ot.y=0,!(Xt>1))return Ot.r;if(Dt=Ct[1],Ot.x=-Dt.r,Dt.x=Ot.r,Dt.y=0,!(Xt>2))return Ot.r+Dt.r;A(Dt,Ot,Ft=Ct[2]),Ot=new et(Ot),Dt=new et(Dt),Ft=new et(Ft),Ot.next=Ft.previous=Dt,Dt.next=Ot.previous=Ft,Ft.next=Dt.previous=Ot;t:for($t=3;$t<Xt;++$t){A(Ot._,Dt._,Ft=Ct[$t]),Ft=new et(Ft),le=Dt.next,Me=Ot.previous,on=Dt._.r,hn=Ot._.r;do if(on<=hn){if(k(le._,Ft._)){Dt=le,Ot.next=Dt,Dt.previous=Ot,--$t;continue t}on+=le._.r,le=le.next}else{if(k(Me._,Ft._)){Ot=Me,Ot.next=Dt,Dt.previous=Ot,--$t;continue t}hn+=Me._.r,Me=Me.previous}while(le!==Me.next);for(Ft.previous=Ot,Ft.next=Dt,Ot.next=Dt.previous=Dt=Ft,Rt=X(Ot);(Ft=Ft.next)!==Dt;)(Kt=X(Ft))<Rt&&(Ot=Ft,Rt=Kt);Dt=Ot.next}for(Ot=[Dt._],Ft=Dt;(Ft=Ft.next)!==Dt;)Ot.push(Ft._);for(Ft=o(Ot),$t=0;$t<Xt;++$t)Ot=Ct[$t],Ot.x-=Ft.x,Ot.y-=Ft.y;return Ft.r}var ft=function(Ct){return tt(Ct),Ct},st=z("IeU1"),vt=z("CSvP");function mt(Ct){return Math.sqrt(Ct.value)}var pt=function(){var Ct=null,Ot=1,Dt=1,Ft=vt.a;function Xt(Rt){return Rt.x=Ot/2,Rt.y=Dt/2,Ct?Rt.eachBefore(rt(Ct)).eachAfter(Bt(Ft,.5)).eachBefore(It(1)):Rt.eachBefore(rt(mt)).eachAfter(Bt(vt.a,1)).eachAfter(Bt(Ft,Rt.r/Math.min(Ot,Dt))).eachBefore(It(Math.min(Ot,Dt)/(2*Rt.r))),Rt}return Xt.radius=function(Rt){return arguments.length?(Ct=Object(st.a)(Rt),Xt):Ct},Xt.size=function(Rt){return arguments.length?(Ot=+Rt[0],Dt=+Rt[1],Xt):[Ot,Dt]},Xt.padding=function(Rt){return arguments.length?(Ft=typeof Rt=="function"?Rt:Object(vt.b)(+Rt),Xt):Ft},Xt};function rt(Ct){return function(Ot){Ot.children||(Ot.r=Math.max(0,+Ct(Ot)||0))}}function Bt(Ct,Ot){return function(Dt){if(Ft=Dt.children){var Ft,Xt,Rt=Ft.length,Kt=Ct(Dt)*Ot||0,$t;if(Kt)for(Xt=0;Xt<Rt;++Xt)Ft[Xt].r+=Kt;if($t=tt(Ft),Kt)for(Xt=0;Xt<Rt;++Xt)Ft[Xt].r-=Kt;Dt.r=$t+Kt}}}function It(Ct){return function(Ot){var Dt=Ot.parent;Ot.r*=Ct,Dt&&(Ot.x=Dt.x+Ct*Ot.x,Ot.y=Dt.y+Ct*Ot.y)}}var St=z("+Nd1"),H={depth:-1},ot={};function yt(Ct){return Ct.id}function xt(Ct){return Ct.parentId}var wt=function(){var Ct=yt,Ot=xt;function Dt(Ft){var Xt=Array.from(Ft),Rt=Xt.length,Kt,$t,le,Me,on,hn,Cn,He=new Map;for($t=0;$t<Rt;++$t)Kt=Xt[$t],on=Xt[$t]=new h.a(Kt),(hn=Ct(Kt,$t,Ft))!=null&&(hn+="")&&(Cn=on.id=hn,He.set(Cn,He.has(Cn)?ot:on)),(hn=Ot(Kt,$t,Ft))!=null&&(hn+="")&&(on.parent=hn);for($t=0;$t<Rt;++$t)if(on=Xt[$t],hn=on.parent){if(Me=He.get(hn),!Me)throw new Error("missing: "+hn);if(Me===ot)throw new Error("ambiguous: "+hn);Me.children?Me.children.push(on):Me.children=[on],on.parent=Me}else{if(le)throw new Error("multiple roots");le=on}if(!le)throw new Error("no root");if(le.parent=H,le.eachBefore(function(mn){mn.depth=mn.parent.depth+1,--Rt}).eachBefore(h.b),le.parent=null,Rt>0)throw new Error("cycle");return le}return Dt.id=function(Ft){return arguments.length?(Ct=Object(st.b)(Ft),Dt):Ct},Dt.parentId=function(Ft){return arguments.length?(Ot=Object(st.b)(Ft),Dt):Ot},Dt};function Q(Ct,Ot){return Ct.parent===Ot.parent?1:2}function ct(Ct){var Ot=Ct.children;return Ot?Ot[0]:Ct.t}function it(Ct){var Ot=Ct.children;return Ot?Ot[Ot.length-1]:Ct.t}function U(Ct,Ot,Dt){var Ft=Dt/(Ot.i-Ct.i);Ot.c-=Ft,Ot.s+=Dt,Ct.c+=Ft,Ot.z+=Dt,Ot.m+=Dt}function D(Ct){for(var Ot=0,Dt=0,Ft=Ct.children,Xt=Ft.length,Rt;--Xt>=0;)Rt=Ft[Xt],Rt.z+=Ot,Rt.m+=Ot,Ot+=Rt.s+(Dt+=Rt.c)}function W(Ct,Ot,Dt){return Ct.a.parent===Ot.parent?Ct.a:Dt}function P(Ct,Ot){this._=Ct,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Ot}P.prototype=Object.create(h.a.prototype);function m(Ct){for(var Ot=new P(Ct,0),Dt,Ft=[Ot],Xt,Rt,Kt,$t;Dt=Ft.pop();)if(Rt=Dt._.children)for(Dt.children=new Array($t=Rt.length),Kt=$t-1;Kt>=0;--Kt)Ft.push(Xt=Dt.children[Kt]=new P(Rt[Kt],Kt)),Xt.parent=Dt;return(Ot.parent=new P(null,0)).children=[Ot],Ot}var y=function(){var Ct=Q,Ot=1,Dt=1,Ft=null;function Xt(Me){var on=m(Me);if(on.eachAfter(Rt),on.parent.m=-on.z,on.eachBefore(Kt),Ft)Me.eachBefore(le);else{var hn=Me,Cn=Me,He=Me;Me.eachBefore(function(Hn){Hn.x<hn.x&&(hn=Hn),Hn.x>Cn.x&&(Cn=Hn),Hn.depth>He.depth&&(He=Hn)});var mn=hn===Cn?1:Ct(hn,Cn)/2,dn=mn-hn.x,Un=Ot/(Cn.x+mn+dn),Xn=Dt/(He.depth||1);Me.eachBefore(function(Hn){Hn.x=(Hn.x+dn)*Un,Hn.y=Hn.depth*Xn})}return Me}function Rt(Me){var on=Me.children,hn=Me.parent.children,Cn=Me.i?hn[Me.i-1]:null;if(on){D(Me);var He=(on[0].z+on[on.length-1].z)/2;Cn?(Me.z=Cn.z+Ct(Me._,Cn._),Me.m=Me.z-He):Me.z=He}else Cn&&(Me.z=Cn.z+Ct(Me._,Cn._));Me.parent.A=$t(Me,Cn,Me.parent.A||hn[0])}function Kt(Me){Me._.x=Me.z+Me.parent.m,Me.m+=Me.parent.m}function $t(Me,on,hn){if(on){for(var Cn=Me,He=Me,mn=on,dn=Cn.parent.children[0],Un=Cn.m,Xn=He.m,Hn=mn.m,_n=dn.m,$n;mn=it(mn),Cn=ct(Cn),mn&&Cn;)dn=ct(dn),He=it(He),He.a=Me,$n=mn.z+Hn-Cn.z-Un+Ct(mn._,Cn._),$n>0&&(U(W(mn,Me,hn),Me,$n),Un+=$n,Xn+=$n),Hn+=mn.m,Un+=Cn.m,_n+=dn.m,Xn+=He.m;mn&&!it(He)&&(He.t=mn,He.m+=Hn-Xn),Cn&&!ct(dn)&&(dn.t=Cn,dn.m+=Un-_n,hn=Me)}return hn}function le(Me){Me.x*=Ot,Me.y=Me.depth*Dt}return Xt.separation=function(Me){return arguments.length?(Ct=Me,Xt):Ct},Xt.size=function(Me){return arguments.length?(Ft=!1,Ot=+Me[0],Dt=+Me[1],Xt):Ft?null:[Ot,Dt]},Xt.nodeSize=function(Me){return arguments.length?(Ft=!0,Ot=+Me[0],Dt=+Me[1],Xt):Ft?[Ot,Dt]:null},Xt},V=z("tvR+"),J=function(Ct,Ot,Dt,Ft,Xt){var Rt=Ct.children,Kt,$t=Rt.length,le,Me=new Array($t+1);for(Me[0]=le=Kt=0;Kt<$t;++Kt)Me[Kt+1]=le+=Rt[Kt].value;on(0,$t,Ct.value,Ot,Dt,Ft,Xt);function on(hn,Cn,He,mn,dn,Un,Xn){if(hn>=Cn-1){var Hn=Rt[hn];Hn.x0=mn,Hn.y0=dn,Hn.x1=Un,Hn.y1=Xn;return}for(var _n=Me[hn],$n=He/2+_n,ir=hn+1,dr=Cn-1;ir<dr;){var xr=ir+dr>>>1;Me[xr]<$n?ir=xr+1:dr=xr}$n-Me[ir-1]<Me[ir]-$n&&hn+1<ir&&--ir;var Qr=Me[ir]-_n,Mr=He-Qr;if(Un-mn>Xn-dn){var Er=He?(mn*Mr+Un*Qr)/He:Un;on(hn,ir,Qr,mn,dn,Er,Xn),on(ir,Cn,Mr,Er,dn,Un,Xn)}else{var Dr=He?(dn*Mr+Xn*Qr)/He:Xn;on(hn,ir,Qr,mn,dn,Un,Dr),on(ir,Cn,Mr,mn,Dr,Un,Xn)}}},ht=z("FPPI"),gt=z("7IPS"),Mt=function(Ct,Ot,Dt,Ft,Xt){(Ct.depth&1?gt.a:ht.a)(Ct,Ot,Dt,Ft,Xt)},Lt=z("I4jL"),At=function Ct(Ot){function Dt(Ft,Xt,Rt,Kt,$t){if((le=Ft._squarify)&&le.ratio===Ot)for(var le,Me,on,hn,Cn=-1,He,mn=le.length,dn=Ft.value;++Cn<mn;){for(Me=le[Cn],on=Me.children,hn=Me.value=0,He=on.length;hn<He;++hn)Me.value+=on[hn].value;Me.dice?Object(ht.a)(Me,Xt,Rt,Kt,dn?Rt+=($t-Rt)*Me.value/dn:$t):Object(gt.a)(Me,Xt,Rt,dn?Xt+=(Kt-Xt)*Me.value/dn:Kt,$t),dn-=Me.value}else Ft._squarify=le=Object(Lt.c)(Ot,Ft,Xt,Rt,Kt,$t),le.ratio=Ot}return Dt.ratio=function(Ft){return Ct((Ft=+Ft)>1?Ft:1)},Dt}(Lt.b)},yqCL:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return xt});var lt=z("mrSG"),a=z("zJSt"),M=z("YuPD"),t=z("iTfj"),n=z("w02o"),d=z("sqD9"),S=z("4Olw"),b;(function(wt){wt.Left="Left",wt.Right="Right"})(b||(b={}));var h;(function(wt){wt.Line="line",wt.Column="column"})(h||(h={}));var E="left-axes-view",T="right-axes-view",o={nice:!0,label:{autoHide:!0,autoRotate:!1}},s=Object(lt.a)(Object(lt.a)({},o),{position:"left"}),u=Object(lt.a)(Object(lt.a)({},o),{position:"right",grid:null});function v(wt){return Object(t.get)(wt,"geometry")===h.Line}function C(wt){return Object(t.get)(wt,"geometry")===h.Column}function O(wt,Q,ct){return C(ct)?Object(M.b)({},{geometry:h.Column,label:ct.label&&ct.isRange?{content:function(U){var D;return(D=U[Q])===null||D===void 0?void 0:D.join("-")}}:void 0},ct):Object(lt.a)({geometry:h.Line},ct)}function j(wt,Q){var ct=wt[0],it=wt[1];if(Object(t.isArray)(Q)){var U=Q[0],D=Q[1];return[U,D]}var W=Object(t.get)(Q,ct),P=Object(t.get)(Q,it);return[W,P]}function p(wt,Q){return Q===b.Left?wt===!1?!1:Object(M.b)({},s,wt):Q===b.Right?wt===!1?!1:Object(M.b)({},u,wt):wt}var x=z("kXyF");function A(wt){var Q=wt.view,ct=wt.geometryOption,it=wt.yField,U=wt.legend,D=Object(t.get)(U,"marker"),W=Object(M.c)(Q,v(ct)?"line":"interval");if(!ct.seriesField){var P=W.getAttribute("color"),m=P.values[0],y=D||(v(ct)?{symbol:function(ht,gt,Mt){return[["M",ht-Mt,gt],["L",ht+Mt,gt]]},style:{lineWidth:2,r:6,stroke:m}}:{symbol:"square",style:{fill:m}});return[{value:it,name:Object(t.get)(Q,"options.scales."+it+".alias")||it,marker:y,isGeometry:!0,viewId:Q.id}]}var V=W.getGroupAttributes();return Object(t.reduce)(V,function(J,ht){var gt=x.Util.getLegendItems(Q,W,ht,Q.getTheme(),D);return J.concat(gt)},[])}var k=z("tKoa");function X(wt){var Q=wt.options,ct=wt.chart,it=Q.geometryOption,U=it.isStack,D=it.color,W=it.seriesField,P=it.groupField,m=it.isGroup,y=["xField","yField"];if(v(it)){Object(k.d)(Object(M.b)({},wt,{options:Object(lt.a)(Object(lt.a)(Object(lt.a)({},Object(M.l)(Q,y)),it),{line:{color:it.color,style:it.lineStyle}})})),Object(k.e)(Object(M.b)({},wt,{options:Object(lt.a)(Object(lt.a)(Object(lt.a)({},Object(M.l)(Q,y)),it),{point:it.point&&Object(lt.a)({color:D,shape:"circle"},it.point)})}));var V=[];m&&V.push({type:"dodge",dodgeBy:P||W,customOffset:0}),U&&V.push({type:"stack"}),V.length&&Object(t.each)(ct.geometries,function(J){J.adjust(V)})}return C(it)&&Object(k.c)(Object(M.b)({},wt,{options:Object(lt.a)(Object(lt.a)(Object(lt.a)({},Object(M.l)(Q,y)),it),{widthRatio:it.columnWidthRatio,interval:Object(lt.a)(Object(lt.a)({},Object(M.l)(it,["color"])),{style:it.columnStyle})})})),wt}var et=function(Q,ct){var it=ct[0],U=ct[1],D=Q.getOptions().data,W=Q.getXScale(),P=Object(t.size)(D);if(!(!W||!P)){var m=!0,y=Object(t.valuesOfKey)(D,W.field),V=m?y:y.reverse(),J=Object(t.size)(V),ht=Math.floor(it*(J-1)),gt=Math.floor(U*(J-1));Q.filter(W.field,function(Mt){var Lt=V.indexOf(Mt);return Lt>-1?Object(M.i)(Lt,ht,gt):!0}),Q.render(!0)}};function tt(wt){var Q,ct=wt.options,it=ct.geometryOptions,U=it===void 0?[]:it,D=ct.xField,W=ct.yField,P=Object(t.every)(U,function(m){var y=m.geometry;return y===h.Line||y===void 0});return Object(M.b)({},{options:{geometryOptions:[],meta:(Q={},Q[D]={type:"cat",sync:!0,range:P?[0,1]:void 0},Q),tooltip:{showMarkers:P,showCrosshairs:P,shared:!0,crosshairs:{type:"x"}},interactions:P?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},wt,{options:{yAxis:j(W,ct.yAxis),geometryOptions:[O(D,W[0],U[0]),O(D,W[1],U[1])],annotations:j(W,ct.annotations)}})}function ft(wt){var Q=wt.chart,ct=wt.options,it=ct.xField,U=ct.yField,D=ct.geometryOptions,W=ct.data,P=ct.tooltip,m={line:0,column:1},y=[Object(lt.a)(Object(lt.a)({},D[0]),{id:E,data:W[0],yField:U[0]}),Object(lt.a)(Object(lt.a)({},D[1]),{id:T,data:W[1],yField:U[1]})];return y.sort(function(V,J){return-m[V.geometry]+m[J.geometry]}).forEach(function(V){var J=V.id,ht=V.data,gt=V.yField,Mt=C(V)&&V.isPercent,Lt=Mt?Object(d.b)(ht,gt,it,gt):ht,At=Q.createView({id:J}).data(Lt),Ct=Mt?Object(lt.a)({formatter:function(Dt){return{name:Dt[V.seriesField]||gt,value:(Number(Dt[gt])*100).toFixed(2)+"%"}}},P):P;X({chart:At,options:{xField:it,yField:gt,tooltip:Ct,geometryOption:V}})}),wt}function st(wt){var Q,ct=wt.chart,it=wt.options,U=it.geometryOptions,D=((Q=ct.getTheme())===null||Q===void 0?void 0:Q.colors10)||[],W=0;return ct.once("beforepaint",function(){Object(t.each)(U,function(P,m){var y=Object(S.a)(ct,m===0?E:T);if(!P.color){var V=y.getGroupScales(),J=Object(t.get)(V,[0,"values","length"],1),ht=D.slice(W,W+J).concat(m===0?[]:D);y.geometries.forEach(function(gt){P.seriesField?gt.color(P.seriesField,ht):gt.color(ht[0])}),W+=J}}),ct.render(!0)}),wt}function vt(wt){var Q,ct,it=wt.chart,U=wt.options,D=U.xAxis,W=U.yAxis,P=U.xField,m=U.yField;return Object(n.f)((Q={},Q[P]=D,Q[m[0]]=W[0],Q))(Object(M.b)({},wt,{chart:Object(S.a)(it,E)})),Object(n.f)((ct={},ct[P]=D,ct[m[1]]=W[1],ct))(Object(M.b)({},wt,{chart:Object(S.a)(it,T)})),wt}function mt(wt){var Q=wt.chart,ct=wt.options,it=Object(S.a)(Q,E),U=Object(S.a)(Q,T),D=ct.xField,W=ct.yField,P=ct.xAxis,m=ct.yAxis;return Q.axis(D,!1),Q.axis(W[0],!1),Q.axis(W[1],!1),it.axis(D,P),it.axis(W[0],p(m[0],b.Left)),U.axis(D,!1),U.axis(W[1],p(m[1],b.Right)),wt}function pt(wt){var Q=wt.chart,ct=wt.options,it=ct.tooltip,U=Object(S.a)(Q,E),D=Object(S.a)(Q,T);return Q.tooltip(it),U.tooltip({shared:!0}),D.tooltip({shared:!0}),wt}function rt(wt){var Q=wt.chart;return Object(n.c)(Object(M.b)({},wt,{chart:Object(S.a)(Q,E)})),Object(n.c)(Object(M.b)({},wt,{chart:Object(S.a)(Q,T)})),wt}function Bt(wt){var Q=wt.chart,ct=wt.options,it=ct.annotations,U=Object(t.get)(it,[0]),D=Object(t.get)(it,[1]);return Object(n.b)(U)(Object(M.b)({},wt,{chart:Object(S.a)(Q,E),options:{annotations:U}})),Object(n.b)(D)(Object(M.b)({},wt,{chart:Object(S.a)(Q,T),options:{annotations:D}})),wt}function It(wt){var Q=wt.chart;return Object(n.a)(Object(M.b)({},wt,{chart:Object(S.a)(Q,E)})),Object(n.a)(Object(M.b)({},wt,{chart:Object(S.a)(Q,T)})),wt}function St(wt){var Q=wt.chart,ct=wt.options,it=ct.yAxis;return Object(n.e)(Object(M.b)({},wt,{chart:Object(S.a)(Q,E),options:{yAxis:it[0]}})),Object(n.e)(Object(M.b)({},wt,{chart:Object(S.a)(Q,T),options:{yAxis:it[1]}})),wt}function H(wt){var Q=wt.chart,ct=wt.options,it=ct.legend,U=ct.geometryOptions,D=ct.yField,W=ct.data,P=Object(S.a)(Q,E),m=Object(S.a)(Q,T);return it===!1?Q.legend(!1):Object(t.isObject)(it)&&it.custom===!0?Q.legend(it):(Q.once("beforepaint",function(){var y=W[0].length?A({view:P,geometryOption:U[0],yField:D[0],legend:it}):[],V=W[1].length?A({view:m,geometryOption:U[1],yField:D[1],legend:it}):[];Q.legend(Object(M.b)({},it,{custom:!0,items:y.concat(V)}))}),Q.on("legend-item:click",function(y){var V=Object(t.get)(y,"gEvent.delegateObject",{});if(V&&V.item){var J=V.item,ht=J.value,gt=J.isGeometry,Mt=J.viewId;if(gt){var Lt=Object(t.findIndex)(D,function(Ot){return Ot===ht});if(Lt>-1){var At=Object(t.get)(Object(S.a)(Q,Mt),"geometries");Object(t.each)(At,function(Ot){Ot.changeVisible(!V.item.unchecked)})}}else{var Ct=Object(t.get)(Q.getController("legend"),"option.items",[]);Object(t.each)(Q.views,function(Ot){var Dt=Ot.getGroupScales();Object(t.each)(Dt,function(Ft){Ft.values&&Ft.values.indexOf(ht)>-1&&Ot.filter(Ft.field,function(Xt){var Rt=Object(t.find)(Ct,function(Kt){return Kt.value===Xt});return!Rt.unchecked})}),Q.render(!0)})}}})),wt}function ot(wt){var Q=wt.chart,ct=wt.options,it=ct.slider,U=Object(S.a)(Q,E),D=Object(S.a)(Q,T);return it&&(U.option("slider",it),U.on("slider:valuechanged",function(W){var P=W.event,m=P.value,y=P.originValue;Object(t.isEqual)(m,y)||et(D,m)}),Q.once("afterpaint",function(){if(!Object(t.isBoolean)(it)){var W=it.start,P=it.end;(W||P)&&et(D,[W,P])}})),wt}function yt(wt){return Object(M.e)(tt,ft,vt,mt,St,pt,rt,Bt,n.j,It,st,H,ot)(wt)}var xt=function(wt){Object(lt.b)(Q,wt);function Q(){var ct=wt!==null&&wt.apply(this,arguments)||this;return ct.type="dual-axes",ct}return Q.prototype.getDefaultOptions=function(){return Object(M.b)({},wt.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},Q.prototype.getSchemaAdaptor=function(){return yt},Q}(a.a)},z4Vf:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return u});var lt=z("mrSG"),a=z("zJSt"),M=z("YuPD"),t=z("iTfj"),n=z("w02o"),d=z("tKoa");function S(v){var C=v.chart,O=v.options,j=O.data,p=O.sectorStyle,x=O.color;return C.data(j),Object(M.e)(d.c)(Object(M.b)({},v,{options:{marginRatio:1,interval:{style:p,color:x}}})),v}function b(v){var C=v.chart,O=v.options,j=O.label,p=O.xField,x=Object(M.c)(C,"interval");if(j===!1)x.label(!1);else if(Object(t.isObject)(j)){var A=j.callback,k=j.fields,X=Object(lt.c)(j,["callback","fields"]),et=X.offset,tt=X.layout;(et===void 0||et>=0)&&(tt=tt?Object(t.isArray)(tt)?tt:[tt]:[],X.layout=Object(t.filter)(tt,function(ft){return ft.type!=="limit-in-shape"}),X.layout.length||delete X.layout),x.label({fields:k||[p],callback:A,cfg:Object(M.p)(X)})}else Object(M.k)(M.a.WARN,j===null,"the label option must be an Object."),x.label({fields:[p]});return v}function h(v){var C=v.chart,O=v.options,j=O.legend,p=O.seriesField;return j===!1?C.legend(!1):p&&C.legend(p,j),v}function E(v){var C=v.chart,O=v.options,j=O.radius,p=O.innerRadius;return C.coordinate({type:"polar",cfg:{radius:j,innerRadius:p}}),v}function T(v){var C,O=v.options,j=O.xAxis,p=O.yAxis,x=O.xField,A=O.yField;return Object(M.e)(Object(n.f)((C={},C[x]=j,C[A]=p,C)))(v)}function o(v){var C=v.chart,O=v.options,j=O.xAxis,p=O.yAxis,x=O.xField,A=O.yField;return j?C.axis(x,j):C.axis(x,!1),p?C.axis(A,p):C.axis(A,!1),v}function s(v){Object(M.e)(S,T,b,E,o,h,n.k,n.c,n.a,n.j,Object(n.b)(),n.i)(v)}var u=function(v){Object(lt.b)(C,v);function C(){var O=v!==null&&v.apply(this,arguments)||this;return O.type="rose",O}return C.prototype.changeData=function(O){this.updateOption({data:O}),this.chart.changeData(O)},C.prototype.getDefaultOptions=function(){return Object(M.b)({},v.prototype.getDefaultOptions.call(this),{xAxis:!1,yAxis:!1,legend:{position:"right",offsetX:-10},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]})},C.prototype.getSchemaAdaptor=function(){return s},C}(a.a)},zJSt:function(wr,Vt,z){"use strict";z.d(Vt,"a",function(){return h});var lt=z("mrSG"),a=z("kXyF"),M=z("iTfj"),t=z("f6Jy"),n=z("u3os"),d=z.n(n),S=z("YuPD"),b="data-chart-source-type",h=function(E){Object(lt.b)(T,E);function T(o,s){var u=E.call(this)||this;return u.type="base",u.container=typeof o=="string"?document.getElementById(o):o,u.options=Object(S.b)({},u.getDefaultOptions(),s),u.createG2(),u.bindEvents(),u}return T.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},T.prototype.createG2=function(){var o=this.options,s=o.width,u=o.height,v=o.padding,C=o.appendPadding,O=o.renderer,j=o.pixelRatio,p=o.syncViewPadding,x=o.supportCSSTransform,A=o.limitInPlot;this.chart=new a.Chart(Object(lt.a)(Object(lt.a)({container:this.container,autoFit:!1},this.getChartSize(s,u)),{padding:v,appendPadding:C,renderer:O,pixelRatio:j,localRefresh:!1,syncViewPadding:p,supportCSSTransform:x,limitInPlot:A})),this.container.setAttribute(b,"G2Plot")},T.prototype.getChartSize=function(o,s){var u=Object(S.g)(this.container);return{width:o||u.width||400,height:s||u.height||400}},T.prototype.bindEvents=function(){var o=this;this.chart&&this.chart.on("*",function(s){(s==null?void 0:s.type)&&o.emit(s.type,s)})},T.prototype.getDefaultOptions=function(){return T.getDefaultOptions()},T.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},T.prototype.update=function(o){this.updateOption(o),this.render()},T.prototype.updateOption=function(o){this.options=Object(S.b)({},this.options,o)},T.prototype.setState=function(o,s,u){u===void 0&&(u=!0);var v=Object(S.f)(this.chart);Object(M.each)(v,function(C){s(C.getData())&&C.setState(o,u)})},T.prototype.getStates=function(){var o=Object(S.f)(this.chart),s=[];return Object(M.each)(o,function(u){var v=u.getData(),C=u.getStates();Object(M.each)(C,function(O){s.push({data:v,state:O,geometry:u.geometry,element:u})})}),s},T.prototype.changeData=function(o){this.update({data:o})},T.prototype.changeSize=function(o,s){this.chart.changeSize(o,s)},T.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(b)},T.prototype.execAdaptor=function(){var o=this.getSchemaAdaptor(),s=this.options,u=s.padding,v=s.appendPadding;this.chart.padding=u,this.chart.appendPadding=v,o({chart:this.chart,options:this.options})},T.prototype.triggerResize=function(){this.chart.forceFit()},T.prototype.bindSizeSensor=function(){var o=this;if(!this.unbind){var s=this.options.autoFit,u=s===void 0?!0:s;u&&(this.unbind=Object(n.bind)(this.container,function(){var v=Object(S.g)(o.container),C=v.width,O=v.height;(C!==o.chart.width||O!==o.chart.height)&&o.triggerResize()}))}},T.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},T}(t.a)},zK8m:function(wr,Vt,z){"use strict";var lt=z("mrSG"),a=z("iTfj"),M=z("6JdA"),t=z("sstZ"),n=z("aSjE"),d=z("LmB6"),S=M.a.transform,b="matrix",h=["zIndex","capture","visible","type"],E=["repeat"],T=":",o="*";function s(j){for(var p=[],x=0;x<j.length;x++)Object(a.isArray)(j[x])?p.push([].concat(j[x])):p.push(j[x]);return p}function u(j,p){var x={},A=p.attrs;for(var k in j)x[k]=A[k];return x}function v(j,p){var x={},A=p.attr();return Object(a.each)(j,function(k,X){E.indexOf(X)===-1&&!Object(a.isEqual)(A[X],k)&&(x[X]=k)}),x}function C(j,p){if(p.onFrame)return j;var x=p.startTime,A=p.delay,k=p.duration,X=Object.prototype.hasOwnProperty;return Object(a.each)(j,function(et){x+A<et.startTime+et.delay+et.duration&&k>et.delay&&Object(a.each)(p.toAttrs,function(tt,ft){X.call(et.toAttrs,ft)&&(delete et.toAttrs[ft],delete et.fromAttrs[ft])})}),j}var O=function(j){Object(lt.b)(p,j);function p(x){var A=j.call(this,x)||this;A.attrs={};var k=A.getDefaultAttrs();return Object(a.mix)(k,x.attrs),A.attrs=k,A.initAttrs(k),A.initAnimate(),A}return p.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},p.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},p.prototype.onCanvasChange=function(x){},p.prototype.initAttrs=function(x){},p.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},p.prototype.isGroup=function(){return!1},p.prototype.getParent=function(){return this.get("parent")},p.prototype.getCanvas=function(){return this.get("canvas")},p.prototype.attr=function(){for(var x,A=[],k=0;k<arguments.length;k++)A[k]=arguments[k];var X=A[0],et=A[1];if(!X)return this.attrs;if(Object(a.isObject)(X)){for(var tt in X)this.setAttr(tt,X[tt]);return this.afterAttrsChange(X),this}return A.length===2?(this.setAttr(X,et),this.afterAttrsChange((x={},x[X]=et,x)),this):this.attrs[X]},p.prototype.isClipped=function(x,A){var k=this.getClip();return k&&!k.isHit(x,A)},p.prototype.setAttr=function(x,A){var k=this.attrs[x];k!==A&&(this.attrs[x]=A,this.onAttrChange(x,A,k))},p.prototype.onAttrChange=function(x,A,k){x==="matrix"&&this.set("totalMatrix",null)},p.prototype.afterAttrsChange=function(x){if(this.cfg.isClipShape){var A=this.cfg.applyTo;A&&A.onCanvasChange("clip")}else this.onCanvasChange("attr")},p.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},p.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},p.prototype.setZIndex=function(x){this.set("zIndex",x);var A=this.getParent();return A&&A.sort(),this},p.prototype.toFront=function(){var x=this.getParent();if(!!x){var A=x.getChildren(),k=this.get("el"),X=A.indexOf(this);A.splice(X,1),A.push(this),this.onCanvasChange("zIndex")}},p.prototype.toBack=function(){var x=this.getParent();if(!!x){var A=x.getChildren(),k=this.get("el"),X=A.indexOf(this);A.splice(X,1),A.unshift(this),this.onCanvasChange("zIndex")}},p.prototype.remove=function(x){x===void 0&&(x=!0);var A=this.getParent();A?(Object(t.j)(A.getChildren(),this),A.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),x&&this.destroy()},p.prototype.resetMatrix=function(){this.attr(b,this.getDefaultMatrix()),this.onCanvasChange("matrix")},p.prototype.getMatrix=function(){return this.attr(b)},p.prototype.setMatrix=function(x){this.attr(b,x),this.onCanvasChange("matrix")},p.prototype.getTotalMatrix=function(){var x=this.cfg.totalMatrix;if(!x){var A=this.attr("matrix"),k=this.cfg.parentMatrix;k&&A?x=Object(n.b)(k,A):x=A||k,this.set("totalMatrix",x)}return x},p.prototype.applyMatrix=function(x){var A=this.attr("matrix"),k=null;x&&A?k=Object(n.b)(x,A):k=A||x,this.set("totalMatrix",k),this.set("parentMatrix",x)},p.prototype.getDefaultMatrix=function(){return null},p.prototype.applyToMatrix=function(x){var A=this.attr("matrix");return A?Object(n.c)(A,x):x},p.prototype.invertFromMatrix=function(x){var A=this.attr("matrix");if(A){var k=Object(n.a)(A);if(k)return Object(n.c)(k,x)}return x},p.prototype.setClip=function(x){var A=this.getCanvas(),k=null;if(x){var X=this.getShapeBase(),et=Object(a.upperFirst)(x.type),tt=X[et];tt&&(k=new tt({type:x.type,isClipShape:!0,applyTo:this,attrs:x.attrs,canvas:A}))}return this.set("clipShape",k),this.onCanvasChange("clip"),k},p.prototype.getClip=function(){var x=this.cfg.clipShape;return x||null},p.prototype.clone=function(){var x=this,A=this.attrs,k={};Object(a.each)(A,function(tt,ft){Object(a.isArray)(A[ft])?k[ft]=s(A[ft]):k[ft]=A[ft]});var X=this.constructor,et=new X({attrs:k});return Object(a.each)(h,function(tt){et.set(tt,x.get(tt))}),et},p.prototype.destroy=function(){var x=this.destroyed;x||(this.attrs={},j.prototype.destroy.call(this))},p.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},p.prototype.animate=function(){for(var x=[],A=0;A<arguments.length;A++)x[A]=arguments[A];var k=this.isCanvas&&this.isCanvas();if(!(!k&&!this.get("canvas"))){this.set("animating",!0);var X=this.get("timeline");X||(X=this.get("canvas").get("timeline"),this.set("timeline",X));var et=this.get("animations")||[];X.timer||X.initTimer();var tt=x[0],ft=x[1],st=x[2],vt=st===void 0?"easeLinear":st,mt=x[3],pt=mt===void 0?a.noop:mt,rt=x[4],Bt=rt===void 0?0:rt,It,St,H,ot,yt;Object(a.isFunction)(tt)?(It=tt,tt={}):Object(a.isObject)(tt)&&tt.onFrame&&(It=tt.onFrame,St=tt.repeat),Object(a.isObject)(ft)?(yt=ft,ft=yt.duration,vt=yt.easing||"easeLinear",Bt=yt.delay||0,St=yt.repeat||St||!1,pt=yt.callback||a.noop,H=yt.pauseCallback||a.noop,ot=yt.resumeCallback||a.noop):(Object(a.isNumber)(pt)&&(Bt=pt,pt=null),Object(a.isFunction)(vt)?(pt=vt,vt="easeLinear"):vt=vt||"easeLinear");var xt=v(tt,this),wt={fromAttrs:u(xt,this),toAttrs:xt,duration:ft,easing:vt,repeat:St,callback:pt,pauseCallback:H,resumeCallback:ot,delay:Bt,startTime:X.getTime(),id:Object(a.uniqueId)(),onFrame:It,pathFormatted:!1};et.length>0?et=C(et,wt):X.addAnimator(this),et.push(wt),this.set("animations",et),this.set("_pause",{isPaused:!1})}},p.prototype.stopAnimate=function(x){var A=this;x===void 0&&(x=!0);var k=this.get("animations");Object(a.each)(k,function(X){x&&(X.onFrame?A.attr(X.onFrame(1)):A.attr(X.toAttrs)),X.callback&&X.callback()}),this.set("animating",!1),this.set("animations",[])},p.prototype.pauseAnimate=function(){var x=this.get("timeline"),A=this.get("animations"),k=x.getTime();return Object(a.each)(A,function(X){X._paused=!0,X._pauseTime=k,X.pauseCallback&&X.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:k}),this},p.prototype.resumeAnimate=function(){var x=this.get("timeline"),A=x.getTime(),k=this.get("animations"),X=this.get("_pause").pauseTime;return Object(a.each)(k,function(et){et.startTime=et.startTime+(A-X),et._paused=!1,et._pauseTime=null,et.resumeCallback&&et.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",k),this},p.prototype.emitDelegation=function(x,A){var k=this,X=A.propagationPath,et=this.getEvents(),tt;x==="mouseenter"?tt=A.fromShape:x==="mouseleave"&&(tt=A.toShape);for(var ft=function(rt){var Bt=X[rt],It=Bt.get("name");if(It){if((Bt.isGroup()||Bt.isCanvas&&Bt.isCanvas())&&tt&&Object(t.g)(Bt,tt))return"break";Object(a.isArray)(It)?Object(a.each)(It,function(St){k.emitDelegateEvent(Bt,St,A)}):st.emitDelegateEvent(Bt,It,A)}},st=this,vt=0;vt<X.length;vt++){var mt=ft(vt);if(mt==="break")break}},p.prototype.emitDelegateEvent=function(x,A,k){var X=this.getEvents(),et=A+T+k.type;(X[et]||X[o])&&(k.name=et,k.currentTarget=x,k.delegateTarget=this,k.delegateObject=x.get("delegateObject"),this.emit(et,k))},p.prototype.translate=function(x,A){x===void 0&&(x=0),A===void 0&&(A=0);var k=this.getMatrix(),X=S(k,[["t",x,A]]);return this.setMatrix(X),this},p.prototype.move=function(x,A){var k=this.attr("x")||0,X=this.attr("y")||0;return this.translate(x-k,A-X),this},p.prototype.moveTo=function(x,A){return this.move(x,A)},p.prototype.scale=function(x,A){var k=this.getMatrix(),X=S(k,[["s",x,A||x]]);return this.setMatrix(X),this},p.prototype.rotate=function(x){var A=this.getMatrix(),k=S(A,[["r",x]]);return this.setMatrix(k),this},p.prototype.rotateAtStart=function(x){var A=this.attr(),k=A.x,X=A.y,et=this.getMatrix(),tt=S(et,[["t",-k,-X],["r",x],["t",k,X]]);return this.setMatrix(tt),this},p.prototype.rotateAtPoint=function(x,A,k){var X=this.getMatrix(),et=S(X,[["t",-x,-A],["r",k],["t",x,A]]);return this.setMatrix(et),this},p}(d.a);Vt.a=O}}]);
